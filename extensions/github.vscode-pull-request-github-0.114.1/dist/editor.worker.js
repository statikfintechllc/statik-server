var wl=Object.defineProperty;var s=(yr,Rs)=>wl(yr,"name",{value:Rs,configurable:!0});(()=>{var yr={3338:(qe,Ce,v)=>{"use strict";v.d(Ce,{E4:s(()=>ue,"E4"),Fy:s(()=>ee,"Fy"),Hw:s(()=>q,"Hw"),U9:s(()=>B,"U9"),VE:s(()=>d,"VE"),aI:s(()=>o,"aI"),c1:s(()=>re,"c1"),dM:s(()=>g,"dM"),j3:s(()=>se,"j3"),kj:s(()=>y,"kj"),n:s(()=>T,"n"),nK:s(()=>C,"nK"),pN:s(()=>Y,"pN")});function N(L,A=0){return L[L.length-(1+A)]}s(N,"tail");function K(L){if(L.length===0)throw new Error("Invalid tail call");return[L.slice(0,L.length-1),L[L.length-1]]}s(K,"tail2");function o(L,A,z=(b,S)=>b===S){if(L===A)return!0;if(!L||!A||L.length!==A.length)return!1;for(let b=0,S=L.length;b<S;b++)if(!z(L[b],A[b]))return!1;return!0}s(o,"equals");function Q(L,A){const z=L.length-1;A<z&&(L[A]=L[z]),L.pop()}s(Q,"removeFastWithoutKeepingOrder");function V(L,A,z){return E(L.length,b=>z(L[b],A))}s(V,"binarySearch");function E(L,A){let z=0,b=L-1;for(;z<=b;){const S=(z+b)/2|0,$=A(S);if($<0)z=S+1;else if($>0)b=S-1;else return S}return-(z+1)}s(E,"binarySearch2");function u(L,A,z){if(L=L|0,L>=A.length)throw new TypeError("invalid index");const b=A[Math.floor(A.length*Math.random())],S=[],$=[],te=[];for(const ce of A){const Te=z(ce,b);Te<0?S.push(ce):Te>0?$.push(ce):te.push(ce)}return L<S.length?u(L,S,z):L<S.length+te.length?te[0]:u(L-(S.length+te.length),$,z)}s(u,"quickSelect");function G(L,A){const z=[];let b;for(const S of L.slice(0).sort(A))!b||A(b[0],S)!==0?(b=[S],z.push(b)):b.push(S);return z}s(G,"groupBy");function*T(L,A){let z,b;for(const S of L)b!==void 0&&A(b,S)?z.push(S):(z&&(yield z),z=[S]),b=S;z&&(yield z)}s(T,"groupAdjacentBy");function Y(L,A){for(let z=0;z<=L.length;z++)A(z===0?void 0:L[z-1],z===L.length?void 0:L[z])}s(Y,"forEachAdjacent");function y(L,A){for(let z=0;z<L.length;z++)A(z===0?void 0:L[z-1],L[z],z+1===L.length?void 0:L[z+1])}s(y,"forEachWithNeighbors");function W(L){return L.filter(A=>!!A)}s(W,"coalesce");function P(L){let A=0;for(let z=0;z<L.length;z++)L[z]&&(L[A]=L[z],A+=1);L.length=A}s(P,"coalesceInPlace");function O(L){return!Array.isArray(L)||L.length===0}s(O,"isFalsyOrEmpty");function M(L){return Array.isArray(L)&&L.length>0}s(M,"isNonEmptyArray");function g(L,A=z=>z){const z=new Set;return L.filter(b=>{const S=A(b);return z.has(S)?!1:(z.add(S),!0)})}s(g,"distinct");function ee(L,A){return L.length>0?L[0]:A}s(ee,"firstOrDefault");function H(L,A){let z=typeof A=="number"?L:0;typeof A=="number"?z=L:(z=0,A=L);const b=[];if(z<=A)for(let S=z;S<A;S++)b.push(S);else for(let S=z;S>A;S--)b.push(S);return b}s(H,"range");function C(L,A,z){const b=L.slice(0,A),S=L.slice(A);return b.concat(z,S)}s(C,"arrayInsert");function R(L,A){const z=L.indexOf(A);z>-1&&(L.splice(z,1),L.unshift(A))}s(R,"pushToStart");function ie(L,A){const z=L.indexOf(A);z>-1&&(L.splice(z,1),L.push(A))}s(ie,"pushToEnd");function ue(L,A){for(const z of A)L.push(z)}s(ue,"pushMany");function xe(L){return Array.isArray(L)?L:[L]}s(xe,"asArray");function he(L,A,z){const b=c(L,A),S=L.length,$=z.length;L.length=S+$;for(let te=S-1;te>=b;te--)L[te+$]=L[te];for(let te=0;te<$;te++)L[te+b]=z[te]}s(he,"insertInto");function I(L,A,z,b){const S=c(L,A);let $=L.splice(S,z);return $===void 0&&($=[]),he(L,S,b),$}s(I,"splice");function c(L,A){return A<0?Math.max(A+L.length,0):Math.min(A,L.length)}s(c,"getActualStartIndex");var f;(function(L){function A($){return $<0}s(A,"isLessThan"),L.isLessThan=A;function z($){return $<=0}s(z,"isLessThanOrEqual"),L.isLessThanOrEqual=z;function b($){return $>0}s(b,"isGreaterThan"),L.isGreaterThan=b;function S($){return $===0}s(S,"isNeitherLessOrGreaterThan"),L.isNeitherLessOrGreaterThan=S,L.greaterThan=1,L.lessThan=-1,L.neitherLessOrGreaterThan=0})(f||(f={}));function d(L,A){return(z,b)=>A(L(z),L(b))}s(d,"compareBy");function x(...L){return(A,z)=>{for(const b of L){const S=b(A,z);if(!f.isNeitherLessOrGreaterThan(S))return S}return f.neitherLessOrGreaterThan}}s(x,"tieBreakComparators");const B=s((L,A)=>L-A,"numberComparator"),D=s((L,A)=>B(L?1:0,A?1:0),"booleanComparator");function q(L){return(A,z)=>-L(A,z)}s(q,"reverseOrder");const Se=class Se{constructor(A){this.items=A,this.firstIdx=0,this.lastIdx=this.items.length-1}get length(){return this.lastIdx-this.firstIdx+1}takeWhile(A){let z=this.firstIdx;for(;z<this.items.length&&A(this.items[z]);)z++;const b=z===this.firstIdx?null:this.items.slice(this.firstIdx,z);return this.firstIdx=z,b}takeFromEndWhile(A){let z=this.lastIdx;for(;z>=0&&A(this.items[z]);)z--;const b=z===this.lastIdx?null:this.items.slice(z+1,this.lastIdx+1);return this.lastIdx=z,b}peek(){if(this.length!==0)return this.items[this.firstIdx]}dequeue(){const A=this.items[this.firstIdx];return this.firstIdx++,A}takeCount(A){const z=this.items.slice(this.firstIdx,this.firstIdx+A);return this.firstIdx+=A,z}};s(Se,"ArrayQueue");let se=Se;const Ae=class Ae{constructor(A){this.iterate=A}toArray(){const A=[];return this.iterate(z=>(A.push(z),!0)),A}filter(A){return new Ae(z=>this.iterate(b=>A(b)?z(b):!0))}map(A){return new Ae(z=>this.iterate(b=>z(A(b))))}findLast(A){let z;return this.iterate(b=>(A(b)&&(z=b),!0)),z}findLastMaxBy(A){let z,b=!0;return this.iterate(S=>((b||f.isGreaterThan(A(S,z)))&&(b=!1,z=S),!0)),z}};s(Ae,"CallbackIterable"),Ae.empty=new Ae(A=>{});let re=Ae;const we=class we{constructor(A){this._indexMap=A}static createSortPermutation(A,z){const b=Array.from(A.keys()).sort((S,$)=>z(A[S],A[$]));return new we(b)}apply(A){return A.map((z,b)=>A[this._indexMap[b]])}inverse(){const A=this._indexMap.slice();for(let z=0;z<this._indexMap.length;z++)A[this._indexMap[z]]=z;return new we(A)}};s(we,"Permutation");let _e=we},7393:(qe,Ce,v)=>{"use strict";v.d(Ce,{Uk:s(()=>N,"Uk"),XP:s(()=>V,"XP"),hw:s(()=>E,"hw"),iM:s(()=>Q,"iM"),lx:s(()=>o,"lx"),vJ:s(()=>u,"vJ")});function N(O,M){const g=K(O,M);if(g!==-1)return O[g]}s(N,"findLast");function K(O,M,g=O.length-1){for(let ee=g;ee>=0;ee--){const H=O[ee];if(M(H))return ee}return-1}s(K,"findLastIdx");function o(O,M){const g=Q(O,M);return g===-1?void 0:O[g]}s(o,"findLastMonotonous");function Q(O,M,g=0,ee=O.length){let H=g,C=ee;for(;H<C;){const R=Math.floor((H+C)/2);M(O[R])?H=R+1:C=R}return H-1}s(Q,"findLastIdxMonotonous");function V(O,M){const g=E(O,M);return g===O.length?void 0:O[g]}s(V,"findFirstMonotonous");function E(O,M,g=0,ee=O.length){let H=g,C=ee;for(;H<C;){const R=Math.floor((H+C)/2);M(O[R])?C=R:H=R+1}return H}s(E,"findFirstIdxMonotonousOrArrLen");const P=class P{constructor(M){this._array=M,this._findLastMonotonousLastIdx=0}findLastMonotonous(M){if(P.assertInvariants){if(this._prevFindLastPredicate){for(const ee of this._array)if(this._prevFindLastPredicate(ee)&&!M(ee))throw new Error("MonotonousArray: current predicate must be weaker than (or equal to) the previous predicate.")}this._prevFindLastPredicate=M}const g=Q(this._array,M,this._findLastMonotonousLastIdx);return this._findLastMonotonousLastIdx=g+1,g===-1?void 0:this._array[g]}};s(P,"MonotonousArray"),P.assertInvariants=!1;let u=P;function G(O,M){if(O.length===0)return;let g=O[0];for(let ee=1;ee<O.length;ee++){const H=O[ee];M(H,g)>0&&(g=H)}return g}s(G,"findFirstMax");function T(O,M){if(O.length===0)return;let g=O[0];for(let ee=1;ee<O.length;ee++){const H=O[ee];M(H,g)>=0&&(g=H)}return g}s(T,"findLastMax");function Y(O,M){return G(O,(g,ee)=>-M(g,ee))}s(Y,"findFirstMin");function y(O,M){if(O.length===0)return-1;let g=0;for(let ee=1;ee<O.length;ee++){const H=O[ee];M(H,O[g])>0&&(g=ee)}return g}s(y,"findMaxIdx");function W(O,M){for(const g of O){const ee=M(g);if(ee!==void 0)return ee}}s(W,"mapFindFirst")},7110:(qe,Ce,v)=>{"use strict";v.d(Ce,{Ft:s(()=>V,"Ft"),Xo:s(()=>E,"Xo"),ok:s(()=>K,"ok"),xb:s(()=>o,"xb")});var N=v(4327);function K(u,G){if(!u)throw new Error(G?`Assertion failed (${G})`:"Assertion Failed")}s(K,"ok");function o(u,G="Unreachable"){throw new Error(G)}s(o,"assertNever");function Q(u){u||onUnexpectedError(new BugIndicatingError("Soft Assertion Failed"))}s(Q,"softAssert");function V(u){if(!u()){debugger;u(),(0,N.dz)(new N.D7("Assertion Failed"))}}s(V,"assertFn");function E(u,G){let T=0;for(;T<u.length-1;){const Y=u[T],y=u[T+1];if(!G(Y,y))return!1;T++}return!0}s(E,"checkAdjacentItems")},1946:(qe,Ce,v)=>{"use strict";v.d(Ce,{vb:s(()=>C,"vb"),uC:s(()=>R,"uC"),Qg:s(()=>u,"Qg"),$6:s(()=>ie,"$6")});var N=v(8903),K=v(4327),o=v(2106),Q=v(9235),V=v(3339);const E=Symbol("MicrotaskDelay");function u(z){return!!z&&typeof z.then=="function"}s(u,"isThenable");function G(z){const b=new CancellationTokenSource,S=z(b.token),$=new Promise((te,ce)=>{const Te=b.token.onCancellationRequested(()=>{Te.dispose(),ce(new CancellationError)});Promise.resolve(S).then(Ne=>{Te.dispose(),b.dispose(),te(Ne)},Ne=>{Te.dispose(),b.dispose(),ce(Ne)})});return new class{cancel(){b.cancel(),b.dispose()}then(te,ce){return $.then(te,ce)}catch(te){return this.then(void 0,te)}finally(te){return $.finally(te)}}}s(G,"createCancelablePromise");function T(z,b,S){return new Promise(($,te)=>{const ce=b.onCancellationRequested(()=>{ce.dispose(),$(S)});z.then($,te).finally(()=>ce.dispose())})}s(T,"raceCancellation");const B=class B{constructor(){this.isDisposed=!1,this.activePromise=null,this.queuedPromise=null,this.queuedPromiseFactory=null}queue(b){if(this.isDisposed)return Promise.reject(new Error("Throttler is disposed"));if(this.activePromise){if(this.queuedPromiseFactory=b,!this.queuedPromise){const S=s(()=>{if(this.queuedPromise=null,this.isDisposed)return;const $=this.queue(this.queuedPromiseFactory);return this.queuedPromiseFactory=null,$},"onComplete");this.queuedPromise=new Promise($=>{this.activePromise.then(S,S).then($)})}return new Promise((S,$)=>{this.queuedPromise.then(S,$)})}return this.activePromise=b(),new Promise((S,$)=>{this.activePromise.then(te=>{this.activePromise=null,S(te)},te=>{this.activePromise=null,$(te)})})}dispose(){this.isDisposed=!0}};s(B,"Throttler");let Y=B;const y=s((z,b)=>{let S=!0;const $=setTimeout(()=>{S=!1,b()},z);return{isTriggered:s(()=>S,"isTriggered"),dispose:s(()=>{clearTimeout($),S=!1},"dispose")}},"timeoutDeferred"),W=s(z=>{let b=!0;return queueMicrotask(()=>{b&&(b=!1,z())}),{isTriggered:s(()=>b,"isTriggered"),dispose:s(()=>{b=!1},"dispose")}},"microtaskDeferred"),D=class D{constructor(b){this.defaultDelay=b,this.deferred=null,this.completionPromise=null,this.doResolve=null,this.doReject=null,this.task=null}trigger(b,S=this.defaultDelay){this.task=b,this.cancelTimeout(),this.completionPromise||(this.completionPromise=new Promise((te,ce)=>{this.doResolve=te,this.doReject=ce}).then(()=>{if(this.completionPromise=null,this.doResolve=null,this.task){const te=this.task;return this.task=null,te()}}));const $=s(()=>{var te;this.deferred=null,(te=this.doResolve)==null||te.call(this,null)},"fn");return this.deferred=S===MicrotaskDelay?W($):y(S,$),this.completionPromise}isTriggered(){var b;return!!((b=this.deferred)!=null&&b.isTriggered())}cancel(){var b;this.cancelTimeout(),this.completionPromise&&((b=this.doReject)==null||b.call(this,new CancellationError),this.completionPromise=null)}cancelTimeout(){var b;(b=this.deferred)==null||b.dispose(),this.deferred=null}dispose(){this.cancel()}};s(D,"Delayer");let P=D;const q=class q{constructor(b){this.delayer=new P(b),this.throttler=new Y}trigger(b,S){return this.delayer.trigger(()=>this.throttler.queue(b),S)}cancel(){this.delayer.cancel()}dispose(){this.delayer.dispose(),this.throttler.dispose()}};s(q,"ThrottledDelayer");let O=q;function M(z,b){return b?new Promise((S,$)=>{const te=setTimeout(()=>{ce.dispose(),S()},z),ce=b.onCancellationRequested(()=>{clearTimeout(te),ce.dispose(),$(new CancellationError)})}):G(S=>M(z,S))}s(M,"timeout");function g(z,b=0,S){const $=setTimeout(()=>{z(),S&&te.dispose()},b),te=toDisposable(()=>{clearTimeout($),S==null||S.deleteAndLeak(te)});return S==null||S.add(te),te}s(g,"disposableTimeout");function ee(z,b=$=>!!$,S=null){let $=0;const te=z.length,ce=s(()=>{if($>=te)return Promise.resolve(S);const Te=z[$++];return Promise.resolve(Te()).then(He=>b(He)?Promise.resolve(He):ce())},"loop");return ce()}s(ee,"first");const se=class se{constructor(b,S){this._isDisposed=!1,this._token=-1,typeof b=="function"&&typeof S=="number"&&this.setIfNotSet(b,S)}dispose(){this.cancel(),this._isDisposed=!0}cancel(){this._token!==-1&&(clearTimeout(this._token),this._token=-1)}cancelAndSet(b,S){if(this._isDisposed)throw new BugIndicatingError("Calling 'cancelAndSet' on a disposed TimeoutTimer");this.cancel(),this._token=setTimeout(()=>{this._token=-1,b()},S)}setIfNotSet(b,S){if(this._isDisposed)throw new BugIndicatingError("Calling 'setIfNotSet' on a disposed TimeoutTimer");this._token===-1&&(this._token=setTimeout(()=>{this._token=-1,b()},S))}};s(se,"TimeoutTimer");let H=se;const re=class re{constructor(){this.disposable=void 0,this.isDisposed=!1}cancel(){var b;(b=this.disposable)==null||b.dispose(),this.disposable=void 0}cancelAndSet(b,S,$=globalThis){if(this.isDisposed)throw new K.D7("Calling 'cancelAndSet' on a disposed IntervalTimer");this.cancel();const te=$.setInterval(()=>{b()},S);this.disposable=(0,Q.s)(()=>{$.clearInterval(te),this.disposable=void 0})}dispose(){this.cancel(),this.isDisposed=!0}};s(re,"IntervalTimer");let C=re;const _e=class _e{constructor(b,S){this.timeoutToken=-1,this.runner=b,this.timeout=S,this.timeoutHandler=this.onTimeout.bind(this)}dispose(){this.cancel(),this.runner=null}cancel(){this.isScheduled()&&(clearTimeout(this.timeoutToken),this.timeoutToken=-1)}schedule(b=this.timeout){this.cancel(),this.timeoutToken=setTimeout(this.timeoutHandler,b)}get delay(){return this.timeout}set delay(b){this.timeout=b}isScheduled(){return this.timeoutToken!==-1}onTimeout(){this.timeoutToken=-1,this.runner&&this.doRun()}doRun(){var b;(b=this.runner)==null||b.call(this)}};s(_e,"RunOnceScheduler");let R=_e,ie,ue;(function(){typeof globalThis.requestIdleCallback!="function"||typeof globalThis.cancelIdleCallback!="function"?ue=s((z,b)=>{(0,V._p)(()=>{if(S)return;const $=Date.now()+15;b(Object.freeze({didTimeout:!0,timeRemaining(){return Math.max(0,$-Date.now())}}))});let S=!1;return{dispose(){S||(S=!0)}}},"_runWhenIdle"):ue=s((z,b,S)=>{const $=z.requestIdleCallback(b,typeof S=="number"?{timeout:S}:void 0);let te=!1;return{dispose(){te||(te=!0,z.cancelIdleCallback($))}}},"_runWhenIdle"),ie=s(z=>ue(globalThis,z),"runWhenGlobalIdle")})();const Se=class Se{constructor(b,S){this._didRun=!1,this._executor=()=>{try{this._value=S()}catch($){this._error=$}finally{this._didRun=!0}},this._handle=ue(b,()=>this._executor())}dispose(){this._handle.dispose()}get value(){if(this._didRun||(this._handle.dispose(),this._executor()),this._error)throw this._error;return this._value}get isInitialized(){return this._didRun}};s(Se,"AbstractIdleValue");let xe=Se;const Ae=class Ae extends xe{constructor(b){super(globalThis,b)}};s(Ae,"GlobalIdleValue");let he=Ae;const we=class we{get isRejected(){var b;return((b=this.outcome)==null?void 0:b.outcome)===1}get isSettled(){return!!this.outcome}constructor(){this.p=new Promise((b,S)=>{this.completeCallback=b,this.errorCallback=S})}complete(b){return new Promise(S=>{this.completeCallback(b),this.outcome={outcome:0,value:b},S()})}error(b){return new Promise(S=>{this.errorCallback(b),this.outcome={outcome:1,value:b},S()})}cancel(){return this.error(new CancellationError)}};s(we,"DeferredPromise");let I=we;var c;(function(z){async function b($){let te;const ce=await Promise.all($.map(Te=>Te.then(Ne=>Ne,Ne=>{te||(te=Ne)})));if(typeof te!="undefined")throw te;return ce}s(b,"settled"),z.settled=b;function S($){return new Promise(async(te,ce)=>{try{await $(te,ce)}catch(Te){ce(Te)}})}s(S,"withAsyncBody"),z.withAsyncBody=S})(c||(c={}));const L=class L{static fromArray(b){return new L(S=>{S.emitMany(b)})}static fromPromise(b){return new L(async S=>{S.emitMany(await b)})}static fromPromises(b){return new L(async S=>{await Promise.all(b.map(async $=>S.emitOne(await $)))})}static merge(b){return new L(async S=>{await Promise.all(b.map(async $=>{for await(const te of $)S.emitOne(te)}))})}constructor(b,S){this._state=0,this._results=[],this._error=null,this._onReturn=S,this._onStateChanged=new o.vl,queueMicrotask(async()=>{const $={emitOne:s(te=>this.emitOne(te),"emitOne"),emitMany:s(te=>this.emitMany(te),"emitMany"),reject:s(te=>this.reject(te),"reject")};try{await Promise.resolve(b($)),this.resolve()}catch(te){this.reject(te)}finally{$.emitOne=void 0,$.emitMany=void 0,$.reject=void 0}})}[Symbol.asyncIterator](){let b=0;return{next:s(async()=>{do{if(this._state===2)throw this._error;if(b<this._results.length)return{done:!1,value:this._results[b++]};if(this._state===1)return{done:!0,value:void 0};await o.Jh.toPromise(this._onStateChanged.event)}while(!0)},"next"),return:s(async()=>{var S;return(S=this._onReturn)==null||S.call(this),{done:!0,value:void 0}},"return")}}static map(b,S){return new L(async $=>{for await(const te of b)$.emitOne(S(te))})}map(b){return L.map(this,b)}static filter(b,S){return new L(async $=>{for await(const te of b)S(te)&&$.emitOne(te)})}filter(b){return L.filter(this,b)}static coalesce(b){return L.filter(b,S=>!!S)}coalesce(){return L.coalesce(this)}static async toPromise(b){const S=[];for await(const $ of b)S.push($);return S}toPromise(){return L.toPromise(this)}emitOne(b){this._state===0&&(this._results.push(b),this._onStateChanged.fire())}emitMany(b){this._state===0&&(this._results=this._results.concat(b),this._onStateChanged.fire())}resolve(){this._state===0&&(this._state=1,this._onStateChanged.fire())}reject(b){this._state===0&&(this._state=2,this._error=b,this._onStateChanged.fire())}};s(L,"AsyncIterableObject"),L.EMPTY=L.fromArray([]);let f=L;const A=class A extends f{constructor(b,S){super(S),this._source=b}cancel(){this._source.cancel()}};s(A,"CancelableAsyncIterableObject");let d=A;function x(z){const b=new CancellationTokenSource,S=z(b.token);return new d(b,async $=>{const te=b.token.onCancellationRequested(()=>{te.dispose(),b.dispose(),$.reject(new CancellationError)});try{for await(const ce of S){if(b.token.isCancellationRequested)return;$.emitOne(ce)}te.dispose(),b.dispose()}catch(ce){te.dispose(),b.dispose(),$.reject(ce)}})}s(x,"createCancelableAsyncIterable")},2802:(qe,Ce,v)=>{"use strict";v.d(Ce,{$l:s(()=>E,"$l"),Gs:s(()=>y,"Gs"),MB:s(()=>V,"MB"),Sw:s(()=>T,"Sw"),bb:s(()=>G,"bb"),gN:s(()=>u,"gN"),pJ:s(()=>Y,"pJ")});var N=v(3946);const K=typeof Buffer!="undefined",o=new N.d(()=>new Uint8Array(256));let Q;const W=class W{static wrap(O){return K&&!Buffer.isBuffer(O)&&(O=Buffer.from(O.buffer,O.byteOffset,O.byteLength)),new W(O)}constructor(O){this.buffer=O,this.byteLength=this.buffer.byteLength}toString(){return K?this.buffer.toString():(Q||(Q=new TextDecoder),Q.decode(this.buffer))}};s(W,"VSBuffer");let V=W;function E(P,O){return P[O+0]<<0>>>0|P[O+1]<<8>>>0}s(E,"readUInt16LE");function u(P,O,M){P[M+0]=O&255,O=O>>>8,P[M+1]=O&255}s(u,"writeUInt16LE");function G(P,O){return P[O]*16777216+P[O+1]*65536+P[O+2]*256+P[O+3]}s(G,"readUInt32BE");function T(P,O,M){P[M+3]=O,O=O>>>8,P[M+2]=O,O=O>>>8,P[M+1]=O,O=O>>>8,P[M]=O}s(T,"writeUInt32BE");function Y(P,O){return P[O]}s(Y,"readUInt8");function y(P,O,M){P[M]=O}s(y,"writeUInt8")},6260:(qe,Ce,v)=>{"use strict";v.d(Ce,{VV:s(()=>o,"VV"),o5:s(()=>K,"o5")});function N(E){return E}s(N,"identity");const Q=class Q{constructor(u,G){this.lastCache=void 0,this.lastArgKey=void 0,typeof u=="function"?(this._fn=u,this._computeKey=N):(this._fn=G,this._computeKey=u.getCacheKey)}get(u){const G=this._computeKey(u);return this.lastArgKey!==G&&(this.lastArgKey=G,this.lastCache=this._fn(u)),this.lastCache}};s(Q,"LRUCachedFunction");let K=Q;const V=class V{get cachedValues(){return this._map}constructor(u,G){this._map=new Map,this._map2=new Map,typeof u=="function"?(this._fn=u,this._computeKey=N):(this._fn=G,this._computeKey=u.getCacheKey)}get(u){const G=this._computeKey(u);if(this._map2.has(G))return this._map2.get(G);const T=this._fn(u);return this._map.set(u,T),this._map2.set(G,T),T}};s(V,"CachedFunction");let o=V},8903:(qe,Ce,v)=>{"use strict";v.d(Ce,{Qi:s(()=>V,"Qi")});var N=v(2106);const K=Object.freeze(function(T,Y){const y=setTimeout(T.bind(Y),0);return{dispose(){clearTimeout(y)}}});var o;(function(T){function Y(y){return y===T.None||y===T.Cancelled||y instanceof Q?!0:!y||typeof y!="object"?!1:typeof y.isCancellationRequested=="boolean"&&typeof y.onCancellationRequested=="function"}s(Y,"isCancellationToken"),T.isCancellationToken=Y,T.None=Object.freeze({isCancellationRequested:!1,onCancellationRequested:N.Jh.None}),T.Cancelled=Object.freeze({isCancellationRequested:!0,onCancellationRequested:K})})(o||(o={}));const u=class u{constructor(){this._isCancelled=!1,this._emitter=null}cancel(){this._isCancelled||(this._isCancelled=!0,this._emitter&&(this._emitter.fire(void 0),this.dispose()))}get isCancellationRequested(){return this._isCancelled}get onCancellationRequested(){return this._isCancelled?K:(this._emitter||(this._emitter=new N.vl),this._emitter.event)}dispose(){this._emitter&&(this._emitter.dispose(),this._emitter=null)}};s(u,"MutableToken");let Q=u;const G=class G{constructor(Y){this._token=void 0,this._parentListener=void 0,this._parentListener=Y&&Y.onCancellationRequested(this.cancel,this)}get token(){return this._token||(this._token=new Q),this._token}cancel(){this._token?this._token instanceof Q&&this._token.cancel():this._token=o.Cancelled}dispose(Y=!1){var y;Y&&this.cancel(),(y=this._parentListener)==null||y.dispose(),this._token?this._token instanceof Q&&this._token.dispose():this._token=o.None}};s(G,"CancellationTokenSource");let V=G;function E(T){const Y=new V;return T.add({dispose(){Y.cancel()}}),Y.token}s(E,"cancelOnDispose")},1869:(qe,Ce,v)=>{"use strict";v.d(Ce,{W:s(()=>u,"W")});var N=v(9359);const K=Object.create(null);function o(G,T){if((0,N.Kg)(T)){const Y=K[T];if(Y===void 0)throw new Error(`${G} references an unknown codicon: ${T}`);T=Y}return K[G]=T,{id:G}}s(o,"register");function Q(){return K}s(Q,"getCodiconFontCharacters");const V={add:o("add",6e4),plus:o("plus",6e4),gistNew:o("gist-new",6e4),repoCreate:o("repo-create",6e4),lightbulb:o("lightbulb",60001),lightBulb:o("light-bulb",60001),repo:o("repo",60002),repoDelete:o("repo-delete",60002),gistFork:o("gist-fork",60003),repoForked:o("repo-forked",60003),gitPullRequest:o("git-pull-request",60004),gitPullRequestAbandoned:o("git-pull-request-abandoned",60004),recordKeys:o("record-keys",60005),keyboard:o("keyboard",60005),tag:o("tag",60006),gitPullRequestLabel:o("git-pull-request-label",60006),tagAdd:o("tag-add",60006),tagRemove:o("tag-remove",60006),person:o("person",60007),personFollow:o("person-follow",60007),personOutline:o("person-outline",60007),personFilled:o("person-filled",60007),gitBranch:o("git-branch",60008),gitBranchCreate:o("git-branch-create",60008),gitBranchDelete:o("git-branch-delete",60008),sourceControl:o("source-control",60008),mirror:o("mirror",60009),mirrorPublic:o("mirror-public",60009),star:o("star",60010),starAdd:o("star-add",60010),starDelete:o("star-delete",60010),starEmpty:o("star-empty",60010),comment:o("comment",60011),commentAdd:o("comment-add",60011),alert:o("alert",60012),warning:o("warning",60012),search:o("search",60013),searchSave:o("search-save",60013),logOut:o("log-out",60014),signOut:o("sign-out",60014),logIn:o("log-in",60015),signIn:o("sign-in",60015),eye:o("eye",60016),eyeUnwatch:o("eye-unwatch",60016),eyeWatch:o("eye-watch",60016),circleFilled:o("circle-filled",60017),primitiveDot:o("primitive-dot",60017),closeDirty:o("close-dirty",60017),debugBreakpoint:o("debug-breakpoint",60017),debugBreakpointDisabled:o("debug-breakpoint-disabled",60017),debugHint:o("debug-hint",60017),terminalDecorationSuccess:o("terminal-decoration-success",60017),primitiveSquare:o("primitive-square",60018),edit:o("edit",60019),pencil:o("pencil",60019),info:o("info",60020),issueOpened:o("issue-opened",60020),gistPrivate:o("gist-private",60021),gitForkPrivate:o("git-fork-private",60021),lock:o("lock",60021),mirrorPrivate:o("mirror-private",60021),close:o("close",60022),removeClose:o("remove-close",60022),x:o("x",60022),repoSync:o("repo-sync",60023),sync:o("sync",60023),clone:o("clone",60024),desktopDownload:o("desktop-download",60024),beaker:o("beaker",60025),microscope:o("microscope",60025),vm:o("vm",60026),deviceDesktop:o("device-desktop",60026),file:o("file",60027),fileText:o("file-text",60027),more:o("more",60028),ellipsis:o("ellipsis",60028),kebabHorizontal:o("kebab-horizontal",60028),mailReply:o("mail-reply",60029),reply:o("reply",60029),organization:o("organization",60030),organizationFilled:o("organization-filled",60030),organizationOutline:o("organization-outline",60030),newFile:o("new-file",60031),fileAdd:o("file-add",60031),newFolder:o("new-folder",60032),fileDirectoryCreate:o("file-directory-create",60032),trash:o("trash",60033),trashcan:o("trashcan",60033),history:o("history",60034),clock:o("clock",60034),folder:o("folder",60035),fileDirectory:o("file-directory",60035),symbolFolder:o("symbol-folder",60035),logoGithub:o("logo-github",60036),markGithub:o("mark-github",60036),github:o("github",60036),terminal:o("terminal",60037),console:o("console",60037),repl:o("repl",60037),zap:o("zap",60038),symbolEvent:o("symbol-event",60038),error:o("error",60039),stop:o("stop",60039),variable:o("variable",60040),symbolVariable:o("symbol-variable",60040),array:o("array",60042),symbolArray:o("symbol-array",60042),symbolModule:o("symbol-module",60043),symbolPackage:o("symbol-package",60043),symbolNamespace:o("symbol-namespace",60043),symbolObject:o("symbol-object",60043),symbolMethod:o("symbol-method",60044),symbolFunction:o("symbol-function",60044),symbolConstructor:o("symbol-constructor",60044),symbolBoolean:o("symbol-boolean",60047),symbolNull:o("symbol-null",60047),symbolNumeric:o("symbol-numeric",60048),symbolNumber:o("symbol-number",60048),symbolStructure:o("symbol-structure",60049),symbolStruct:o("symbol-struct",60049),symbolParameter:o("symbol-parameter",60050),symbolTypeParameter:o("symbol-type-parameter",60050),symbolKey:o("symbol-key",60051),symbolText:o("symbol-text",60051),symbolReference:o("symbol-reference",60052),goToFile:o("go-to-file",60052),symbolEnum:o("symbol-enum",60053),symbolValue:o("symbol-value",60053),symbolRuler:o("symbol-ruler",60054),symbolUnit:o("symbol-unit",60054),activateBreakpoints:o("activate-breakpoints",60055),archive:o("archive",60056),arrowBoth:o("arrow-both",60057),arrowDown:o("arrow-down",60058),arrowLeft:o("arrow-left",60059),arrowRight:o("arrow-right",60060),arrowSmallDown:o("arrow-small-down",60061),arrowSmallLeft:o("arrow-small-left",60062),arrowSmallRight:o("arrow-small-right",60063),arrowSmallUp:o("arrow-small-up",60064),arrowUp:o("arrow-up",60065),bell:o("bell",60066),bold:o("bold",60067),book:o("book",60068),bookmark:o("bookmark",60069),debugBreakpointConditionalUnverified:o("debug-breakpoint-conditional-unverified",60070),debugBreakpointConditional:o("debug-breakpoint-conditional",60071),debugBreakpointConditionalDisabled:o("debug-breakpoint-conditional-disabled",60071),debugBreakpointDataUnverified:o("debug-breakpoint-data-unverified",60072),debugBreakpointData:o("debug-breakpoint-data",60073),debugBreakpointDataDisabled:o("debug-breakpoint-data-disabled",60073),debugBreakpointLogUnverified:o("debug-breakpoint-log-unverified",60074),debugBreakpointLog:o("debug-breakpoint-log",60075),debugBreakpointLogDisabled:o("debug-breakpoint-log-disabled",60075),briefcase:o("briefcase",60076),broadcast:o("broadcast",60077),browser:o("browser",60078),bug:o("bug",60079),calendar:o("calendar",60080),caseSensitive:o("case-sensitive",60081),check:o("check",60082),checklist:o("checklist",60083),chevronDown:o("chevron-down",60084),chevronLeft:o("chevron-left",60085),chevronRight:o("chevron-right",60086),chevronUp:o("chevron-up",60087),chromeClose:o("chrome-close",60088),chromeMaximize:o("chrome-maximize",60089),chromeMinimize:o("chrome-minimize",60090),chromeRestore:o("chrome-restore",60091),circleOutline:o("circle-outline",60092),circle:o("circle",60092),debugBreakpointUnverified:o("debug-breakpoint-unverified",60092),terminalDecorationIncomplete:o("terminal-decoration-incomplete",60092),circleSlash:o("circle-slash",60093),circuitBoard:o("circuit-board",60094),clearAll:o("clear-all",60095),clippy:o("clippy",60096),closeAll:o("close-all",60097),cloudDownload:o("cloud-download",60098),cloudUpload:o("cloud-upload",60099),code:o("code",60100),collapseAll:o("collapse-all",60101),colorMode:o("color-mode",60102),commentDiscussion:o("comment-discussion",60103),creditCard:o("credit-card",60105),dash:o("dash",60108),dashboard:o("dashboard",60109),database:o("database",60110),debugContinue:o("debug-continue",60111),debugDisconnect:o("debug-disconnect",60112),debugPause:o("debug-pause",60113),debugRestart:o("debug-restart",60114),debugStart:o("debug-start",60115),debugStepInto:o("debug-step-into",60116),debugStepOut:o("debug-step-out",60117),debugStepOver:o("debug-step-over",60118),debugStop:o("debug-stop",60119),debug:o("debug",60120),deviceCameraVideo:o("device-camera-video",60121),deviceCamera:o("device-camera",60122),deviceMobile:o("device-mobile",60123),diffAdded:o("diff-added",60124),diffIgnored:o("diff-ignored",60125),diffModified:o("diff-modified",60126),diffRemoved:o("diff-removed",60127),diffRenamed:o("diff-renamed",60128),diff:o("diff",60129),diffSidebyside:o("diff-sidebyside",60129),discard:o("discard",60130),editorLayout:o("editor-layout",60131),emptyWindow:o("empty-window",60132),exclude:o("exclude",60133),extensions:o("extensions",60134),eyeClosed:o("eye-closed",60135),fileBinary:o("file-binary",60136),fileCode:o("file-code",60137),fileMedia:o("file-media",60138),filePdf:o("file-pdf",60139),fileSubmodule:o("file-submodule",60140),fileSymlinkDirectory:o("file-symlink-directory",60141),fileSymlinkFile:o("file-symlink-file",60142),fileZip:o("file-zip",60143),files:o("files",60144),filter:o("filter",60145),flame:o("flame",60146),foldDown:o("fold-down",60147),foldUp:o("fold-up",60148),fold:o("fold",60149),folderActive:o("folder-active",60150),folderOpened:o("folder-opened",60151),gear:o("gear",60152),gift:o("gift",60153),gistSecret:o("gist-secret",60154),gist:o("gist",60155),gitCommit:o("git-commit",60156),gitCompare:o("git-compare",60157),compareChanges:o("compare-changes",60157),gitMerge:o("git-merge",60158),githubAction:o("github-action",60159),githubAlt:o("github-alt",60160),globe:o("globe",60161),grabber:o("grabber",60162),graph:o("graph",60163),gripper:o("gripper",60164),heart:o("heart",60165),home:o("home",60166),horizontalRule:o("horizontal-rule",60167),hubot:o("hubot",60168),inbox:o("inbox",60169),issueReopened:o("issue-reopened",60171),issues:o("issues",60172),italic:o("italic",60173),jersey:o("jersey",60174),json:o("json",60175),kebabVertical:o("kebab-vertical",60176),key:o("key",60177),law:o("law",60178),lightbulbAutofix:o("lightbulb-autofix",60179),linkExternal:o("link-external",60180),link:o("link",60181),listOrdered:o("list-ordered",60182),listUnordered:o("list-unordered",60183),liveShare:o("live-share",60184),loading:o("loading",60185),location:o("location",60186),mailRead:o("mail-read",60187),mail:o("mail",60188),markdown:o("markdown",60189),megaphone:o("megaphone",60190),mention:o("mention",60191),milestone:o("milestone",60192),gitPullRequestMilestone:o("git-pull-request-milestone",60192),mortarBoard:o("mortar-board",60193),move:o("move",60194),multipleWindows:o("multiple-windows",60195),mute:o("mute",60196),noNewline:o("no-newline",60197),note:o("note",60198),octoface:o("octoface",60199),openPreview:o("open-preview",60200),package:o("package",60201),paintcan:o("paintcan",60202),pin:o("pin",60203),play:o("play",60204),run:o("run",60204),plug:o("plug",60205),preserveCase:o("preserve-case",60206),preview:o("preview",60207),project:o("project",60208),pulse:o("pulse",60209),question:o("question",60210),quote:o("quote",60211),radioTower:o("radio-tower",60212),reactions:o("reactions",60213),references:o("references",60214),refresh:o("refresh",60215),regex:o("regex",60216),remoteExplorer:o("remote-explorer",60217),remote:o("remote",60218),remove:o("remove",60219),replaceAll:o("replace-all",60220),replace:o("replace",60221),repoClone:o("repo-clone",60222),repoForcePush:o("repo-force-push",60223),repoPull:o("repo-pull",60224),repoPush:o("repo-push",60225),report:o("report",60226),requestChanges:o("request-changes",60227),rocket:o("rocket",60228),rootFolderOpened:o("root-folder-opened",60229),rootFolder:o("root-folder",60230),rss:o("rss",60231),ruby:o("ruby",60232),saveAll:o("save-all",60233),saveAs:o("save-as",60234),save:o("save",60235),screenFull:o("screen-full",60236),screenNormal:o("screen-normal",60237),searchStop:o("search-stop",60238),server:o("server",60240),settingsGear:o("settings-gear",60241),settings:o("settings",60242),shield:o("shield",60243),smiley:o("smiley",60244),sortPrecedence:o("sort-precedence",60245),splitHorizontal:o("split-horizontal",60246),splitVertical:o("split-vertical",60247),squirrel:o("squirrel",60248),starFull:o("star-full",60249),starHalf:o("star-half",60250),symbolClass:o("symbol-class",60251),symbolColor:o("symbol-color",60252),symbolConstant:o("symbol-constant",60253),symbolEnumMember:o("symbol-enum-member",60254),symbolField:o("symbol-field",60255),symbolFile:o("symbol-file",60256),symbolInterface:o("symbol-interface",60257),symbolKeyword:o("symbol-keyword",60258),symbolMisc:o("symbol-misc",60259),symbolOperator:o("symbol-operator",60260),symbolProperty:o("symbol-property",60261),wrench:o("wrench",60261),wrenchSubaction:o("wrench-subaction",60261),symbolSnippet:o("symbol-snippet",60262),tasklist:o("tasklist",60263),telescope:o("telescope",60264),textSize:o("text-size",60265),threeBars:o("three-bars",60266),thumbsdown:o("thumbsdown",60267),thumbsup:o("thumbsup",60268),tools:o("tools",60269),triangleDown:o("triangle-down",60270),triangleLeft:o("triangle-left",60271),triangleRight:o("triangle-right",60272),triangleUp:o("triangle-up",60273),twitter:o("twitter",60274),unfold:o("unfold",60275),unlock:o("unlock",60276),unmute:o("unmute",60277),unverified:o("unverified",60278),verified:o("verified",60279),versions:o("versions",60280),vmActive:o("vm-active",60281),vmOutline:o("vm-outline",60282),vmRunning:o("vm-running",60283),watch:o("watch",60284),whitespace:o("whitespace",60285),wholeWord:o("whole-word",60286),window:o("window",60287),wordWrap:o("word-wrap",60288),zoomIn:o("zoom-in",60289),zoomOut:o("zoom-out",60290),listFilter:o("list-filter",60291),listFlat:o("list-flat",60292),listSelection:o("list-selection",60293),selection:o("selection",60293),listTree:o("list-tree",60294),debugBreakpointFunctionUnverified:o("debug-breakpoint-function-unverified",60295),debugBreakpointFunction:o("debug-breakpoint-function",60296),debugBreakpointFunctionDisabled:o("debug-breakpoint-function-disabled",60296),debugStackframeActive:o("debug-stackframe-active",60297),circleSmallFilled:o("circle-small-filled",60298),debugStackframeDot:o("debug-stackframe-dot",60298),terminalDecorationMark:o("terminal-decoration-mark",60298),debugStackframe:o("debug-stackframe",60299),debugStackframeFocused:o("debug-stackframe-focused",60299),debugBreakpointUnsupported:o("debug-breakpoint-unsupported",60300),symbolString:o("symbol-string",60301),debugReverseContinue:o("debug-reverse-continue",60302),debugStepBack:o("debug-step-back",60303),debugRestartFrame:o("debug-restart-frame",60304),debugAlt:o("debug-alt",60305),callIncoming:o("call-incoming",60306),callOutgoing:o("call-outgoing",60307),menu:o("menu",60308),expandAll:o("expand-all",60309),feedback:o("feedback",60310),gitPullRequestReviewer:o("git-pull-request-reviewer",60310),groupByRefType:o("group-by-ref-type",60311),ungroupByRefType:o("ungroup-by-ref-type",60312),account:o("account",60313),gitPullRequestAssignee:o("git-pull-request-assignee",60313),bellDot:o("bell-dot",60314),debugConsole:o("debug-console",60315),library:o("library",60316),output:o("output",60317),runAll:o("run-all",60318),syncIgnored:o("sync-ignored",60319),pinned:o("pinned",60320),githubInverted:o("github-inverted",60321),serverProcess:o("server-process",60322),serverEnvironment:o("server-environment",60323),pass:o("pass",60324),issueClosed:o("issue-closed",60324),stopCircle:o("stop-circle",60325),playCircle:o("play-circle",60326),record:o("record",60327),debugAltSmall:o("debug-alt-small",60328),vmConnect:o("vm-connect",60329),cloud:o("cloud",60330),merge:o("merge",60331),export:o("export",60332),graphLeft:o("graph-left",60333),magnet:o("magnet",60334),notebook:o("notebook",60335),redo:o("redo",60336),checkAll:o("check-all",60337),pinnedDirty:o("pinned-dirty",60338),passFilled:o("pass-filled",60339),circleLargeFilled:o("circle-large-filled",60340),circleLarge:o("circle-large",60341),circleLargeOutline:o("circle-large-outline",60341),combine:o("combine",60342),gather:o("gather",60342),table:o("table",60343),variableGroup:o("variable-group",60344),typeHierarchy:o("type-hierarchy",60345),typeHierarchySub:o("type-hierarchy-sub",60346),typeHierarchySuper:o("type-hierarchy-super",60347),gitPullRequestCreate:o("git-pull-request-create",60348),runAbove:o("run-above",60349),runBelow:o("run-below",60350),notebookTemplate:o("notebook-template",60351),debugRerun:o("debug-rerun",60352),workspaceTrusted:o("workspace-trusted",60353),workspaceUntrusted:o("workspace-untrusted",60354),workspaceUnknown:o("workspace-unknown",60355),terminalCmd:o("terminal-cmd",60356),terminalDebian:o("terminal-debian",60357),terminalLinux:o("terminal-linux",60358),terminalPowershell:o("terminal-powershell",60359),terminalTmux:o("terminal-tmux",60360),terminalUbuntu:o("terminal-ubuntu",60361),terminalBash:o("terminal-bash",60362),arrowSwap:o("arrow-swap",60363),copy:o("copy",60364),personAdd:o("person-add",60365),filterFilled:o("filter-filled",60366),wand:o("wand",60367),debugLineByLine:o("debug-line-by-line",60368),inspect:o("inspect",60369),layers:o("layers",60370),layersDot:o("layers-dot",60371),layersActive:o("layers-active",60372),compass:o("compass",60373),compassDot:o("compass-dot",60374),compassActive:o("compass-active",60375),azure:o("azure",60376),issueDraft:o("issue-draft",60377),gitPullRequestClosed:o("git-pull-request-closed",60378),gitPullRequestDraft:o("git-pull-request-draft",60379),debugAll:o("debug-all",60380),debugCoverage:o("debug-coverage",60381),runErrors:o("run-errors",60382),folderLibrary:o("folder-library",60383),debugContinueSmall:o("debug-continue-small",60384),beakerStop:o("beaker-stop",60385),graphLine:o("graph-line",60386),graphScatter:o("graph-scatter",60387),pieChart:o("pie-chart",60388),bracket:o("bracket",60175),bracketDot:o("bracket-dot",60389),bracketError:o("bracket-error",60390),lockSmall:o("lock-small",60391),azureDevops:o("azure-devops",60392),verifiedFilled:o("verified-filled",60393),newline:o("newline",60394),layout:o("layout",60395),layoutActivitybarLeft:o("layout-activitybar-left",60396),layoutActivitybarRight:o("layout-activitybar-right",60397),layoutPanelLeft:o("layout-panel-left",60398),layoutPanelCenter:o("layout-panel-center",60399),layoutPanelJustify:o("layout-panel-justify",60400),layoutPanelRight:o("layout-panel-right",60401),layoutPanel:o("layout-panel",60402),layoutSidebarLeft:o("layout-sidebar-left",60403),layoutSidebarRight:o("layout-sidebar-right",60404),layoutStatusbar:o("layout-statusbar",60405),layoutMenubar:o("layout-menubar",60406),layoutCentered:o("layout-centered",60407),target:o("target",60408),indent:o("indent",60409),recordSmall:o("record-small",60410),errorSmall:o("error-small",60411),terminalDecorationError:o("terminal-decoration-error",60411),arrowCircleDown:o("arrow-circle-down",60412),arrowCircleLeft:o("arrow-circle-left",60413),arrowCircleRight:o("arrow-circle-right",60414),arrowCircleUp:o("arrow-circle-up",60415),layoutSidebarRightOff:o("layout-sidebar-right-off",60416),layoutPanelOff:o("layout-panel-off",60417),layoutSidebarLeftOff:o("layout-sidebar-left-off",60418),blank:o("blank",60419),heartFilled:o("heart-filled",60420),map:o("map",60421),mapHorizontal:o("map-horizontal",60421),foldHorizontal:o("fold-horizontal",60421),mapFilled:o("map-filled",60422),mapHorizontalFilled:o("map-horizontal-filled",60422),foldHorizontalFilled:o("fold-horizontal-filled",60422),circleSmall:o("circle-small",60423),bellSlash:o("bell-slash",60424),bellSlashDot:o("bell-slash-dot",60425),commentUnresolved:o("comment-unresolved",60426),gitPullRequestGoToChanges:o("git-pull-request-go-to-changes",60427),gitPullRequestNewChanges:o("git-pull-request-new-changes",60428),searchFuzzy:o("search-fuzzy",60429),commentDraft:o("comment-draft",60430),send:o("send",60431),sparkle:o("sparkle",60432),insert:o("insert",60433),mic:o("mic",60434),thumbsdownFilled:o("thumbsdown-filled",60435),thumbsupFilled:o("thumbsup-filled",60436),coffee:o("coffee",60437),snake:o("snake",60438),game:o("game",60439),vr:o("vr",60440),chip:o("chip",60441),piano:o("piano",60442),music:o("music",60443),micFilled:o("mic-filled",60444),repoFetch:o("repo-fetch",60445),copilot:o("copilot",60446),lightbulbSparkle:o("lightbulb-sparkle",60447),robot:o("robot",60448),sparkleFilled:o("sparkle-filled",60449),diffSingle:o("diff-single",60450),diffMultiple:o("diff-multiple",60451),surroundWith:o("surround-with",60452),share:o("share",60453),gitStash:o("git-stash",60454),gitStashApply:o("git-stash-apply",60455),gitStashPop:o("git-stash-pop",60456),vscode:o("vscode",60457),vscodeInsiders:o("vscode-insiders",60458),codeOss:o("code-oss",60459),runCoverage:o("run-coverage",60460),runAllCoverage:o("run-all-coverage",60461),coverage:o("coverage",60462),githubProject:o("github-project",60463),mapVertical:o("map-vertical",60464),foldVertical:o("fold-vertical",60464),mapVerticalFilled:o("map-vertical-filled",60465),foldVerticalFilled:o("fold-vertical-filled",60465),goToSearch:o("go-to-search",60466),percentage:o("percentage",60467),sortPercentage:o("sort-percentage",60467),attach:o("attach",60468)},E={dialogError:o("dialog-error","error"),dialogWarning:o("dialog-warning","warning"),dialogInfo:o("dialog-info","info"),dialogClose:o("dialog-close","close"),treeItemExpanded:o("tree-item-expanded","chevron-down"),treeFilterOnTypeOn:o("tree-filter-on-type-on","list-filter"),treeFilterOnTypeOff:o("tree-filter-on-type-off","list-selection"),treeFilterClear:o("tree-filter-clear","close"),treeItemLoading:o("tree-item-loading","loading"),menuSelection:o("menu-selection","check"),menuSubmenu:o("menu-submenu","chevron-right"),menuBarMore:o("menubar-more","more"),scrollbarButtonLeft:o("scrollbar-button-left","triangle-left"),scrollbarButtonRight:o("scrollbar-button-right","triangle-right"),scrollbarButtonUp:o("scrollbar-button-up","triangle-up"),scrollbarButtonDown:o("scrollbar-button-down","triangle-down"),toolBarMore:o("toolbar-more","more"),quickInputBack:o("quick-input-back","arrow-left"),dropDownButton:o("drop-down-button",60084),symbolCustomColor:o("symbol-customcolor",60252),exportIcon:o("export",60332),workspaceUnspecified:o("workspace-unspecified",60355),newLine:o("newline",60394),thumbsDownFilled:o("thumbsdown-filled",60435),thumbsUpFilled:o("thumbsup-filled",60436),gitFetch:o("git-fetch",60445),lightbulbSparkleAutofix:o("lightbulb-sparkle-autofix",60447),debugBreakpointPending:o("debug-breakpoint-pending",60377)},u={...V,...E}},4901:(qe,Ce,v)=>{"use strict";v.d(Ce,{Q1:s(()=>V,"Q1"),bU:s(()=>K,"bU"),hB:s(()=>o,"hB")});function N(Y,y){const W=Math.pow(10,y);return Math.round(Y*W)/W}s(N,"roundFloat");const E=class E{constructor(y,W,P,O=1){this._rgbaBrand=void 0,this.r=Math.min(255,Math.max(0,y))|0,this.g=Math.min(255,Math.max(0,W))|0,this.b=Math.min(255,Math.max(0,P))|0,this.a=N(Math.max(Math.min(1,O),0),3)}static equals(y,W){return y.r===W.r&&y.g===W.g&&y.b===W.b&&y.a===W.a}};s(E,"RGBA");let K=E;const u=class u{constructor(y,W,P,O){this._hslaBrand=void 0,this.h=Math.max(Math.min(360,y),0)|0,this.s=N(Math.max(Math.min(1,W),0),3),this.l=N(Math.max(Math.min(1,P),0),3),this.a=N(Math.max(Math.min(1,O),0),3)}static equals(y,W){return y.h===W.h&&y.s===W.s&&y.l===W.l&&y.a===W.a}static fromRGBA(y){const W=y.r/255,P=y.g/255,O=y.b/255,M=y.a,g=Math.max(W,P,O),ee=Math.min(W,P,O);let H=0,C=0;const R=(ee+g)/2,ie=g-ee;if(ie>0){switch(C=Math.min(R<=.5?ie/(2*R):ie/(2-2*R),1),g){case W:H=(P-O)/ie+(P<O?6:0);break;case P:H=(O-W)/ie+2;break;case O:H=(W-P)/ie+4;break}H*=60,H=Math.round(H)}return new u(H,C,R,M)}static _hue2rgb(y,W,P){return P<0&&(P+=1),P>1&&(P-=1),P<.16666666666666666?y+(W-y)*6*P:P<.5?W:P<.6666666666666666?y+(W-y)*(.6666666666666666-P)*6:y}static toRGBA(y){const W=y.h/360,{s:P,l:O,a:M}=y;let g,ee,H;if(P===0)g=ee=H=O;else{const C=O<.5?O*(1+P):O+P-O*P,R=2*O-C;g=u._hue2rgb(R,C,W+.3333333333333333),ee=u._hue2rgb(R,C,W),H=u._hue2rgb(R,C,W-.3333333333333333)}return new K(Math.round(g*255),Math.round(ee*255),Math.round(H*255),M)}};s(u,"HSLA");let o=u;const G=class G{constructor(y,W,P,O){this._hsvaBrand=void 0,this.h=Math.max(Math.min(360,y),0)|0,this.s=N(Math.max(Math.min(1,W),0),3),this.v=N(Math.max(Math.min(1,P),0),3),this.a=N(Math.max(Math.min(1,O),0),3)}static equals(y,W){return y.h===W.h&&y.s===W.s&&y.v===W.v&&y.a===W.a}static fromRGBA(y){const W=y.r/255,P=y.g/255,O=y.b/255,M=Math.max(W,P,O),g=Math.min(W,P,O),ee=M-g,H=M===0?0:ee/M;let C;return ee===0?C=0:M===W?C=((P-O)/ee%6+6)%6:M===P?C=(O-W)/ee+2:C=(W-P)/ee+4,new G(Math.round(C*60),H,M,y.a)}static toRGBA(y){const{h:W,s:P,v:O,a:M}=y,g=O*P,ee=g*(1-Math.abs(W/60%2-1)),H=O-g;let[C,R,ie]=[0,0,0];return W<60?(C=g,R=ee):W<120?(C=ee,R=g):W<180?(R=g,ie=ee):W<240?(R=ee,ie=g):W<300?(C=ee,ie=g):W<=360&&(C=g,ie=ee),C=Math.round((C+H)*255),R=Math.round((R+H)*255),ie=Math.round((ie+H)*255),new K(C,R,ie,M)}};s(G,"HSVA");let Q=G;const T=class T{static fromHex(y){return T.Format.CSS.parseHex(y)||T.red}static equals(y,W){return!y&&!W?!0:!y||!W?!1:y.equals(W)}get hsla(){return this._hsla?this._hsla:o.fromRGBA(this.rgba)}get hsva(){return this._hsva?this._hsva:Q.fromRGBA(this.rgba)}constructor(y){if(y)if(y instanceof K)this.rgba=y;else if(y instanceof o)this._hsla=y,this.rgba=o.toRGBA(y);else if(y instanceof Q)this._hsva=y,this.rgba=Q.toRGBA(y);else throw new Error("Invalid color ctor argument");else throw new Error("Color needs a value")}equals(y){return!!y&&K.equals(this.rgba,y.rgba)&&o.equals(this.hsla,y.hsla)&&Q.equals(this.hsva,y.hsva)}getRelativeLuminance(){const y=T._relativeLuminanceForComponent(this.rgba.r),W=T._relativeLuminanceForComponent(this.rgba.g),P=T._relativeLuminanceForComponent(this.rgba.b),O=.2126*y+.7152*W+.0722*P;return N(O,4)}static _relativeLuminanceForComponent(y){const W=y/255;return W<=.03928?W/12.92:Math.pow((W+.055)/1.055,2.4)}isLighter(){return(this.rgba.r*299+this.rgba.g*587+this.rgba.b*114)/1e3>=128}isLighterThan(y){const W=this.getRelativeLuminance(),P=y.getRelativeLuminance();return W>P}isDarkerThan(y){const W=this.getRelativeLuminance(),P=y.getRelativeLuminance();return W<P}lighten(y){return new T(new o(this.hsla.h,this.hsla.s,this.hsla.l+this.hsla.l*y,this.hsla.a))}darken(y){return new T(new o(this.hsla.h,this.hsla.s,this.hsla.l-this.hsla.l*y,this.hsla.a))}transparent(y){const{r:W,g:P,b:O,a:M}=this.rgba;return new T(new K(W,P,O,M*y))}isTransparent(){return this.rgba.a===0}isOpaque(){return this.rgba.a===1}opposite(){return new T(new K(255-this.rgba.r,255-this.rgba.g,255-this.rgba.b,this.rgba.a))}makeOpaque(y){if(this.isOpaque()||y.rgba.a!==1)return this;const{r:W,g:P,b:O,a:M}=this.rgba;return new T(new K(y.rgba.r-M*(y.rgba.r-W),y.rgba.g-M*(y.rgba.g-P),y.rgba.b-M*(y.rgba.b-O),1))}toString(){return this._toString||(this._toString=T.Format.CSS.format(this)),this._toString}static getLighterColor(y,W,P){if(y.isLighterThan(W))return y;P=P||.5;const O=y.getRelativeLuminance(),M=W.getRelativeLuminance();return P=P*(M-O)/M,y.lighten(P)}static getDarkerColor(y,W,P){if(y.isDarkerThan(W))return y;P=P||.5;const O=y.getRelativeLuminance(),M=W.getRelativeLuminance();return P=P*(O-M)/O,y.darken(P)}};s(T,"Color"),T.white=new T(new K(255,255,255,1)),T.black=new T(new K(0,0,0,1)),T.red=new T(new K(255,0,0,1)),T.blue=new T(new K(0,0,255,1)),T.green=new T(new K(0,255,0,1)),T.cyan=new T(new K(0,255,255,1)),T.lightgrey=new T(new K(211,211,211,1)),T.transparent=new T(new K(0,0,0,0));let V=T;(function(Y){let y;(function(W){let P;(function(O){function M(I){return I.rgba.a===1?`rgb(${I.rgba.r}, ${I.rgba.g}, ${I.rgba.b})`:Y.Format.CSS.formatRGBA(I)}s(M,"formatRGB"),O.formatRGB=M;function g(I){return`rgba(${I.rgba.r}, ${I.rgba.g}, ${I.rgba.b}, ${+I.rgba.a.toFixed(2)})`}s(g,"formatRGBA"),O.formatRGBA=g;function ee(I){return I.hsla.a===1?`hsl(${I.hsla.h}, ${(I.hsla.s*100).toFixed(2)}%, ${(I.hsla.l*100).toFixed(2)}%)`:Y.Format.CSS.formatHSLA(I)}s(ee,"formatHSL"),O.formatHSL=ee;function H(I){return`hsla(${I.hsla.h}, ${(I.hsla.s*100).toFixed(2)}%, ${(I.hsla.l*100).toFixed(2)}%, ${I.hsla.a.toFixed(2)})`}s(H,"formatHSLA"),O.formatHSLA=H;function C(I){const c=I.toString(16);return c.length!==2?"0"+c:c}s(C,"_toTwoDigitHex");function R(I){return`#${C(I.rgba.r)}${C(I.rgba.g)}${C(I.rgba.b)}`}s(R,"formatHex"),O.formatHex=R;function ie(I,c=!1){return c&&I.rgba.a===1?Y.Format.CSS.formatHex(I):`#${C(I.rgba.r)}${C(I.rgba.g)}${C(I.rgba.b)}${C(Math.round(I.rgba.a*255))}`}s(ie,"formatHexA"),O.formatHexA=ie;function ue(I){return I.isOpaque()?Y.Format.CSS.formatHex(I):Y.Format.CSS.formatRGBA(I)}s(ue,"format"),O.format=ue;function xe(I){const c=I.length;if(c===0||I.charCodeAt(0)!==35)return null;if(c===7){const f=16*he(I.charCodeAt(1))+he(I.charCodeAt(2)),d=16*he(I.charCodeAt(3))+he(I.charCodeAt(4)),x=16*he(I.charCodeAt(5))+he(I.charCodeAt(6));return new Y(new K(f,d,x,1))}if(c===9){const f=16*he(I.charCodeAt(1))+he(I.charCodeAt(2)),d=16*he(I.charCodeAt(3))+he(I.charCodeAt(4)),x=16*he(I.charCodeAt(5))+he(I.charCodeAt(6)),B=16*he(I.charCodeAt(7))+he(I.charCodeAt(8));return new Y(new K(f,d,x,B/255))}if(c===4){const f=he(I.charCodeAt(1)),d=he(I.charCodeAt(2)),x=he(I.charCodeAt(3));return new Y(new K(16*f+f,16*d+d,16*x+x))}if(c===5){const f=he(I.charCodeAt(1)),d=he(I.charCodeAt(2)),x=he(I.charCodeAt(3)),B=he(I.charCodeAt(4));return new Y(new K(16*f+f,16*d+d,16*x+x,(16*B+B)/255))}return null}s(xe,"parseHex"),O.parseHex=xe;function he(I){switch(I){case 48:return 0;case 49:return 1;case 50:return 2;case 51:return 3;case 52:return 4;case 53:return 5;case 54:return 6;case 55:return 7;case 56:return 8;case 57:return 9;case 97:return 10;case 65:return 10;case 98:return 11;case 66:return 11;case 99:return 12;case 67:return 12;case 100:return 13;case 68:return 13;case 101:return 14;case 69:return 14;case 102:return 15;case 70:return 15}return 0}s(he,"_parseHexDigit")})(P=W.CSS||(W.CSS={}))})(y=Y.Format||(Y.Format={}))})(V||(V={}))},4327:(qe,Ce,v)=>{"use strict";v.d(Ce,{D7:s(()=>O,"D7"),EM:s(()=>W,"EM"),Qg:s(()=>Y,"Qg"),cU:s(()=>V,"cU"),dz:s(()=>o,"dz"),iH:s(()=>y,"iH")});const M=class M{constructor(){this.listeners=[],this.unexpectedErrorHandler=function(ie){setTimeout(()=>{throw ie.stack?P.isErrorNoTelemetry(ie)?new P(ie.message+`

`+ie.stack):new Error(ie.message+`

`+ie.stack):ie},0)}}emit(ie){this.listeners.forEach(ue=>{ue(ie)})}onUnexpectedError(ie){this.unexpectedErrorHandler(ie),this.emit(ie)}onUnexpectedExternalError(ie){this.unexpectedErrorHandler(ie)}};s(M,"ErrorHandler");let N=M;const K=new N;function o(R){u(R)||K.onUnexpectedError(R)}s(o,"onUnexpectedError");function Q(R){u(R)||K.onUnexpectedExternalError(R)}s(Q,"onUnexpectedExternalError");function V(R){if(R instanceof Error){const{name:ie,message:ue}=R,xe=R.stacktrace||R.stack;return{$isError:!0,name:ie,message:ue,stack:xe,noTelemetry:P.isErrorNoTelemetry(R)}}return R}s(V,"transformErrorForSerialization");const E="Canceled";function u(R){return R instanceof G?!0:R instanceof Error&&R.name===E&&R.message===E}s(u,"isCancellationError");const g=class g extends Error{constructor(){super(E),this.name=this.message}};s(g,"CancellationError");let G=g;function T(){const R=new Error(E);return R.name=R.message,R}s(T,"canceled");function Y(R){return R?new Error(`Illegal argument: ${R}`):new Error("Illegal argument")}s(Y,"illegalArgument");function y(R){return R?new Error(`Illegal state: ${R}`):new Error("Illegal state")}s(y,"illegalState");const ee=class ee extends Error{constructor(ie){super("NotSupported"),ie&&(this.message=ie)}};s(ee,"NotSupportedError");let W=ee;const H=class H extends Error{constructor(ie){super(ie),this.name="CodeExpectedError"}static fromError(ie){if(ie instanceof H)return ie;const ue=new H;return ue.message=ie.message,ue.stack=ie.stack,ue}static isErrorNoTelemetry(ie){return ie.name==="CodeExpectedError"}};s(H,"ErrorNoTelemetry");let P=H;const C=class C extends Error{constructor(ie){super(ie||"An unexpected bug occurred."),Object.setPrototypeOf(this,C.prototype)}};s(C,"BugIndicatingError");let O=C},2106:(qe,Ce,v)=>{"use strict";v.d(Ce,{Jh:s(()=>G,"Jh"),vl:s(()=>C,"vl")});var N=v(4327),K=v(9235),o=v(5525),Q=v(3013);const V=!1,E=!1,u=!1;var G;(function(b){b.None=()=>K.jG.None;function S($e){if(u){const{onDidAddListener:ze}=$e,Ze=W.create();let Ge=0;$e.onDidAddListener=()=>{++Ge===2&&(console.warn("snapshotted emitter LIKELY used public and SHOULD HAVE BEEN created with DisposableStore. snapshotted here"),Ze.print()),ze==null||ze()}}}s(S,"_addLeakageTraceLogic");function $($e,ze){return $t($e,()=>{},0,void 0,!0,void 0,ze)}s($,"defer"),b.defer=$;function te($e){return(ze,Ze=null,Ge)=>{let Qe=!1,et;return et=$e(mt=>{if(!Qe)return et?et.dispose():Qe=!0,ze.call(Ze,mt)},null,Ge),Qe&&et.dispose(),et}}s(te,"once"),b.once=te;function ce($e,ze){return b.once(b.filter($e,ze))}s(ce,"onceIf"),b.onceIf=ce;function Te($e,ze,Ze){return dt((Ge,Qe=null,et)=>$e(mt=>Ge.call(Qe,ze(mt)),null,et),Ze)}s(Te,"map"),b.map=Te;function Ne($e,ze,Ze){return dt((Ge,Qe=null,et)=>$e(mt=>{ze(mt),Ge.call(Qe,mt)},null,et),Ze)}s(Ne,"forEach"),b.forEach=Ne;function He($e,ze,Ze){return dt((Ge,Qe=null,et)=>$e(mt=>ze(mt)&&Ge.call(Qe,mt),null,et),Ze)}s(He,"filter"),b.filter=He;function Pe($e){return $e}s(Pe,"signal"),b.signal=Pe;function Xe(...$e){return(ze,Ze=null,Ge)=>{const Qe=(0,K.qE)(...$e.map(et=>et(mt=>ze.call(Ze,mt))));return Zt(Qe,Ge)}}s(Xe,"any"),b.any=Xe;function xt($e,ze,Ze,Ge){let Qe=Ze;return Te($e,et=>(Qe=ze(Qe,et),Qe),Ge)}s(xt,"reduce"),b.reduce=xt;function dt($e,ze){let Ze;const Ge={onWillAddFirstListener(){Ze=$e(Qe.fire,Qe)},onDidRemoveLastListener(){Ze==null||Ze.dispose()}};ze||S(Ge);const Qe=new C(Ge);return ze==null||ze.add(Qe),Qe.event}s(dt,"snapshot");function Zt($e,ze){return ze instanceof Array?ze.push($e):ze&&ze.add($e),$e}s(Zt,"addAndReturnDisposable");function $t($e,ze,Ze=100,Ge=!1,Qe=!1,et,mt){let Ct,At,nt,w=0,fe;const Ue={leakWarningThreshold:et,onWillAddFirstListener(){Ct=$e(It=>{w++,At=ze(At,It),Ge&&!nt&&(Oe.fire(At),At=void 0),fe=s(()=>{const rt=At;At=void 0,nt=void 0,(!Ge||w>1)&&Oe.fire(rt),w=0},"doFire"),typeof Ze=="number"?(clearTimeout(nt),nt=setTimeout(fe,Ze)):nt===void 0&&(nt=0,queueMicrotask(fe))})},onWillRemoveListener(){Qe&&w>0&&(fe==null||fe())},onDidRemoveLastListener(){fe=void 0,Ct.dispose()}};mt||S(Ue);const Oe=new C(Ue);return mt==null||mt.add(Oe),Oe.event}s($t,"debounce"),b.debounce=$t;function Pt($e,ze=0,Ze){return b.debounce($e,(Ge,Qe)=>Ge?(Ge.push(Qe),Ge):[Qe],ze,void 0,!0,void 0,Ze)}s(Pt,"accumulate"),b.accumulate=Pt;function Jt($e,ze=(Ge,Qe)=>Ge===Qe,Ze){let Ge=!0,Qe;return He($e,et=>{const mt=Ge||!ze(et,Qe);return Ge=!1,Qe=et,mt},Ze)}s(Jt,"latch"),b.latch=Jt;function Rt($e,ze,Ze){return[b.filter($e,ze,Ze),b.filter($e,Ge=>!ze(Ge),Ze)]}s(Rt,"split"),b.split=Rt;function Mt($e,ze=!1,Ze=[],Ge){let Qe=Ze.slice(),et=$e(At=>{Qe?Qe.push(At):Ct.fire(At)});Ge&&Ge.add(et);const mt=s(()=>{Qe==null||Qe.forEach(At=>Ct.fire(At)),Qe=null},"flush"),Ct=new C({onWillAddFirstListener(){et||(et=$e(At=>Ct.fire(At)),Ge&&Ge.add(et))},onDidAddFirstListener(){Qe&&(ze?setTimeout(mt):mt())},onDidRemoveLastListener(){et&&et.dispose(),et=null}});return Ge&&Ge.add(Ct),Ct.event}s(Mt,"buffer"),b.buffer=Mt;function Wt($e,ze){return s((Ge,Qe,et)=>{const mt=ze(new Ot);return $e(function(Ct){const At=mt.evaluate(Ct);At!==Qt&&Ge.call(Qe,At)},void 0,et)},"fn")}s(Wt,"chain"),b.chain=Wt;const Qt=Symbol("HaltChainable"),je=class je{constructor(){this.steps=[]}map(ze){return this.steps.push(ze),this}forEach(ze){return this.steps.push(Ze=>(ze(Ze),Ze)),this}filter(ze){return this.steps.push(Ze=>ze(Ze)?Ze:Qt),this}reduce(ze,Ze){let Ge=Ze;return this.steps.push(Qe=>(Ge=ze(Ge,Qe),Ge)),this}latch(ze=(Ze,Ge)=>Ze===Ge){let Ze=!0,Ge;return this.steps.push(Qe=>{const et=Ze||!ze(Qe,Ge);return Ze=!1,Ge=Qe,et?Qe:Qt}),this}evaluate(ze){for(const Ze of this.steps)if(ze=Ze(ze),ze===Qt)break;return ze}};s(je,"ChainableSynthesis");let Ot=je;function Xt($e,ze,Ze=Ge=>Ge){const Ge=s((...Ct)=>mt.fire(Ze(...Ct)),"fn"),Qe=s(()=>$e.on(ze,Ge),"onFirstListenerAdd"),et=s(()=>$e.removeListener(ze,Ge),"onLastListenerRemove"),mt=new C({onWillAddFirstListener:Qe,onDidRemoveLastListener:et});return mt.event}s(Xt,"fromNodeEventEmitter"),b.fromNodeEventEmitter=Xt;function qt($e,ze,Ze=Ge=>Ge){const Ge=s((...Ct)=>mt.fire(Ze(...Ct)),"fn"),Qe=s(()=>$e.addEventListener(ze,Ge),"onFirstListenerAdd"),et=s(()=>$e.removeEventListener(ze,Ge),"onLastListenerRemove"),mt=new C({onWillAddFirstListener:Qe,onDidRemoveLastListener:et});return mt.event}s(qt,"fromDOMEventEmitter"),b.fromDOMEventEmitter=qt;function nn($e){return new Promise(ze=>te($e)(ze))}s(nn,"toPromise"),b.toPromise=nn;function Gt($e){const ze=new C;return $e.then(Ze=>{ze.fire(Ze)},()=>{ze.fire(void 0)}).finally(()=>{ze.dispose()}),ze.event}s(Gt,"fromPromise"),b.fromPromise=Gt;function Bt($e,ze){return $e(Ze=>ze.fire(Ze))}s(Bt,"forward"),b.forward=Bt;function Yt($e,ze,Ze){return ze(Ze),$e(Ge=>ze(Ge))}s(Yt,"runAndSubscribe"),b.runAndSubscribe=Yt;const tt=class tt{constructor(ze,Ze){this._observable=ze,this._counter=0,this._hasChanged=!1;const Ge={onWillAddFirstListener:s(()=>{ze.addObserver(this),this._observable.reportChanges()},"onWillAddFirstListener"),onDidRemoveLastListener:s(()=>{ze.removeObserver(this)},"onDidRemoveLastListener")};Ze||S(Ge),this.emitter=new C(Ge),Ze&&Ze.add(this.emitter)}beginUpdate(ze){this._counter++}handlePossibleChange(ze){}handleChange(ze,Ze){this._hasChanged=!0}endUpdate(ze){this._counter--,this._counter===0&&(this._observable.reportChanges(),this._hasChanged&&(this._hasChanged=!1,this.emitter.fire(this._observable.get())))}};s(tt,"EmitterObserver");let be=tt;function Ee($e,ze){return new be($e,ze).emitter.event}s(Ee,"fromObservable"),b.fromObservable=Ee;function n($e){return(ze,Ze,Ge)=>{let Qe=0,et=!1;const mt={beginUpdate(){Qe++},endUpdate(){Qe--,Qe===0&&($e.reportChanges(),et&&(et=!1,ze.call(Ze)))},handlePossibleChange(){},handleChange(){et=!0}};$e.addObserver(mt),$e.reportChanges();const Ct={dispose(){$e.removeObserver(mt)}};return Ge instanceof K.Cm?Ge.add(Ct):Array.isArray(Ge)&&Ge.push(Ct),Ct}}s(n,"fromObservableLight"),b.fromObservableLight=n})(G||(G={}));const d=class d{constructor(S){this.listenerCount=0,this.invocationCount=0,this.elapsedOverall=0,this.durations=[],this.name=`${S}_${d._idPool++}`,d.all.add(this)}start(S){this._stopWatch=new Q.W,this.listenerCount=S}stop(){if(this._stopWatch){const S=this._stopWatch.elapsed();this.durations.push(S),this.elapsedOverall+=S,this.invocationCount+=1,this._stopWatch=void 0}}};s(d,"EventProfiling"),d.all=new Set,d._idPool=0;let T=d,Y=-1;const x=class x{constructor(S,$,te=(x._idPool++).toString(16).padStart(3,"0")){this._errorHandler=S,this.threshold=$,this.name=te,this._warnCountdown=0}dispose(){var S;(S=this._stacks)==null||S.clear()}check(S,$){const te=this.threshold;if(te<=0||$<te)return;this._stacks||(this._stacks=new Map);const ce=this._stacks.get(S.value)||0;if(this._stacks.set(S.value,ce+1),this._warnCountdown-=1,this._warnCountdown<=0){this._warnCountdown=te*.5;const[Te,Ne]=this.getMostFrequentStack(),He=`[${this.name}] potential listener LEAK detected, having ${$} listeners already. MOST frequent listener (${Ne}):`;console.warn(He),console.warn(Te);const Pe=new P(He,Te);this._errorHandler(Pe)}return()=>{const Te=this._stacks.get(S.value)||0;this._stacks.set(S.value,Te-1)}}getMostFrequentStack(){if(!this._stacks)return;let S,$=0;for(const[te,ce]of this._stacks)(!S||$<ce)&&(S=[te,ce],$=ce);return S}};s(x,"LeakageMonitor"),x._idPool=1;let y=x;const B=class B{static create(){var $;const S=new Error;return new B(($=S.stack)!=null?$:"")}constructor(S){this.value=S}print(){console.warn(this.value.split(`
`).slice(2).join(`
`))}};s(B,"Stacktrace");let W=B;const D=class D extends Error{constructor(S,$){super(S),this.name="ListenerLeakError",this.stack=$}};s(D,"ListenerLeakError");let P=D;const q=class q extends Error{constructor(S,$){super(S),this.name="ListenerRefusalError",this.stack=$}};s(q,"ListenerRefusalError");let O=q;const se=class se{constructor(S){this.value=S}};s(se,"UniqueContainer");let M=se;const g=2,ee=s((b,S)=>{if(b instanceof M)S(b);else for(let $=0;$<b.length;$++){const te=b[$];te&&S(te)}},"forEachListener");let H;if(V){const b=[];setInterval(()=>{b.length!==0&&(console.warn("[LEAKING LISTENERS] GC'ed these listeners that were NOT yet disposed:"),console.warn(b.join(`
`)),b.length=0)},3e3),H=new FinalizationRegistry(S=>{typeof S=="string"&&b.push(S)})}const re=class re{constructor(S){var $,te,ce,Te,Ne,He;this._size=0,this._options=S,this._leakageMon=Y>0||($=this._options)!=null&&$.leakWarningThreshold?new y((te=S==null?void 0:S.onListenerError)!=null?te:N.dz,(Te=(ce=this._options)==null?void 0:ce.leakWarningThreshold)!=null?Te:Y):void 0,this._perfMon=(Ne=this._options)!=null&&Ne._profName?new T(this._options._profName):void 0,this._deliveryQueue=(He=this._options)==null?void 0:He.deliveryQueue}dispose(){var S,$,te,ce;if(!this._disposed){if(this._disposed=!0,((S=this._deliveryQueue)==null?void 0:S.current)===this&&this._deliveryQueue.reset(),this._listeners){if(E){const Te=this._listeners;queueMicrotask(()=>{ee(Te,Ne=>{var He;return(He=Ne.stack)==null?void 0:He.print()})})}this._listeners=void 0,this._size=0}(te=($=this._options)==null?void 0:$.onDidRemoveLastListener)==null||te.call($),(ce=this._leakageMon)==null||ce.dispose()}}get event(){var S;return(S=this._event)!=null||(this._event=($,te,ce)=>{var Xe,xt,dt,Zt,$t,Pt,Jt,Rt;if(this._leakageMon&&this._size>this._leakageMon.threshold**2){const Mt=`[${this._leakageMon.name}] REFUSES to accept new listeners because it exceeded its threshold by far (${this._size} vs ${this._leakageMon.threshold})`;console.warn(Mt);const Wt=(Xe=this._leakageMon.getMostFrequentStack())!=null?Xe:["UNKNOWN stack",-1],Qt=new O(`${Mt}. HINT: Stack shows most frequent listener (${Wt[1]}-times)`,Wt[0]);return(((xt=this._options)==null?void 0:xt.onListenerError)||N.dz)(Qt),K.jG.None}if(this._disposed)return K.jG.None;te&&($=$.bind(te));const Te=new M($);let Ne,He;this._leakageMon&&this._size>=Math.ceil(this._leakageMon.threshold*.2)&&(Te.stack=W.create(),Ne=this._leakageMon.check(Te.stack,this._size+1)),E&&(Te.stack=He!=null?He:W.create()),this._listeners?this._listeners instanceof M?((Jt=this._deliveryQueue)!=null||(this._deliveryQueue=new ie),this._listeners=[this._listeners,Te]):this._listeners.push(Te):((Zt=(dt=this._options)==null?void 0:dt.onWillAddFirstListener)==null||Zt.call(dt,this),this._listeners=Te,(Pt=($t=this._options)==null?void 0:$t.onDidAddFirstListener)==null||Pt.call($t,this)),this._size++;const Pe=(0,K.s)(()=>{H==null||H.unregister(Pe),Ne==null||Ne(),this._removeListener(Te)});if(ce instanceof K.Cm?ce.add(Pe):Array.isArray(ce)&&ce.push(Pe),H){const Mt=new Error().stack.split(`
`).slice(2,3).join(`
`).trim(),Wt=/(file:|vscode-file:\/\/vscode-app)?(\/[^:]*:\d+:\d+)/.exec(Mt);H.register(Pe,(Rt=Wt==null?void 0:Wt[2])!=null?Rt:Mt,Pe)}return Pe}),this._event}_removeListener(S){var Te,Ne,He,Pe;if((Ne=(Te=this._options)==null?void 0:Te.onWillRemoveListener)==null||Ne.call(Te,this),!this._listeners)return;if(this._size===1){this._listeners=void 0,(Pe=(He=this._options)==null?void 0:He.onDidRemoveLastListener)==null||Pe.call(He,this),this._size=0;return}const $=this._listeners,te=$.indexOf(S);if(te===-1)throw console.log("disposed?",this._disposed),console.log("size?",this._size),console.log("arr?",JSON.stringify(this._listeners)),new Error("Attempted to dispose unknown listener");this._size--,$[te]=void 0;const ce=this._deliveryQueue.current===this;if(this._size*g<=$.length){let Xe=0;for(let xt=0;xt<$.length;xt++)$[xt]?$[Xe++]=$[xt]:ce&&(this._deliveryQueue.end--,Xe<this._deliveryQueue.i&&this._deliveryQueue.i--);$.length=Xe}}_deliver(S,$){var ce;if(!S)return;const te=((ce=this._options)==null?void 0:ce.onListenerError)||N.dz;if(!te){S.value($);return}try{S.value($)}catch(Te){te(Te)}}_deliverQueue(S){const $=S.current._listeners;for(;S.i<S.end;)this._deliver($[S.i++],S.value);S.reset()}fire(S){var $,te,ce,Te;if(($=this._deliveryQueue)!=null&&$.current&&(this._deliverQueue(this._deliveryQueue),(te=this._perfMon)==null||te.stop()),(ce=this._perfMon)==null||ce.start(this._size),this._listeners)if(this._listeners instanceof M)this._deliver(this._listeners,S);else{const Ne=this._deliveryQueue;Ne.enqueue(this,S,this._listeners.length),this._deliverQueue(Ne)}(Te=this._perfMon)==null||Te.stop()}hasListeners(){return this._size>0}};s(re,"Emitter");let C=re;const R=s(()=>new ie,"createEventDeliveryQueue"),_e=class _e{constructor(){this.i=-1,this.end=0}enqueue(S,$,te){this.i=0,this.end=te,this.current=S,this.value=$}reset(){this.i=this.end,this.current=void 0,this.value=void 0}};s(_e,"EventDeliveryQueuePrivate");let ie=_e;const Se=class Se extends C{constructor(S){super(S),this._isPaused=0,this._eventQueue=new o.w,this._mergeFn=S==null?void 0:S.merge}pause(){this._isPaused++}resume(){if(this._isPaused!==0&&--this._isPaused===0)if(this._mergeFn){if(this._eventQueue.size>0){const S=Array.from(this._eventQueue);this._eventQueue.clear(),super.fire(this._mergeFn(S))}}else for(;!this._isPaused&&this._eventQueue.size!==0;)super.fire(this._eventQueue.shift())}fire(S){this._size&&(this._isPaused!==0?this._eventQueue.push(S):super.fire(S))}};s(Se,"PauseableEmitter");let ue=Se;const Ae=class Ae extends ue{constructor(S){var $;super(S),this._delay=($=S.delay)!=null?$:100}fire(S){this._handle||(this.pause(),this._handle=setTimeout(()=>{this._handle=void 0,this.resume()},this._delay)),super.fire(S)}};s(Ae,"DebounceEmitter");let xe=Ae;const we=class we extends C{constructor(S){super(S),this._queuedEvents=[],this._mergeFn=S==null?void 0:S.merge}fire(S){this.hasListeners()&&(this._queuedEvents.push(S),this._queuedEvents.length===1&&queueMicrotask(()=>{this._mergeFn?super.fire(this._mergeFn(this._queuedEvents)):this._queuedEvents.forEach($=>super.fire($)),this._queuedEvents=[]}))}};s(we,"MicrotaskEmitter");let he=we;const L=class L{constructor(){this.hasListeners=!1,this.events=[],this.emitter=new C({onWillAddFirstListener:s(()=>this.onFirstListenerAdd(),"onWillAddFirstListener"),onDidRemoveLastListener:s(()=>this.onLastListenerRemove(),"onDidRemoveLastListener")})}get event(){return this.emitter.event}add(S){const $={event:S,listener:null};this.events.push($),this.hasListeners&&this.hook($);const te=s(()=>{this.hasListeners&&this.unhook($);const ce=this.events.indexOf($);this.events.splice(ce,1)},"dispose");return toDisposable(createSingleCallFunction(te))}onFirstListenerAdd(){this.hasListeners=!0,this.events.forEach(S=>this.hook(S))}onLastListenerRemove(){this.hasListeners=!1,this.events.forEach(S=>this.unhook(S))}hook(S){S.listener=S.event($=>this.emitter.fire($))}unhook(S){var $;($=S.listener)==null||$.dispose(),S.listener=null}dispose(){var S;this.emitter.dispose();for(const $ of this.events)(S=$.listener)==null||S.dispose();this.events=[]}};s(L,"EventMultiplexer");let I=L;const A=class A{constructor(){this.data=[]}wrapEvent(S,$,te){return(ce,Te,Ne)=>S(He=>{var xt;const Pe=this.data[this.data.length-1];if(!$){Pe?Pe.buffers.push(()=>ce.call(Te,He)):ce.call(Te,He);return}const Xe=Pe;if(!Xe){ce.call(Te,$(te,He));return}(xt=Xe.items)!=null||(Xe.items=[]),Xe.items.push(He),Xe.buffers.length===0&&Pe.buffers.push(()=>{var dt;(dt=Xe.reducedResult)!=null||(Xe.reducedResult=te?Xe.items.reduce($,te):Xe.items.reduce($)),ce.call(Te,Xe.reducedResult)})},void 0,Ne)}bufferEvents(S){const $={buffers:new Array};this.data.push($);const te=S();return this.data.pop(),$.buffers.forEach(ce=>ce()),te}};s(A,"EventBufferer");let c=A;const z=class z{constructor(){this.listening=!1,this.inputEvent=G.None,this.inputEventListener=Disposable.None,this.emitter=new C({onDidAddFirstListener:s(()=>{this.listening=!0,this.inputEventListener=this.inputEvent(this.emitter.fire,this.emitter)},"onDidAddFirstListener"),onDidRemoveLastListener:s(()=>{this.listening=!1,this.inputEventListener.dispose()},"onDidRemoveLastListener")}),this.event=this.emitter.event}set input(S){this.inputEvent=S,this.listening&&(this.inputEventListener.dispose(),this.inputEventListener=S(this.emitter.fire,this.emitter))}dispose(){this.inputEventListener.dispose(),this.emitter.dispose()}};s(z,"Relay");let f=z},8518:(qe,Ce,v)=>{"use strict";v.d(Ce,{TH:s(()=>V,"TH"),Zn:s(()=>u,"Zn"),_1:s(()=>G,"_1"),kb:s(()=>E,"kb")});var N=v(4033),K=v(3339),o=v(6844);function Q(y){return y===47||y===92}s(Q,"isPathSeparator");function V(y){return y.replace(/[\\/]/g,N.SA.sep)}s(V,"toSlashes");function E(y){return y.indexOf("/")===-1&&(y=V(y)),/^[a-zA-Z]:(\/|$)/.test(y)&&(y="/"+y),y}s(E,"toPosixPath");function u(y,W=N.SA.sep){if(!y)return"";const P=y.length,O=y.charCodeAt(0);if(Q(O)){if(Q(y.charCodeAt(1))&&!Q(y.charCodeAt(2))){let g=3;const ee=g;for(;g<P&&!Q(y.charCodeAt(g));g++);if(ee!==g&&!Q(y.charCodeAt(g+1))){for(g+=1;g<P;g++)if(Q(y.charCodeAt(g)))return y.slice(0,g+1).replace(/[\\/]/g,W)}}return W}else if(T(O)&&y.charCodeAt(1)===58)return Q(y.charCodeAt(2))?y.slice(0,2)+W:y.slice(0,2);let M=y.indexOf("://");if(M!==-1){for(M+=3;M<P;M++)if(Q(y.charCodeAt(M)))return y.slice(0,M+1)}return""}s(u,"getRoot");function G(y,W,P,O=N.Vn){if(y===W)return!0;if(!y||!W||W.length>y.length)return!1;if(P){if(!(0,o.ns)(y,W))return!1;if(W.length===y.length)return!0;let g=W.length;return W.charAt(W.length-1)===O&&g--,y.charAt(g)===O}return W.charAt(W.length-1)!==O&&(W+=O),y.indexOf(W)===0}s(G,"isEqualOrParent");function T(y){return y>=65&&y<=90||y>=97&&y<=122}s(T,"isWindowsDriveLetter");function Y(y,W=isWindows){return W?T(y.charCodeAt(0))&&y.charCodeAt(1)===58:!1}s(Y,"hasDriveLetter")},3958:(qe,Ce,v)=>{"use strict";v.d(Ce,{YW:s(()=>q,"YW"),qg:s(()=>se,"qg")});var N=v(1946),K=v(8518),o=v(7992),Q=v(4033),V=v(3339),E=v(6844);const u="**",G="/",T="[/\\\\]",Y="[^/\\\\]",y=/\//g;function W(we,L){switch(we){case 0:return"";case 1:return`${Y}*?`;default:return`(?:${T}|${Y}+${T}${L?`|${T}${Y}+`:""})*?`}}s(W,"starsToRegExp");function P(we,L){if(!we)return[];const A=[];let z=!1,b=!1,S="";for(const $ of we){switch($){case L:if(!z&&!b){A.push(S),S="";continue}break;case"{":z=!0;break;case"}":z=!1;break;case"[":b=!0;break;case"]":b=!1;break}S+=$}return S&&A.push(S),A}s(P,"splitGlobAware");function O(we){if(!we)return"";let L="";const A=P(we,G);if(A.every(z=>z===u))L=".*";else{let z=!1;A.forEach((b,S)=>{if(b===u){if(z)return;L+=W(2,S===A.length-1)}else{let $=!1,te="",ce=!1,Te="";for(const Ne of b){if(Ne!=="}"&&$){te+=Ne;continue}if(ce&&(Ne!=="]"||!Te)){let He;Ne==="-"?He=Ne:(Ne==="^"||Ne==="!")&&!Te?He="^":Ne===G?He="":He=(0,E.bm)(Ne),Te+=He;continue}switch(Ne){case"{":$=!0;continue;case"[":ce=!0;continue;case"}":{const Pe=`(?:${P(te,",").map(Xe=>O(Xe)).join("|")})`;L+=Pe,$=!1,te="";break}case"]":{L+="["+Te+"]",ce=!1,Te="";break}case"?":L+=Y;continue;case"*":L+=W(1);continue;default:L+=(0,E.bm)(Ne)}}S<A.length-1&&(A[S+1]!==u||S+2<A.length)&&(L+=T)}z=b===u})}return L}s(O,"parseRegExp");const M=/^\*\*\/\*\.[\w\.-]+$/,g=/^\*\*\/([\w\.-]+)\/?$/,ee=/^{\*\*\/\*?[\w\.-]+\/?(,\*\*\/\*?[\w\.-]+\/?)*}$/,H=/^{\*\*\/\*?[\w\.-]+(\/(\*\*)?)?(,\*\*\/\*?[\w\.-]+(\/(\*\*)?)?)*}$/,C=/^\*\*((\/[\w\.-]+)+)\/?$/,R=/^([\w\.-]+(\/[\w\.-]+)*)\/?$/,ie=new o.qK(1e4),ue=s(function(){return!1},"FALSE"),xe=s(function(){return null},"NULL");function he(we,L){if(!we)return xe;let A;typeof we!="string"?A=we.pattern:A=we,A=A.trim();const z=`${A}_${!!L.trimForExclusions}`;let b=ie.get(z);if(b)return I(b,we);let S;return M.test(A)?b=f(A.substr(4),A):(S=g.exec(c(A,L)))?b=d(S[1],A):(L.trimForExclusions?H:ee).test(A)?b=x(A,L):(S=C.exec(c(A,L)))?b=B(S[1].substr(1),A,!0):(S=R.exec(c(A,L)))?b=B(S[1],A,!1):b=D(A),ie.set(z,b),I(b,we)}s(he,"parsePattern");function I(we,L){if(typeof L=="string")return we;const A=s(function(z,b){return(0,K._1)(z,L.base,!V.j9)?we((0,E.NB)(z.substr(L.base.length),Q.Vn),b):null},"wrappedPattern");return A.allBasenames=we.allBasenames,A.allPaths=we.allPaths,A.basenames=we.basenames,A.patterns=we.patterns,A}s(I,"wrapRelativePattern");function c(we,L){return L.trimForExclusions&&we.endsWith("/**")?we.substr(0,we.length-2):we}s(c,"trimForExclusions");function f(we,L){return function(A,z){return typeof A=="string"&&A.endsWith(we)?L:null}}s(f,"trivia1");function d(we,L){const A=`/${we}`,z=`\\${we}`,b=s(function($,te){return typeof $!="string"?null:te?te===we?L:null:$===we||$.endsWith(A)||$.endsWith(z)?L:null},"parsedPattern"),S=[we];return b.basenames=S,b.patterns=[L],b.allBasenames=S,b}s(d,"trivia2");function x(we,L){const A=Ae(we.slice(1,-1).split(",").map(te=>he(te,L)).filter(te=>te!==xe),we),z=A.length;if(!z)return xe;if(z===1)return A[0];const b=s(function(te,ce){for(let Te=0,Ne=A.length;Te<Ne;Te++)if(A[Te](te,ce))return we;return null},"parsedPattern"),S=A.find(te=>!!te.allBasenames);S&&(b.allBasenames=S.allBasenames);const $=A.reduce((te,ce)=>ce.allPaths?te.concat(ce.allPaths):te,[]);return $.length&&(b.allPaths=$),b}s(x,"trivia3");function B(we,L,A){const z=Q.Vn===Q.SA.sep,b=z?we:we.replace(y,Q.Vn),S=Q.Vn+b,$=Q.SA.sep+we;let te;return A?te=s(function(ce,Te){return typeof ce=="string"&&(ce===b||ce.endsWith(S)||!z&&(ce===we||ce.endsWith($)))?L:null},"parsedPattern"):te=s(function(ce,Te){return typeof ce=="string"&&(ce===b||!z&&ce===we)?L:null},"parsedPattern"),te.allPaths=[(A?"*/":"./")+we],te}s(B,"trivia4and5");function D(we){try{const L=new RegExp(`^${O(we)}$`);return function(A){return L.lastIndex=0,typeof A=="string"&&L.test(A)?we:null}}catch{return xe}}s(D,"toRegExp");function q(we,L,A){return!we||typeof L!="string"?!1:se(we)(L,void 0,A)}s(q,"match");function se(we,L={}){if(!we)return ue;if(typeof we=="string"||re(we)){const A=he(we,L);if(A===xe)return ue;const z=s(function(b,S){return!!A(b,S)},"resultPattern");return A.allBasenames&&(z.allBasenames=A.allBasenames),A.allPaths&&(z.allPaths=A.allPaths),z}return _e(we,L)}s(se,"parse");function re(we){const L=we;return L?typeof L.base=="string"&&typeof L.pattern=="string":!1}s(re,"isRelativePattern");function _e(we,L){const A=Ae(Object.getOwnPropertyNames(we).map(te=>Se(te,we[te],L)).filter(te=>te!==xe)),z=A.length;if(!z)return xe;if(!A.some(te=>!!te.requiresSiblings)){if(z===1)return A[0];const te=s(function(Ne,He){let Pe;for(let Xe=0,xt=A.length;Xe<xt;Xe++){const dt=A[Xe](Ne,He);if(typeof dt=="string")return dt;(0,N.Qg)(dt)&&(Pe||(Pe=[]),Pe.push(dt))}return Pe?(async()=>{for(const Xe of Pe){const xt=await Xe;if(typeof xt=="string")return xt}return null})():null},"resultExpression"),ce=A.find(Ne=>!!Ne.allBasenames);ce&&(te.allBasenames=ce.allBasenames);const Te=A.reduce((Ne,He)=>He.allPaths?Ne.concat(He.allPaths):Ne,[]);return Te.length&&(te.allPaths=Te),te}const b=s(function(te,ce,Te){let Ne,He;for(let Pe=0,Xe=A.length;Pe<Xe;Pe++){const xt=A[Pe];xt.requiresSiblings&&Te&&(ce||(ce=(0,Q.P8)(te)),Ne||(Ne=ce.substr(0,ce.length-(0,Q.LC)(te).length)));const dt=xt(te,ce,Ne,Te);if(typeof dt=="string")return dt;(0,N.Qg)(dt)&&(He||(He=[]),He.push(dt))}return He?(async()=>{for(const Pe of He){const Xe=await Pe;if(typeof Xe=="string")return Xe}return null})():null},"resultExpression"),S=A.find(te=>!!te.allBasenames);S&&(b.allBasenames=S.allBasenames);const $=A.reduce((te,ce)=>ce.allPaths?te.concat(ce.allPaths):te,[]);return $.length&&(b.allPaths=$),b}s(_e,"parsedExpression");function Se(we,L,A){if(L===!1)return xe;const z=he(we,A);if(z===xe)return xe;if(typeof L=="boolean")return z;if(L){const b=L.when;if(typeof b=="string"){const S=s(($,te,ce,Te)=>{if(!Te||!z($,te))return null;const Ne=b.replace("$(basename)",()=>ce),He=Te(Ne);return(0,N.Qg)(He)?He.then(Pe=>Pe?we:null):He?we:null},"result");return S.requiresSiblings=!0,S}}return z}s(Se,"parseExpressionPattern");function Ae(we,L){const A=we.filter(te=>!!te.basenames);if(A.length<2)return we;const z=A.reduce((te,ce)=>{const Te=ce.basenames;return Te?te.concat(Te):te},[]);let b;if(L){b=[];for(let te=0,ce=z.length;te<ce;te++)b.push(L)}else b=A.reduce((te,ce)=>{const Te=ce.patterns;return Te?te.concat(Te):te},[]);const S=s(function(te,ce){if(typeof te!="string")return null;if(!ce){let Ne;for(Ne=te.length;Ne>0;Ne--){const He=te.charCodeAt(Ne-1);if(He===47||He===92)break}ce=te.substr(Ne)}const Te=z.indexOf(ce);return Te!==-1?b[Te]:null},"aggregate");S.basenames=z,S.patterns=b,S.allBasenames=z;const $=we.filter(te=>!te.basenames);return $.push(S),$}s(Ae,"aggregateBasenameMatches")},2344:(qe,Ce,v)=>{"use strict";v.d(Ce,{e2:s(()=>E,"e2"),sN:s(()=>o,"sN"),v7:s(()=>P,"v7")});var N=v(6844);function K(M){return o(M,0)}s(K,"hash");function o(M,g){switch(typeof M){case"object":return M===null?Q(349,g):Array.isArray(M)?u(M,g):G(M,g);case"string":return E(M,g);case"boolean":return V(M,g);case"number":return Q(M,g);case"undefined":return Q(937,g);default:return Q(617,g)}}s(o,"doHash");function Q(M,g){return(g<<5)-g+M|0}s(Q,"numberHash");function V(M,g){return Q(M?433:863,g)}s(V,"booleanHash");function E(M,g){g=Q(149417,g);for(let ee=0,H=M.length;ee<H;ee++)g=Q(M.charCodeAt(ee),g);return g}s(E,"stringHash");function u(M,g){return g=Q(104579,g),M.reduce((ee,H)=>o(H,ee),g)}s(u,"arrayHash");function G(M,g){return g=Q(181387,g),Object.keys(M).sort().reduce((ee,H)=>(ee=E(H,ee),o(M[H],ee)),g)}s(G,"objectHash");function T(M,g,ee=32){const H=ee-g,C=~((1<<H)-1);return(M<<g|(C&M)>>>H)>>>0}s(T,"leftRotate");function Y(M,g=0,ee=M.byteLength,H=0){for(let C=0;C<ee;C++)M[g+C]=H}s(Y,"fill");function y(M,g,ee="0"){for(;M.length<g;)M=ee+M;return M}s(y,"leftPad");function W(M,g=32){return M instanceof ArrayBuffer?Array.from(new Uint8Array(M)).map(ee=>ee.toString(16).padStart(2,"0")).join(""):y((M>>>0).toString(16),g/4)}s(W,"toHexString");const O=class O{constructor(){this._h0=1732584193,this._h1=4023233417,this._h2=2562383102,this._h3=271733878,this._h4=3285377520,this._buff=new Uint8Array(67),this._buffDV=new DataView(this._buff.buffer),this._buffLen=0,this._totalLen=0,this._leftoverHighSurrogate=0,this._finished=!1}update(g){const ee=g.length;if(ee===0)return;const H=this._buff;let C=this._buffLen,R=this._leftoverHighSurrogate,ie,ue;for(R!==0?(ie=R,ue=-1,R=0):(ie=g.charCodeAt(0),ue=0);;){let xe=ie;if(N.pc(ie))if(ue+1<ee){const he=g.charCodeAt(ue+1);N.LJ(he)?(ue++,xe=N.z_(ie,he)):xe=65533}else{R=ie;break}else N.LJ(ie)&&(xe=65533);if(C=this._push(H,C,xe),ue++,ue<ee)ie=g.charCodeAt(ue);else break}this._buffLen=C,this._leftoverHighSurrogate=R}_push(g,ee,H){return H<128?g[ee++]=H:H<2048?(g[ee++]=192|(H&1984)>>>6,g[ee++]=128|(H&63)>>>0):H<65536?(g[ee++]=224|(H&61440)>>>12,g[ee++]=128|(H&4032)>>>6,g[ee++]=128|(H&63)>>>0):(g[ee++]=240|(H&1835008)>>>18,g[ee++]=128|(H&258048)>>>12,g[ee++]=128|(H&4032)>>>6,g[ee++]=128|(H&63)>>>0),ee>=64&&(this._step(),ee-=64,this._totalLen+=64,g[0]=g[64],g[1]=g[65],g[2]=g[66]),ee}digest(){return this._finished||(this._finished=!0,this._leftoverHighSurrogate&&(this._leftoverHighSurrogate=0,this._buffLen=this._push(this._buff,this._buffLen,65533)),this._totalLen+=this._buffLen,this._wrapUp()),W(this._h0)+W(this._h1)+W(this._h2)+W(this._h3)+W(this._h4)}_wrapUp(){this._buff[this._buffLen++]=128,Y(this._buff,this._buffLen),this._buffLen>56&&(this._step(),Y(this._buff));const g=8*this._totalLen;this._buffDV.setUint32(56,Math.floor(g/4294967296),!1),this._buffDV.setUint32(60,g%4294967296,!1),this._step()}_step(){const g=O._bigBlock32,ee=this._buffDV;for(let c=0;c<64;c+=4)g.setUint32(c,ee.getUint32(c,!1),!1);for(let c=64;c<320;c+=4)g.setUint32(c,T(g.getUint32(c-12,!1)^g.getUint32(c-32,!1)^g.getUint32(c-56,!1)^g.getUint32(c-64,!1),1),!1);let H=this._h0,C=this._h1,R=this._h2,ie=this._h3,ue=this._h4,xe,he,I;for(let c=0;c<80;c++)c<20?(xe=C&R|~C&ie,he=1518500249):c<40?(xe=C^R^ie,he=1859775393):c<60?(xe=C&R|C&ie|R&ie,he=2400959708):(xe=C^R^ie,he=3395469782),I=T(H,5)+xe+ue+he+g.getUint32(c*4,!1)&4294967295,ue=ie,ie=R,R=T(C,30),C=H,H=I;this._h0=this._h0+H&4294967295,this._h1=this._h1+C&4294967295,this._h2=this._h2+R&4294967295,this._h3=this._h3+ie&4294967295,this._h4=this._h4+ue&4294967295}};s(O,"StringSHA1"),O._bigBlock32=new DataView(new ArrayBuffer(320));let P=O},7954:(qe,Ce,v)=>{"use strict";v.d(Ce,{f:s(()=>N,"f")});var N;(function(K){function o(ue){return ue&&typeof ue=="object"&&typeof ue[Symbol.iterator]=="function"}s(o,"is"),K.is=o;const Q=Object.freeze([]);function V(){return Q}s(V,"empty"),K.empty=V;function*E(ue){yield ue}s(E,"single"),K.single=E;function u(ue){return o(ue)?ue:E(ue)}s(u,"wrap"),K.wrap=u;function G(ue){return ue||Q}s(G,"from"),K.from=G;function*T(ue){for(let xe=ue.length-1;xe>=0;xe--)yield ue[xe]}s(T,"reverse"),K.reverse=T;function Y(ue){return!ue||ue[Symbol.iterator]().next().done===!0}s(Y,"isEmpty"),K.isEmpty=Y;function y(ue){return ue[Symbol.iterator]().next().value}s(y,"first"),K.first=y;function W(ue,xe){let he=0;for(const I of ue)if(xe(I,he++))return!0;return!1}s(W,"some"),K.some=W;function P(ue,xe){for(const he of ue)if(xe(he))return he}s(P,"find"),K.find=P;function*O(ue,xe){for(const he of ue)xe(he)&&(yield he)}s(O,"filter"),K.filter=O;function*M(ue,xe){let he=0;for(const I of ue)yield xe(I,he++)}s(M,"map"),K.map=M;function*g(ue,xe){let he=0;for(const I of ue)yield*xe(I,he++)}s(g,"flatMap"),K.flatMap=g;function*ee(...ue){for(const xe of ue)yield*xe}s(ee,"concat"),K.concat=ee;function H(ue,xe,he){let I=he;for(const c of ue)I=xe(I,c);return I}s(H,"reduce"),K.reduce=H;function*C(ue,xe,he=ue.length){for(xe<0&&(xe+=ue.length),he<0?he+=ue.length:he>ue.length&&(he=ue.length);xe<he;xe++)yield ue[xe]}s(C,"slice"),K.slice=C;function R(ue,xe=Number.POSITIVE_INFINITY){const he=[];if(xe===0)return[he,ue];const I=ue[Symbol.iterator]();for(let c=0;c<xe;c++){const f=I.next();if(f.done)return[he,K.empty()];he.push(f.value)}return[he,{[Symbol.iterator](){return I}}]}s(R,"consume"),K.consume=R;async function ie(ue){const xe=[];for await(const he of ue)xe.push(he);return Promise.resolve(xe)}s(ie,"asyncToArray"),K.asyncToArray=ie})(N||(N={}))},3946:(qe,Ce,v)=>{"use strict";v.d(Ce,{d:s(()=>N,"d")});const K=class K{constructor(Q){this.executor=Q,this._didRun=!1}get value(){if(!this._didRun)try{this._value=this.executor()}catch(Q){this._error=Q}finally{this._didRun=!0}if(this._error)throw this._error;return this._value}get rawValue(){return this._value}};s(K,"Lazy");let N=K},9235:(qe,Ce,v)=>{"use strict";v.d(Ce,{jG:s(()=>g,"jG"),$w:s(()=>R,"$w"),Cm:s(()=>M,"Cm"),HE:s(()=>ee,"HE"),qE:s(()=>P,"qE"),AS:s(()=>W,"AS"),VD:s(()=>u,"VD"),s:s(()=>O,"s"),Ay:s(()=>E,"Ay")});function N(f,d){const x=this;let B=!1,D;return function(){if(B)return D;if(B=!0,d)try{D=f.apply(x,arguments)}finally{d()}else D=f.apply(x,arguments);return D}}s(N,"createSingleCallFunction");var K=v(7954);const o=!1;let Q=null;function V(f){Q=f}if(s(V,"setDisposableTracker"),o){const f="__is_disposable_tracked__";V(new class{trackDisposable(d){const x=new Error("Potentially leaked disposable").stack;setTimeout(()=>{d[f]||console.log(x)},3e3)}setParent(d,x){if(d&&d!==g.None)try{d[f]=!0}catch{}}markAsDisposed(d){if(d&&d!==g.None)try{d[f]=!0}catch{}}markAsSingleton(d){}})}function E(f){return Q==null||Q.trackDisposable(f),f}s(E,"trackDisposable");function u(f){Q==null||Q.markAsDisposed(f)}s(u,"markAsDisposed");function G(f,d){Q==null||Q.setParent(f,d)}s(G,"setParentOfDisposable");function T(f,d){if(Q)for(const x of f)Q.setParent(x,d)}s(T,"setParentOfDisposables");function Y(f){return Q==null||Q.markAsSingleton(f),f}s(Y,"markAsSingleton");function y(f){return typeof f=="object"&&f!==null&&typeof f.dispose=="function"&&f.dispose.length===0}s(y,"isDisposable");function W(f){if(K.f.is(f)){const d=[];for(const x of f)if(x)try{x.dispose()}catch(B){d.push(B)}if(d.length===1)throw d[0];if(d.length>1)throw new AggregateError(d,"Encountered errors while disposing of store");return Array.isArray(f)?[]:f}else if(f)return f.dispose(),f}s(W,"dispose");function P(...f){const d=O(()=>W(f));return T(f,d),d}s(P,"combinedDisposable");function O(f){const d=E({dispose:N(()=>{u(d),f()})});return d}s(O,"toDisposable");const ie=class ie{constructor(){this._toDispose=new Set,this._isDisposed=!1,E(this)}dispose(){this._isDisposed||(u(this),this._isDisposed=!0,this.clear())}get isDisposed(){return this._isDisposed}clear(){if(this._toDispose.size!==0)try{W(this._toDispose)}finally{this._toDispose.clear()}}add(d){if(!d)return d;if(d===this)throw new Error("Cannot register a disposable on itself!");return G(d,this),this._isDisposed?ie.DISABLE_DISPOSED_WARNING||console.warn(new Error("Trying to add a disposable to a DisposableStore that has already been disposed of. The added object will be leaked!").stack):this._toDispose.add(d),d}deleteAndLeak(d){d&&this._toDispose.has(d)&&(this._toDispose.delete(d),G(d,null))}};s(ie,"DisposableStore"),ie.DISABLE_DISPOSED_WARNING=!1;let M=ie;const ue=class ue{constructor(){this._store=new M,E(this),G(this._store,this)}dispose(){u(this),this._store.dispose()}_register(d){if(d===this)throw new Error("Cannot register a disposable on itself!");return this._store.add(d)}};s(ue,"Disposable"),ue.None=Object.freeze({dispose(){}});let g=ue;const xe=class xe{constructor(){this._isDisposed=!1,E(this)}get value(){return this._isDisposed?void 0:this._value}set value(d){var x;this._isDisposed||d===this._value||((x=this._value)==null||x.dispose(),d&&G(d,this),this._value=d)}clear(){this.value=void 0}dispose(){var d;this._isDisposed=!0,u(this),(d=this._value)==null||d.dispose(),this._value=void 0}};s(xe,"MutableDisposable");let ee=xe;const he=class he{constructor(d){this._disposable=d,this._counter=1}acquire(){return this._counter++,this}release(){return--this._counter===0&&this._disposable.dispose(),this}};s(he,"RefCountedDisposable");let H=he;const I=class I{constructor(d){this.object=d}dispose(){}};s(I,"ImmortalReference");let C=I;const c=class c{constructor(){this._store=new Map,this._isDisposed=!1,E(this)}dispose(){u(this),this._isDisposed=!0,this.clearAndDisposeAll()}clearAndDisposeAll(){if(this._store.size)try{W(this._store.values())}finally{this._store.clear()}}get(d){return this._store.get(d)}set(d,x,B=!1){var D;this._isDisposed&&console.warn(new Error("Trying to add a disposable to a DisposableMap that has already been disposed of. The added object will be leaked!").stack),B||(D=this._store.get(d))==null||D.dispose(),this._store.set(d,x)}deleteAndDispose(d){var x;(x=this._store.get(d))==null||x.dispose(),this._store.delete(d)}[Symbol.iterator](){return this._store[Symbol.iterator]()}};s(c,"DisposableMap");let R=c},5525:(qe,Ce,v)=>{"use strict";v.d(Ce,{w:s(()=>K,"w")});const o=class o{constructor(E){this.element=E,this.next=o.Undefined,this.prev=o.Undefined}};s(o,"Node"),o.Undefined=new o(void 0);let N=o;const Q=class Q{constructor(){this._first=N.Undefined,this._last=N.Undefined,this._size=0}get size(){return this._size}isEmpty(){return this._first===N.Undefined}clear(){let E=this._first;for(;E!==N.Undefined;){const u=E.next;E.prev=N.Undefined,E.next=N.Undefined,E=u}this._first=N.Undefined,this._last=N.Undefined,this._size=0}unshift(E){return this._insert(E,!1)}push(E){return this._insert(E,!0)}_insert(E,u){const G=new N(E);if(this._first===N.Undefined)this._first=G,this._last=G;else if(u){const Y=this._last;this._last=G,G.prev=Y,Y.next=G}else{const Y=this._first;this._first=G,G.next=Y,Y.prev=G}this._size+=1;let T=!1;return()=>{T||(T=!0,this._remove(G))}}shift(){if(this._first!==N.Undefined){const E=this._first.element;return this._remove(this._first),E}}pop(){if(this._last!==N.Undefined){const E=this._last.element;return this._remove(this._last),E}}_remove(E){if(E.prev!==N.Undefined&&E.next!==N.Undefined){const u=E.prev;u.next=E.next,E.next.prev=u}else E.prev===N.Undefined&&E.next===N.Undefined?(this._first=N.Undefined,this._last=N.Undefined):E.next===N.Undefined?(this._last=this._last.prev,this._last.next=N.Undefined):E.prev===N.Undefined&&(this._first=this._first.next,this._first.prev=N.Undefined);this._size-=1}*[Symbol.iterator](){let E=this._first;for(;E!==N.Undefined;)yield E.element,E=E.next}};s(Q,"LinkedList");let K=Q},7992:(qe,Ce,v)=>{"use strict";v.d(Ce,{cO:s(()=>T,"cO"),db:s(()=>Y,"db"),fT:s(()=>V,"fT"),qK:s(()=>G,"qK")});var N,K;const y=class y{constructor(C,R){this.uri=C,this.value=R}};s(y,"ResourceMapEntry");let o=y;function Q(H){return Array.isArray(H)}s(Q,"isEntries");const W=class W{constructor(C,R){if(this[N]="ResourceMap",C instanceof W)this.map=new Map(C.map),this.toKey=R!=null?R:W.defaultToKey;else if(Q(C)){this.map=new Map,this.toKey=R!=null?R:W.defaultToKey;for(const[ie,ue]of C)this.set(ie,ue)}else this.map=new Map,this.toKey=C!=null?C:W.defaultToKey}set(C,R){return this.map.set(this.toKey(C),new o(C,R)),this}get(C){var R;return(R=this.map.get(this.toKey(C)))==null?void 0:R.value}has(C){return this.map.has(this.toKey(C))}get size(){return this.map.size}clear(){this.map.clear()}delete(C){return this.map.delete(this.toKey(C))}forEach(C,R){typeof R!="undefined"&&(C=C.bind(R));for(const[ie,ue]of this.map)C(ue.value,ue.uri,this)}*values(){for(const C of this.map.values())yield C.value}*keys(){for(const C of this.map.values())yield C.uri}*entries(){for(const C of this.map.values())yield[C.uri,C.value]}*[(N=Symbol.toStringTag,Symbol.iterator)](){for(const[,C]of this.map)yield[C.uri,C.value]}};s(W,"ResourceMap"),W.defaultToKey=C=>C.toString();let V=W;const P=class P{constructor(){this[K]="LinkedMap",this._map=new Map,this._head=void 0,this._tail=void 0,this._size=0,this._state=0}clear(){this._map.clear(),this._head=void 0,this._tail=void 0,this._size=0,this._state++}isEmpty(){return!this._head&&!this._tail}get size(){return this._size}get first(){var C;return(C=this._head)==null?void 0:C.value}get last(){var C;return(C=this._tail)==null?void 0:C.value}has(C){return this._map.has(C)}get(C,R=0){const ie=this._map.get(C);if(ie)return R!==0&&this.touch(ie,R),ie.value}set(C,R,ie=0){let ue=this._map.get(C);if(ue)ue.value=R,ie!==0&&this.touch(ue,ie);else{switch(ue={key:C,value:R,next:void 0,previous:void 0},ie){case 0:this.addItemLast(ue);break;case 1:this.addItemFirst(ue);break;case 2:this.addItemLast(ue);break;default:this.addItemLast(ue);break}this._map.set(C,ue),this._size++}return this}delete(C){return!!this.remove(C)}remove(C){const R=this._map.get(C);if(R)return this._map.delete(C),this.removeItem(R),this._size--,R.value}shift(){if(!this._head&&!this._tail)return;if(!this._head||!this._tail)throw new Error("Invalid list");const C=this._head;return this._map.delete(C.key),this.removeItem(C),this._size--,C.value}forEach(C,R){const ie=this._state;let ue=this._head;for(;ue;){if(R?C.bind(R)(ue.value,ue.key,this):C(ue.value,ue.key,this),this._state!==ie)throw new Error("LinkedMap got modified during iteration.");ue=ue.next}}keys(){const C=this,R=this._state;let ie=this._head;const ue={[Symbol.iterator](){return ue},next(){if(C._state!==R)throw new Error("LinkedMap got modified during iteration.");if(ie){const xe={value:ie.key,done:!1};return ie=ie.next,xe}else return{value:void 0,done:!0}}};return ue}values(){const C=this,R=this._state;let ie=this._head;const ue={[Symbol.iterator](){return ue},next(){if(C._state!==R)throw new Error("LinkedMap got modified during iteration.");if(ie){const xe={value:ie.value,done:!1};return ie=ie.next,xe}else return{value:void 0,done:!0}}};return ue}entries(){const C=this,R=this._state;let ie=this._head;const ue={[Symbol.iterator](){return ue},next(){if(C._state!==R)throw new Error("LinkedMap got modified during iteration.");if(ie){const xe={value:[ie.key,ie.value],done:!1};return ie=ie.next,xe}else return{value:void 0,done:!0}}};return ue}[(K=Symbol.toStringTag,Symbol.iterator)](){return this.entries()}trimOld(C){if(C>=this.size)return;if(C===0){this.clear();return}let R=this._head,ie=this.size;for(;R&&ie>C;)this._map.delete(R.key),R=R.next,ie--;this._head=R,this._size=ie,R&&(R.previous=void 0),this._state++}trimNew(C){if(C>=this.size)return;if(C===0){this.clear();return}let R=this._tail,ie=this.size;for(;R&&ie>C;)this._map.delete(R.key),R=R.previous,ie--;this._tail=R,this._size=ie,R&&(R.next=void 0),this._state++}addItemFirst(C){if(!this._head&&!this._tail)this._tail=C;else if(this._head)C.next=this._head,this._head.previous=C;else throw new Error("Invalid list");this._head=C,this._state++}addItemLast(C){if(!this._head&&!this._tail)this._head=C;else if(this._tail)C.previous=this._tail,this._tail.next=C;else throw new Error("Invalid list");this._tail=C,this._state++}removeItem(C){if(C===this._head&&C===this._tail)this._head=void 0,this._tail=void 0;else if(C===this._head){if(!C.next)throw new Error("Invalid list");C.next.previous=void 0,this._head=C.next}else if(C===this._tail){if(!C.previous)throw new Error("Invalid list");C.previous.next=void 0,this._tail=C.previous}else{const R=C.next,ie=C.previous;if(!R||!ie)throw new Error("Invalid list");R.previous=ie,ie.next=R}C.next=void 0,C.previous=void 0,this._state++}touch(C,R){if(!this._head||!this._tail)throw new Error("Invalid list");if(!(R!==1&&R!==2)){if(R===1){if(C===this._head)return;const ie=C.next,ue=C.previous;C===this._tail?(ue.next=void 0,this._tail=ue):(ie.previous=ue,ue.next=ie),C.previous=void 0,C.next=this._head,this._head.previous=C,this._head=C,this._state++}else if(R===2){if(C===this._tail)return;const ie=C.next,ue=C.previous;C===this._head?(ie.previous=void 0,this._head=ie):(ie.previous=ue,ue.next=ie),C.next=void 0,C.previous=this._tail,this._tail.next=C,this._tail=C,this._state++}}}toJSON(){const C=[];return this.forEach((R,ie)=>{C.push([ie,R])}),C}fromJSON(C){this.clear();for(const[R,ie]of C)this.set(R,ie)}};s(P,"LinkedMap");let E=P;const O=class O extends E{constructor(C,R=1){super(),this._limit=C,this._ratio=Math.min(Math.max(0,R),1)}get limit(){return this._limit}set limit(C){this._limit=C,this.checkTrim()}get(C,R=2){return super.get(C,R)}peek(C){return super.get(C,0)}set(C,R){return super.set(C,R,2),this}checkTrim(){this.size>this._limit&&this.trim(Math.round(this._limit*this._ratio))}};s(O,"Cache");let u=O;const M=class M extends u{constructor(C,R=1){super(C,R)}trim(C){this.trimOld(C)}set(C,R){return super.set(C,R),this.checkTrim(),this}};s(M,"LRUCache");let G=M;const g=class g{constructor(C){if(this._m1=new Map,this._m2=new Map,C)for(const[R,ie]of C)this.set(R,ie)}clear(){this._m1.clear(),this._m2.clear()}set(C,R){this._m1.set(C,R),this._m2.set(R,C)}get(C){return this._m1.get(C)}getKey(C){return this._m2.get(C)}delete(C){const R=this._m1.get(C);return R===void 0?!1:(this._m1.delete(C),this._m2.delete(R),!0)}keys(){return this._m1.keys()}values(){return this._m1.values()}};s(g,"BidirectionalMap");let T=g;const ee=class ee{constructor(){this.map=new Map}add(C,R){let ie=this.map.get(C);ie||(ie=new Set,this.map.set(C,ie)),ie.add(R)}delete(C,R){const ie=this.map.get(C);ie&&(ie.delete(R),ie.size===0&&this.map.delete(C))}forEach(C,R){const ie=this.map.get(C);ie&&ie.forEach(R)}get(C){const R=this.map.get(C);return R||new Set}};s(ee,"SetMap");let Y=ee},3720:(qe,Ce,v)=>{"use strict";v.d(Ce,{K:s(()=>N,"K")});const N=Object.freeze({text:"text/plain",binary:"application/octet-stream",unknown:"application/unknown",markdown:"text/markdown",latex:"text/latex",uriList:"text/uri-list"})},3072:(qe,Ce,v)=>{"use strict";v.d(Ce,{ny:s(()=>E,"ny"),v$:s(()=>u,"v$"),zl:s(()=>O,"zl")});var N=v(4327),K=v(3339),o=v(6844),Q=v(7264),V=v(4033),E;(function(H){H.inMemory="inmemory",H.vscode="vscode",H.internal="private",H.walkThrough="walkThrough",H.walkThroughSnippet="walkThroughSnippet",H.http="http",H.https="https",H.file="file",H.mailto="mailto",H.untitled="untitled",H.data="data",H.command="command",H.vscodeRemote="vscode-remote",H.vscodeRemoteResource="vscode-remote-resource",H.vscodeManagedRemoteResource="vscode-managed-remote-resource",H.vscodeUserData="vscode-userdata",H.vscodeCustomEditor="vscode-custom-editor",H.vscodeNotebookCell="vscode-notebook-cell",H.vscodeNotebookCellMetadata="vscode-notebook-cell-metadata",H.vscodeNotebookCellMetadataDiff="vscode-notebook-cell-metadata-diff",H.vscodeNotebookCellOutput="vscode-notebook-cell-output",H.vscodeNotebookCellOutputDiff="vscode-notebook-cell-output-diff",H.vscodeNotebookMetadata="vscode-notebook-metadata",H.vscodeInteractiveInput="vscode-interactive-input",H.vscodeSettings="vscode-settings",H.vscodeWorkspaceTrust="vscode-workspace-trust",H.vscodeTerminal="vscode-terminal",H.vscodeChatCodeBlock="vscode-chat-code-block",H.vscodeChatCodeCompareBlock="vscode-chat-code-compare-block",H.vscodeChatSesssion="vscode-chat-editor",H.webviewPanel="webview-panel",H.vscodeWebview="vscode-webview",H.extension="extension",H.vscodeFileResource="vscode-file",H.tmp="tmp",H.vsls="vsls",H.vscodeSourceControl="vscode-scm",H.commentsInput="comment",H.codeSetting="code-setting",H.outputChannel="output"})(E||(E={}));function u(H,C){return Q.r.isUri(H)?(0,o.Q_)(H.scheme,C):(0,o.ns)(H,C+":")}s(u,"matchesScheme");function G(H,...C){return C.some(R=>u(H,R))}s(G,"matchesSomeScheme");const T="tkn",g=class g{constructor(){this._hosts=Object.create(null),this._ports=Object.create(null),this._connectionTokens=Object.create(null),this._preferredWebSchema="http",this._delegate=null,this._serverRootPath="/"}setPreferredWebSchema(C){this._preferredWebSchema=C}get _remoteResourcesPath(){return V.SA.join(this._serverRootPath,E.vscodeRemoteResource)}rewrite(C){if(this._delegate)try{return this._delegate(C)}catch(I){return N.dz(I),C}const R=C.authority;let ie=this._hosts[R];ie&&ie.indexOf(":")!==-1&&ie.indexOf("[")===-1&&(ie=`[${ie}]`);const ue=this._ports[R],xe=this._connectionTokens[R];let he=`path=${encodeURIComponent(C.path)}`;return typeof xe=="string"&&(he+=`&${T}=${encodeURIComponent(xe)}`),Q.r.from({scheme:K.HZ?this._preferredWebSchema:E.vscodeRemoteResource,authority:`${ie}:${ue}`,path:this._remoteResourcesPath,query:he})}};s(g,"RemoteAuthoritiesImpl");let Y=g;const y=new Y,W="vscode-app",ee=class ee{asBrowserUri(C){const R=this.toUri(C);return this.uriToBrowserUri(R)}uriToBrowserUri(C){return C.scheme===E.vscodeRemote?y.rewrite(C):C.scheme===E.file&&(K.ib||K.lg===`${E.vscodeFileResource}://${ee.FALLBACK_AUTHORITY}`)?C.with({scheme:E.vscodeFileResource,authority:C.authority||ee.FALLBACK_AUTHORITY,query:null,fragment:null}):C}toUri(C,R){if(Q.r.isUri(C))return C;if(globalThis._VSCODE_FILE_ROOT){const ie=globalThis._VSCODE_FILE_ROOT;if(/^\w[\w\d+.-]*:\/\//.test(ie))return Q.r.joinPath(Q.r.parse(ie,!0),C);const ue=V.fj(ie,C);return Q.r.file(ue)}return Q.r.parse(R.toUrl(C))}};s(ee,"FileAccessImpl"),ee.FALLBACK_AUTHORITY=W;let P=ee;const O=new P;var M;(function(H){const C=new Map([["1",{"Cross-Origin-Opener-Policy":"same-origin"}],["2",{"Cross-Origin-Embedder-Policy":"require-corp"}],["3",{"Cross-Origin-Opener-Policy":"same-origin","Cross-Origin-Embedder-Policy":"require-corp"}]]);H.CoopAndCoep=Object.freeze(C.get("3"));const R="vscode-coi";function ie(xe){let he;typeof xe=="string"?he=new URL(xe).searchParams:xe instanceof URL?he=xe.searchParams:Q.r.isUri(xe)&&(he=new URL(xe.toString(!0)).searchParams);const I=he==null?void 0:he.get(R);if(I)return C.get(I)}s(ie,"getHeadersFromQuery"),H.getHeadersFromQuery=ie;function ue(xe,he,I){if(!globalThis.crossOriginIsolated)return;const c=he&&I?"3":I?"2":"1";xe instanceof URLSearchParams?xe.set(R,c):xe[R]=c}s(ue,"addSearchParam"),H.addSearchParam=ue})(M||(M={}))},1386:(qe,Ce,v)=>{"use strict";v.d(Ce,{V0:s(()=>T,"V0"),aI:s(()=>u,"aI"),kT:s(()=>Y,"kT")});function N(y){if(!y||typeof y!="object"||y instanceof RegExp)return y;const W=Array.isArray(y)?[]:{};return Object.entries(y).forEach(([P,O])=>{W[P]=O&&typeof O=="object"?N(O):O}),W}s(N,"deepClone");function K(y){if(!y||typeof y!="object")return y;const W=[y];for(;W.length>0;){const P=W.shift();Object.freeze(P);for(const O in P)if(o.call(P,O)){const M=P[O];typeof M=="object"&&!Object.isFrozen(M)&&!isTypedArray(M)&&W.push(M)}}return y}s(K,"deepFreeze");const o=Object.prototype.hasOwnProperty;function Q(y,W){return V(y,W,new Set)}s(Q,"cloneAndChange");function V(y,W,P){if(isUndefinedOrNull(y))return y;const O=W(y);if(typeof O!="undefined")return O;if(Array.isArray(y)){const M=[];for(const g of y)M.push(V(g,W,P));return M}if(isObject(y)){if(P.has(y))throw new Error("Cannot clone recursive data-structure");P.add(y);const M={};for(const g in y)o.call(y,g)&&(M[g]=V(y[g],W,P));return P.delete(y),M}return y}s(V,"_cloneAndChange");function E(y,W,P=!0){return isObject(y)?(isObject(W)&&Object.keys(W).forEach(O=>{O in y?P&&(isObject(y[O])&&isObject(W[O])?E(y[O],W[O],P):y[O]=W[O]):y[O]=W[O]}),y):W}s(E,"mixin");function u(y,W){if(y===W)return!0;if(y==null||W===null||W===void 0||typeof y!=typeof W||typeof y!="object"||Array.isArray(y)!==Array.isArray(W))return!1;let P,O;if(Array.isArray(y)){if(y.length!==W.length)return!1;for(P=0;P<y.length;P++)if(!u(y[P],W[P]))return!1}else{const M=[];for(O in y)M.push(O);M.sort();const g=[];for(O in W)g.push(O);if(g.sort(),!u(M,g))return!1;for(P=0;P<M.length;P++)if(!u(y[M[P]],W[M[P]]))return!1}return!0}s(u,"equals");function G(y){let W=[];for(;Object.prototype!==y;)W=W.concat(Object.getOwnPropertyNames(y)),y=Object.getPrototypeOf(y);return W}s(G,"getAllPropertyNames");function T(y){const W=[];for(const P of G(y))typeof y[P]=="function"&&W.push(P);return W}s(T,"getAllMethodNames");function Y(y,W){const P=s(M=>function(){const g=Array.prototype.slice.call(arguments,0);return W(M,g)},"createProxyMethod"),O={};for(const M of y)O[M]=P(M);return O}s(Y,"createProxyObject")},4033:(qe,Ce,v)=>{"use strict";var Ae;v.d(Ce,{P8:s(()=>re,"P8"),pD:s(()=>se,"pD"),LC:s(()=>_e,"LC"),fj:s(()=>B,"fj"),S8:s(()=>x,"S8"),SA:s(()=>d,"SA"),V8:s(()=>q,"V8"),hd:s(()=>D,"hd"),Vn:s(()=>Se,"Vn"),IN:s(()=>c,"IN")});var N=v(3339);let K;const o=globalThis.vscode;if(typeof o!="undefined"&&typeof o.process!="undefined"){const L=o.process;K={get platform(){return L.platform},get arch(){return L.arch},get env(){return L.env},cwd(){return L.cwd()}}}else typeof process!="undefined"&&typeof((Ae=process==null?void 0:process.versions)==null?void 0:Ae.node)=="string"?K={get platform(){return process.platform},get arch(){return process.arch},get env(){return process.env},cwd(){return process.env.VSCODE_CWD||process.cwd()}}:K={get platform(){return N.uF?"win32":N.zx?"darwin":"linux"},get arch(){},get env(){return{}},cwd(){return"/"}};const Q=K.cwd,V=K.env,E=K.platform,u=65,G=97,T=90,Y=122,y=46,W=47,P=92,O=58,M=63,we=class we extends Error{constructor(A,z,b){let S;typeof z=="string"&&z.indexOf("not ")===0?(S="must not be",z=z.replace(/^not /,"")):S="must be";const $=A.indexOf(".")!==-1?"property":"argument";let te=`The "${A}" ${$} ${S} of type ${z}`;te+=`. Received type ${typeof b}`,super(te),this.code="ERR_INVALID_ARG_TYPE"}};s(we,"ErrorInvalidArgType");let g=we;function ee(L,A){if(L===null||typeof L!="object")throw new g(A,"Object",L)}s(ee,"validateObject");function H(L,A){if(typeof L!="string")throw new g(A,"string",L)}s(H,"validateString");const C=E==="win32";function R(L){return L===W||L===P}s(R,"isPathSeparator");function ie(L){return L===W}s(ie,"isPosixPathSeparator");function ue(L){return L>=u&&L<=T||L>=G&&L<=Y}s(ue,"isWindowsDeviceRoot");function xe(L,A,z,b){let S="",$=0,te=-1,ce=0,Te=0;for(let Ne=0;Ne<=L.length;++Ne){if(Ne<L.length)Te=L.charCodeAt(Ne);else{if(b(Te))break;Te=W}if(b(Te)){if(!(te===Ne-1||ce===1))if(ce===2){if(S.length<2||$!==2||S.charCodeAt(S.length-1)!==y||S.charCodeAt(S.length-2)!==y){if(S.length>2){const He=S.lastIndexOf(z);He===-1?(S="",$=0):(S=S.slice(0,He),$=S.length-1-S.lastIndexOf(z)),te=Ne,ce=0;continue}else if(S.length!==0){S="",$=0,te=Ne,ce=0;continue}}A&&(S+=S.length>0?`${z}..`:"..",$=2)}else S.length>0?S+=`${z}${L.slice(te+1,Ne)}`:S=L.slice(te+1,Ne),$=Ne-te-1;te=Ne,ce=0}else Te===y&&ce!==-1?++ce:ce=-1}return S}s(xe,"normalizeString");function he(L){return L?`${L[0]==="."?"":"."}${L}`:""}s(he,"formatExt");function I(L,A){ee(A,"pathObject");const z=A.dir||A.root,b=A.base||`${A.name||""}${he(A.ext)}`;return z?z===A.root?`${z}${b}`:`${z}${L}${b}`:b}s(I,"_format");const c={resolve(...L){let A="",z="",b=!1;for(let S=L.length-1;S>=-1;S--){let $;if(S>=0){if($=L[S],H($,`paths[${S}]`),$.length===0)continue}else A.length===0?$=Q():($=V[`=${A}`]||Q(),($===void 0||$.slice(0,2).toLowerCase()!==A.toLowerCase()&&$.charCodeAt(2)===P)&&($=`${A}\\`));const te=$.length;let ce=0,Te="",Ne=!1;const He=$.charCodeAt(0);if(te===1)R(He)&&(ce=1,Ne=!0);else if(R(He))if(Ne=!0,R($.charCodeAt(1))){let Pe=2,Xe=Pe;for(;Pe<te&&!R($.charCodeAt(Pe));)Pe++;if(Pe<te&&Pe!==Xe){const xt=$.slice(Xe,Pe);for(Xe=Pe;Pe<te&&R($.charCodeAt(Pe));)Pe++;if(Pe<te&&Pe!==Xe){for(Xe=Pe;Pe<te&&!R($.charCodeAt(Pe));)Pe++;(Pe===te||Pe!==Xe)&&(Te=`\\\\${xt}\\${$.slice(Xe,Pe)}`,ce=Pe)}}}else ce=1;else ue(He)&&$.charCodeAt(1)===O&&(Te=$.slice(0,2),ce=2,te>2&&R($.charCodeAt(2))&&(Ne=!0,ce=3));if(Te.length>0)if(A.length>0){if(Te.toLowerCase()!==A.toLowerCase())continue}else A=Te;if(b){if(A.length>0)break}else if(z=`${$.slice(ce)}\\${z}`,b=Ne,Ne&&A.length>0)break}return z=xe(z,!b,"\\",R),b?`${A}\\${z}`:`${A}${z}`||"."},normalize(L){H(L,"path");const A=L.length;if(A===0)return".";let z=0,b,S=!1;const $=L.charCodeAt(0);if(A===1)return ie($)?"\\":L;if(R($))if(S=!0,R(L.charCodeAt(1))){let ce=2,Te=ce;for(;ce<A&&!R(L.charCodeAt(ce));)ce++;if(ce<A&&ce!==Te){const Ne=L.slice(Te,ce);for(Te=ce;ce<A&&R(L.charCodeAt(ce));)ce++;if(ce<A&&ce!==Te){for(Te=ce;ce<A&&!R(L.charCodeAt(ce));)ce++;if(ce===A)return`\\\\${Ne}\\${L.slice(Te)}\\`;ce!==Te&&(b=`\\\\${Ne}\\${L.slice(Te,ce)}`,z=ce)}}}else z=1;else ue($)&&L.charCodeAt(1)===O&&(b=L.slice(0,2),z=2,A>2&&R(L.charCodeAt(2))&&(S=!0,z=3));let te=z<A?xe(L.slice(z),!S,"\\",R):"";return te.length===0&&!S&&(te="."),te.length>0&&R(L.charCodeAt(A-1))&&(te+="\\"),b===void 0?S?`\\${te}`:te:S?`${b}\\${te}`:`${b}${te}`},isAbsolute(L){H(L,"path");const A=L.length;if(A===0)return!1;const z=L.charCodeAt(0);return R(z)||A>2&&ue(z)&&L.charCodeAt(1)===O&&R(L.charCodeAt(2))},join(...L){if(L.length===0)return".";let A,z;for(let $=0;$<L.length;++$){const te=L[$];H(te,"path"),te.length>0&&(A===void 0?A=z=te:A+=`\\${te}`)}if(A===void 0)return".";let b=!0,S=0;if(typeof z=="string"&&R(z.charCodeAt(0))){++S;const $=z.length;$>1&&R(z.charCodeAt(1))&&(++S,$>2&&(R(z.charCodeAt(2))?++S:b=!1))}if(b){for(;S<A.length&&R(A.charCodeAt(S));)S++;S>=2&&(A=`\\${A.slice(S)}`)}return c.normalize(A)},relative(L,A){if(H(L,"from"),H(A,"to"),L===A)return"";const z=c.resolve(L),b=c.resolve(A);if(z===b||(L=z.toLowerCase(),A=b.toLowerCase(),L===A))return"";let S=0;for(;S<L.length&&L.charCodeAt(S)===P;)S++;let $=L.length;for(;$-1>S&&L.charCodeAt($-1)===P;)$--;const te=$-S;let ce=0;for(;ce<A.length&&A.charCodeAt(ce)===P;)ce++;let Te=A.length;for(;Te-1>ce&&A.charCodeAt(Te-1)===P;)Te--;const Ne=Te-ce,He=te<Ne?te:Ne;let Pe=-1,Xe=0;for(;Xe<He;Xe++){const dt=L.charCodeAt(S+Xe);if(dt!==A.charCodeAt(ce+Xe))break;dt===P&&(Pe=Xe)}if(Xe!==He){if(Pe===-1)return b}else{if(Ne>He){if(A.charCodeAt(ce+Xe)===P)return b.slice(ce+Xe+1);if(Xe===2)return b.slice(ce+Xe)}te>He&&(L.charCodeAt(S+Xe)===P?Pe=Xe:Xe===2&&(Pe=3)),Pe===-1&&(Pe=0)}let xt="";for(Xe=S+Pe+1;Xe<=$;++Xe)(Xe===$||L.charCodeAt(Xe)===P)&&(xt+=xt.length===0?"..":"\\..");return ce+=Pe,xt.length>0?`${xt}${b.slice(ce,Te)}`:(b.charCodeAt(ce)===P&&++ce,b.slice(ce,Te))},toNamespacedPath(L){if(typeof L!="string"||L.length===0)return L;const A=c.resolve(L);if(A.length<=2)return L;if(A.charCodeAt(0)===P){if(A.charCodeAt(1)===P){const z=A.charCodeAt(2);if(z!==M&&z!==y)return`\\\\?\\UNC\\${A.slice(2)}`}}else if(ue(A.charCodeAt(0))&&A.charCodeAt(1)===O&&A.charCodeAt(2)===P)return`\\\\?\\${A}`;return L},dirname(L){H(L,"path");const A=L.length;if(A===0)return".";let z=-1,b=0;const S=L.charCodeAt(0);if(A===1)return R(S)?L:".";if(R(S)){if(z=b=1,R(L.charCodeAt(1))){let ce=2,Te=ce;for(;ce<A&&!R(L.charCodeAt(ce));)ce++;if(ce<A&&ce!==Te){for(Te=ce;ce<A&&R(L.charCodeAt(ce));)ce++;if(ce<A&&ce!==Te){for(Te=ce;ce<A&&!R(L.charCodeAt(ce));)ce++;if(ce===A)return L;ce!==Te&&(z=b=ce+1)}}}}else ue(S)&&L.charCodeAt(1)===O&&(z=A>2&&R(L.charCodeAt(2))?3:2,b=z);let $=-1,te=!0;for(let ce=A-1;ce>=b;--ce)if(R(L.charCodeAt(ce))){if(!te){$=ce;break}}else te=!1;if($===-1){if(z===-1)return".";$=z}return L.slice(0,$)},basename(L,A){A!==void 0&&H(A,"suffix"),H(L,"path");let z=0,b=-1,S=!0,$;if(L.length>=2&&ue(L.charCodeAt(0))&&L.charCodeAt(1)===O&&(z=2),A!==void 0&&A.length>0&&A.length<=L.length){if(A===L)return"";let te=A.length-1,ce=-1;for($=L.length-1;$>=z;--$){const Te=L.charCodeAt($);if(R(Te)){if(!S){z=$+1;break}}else ce===-1&&(S=!1,ce=$+1),te>=0&&(Te===A.charCodeAt(te)?--te===-1&&(b=$):(te=-1,b=ce))}return z===b?b=ce:b===-1&&(b=L.length),L.slice(z,b)}for($=L.length-1;$>=z;--$)if(R(L.charCodeAt($))){if(!S){z=$+1;break}}else b===-1&&(S=!1,b=$+1);return b===-1?"":L.slice(z,b)},extname(L){H(L,"path");let A=0,z=-1,b=0,S=-1,$=!0,te=0;L.length>=2&&L.charCodeAt(1)===O&&ue(L.charCodeAt(0))&&(A=b=2);for(let ce=L.length-1;ce>=A;--ce){const Te=L.charCodeAt(ce);if(R(Te)){if(!$){b=ce+1;break}continue}S===-1&&($=!1,S=ce+1),Te===y?z===-1?z=ce:te!==1&&(te=1):z!==-1&&(te=-1)}return z===-1||S===-1||te===0||te===1&&z===S-1&&z===b+1?"":L.slice(z,S)},format:I.bind(null,"\\"),parse(L){H(L,"path");const A={root:"",dir:"",base:"",ext:"",name:""};if(L.length===0)return A;const z=L.length;let b=0,S=L.charCodeAt(0);if(z===1)return R(S)?(A.root=A.dir=L,A):(A.base=A.name=L,A);if(R(S)){if(b=1,R(L.charCodeAt(1))){let Pe=2,Xe=Pe;for(;Pe<z&&!R(L.charCodeAt(Pe));)Pe++;if(Pe<z&&Pe!==Xe){for(Xe=Pe;Pe<z&&R(L.charCodeAt(Pe));)Pe++;if(Pe<z&&Pe!==Xe){for(Xe=Pe;Pe<z&&!R(L.charCodeAt(Pe));)Pe++;Pe===z?b=Pe:Pe!==Xe&&(b=Pe+1)}}}}else if(ue(S)&&L.charCodeAt(1)===O){if(z<=2)return A.root=A.dir=L,A;if(b=2,R(L.charCodeAt(2))){if(z===3)return A.root=A.dir=L,A;b=3}}b>0&&(A.root=L.slice(0,b));let $=-1,te=b,ce=-1,Te=!0,Ne=L.length-1,He=0;for(;Ne>=b;--Ne){if(S=L.charCodeAt(Ne),R(S)){if(!Te){te=Ne+1;break}continue}ce===-1&&(Te=!1,ce=Ne+1),S===y?$===-1?$=Ne:He!==1&&(He=1):$!==-1&&(He=-1)}return ce!==-1&&($===-1||He===0||He===1&&$===ce-1&&$===te+1?A.base=A.name=L.slice(te,ce):(A.name=L.slice(te,$),A.base=L.slice(te,ce),A.ext=L.slice($,ce))),te>0&&te!==b?A.dir=L.slice(0,te-1):A.dir=A.root,A},sep:"\\",delimiter:";",win32:null,posix:null},f=(()=>{if(C){const L=/\\/g;return()=>{const A=Q().replace(L,"/");return A.slice(A.indexOf("/"))}}return()=>Q()})(),d={resolve(...L){let A="",z=!1;for(let b=L.length-1;b>=-1&&!z;b--){const S=b>=0?L[b]:f();H(S,`paths[${b}]`),S.length!==0&&(A=`${S}/${A}`,z=S.charCodeAt(0)===W)}return A=xe(A,!z,"/",ie),z?`/${A}`:A.length>0?A:"."},normalize(L){if(H(L,"path"),L.length===0)return".";const A=L.charCodeAt(0)===W,z=L.charCodeAt(L.length-1)===W;return L=xe(L,!A,"/",ie),L.length===0?A?"/":z?"./":".":(z&&(L+="/"),A?`/${L}`:L)},isAbsolute(L){return H(L,"path"),L.length>0&&L.charCodeAt(0)===W},join(...L){if(L.length===0)return".";let A;for(let z=0;z<L.length;++z){const b=L[z];H(b,"path"),b.length>0&&(A===void 0?A=b:A+=`/${b}`)}return A===void 0?".":d.normalize(A)},relative(L,A){if(H(L,"from"),H(A,"to"),L===A||(L=d.resolve(L),A=d.resolve(A),L===A))return"";const z=1,b=L.length,S=b-z,$=1,te=A.length-$,ce=S<te?S:te;let Te=-1,Ne=0;for(;Ne<ce;Ne++){const Pe=L.charCodeAt(z+Ne);if(Pe!==A.charCodeAt($+Ne))break;Pe===W&&(Te=Ne)}if(Ne===ce)if(te>ce){if(A.charCodeAt($+Ne)===W)return A.slice($+Ne+1);if(Ne===0)return A.slice($+Ne)}else S>ce&&(L.charCodeAt(z+Ne)===W?Te=Ne:Ne===0&&(Te=0));let He="";for(Ne=z+Te+1;Ne<=b;++Ne)(Ne===b||L.charCodeAt(Ne)===W)&&(He+=He.length===0?"..":"/..");return`${He}${A.slice($+Te)}`},toNamespacedPath(L){return L},dirname(L){if(H(L,"path"),L.length===0)return".";const A=L.charCodeAt(0)===W;let z=-1,b=!0;for(let S=L.length-1;S>=1;--S)if(L.charCodeAt(S)===W){if(!b){z=S;break}}else b=!1;return z===-1?A?"/":".":A&&z===1?"//":L.slice(0,z)},basename(L,A){A!==void 0&&H(A,"ext"),H(L,"path");let z=0,b=-1,S=!0,$;if(A!==void 0&&A.length>0&&A.length<=L.length){if(A===L)return"";let te=A.length-1,ce=-1;for($=L.length-1;$>=0;--$){const Te=L.charCodeAt($);if(Te===W){if(!S){z=$+1;break}}else ce===-1&&(S=!1,ce=$+1),te>=0&&(Te===A.charCodeAt(te)?--te===-1&&(b=$):(te=-1,b=ce))}return z===b?b=ce:b===-1&&(b=L.length),L.slice(z,b)}for($=L.length-1;$>=0;--$)if(L.charCodeAt($)===W){if(!S){z=$+1;break}}else b===-1&&(S=!1,b=$+1);return b===-1?"":L.slice(z,b)},extname(L){H(L,"path");let A=-1,z=0,b=-1,S=!0,$=0;for(let te=L.length-1;te>=0;--te){const ce=L.charCodeAt(te);if(ce===W){if(!S){z=te+1;break}continue}b===-1&&(S=!1,b=te+1),ce===y?A===-1?A=te:$!==1&&($=1):A!==-1&&($=-1)}return A===-1||b===-1||$===0||$===1&&A===b-1&&A===z+1?"":L.slice(A,b)},format:I.bind(null,"/"),parse(L){H(L,"path");const A={root:"",dir:"",base:"",ext:"",name:""};if(L.length===0)return A;const z=L.charCodeAt(0)===W;let b;z?(A.root="/",b=1):b=0;let S=-1,$=0,te=-1,ce=!0,Te=L.length-1,Ne=0;for(;Te>=b;--Te){const He=L.charCodeAt(Te);if(He===W){if(!ce){$=Te+1;break}continue}te===-1&&(ce=!1,te=Te+1),He===y?S===-1?S=Te:Ne!==1&&(Ne=1):S!==-1&&(Ne=-1)}if(te!==-1){const He=$===0&&z?1:$;S===-1||Ne===0||Ne===1&&S===te-1&&S===$+1?A.base=A.name=L.slice(He,te):(A.name=L.slice(He,S),A.base=L.slice(He,te),A.ext=L.slice(S,te))}return $>0?A.dir=L.slice(0,$-1):z&&(A.dir="/"),A},sep:"/",delimiter:":",win32:null,posix:null};d.win32=c.win32=c,d.posix=c.posix=d;const x=C?c.normalize:d.normalize,B=C?c.join:d.join,D=C?c.resolve:d.resolve,q=C?c.relative:d.relative,se=C?c.dirname:d.dirname,re=C?c.basename:d.basename,_e=C?c.extname:d.extname,Se=C?c.sep:d.sep},3339:(qe,Ce,v)=>{"use strict";var te,ce,Te;v.d(Ce,{H8:s(()=>A,"H8"),HZ:s(()=>f,"HZ"),OS:s(()=>Se,"OS"),UP:s(()=>S,"UP"),_p:s(()=>_e,"_p"),cm:s(()=>L,"cm"),gm:s(()=>z,"gm"),ib:s(()=>c,"ib"),j9:s(()=>I,"j9"),lg:s(()=>x,"lg"),nr:s(()=>b,"nr"),uF:s(()=>xe,"uF"),zx:s(()=>he,"zx")});var N=v(9746);const K="en";let o=!1,Q=!1,V=!1,E=!1,u=!1,G=!1,T=!1,Y=!1,y=!1,W=!1,P,O=null,M=null,g=null,ee;const H=globalThis;let C;typeof H.vscode!="undefined"&&typeof H.vscode.process!="undefined"?C=H.vscode.process:typeof process!="undefined"&&typeof((te=process==null?void 0:process.versions)==null?void 0:te.node)=="string"&&(C=process);const R=typeof((ce=C==null?void 0:C.versions)==null?void 0:ce.electron)=="string",ie=R&&(C==null?void 0:C.type)==="renderer";if(typeof C=="object"){o=C.platform==="win32",Q=C.platform==="darwin",V=C.platform==="linux",E=V&&!!C.env.SNAP&&!!C.env.SNAP_REVISION,T=R,y=!!C.env.CI||!!C.env.BUILD_ARTIFACTSTAGINGDIRECTORY,P=K,O=K;const Ne=C.env.VSCODE_NLS_CONFIG;if(Ne)try{const He=JSON.parse(Ne);P=He.userLocale,M=He.osLocale,O=He.resolvedLanguage||K,g=(Te=He.languagePack)==null?void 0:Te.translationsConfigFile}catch{}u=!0}else typeof navigator=="object"&&!ie?(ee=navigator.userAgent,o=ee.indexOf("Windows")>=0,Q=ee.indexOf("Macintosh")>=0,Y=(ee.indexOf("Macintosh")>=0||ee.indexOf("iPad")>=0||ee.indexOf("iPhone")>=0)&&!!navigator.maxTouchPoints&&navigator.maxTouchPoints>0,V=ee.indexOf("Linux")>=0,W=(ee==null?void 0:ee.indexOf("Mobi"))>=0,G=!0,O=N.i8()||K,P=navigator.language.toLowerCase(),M=P):console.error("Unable to resolve platform.");let ue=0;Q?ue=1:o?ue=3:V&&(ue=2);const xe=o,he=Q,I=V,c=u,f=G,x=G&&typeof H.importScripts=="function"?H.origin:void 0,B=null,D=null,q=ee,se=null,re=typeof H.postMessage=="function"&&!H.importScripts,_e=(()=>{if(re){const Ne=[];H.addEventListener("message",Pe=>{if(Pe.data&&Pe.data.vscodeScheduleAsyncWork)for(let Xe=0,xt=Ne.length;Xe<xt;Xe++){const dt=Ne[Xe];if(dt.id===Pe.data.vscodeScheduleAsyncWork){Ne.splice(Xe,1),dt.callback();return}}});let He=0;return Pe=>{const Xe=++He;Ne.push({id:Xe,callback:Pe}),H.postMessage({vscodeScheduleAsyncWork:Xe},"*")}}return Ne=>setTimeout(Ne)})(),Se=Q||Y?2:o?1:3;let Ae=!0,we=!1;function L(){if(!we){we=!0;const Ne=new Uint8Array(2);Ne[0]=1,Ne[1]=2,Ae=new Uint16Array(Ne.buffer)[0]===513}return Ae}s(L,"isLittleEndian");const A=!!(q&&q.indexOf("Chrome")>=0),z=!!(q&&q.indexOf("Firefox")>=0),b=!!(!A&&q&&q.indexOf("Safari")>=0),S=!!(q&&q.indexOf("Edg/")>=0),$=!!(q&&q.indexOf("Android")>=0)},2467:(qe,Ce,v)=>{"use strict";v.d(Ce,{B6:s(()=>d,"B6"),P8:s(()=>g,"P8")});var N=v(8518),K=v(3072),o=v(4033),Q=v(3339),V=v(6844),E=v(7264);function u(B){return(0,E.I)(B,!0)}s(u,"originalFSPath");const x=class x{constructor(D){this._ignorePathCasing=D}compare(D,q,se=!1){return D===q?0:(0,V.UD)(this.getComparisonKey(D,se),this.getComparisonKey(q,se))}isEqual(D,q,se=!1){return D===q?!0:!D||!q?!1:this.getComparisonKey(D,se)===this.getComparisonKey(q,se)}getComparisonKey(D,q=!1){return D.with({path:this._ignorePathCasing(D)?D.path.toLowerCase():void 0,fragment:q?null:void 0}).toString()}isEqualOrParent(D,q,se=!1){if(D.scheme===q.scheme){if(D.scheme===K.ny.file)return N._1(u(D),u(q),this._ignorePathCasing(D))&&D.query===q.query&&(se||D.fragment===q.fragment);if(he(D.authority,q.authority))return N._1(D.path,q.path,this._ignorePathCasing(D),"/")&&D.query===q.query&&(se||D.fragment===q.fragment)}return!1}joinPath(D,...q){return E.r.joinPath(D,...q)}basenameOrAuthority(D){return g(D)||D.authority}basename(D){return o.SA.basename(D.path)}extname(D){return o.SA.extname(D.path)}dirname(D){if(D.path.length===0)return D;let q;return D.scheme===K.ny.file?q=E.r.file(o.pD(u(D))).path:(q=o.SA.dirname(D.path),D.authority&&q.length&&q.charCodeAt(0)!==47&&(console.error(`dirname("${D.toString})) resulted in a relative path`),q="/")),D.with({path:q})}normalizePath(D){if(!D.path.length)return D;let q;return D.scheme===K.ny.file?q=E.r.file(o.S8(u(D))).path:q=o.SA.normalize(D.path),D.with({path:q})}relativePath(D,q){if(D.scheme!==q.scheme||!he(D.authority,q.authority))return;if(D.scheme===K.ny.file){const _e=o.V8(u(D),u(q));return Q.uF?N.TH(_e):_e}let se=D.path||"/";const re=q.path||"/";if(this._ignorePathCasing(D)){let _e=0;for(const Se=Math.min(se.length,re.length);_e<Se&&!(se.charCodeAt(_e)!==re.charCodeAt(_e)&&se.charAt(_e).toLowerCase()!==re.charAt(_e).toLowerCase());_e++);se=re.substr(0,_e)+se.substr(_e)}return o.SA.relative(se,re)}resolvePath(D,q){if(D.scheme===K.ny.file){const se=E.r.file(o.hd(u(D),q));return D.with({authority:se.authority,path:se.path})}return q=N.kb(q),D.with({path:o.SA.resolve(D.path,q)})}isAbsolutePath(D){return!!D.path&&D.path[0]==="/"}isEqualAuthority(D,q){return D===q||D!==void 0&&q!==void 0&&(0,V.Q_)(D,q)}hasTrailingPathSeparator(D,q=o.Vn){if(D.scheme===K.ny.file){const se=u(D);return se.length>N.Zn(se).length&&se[se.length-1]===q}else{const se=D.path;return se.length>1&&se.charCodeAt(se.length-1)===47&&!/^[a-zA-Z]:(\/$|\\$)/.test(D.fsPath)}}removeTrailingPathSeparator(D,q=o.Vn){return I(D,q)?D.with({path:D.path.substr(0,D.path.length-1)}):D}addTrailingPathSeparator(D,q=o.Vn){let se=!1;if(D.scheme===K.ny.file){const re=u(D);se=re!==void 0&&re.length===N.Zn(re).length&&re[re.length-1]===q}else{q="/";const re=D.path;se=re.length===1&&re.charCodeAt(re.length-1)===47}return!se&&!I(D,q)?D.with({path:D.path+"/"}):D}};s(x,"ExtUri");let G=x;const T=new G(()=>!1),Y=new G(B=>B.scheme===K.ny.file?!Q.j9:!0),y=new G(B=>!0),W=T.isEqual.bind(T),P=T.isEqualOrParent.bind(T),O=T.getComparisonKey.bind(T),M=T.basenameOrAuthority.bind(T),g=T.basename.bind(T),ee=T.extname.bind(T),H=T.dirname.bind(T),C=T.joinPath.bind(T),R=T.normalizePath.bind(T),ie=T.relativePath.bind(T),ue=T.resolvePath.bind(T),xe=T.isAbsolutePath.bind(T),he=T.isEqualAuthority.bind(T),I=T.hasTrailingPathSeparator.bind(T),c=T.removeTrailingPathSeparator.bind(T),f=T.addTrailingPathSeparator.bind(T);var d;(function(B){B.META_DATA_LABEL="label",B.META_DATA_DESCRIPTION="description",B.META_DATA_SIZE="size",B.META_DATA_MIME="mime";function D(q){const se=new Map;q.path.substring(q.path.indexOf(";")+1,q.path.lastIndexOf(";")).split(";").forEach(Se=>{const[Ae,we]=Se.split(":");Ae&&we&&se.set(Ae,we)});const _e=q.path.substring(0,q.path.indexOf(";"));return _e&&se.set(B.META_DATA_MIME,_e),se}s(D,"parseMetaData"),B.parseMetaData=D})(d||(d={}))},3013:(qe,Ce,v)=>{"use strict";v.d(Ce,{W:s(()=>K,"W")});const N=globalThis.performance&&typeof globalThis.performance.now=="function",o=class o{static create(V){return new o(V)}constructor(V){this._now=N&&V===!1?Date.now:globalThis.performance.now.bind(globalThis.performance),this._startTime=this._now(),this._stopTime=-1}stop(){this._stopTime=this._now()}reset(){this._startTime=this._now(),this._stopTime=-1}elapsed(){return this._stopTime!==-1?this._stopTime-this._startTime:this._now()-this._startTime}};s(o,"StopWatch");let K=o},6844:(qe,Ce,v)=>{"use strict";v.d(Ce,{$X:s(()=>Ne,"$X"),AV:s(()=>o,"AV"),E_:s(()=>$,"E_"),HG:s(()=>H,"HG"),LJ:s(()=>se,"LJ"),LU:s(()=>xt,"LU"),NB:s(()=>Y,"NB"),OS:s(()=>O,"OS"),Q_:s(()=>d,"Q_"),Ss:s(()=>Pe,"Ss"),UD:s(()=>ie,"UD"),Wv:s(()=>f,"Wv"),Z5:s(()=>_e,"Z5"),_J:s(()=>Te,"_J"),aC:s(()=>ce,"aC"),bm:s(()=>G,"bm"),eY:s(()=>M,"eY"),jy:s(()=>E,"jy"),km:s(()=>we,"km"),lT:s(()=>R,"lT"),ne:s(()=>He,"ne"),ns:s(()=>x,"ns"),pc:s(()=>q,"pc"),r_:s(()=>Xe,"r_"),tk:s(()=>Zt,"tk"),tl:s(()=>Ot,"tl"),uz:s(()=>g,"uz"),y_:s(()=>Xt,"y_"),z_:s(()=>re,"z_")});var N=v(6260),K=v(3946);function o(be){return!be||typeof be!="string"?!0:be.trim().length===0}s(o,"isFalsyOrWhitespace");const Q=/{(\d+)}/g;function V(be,...Ee){return Ee.length===0?be:be.replace(Q,function(n,je){const tt=parseInt(je,10);return isNaN(tt)||tt<0||tt>=Ee.length?n:Ee[tt]})}s(V,"format");function E(be){return be.replace(/[<>"'&]/g,Ee=>{switch(Ee){case"<":return"&lt;";case">":return"&gt;";case'"':return"&quot;";case"'":return"&apos;";case"&":return"&amp;"}return Ee})}s(E,"htmlAttributeEncodeValue");function u(be){return be.replace(/[<>&]/g,function(Ee){switch(Ee){case"<":return"&lt;";case">":return"&gt;";case"&":return"&amp;";default:return Ee}})}s(u,"escape");function G(be){return be.replace(/[\\\{\}\*\+\?\|\^\$\.\[\]\(\)]/g,"\\$&")}s(G,"escapeRegExpCharacters");function T(be,Ee=" "){const n=Y(be,Ee);return y(n,Ee)}s(T,"trim");function Y(be,Ee){if(!be||!Ee)return be;const n=Ee.length;if(n===0||be.length===0)return be;let je=0;for(;be.indexOf(Ee,je)===je;)je=je+n;return be.substring(je)}s(Y,"ltrim");function y(be,Ee){if(!be||!Ee)return be;const n=Ee.length,je=be.length;if(n===0||je===0)return be;let tt=je,$e=-1;for(;$e=be.lastIndexOf(Ee,tt-1),!($e===-1||$e+n!==tt);){if($e===0)return"";tt=$e}return be.substring(0,tt)}s(y,"rtrim");function W(be){return be.replace(/[\-\\\{\}\+\?\|\^\$\.\,\[\]\(\)\#\s]/g,"\\$&").replace(/[\*]/g,".*")}s(W,"convertSimple2RegExpPattern");function P(be){return be.replace(/\*/g,"")}s(P,"stripWildcards");function O(be,Ee,n={}){if(!be)throw new Error("Cannot create regex from empty string");Ee||(be=G(be)),n.wholeWord&&(/\B/.test(be.charAt(0))||(be="\\b"+be),/\B/.test(be.charAt(be.length-1))||(be=be+"\\b"));let je="";return n.global&&(je+="g"),n.matchCase||(je+="i"),n.multiline&&(je+="m"),n.unicode&&(je+="u"),new RegExp(be,je)}s(O,"createRegExp");function M(be){return be.source==="^"||be.source==="^$"||be.source==="$"||be.source==="^\\s*$"?!1:!!(be.exec("")&&be.lastIndex===0)}s(M,"regExpLeadsToEndlessLoop");function g(be){return be.split(/\r\n|\r|\n/)}s(g,"splitLines");function ee(be){var je;const Ee=[],n=be.split(/(\r\n|\r|\n)/);for(let tt=0;tt<Math.ceil(n.length/2);tt++)Ee.push(n[2*tt]+((je=n[2*tt+1])!=null?je:""));return Ee}s(ee,"splitLinesIncludeSeparators");function H(be){for(let Ee=0,n=be.length;Ee<n;Ee++){const je=be.charCodeAt(Ee);if(je!==32&&je!==9)return Ee}return-1}s(H,"firstNonWhitespaceIndex");function C(be,Ee=0,n=be.length){for(let je=Ee;je<n;je++){const tt=be.charCodeAt(je);if(tt!==32&&tt!==9)return be.substring(Ee,je)}return be.substring(Ee,n)}s(C,"getLeadingWhitespace");function R(be,Ee=be.length-1){for(let n=Ee;n>=0;n--){const je=be.charCodeAt(n);if(je!==32&&je!==9)return n}return-1}s(R,"lastNonWhitespaceIndex");function ie(be,Ee){return be<Ee?-1:be>Ee?1:0}s(ie,"compare");function ue(be,Ee,n=0,je=be.length,tt=0,$e=Ee.length){for(;n<je&&tt<$e;n++,tt++){const Ge=be.charCodeAt(n),Qe=Ee.charCodeAt(tt);if(Ge<Qe)return-1;if(Ge>Qe)return 1}const ze=je-n,Ze=$e-tt;return ze<Ze?-1:ze>Ze?1:0}s(ue,"compareSubstring");function xe(be,Ee){return he(be,Ee,0,be.length,0,Ee.length)}s(xe,"compareIgnoreCase");function he(be,Ee,n=0,je=be.length,tt=0,$e=Ee.length){for(;n<je&&tt<$e;n++,tt++){let Ge=be.charCodeAt(n),Qe=Ee.charCodeAt(tt);if(Ge===Qe)continue;if(Ge>=128||Qe>=128)return ue(be.toLowerCase(),Ee.toLowerCase(),n,je,tt,$e);c(Ge)&&(Ge-=32),c(Qe)&&(Qe-=32);const et=Ge-Qe;if(et!==0)return et}const ze=je-n,Ze=$e-tt;return ze<Ze?-1:ze>Ze?1:0}s(he,"compareSubstringIgnoreCase");function I(be){return be>=48&&be<=57}s(I,"isAsciiDigit");function c(be){return be>=97&&be<=122}s(c,"isLowerAsciiLetter");function f(be){return be>=65&&be<=90}s(f,"isUpperAsciiLetter");function d(be,Ee){return be.length===Ee.length&&he(be,Ee)===0}s(d,"equalsIgnoreCase");function x(be,Ee){const n=Ee.length;return Ee.length>be.length?!1:he(be,Ee,0,n)===0}s(x,"startsWithIgnoreCase");function B(be,Ee){const n=Math.min(be.length,Ee.length);let je;for(je=0;je<n;je++)if(be.charCodeAt(je)!==Ee.charCodeAt(je))return je;return n}s(B,"commonPrefixLength");function D(be,Ee){const n=Math.min(be.length,Ee.length);let je;const tt=be.length-1,$e=Ee.length-1;for(je=0;je<n;je++)if(be.charCodeAt(tt-je)!==Ee.charCodeAt($e-je))return je;return n}s(D,"commonSuffixLength");function q(be){return 55296<=be&&be<=56319}s(q,"isHighSurrogate");function se(be){return 56320<=be&&be<=57343}s(se,"isLowSurrogate");function re(be,Ee){return(be-55296<<10)+(Ee-56320)+65536}s(re,"computeCodePoint");function _e(be,Ee,n){const je=be.charCodeAt(n);if(q(je)&&n+1<Ee){const tt=be.charCodeAt(n+1);if(se(tt))return re(je,tt)}return je}s(_e,"getNextCodePoint");function Se(be,Ee){const n=be.charCodeAt(Ee-1);if(se(n)&&Ee>1){const je=be.charCodeAt(Ee-2);if(q(je))return re(je,n)}return n}s(Se,"getPrevCodePoint");const qt=class qt{get offset(){return this._offset}constructor(Ee,n=0){this._str=Ee,this._len=Ee.length,this._offset=n}setOffset(Ee){this._offset=Ee}prevCodePoint(){const Ee=Se(this._str,this._offset);return this._offset-=Ee>=65536?2:1,Ee}nextCodePoint(){const Ee=_e(this._str,this._len,this._offset);return this._offset+=Ee>=65536?2:1,Ee}eol(){return this._offset>=this._len}};s(qt,"CodePointIterator");let Ae=qt;const nn=class nn{get offset(){return this._iterator.offset}constructor(Ee,n=0){this._iterator=new Ae(Ee,n)}nextGraphemeLength(){const Ee=Pt.getInstance(),n=this._iterator,je=n.offset;let tt=Ee.getGraphemeBreakType(n.nextCodePoint());for(;!n.eol();){const $e=n.offset,ze=Ee.getGraphemeBreakType(n.nextCodePoint());if($t(tt,ze)){n.setOffset($e);break}tt=ze}return n.offset-je}prevGraphemeLength(){const Ee=Pt.getInstance(),n=this._iterator,je=n.offset;let tt=Ee.getGraphemeBreakType(n.prevCodePoint());for(;n.offset>0;){const $e=n.offset,ze=Ee.getGraphemeBreakType(n.prevCodePoint());if($t(ze,tt)){n.setOffset($e);break}tt=ze}return je-n.offset}eol(){return this._iterator.eol()}};s(nn,"GraphemeIterator");let we=nn;function L(be,Ee){return new we(be,Ee).nextGraphemeLength()}s(L,"nextCharLength");function A(be,Ee){return new we(be,Ee).prevGraphemeLength()}s(A,"prevCharLength");function z(be,Ee){Ee>0&&se(be.charCodeAt(Ee))&&Ee--;const n=Ee+L(be,Ee);return[n-A(be,n),n]}s(z,"getCharContainingOffset");let b;function S(){return/(?:[\u05BE\u05C0\u05C3\u05C6\u05D0-\u05F4\u0608\u060B\u060D\u061B-\u064A\u066D-\u066F\u0671-\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u0710\u0712-\u072F\u074D-\u07A5\u07B1-\u07EA\u07F4\u07F5\u07FA\u07FE-\u0815\u081A\u0824\u0828\u0830-\u0858\u085E-\u088E\u08A0-\u08C9\u200F\uFB1D\uFB1F-\uFB28\uFB2A-\uFD3D\uFD50-\uFDC7\uFDF0-\uFDFC\uFE70-\uFEFC]|\uD802[\uDC00-\uDD1B\uDD20-\uDE00\uDE10-\uDE35\uDE40-\uDEE4\uDEEB-\uDF35\uDF40-\uDFFF]|\uD803[\uDC00-\uDD23\uDE80-\uDEA9\uDEAD-\uDF45\uDF51-\uDF81\uDF86-\uDFF6]|\uD83A[\uDC00-\uDCCF\uDD00-\uDD43\uDD4B-\uDFFF]|\uD83B[\uDC00-\uDEBB])/}s(S,"makeContainsRtl");function $(be){return b||(b=S()),b.test(be)}s($,"containsRTL");const te=/^[\t\n\r\x20-\x7E]*$/;function ce(be){return te.test(be)}s(ce,"isBasicASCII");const Te=/[\u2028\u2029]/;function Ne(be){return Te.test(be)}s(Ne,"containsUnusualLineTerminators");function He(be){return be>=11904&&be<=55215||be>=63744&&be<=64255||be>=65281&&be<=65374}s(He,"isFullWidthCharacter");function Pe(be){return be>=127462&&be<=127487||be===8986||be===8987||be===9200||be===9203||be>=9728&&be<=10175||be===11088||be===11093||be>=127744&&be<=128591||be>=128640&&be<=128764||be>=128992&&be<=129008||be>=129280&&be<=129535||be>=129648&&be<=129782}s(Pe,"isEmojiImprecise");const Xe="\uFEFF";function xt(be){return!!(be&&be.length>0&&be.charCodeAt(0)===65279)}s(xt,"startsWithUTF8BOM");function dt(be,Ee=!1){return be?(Ee&&(be=be.replace(/\\./g,"")),be.toLowerCase()!==be):!1}s(dt,"containsUppercaseCharacter");function Zt(be){return be=be%52,be<26?String.fromCharCode(97+be):String.fromCharCode(65+be-26)}s(Zt,"singleLetterHash");function $t(be,Ee){return be===0?Ee!==5&&Ee!==7:be===2&&Ee===3?!1:be===4||be===2||be===3||Ee===4||Ee===2||Ee===3?!0:!(be===8&&(Ee===8||Ee===9||Ee===11||Ee===12)||(be===11||be===9)&&(Ee===9||Ee===10)||(be===12||be===10)&&Ee===10||Ee===5||Ee===13||Ee===7||be===1||be===13&&Ee===14||be===6&&Ee===6)}s($t,"breakBetweenGraphemeBreakType");const Gt=class Gt{static getInstance(){return Gt._INSTANCE||(Gt._INSTANCE=new Gt),Gt._INSTANCE}constructor(){this._data=Jt()}getGraphemeBreakType(Ee){if(Ee<32)return Ee===10?3:Ee===13?2:4;if(Ee<127)return 0;const n=this._data,je=n.length/3;let tt=1;for(;tt<=je;)if(Ee<n[3*tt])tt=2*tt;else if(Ee>n[3*tt+1])tt=2*tt+1;else return n[3*tt+2];return 0}};s(Gt,"GraphemeBreakTree"),Gt._INSTANCE=null;let Pt=Gt;function Jt(){return JSON.parse("[0,0,0,51229,51255,12,44061,44087,12,127462,127487,6,7083,7085,5,47645,47671,12,54813,54839,12,128678,128678,14,3270,3270,5,9919,9923,14,45853,45879,12,49437,49463,12,53021,53047,12,71216,71218,7,128398,128399,14,129360,129374,14,2519,2519,5,4448,4519,9,9742,9742,14,12336,12336,14,44957,44983,12,46749,46775,12,48541,48567,12,50333,50359,12,52125,52151,12,53917,53943,12,69888,69890,5,73018,73018,5,127990,127990,14,128558,128559,14,128759,128760,14,129653,129655,14,2027,2035,5,2891,2892,7,3761,3761,5,6683,6683,5,8293,8293,4,9825,9826,14,9999,9999,14,43452,43453,5,44509,44535,12,45405,45431,12,46301,46327,12,47197,47223,12,48093,48119,12,48989,49015,12,49885,49911,12,50781,50807,12,51677,51703,12,52573,52599,12,53469,53495,12,54365,54391,12,65279,65279,4,70471,70472,7,72145,72147,7,119173,119179,5,127799,127818,14,128240,128244,14,128512,128512,14,128652,128652,14,128721,128722,14,129292,129292,14,129445,129450,14,129734,129743,14,1476,1477,5,2366,2368,7,2750,2752,7,3076,3076,5,3415,3415,5,4141,4144,5,6109,6109,5,6964,6964,5,7394,7400,5,9197,9198,14,9770,9770,14,9877,9877,14,9968,9969,14,10084,10084,14,43052,43052,5,43713,43713,5,44285,44311,12,44733,44759,12,45181,45207,12,45629,45655,12,46077,46103,12,46525,46551,12,46973,46999,12,47421,47447,12,47869,47895,12,48317,48343,12,48765,48791,12,49213,49239,12,49661,49687,12,50109,50135,12,50557,50583,12,51005,51031,12,51453,51479,12,51901,51927,12,52349,52375,12,52797,52823,12,53245,53271,12,53693,53719,12,54141,54167,12,54589,54615,12,55037,55063,12,69506,69509,5,70191,70193,5,70841,70841,7,71463,71467,5,72330,72342,5,94031,94031,5,123628,123631,5,127763,127765,14,127941,127941,14,128043,128062,14,128302,128317,14,128465,128467,14,128539,128539,14,128640,128640,14,128662,128662,14,128703,128703,14,128745,128745,14,129004,129007,14,129329,129330,14,129402,129402,14,129483,129483,14,129686,129704,14,130048,131069,14,173,173,4,1757,1757,1,2200,2207,5,2434,2435,7,2631,2632,5,2817,2817,5,3008,3008,5,3201,3201,5,3387,3388,5,3542,3542,5,3902,3903,7,4190,4192,5,6002,6003,5,6439,6440,5,6765,6770,7,7019,7027,5,7154,7155,7,8205,8205,13,8505,8505,14,9654,9654,14,9757,9757,14,9792,9792,14,9852,9853,14,9890,9894,14,9937,9937,14,9981,9981,14,10035,10036,14,11035,11036,14,42654,42655,5,43346,43347,7,43587,43587,5,44006,44007,7,44173,44199,12,44397,44423,12,44621,44647,12,44845,44871,12,45069,45095,12,45293,45319,12,45517,45543,12,45741,45767,12,45965,45991,12,46189,46215,12,46413,46439,12,46637,46663,12,46861,46887,12,47085,47111,12,47309,47335,12,47533,47559,12,47757,47783,12,47981,48007,12,48205,48231,12,48429,48455,12,48653,48679,12,48877,48903,12,49101,49127,12,49325,49351,12,49549,49575,12,49773,49799,12,49997,50023,12,50221,50247,12,50445,50471,12,50669,50695,12,50893,50919,12,51117,51143,12,51341,51367,12,51565,51591,12,51789,51815,12,52013,52039,12,52237,52263,12,52461,52487,12,52685,52711,12,52909,52935,12,53133,53159,12,53357,53383,12,53581,53607,12,53805,53831,12,54029,54055,12,54253,54279,12,54477,54503,12,54701,54727,12,54925,54951,12,55149,55175,12,68101,68102,5,69762,69762,7,70067,70069,7,70371,70378,5,70720,70721,7,71087,71087,5,71341,71341,5,71995,71996,5,72249,72249,7,72850,72871,5,73109,73109,5,118576,118598,5,121505,121519,5,127245,127247,14,127568,127569,14,127777,127777,14,127872,127891,14,127956,127967,14,128015,128016,14,128110,128172,14,128259,128259,14,128367,128368,14,128424,128424,14,128488,128488,14,128530,128532,14,128550,128551,14,128566,128566,14,128647,128647,14,128656,128656,14,128667,128673,14,128691,128693,14,128715,128715,14,128728,128732,14,128752,128752,14,128765,128767,14,129096,129103,14,129311,129311,14,129344,129349,14,129394,129394,14,129413,129425,14,129466,129471,14,129511,129535,14,129664,129666,14,129719,129722,14,129760,129767,14,917536,917631,5,13,13,2,1160,1161,5,1564,1564,4,1807,1807,1,2085,2087,5,2307,2307,7,2382,2383,7,2497,2500,5,2563,2563,7,2677,2677,5,2763,2764,7,2879,2879,5,2914,2915,5,3021,3021,5,3142,3144,5,3263,3263,5,3285,3286,5,3398,3400,7,3530,3530,5,3633,3633,5,3864,3865,5,3974,3975,5,4155,4156,7,4229,4230,5,5909,5909,7,6078,6085,7,6277,6278,5,6451,6456,7,6744,6750,5,6846,6846,5,6972,6972,5,7074,7077,5,7146,7148,7,7222,7223,5,7416,7417,5,8234,8238,4,8417,8417,5,9000,9000,14,9203,9203,14,9730,9731,14,9748,9749,14,9762,9763,14,9776,9783,14,9800,9811,14,9831,9831,14,9872,9873,14,9882,9882,14,9900,9903,14,9929,9933,14,9941,9960,14,9974,9974,14,9989,9989,14,10006,10006,14,10062,10062,14,10160,10160,14,11647,11647,5,12953,12953,14,43019,43019,5,43232,43249,5,43443,43443,5,43567,43568,7,43696,43696,5,43765,43765,7,44013,44013,5,44117,44143,12,44229,44255,12,44341,44367,12,44453,44479,12,44565,44591,12,44677,44703,12,44789,44815,12,44901,44927,12,45013,45039,12,45125,45151,12,45237,45263,12,45349,45375,12,45461,45487,12,45573,45599,12,45685,45711,12,45797,45823,12,45909,45935,12,46021,46047,12,46133,46159,12,46245,46271,12,46357,46383,12,46469,46495,12,46581,46607,12,46693,46719,12,46805,46831,12,46917,46943,12,47029,47055,12,47141,47167,12,47253,47279,12,47365,47391,12,47477,47503,12,47589,47615,12,47701,47727,12,47813,47839,12,47925,47951,12,48037,48063,12,48149,48175,12,48261,48287,12,48373,48399,12,48485,48511,12,48597,48623,12,48709,48735,12,48821,48847,12,48933,48959,12,49045,49071,12,49157,49183,12,49269,49295,12,49381,49407,12,49493,49519,12,49605,49631,12,49717,49743,12,49829,49855,12,49941,49967,12,50053,50079,12,50165,50191,12,50277,50303,12,50389,50415,12,50501,50527,12,50613,50639,12,50725,50751,12,50837,50863,12,50949,50975,12,51061,51087,12,51173,51199,12,51285,51311,12,51397,51423,12,51509,51535,12,51621,51647,12,51733,51759,12,51845,51871,12,51957,51983,12,52069,52095,12,52181,52207,12,52293,52319,12,52405,52431,12,52517,52543,12,52629,52655,12,52741,52767,12,52853,52879,12,52965,52991,12,53077,53103,12,53189,53215,12,53301,53327,12,53413,53439,12,53525,53551,12,53637,53663,12,53749,53775,12,53861,53887,12,53973,53999,12,54085,54111,12,54197,54223,12,54309,54335,12,54421,54447,12,54533,54559,12,54645,54671,12,54757,54783,12,54869,54895,12,54981,55007,12,55093,55119,12,55243,55291,10,66045,66045,5,68325,68326,5,69688,69702,5,69817,69818,5,69957,69958,7,70089,70092,5,70198,70199,5,70462,70462,5,70502,70508,5,70750,70750,5,70846,70846,7,71100,71101,5,71230,71230,7,71351,71351,5,71737,71738,5,72000,72000,7,72160,72160,5,72273,72278,5,72752,72758,5,72882,72883,5,73031,73031,5,73461,73462,7,94192,94193,7,119149,119149,7,121403,121452,5,122915,122916,5,126980,126980,14,127358,127359,14,127535,127535,14,127759,127759,14,127771,127771,14,127792,127793,14,127825,127867,14,127897,127899,14,127945,127945,14,127985,127986,14,128000,128007,14,128021,128021,14,128066,128100,14,128184,128235,14,128249,128252,14,128266,128276,14,128335,128335,14,128379,128390,14,128407,128419,14,128444,128444,14,128481,128481,14,128499,128499,14,128526,128526,14,128536,128536,14,128543,128543,14,128556,128556,14,128564,128564,14,128577,128580,14,128643,128645,14,128649,128649,14,128654,128654,14,128660,128660,14,128664,128664,14,128675,128675,14,128686,128689,14,128695,128696,14,128705,128709,14,128717,128719,14,128725,128725,14,128736,128741,14,128747,128748,14,128755,128755,14,128762,128762,14,128981,128991,14,129009,129023,14,129160,129167,14,129296,129304,14,129320,129327,14,129340,129342,14,129356,129356,14,129388,129392,14,129399,129400,14,129404,129407,14,129432,129442,14,129454,129455,14,129473,129474,14,129485,129487,14,129648,129651,14,129659,129660,14,129671,129679,14,129709,129711,14,129728,129730,14,129751,129753,14,129776,129782,14,917505,917505,4,917760,917999,5,10,10,3,127,159,4,768,879,5,1471,1471,5,1536,1541,1,1648,1648,5,1767,1768,5,1840,1866,5,2070,2073,5,2137,2139,5,2274,2274,1,2363,2363,7,2377,2380,7,2402,2403,5,2494,2494,5,2507,2508,7,2558,2558,5,2622,2624,7,2641,2641,5,2691,2691,7,2759,2760,5,2786,2787,5,2876,2876,5,2881,2884,5,2901,2902,5,3006,3006,5,3014,3016,7,3072,3072,5,3134,3136,5,3157,3158,5,3260,3260,5,3266,3266,5,3274,3275,7,3328,3329,5,3391,3392,7,3405,3405,5,3457,3457,5,3536,3537,7,3551,3551,5,3636,3642,5,3764,3772,5,3895,3895,5,3967,3967,7,3993,4028,5,4146,4151,5,4182,4183,7,4226,4226,5,4253,4253,5,4957,4959,5,5940,5940,7,6070,6070,7,6087,6088,7,6158,6158,4,6432,6434,5,6448,6449,7,6679,6680,5,6742,6742,5,6754,6754,5,6783,6783,5,6912,6915,5,6966,6970,5,6978,6978,5,7042,7042,7,7080,7081,5,7143,7143,7,7150,7150,7,7212,7219,5,7380,7392,5,7412,7412,5,8203,8203,4,8232,8232,4,8265,8265,14,8400,8412,5,8421,8432,5,8617,8618,14,9167,9167,14,9200,9200,14,9410,9410,14,9723,9726,14,9733,9733,14,9745,9745,14,9752,9752,14,9760,9760,14,9766,9766,14,9774,9774,14,9786,9786,14,9794,9794,14,9823,9823,14,9828,9828,14,9833,9850,14,9855,9855,14,9875,9875,14,9880,9880,14,9885,9887,14,9896,9897,14,9906,9916,14,9926,9927,14,9935,9935,14,9939,9939,14,9962,9962,14,9972,9972,14,9978,9978,14,9986,9986,14,9997,9997,14,10002,10002,14,10017,10017,14,10055,10055,14,10071,10071,14,10133,10135,14,10548,10549,14,11093,11093,14,12330,12333,5,12441,12442,5,42608,42610,5,43010,43010,5,43045,43046,5,43188,43203,7,43302,43309,5,43392,43394,5,43446,43449,5,43493,43493,5,43571,43572,7,43597,43597,7,43703,43704,5,43756,43757,5,44003,44004,7,44009,44010,7,44033,44059,12,44089,44115,12,44145,44171,12,44201,44227,12,44257,44283,12,44313,44339,12,44369,44395,12,44425,44451,12,44481,44507,12,44537,44563,12,44593,44619,12,44649,44675,12,44705,44731,12,44761,44787,12,44817,44843,12,44873,44899,12,44929,44955,12,44985,45011,12,45041,45067,12,45097,45123,12,45153,45179,12,45209,45235,12,45265,45291,12,45321,45347,12,45377,45403,12,45433,45459,12,45489,45515,12,45545,45571,12,45601,45627,12,45657,45683,12,45713,45739,12,45769,45795,12,45825,45851,12,45881,45907,12,45937,45963,12,45993,46019,12,46049,46075,12,46105,46131,12,46161,46187,12,46217,46243,12,46273,46299,12,46329,46355,12,46385,46411,12,46441,46467,12,46497,46523,12,46553,46579,12,46609,46635,12,46665,46691,12,46721,46747,12,46777,46803,12,46833,46859,12,46889,46915,12,46945,46971,12,47001,47027,12,47057,47083,12,47113,47139,12,47169,47195,12,47225,47251,12,47281,47307,12,47337,47363,12,47393,47419,12,47449,47475,12,47505,47531,12,47561,47587,12,47617,47643,12,47673,47699,12,47729,47755,12,47785,47811,12,47841,47867,12,47897,47923,12,47953,47979,12,48009,48035,12,48065,48091,12,48121,48147,12,48177,48203,12,48233,48259,12,48289,48315,12,48345,48371,12,48401,48427,12,48457,48483,12,48513,48539,12,48569,48595,12,48625,48651,12,48681,48707,12,48737,48763,12,48793,48819,12,48849,48875,12,48905,48931,12,48961,48987,12,49017,49043,12,49073,49099,12,49129,49155,12,49185,49211,12,49241,49267,12,49297,49323,12,49353,49379,12,49409,49435,12,49465,49491,12,49521,49547,12,49577,49603,12,49633,49659,12,49689,49715,12,49745,49771,12,49801,49827,12,49857,49883,12,49913,49939,12,49969,49995,12,50025,50051,12,50081,50107,12,50137,50163,12,50193,50219,12,50249,50275,12,50305,50331,12,50361,50387,12,50417,50443,12,50473,50499,12,50529,50555,12,50585,50611,12,50641,50667,12,50697,50723,12,50753,50779,12,50809,50835,12,50865,50891,12,50921,50947,12,50977,51003,12,51033,51059,12,51089,51115,12,51145,51171,12,51201,51227,12,51257,51283,12,51313,51339,12,51369,51395,12,51425,51451,12,51481,51507,12,51537,51563,12,51593,51619,12,51649,51675,12,51705,51731,12,51761,51787,12,51817,51843,12,51873,51899,12,51929,51955,12,51985,52011,12,52041,52067,12,52097,52123,12,52153,52179,12,52209,52235,12,52265,52291,12,52321,52347,12,52377,52403,12,52433,52459,12,52489,52515,12,52545,52571,12,52601,52627,12,52657,52683,12,52713,52739,12,52769,52795,12,52825,52851,12,52881,52907,12,52937,52963,12,52993,53019,12,53049,53075,12,53105,53131,12,53161,53187,12,53217,53243,12,53273,53299,12,53329,53355,12,53385,53411,12,53441,53467,12,53497,53523,12,53553,53579,12,53609,53635,12,53665,53691,12,53721,53747,12,53777,53803,12,53833,53859,12,53889,53915,12,53945,53971,12,54001,54027,12,54057,54083,12,54113,54139,12,54169,54195,12,54225,54251,12,54281,54307,12,54337,54363,12,54393,54419,12,54449,54475,12,54505,54531,12,54561,54587,12,54617,54643,12,54673,54699,12,54729,54755,12,54785,54811,12,54841,54867,12,54897,54923,12,54953,54979,12,55009,55035,12,55065,55091,12,55121,55147,12,55177,55203,12,65024,65039,5,65520,65528,4,66422,66426,5,68152,68154,5,69291,69292,5,69633,69633,5,69747,69748,5,69811,69814,5,69826,69826,5,69932,69932,7,70016,70017,5,70079,70080,7,70095,70095,5,70196,70196,5,70367,70367,5,70402,70403,7,70464,70464,5,70487,70487,5,70709,70711,7,70725,70725,7,70833,70834,7,70843,70844,7,70849,70849,7,71090,71093,5,71103,71104,5,71227,71228,7,71339,71339,5,71344,71349,5,71458,71461,5,71727,71735,5,71985,71989,7,71998,71998,5,72002,72002,7,72154,72155,5,72193,72202,5,72251,72254,5,72281,72283,5,72344,72345,5,72766,72766,7,72874,72880,5,72885,72886,5,73023,73029,5,73104,73105,5,73111,73111,5,92912,92916,5,94095,94098,5,113824,113827,4,119142,119142,7,119155,119162,4,119362,119364,5,121476,121476,5,122888,122904,5,123184,123190,5,125252,125258,5,127183,127183,14,127340,127343,14,127377,127386,14,127491,127503,14,127548,127551,14,127744,127756,14,127761,127761,14,127769,127769,14,127773,127774,14,127780,127788,14,127796,127797,14,127820,127823,14,127869,127869,14,127894,127895,14,127902,127903,14,127943,127943,14,127947,127950,14,127972,127972,14,127988,127988,14,127992,127994,14,128009,128011,14,128019,128019,14,128023,128041,14,128064,128064,14,128102,128107,14,128174,128181,14,128238,128238,14,128246,128247,14,128254,128254,14,128264,128264,14,128278,128299,14,128329,128330,14,128348,128359,14,128371,128377,14,128392,128393,14,128401,128404,14,128421,128421,14,128433,128434,14,128450,128452,14,128476,128478,14,128483,128483,14,128495,128495,14,128506,128506,14,128519,128520,14,128528,128528,14,128534,128534,14,128538,128538,14,128540,128542,14,128544,128549,14,128552,128555,14,128557,128557,14,128560,128563,14,128565,128565,14,128567,128576,14,128581,128591,14,128641,128642,14,128646,128646,14,128648,128648,14,128650,128651,14,128653,128653,14,128655,128655,14,128657,128659,14,128661,128661,14,128663,128663,14,128665,128666,14,128674,128674,14,128676,128677,14,128679,128685,14,128690,128690,14,128694,128694,14,128697,128702,14,128704,128704,14,128710,128714,14,128716,128716,14,128720,128720,14,128723,128724,14,128726,128727,14,128733,128735,14,128742,128744,14,128746,128746,14,128749,128751,14,128753,128754,14,128756,128758,14,128761,128761,14,128763,128764,14,128884,128895,14,128992,129003,14,129008,129008,14,129036,129039,14,129114,129119,14,129198,129279,14,129293,129295,14,129305,129310,14,129312,129319,14,129328,129328,14,129331,129338,14,129343,129343,14,129351,129355,14,129357,129359,14,129375,129387,14,129393,129393,14,129395,129398,14,129401,129401,14,129403,129403,14,129408,129412,14,129426,129431,14,129443,129444,14,129451,129453,14,129456,129465,14,129472,129472,14,129475,129482,14,129484,129484,14,129488,129510,14,129536,129647,14,129652,129652,14,129656,129658,14,129661,129663,14,129667,129670,14,129680,129685,14,129705,129708,14,129712,129718,14,129723,129727,14,129731,129733,14,129744,129750,14,129754,129759,14,129768,129775,14,129783,129791,14,917504,917504,4,917506,917535,4,917632,917759,4,918000,921599,4,0,9,4,11,12,4,14,31,4,169,169,14,174,174,14,1155,1159,5,1425,1469,5,1473,1474,5,1479,1479,5,1552,1562,5,1611,1631,5,1750,1756,5,1759,1764,5,1770,1773,5,1809,1809,5,1958,1968,5,2045,2045,5,2075,2083,5,2089,2093,5,2192,2193,1,2250,2273,5,2275,2306,5,2362,2362,5,2364,2364,5,2369,2376,5,2381,2381,5,2385,2391,5,2433,2433,5,2492,2492,5,2495,2496,7,2503,2504,7,2509,2509,5,2530,2531,5,2561,2562,5,2620,2620,5,2625,2626,5,2635,2637,5,2672,2673,5,2689,2690,5,2748,2748,5,2753,2757,5,2761,2761,7,2765,2765,5,2810,2815,5,2818,2819,7,2878,2878,5,2880,2880,7,2887,2888,7,2893,2893,5,2903,2903,5,2946,2946,5,3007,3007,7,3009,3010,7,3018,3020,7,3031,3031,5,3073,3075,7,3132,3132,5,3137,3140,7,3146,3149,5,3170,3171,5,3202,3203,7,3262,3262,7,3264,3265,7,3267,3268,7,3271,3272,7,3276,3277,5,3298,3299,5,3330,3331,7,3390,3390,5,3393,3396,5,3402,3404,7,3406,3406,1,3426,3427,5,3458,3459,7,3535,3535,5,3538,3540,5,3544,3550,7,3570,3571,7,3635,3635,7,3655,3662,5,3763,3763,7,3784,3789,5,3893,3893,5,3897,3897,5,3953,3966,5,3968,3972,5,3981,3991,5,4038,4038,5,4145,4145,7,4153,4154,5,4157,4158,5,4184,4185,5,4209,4212,5,4228,4228,7,4237,4237,5,4352,4447,8,4520,4607,10,5906,5908,5,5938,5939,5,5970,5971,5,6068,6069,5,6071,6077,5,6086,6086,5,6089,6099,5,6155,6157,5,6159,6159,5,6313,6313,5,6435,6438,7,6441,6443,7,6450,6450,5,6457,6459,5,6681,6682,7,6741,6741,7,6743,6743,7,6752,6752,5,6757,6764,5,6771,6780,5,6832,6845,5,6847,6862,5,6916,6916,7,6965,6965,5,6971,6971,7,6973,6977,7,6979,6980,7,7040,7041,5,7073,7073,7,7078,7079,7,7082,7082,7,7142,7142,5,7144,7145,5,7149,7149,5,7151,7153,5,7204,7211,7,7220,7221,7,7376,7378,5,7393,7393,7,7405,7405,5,7415,7415,7,7616,7679,5,8204,8204,5,8206,8207,4,8233,8233,4,8252,8252,14,8288,8292,4,8294,8303,4,8413,8416,5,8418,8420,5,8482,8482,14,8596,8601,14,8986,8987,14,9096,9096,14,9193,9196,14,9199,9199,14,9201,9202,14,9208,9210,14,9642,9643,14,9664,9664,14,9728,9729,14,9732,9732,14,9735,9741,14,9743,9744,14,9746,9746,14,9750,9751,14,9753,9756,14,9758,9759,14,9761,9761,14,9764,9765,14,9767,9769,14,9771,9773,14,9775,9775,14,9784,9785,14,9787,9791,14,9793,9793,14,9795,9799,14,9812,9822,14,9824,9824,14,9827,9827,14,9829,9830,14,9832,9832,14,9851,9851,14,9854,9854,14,9856,9861,14,9874,9874,14,9876,9876,14,9878,9879,14,9881,9881,14,9883,9884,14,9888,9889,14,9895,9895,14,9898,9899,14,9904,9905,14,9917,9918,14,9924,9925,14,9928,9928,14,9934,9934,14,9936,9936,14,9938,9938,14,9940,9940,14,9961,9961,14,9963,9967,14,9970,9971,14,9973,9973,14,9975,9977,14,9979,9980,14,9982,9985,14,9987,9988,14,9992,9996,14,9998,9998,14,10000,10001,14,10004,10004,14,10013,10013,14,10024,10024,14,10052,10052,14,10060,10060,14,10067,10069,14,10083,10083,14,10085,10087,14,10145,10145,14,10175,10175,14,11013,11015,14,11088,11088,14,11503,11505,5,11744,11775,5,12334,12335,5,12349,12349,14,12951,12951,14,42607,42607,5,42612,42621,5,42736,42737,5,43014,43014,5,43043,43044,7,43047,43047,7,43136,43137,7,43204,43205,5,43263,43263,5,43335,43345,5,43360,43388,8,43395,43395,7,43444,43445,7,43450,43451,7,43454,43456,7,43561,43566,5,43569,43570,5,43573,43574,5,43596,43596,5,43644,43644,5,43698,43700,5,43710,43711,5,43755,43755,7,43758,43759,7,43766,43766,5,44005,44005,5,44008,44008,5,44012,44012,7,44032,44032,11,44060,44060,11,44088,44088,11,44116,44116,11,44144,44144,11,44172,44172,11,44200,44200,11,44228,44228,11,44256,44256,11,44284,44284,11,44312,44312,11,44340,44340,11,44368,44368,11,44396,44396,11,44424,44424,11,44452,44452,11,44480,44480,11,44508,44508,11,44536,44536,11,44564,44564,11,44592,44592,11,44620,44620,11,44648,44648,11,44676,44676,11,44704,44704,11,44732,44732,11,44760,44760,11,44788,44788,11,44816,44816,11,44844,44844,11,44872,44872,11,44900,44900,11,44928,44928,11,44956,44956,11,44984,44984,11,45012,45012,11,45040,45040,11,45068,45068,11,45096,45096,11,45124,45124,11,45152,45152,11,45180,45180,11,45208,45208,11,45236,45236,11,45264,45264,11,45292,45292,11,45320,45320,11,45348,45348,11,45376,45376,11,45404,45404,11,45432,45432,11,45460,45460,11,45488,45488,11,45516,45516,11,45544,45544,11,45572,45572,11,45600,45600,11,45628,45628,11,45656,45656,11,45684,45684,11,45712,45712,11,45740,45740,11,45768,45768,11,45796,45796,11,45824,45824,11,45852,45852,11,45880,45880,11,45908,45908,11,45936,45936,11,45964,45964,11,45992,45992,11,46020,46020,11,46048,46048,11,46076,46076,11,46104,46104,11,46132,46132,11,46160,46160,11,46188,46188,11,46216,46216,11,46244,46244,11,46272,46272,11,46300,46300,11,46328,46328,11,46356,46356,11,46384,46384,11,46412,46412,11,46440,46440,11,46468,46468,11,46496,46496,11,46524,46524,11,46552,46552,11,46580,46580,11,46608,46608,11,46636,46636,11,46664,46664,11,46692,46692,11,46720,46720,11,46748,46748,11,46776,46776,11,46804,46804,11,46832,46832,11,46860,46860,11,46888,46888,11,46916,46916,11,46944,46944,11,46972,46972,11,47000,47000,11,47028,47028,11,47056,47056,11,47084,47084,11,47112,47112,11,47140,47140,11,47168,47168,11,47196,47196,11,47224,47224,11,47252,47252,11,47280,47280,11,47308,47308,11,47336,47336,11,47364,47364,11,47392,47392,11,47420,47420,11,47448,47448,11,47476,47476,11,47504,47504,11,47532,47532,11,47560,47560,11,47588,47588,11,47616,47616,11,47644,47644,11,47672,47672,11,47700,47700,11,47728,47728,11,47756,47756,11,47784,47784,11,47812,47812,11,47840,47840,11,47868,47868,11,47896,47896,11,47924,47924,11,47952,47952,11,47980,47980,11,48008,48008,11,48036,48036,11,48064,48064,11,48092,48092,11,48120,48120,11,48148,48148,11,48176,48176,11,48204,48204,11,48232,48232,11,48260,48260,11,48288,48288,11,48316,48316,11,48344,48344,11,48372,48372,11,48400,48400,11,48428,48428,11,48456,48456,11,48484,48484,11,48512,48512,11,48540,48540,11,48568,48568,11,48596,48596,11,48624,48624,11,48652,48652,11,48680,48680,11,48708,48708,11,48736,48736,11,48764,48764,11,48792,48792,11,48820,48820,11,48848,48848,11,48876,48876,11,48904,48904,11,48932,48932,11,48960,48960,11,48988,48988,11,49016,49016,11,49044,49044,11,49072,49072,11,49100,49100,11,49128,49128,11,49156,49156,11,49184,49184,11,49212,49212,11,49240,49240,11,49268,49268,11,49296,49296,11,49324,49324,11,49352,49352,11,49380,49380,11,49408,49408,11,49436,49436,11,49464,49464,11,49492,49492,11,49520,49520,11,49548,49548,11,49576,49576,11,49604,49604,11,49632,49632,11,49660,49660,11,49688,49688,11,49716,49716,11,49744,49744,11,49772,49772,11,49800,49800,11,49828,49828,11,49856,49856,11,49884,49884,11,49912,49912,11,49940,49940,11,49968,49968,11,49996,49996,11,50024,50024,11,50052,50052,11,50080,50080,11,50108,50108,11,50136,50136,11,50164,50164,11,50192,50192,11,50220,50220,11,50248,50248,11,50276,50276,11,50304,50304,11,50332,50332,11,50360,50360,11,50388,50388,11,50416,50416,11,50444,50444,11,50472,50472,11,50500,50500,11,50528,50528,11,50556,50556,11,50584,50584,11,50612,50612,11,50640,50640,11,50668,50668,11,50696,50696,11,50724,50724,11,50752,50752,11,50780,50780,11,50808,50808,11,50836,50836,11,50864,50864,11,50892,50892,11,50920,50920,11,50948,50948,11,50976,50976,11,51004,51004,11,51032,51032,11,51060,51060,11,51088,51088,11,51116,51116,11,51144,51144,11,51172,51172,11,51200,51200,11,51228,51228,11,51256,51256,11,51284,51284,11,51312,51312,11,51340,51340,11,51368,51368,11,51396,51396,11,51424,51424,11,51452,51452,11,51480,51480,11,51508,51508,11,51536,51536,11,51564,51564,11,51592,51592,11,51620,51620,11,51648,51648,11,51676,51676,11,51704,51704,11,51732,51732,11,51760,51760,11,51788,51788,11,51816,51816,11,51844,51844,11,51872,51872,11,51900,51900,11,51928,51928,11,51956,51956,11,51984,51984,11,52012,52012,11,52040,52040,11,52068,52068,11,52096,52096,11,52124,52124,11,52152,52152,11,52180,52180,11,52208,52208,11,52236,52236,11,52264,52264,11,52292,52292,11,52320,52320,11,52348,52348,11,52376,52376,11,52404,52404,11,52432,52432,11,52460,52460,11,52488,52488,11,52516,52516,11,52544,52544,11,52572,52572,11,52600,52600,11,52628,52628,11,52656,52656,11,52684,52684,11,52712,52712,11,52740,52740,11,52768,52768,11,52796,52796,11,52824,52824,11,52852,52852,11,52880,52880,11,52908,52908,11,52936,52936,11,52964,52964,11,52992,52992,11,53020,53020,11,53048,53048,11,53076,53076,11,53104,53104,11,53132,53132,11,53160,53160,11,53188,53188,11,53216,53216,11,53244,53244,11,53272,53272,11,53300,53300,11,53328,53328,11,53356,53356,11,53384,53384,11,53412,53412,11,53440,53440,11,53468,53468,11,53496,53496,11,53524,53524,11,53552,53552,11,53580,53580,11,53608,53608,11,53636,53636,11,53664,53664,11,53692,53692,11,53720,53720,11,53748,53748,11,53776,53776,11,53804,53804,11,53832,53832,11,53860,53860,11,53888,53888,11,53916,53916,11,53944,53944,11,53972,53972,11,54000,54000,11,54028,54028,11,54056,54056,11,54084,54084,11,54112,54112,11,54140,54140,11,54168,54168,11,54196,54196,11,54224,54224,11,54252,54252,11,54280,54280,11,54308,54308,11,54336,54336,11,54364,54364,11,54392,54392,11,54420,54420,11,54448,54448,11,54476,54476,11,54504,54504,11,54532,54532,11,54560,54560,11,54588,54588,11,54616,54616,11,54644,54644,11,54672,54672,11,54700,54700,11,54728,54728,11,54756,54756,11,54784,54784,11,54812,54812,11,54840,54840,11,54868,54868,11,54896,54896,11,54924,54924,11,54952,54952,11,54980,54980,11,55008,55008,11,55036,55036,11,55064,55064,11,55092,55092,11,55120,55120,11,55148,55148,11,55176,55176,11,55216,55238,9,64286,64286,5,65056,65071,5,65438,65439,5,65529,65531,4,66272,66272,5,68097,68099,5,68108,68111,5,68159,68159,5,68900,68903,5,69446,69456,5,69632,69632,7,69634,69634,7,69744,69744,5,69759,69761,5,69808,69810,7,69815,69816,7,69821,69821,1,69837,69837,1,69927,69931,5,69933,69940,5,70003,70003,5,70018,70018,7,70070,70078,5,70082,70083,1,70094,70094,7,70188,70190,7,70194,70195,7,70197,70197,7,70206,70206,5,70368,70370,7,70400,70401,5,70459,70460,5,70463,70463,7,70465,70468,7,70475,70477,7,70498,70499,7,70512,70516,5,70712,70719,5,70722,70724,5,70726,70726,5,70832,70832,5,70835,70840,5,70842,70842,5,70845,70845,5,70847,70848,5,70850,70851,5,71088,71089,7,71096,71099,7,71102,71102,7,71132,71133,5,71219,71226,5,71229,71229,5,71231,71232,5,71340,71340,7,71342,71343,7,71350,71350,7,71453,71455,5,71462,71462,7,71724,71726,7,71736,71736,7,71984,71984,5,71991,71992,7,71997,71997,7,71999,71999,1,72001,72001,1,72003,72003,5,72148,72151,5,72156,72159,7,72164,72164,7,72243,72248,5,72250,72250,1,72263,72263,5,72279,72280,7,72324,72329,1,72343,72343,7,72751,72751,7,72760,72765,5,72767,72767,5,72873,72873,7,72881,72881,7,72884,72884,7,73009,73014,5,73020,73021,5,73030,73030,1,73098,73102,7,73107,73108,7,73110,73110,7,73459,73460,5,78896,78904,4,92976,92982,5,94033,94087,7,94180,94180,5,113821,113822,5,118528,118573,5,119141,119141,5,119143,119145,5,119150,119154,5,119163,119170,5,119210,119213,5,121344,121398,5,121461,121461,5,121499,121503,5,122880,122886,5,122907,122913,5,122918,122922,5,123566,123566,5,125136,125142,5,126976,126979,14,126981,127182,14,127184,127231,14,127279,127279,14,127344,127345,14,127374,127374,14,127405,127461,14,127489,127490,14,127514,127514,14,127538,127546,14,127561,127567,14,127570,127743,14,127757,127758,14,127760,127760,14,127762,127762,14,127766,127768,14,127770,127770,14,127772,127772,14,127775,127776,14,127778,127779,14,127789,127791,14,127794,127795,14,127798,127798,14,127819,127819,14,127824,127824,14,127868,127868,14,127870,127871,14,127892,127893,14,127896,127896,14,127900,127901,14,127904,127940,14,127942,127942,14,127944,127944,14,127946,127946,14,127951,127955,14,127968,127971,14,127973,127984,14,127987,127987,14,127989,127989,14,127991,127991,14,127995,127999,5,128008,128008,14,128012,128014,14,128017,128018,14,128020,128020,14,128022,128022,14,128042,128042,14,128063,128063,14,128065,128065,14,128101,128101,14,128108,128109,14,128173,128173,14,128182,128183,14,128236,128237,14,128239,128239,14,128245,128245,14,128248,128248,14,128253,128253,14,128255,128258,14,128260,128263,14,128265,128265,14,128277,128277,14,128300,128301,14,128326,128328,14,128331,128334,14,128336,128347,14,128360,128366,14,128369,128370,14,128378,128378,14,128391,128391,14,128394,128397,14,128400,128400,14,128405,128406,14,128420,128420,14,128422,128423,14,128425,128432,14,128435,128443,14,128445,128449,14,128453,128464,14,128468,128475,14,128479,128480,14,128482,128482,14,128484,128487,14,128489,128494,14,128496,128498,14,128500,128505,14,128507,128511,14,128513,128518,14,128521,128525,14,128527,128527,14,128529,128529,14,128533,128533,14,128535,128535,14,128537,128537,14]")}s(Jt,"getGraphemeBreakRawData");function Rt(be,Ee){if(be===0)return 0;const n=Mt(be,Ee);if(n!==void 0)return n;const je=new Ae(Ee,be);return je.prevCodePoint(),je.offset}s(Rt,"getLeftDeleteOffset");function Mt(be,Ee){const n=new Ae(Ee,be);let je=n.prevCodePoint();for(;Wt(je)||je===65039||je===8419;){if(n.offset===0)return;je=n.prevCodePoint()}if(!Pe(je))return;let tt=n.offset;return tt>0&&n.prevCodePoint()===8205&&(tt=n.offset),tt}s(Mt,"getOffsetBeforeLastEmojiComponent");function Wt(be){return 127995<=be&&be<=127999}s(Wt,"isEmojiModifier");const Qt="\xA0",Bt=class Bt{static getInstance(Ee){return Bt.cache.get(Array.from(Ee))}static getLocales(){return Bt._locales.value}constructor(Ee){this.confusableDictionary=Ee}isAmbiguous(Ee){return this.confusableDictionary.has(Ee)}getPrimaryConfusable(Ee){return this.confusableDictionary.get(Ee)}getConfusableCodePoints(){return new Set(this.confusableDictionary.keys())}};s(Bt,"AmbiguousCharacters"),Bt.ambiguousCharacterData=new K.d(()=>JSON.parse('{"_common":[8232,32,8233,32,5760,32,8192,32,8193,32,8194,32,8195,32,8196,32,8197,32,8198,32,8200,32,8201,32,8202,32,8287,32,8199,32,8239,32,2042,95,65101,95,65102,95,65103,95,8208,45,8209,45,8210,45,65112,45,1748,45,8259,45,727,45,8722,45,10134,45,11450,45,1549,44,1643,44,8218,44,184,44,42233,44,894,59,2307,58,2691,58,1417,58,1795,58,1796,58,5868,58,65072,58,6147,58,6153,58,8282,58,1475,58,760,58,42889,58,8758,58,720,58,42237,58,451,33,11601,33,660,63,577,63,2429,63,5038,63,42731,63,119149,46,8228,46,1793,46,1794,46,42510,46,68176,46,1632,46,1776,46,42232,46,1373,96,65287,96,8219,96,8242,96,1370,96,1523,96,8175,96,65344,96,900,96,8189,96,8125,96,8127,96,8190,96,697,96,884,96,712,96,714,96,715,96,756,96,699,96,701,96,700,96,702,96,42892,96,1497,96,2036,96,2037,96,5194,96,5836,96,94033,96,94034,96,65339,91,10088,40,10098,40,12308,40,64830,40,65341,93,10089,41,10099,41,12309,41,64831,41,10100,123,119060,123,10101,125,65342,94,8270,42,1645,42,8727,42,66335,42,5941,47,8257,47,8725,47,8260,47,9585,47,10187,47,10744,47,119354,47,12755,47,12339,47,11462,47,20031,47,12035,47,65340,92,65128,92,8726,92,10189,92,10741,92,10745,92,119311,92,119355,92,12756,92,20022,92,12034,92,42872,38,708,94,710,94,5869,43,10133,43,66203,43,8249,60,10094,60,706,60,119350,60,5176,60,5810,60,5120,61,11840,61,12448,61,42239,61,8250,62,10095,62,707,62,119351,62,5171,62,94015,62,8275,126,732,126,8128,126,8764,126,65372,124,65293,45,120784,50,120794,50,120804,50,120814,50,120824,50,130034,50,42842,50,423,50,1000,50,42564,50,5311,50,42735,50,119302,51,120785,51,120795,51,120805,51,120815,51,120825,51,130035,51,42923,51,540,51,439,51,42858,51,11468,51,1248,51,94011,51,71882,51,120786,52,120796,52,120806,52,120816,52,120826,52,130036,52,5070,52,71855,52,120787,53,120797,53,120807,53,120817,53,120827,53,130037,53,444,53,71867,53,120788,54,120798,54,120808,54,120818,54,120828,54,130038,54,11474,54,5102,54,71893,54,119314,55,120789,55,120799,55,120809,55,120819,55,120829,55,130039,55,66770,55,71878,55,2819,56,2538,56,2666,56,125131,56,120790,56,120800,56,120810,56,120820,56,120830,56,130040,56,547,56,546,56,66330,56,2663,57,2920,57,2541,57,3437,57,120791,57,120801,57,120811,57,120821,57,120831,57,130041,57,42862,57,11466,57,71884,57,71852,57,71894,57,9082,97,65345,97,119834,97,119886,97,119938,97,119990,97,120042,97,120094,97,120146,97,120198,97,120250,97,120302,97,120354,97,120406,97,120458,97,593,97,945,97,120514,97,120572,97,120630,97,120688,97,120746,97,65313,65,119808,65,119860,65,119912,65,119964,65,120016,65,120068,65,120120,65,120172,65,120224,65,120276,65,120328,65,120380,65,120432,65,913,65,120488,65,120546,65,120604,65,120662,65,120720,65,5034,65,5573,65,42222,65,94016,65,66208,65,119835,98,119887,98,119939,98,119991,98,120043,98,120095,98,120147,98,120199,98,120251,98,120303,98,120355,98,120407,98,120459,98,388,98,5071,98,5234,98,5551,98,65314,66,8492,66,119809,66,119861,66,119913,66,120017,66,120069,66,120121,66,120173,66,120225,66,120277,66,120329,66,120381,66,120433,66,42932,66,914,66,120489,66,120547,66,120605,66,120663,66,120721,66,5108,66,5623,66,42192,66,66178,66,66209,66,66305,66,65347,99,8573,99,119836,99,119888,99,119940,99,119992,99,120044,99,120096,99,120148,99,120200,99,120252,99,120304,99,120356,99,120408,99,120460,99,7428,99,1010,99,11429,99,43951,99,66621,99,128844,67,71922,67,71913,67,65315,67,8557,67,8450,67,8493,67,119810,67,119862,67,119914,67,119966,67,120018,67,120174,67,120226,67,120278,67,120330,67,120382,67,120434,67,1017,67,11428,67,5087,67,42202,67,66210,67,66306,67,66581,67,66844,67,8574,100,8518,100,119837,100,119889,100,119941,100,119993,100,120045,100,120097,100,120149,100,120201,100,120253,100,120305,100,120357,100,120409,100,120461,100,1281,100,5095,100,5231,100,42194,100,8558,68,8517,68,119811,68,119863,68,119915,68,119967,68,120019,68,120071,68,120123,68,120175,68,120227,68,120279,68,120331,68,120383,68,120435,68,5024,68,5598,68,5610,68,42195,68,8494,101,65349,101,8495,101,8519,101,119838,101,119890,101,119942,101,120046,101,120098,101,120150,101,120202,101,120254,101,120306,101,120358,101,120410,101,120462,101,43826,101,1213,101,8959,69,65317,69,8496,69,119812,69,119864,69,119916,69,120020,69,120072,69,120124,69,120176,69,120228,69,120280,69,120332,69,120384,69,120436,69,917,69,120492,69,120550,69,120608,69,120666,69,120724,69,11577,69,5036,69,42224,69,71846,69,71854,69,66182,69,119839,102,119891,102,119943,102,119995,102,120047,102,120099,102,120151,102,120203,102,120255,102,120307,102,120359,102,120411,102,120463,102,43829,102,42905,102,383,102,7837,102,1412,102,119315,70,8497,70,119813,70,119865,70,119917,70,120021,70,120073,70,120125,70,120177,70,120229,70,120281,70,120333,70,120385,70,120437,70,42904,70,988,70,120778,70,5556,70,42205,70,71874,70,71842,70,66183,70,66213,70,66853,70,65351,103,8458,103,119840,103,119892,103,119944,103,120048,103,120100,103,120152,103,120204,103,120256,103,120308,103,120360,103,120412,103,120464,103,609,103,7555,103,397,103,1409,103,119814,71,119866,71,119918,71,119970,71,120022,71,120074,71,120126,71,120178,71,120230,71,120282,71,120334,71,120386,71,120438,71,1292,71,5056,71,5107,71,42198,71,65352,104,8462,104,119841,104,119945,104,119997,104,120049,104,120101,104,120153,104,120205,104,120257,104,120309,104,120361,104,120413,104,120465,104,1211,104,1392,104,5058,104,65320,72,8459,72,8460,72,8461,72,119815,72,119867,72,119919,72,120023,72,120179,72,120231,72,120283,72,120335,72,120387,72,120439,72,919,72,120494,72,120552,72,120610,72,120668,72,120726,72,11406,72,5051,72,5500,72,42215,72,66255,72,731,105,9075,105,65353,105,8560,105,8505,105,8520,105,119842,105,119894,105,119946,105,119998,105,120050,105,120102,105,120154,105,120206,105,120258,105,120310,105,120362,105,120414,105,120466,105,120484,105,618,105,617,105,953,105,8126,105,890,105,120522,105,120580,105,120638,105,120696,105,120754,105,1110,105,42567,105,1231,105,43893,105,5029,105,71875,105,65354,106,8521,106,119843,106,119895,106,119947,106,119999,106,120051,106,120103,106,120155,106,120207,106,120259,106,120311,106,120363,106,120415,106,120467,106,1011,106,1112,106,65322,74,119817,74,119869,74,119921,74,119973,74,120025,74,120077,74,120129,74,120181,74,120233,74,120285,74,120337,74,120389,74,120441,74,42930,74,895,74,1032,74,5035,74,5261,74,42201,74,119844,107,119896,107,119948,107,120000,107,120052,107,120104,107,120156,107,120208,107,120260,107,120312,107,120364,107,120416,107,120468,107,8490,75,65323,75,119818,75,119870,75,119922,75,119974,75,120026,75,120078,75,120130,75,120182,75,120234,75,120286,75,120338,75,120390,75,120442,75,922,75,120497,75,120555,75,120613,75,120671,75,120729,75,11412,75,5094,75,5845,75,42199,75,66840,75,1472,108,8739,73,9213,73,65512,73,1633,108,1777,73,66336,108,125127,108,120783,73,120793,73,120803,73,120813,73,120823,73,130033,73,65321,73,8544,73,8464,73,8465,73,119816,73,119868,73,119920,73,120024,73,120128,73,120180,73,120232,73,120284,73,120336,73,120388,73,120440,73,65356,108,8572,73,8467,108,119845,108,119897,108,119949,108,120001,108,120053,108,120105,73,120157,73,120209,73,120261,73,120313,73,120365,73,120417,73,120469,73,448,73,120496,73,120554,73,120612,73,120670,73,120728,73,11410,73,1030,73,1216,73,1493,108,1503,108,1575,108,126464,108,126592,108,65166,108,65165,108,1994,108,11599,73,5825,73,42226,73,93992,73,66186,124,66313,124,119338,76,8556,76,8466,76,119819,76,119871,76,119923,76,120027,76,120079,76,120131,76,120183,76,120235,76,120287,76,120339,76,120391,76,120443,76,11472,76,5086,76,5290,76,42209,76,93974,76,71843,76,71858,76,66587,76,66854,76,65325,77,8559,77,8499,77,119820,77,119872,77,119924,77,120028,77,120080,77,120132,77,120184,77,120236,77,120288,77,120340,77,120392,77,120444,77,924,77,120499,77,120557,77,120615,77,120673,77,120731,77,1018,77,11416,77,5047,77,5616,77,5846,77,42207,77,66224,77,66321,77,119847,110,119899,110,119951,110,120003,110,120055,110,120107,110,120159,110,120211,110,120263,110,120315,110,120367,110,120419,110,120471,110,1400,110,1404,110,65326,78,8469,78,119821,78,119873,78,119925,78,119977,78,120029,78,120081,78,120185,78,120237,78,120289,78,120341,78,120393,78,120445,78,925,78,120500,78,120558,78,120616,78,120674,78,120732,78,11418,78,42208,78,66835,78,3074,111,3202,111,3330,111,3458,111,2406,111,2662,111,2790,111,3046,111,3174,111,3302,111,3430,111,3664,111,3792,111,4160,111,1637,111,1781,111,65359,111,8500,111,119848,111,119900,111,119952,111,120056,111,120108,111,120160,111,120212,111,120264,111,120316,111,120368,111,120420,111,120472,111,7439,111,7441,111,43837,111,959,111,120528,111,120586,111,120644,111,120702,111,120760,111,963,111,120532,111,120590,111,120648,111,120706,111,120764,111,11423,111,4351,111,1413,111,1505,111,1607,111,126500,111,126564,111,126596,111,65259,111,65260,111,65258,111,65257,111,1726,111,64428,111,64429,111,64427,111,64426,111,1729,111,64424,111,64425,111,64423,111,64422,111,1749,111,3360,111,4125,111,66794,111,71880,111,71895,111,66604,111,1984,79,2534,79,2918,79,12295,79,70864,79,71904,79,120782,79,120792,79,120802,79,120812,79,120822,79,130032,79,65327,79,119822,79,119874,79,119926,79,119978,79,120030,79,120082,79,120134,79,120186,79,120238,79,120290,79,120342,79,120394,79,120446,79,927,79,120502,79,120560,79,120618,79,120676,79,120734,79,11422,79,1365,79,11604,79,4816,79,2848,79,66754,79,42227,79,71861,79,66194,79,66219,79,66564,79,66838,79,9076,112,65360,112,119849,112,119901,112,119953,112,120005,112,120057,112,120109,112,120161,112,120213,112,120265,112,120317,112,120369,112,120421,112,120473,112,961,112,120530,112,120544,112,120588,112,120602,112,120646,112,120660,112,120704,112,120718,112,120762,112,120776,112,11427,112,65328,80,8473,80,119823,80,119875,80,119927,80,119979,80,120031,80,120083,80,120187,80,120239,80,120291,80,120343,80,120395,80,120447,80,929,80,120504,80,120562,80,120620,80,120678,80,120736,80,11426,80,5090,80,5229,80,42193,80,66197,80,119850,113,119902,113,119954,113,120006,113,120058,113,120110,113,120162,113,120214,113,120266,113,120318,113,120370,113,120422,113,120474,113,1307,113,1379,113,1382,113,8474,81,119824,81,119876,81,119928,81,119980,81,120032,81,120084,81,120188,81,120240,81,120292,81,120344,81,120396,81,120448,81,11605,81,119851,114,119903,114,119955,114,120007,114,120059,114,120111,114,120163,114,120215,114,120267,114,120319,114,120371,114,120423,114,120475,114,43847,114,43848,114,7462,114,11397,114,43905,114,119318,82,8475,82,8476,82,8477,82,119825,82,119877,82,119929,82,120033,82,120189,82,120241,82,120293,82,120345,82,120397,82,120449,82,422,82,5025,82,5074,82,66740,82,5511,82,42211,82,94005,82,65363,115,119852,115,119904,115,119956,115,120008,115,120060,115,120112,115,120164,115,120216,115,120268,115,120320,115,120372,115,120424,115,120476,115,42801,115,445,115,1109,115,43946,115,71873,115,66632,115,65331,83,119826,83,119878,83,119930,83,119982,83,120034,83,120086,83,120138,83,120190,83,120242,83,120294,83,120346,83,120398,83,120450,83,1029,83,1359,83,5077,83,5082,83,42210,83,94010,83,66198,83,66592,83,119853,116,119905,116,119957,116,120009,116,120061,116,120113,116,120165,116,120217,116,120269,116,120321,116,120373,116,120425,116,120477,116,8868,84,10201,84,128872,84,65332,84,119827,84,119879,84,119931,84,119983,84,120035,84,120087,84,120139,84,120191,84,120243,84,120295,84,120347,84,120399,84,120451,84,932,84,120507,84,120565,84,120623,84,120681,84,120739,84,11430,84,5026,84,42196,84,93962,84,71868,84,66199,84,66225,84,66325,84,119854,117,119906,117,119958,117,120010,117,120062,117,120114,117,120166,117,120218,117,120270,117,120322,117,120374,117,120426,117,120478,117,42911,117,7452,117,43854,117,43858,117,651,117,965,117,120534,117,120592,117,120650,117,120708,117,120766,117,1405,117,66806,117,71896,117,8746,85,8899,85,119828,85,119880,85,119932,85,119984,85,120036,85,120088,85,120140,85,120192,85,120244,85,120296,85,120348,85,120400,85,120452,85,1357,85,4608,85,66766,85,5196,85,42228,85,94018,85,71864,85,8744,118,8897,118,65366,118,8564,118,119855,118,119907,118,119959,118,120011,118,120063,118,120115,118,120167,118,120219,118,120271,118,120323,118,120375,118,120427,118,120479,118,7456,118,957,118,120526,118,120584,118,120642,118,120700,118,120758,118,1141,118,1496,118,71430,118,43945,118,71872,118,119309,86,1639,86,1783,86,8548,86,119829,86,119881,86,119933,86,119985,86,120037,86,120089,86,120141,86,120193,86,120245,86,120297,86,120349,86,120401,86,120453,86,1140,86,11576,86,5081,86,5167,86,42719,86,42214,86,93960,86,71840,86,66845,86,623,119,119856,119,119908,119,119960,119,120012,119,120064,119,120116,119,120168,119,120220,119,120272,119,120324,119,120376,119,120428,119,120480,119,7457,119,1121,119,1309,119,1377,119,71434,119,71438,119,71439,119,43907,119,71919,87,71910,87,119830,87,119882,87,119934,87,119986,87,120038,87,120090,87,120142,87,120194,87,120246,87,120298,87,120350,87,120402,87,120454,87,1308,87,5043,87,5076,87,42218,87,5742,120,10539,120,10540,120,10799,120,65368,120,8569,120,119857,120,119909,120,119961,120,120013,120,120065,120,120117,120,120169,120,120221,120,120273,120,120325,120,120377,120,120429,120,120481,120,5441,120,5501,120,5741,88,9587,88,66338,88,71916,88,65336,88,8553,88,119831,88,119883,88,119935,88,119987,88,120039,88,120091,88,120143,88,120195,88,120247,88,120299,88,120351,88,120403,88,120455,88,42931,88,935,88,120510,88,120568,88,120626,88,120684,88,120742,88,11436,88,11613,88,5815,88,42219,88,66192,88,66228,88,66327,88,66855,88,611,121,7564,121,65369,121,119858,121,119910,121,119962,121,120014,121,120066,121,120118,121,120170,121,120222,121,120274,121,120326,121,120378,121,120430,121,120482,121,655,121,7935,121,43866,121,947,121,8509,121,120516,121,120574,121,120632,121,120690,121,120748,121,1199,121,4327,121,71900,121,65337,89,119832,89,119884,89,119936,89,119988,89,120040,89,120092,89,120144,89,120196,89,120248,89,120300,89,120352,89,120404,89,120456,89,933,89,978,89,120508,89,120566,89,120624,89,120682,89,120740,89,11432,89,1198,89,5033,89,5053,89,42220,89,94019,89,71844,89,66226,89,119859,122,119911,122,119963,122,120015,122,120067,122,120119,122,120171,122,120223,122,120275,122,120327,122,120379,122,120431,122,120483,122,7458,122,43923,122,71876,122,66293,90,71909,90,65338,90,8484,90,8488,90,119833,90,119885,90,119937,90,119989,90,120041,90,120197,90,120249,90,120301,90,120353,90,120405,90,120457,90,918,90,120493,90,120551,90,120609,90,120667,90,120725,90,5059,90,42204,90,71849,90,65282,34,65284,36,65285,37,65286,38,65290,42,65291,43,65294,46,65295,47,65296,48,65297,49,65298,50,65299,51,65300,52,65301,53,65302,54,65303,55,65304,56,65305,57,65308,60,65309,61,65310,62,65312,64,65316,68,65318,70,65319,71,65324,76,65329,81,65330,82,65333,85,65334,86,65335,87,65343,95,65346,98,65348,100,65350,102,65355,107,65357,109,65358,110,65361,113,65362,114,65364,116,65365,117,65367,119,65370,122,65371,123,65373,125,119846,109],"_default":[160,32,8211,45,65374,126,65306,58,65281,33,8216,96,8217,96,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"cs":[65374,126,65306,58,65281,33,8216,96,8217,96,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"de":[65374,126,65306,58,65281,33,8216,96,8217,96,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"es":[8211,45,65374,126,65306,58,65281,33,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"fr":[65374,126,65306,58,65281,33,8216,96,8245,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"it":[160,32,8211,45,65374,126,65306,58,65281,33,8216,96,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"ja":[8211,45,65306,58,65281,33,8216,96,8217,96,8245,96,180,96,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65292,44,65307,59],"ko":[8211,45,65374,126,65306,58,65281,33,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"pl":[65374,126,65306,58,65281,33,8216,96,8217,96,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"pt-BR":[65374,126,65306,58,65281,33,8216,96,8217,96,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"qps-ploc":[160,32,8211,45,65374,126,65306,58,65281,33,8216,96,8217,96,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"ru":[65374,126,65306,58,65281,33,8216,96,8217,96,8245,96,180,96,12494,47,305,105,921,73,1009,112,215,120,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"tr":[160,32,8211,45,65374,126,65306,58,65281,33,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"zh-hans":[65374,126,65306,58,65281,33,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65288,40,65289,41],"zh-hant":[8211,45,65374,126,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65307,59]}')),Bt.cache=new N.o5({getCacheKey:JSON.stringify},Ee=>{function n(et){const mt=new Map;for(let Ct=0;Ct<et.length;Ct+=2)mt.set(et[Ct],et[Ct+1]);return mt}s(n,"arrayToMap");function je(et,mt){const Ct=new Map(et);for(const[At,nt]of mt)Ct.set(At,nt);return Ct}s(je,"mergeMaps");function tt(et,mt){if(!et)return mt;const Ct=new Map;for(const[At,nt]of et)mt.has(At)&&Ct.set(At,nt);return Ct}s(tt,"intersectMaps");const $e=Bt.ambiguousCharacterData.value;let ze=Ee.filter(et=>!et.startsWith("_")&&et in $e);ze.length===0&&(ze=["_default"]);let Ze;for(const et of ze){const mt=n($e[et]);Ze=tt(Ze,mt)}const Ge=n($e._common),Qe=je(Ge,Ze);return new Bt(Qe)}),Bt._locales=new K.d(()=>Object.keys(Bt.ambiguousCharacterData.value).filter(Ee=>!Ee.startsWith("_")));let Ot=Bt;const Yt=class Yt{static getRawData(){return JSON.parse("[9,10,11,12,13,32,127,160,173,847,1564,4447,4448,6068,6069,6155,6156,6157,6158,7355,7356,8192,8193,8194,8195,8196,8197,8198,8199,8200,8201,8202,8203,8204,8205,8206,8207,8234,8235,8236,8237,8238,8239,8287,8288,8289,8290,8291,8292,8293,8294,8295,8296,8297,8298,8299,8300,8301,8302,8303,10240,12288,12644,65024,65025,65026,65027,65028,65029,65030,65031,65032,65033,65034,65035,65036,65037,65038,65039,65279,65440,65520,65521,65522,65523,65524,65525,65526,65527,65528,65532,78844,119155,119156,119157,119158,119159,119160,119161,119162,917504,917505,917506,917507,917508,917509,917510,917511,917512,917513,917514,917515,917516,917517,917518,917519,917520,917521,917522,917523,917524,917525,917526,917527,917528,917529,917530,917531,917532,917533,917534,917535,917536,917537,917538,917539,917540,917541,917542,917543,917544,917545,917546,917547,917548,917549,917550,917551,917552,917553,917554,917555,917556,917557,917558,917559,917560,917561,917562,917563,917564,917565,917566,917567,917568,917569,917570,917571,917572,917573,917574,917575,917576,917577,917578,917579,917580,917581,917582,917583,917584,917585,917586,917587,917588,917589,917590,917591,917592,917593,917594,917595,917596,917597,917598,917599,917600,917601,917602,917603,917604,917605,917606,917607,917608,917609,917610,917611,917612,917613,917614,917615,917616,917617,917618,917619,917620,917621,917622,917623,917624,917625,917626,917627,917628,917629,917630,917631,917760,917761,917762,917763,917764,917765,917766,917767,917768,917769,917770,917771,917772,917773,917774,917775,917776,917777,917778,917779,917780,917781,917782,917783,917784,917785,917786,917787,917788,917789,917790,917791,917792,917793,917794,917795,917796,917797,917798,917799,917800,917801,917802,917803,917804,917805,917806,917807,917808,917809,917810,917811,917812,917813,917814,917815,917816,917817,917818,917819,917820,917821,917822,917823,917824,917825,917826,917827,917828,917829,917830,917831,917832,917833,917834,917835,917836,917837,917838,917839,917840,917841,917842,917843,917844,917845,917846,917847,917848,917849,917850,917851,917852,917853,917854,917855,917856,917857,917858,917859,917860,917861,917862,917863,917864,917865,917866,917867,917868,917869,917870,917871,917872,917873,917874,917875,917876,917877,917878,917879,917880,917881,917882,917883,917884,917885,917886,917887,917888,917889,917890,917891,917892,917893,917894,917895,917896,917897,917898,917899,917900,917901,917902,917903,917904,917905,917906,917907,917908,917909,917910,917911,917912,917913,917914,917915,917916,917917,917918,917919,917920,917921,917922,917923,917924,917925,917926,917927,917928,917929,917930,917931,917932,917933,917934,917935,917936,917937,917938,917939,917940,917941,917942,917943,917944,917945,917946,917947,917948,917949,917950,917951,917952,917953,917954,917955,917956,917957,917958,917959,917960,917961,917962,917963,917964,917965,917966,917967,917968,917969,917970,917971,917972,917973,917974,917975,917976,917977,917978,917979,917980,917981,917982,917983,917984,917985,917986,917987,917988,917989,917990,917991,917992,917993,917994,917995,917996,917997,917998,917999]")}static getData(){return this._data||(this._data=new Set(Yt.getRawData())),this._data}static isInvisibleCharacter(Ee){return Yt.getData().has(Ee)}static get codePoints(){return Yt.getData()}};s(Yt,"InvisibleCharacters"),Yt._data=void 0;let Xt=Yt},9359:(qe,Ce,v)=>{"use strict";v.d(Ce,{Gv:s(()=>K,"Gv"),Kg:s(()=>N,"Kg"),b0:s(()=>u,"b0"),z:s(()=>T,"z")});function N(M){return typeof M=="string"}s(N,"isString");function K(M){return typeof M=="object"&&M!==null&&!Array.isArray(M)&&!(M instanceof RegExp)&&!(M instanceof Date)}s(K,"isObject");function o(M){const g=Object.getPrototypeOf(Uint8Array);return typeof M=="object"&&M instanceof g}s(o,"isTypedArray");function Q(M){return typeof M=="number"&&!isNaN(M)}s(Q,"isNumber");function V(M){return!!M&&typeof M[Symbol.iterator]=="function"}s(V,"isIterable");function E(M){return M===!0||M===!1}s(E,"isBoolean");function u(M){return typeof M=="undefined"}s(u,"isUndefined");function G(M){return!T(M)}s(G,"isDefined");function T(M){return u(M)||M===null}s(T,"isUndefinedOrNull");function Y(M,g){if(!M)throw new Error(g?`Unexpected type, expected '${g}'`:"Unexpected type")}s(Y,"assertType");function y(M){if(T(M))throw new Error("Assertion Failed: argument is undefined or null");return M}s(y,"assertIsDefined");function W(M){return typeof M=="function"}s(W,"isFunction");function P(M,g){const ee=Math.min(M.length,g.length);for(let H=0;H<ee;H++)O(M[H],g[H])}s(P,"validateConstraints");function O(M,g){if(N(g)){if(typeof M!==g)throw new Error(`argument does not match constraint: typeof ${g}`)}else if(W(g)){try{if(M instanceof g)return}catch{}if(!T(M)&&M.constructor===g||g.length===1&&g.call(void 0,M)===!0)return;throw new Error("argument does not match one of these constraints: arg instanceof constraint, arg.constructor === constraint, nor constraint(arg) === true")}}s(O,"validateConstraint")},7512:(qe,Ce,v)=>{"use strict";v.d(Ce,{W:s(()=>N,"W"),j:s(()=>K,"j")});function N(o){return o<0?0:o>255?255:o|0}s(N,"toUint8");function K(o){return o<0?0:o>4294967295?4294967295:o|0}s(K,"toUint32")},7264:(qe,Ce,v)=>{"use strict";v.d(Ce,{I:s(()=>H,"I"),r:s(()=>W,"r")});var N=v(4033),K=v(3339);const o=/^\w[\w\d+.-]*$/,Q=/^\//,V=/^\/\//;function E(I,c){if(!I.scheme&&c)throw new Error(`[UriError]: Scheme is missing: {scheme: "", authority: "${I.authority}", path: "${I.path}", query: "${I.query}", fragment: "${I.fragment}"}`);if(I.scheme&&!o.test(I.scheme))throw new Error("[UriError]: Scheme contains illegal characters.");if(I.path){if(I.authority){if(!Q.test(I.path))throw new Error('[UriError]: If a URI contains an authority component, then the path component must either be empty or begin with a slash ("/") character')}else if(V.test(I.path))throw new Error('[UriError]: If a URI does not contain an authority component, then the path cannot begin with two slash characters ("//")')}}s(E,"_validateUri");function u(I,c){return!I&&!c?"file":I}s(u,"_schemeFix");function G(I,c){switch(I){case"https":case"http":case"file":c?c[0]!==Y&&(c=Y+c):c=Y;break}return c}s(G,"_referenceResolution");const T="",Y="/",y=/^(([^:/?#]+?):)?(\/\/([^/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?/,xe=class xe{static isUri(c){return c instanceof xe?!0:c?typeof c.authority=="string"&&typeof c.fragment=="string"&&typeof c.path=="string"&&typeof c.query=="string"&&typeof c.scheme=="string"&&typeof c.fsPath=="string"&&typeof c.with=="function"&&typeof c.toString=="function":!1}constructor(c,f,d,x,B,D=!1){typeof c=="object"?(this.scheme=c.scheme||T,this.authority=c.authority||T,this.path=c.path||T,this.query=c.query||T,this.fragment=c.fragment||T):(this.scheme=u(c,D),this.authority=f||T,this.path=G(this.scheme,d||T),this.query=x||T,this.fragment=B||T,E(this,D))}get fsPath(){return H(this,!1)}with(c){if(!c)return this;let{scheme:f,authority:d,path:x,query:B,fragment:D}=c;return f===void 0?f=this.scheme:f===null&&(f=T),d===void 0?d=this.authority:d===null&&(d=T),x===void 0?x=this.path:x===null&&(x=T),B===void 0?B=this.query:B===null&&(B=T),D===void 0?D=this.fragment:D===null&&(D=T),f===this.scheme&&d===this.authority&&x===this.path&&B===this.query&&D===this.fragment?this:new O(f,d,x,B,D)}static parse(c,f=!1){const d=y.exec(c);return d?new O(d[2]||T,ue(d[4]||T),ue(d[5]||T),ue(d[7]||T),ue(d[9]||T),f):new O(T,T,T,T,T)}static file(c){let f=T;if(K.uF&&(c=c.replace(/\\/g,Y)),c[0]===Y&&c[1]===Y){const d=c.indexOf(Y,2);d===-1?(f=c.substring(2),c=Y):(f=c.substring(2,d),c=c.substring(d)||Y)}return new O("file",f,c,T,T)}static from(c,f){return new O(c.scheme,c.authority,c.path,c.query,c.fragment,f)}static joinPath(c,...f){if(!c.path)throw new Error("[UriError]: cannot call joinPath on URI without path");let d;return K.uF&&c.scheme==="file"?d=xe.file(N.IN.join(H(c,!0),...f)).path:d=N.SA.join(c.path,...f),c.with({path:d})}toString(c=!1){return C(this,c)}toJSON(){return this}static revive(c){var f,d;if(c){if(c instanceof xe)return c;{const x=new O(c);return x._formatted=(f=c.external)!=null?f:null,x._fsPath=c._sep===P&&(d=c.fsPath)!=null?d:null,x}}else return c}};s(xe,"URI");let W=xe;const P=K.uF?1:void 0,he=class he extends W{constructor(){super(...arguments),this._formatted=null,this._fsPath=null}get fsPath(){return this._fsPath||(this._fsPath=H(this,!1)),this._fsPath}toString(c=!1){return c?C(this,!0):(this._formatted||(this._formatted=C(this,!1)),this._formatted)}toJSON(){const c={$mid:1};return this._fsPath&&(c.fsPath=this._fsPath,c._sep=P),this._formatted&&(c.external=this._formatted),this.path&&(c.path=this.path),this.scheme&&(c.scheme=this.scheme),this.authority&&(c.authority=this.authority),this.query&&(c.query=this.query),this.fragment&&(c.fragment=this.fragment),c}};s(he,"Uri");let O=he;const M={58:"%3A",47:"%2F",63:"%3F",35:"%23",91:"%5B",93:"%5D",64:"%40",33:"%21",36:"%24",38:"%26",39:"%27",40:"%28",41:"%29",42:"%2A",43:"%2B",44:"%2C",59:"%3B",61:"%3D",32:"%20"};function g(I,c,f){let d,x=-1;for(let B=0;B<I.length;B++){const D=I.charCodeAt(B);if(D>=97&&D<=122||D>=65&&D<=90||D>=48&&D<=57||D===45||D===46||D===95||D===126||c&&D===47||f&&D===91||f&&D===93||f&&D===58)x!==-1&&(d+=encodeURIComponent(I.substring(x,B)),x=-1),d!==void 0&&(d+=I.charAt(B));else{d===void 0&&(d=I.substr(0,B));const q=M[D];q!==void 0?(x!==-1&&(d+=encodeURIComponent(I.substring(x,B)),x=-1),d+=q):x===-1&&(x=B)}}return x!==-1&&(d+=encodeURIComponent(I.substring(x))),d!==void 0?d:I}s(g,"encodeURIComponentFast");function ee(I){let c;for(let f=0;f<I.length;f++){const d=I.charCodeAt(f);d===35||d===63?(c===void 0&&(c=I.substr(0,f)),c+=M[d]):c!==void 0&&(c+=I[f])}return c!==void 0?c:I}s(ee,"encodeURIComponentMinimal");function H(I,c){let f;return I.authority&&I.path.length>1&&I.scheme==="file"?f=`//${I.authority}${I.path}`:I.path.charCodeAt(0)===47&&(I.path.charCodeAt(1)>=65&&I.path.charCodeAt(1)<=90||I.path.charCodeAt(1)>=97&&I.path.charCodeAt(1)<=122)&&I.path.charCodeAt(2)===58?c?f=I.path.substr(1):f=I.path[1].toLowerCase()+I.path.substr(2):f=I.path,K.uF&&(f=f.replace(/\//g,"\\")),f}s(H,"uriToFsPath");function C(I,c){const f=c?ee:g;let d="",{scheme:x,authority:B,path:D,query:q,fragment:se}=I;if(x&&(d+=x,d+=":"),(B||x==="file")&&(d+=Y,d+=Y),B){let re=B.indexOf("@");if(re!==-1){const _e=B.substr(0,re);B=B.substr(re+1),re=_e.lastIndexOf(":"),re===-1?d+=f(_e,!1,!1):(d+=f(_e.substr(0,re),!1,!1),d+=":",d+=f(_e.substr(re+1),!1,!0)),d+="@"}B=B.toLowerCase(),re=B.lastIndexOf(":"),re===-1?d+=f(B,!1,!0):(d+=f(B.substr(0,re),!1,!0),d+=B.substr(re))}if(D){if(D.length>=3&&D.charCodeAt(0)===47&&D.charCodeAt(2)===58){const re=D.charCodeAt(1);re>=65&&re<=90&&(D=`/${String.fromCharCode(re+32)}:${D.substr(3)}`)}else if(D.length>=2&&D.charCodeAt(1)===58){const re=D.charCodeAt(0);re>=65&&re<=90&&(D=`${String.fromCharCode(re+32)}:${D.substr(2)}`)}d+=f(D,!0,!1)}return q&&(d+="?",d+=f(q,!1,!1)),se&&(d+="#",d+=c?se:g(se,!1,!1)),d}s(C,"_asFormatted");function R(I){try{return decodeURIComponent(I)}catch{return I.length>3?I.substr(0,3)+R(I.substr(3)):I}}s(R,"decodeURIComponentGraceful");const ie=/(%[0-9A-Za-z][0-9A-Za-z])+/g;function ue(I){return I.match(ie)?I.replace(ie,c=>R(c)):I}s(ue,"percentDecode")},5585:(qe,Ce,v)=>{"use strict";v.r(Ce),v.d(Ce,{SimpleWorkerClient:s(()=>H,"SimpleWorkerClient"),SimpleWorkerServer:s(()=>ie,"SimpleWorkerServer"),create:s(()=>ue,"create"),logOnceWebWorkerWarning:s(()=>y,"logOnceWebWorkerWarning")});var N=v(4327),K=v(2106),o=v(9235),Q=v(3072),V=v(3339),E=v(6844);const u=!0,G="default",T="$initialize";let Y=!1;function y(D){V.HZ&&(Y||(Y=!0,console.warn("Could not create web worker(s). Falling back to loading web worker code in main thread, which might cause UI freezes. Please see https://github.com/microsoft/monaco-editor#faq")),console.warn(D.message))}s(y,"logOnceWebWorkerWarning");const xe=class xe{constructor(q,se,re,_e,Se){this.vsWorker=q,this.req=se,this.channel=re,this.method=_e,this.args=Se,this.type=0}};s(xe,"RequestMessage");let W=xe;const he=class he{constructor(q,se,re,_e){this.vsWorker=q,this.seq=se,this.res=re,this.err=_e,this.type=1}};s(he,"ReplyMessage");let P=he;const I=class I{constructor(q,se,re,_e,Se){this.vsWorker=q,this.req=se,this.channel=re,this.eventName=_e,this.arg=Se,this.type=2}};s(I,"SubscribeEventMessage");let O=I;const c=class c{constructor(q,se,re){this.vsWorker=q,this.req=se,this.event=re,this.type=3}};s(c,"EventMessage");let M=c;const f=class f{constructor(q,se){this.vsWorker=q,this.req=se,this.type=4}};s(f,"UnsubscribeEventMessage");let g=f;const d=class d{constructor(q){this._workerId=-1,this._handler=q,this._lastSentReq=0,this._pendingReplies=Object.create(null),this._pendingEmitters=new Map,this._pendingEvents=new Map}setWorkerId(q){this._workerId=q}sendMessage(q,se,re){const _e=String(++this._lastSentReq);return new Promise((Se,Ae)=>{this._pendingReplies[_e]={resolve:Se,reject:Ae},this._send(new W(this._workerId,_e,q,se,re))})}listen(q,se,re){let _e=null;const Se=new K.vl({onWillAddFirstListener:s(()=>{_e=String(++this._lastSentReq),this._pendingEmitters.set(_e,Se),this._send(new O(this._workerId,_e,q,se,re))},"onWillAddFirstListener"),onDidRemoveLastListener:s(()=>{this._pendingEmitters.delete(_e),this._send(new g(this._workerId,_e)),_e=null},"onDidRemoveLastListener")});return Se.event}handleMessage(q){!q||!q.vsWorker||this._workerId!==-1&&q.vsWorker!==this._workerId||this._handleMessage(q)}createProxyToRemoteChannel(q,se){const re={get:s((_e,Se)=>(typeof Se=="string"&&!_e[Se]&&(R(Se)?_e[Se]=Ae=>this.listen(q,Se,Ae):C(Se)?_e[Se]=this.listen(q,Se,void 0):Se.charCodeAt(0)===36&&(_e[Se]=async(...Ae)=>(await(se==null?void 0:se()),this.sendMessage(q,Se,Ae)))),_e[Se]),"get")};return new Proxy(Object.create(null),re)}_handleMessage(q){switch(q.type){case 1:return this._handleReplyMessage(q);case 0:return this._handleRequestMessage(q);case 2:return this._handleSubscribeEventMessage(q);case 3:return this._handleEventMessage(q);case 4:return this._handleUnsubscribeEventMessage(q)}}_handleReplyMessage(q){if(!this._pendingReplies[q.seq]){console.warn("Got reply to unknown seq");return}const se=this._pendingReplies[q.seq];if(delete this._pendingReplies[q.seq],q.err){let re=q.err;q.err.$isError&&(re=new Error,re.name=q.err.name,re.message=q.err.message,re.stack=q.err.stack),se.reject(re);return}se.resolve(q.res)}_handleRequestMessage(q){const se=q.req;this._handler.handleMessage(q.channel,q.method,q.args).then(_e=>{this._send(new P(this._workerId,se,_e,void 0))},_e=>{_e.detail instanceof Error&&(_e.detail=(0,N.cU)(_e.detail)),this._send(new P(this._workerId,se,void 0,(0,N.cU)(_e)))})}_handleSubscribeEventMessage(q){const se=q.req,re=this._handler.handleEvent(q.channel,q.eventName,q.arg)(_e=>{this._send(new M(this._workerId,se,_e))});this._pendingEvents.set(se,re)}_handleEventMessage(q){if(!this._pendingEmitters.has(q.req)){console.warn("Got event for unknown req");return}this._pendingEmitters.get(q.req).fire(q.event)}_handleUnsubscribeEventMessage(q){if(!this._pendingEvents.has(q.req)){console.warn("Got unsubscribe for unknown req");return}this._pendingEvents.get(q.req).dispose(),this._pendingEvents.delete(q.req)}_send(q){const se=[];if(q.type===0)for(let re=0;re<q.args.length;re++)q.args[re]instanceof ArrayBuffer&&se.push(q.args[re]);else q.type===1&&q.res instanceof ArrayBuffer&&se.push(q.res);this._handler.sendMessage(q,se)}};s(d,"SimpleWorkerProtocol");let ee=d;const x=class x extends o.jG{constructor(q,se){super(),this._localChannels=new Map,this._worker=this._register(q.create({amdModuleId:"vs/base/common/worker/simpleWorker",esmModuleLocation:se.esmModuleLocation,label:se.label},Se=>{this._protocol.handleMessage(Se)},Se=>{(0,N.dz)(Se)})),this._protocol=new ee({sendMessage:s((Se,Ae)=>{this._worker.postMessage(Se,Ae)},"sendMessage"),handleMessage:s((Se,Ae,we)=>this._handleMessage(Se,Ae,we),"handleMessage"),handleEvent:s((Se,Ae,we)=>this._handleEvent(Se,Ae,we),"handleEvent")}),this._protocol.setWorkerId(this._worker.getId());let re=null;const _e=globalThis.require;typeof _e!="undefined"&&typeof _e.getConfig=="function"?re=_e.getConfig():typeof globalThis.requirejs!="undefined"&&(re=globalThis.requirejs.s.contexts._.config),this._onModuleLoaded=this._protocol.sendMessage(G,T,[this._worker.getId(),JSON.parse(JSON.stringify(re)),se.amdModuleId]),this.proxy=this._protocol.createProxyToRemoteChannel(G,async()=>{await this._onModuleLoaded}),this._onModuleLoaded.catch(Se=>{this._onError("Worker failed to load "+se.amdModuleId,Se)})}_handleMessage(q,se,re){const _e=this._localChannels.get(q);if(!_e)return Promise.reject(new Error(`Missing channel ${q} on main thread`));if(typeof _e[se]!="function")return Promise.reject(new Error(`Missing method ${se} on main thread channel ${q}`));try{return Promise.resolve(_e[se].apply(_e,re))}catch(Se){return Promise.reject(Se)}}_handleEvent(q,se,re){const _e=this._localChannels.get(q);if(!_e)throw new Error(`Missing channel ${q} on main thread`);if(R(se)){const Se=_e[se].call(_e,re);if(typeof Se!="function")throw new Error(`Missing dynamic event ${se} on main thread channel ${q}.`);return Se}if(C(se)){const Se=_e[se];if(typeof Se!="function")throw new Error(`Missing event ${se} on main thread channel ${q}.`);return Se}throw new Error(`Malformed event name ${se}`)}setChannel(q,se){this._localChannels.set(q,se)}_onError(q,se){console.error(q),console.info(se)}};s(x,"SimpleWorkerClient");let H=x;function C(D){return D[0]==="o"&&D[1]==="n"&&E.Wv(D.charCodeAt(2))}s(C,"propertyIsEvent");function R(D){return/^onDynamic/.test(D)&&E.Wv(D.charCodeAt(9))}s(R,"propertyIsDynamicEvent");const B=class B{constructor(q,se){this._localChannels=new Map,this._remoteChannels=new Map,this._requestHandlerFactory=se,this._requestHandler=null,this._protocol=new ee({sendMessage:s((re,_e)=>{q(re,_e)},"sendMessage"),handleMessage:s((re,_e,Se)=>this._handleMessage(re,_e,Se),"handleMessage"),handleEvent:s((re,_e,Se)=>this._handleEvent(re,_e,Se),"handleEvent")})}onmessage(q){this._protocol.handleMessage(q)}_handleMessage(q,se,re){if(q===G&&se===T)return this.initialize(re[0],re[1],re[2]);const _e=q===G?this._requestHandler:this._localChannels.get(q);if(!_e)return Promise.reject(new Error(`Missing channel ${q} on worker thread`));if(typeof _e[se]!="function")return Promise.reject(new Error(`Missing method ${se} on worker thread channel ${q}`));try{return Promise.resolve(_e[se].apply(_e,re))}catch(Se){return Promise.reject(Se)}}_handleEvent(q,se,re){const _e=q===G?this._requestHandler:this._localChannels.get(q);if(!_e)throw new Error(`Missing channel ${q} on worker thread`);if(R(se)){const Se=_e[se].call(_e,re);if(typeof Se!="function")throw new Error(`Missing dynamic event ${se} on request handler.`);return Se}if(C(se)){const Se=_e[se];if(typeof Se!="function")throw new Error(`Missing event ${se} on request handler.`);return Se}throw new Error(`Malformed event name ${se}`)}getChannel(q){if(!this._remoteChannels.has(q)){const se=this._protocol.createProxyToRemoteChannel(q);this._remoteChannels.set(q,se)}return this._remoteChannels.get(q)}async initialize(q,se,re){if(this._protocol.setWorkerId(q),this._requestHandlerFactory){this._requestHandler=this._requestHandlerFactory(this);return}if(se&&(typeof se.baseUrl!="undefined"&&delete se.baseUrl,typeof se.paths!="undefined"&&typeof se.paths.vs!="undefined"&&delete se.paths.vs,typeof se.trustedTypesPolicy!="undefined"&&delete se.trustedTypesPolicy,se.catchError=!0,globalThis.require.config(se)),u){const _e=Q.zl.asBrowserUri(`${re}.js`).toString(!0);return v(5890)(`${_e}`).then(Se=>{if(this._requestHandler=Se.create(this),!this._requestHandler)throw new Error("No RequestHandler!")})}return new Promise((_e,Se)=>{const Ae=globalThis.require;Ae([re],we=>{if(this._requestHandler=we.create(this),!this._requestHandler){Se(new Error("No RequestHandler!"));return}_e()},Se)})}};s(B,"SimpleWorkerServer");let ie=B;function ue(D){return new ie(D,null)}s(ue,"create")},5890:(qe,Ce,v)=>{var N={"./simpleWorker":5585,"./simpleWorker.js":5585};function K(o){return Promise.resolve().then(()=>{if(!v.o(N,o)){var Q=new Error("Cannot find module '"+o+"'");throw Q.code="MODULE_NOT_FOUND",Q}var V=N[o];return v(V)})}s(K,"webpackAsyncContext"),K.keys=()=>Object.keys(N),K.id=5890,qe.exports=K},7454:(qe,Ce,v)=>{"use strict";v.d(Ce,{V:s(()=>K,"V")});var N=v(7512);const Q=class Q{constructor(u){const G=(0,N.W)(u);this._defaultValue=G,this._asciiMap=Q._createAsciiMap(G),this._map=new Map}static _createAsciiMap(u){const G=new Uint8Array(256);return G.fill(u),G}set(u,G){const T=(0,N.W)(G);u>=0&&u<256?this._asciiMap[u]=T:this._map.set(u,T)}get(u){return u>=0&&u<256?this._asciiMap[u]:this._map.get(u)||this._defaultValue}clear(){this._asciiMap.fill(this._defaultValue),this._map.clear()}};s(Q,"CharacterClassifier");let K=Q;const V=class V{constructor(){this._actual=new K(0)}add(u){this._actual.set(u,1)}has(u){return this._actual.get(u)===1}clear(){return this._actual.clear()}};s(V,"CharacterSet");let o=V},8295:(qe,Ce,v)=>{"use strict";v.d(Ce,{AQ:s(()=>xt,"AQ"),aZ:s(()=>Xe,"aZ"),l5:s(()=>Pt,"l5"),lQ:s(()=>Zt,"lQ"),s7:s(()=>Mt,"s7"),sH:s(()=>Jt,"sH"),sN:s(()=>dt,"sN"),ss:s(()=>$t,"ss"),yI:s(()=>Pe,"yI"),zp:s(()=>Rt,"zp")});var N=v(9746),K=v(4901),o=v(61),Q=v(5295);const V=(0,o.x1A)("editor.lineHighlightBackground",null,N.kg("lineHighlight","Background color for the highlight of line at the cursor position.")),E=(0,o.x1A)("editor.lineHighlightBorder",{dark:"#282828",light:"#eeeeee",hcDark:"#f38518",hcLight:o.b1q},N.kg("lineHighlightBorderBox","Background color for the border around the line at the cursor position.")),u=(0,o.x1A)("editor.rangeHighlightBackground",{dark:"#ffffff0b",light:"#fdff0033",hcDark:null,hcLight:null},N.kg("rangeHighlight","Background color of highlighted ranges, like by quick open and find features. The color must not be opaque so as not to hide underlying decorations."),!0),G=(0,o.x1A)("editor.rangeHighlightBorder",{dark:null,light:null,hcDark:o.buw,hcLight:o.buw},N.kg("rangeHighlightBorder","Background color of the border around highlighted ranges.")),T=(0,o.x1A)("editor.symbolHighlightBackground",{dark:o.Ubg,light:o.Ubg,hcDark:null,hcLight:null},N.kg("symbolHighlight","Background color of highlighted symbol, like for go to definition or go next/previous symbol. The color must not be opaque so as not to hide underlying decorations."),!0),Y=(0,o.x1A)("editor.symbolHighlightBorder",{dark:null,light:null,hcDark:o.buw,hcLight:o.buw},N.kg("symbolHighlightBorder","Background color of the border around highlighted symbols.")),y=(0,o.x1A)("editorCursor.foreground",{dark:"#AEAFAD",light:K.Q1.black,hcDark:K.Q1.white,hcLight:"#0F4A85"},N.kg("caret","Color of the editor cursor.")),W=(0,o.x1A)("editorCursor.background",null,N.kg("editorCursorBackground","The background color of the editor cursor. Allows customizing the color of a character overlapped by a block cursor.")),P=(0,o.x1A)("editorMultiCursor.primary.foreground",y,N.kg("editorMultiCursorPrimaryForeground","Color of the primary editor cursor when multiple cursors are present.")),O=(0,o.x1A)("editorMultiCursor.primary.background",W,N.kg("editorMultiCursorPrimaryBackground","The background color of the primary editor cursor when multiple cursors are present. Allows customizing the color of a character overlapped by a block cursor.")),M=(0,o.x1A)("editorMultiCursor.secondary.foreground",y,N.kg("editorMultiCursorSecondaryForeground","Color of secondary editor cursors when multiple cursors are present.")),g=(0,o.x1A)("editorMultiCursor.secondary.background",W,N.kg("editorMultiCursorSecondaryBackground","The background color of secondary editor cursors when multiple cursors are present. Allows customizing the color of a character overlapped by a block cursor.")),ee=(0,o.x1A)("editorWhitespace.foreground",{dark:"#e3e4e229",light:"#33333333",hcDark:"#e3e4e229",hcLight:"#CCCCCC"},N.kg("editorWhitespaces","Color of whitespace characters in the editor.")),H=(0,o.x1A)("editorLineNumber.foreground",{dark:"#858585",light:"#237893",hcDark:K.Q1.white,hcLight:"#292929"},N.kg("editorLineNumbers","Color of editor line numbers.")),C=(0,o.x1A)("editorIndentGuide.background",ee,N.kg("editorIndentGuides","Color of the editor indentation guides."),!1,N.kg("deprecatedEditorIndentGuides","'editorIndentGuide.background' is deprecated. Use 'editorIndentGuide.background1' instead.")),R=(0,o.x1A)("editorIndentGuide.activeBackground",ee,N.kg("editorActiveIndentGuide","Color of the active editor indentation guides."),!1,N.kg("deprecatedEditorActiveIndentGuide","'editorIndentGuide.activeBackground' is deprecated. Use 'editorIndentGuide.activeBackground1' instead.")),ie=(0,o.x1A)("editorIndentGuide.background1",C,N.kg("editorIndentGuides1","Color of the editor indentation guides (1).")),ue=(0,o.x1A)("editorIndentGuide.background2","#00000000",N.kg("editorIndentGuides2","Color of the editor indentation guides (2).")),xe=(0,o.x1A)("editorIndentGuide.background3","#00000000",N.kg("editorIndentGuides3","Color of the editor indentation guides (3).")),he=(0,o.x1A)("editorIndentGuide.background4","#00000000",N.kg("editorIndentGuides4","Color of the editor indentation guides (4).")),I=(0,o.x1A)("editorIndentGuide.background5","#00000000",N.kg("editorIndentGuides5","Color of the editor indentation guides (5).")),c=(0,o.x1A)("editorIndentGuide.background6","#00000000",N.kg("editorIndentGuides6","Color of the editor indentation guides (6).")),f=(0,o.x1A)("editorIndentGuide.activeBackground1",R,N.kg("editorActiveIndentGuide1","Color of the active editor indentation guides (1).")),d=(0,o.x1A)("editorIndentGuide.activeBackground2","#00000000",N.kg("editorActiveIndentGuide2","Color of the active editor indentation guides (2).")),x=(0,o.x1A)("editorIndentGuide.activeBackground3","#00000000",N.kg("editorActiveIndentGuide3","Color of the active editor indentation guides (3).")),B=(0,o.x1A)("editorIndentGuide.activeBackground4","#00000000",N.kg("editorActiveIndentGuide4","Color of the active editor indentation guides (4).")),D=(0,o.x1A)("editorIndentGuide.activeBackground5","#00000000",N.kg("editorActiveIndentGuide5","Color of the active editor indentation guides (5).")),q=(0,o.x1A)("editorIndentGuide.activeBackground6","#00000000",N.kg("editorActiveIndentGuide6","Color of the active editor indentation guides (6).")),se=(0,o.x1A)("editorActiveLineNumber.foreground",{dark:"#c6c6c6",light:"#0B216F",hcDark:o.buw,hcLight:o.buw},N.kg("editorActiveLineNumber","Color of editor active line number"),!1,N.kg("deprecatedEditorActiveLineNumber","Id is deprecated. Use 'editorLineNumber.activeForeground' instead.")),re=(0,o.x1A)("editorLineNumber.activeForeground",se,N.kg("editorActiveLineNumber","Color of editor active line number")),_e=(0,o.x1A)("editorLineNumber.dimmedForeground",null,N.kg("editorDimmedLineNumber","Color of the final editor line when editor.renderFinalNewline is set to dimmed.")),Se=(0,o.x1A)("editorRuler.foreground",{dark:"#5A5A5A",light:K.Q1.lightgrey,hcDark:K.Q1.white,hcLight:"#292929"},N.kg("editorRuler","Color of the editor rulers.")),Ae=(0,o.x1A)("editorCodeLens.foreground",{dark:"#999999",light:"#919191",hcDark:"#999999",hcLight:"#292929"},N.kg("editorCodeLensForeground","Foreground color of editor CodeLens")),we=(0,o.x1A)("editorBracketMatch.background",{dark:"#0064001a",light:"#0064001a",hcDark:"#0064001a",hcLight:"#0000"},N.kg("editorBracketMatchBackground","Background color behind matching brackets")),L=(0,o.x1A)("editorBracketMatch.border",{dark:"#888",light:"#B9B9B9",hcDark:o.b1q,hcLight:o.b1q},N.kg("editorBracketMatchBorder","Color for matching brackets boxes")),A=(0,o.x1A)("editorOverviewRuler.border",{dark:"#7f7f7f4d",light:"#7f7f7f4d",hcDark:"#7f7f7f4d",hcLight:"#666666"},N.kg("editorOverviewRulerBorder","Color of the overview ruler border.")),z=(0,o.x1A)("editorOverviewRuler.background",null,N.kg("editorOverviewRulerBackground","Background color of the editor overview ruler.")),b=(0,o.x1A)("editorGutter.background",o.YtV,N.kg("editorGutter","Background color of the editor gutter. The gutter contains the glyph margins and the line numbers.")),S=(0,o.x1A)("editorUnnecessaryCode.border",{dark:null,light:null,hcDark:K.Q1.fromHex("#fff").transparent(.8),hcLight:o.b1q},N.kg("unnecessaryCodeBorder","Border color of unnecessary (unused) source code in the editor.")),$=(0,o.x1A)("editorUnnecessaryCode.opacity",{dark:K.Q1.fromHex("#000a"),light:K.Q1.fromHex("#0007"),hcDark:null,hcLight:null},N.kg("unnecessaryCodeOpacity",`Opacity of unnecessary (unused) source code in the editor. For example, "#000000c0" will render the code with 75% opacity. For high contrast themes, use the  'editorUnnecessaryCode.border' theme color to underline unnecessary code instead of fading it out.`)),te=(0,o.x1A)("editorGhostText.border",{dark:null,light:null,hcDark:K.Q1.fromHex("#fff").transparent(.8),hcLight:K.Q1.fromHex("#292929").transparent(.8)},N.kg("editorGhostTextBorder","Border color of ghost text in the editor.")),ce=(0,o.x1A)("editorGhostText.foreground",{dark:K.Q1.fromHex("#ffffff56"),light:K.Q1.fromHex("#0007"),hcDark:null,hcLight:null},N.kg("editorGhostTextForeground","Foreground color of the ghost text in the editor.")),Te=(0,o.x1A)("editorGhostText.background",null,N.kg("editorGhostTextBackground","Background color of the ghost text in the editor.")),Ne=new K.Q1(new K.bU(0,122,204,.6)),He=(0,o.x1A)("editorOverviewRuler.rangeHighlightForeground",Ne,N.kg("overviewRulerRangeHighlight","Overview ruler marker color for range highlights. The color must not be opaque so as not to hide underlying decorations."),!0),Pe=(0,o.x1A)("editorOverviewRuler.errorForeground",{dark:new K.Q1(new K.bU(255,18,18,.7)),light:new K.Q1(new K.bU(255,18,18,.7)),hcDark:new K.Q1(new K.bU(255,50,50,1)),hcLight:"#B5200D"},N.kg("overviewRuleError","Overview ruler marker color for errors.")),Xe=(0,o.x1A)("editorOverviewRuler.warningForeground",{dark:o.Hng,light:o.Hng,hcDark:o.Stt,hcLight:o.Stt},N.kg("overviewRuleWarning","Overview ruler marker color for warnings.")),xt=(0,o.x1A)("editorOverviewRuler.infoForeground",{dark:o.pOz,light:o.pOz,hcDark:o.IIb,hcLight:o.IIb},N.kg("overviewRuleInfo","Overview ruler marker color for infos.")),dt=(0,o.x1A)("editorBracketHighlight.foreground1",{dark:"#FFD700",light:"#0431FAFF",hcDark:"#FFD700",hcLight:"#0431FAFF"},N.kg("editorBracketHighlightForeground1","Foreground color of brackets (1). Requires enabling bracket pair colorization.")),Zt=(0,o.x1A)("editorBracketHighlight.foreground2",{dark:"#DA70D6",light:"#319331FF",hcDark:"#DA70D6",hcLight:"#319331FF"},N.kg("editorBracketHighlightForeground2","Foreground color of brackets (2). Requires enabling bracket pair colorization.")),$t=(0,o.x1A)("editorBracketHighlight.foreground3",{dark:"#179FFF",light:"#7B3814FF",hcDark:"#87CEFA",hcLight:"#7B3814FF"},N.kg("editorBracketHighlightForeground3","Foreground color of brackets (3). Requires enabling bracket pair colorization.")),Pt=(0,o.x1A)("editorBracketHighlight.foreground4","#00000000",N.kg("editorBracketHighlightForeground4","Foreground color of brackets (4). Requires enabling bracket pair colorization.")),Jt=(0,o.x1A)("editorBracketHighlight.foreground5","#00000000",N.kg("editorBracketHighlightForeground5","Foreground color of brackets (5). Requires enabling bracket pair colorization.")),Rt=(0,o.x1A)("editorBracketHighlight.foreground6","#00000000",N.kg("editorBracketHighlightForeground6","Foreground color of brackets (6). Requires enabling bracket pair colorization.")),Mt=(0,o.x1A)("editorBracketHighlight.unexpectedBracket.foreground",{dark:new K.Q1(new K.bU(255,18,18,.8)),light:new K.Q1(new K.bU(255,18,18,.8)),hcDark:"new Color(new RGBA(255, 50, 50, 1))",hcLight:"#B5200D"},N.kg("editorBracketHighlightUnexpectedBracketForeground","Foreground color of unexpected brackets.")),Wt=(0,o.x1A)("editorBracketPairGuide.background1","#00000000",N.kg("editorBracketPairGuide.background1","Background color of inactive bracket pair guides (1). Requires enabling bracket pair guides.")),Qt=(0,o.x1A)("editorBracketPairGuide.background2","#00000000",N.kg("editorBracketPairGuide.background2","Background color of inactive bracket pair guides (2). Requires enabling bracket pair guides.")),Ot=(0,o.x1A)("editorBracketPairGuide.background3","#00000000",N.kg("editorBracketPairGuide.background3","Background color of inactive bracket pair guides (3). Requires enabling bracket pair guides.")),Xt=(0,o.x1A)("editorBracketPairGuide.background4","#00000000",N.kg("editorBracketPairGuide.background4","Background color of inactive bracket pair guides (4). Requires enabling bracket pair guides.")),qt=(0,o.x1A)("editorBracketPairGuide.background5","#00000000",N.kg("editorBracketPairGuide.background5","Background color of inactive bracket pair guides (5). Requires enabling bracket pair guides.")),nn=(0,o.x1A)("editorBracketPairGuide.background6","#00000000",N.kg("editorBracketPairGuide.background6","Background color of inactive bracket pair guides (6). Requires enabling bracket pair guides.")),Gt=(0,o.x1A)("editorBracketPairGuide.activeBackground1","#00000000",N.kg("editorBracketPairGuide.activeBackground1","Background color of active bracket pair guides (1). Requires enabling bracket pair guides.")),Bt=(0,o.x1A)("editorBracketPairGuide.activeBackground2","#00000000",N.kg("editorBracketPairGuide.activeBackground2","Background color of active bracket pair guides (2). Requires enabling bracket pair guides.")),Yt=(0,o.x1A)("editorBracketPairGuide.activeBackground3","#00000000",N.kg("editorBracketPairGuide.activeBackground3","Background color of active bracket pair guides (3). Requires enabling bracket pair guides.")),be=(0,o.x1A)("editorBracketPairGuide.activeBackground4","#00000000",N.kg("editorBracketPairGuide.activeBackground4","Background color of active bracket pair guides (4). Requires enabling bracket pair guides.")),Ee=(0,o.x1A)("editorBracketPairGuide.activeBackground5","#00000000",N.kg("editorBracketPairGuide.activeBackground5","Background color of active bracket pair guides (5). Requires enabling bracket pair guides.")),n=(0,o.x1A)("editorBracketPairGuide.activeBackground6","#00000000",N.kg("editorBracketPairGuide.activeBackground6","Background color of active bracket pair guides (6). Requires enabling bracket pair guides.")),je=(0,o.x1A)("editorUnicodeHighlight.border",o.Hng,N.kg("editorUnicodeHighlight.border","Border color used to highlight unicode characters.")),tt=(0,o.x1A)("editorUnicodeHighlight.background",o.whs,N.kg("editorUnicodeHighlight.background","Background color used to highlight unicode characters."));(0,Q.zy)(($e,ze)=>{const Ze=$e.getColor(o.YtV),Ge=$e.getColor(V),Qe=Ge&&!Ge.isTransparent()?Ge:Ze;Qe&&ze.addRule(`.monaco-editor .inputarea.ime-input { background-color: ${Qe}; }`)})},3902:(qe,Ce,v)=>{"use strict";v.d(Ce,{W:s(()=>N,"W")});function N(K){let o=0,Q=0,V=0,E=0;for(let u=0,G=K.length;u<G;u++){const T=K.charCodeAt(u);T===13?(o===0&&(Q=u),o++,u+1<G&&K.charCodeAt(u+1)===10?(E|=2,u++):E|=3,V=u+1):T===10&&(E|=1,o===0&&(Q=u),o++,V=u+1)}return o===0&&(Q=K.length),[o,Q,K.length-V,E]}s(N,"countEOL")},9955:(qe,Ce,v)=>{"use strict";v.d(Ce,{M:s(()=>V,"M"),S:s(()=>E,"S")});var N=v(4327),K=v(2532),o=v(8061),Q=v(7393);const u=class u{static fromRangeInclusive(Y){return new u(Y.startLineNumber,Y.endLineNumber+1)}static joinMany(Y){if(Y.length===0)return[];let y=new E(Y[0].slice());for(let W=1;W<Y.length;W++)y=y.getUnion(new E(Y[W].slice()));return y.ranges}static join(Y){if(Y.length===0)throw new N.D7("lineRanges cannot be empty");let y=Y[0].startLineNumber,W=Y[0].endLineNumberExclusive;for(let P=1;P<Y.length;P++)y=Math.min(y,Y[P].startLineNumber),W=Math.max(W,Y[P].endLineNumberExclusive);return new u(y,W)}static ofLength(Y,y){return new u(Y,Y+y)}static deserialize(Y){return new u(Y[0],Y[1])}constructor(Y,y){if(Y>y)throw new N.D7(`startLineNumber ${Y} cannot be after endLineNumberExclusive ${y}`);this.startLineNumber=Y,this.endLineNumberExclusive=y}contains(Y){return this.startLineNumber<=Y&&Y<this.endLineNumberExclusive}get isEmpty(){return this.startLineNumber===this.endLineNumberExclusive}delta(Y){return new u(this.startLineNumber+Y,this.endLineNumberExclusive+Y)}deltaLength(Y){return new u(this.startLineNumber,this.endLineNumberExclusive+Y)}get length(){return this.endLineNumberExclusive-this.startLineNumber}join(Y){return new u(Math.min(this.startLineNumber,Y.startLineNumber),Math.max(this.endLineNumberExclusive,Y.endLineNumberExclusive))}toString(){return`[${this.startLineNumber},${this.endLineNumberExclusive})`}intersect(Y){const y=Math.max(this.startLineNumber,Y.startLineNumber),W=Math.min(this.endLineNumberExclusive,Y.endLineNumberExclusive);if(y<=W)return new u(y,W)}intersectsStrict(Y){return this.startLineNumber<Y.endLineNumberExclusive&&Y.startLineNumber<this.endLineNumberExclusive}overlapOrTouch(Y){return this.startLineNumber<=Y.endLineNumberExclusive&&Y.startLineNumber<=this.endLineNumberExclusive}equals(Y){return this.startLineNumber===Y.startLineNumber&&this.endLineNumberExclusive===Y.endLineNumberExclusive}toInclusiveRange(){return this.isEmpty?null:new o.Q(this.startLineNumber,1,this.endLineNumberExclusive-1,Number.MAX_SAFE_INTEGER)}toExclusiveRange(){return new o.Q(this.startLineNumber,1,this.endLineNumberExclusive,1)}mapToLineArray(Y){const y=[];for(let W=this.startLineNumber;W<this.endLineNumberExclusive;W++)y.push(Y(W));return y}forEach(Y){for(let y=this.startLineNumber;y<this.endLineNumberExclusive;y++)Y(y)}serialize(){return[this.startLineNumber,this.endLineNumberExclusive]}includes(Y){return this.startLineNumber<=Y&&Y<this.endLineNumberExclusive}toOffsetRange(){return new K.L(this.startLineNumber-1,this.endLineNumberExclusive-1)}};s(u,"LineRange");let V=u;const G=class G{constructor(Y=[]){this._normalizedRanges=Y}get ranges(){return this._normalizedRanges}addRange(Y){if(Y.length===0)return;const y=(0,Q.hw)(this._normalizedRanges,P=>P.endLineNumberExclusive>=Y.startLineNumber),W=(0,Q.iM)(this._normalizedRanges,P=>P.startLineNumber<=Y.endLineNumberExclusive)+1;if(y===W)this._normalizedRanges.splice(y,0,Y);else if(y===W-1){const P=this._normalizedRanges[y];this._normalizedRanges[y]=P.join(Y)}else{const P=this._normalizedRanges[y].join(this._normalizedRanges[W-1]).join(Y);this._normalizedRanges.splice(y,W-y,P)}}contains(Y){const y=(0,Q.lx)(this._normalizedRanges,W=>W.startLineNumber<=Y);return!!y&&y.endLineNumberExclusive>Y}intersects(Y){const y=(0,Q.lx)(this._normalizedRanges,W=>W.startLineNumber<Y.endLineNumberExclusive);return!!y&&y.endLineNumberExclusive>Y.startLineNumber}getUnion(Y){if(this._normalizedRanges.length===0)return Y;if(Y._normalizedRanges.length===0)return this;const y=[];let W=0,P=0,O=null;for(;W<this._normalizedRanges.length||P<Y._normalizedRanges.length;){let M=null;if(W<this._normalizedRanges.length&&P<Y._normalizedRanges.length){const g=this._normalizedRanges[W],ee=Y._normalizedRanges[P];g.startLineNumber<ee.startLineNumber?(M=g,W++):(M=ee,P++)}else W<this._normalizedRanges.length?(M=this._normalizedRanges[W],W++):(M=Y._normalizedRanges[P],P++);O===null?O=M:O.endLineNumberExclusive>=M.startLineNumber?O=new V(O.startLineNumber,Math.max(O.endLineNumberExclusive,M.endLineNumberExclusive)):(y.push(O),O=M)}return O!==null&&y.push(O),new G(y)}subtractFrom(Y){const y=(0,Q.hw)(this._normalizedRanges,M=>M.endLineNumberExclusive>=Y.startLineNumber),W=(0,Q.iM)(this._normalizedRanges,M=>M.startLineNumber<=Y.endLineNumberExclusive)+1;if(y===W)return new G([Y]);const P=[];let O=Y.startLineNumber;for(let M=y;M<W;M++){const g=this._normalizedRanges[M];g.startLineNumber>O&&P.push(new V(O,g.startLineNumber)),O=g.endLineNumberExclusive}return O<Y.endLineNumberExclusive&&P.push(new V(O,Y.endLineNumberExclusive)),new G(P)}toString(){return this._normalizedRanges.map(Y=>Y.toString()).join(", ")}getIntersection(Y){const y=[];let W=0,P=0;for(;W<this._normalizedRanges.length&&P<Y._normalizedRanges.length;){const O=this._normalizedRanges[W],M=Y._normalizedRanges[P],g=O.intersect(M);g&&!g.isEmpty&&y.push(g),O.endLineNumberExclusive<M.endLineNumberExclusive?W++:P++}return new G(y)}getWithDelta(Y){return new G(this._normalizedRanges.map(y=>y.delta(Y)))}};s(G,"LineRangeSet");let E=G},2532:(qe,Ce,v)=>{"use strict";v.d(Ce,{L:s(()=>K,"L")});var N=v(4327);const Q=class Q{static addRange(u,G){let T=0;for(;T<G.length&&G[T].endExclusive<u.start;)T++;let Y=T;for(;Y<G.length&&G[Y].start<=u.endExclusive;)Y++;if(T===Y)G.splice(T,0,u);else{const y=Math.min(u.start,G[T].start),W=Math.max(u.endExclusive,G[Y-1].endExclusive);G.splice(T,Y-T,new Q(y,W))}}static tryCreate(u,G){if(!(u>G))return new Q(u,G)}static ofLength(u){return new Q(0,u)}static ofStartAndLength(u,G){return new Q(u,u+G)}constructor(u,G){if(this.start=u,this.endExclusive=G,u>G)throw new N.D7(`Invalid range: ${this.toString()}`)}get isEmpty(){return this.start===this.endExclusive}delta(u){return new Q(this.start+u,this.endExclusive+u)}deltaStart(u){return new Q(this.start+u,this.endExclusive)}deltaEnd(u){return new Q(this.start,this.endExclusive+u)}get length(){return this.endExclusive-this.start}toString(){return`[${this.start}, ${this.endExclusive})`}contains(u){return this.start<=u&&u<this.endExclusive}join(u){return new Q(Math.min(this.start,u.start),Math.max(this.endExclusive,u.endExclusive))}intersect(u){const G=Math.max(this.start,u.start),T=Math.min(this.endExclusive,u.endExclusive);if(G<=T)return new Q(G,T)}intersects(u){const G=Math.max(this.start,u.start),T=Math.min(this.endExclusive,u.endExclusive);return G<T}isBefore(u){return this.endExclusive<=u.start}isAfter(u){return this.start>=u.endExclusive}slice(u){return u.slice(this.start,this.endExclusive)}substring(u){return u.substring(this.start,this.endExclusive)}clip(u){if(this.isEmpty)throw new N.D7(`Invalid clipping range: ${this.toString()}`);return Math.max(this.start,Math.min(this.endExclusive-1,u))}clipCyclic(u){if(this.isEmpty)throw new N.D7(`Invalid clipping range: ${this.toString()}`);return u<this.start?this.endExclusive-(this.start-u)%this.length:u>=this.endExclusive?this.start+(u-this.start)%this.length:u}forEach(u){for(let G=this.start;G<this.endExclusive;G++)u(G)}};s(Q,"OffsetRange");let K=Q;const V=class V{constructor(){this._sortedRanges=[]}addRange(u){let G=0;for(;G<this._sortedRanges.length&&this._sortedRanges[G].endExclusive<u.start;)G++;let T=G;for(;T<this._sortedRanges.length&&this._sortedRanges[T].start<=u.endExclusive;)T++;if(G===T)this._sortedRanges.splice(G,0,u);else{const Y=Math.min(u.start,this._sortedRanges[G].start),y=Math.max(u.endExclusive,this._sortedRanges[T-1].endExclusive);this._sortedRanges.splice(G,T-G,new K(Y,y))}}toString(){return this._sortedRanges.map(u=>u.toString()).join(", ")}intersectsStrict(u){let G=0;for(;G<this._sortedRanges.length&&this._sortedRanges[G].endExclusive<=u.start;)G++;return G<this._sortedRanges.length&&this._sortedRanges[G].start<u.endExclusive}intersectWithRange(u){const G=new V;for(const T of this._sortedRanges){const Y=T.intersect(u);Y&&G.addRange(Y)}return G}intersectWithRangeLength(u){return this.intersectWithRange(u).length}get length(){return this._sortedRanges.reduce((u,G)=>u+G.length,0)}};s(V,"OffsetRangeSet");let o=V},5365:(qe,Ce,v)=>{"use strict";v.d(Ce,{y:s(()=>N,"y")});const K=class K{constructor(Q,V){this.lineNumber=Q,this.column=V}with(Q=this.lineNumber,V=this.column){return Q===this.lineNumber&&V===this.column?this:new K(Q,V)}delta(Q=0,V=0){return this.with(this.lineNumber+Q,this.column+V)}equals(Q){return K.equals(this,Q)}static equals(Q,V){return!Q&&!V?!0:!!Q&&!!V&&Q.lineNumber===V.lineNumber&&Q.column===V.column}isBefore(Q){return K.isBefore(this,Q)}static isBefore(Q,V){return Q.lineNumber<V.lineNumber?!0:V.lineNumber<Q.lineNumber?!1:Q.column<V.column}isBeforeOrEqual(Q){return K.isBeforeOrEqual(this,Q)}static isBeforeOrEqual(Q,V){return Q.lineNumber<V.lineNumber?!0:V.lineNumber<Q.lineNumber?!1:Q.column<=V.column}static compare(Q,V){const E=Q.lineNumber|0,u=V.lineNumber|0;if(E===u){const G=Q.column|0,T=V.column|0;return G-T}return E-u}clone(){return new K(this.lineNumber,this.column)}toString(){return"("+this.lineNumber+","+this.column+")"}static lift(Q){return new K(Q.lineNumber,Q.column)}static isIPosition(Q){return Q&&typeof Q.lineNumber=="number"&&typeof Q.column=="number"}toJSON(){return{lineNumber:this.lineNumber,column:this.column}}};s(K,"Position");let N=K},8061:(qe,Ce,v)=>{"use strict";v.d(Ce,{Q:s(()=>K,"Q")});var N=v(5365);const o=class o{constructor(V,E,u,G){V>u||V===u&&E>G?(this.startLineNumber=u,this.startColumn=G,this.endLineNumber=V,this.endColumn=E):(this.startLineNumber=V,this.startColumn=E,this.endLineNumber=u,this.endColumn=G)}isEmpty(){return o.isEmpty(this)}static isEmpty(V){return V.startLineNumber===V.endLineNumber&&V.startColumn===V.endColumn}containsPosition(V){return o.containsPosition(this,V)}static containsPosition(V,E){return!(E.lineNumber<V.startLineNumber||E.lineNumber>V.endLineNumber||E.lineNumber===V.startLineNumber&&E.column<V.startColumn||E.lineNumber===V.endLineNumber&&E.column>V.endColumn)}static strictContainsPosition(V,E){return!(E.lineNumber<V.startLineNumber||E.lineNumber>V.endLineNumber||E.lineNumber===V.startLineNumber&&E.column<=V.startColumn||E.lineNumber===V.endLineNumber&&E.column>=V.endColumn)}containsRange(V){return o.containsRange(this,V)}static containsRange(V,E){return!(E.startLineNumber<V.startLineNumber||E.endLineNumber<V.startLineNumber||E.startLineNumber>V.endLineNumber||E.endLineNumber>V.endLineNumber||E.startLineNumber===V.startLineNumber&&E.startColumn<V.startColumn||E.endLineNumber===V.endLineNumber&&E.endColumn>V.endColumn)}strictContainsRange(V){return o.strictContainsRange(this,V)}static strictContainsRange(V,E){return!(E.startLineNumber<V.startLineNumber||E.endLineNumber<V.startLineNumber||E.startLineNumber>V.endLineNumber||E.endLineNumber>V.endLineNumber||E.startLineNumber===V.startLineNumber&&E.startColumn<=V.startColumn||E.endLineNumber===V.endLineNumber&&E.endColumn>=V.endColumn)}plusRange(V){return o.plusRange(this,V)}static plusRange(V,E){let u,G,T,Y;return E.startLineNumber<V.startLineNumber?(u=E.startLineNumber,G=E.startColumn):E.startLineNumber===V.startLineNumber?(u=E.startLineNumber,G=Math.min(E.startColumn,V.startColumn)):(u=V.startLineNumber,G=V.startColumn),E.endLineNumber>V.endLineNumber?(T=E.endLineNumber,Y=E.endColumn):E.endLineNumber===V.endLineNumber?(T=E.endLineNumber,Y=Math.max(E.endColumn,V.endColumn)):(T=V.endLineNumber,Y=V.endColumn),new o(u,G,T,Y)}intersectRanges(V){return o.intersectRanges(this,V)}static intersectRanges(V,E){let u=V.startLineNumber,G=V.startColumn,T=V.endLineNumber,Y=V.endColumn;const y=E.startLineNumber,W=E.startColumn,P=E.endLineNumber,O=E.endColumn;return u<y?(u=y,G=W):u===y&&(G=Math.max(G,W)),T>P?(T=P,Y=O):T===P&&(Y=Math.min(Y,O)),u>T||u===T&&G>Y?null:new o(u,G,T,Y)}equalsRange(V){return o.equalsRange(this,V)}static equalsRange(V,E){return!V&&!E?!0:!!V&&!!E&&V.startLineNumber===E.startLineNumber&&V.startColumn===E.startColumn&&V.endLineNumber===E.endLineNumber&&V.endColumn===E.endColumn}getEndPosition(){return o.getEndPosition(this)}static getEndPosition(V){return new N.y(V.endLineNumber,V.endColumn)}getStartPosition(){return o.getStartPosition(this)}static getStartPosition(V){return new N.y(V.startLineNumber,V.startColumn)}toString(){return"["+this.startLineNumber+","+this.startColumn+" -> "+this.endLineNumber+","+this.endColumn+"]"}setEndPosition(V,E){return new o(this.startLineNumber,this.startColumn,V,E)}setStartPosition(V,E){return new o(V,E,this.endLineNumber,this.endColumn)}collapseToStart(){return o.collapseToStart(this)}static collapseToStart(V){return new o(V.startLineNumber,V.startColumn,V.startLineNumber,V.startColumn)}collapseToEnd(){return o.collapseToEnd(this)}static collapseToEnd(V){return new o(V.endLineNumber,V.endColumn,V.endLineNumber,V.endColumn)}delta(V){return new o(this.startLineNumber+V,this.startColumn,this.endLineNumber+V,this.endColumn)}static fromPositions(V,E=V){return new o(V.lineNumber,V.column,E.lineNumber,E.column)}static lift(V){return V?new o(V.startLineNumber,V.startColumn,V.endLineNumber,V.endColumn):null}static isIRange(V){return V&&typeof V.startLineNumber=="number"&&typeof V.startColumn=="number"&&typeof V.endLineNumber=="number"&&typeof V.endColumn=="number"}static areIntersectingOrTouching(V,E){return!(V.endLineNumber<E.startLineNumber||V.endLineNumber===E.startLineNumber&&V.endColumn<E.startColumn||E.endLineNumber<V.startLineNumber||E.endLineNumber===V.startLineNumber&&E.endColumn<V.startColumn)}static areIntersecting(V,E){return!(V.endLineNumber<E.startLineNumber||V.endLineNumber===E.startLineNumber&&V.endColumn<=E.startColumn||E.endLineNumber<V.startLineNumber||E.endLineNumber===V.startLineNumber&&E.endColumn<=V.startColumn)}static compareRangesUsingStarts(V,E){if(V&&E){const T=V.startLineNumber|0,Y=E.startLineNumber|0;if(T===Y){const y=V.startColumn|0,W=E.startColumn|0;if(y===W){const P=V.endLineNumber|0,O=E.endLineNumber|0;if(P===O){const M=V.endColumn|0,g=E.endColumn|0;return M-g}return P-O}return y-W}return T-Y}return(V?1:0)-(E?1:0)}static compareRangesUsingEnds(V,E){return V.endLineNumber===E.endLineNumber?V.endColumn===E.endColumn?V.startLineNumber===E.startLineNumber?V.startColumn-E.startColumn:V.startLineNumber-E.startLineNumber:V.endColumn-E.endColumn:V.endLineNumber-E.endLineNumber}static spansMultipleLines(V){return V.endLineNumber>V.startLineNumber}toJSON(){return this}};s(o,"Range");let K=o},3702:(qe,Ce,v)=>{"use strict";v.d(Ce,{L:s(()=>o,"L")});var N=v(5365),K=v(8061);const Q=class Q extends K.Q{constructor(E,u,G,T){super(E,u,G,T),this.selectionStartLineNumber=E,this.selectionStartColumn=u,this.positionLineNumber=G,this.positionColumn=T}toString(){return"["+this.selectionStartLineNumber+","+this.selectionStartColumn+" -> "+this.positionLineNumber+","+this.positionColumn+"]"}equalsSelection(E){return Q.selectionsEqual(this,E)}static selectionsEqual(E,u){return E.selectionStartLineNumber===u.selectionStartLineNumber&&E.selectionStartColumn===u.selectionStartColumn&&E.positionLineNumber===u.positionLineNumber&&E.positionColumn===u.positionColumn}getDirection(){return this.selectionStartLineNumber===this.startLineNumber&&this.selectionStartColumn===this.startColumn?0:1}setEndPosition(E,u){return this.getDirection()===0?new Q(this.startLineNumber,this.startColumn,E,u):new Q(E,u,this.startLineNumber,this.startColumn)}getPosition(){return new N.y(this.positionLineNumber,this.positionColumn)}getSelectionStart(){return new N.y(this.selectionStartLineNumber,this.selectionStartColumn)}setStartPosition(E,u){return this.getDirection()===0?new Q(E,u,this.endLineNumber,this.endColumn):new Q(this.endLineNumber,this.endColumn,E,u)}static fromPositions(E,u=E){return new Q(E.lineNumber,E.column,u.lineNumber,u.column)}static fromRange(E,u){return u===0?new Q(E.startLineNumber,E.startColumn,E.endLineNumber,E.endColumn):new Q(E.endLineNumber,E.endColumn,E.startLineNumber,E.startColumn)}static liftSelection(E){return new Q(E.selectionStartLineNumber,E.selectionStartColumn,E.positionLineNumber,E.positionColumn)}static selectionsArrEqual(E,u){if(E&&!u||!E&&u)return!1;if(!E&&!u)return!0;if(E.length!==u.length)return!1;for(let G=0,T=E.length;G<T;G++)if(!this.selectionsEqual(E[G],u[G]))return!1;return!0}static isISelection(E){return E&&typeof E.selectionStartLineNumber=="number"&&typeof E.selectionStartColumn=="number"&&typeof E.positionLineNumber=="number"&&typeof E.positionColumn=="number"}static createWithDirection(E,u,G,T,Y){return Y===0?new Q(E,u,G,T):new Q(G,T,E,u)}};s(Q,"Selection");let o=Q},8357:(qe,Ce,v)=>{"use strict";v.d(Ce,{W:s(()=>o,"W")});var N=v(5365),K=v(8061);const Q=class Q{static betweenPositions(E,u){return E.lineNumber===u.lineNumber?new Q(0,u.column-E.column):new Q(u.lineNumber-E.lineNumber,u.column-1)}static ofRange(E){return Q.betweenPositions(E.getStartPosition(),E.getEndPosition())}static ofText(E){let u=0,G=0;for(const T of E)T===`
`?(u++,G=0):G++;return new Q(u,G)}constructor(E,u){this.lineCount=E,this.columnCount=u}isGreaterThanOrEqualTo(E){return this.lineCount!==E.lineCount?this.lineCount>E.lineCount:this.columnCount>=E.columnCount}createRange(E){return this.lineCount===0?new K.Q(E.lineNumber,E.column,E.lineNumber,E.column+this.columnCount):new K.Q(E.lineNumber,E.column,E.lineNumber+this.lineCount,this.columnCount+1)}addToPosition(E){return this.lineCount===0?new N.y(E.lineNumber,E.column+this.columnCount):new N.y(E.lineNumber+this.lineCount,this.columnCount+1)}toString(){return`${this.lineCount},${this.columnCount}`}};s(Q,"TextLength"),Q.zero=new Q(0,0);let o=Q},8782:(qe,Ce,v)=>{"use strict";v.d(Ce,{Io:s(()=>E,"Io"),Ld:s(()=>V,"Ld"),Th:s(()=>G,"Th")});var N=v(7954),K=v(5525);const o="`~!@#$%^&*()-=+[{]}\\|;:'\",.<>/?";function Q(Y=""){let y="(-?\\d*\\.\\d\\w*)|([^";for(const W of o)Y.indexOf(W)>=0||(y+="\\"+W);return y+="\\s]+)",new RegExp(y,"g")}s(Q,"createWordRegExp");const V=Q();function E(Y){let y=V;if(Y&&Y instanceof RegExp)if(Y.global)y=Y;else{let W="g";Y.ignoreCase&&(W+="i"),Y.multiline&&(W+="m"),Y.unicode&&(W+="u"),y=new RegExp(Y.source,W)}return y.lastIndex=0,y}s(E,"ensureValidWordDefinition");const u=new K.w;u.unshift({maxLen:1e3,windowSize:15,timeBudget:150});function G(Y,y,W,P,O){if(y=E(y),O||(O=N.f.first(u)),W.length>O.maxLen){let C=Y-O.maxLen/2;return C<0?C=0:P+=C,W=W.substring(C,Y+O.maxLen/2),G(Y,y,W,P,O)}const M=Date.now(),g=Y-1-P;let ee=-1,H=null;for(let C=1;!(Date.now()-M>=O.timeBudget);C++){const R=g-O.windowSize*C;y.lastIndex=Math.max(0,R);const ie=T(y,W,g,ee);if(!ie&&H||(H=ie,R<=0))break;ee=R}if(H){const C={word:H[0],startColumn:P+1+H.index,endColumn:P+1+H.index+H[0].length};return y.lastIndex=0,C}return null}s(G,"getWordAtText");function T(Y,y,W,P){let O;for(;O=Y.exec(y);){const M=O.index||0;if(M<=W&&Y.lastIndex>=W)return O;if(P>0&&M>P)return null}return null}s(T,"_findRegexMatchEnclosingPosition")},5910:(qe,Ce,v)=>{"use strict";v.d(Ce,{x:s(()=>N,"x")});const K=class K{static getLanguageId(Q){return(Q&255)>>>0}static getTokenType(Q){return(Q&768)>>>8}static containsBalancedBrackets(Q){return(Q&1024)!==0}static getFontStyle(Q){return(Q&30720)>>>11}static getForeground(Q){return(Q&16744448)>>>15}static getBackground(Q){return(Q&4278190080)>>>24}static getClassNameFromMetadata(Q){let E="mtk"+this.getForeground(Q);const u=this.getFontStyle(Q);return u&1&&(E+=" mtki"),u&2&&(E+=" mtkb"),u&4&&(E+=" mtku"),u&8&&(E+=" mtks"),E}static getInlineStyleFromMetadata(Q,V){const E=this.getForeground(Q),u=this.getFontStyle(Q);let G=`color: ${V[E]};`;u&1&&(G+="font-style: italic;"),u&2&&(G+="font-weight: bold;");let T="";return u&4&&(T+=" underline"),u&8&&(T+=" line-through"),T&&(G+=`text-decoration:${T};`),G}static getPresentationFromMetadata(Q){const V=this.getForeground(Q),E=this.getFontStyle(Q);return{foreground:V,italic:!!(E&1),bold:!!(E&2),underline:!!(E&4),strikethrough:!!(E&8)}}};s(K,"TokenMetadata");let N=K},4364:(qe,Ce,v)=>{"use strict";v.d(Ce,{rY:s(()=>Y,"rY"),ou:s(()=>G,"ou"),dG:s(()=>x,"dG"),OB:s(()=>B,"OB")});var N=v(1869),K=v(7264),o=v(2106),Q=v(9235);const q=class q{constructor(){this._tokenizationSupports=new Map,this._factories=new Map,this._onDidChange=new o.vl,this.onDidChange=this._onDidChange.event,this._colorMap=null}handleChange(b){this._onDidChange.fire({changedLanguages:b,changedColorMap:!1})}register(b,S){return this._tokenizationSupports.set(b,S),this.handleChange([b]),(0,Q.s)(()=>{this._tokenizationSupports.get(b)===S&&(this._tokenizationSupports.delete(b),this.handleChange([b]))})}get(b){return this._tokenizationSupports.get(b)||null}registerFactory(b,S){var te;(te=this._factories.get(b))==null||te.dispose();const $=new E(this,b,S);return this._factories.set(b,$),(0,Q.s)(()=>{const ce=this._factories.get(b);!ce||ce!==$||(this._factories.delete(b),ce.dispose())})}async getOrCreate(b){const S=this.get(b);if(S)return S;const $=this._factories.get(b);return!$||$.isResolved?null:(await $.resolve(),this.get(b))}isResolved(b){if(this.get(b))return!0;const $=this._factories.get(b);return!!(!$||$.isResolved)}setColorMap(b){this._colorMap=b,this._onDidChange.fire({changedLanguages:Array.from(this._tokenizationSupports.keys()),changedColorMap:!0})}getColorMap(){return this._colorMap}getDefaultBackground(){return this._colorMap&&this._colorMap.length>2?this._colorMap[2]:null}};s(q,"TokenizationRegistry");let V=q;const se=class se extends Q.jG{get isResolved(){return this._isResolved}constructor(b,S,$){super(),this._registry=b,this._languageId=S,this._factory=$,this._isDisposed=!1,this._resolvePromise=null,this._isResolved=!1}dispose(){this._isDisposed=!0,super.dispose()}async resolve(){return this._resolvePromise||(this._resolvePromise=this._create()),this._resolvePromise}async _create(){const b=await this._factory.tokenizationSupport;this._isResolved=!0,b&&!this._isDisposed&&this._register(this._registry.register(this._languageId,b))}};s(se,"TokenizationSupportFactoryData");let E=se;var u=v(9746);const re=class re{constructor(b,S,$){this.offset=b,this.type=S,this.language=$,this._tokenBrand=void 0}toString(){return"("+this.offset+", "+this.type+")"}};s(re,"Token");let G=re;const _e=class _e{constructor(b,S){this.tokens=b,this.endState=S,this._tokenizationResultBrand=void 0}};s(_e,"TokenizationResult");let T=_e;const Se=class Se{constructor(b,S){this.tokens=b,this.endState=S,this._encodedTokenizationResultBrand=void 0}};s(Se,"EncodedTokenizationResult");let Y=Se;var y;(function(z){z[z.Increase=0]="Increase",z[z.Decrease=1]="Decrease"})(y||(y={}));var W;(function(z){const b=new Map;b.set(0,N.W.symbolMethod),b.set(1,N.W.symbolFunction),b.set(2,N.W.symbolConstructor),b.set(3,N.W.symbolField),b.set(4,N.W.symbolVariable),b.set(5,N.W.symbolClass),b.set(6,N.W.symbolStruct),b.set(7,N.W.symbolInterface),b.set(8,N.W.symbolModule),b.set(9,N.W.symbolProperty),b.set(10,N.W.symbolEvent),b.set(11,N.W.symbolOperator),b.set(12,N.W.symbolUnit),b.set(13,N.W.symbolValue),b.set(15,N.W.symbolEnum),b.set(14,N.W.symbolConstant),b.set(15,N.W.symbolEnum),b.set(16,N.W.symbolEnumMember),b.set(17,N.W.symbolKeyword),b.set(27,N.W.symbolSnippet),b.set(18,N.W.symbolText),b.set(19,N.W.symbolColor),b.set(20,N.W.symbolFile),b.set(21,N.W.symbolReference),b.set(22,N.W.symbolCustomColor),b.set(23,N.W.symbolFolder),b.set(24,N.W.symbolTypeParameter),b.set(25,N.W.account),b.set(26,N.W.issues);function S(ce){let Te=b.get(ce);return Te||(console.info("No codicon found for CompletionItemKind "+ce),Te=N.W.symbolProperty),Te}s(S,"toIcon"),z.toIcon=S;const $=new Map;$.set("method",0),$.set("function",1),$.set("constructor",2),$.set("field",3),$.set("variable",4),$.set("class",5),$.set("struct",6),$.set("interface",7),$.set("module",8),$.set("property",9),$.set("event",10),$.set("operator",11),$.set("unit",12),$.set("value",13),$.set("constant",14),$.set("enum",15),$.set("enum-member",16),$.set("enumMember",16),$.set("keyword",17),$.set("snippet",27),$.set("text",18),$.set("color",19),$.set("file",20),$.set("reference",21),$.set("customcolor",22),$.set("folder",23),$.set("type-parameter",24),$.set("typeParameter",24),$.set("account",25),$.set("issue",26);function te(ce,Te){let Ne=$.get(ce);return typeof Ne=="undefined"&&!Te&&(Ne=9),Ne}s(te,"fromString"),z.fromString=te})(W||(W={}));var P;(function(z){z[z.Automatic=0]="Automatic",z[z.Explicit=1]="Explicit"})(P||(P={}));const Ae=class Ae{constructor(b,S,$,te){this.range=b,this.text=S,this.completionKind=$,this.isSnippetText=te}equals(b){return Range.lift(this.range).equalsRange(b.range)&&this.text===b.text&&this.completionKind===b.completionKind&&this.isSnippetText===b.isSnippetText}};s(Ae,"SelectedSuggestionInfo");let O=Ae;var M;(function(z){z[z.Automatic=0]="Automatic",z[z.PasteAs=1]="PasteAs"})(M||(M={}));var g;(function(z){z[z.Invoke=1]="Invoke",z[z.TriggerCharacter=2]="TriggerCharacter",z[z.ContentChange=3]="ContentChange"})(g||(g={}));var ee;(function(z){z[z.Text=0]="Text",z[z.Read=1]="Read",z[z.Write=2]="Write"})(ee||(ee={}));function H(z){return z&&URI.isUri(z.uri)&&Range.isIRange(z.range)&&(Range.isIRange(z.originSelectionRange)||Range.isIRange(z.targetSelectionRange))}s(H,"isLocationLink");const C={17:(0,u.kg)("Array","array"),16:(0,u.kg)("Boolean","boolean"),4:(0,u.kg)("Class","class"),13:(0,u.kg)("Constant","constant"),8:(0,u.kg)("Constructor","constructor"),9:(0,u.kg)("Enum","enumeration"),21:(0,u.kg)("EnumMember","enumeration member"),23:(0,u.kg)("Event","event"),7:(0,u.kg)("Field","field"),0:(0,u.kg)("File","file"),11:(0,u.kg)("Function","function"),10:(0,u.kg)("Interface","interface"),19:(0,u.kg)("Key","key"),5:(0,u.kg)("Method","method"),1:(0,u.kg)("Module","module"),2:(0,u.kg)("Namespace","namespace"),20:(0,u.kg)("Null","null"),15:(0,u.kg)("Number","number"),18:(0,u.kg)("Object","object"),24:(0,u.kg)("Operator","operator"),3:(0,u.kg)("Package","package"),6:(0,u.kg)("Property","property"),14:(0,u.kg)("String","string"),22:(0,u.kg)("Struct","struct"),25:(0,u.kg)("TypeParameter","type parameter"),12:(0,u.kg)("Variable","variable")};function R(z,b){return localize("symbolAriaLabel","{0} ({1})",z,C[b])}s(R,"getAriaLabelForSymbol");var ie;(function(z){const b=new Map;b.set(0,N.W.symbolFile),b.set(1,N.W.symbolModule),b.set(2,N.W.symbolNamespace),b.set(3,N.W.symbolPackage),b.set(4,N.W.symbolClass),b.set(5,N.W.symbolMethod),b.set(6,N.W.symbolProperty),b.set(7,N.W.symbolField),b.set(8,N.W.symbolConstructor),b.set(9,N.W.symbolEnum),b.set(10,N.W.symbolInterface),b.set(11,N.W.symbolFunction),b.set(12,N.W.symbolVariable),b.set(13,N.W.symbolConstant),b.set(14,N.W.symbolString),b.set(15,N.W.symbolNumber),b.set(16,N.W.symbolBoolean),b.set(17,N.W.symbolArray),b.set(18,N.W.symbolObject),b.set(19,N.W.symbolKey),b.set(20,N.W.symbolNull),b.set(21,N.W.symbolEnumMember),b.set(22,N.W.symbolStruct),b.set(23,N.W.symbolEvent),b.set(24,N.W.symbolOperator),b.set(25,N.W.symbolTypeParameter);function S($){let te=b.get($);return te||(console.info("No codicon found for SymbolKind "+$),te=N.W.symbolProperty),te}s(S,"toIcon"),z.toIcon=S})(ie||(ie={}));const we=class we{};s(we,"TextEdit");let ue=we;const L=class L{static fromValue(b){switch(b){case"comment":return L.Comment;case"imports":return L.Imports;case"region":return L.Region}return new L(b)}constructor(b){this.value=b}};s(L,"FoldingRangeKind"),L.Comment=new L("comment"),L.Imports=new L("imports"),L.Region=new L("region");let xe=L;var he;(function(z){z[z.AIGenerated=1]="AIGenerated"})(he||(he={}));var I;(function(z){z[z.Invoke=0]="Invoke",z[z.Automatic=1]="Automatic"})(I||(I={}));var c;(function(z){function b(S){return!S||typeof S!="object"?!1:typeof S.id=="string"&&typeof S.title=="string"}s(b,"is"),z.is=b})(c||(c={}));var f;(function(z){z[z.Type=1]="Type",z[z.Parameter=2]="Parameter"})(f||(f={}));const A=class A{constructor(b){this.createSupport=b,this._tokenizationSupport=null}dispose(){this._tokenizationSupport&&this._tokenizationSupport.then(b=>{b&&b.dispose()})}get tokenizationSupport(){return this._tokenizationSupport||(this._tokenizationSupport=this.createSupport()),this._tokenizationSupport}};s(A,"LazyTokenizationSupport");let d=A;const x=new V,B=new V;var D;(function(z){z[z.Invoke=0]="Invoke",z[z.Automatic=1]="Automatic"})(D||(D={}))},7922:(qe,Ce,v)=>{"use strict";v.d(Ce,{L:s(()=>K,"L")});var N=v(2399);const K=(0,N.u1)("languageService")},4957:(qe,Ce,v)=>{"use strict";v.d(Ce,{W6:s(()=>G,"W6"),vH:s(()=>T,"vH")});var N=v(9746),K=v(2106),o=v(7167),Q=v(3720),V=v(7142);const E={ModesRegistry:"editor.modesRegistry"},y=class y{constructor(){this._onDidChangeLanguages=new K.vl,this.onDidChangeLanguages=this._onDidChangeLanguages.event,this._languages=[]}registerLanguage(P){return this._languages.push(P),this._onDidChangeLanguages.fire(void 0),{dispose:s(()=>{for(let O=0,M=this._languages.length;O<M;O++)if(this._languages[O]===P){this._languages.splice(O,1);return}},"dispose")}}getLanguages(){return this._languages}};s(y,"EditorModesRegistry");let u=y;const G=new u;o.O.add(E.ModesRegistry,G);const T="plaintext";G.registerLanguage({id:T,extensions:[".txt"],aliases:[N.kg("plainText.alias","Plain Text"),"text"],mimetypes:[Q.K.text]}),o.O.as(V.Fd.Configuration).registerDefaultConfigurations([{overrides:{"[plaintext]":{"editor.unicodeHighlight.ambiguousCharacters":!1,"editor.unicodeHighlight.invisibleCharacters":!1}}}])},6055:(qe,Ce,v)=>{"use strict";v.d(Ce,{A5:s(()=>K,"A5"),Dg:s(()=>E,"Dg"),F4:s(()=>Y,"F4"),L5:s(()=>T,"L5"),Wo:s(()=>G,"Wo"),X2:s(()=>V,"X2"),ZS:s(()=>o,"ZS"),nk:s(()=>u,"nk"),vd:s(()=>y,"vd")});var N=v(1386),K;(function(ee){ee[ee.Left=1]="Left",ee[ee.Center=2]="Center",ee[ee.Right=4]="Right",ee[ee.Full=7]="Full"})(K||(K={}));var o;(function(ee){ee[ee.Left=1]="Left",ee[ee.Center=2]="Center",ee[ee.Right=3]="Right"})(o||(o={}));var Q;(function(ee){ee[ee.Both=0]="Both",ee[ee.Right=1]="Right",ee[ee.Left=2]="Left",ee[ee.None=3]="None"})(Q||(Q={}));const W=class W{get originalIndentSize(){return this._indentSizeIsTabSize?"tabSize":this.indentSize}constructor(H){this._textModelResolvedOptionsBrand=void 0,this.tabSize=Math.max(1,H.tabSize|0),H.indentSize==="tabSize"?(this.indentSize=this.tabSize,this._indentSizeIsTabSize=!0):(this.indentSize=Math.max(1,H.indentSize|0),this._indentSizeIsTabSize=!1),this.insertSpaces=!!H.insertSpaces,this.defaultEOL=H.defaultEOL|0,this.trimAutoWhitespace=!!H.trimAutoWhitespace,this.bracketPairColorizationOptions=H.bracketPairColorizationOptions}equals(H){return this.tabSize===H.tabSize&&this._indentSizeIsTabSize===H._indentSizeIsTabSize&&this.indentSize===H.indentSize&&this.insertSpaces===H.insertSpaces&&this.defaultEOL===H.defaultEOL&&this.trimAutoWhitespace===H.trimAutoWhitespace&&(0,N.aI)(this.bracketPairColorizationOptions,H.bracketPairColorizationOptions)}createChangeEvent(H){return{tabSize:this.tabSize!==H.tabSize,indentSize:this.indentSize!==H.indentSize,insertSpaces:this.insertSpaces!==H.insertSpaces,trimAutoWhitespace:this.trimAutoWhitespace!==H.trimAutoWhitespace}}};s(W,"TextModelResolvedOptions");let V=W;const P=class P{constructor(H,C){this._findMatchBrand=void 0,this.range=H,this.matches=C}};s(P,"FindMatch");let E=P;function u(ee){return ee&&typeof ee.read=="function"}s(u,"isITextSnapshot");const O=class O{constructor(H,C,R,ie,ue,xe){this.identifier=H,this.range=C,this.text=R,this.forceMoveMarkers=ie,this.isAutoWhitespaceEdit=ue,this._isTracked=xe}};s(O,"ValidAnnotatedEditOperation");let G=O;const M=class M{constructor(H,C,R){this.regex=H,this.wordSeparators=C,this.simpleSearch=R}};s(M,"SearchData");let T=M;const g=class g{constructor(H,C,R){this.reverseEdits=H,this.changes=C,this.trimAutoWhitespaceLineNumbers=R}};s(g,"ApplyEditsResult");let Y=g;function y(ee){return!ee.isTooLargeForSyncing()&&!ee.isForSimpleWidget}s(y,"shouldSynchronizeModel")},2007:(qe,Ce,v)=>{"use strict";v.d(Ce,{lt:s(()=>y,"lt"),W5:s(()=>C,"W5"),hB:s(()=>M,"hB"),dr:s(()=>P,"dr"),wC:s(()=>H,"wC")});var N=v(6844),K=v(7992),o=v(7454);const R=class R extends o.V{constructor(c,f){super(0),this._segmenter=null,this._cachedLine=null,this._cachedSegments=[],this.intlSegmenterLocales=f,this.intlSegmenterLocales.length>0?this._segmenter=new Intl.Segmenter(this.intlSegmenterLocales,{granularity:"word"}):this._segmenter=null;for(let d=0,x=c.length;d<x;d++)this.set(c.charCodeAt(d),2);this.set(32,1),this.set(9,1)}findPrevIntlWordBeforeOrAtOffset(c,f){let d=null;for(const x of this._getIntlSegmenterWordsOnLine(c)){if(x.index>f)break;d=x}return d}findNextIntlWordAtOrAfterOffset(c,f){for(const d of this._getIntlSegmenterWordsOnLine(c))if(!(d.index<f))return d;return null}_getIntlSegmenterWordsOnLine(c){return this._segmenter?this._cachedLine===c?this._cachedSegments:(this._cachedLine=c,this._cachedSegments=this._filterWordSegments(this._segmenter.segment(c)),this._cachedSegments):[]}_filterWordSegments(c){const f=[];for(const d of c)this._isWordLike(d)&&f.push(d);return f}_isWordLike(c){return!!c.isWordLike}};s(R,"WordCharacterClassifier");let Q=R;const V=new K.qK(10);function E(I,c){const f=`${I}/${c.join(",")}`;let d=V.get(f);return d||(d=new Q(I,c),V.set(f,d)),d}s(E,"getMapForWordSeparators");var u=v(5365),G=v(8061),T=v(6055);const Y=999,ie=class ie{constructor(c,f,d,x){this.searchString=c,this.isRegex=f,this.matchCase=d,this.wordSeparators=x}parseSearchRequest(){if(this.searchString==="")return null;let c;this.isRegex?c=W(this.searchString):c=this.searchString.indexOf(`
`)>=0;let f=null;try{f=N.OS(this.searchString,this.isRegex,{matchCase:this.matchCase,wholeWord:!1,multiline:c,global:!0,unicode:!0})}catch{return null}if(!f)return null;let d=!this.isRegex&&!c;return d&&this.searchString.toLowerCase()!==this.searchString.toUpperCase()&&(d=this.matchCase),new T.L5(f,this.wordSeparators?E(this.wordSeparators,[]):null,d?this.searchString:null)}};s(ie,"SearchParams");let y=ie;function W(I){if(!I||I.length===0)return!1;for(let c=0,f=I.length;c<f;c++){const d=I.charCodeAt(c);if(d===10)return!0;if(d===92){if(c++,c>=f)break;const x=I.charCodeAt(c);if(x===110||x===114||x===87)return!0}}return!1}s(W,"isMultilineRegexSource");function P(I,c,f){if(!f)return new T.Dg(I,null);const d=[];for(let x=0,B=c.length;x<B;x++)d[x]=c[x];return new T.Dg(I,d)}s(P,"createFindMatch");const ue=class ue{constructor(c){const f=[];let d=0;for(let x=0,B=c.length;x<B;x++)c.charCodeAt(x)===10&&(f[d++]=x);this._lineFeedsOffsets=f}findLineFeedCountBeforeOffset(c){const f=this._lineFeedsOffsets;let d=0,x=f.length-1;if(x===-1||c<=f[0])return 0;for(;d<x;){const B=d+((x-d)/2>>0);f[B]>=c?x=B-1:f[B+1]>=c?(d=B,x=B):d=B+1}return d+1}};s(ue,"LineFeedCounter");let O=ue;const xe=class xe{static findMatches(c,f,d,x,B){const D=f.parseSearchRequest();return D?D.regex.multiline?this._doFindMatchesMultiline(c,d,new C(D.wordSeparators,D.regex),x,B):this._doFindMatchesLineByLine(c,d,D,x,B):[]}static _getMultilineMatchRange(c,f,d,x,B,D){let q,se=0;x?(se=x.findLineFeedCountBeforeOffset(B),q=f+B+se):q=f+B;let re;if(x){const we=x.findLineFeedCountBeforeOffset(B+D.length)-se;re=q+D.length+we}else re=q+D.length;const _e=c.getPositionAt(q),Se=c.getPositionAt(re);return new G.Q(_e.lineNumber,_e.column,Se.lineNumber,Se.column)}static _doFindMatchesMultiline(c,f,d,x,B){const D=c.getOffsetAt(f.getStartPosition()),q=c.getValueInRange(f,1),se=c.getEOL()===`\r
`?new O(q):null,re=[];let _e=0,Se;for(d.reset(0);Se=d.next(q);)if(re[_e++]=P(this._getMultilineMatchRange(c,D,q,se,Se.index,Se[0]),Se,x),_e>=B)return re;return re}static _doFindMatchesLineByLine(c,f,d,x,B){const D=[];let q=0;if(f.startLineNumber===f.endLineNumber){const re=c.getLineContent(f.startLineNumber).substring(f.startColumn-1,f.endColumn-1);return q=this._findMatchesInLine(d,re,f.startLineNumber,f.startColumn-1,q,D,x,B),D}const se=c.getLineContent(f.startLineNumber).substring(f.startColumn-1);q=this._findMatchesInLine(d,se,f.startLineNumber,f.startColumn-1,q,D,x,B);for(let re=f.startLineNumber+1;re<f.endLineNumber&&q<B;re++)q=this._findMatchesInLine(d,c.getLineContent(re),re,0,q,D,x,B);if(q<B){const re=c.getLineContent(f.endLineNumber).substring(0,f.endColumn-1);q=this._findMatchesInLine(d,re,f.endLineNumber,0,q,D,x,B)}return D}static _findMatchesInLine(c,f,d,x,B,D,q,se){const re=c.wordSeparators;if(!q&&c.simpleSearch){const Ae=c.simpleSearch,we=Ae.length,L=f.length;let A=-we;for(;(A=f.indexOf(Ae,A+we))!==-1;)if((!re||H(re,f,L,A,we))&&(D[B++]=new T.Dg(new G.Q(d,A+1+x,d,A+1+we+x),null),B>=se))return B;return B}const _e=new C(c.wordSeparators,c.regex);let Se;_e.reset(0);do if(Se=_e.next(f),Se&&(D[B++]=P(new G.Q(d,Se.index+1+x,d,Se.index+1+Se[0].length+x),Se,q),B>=se))return B;while(Se);return B}static findNextMatch(c,f,d,x){const B=f.parseSearchRequest();if(!B)return null;const D=new C(B.wordSeparators,B.regex);return B.regex.multiline?this._doFindNextMatchMultiline(c,d,D,x):this._doFindNextMatchLineByLine(c,d,D,x)}static _doFindNextMatchMultiline(c,f,d,x){const B=new u.y(f.lineNumber,1),D=c.getOffsetAt(B),q=c.getLineCount(),se=c.getValueInRange(new G.Q(B.lineNumber,B.column,q,c.getLineMaxColumn(q)),1),re=c.getEOL()===`\r
`?new O(se):null;d.reset(f.column-1);const _e=d.next(se);return _e?P(this._getMultilineMatchRange(c,D,se,re,_e.index,_e[0]),_e,x):f.lineNumber!==1||f.column!==1?this._doFindNextMatchMultiline(c,new u.y(1,1),d,x):null}static _doFindNextMatchLineByLine(c,f,d,x){const B=c.getLineCount(),D=f.lineNumber,q=c.getLineContent(D),se=this._findFirstMatchInLine(d,q,D,f.column,x);if(se)return se;for(let re=1;re<=B;re++){const _e=(D+re-1)%B,Se=c.getLineContent(_e+1),Ae=this._findFirstMatchInLine(d,Se,_e+1,1,x);if(Ae)return Ae}return null}static _findFirstMatchInLine(c,f,d,x,B){c.reset(x-1);const D=c.next(f);return D?P(new G.Q(d,D.index+1,d,D.index+1+D[0].length),D,B):null}static findPreviousMatch(c,f,d,x){const B=f.parseSearchRequest();if(!B)return null;const D=new C(B.wordSeparators,B.regex);return B.regex.multiline?this._doFindPreviousMatchMultiline(c,d,D,x):this._doFindPreviousMatchLineByLine(c,d,D,x)}static _doFindPreviousMatchMultiline(c,f,d,x){const B=this._doFindMatchesMultiline(c,new G.Q(1,1,f.lineNumber,f.column),d,x,10*Y);if(B.length>0)return B[B.length-1];const D=c.getLineCount();return f.lineNumber!==D||f.column!==c.getLineMaxColumn(D)?this._doFindPreviousMatchMultiline(c,new u.y(D,c.getLineMaxColumn(D)),d,x):null}static _doFindPreviousMatchLineByLine(c,f,d,x){const B=c.getLineCount(),D=f.lineNumber,q=c.getLineContent(D).substring(0,f.column-1),se=this._findLastMatchInLine(d,q,D,x);if(se)return se;for(let re=1;re<=B;re++){const _e=(B+D-re-1)%B,Se=c.getLineContent(_e+1),Ae=this._findLastMatchInLine(d,Se,_e+1,x);if(Ae)return Ae}return null}static _findLastMatchInLine(c,f,d,x){let B=null,D;for(c.reset(0);D=c.next(f);)B=P(new G.Q(d,D.index+1,d,D.index+1+D[0].length),D,x);return B}};s(xe,"TextModelSearch");let M=xe;function g(I,c,f,d,x){if(d===0)return!0;const B=c.charCodeAt(d-1);if(I.get(B)!==0||B===13||B===10)return!0;if(x>0){const D=c.charCodeAt(d);if(I.get(D)!==0)return!0}return!1}s(g,"leftIsWordBounday");function ee(I,c,f,d,x){if(d+x===f)return!0;const B=c.charCodeAt(d+x);if(I.get(B)!==0||B===13||B===10)return!0;if(x>0){const D=c.charCodeAt(d+x-1);if(I.get(D)!==0)return!0}return!1}s(ee,"rightIsWordBounday");function H(I,c,f,d,x){return g(I,c,f,d,x)&&ee(I,c,f,d,x)}s(H,"isValidMatch");const he=class he{constructor(c,f){this._wordSeparators=c,this._searchRegex=f,this._prevMatchStartIndex=-1,this._prevMatchLength=0}reset(c){this._searchRegex.lastIndex=c,this._prevMatchStartIndex=-1,this._prevMatchLength=0}next(c){const f=c.length;let d;do{if(this._prevMatchStartIndex+this._prevMatchLength===f||(d=this._searchRegex.exec(c),!d))return null;const x=d.index,B=d[0].length;if(x===this._prevMatchStartIndex&&B===this._prevMatchLength){if(B===0){N.Z5(c,f,this._searchRegex.lastIndex)>65535?this._searchRegex.lastIndex+=2:this._searchRegex.lastIndex+=1;continue}return null}if(this._prevMatchStartIndex=x,this._prevMatchLength=B,!this._wordSeparators||H(this._wordSeparators,c,f,x,B))return d}while(d);return null}};s(he,"Searcher");let C=he},4858:(qe,Ce,v)=>{"use strict";v.r(Ce),v.d(Ce,{KeyMod:s(()=>Bt,"KeyMod"),createMonacoBaseAPI:s(()=>Yt,"createMonacoBaseAPI")});var N=v(8903),K=v(2106);const be=class be{constructor(){this._keyCodeToStr=[],this._strToKeyCode=Object.create(null)}define(je,tt){this._keyCodeToStr[je]=tt,this._strToKeyCode[tt.toLowerCase()]=je}keyCodeToStr(je){return this._keyCodeToStr[je]}strToKeyCode(je){return this._strToKeyCode[je.toLowerCase()]||0}};s(be,"KeyCodeStrMap");let o=be;const Q=new o,V=new o,E=new o,u=new Array(230),G={},T=[],Y=Object.create(null),y=Object.create(null),W=[],P=[];for(let n=0;n<=193;n++)W[n]=-1;for(let n=0;n<=132;n++)P[n]=-1;(function(){const n="",je=[[1,0,"None",0,"unknown",0,"VK_UNKNOWN",n,n],[1,1,"Hyper",0,n,0,n,n,n],[1,2,"Super",0,n,0,n,n,n],[1,3,"Fn",0,n,0,n,n,n],[1,4,"FnLock",0,n,0,n,n,n],[1,5,"Suspend",0,n,0,n,n,n],[1,6,"Resume",0,n,0,n,n,n],[1,7,"Turbo",0,n,0,n,n,n],[1,8,"Sleep",0,n,0,"VK_SLEEP",n,n],[1,9,"WakeUp",0,n,0,n,n,n],[0,10,"KeyA",31,"A",65,"VK_A",n,n],[0,11,"KeyB",32,"B",66,"VK_B",n,n],[0,12,"KeyC",33,"C",67,"VK_C",n,n],[0,13,"KeyD",34,"D",68,"VK_D",n,n],[0,14,"KeyE",35,"E",69,"VK_E",n,n],[0,15,"KeyF",36,"F",70,"VK_F",n,n],[0,16,"KeyG",37,"G",71,"VK_G",n,n],[0,17,"KeyH",38,"H",72,"VK_H",n,n],[0,18,"KeyI",39,"I",73,"VK_I",n,n],[0,19,"KeyJ",40,"J",74,"VK_J",n,n],[0,20,"KeyK",41,"K",75,"VK_K",n,n],[0,21,"KeyL",42,"L",76,"VK_L",n,n],[0,22,"KeyM",43,"M",77,"VK_M",n,n],[0,23,"KeyN",44,"N",78,"VK_N",n,n],[0,24,"KeyO",45,"O",79,"VK_O",n,n],[0,25,"KeyP",46,"P",80,"VK_P",n,n],[0,26,"KeyQ",47,"Q",81,"VK_Q",n,n],[0,27,"KeyR",48,"R",82,"VK_R",n,n],[0,28,"KeyS",49,"S",83,"VK_S",n,n],[0,29,"KeyT",50,"T",84,"VK_T",n,n],[0,30,"KeyU",51,"U",85,"VK_U",n,n],[0,31,"KeyV",52,"V",86,"VK_V",n,n],[0,32,"KeyW",53,"W",87,"VK_W",n,n],[0,33,"KeyX",54,"X",88,"VK_X",n,n],[0,34,"KeyY",55,"Y",89,"VK_Y",n,n],[0,35,"KeyZ",56,"Z",90,"VK_Z",n,n],[0,36,"Digit1",22,"1",49,"VK_1",n,n],[0,37,"Digit2",23,"2",50,"VK_2",n,n],[0,38,"Digit3",24,"3",51,"VK_3",n,n],[0,39,"Digit4",25,"4",52,"VK_4",n,n],[0,40,"Digit5",26,"5",53,"VK_5",n,n],[0,41,"Digit6",27,"6",54,"VK_6",n,n],[0,42,"Digit7",28,"7",55,"VK_7",n,n],[0,43,"Digit8",29,"8",56,"VK_8",n,n],[0,44,"Digit9",30,"9",57,"VK_9",n,n],[0,45,"Digit0",21,"0",48,"VK_0",n,n],[1,46,"Enter",3,"Enter",13,"VK_RETURN",n,n],[1,47,"Escape",9,"Escape",27,"VK_ESCAPE",n,n],[1,48,"Backspace",1,"Backspace",8,"VK_BACK",n,n],[1,49,"Tab",2,"Tab",9,"VK_TAB",n,n],[1,50,"Space",10,"Space",32,"VK_SPACE",n,n],[0,51,"Minus",88,"-",189,"VK_OEM_MINUS","-","OEM_MINUS"],[0,52,"Equal",86,"=",187,"VK_OEM_PLUS","=","OEM_PLUS"],[0,53,"BracketLeft",92,"[",219,"VK_OEM_4","[","OEM_4"],[0,54,"BracketRight",94,"]",221,"VK_OEM_6","]","OEM_6"],[0,55,"Backslash",93,"\\",220,"VK_OEM_5","\\","OEM_5"],[0,56,"IntlHash",0,n,0,n,n,n],[0,57,"Semicolon",85,";",186,"VK_OEM_1",";","OEM_1"],[0,58,"Quote",95,"'",222,"VK_OEM_7","'","OEM_7"],[0,59,"Backquote",91,"`",192,"VK_OEM_3","`","OEM_3"],[0,60,"Comma",87,",",188,"VK_OEM_COMMA",",","OEM_COMMA"],[0,61,"Period",89,".",190,"VK_OEM_PERIOD",".","OEM_PERIOD"],[0,62,"Slash",90,"/",191,"VK_OEM_2","/","OEM_2"],[1,63,"CapsLock",8,"CapsLock",20,"VK_CAPITAL",n,n],[1,64,"F1",59,"F1",112,"VK_F1",n,n],[1,65,"F2",60,"F2",113,"VK_F2",n,n],[1,66,"F3",61,"F3",114,"VK_F3",n,n],[1,67,"F4",62,"F4",115,"VK_F4",n,n],[1,68,"F5",63,"F5",116,"VK_F5",n,n],[1,69,"F6",64,"F6",117,"VK_F6",n,n],[1,70,"F7",65,"F7",118,"VK_F7",n,n],[1,71,"F8",66,"F8",119,"VK_F8",n,n],[1,72,"F9",67,"F9",120,"VK_F9",n,n],[1,73,"F10",68,"F10",121,"VK_F10",n,n],[1,74,"F11",69,"F11",122,"VK_F11",n,n],[1,75,"F12",70,"F12",123,"VK_F12",n,n],[1,76,"PrintScreen",0,n,0,n,n,n],[1,77,"ScrollLock",84,"ScrollLock",145,"VK_SCROLL",n,n],[1,78,"Pause",7,"PauseBreak",19,"VK_PAUSE",n,n],[1,79,"Insert",19,"Insert",45,"VK_INSERT",n,n],[1,80,"Home",14,"Home",36,"VK_HOME",n,n],[1,81,"PageUp",11,"PageUp",33,"VK_PRIOR",n,n],[1,82,"Delete",20,"Delete",46,"VK_DELETE",n,n],[1,83,"End",13,"End",35,"VK_END",n,n],[1,84,"PageDown",12,"PageDown",34,"VK_NEXT",n,n],[1,85,"ArrowRight",17,"RightArrow",39,"VK_RIGHT","Right",n],[1,86,"ArrowLeft",15,"LeftArrow",37,"VK_LEFT","Left",n],[1,87,"ArrowDown",18,"DownArrow",40,"VK_DOWN","Down",n],[1,88,"ArrowUp",16,"UpArrow",38,"VK_UP","Up",n],[1,89,"NumLock",83,"NumLock",144,"VK_NUMLOCK",n,n],[1,90,"NumpadDivide",113,"NumPad_Divide",111,"VK_DIVIDE",n,n],[1,91,"NumpadMultiply",108,"NumPad_Multiply",106,"VK_MULTIPLY",n,n],[1,92,"NumpadSubtract",111,"NumPad_Subtract",109,"VK_SUBTRACT",n,n],[1,93,"NumpadAdd",109,"NumPad_Add",107,"VK_ADD",n,n],[1,94,"NumpadEnter",3,n,0,n,n,n],[1,95,"Numpad1",99,"NumPad1",97,"VK_NUMPAD1",n,n],[1,96,"Numpad2",100,"NumPad2",98,"VK_NUMPAD2",n,n],[1,97,"Numpad3",101,"NumPad3",99,"VK_NUMPAD3",n,n],[1,98,"Numpad4",102,"NumPad4",100,"VK_NUMPAD4",n,n],[1,99,"Numpad5",103,"NumPad5",101,"VK_NUMPAD5",n,n],[1,100,"Numpad6",104,"NumPad6",102,"VK_NUMPAD6",n,n],[1,101,"Numpad7",105,"NumPad7",103,"VK_NUMPAD7",n,n],[1,102,"Numpad8",106,"NumPad8",104,"VK_NUMPAD8",n,n],[1,103,"Numpad9",107,"NumPad9",105,"VK_NUMPAD9",n,n],[1,104,"Numpad0",98,"NumPad0",96,"VK_NUMPAD0",n,n],[1,105,"NumpadDecimal",112,"NumPad_Decimal",110,"VK_DECIMAL",n,n],[0,106,"IntlBackslash",97,"OEM_102",226,"VK_OEM_102",n,n],[1,107,"ContextMenu",58,"ContextMenu",93,n,n,n],[1,108,"Power",0,n,0,n,n,n],[1,109,"NumpadEqual",0,n,0,n,n,n],[1,110,"F13",71,"F13",124,"VK_F13",n,n],[1,111,"F14",72,"F14",125,"VK_F14",n,n],[1,112,"F15",73,"F15",126,"VK_F15",n,n],[1,113,"F16",74,"F16",127,"VK_F16",n,n],[1,114,"F17",75,"F17",128,"VK_F17",n,n],[1,115,"F18",76,"F18",129,"VK_F18",n,n],[1,116,"F19",77,"F19",130,"VK_F19",n,n],[1,117,"F20",78,"F20",131,"VK_F20",n,n],[1,118,"F21",79,"F21",132,"VK_F21",n,n],[1,119,"F22",80,"F22",133,"VK_F22",n,n],[1,120,"F23",81,"F23",134,"VK_F23",n,n],[1,121,"F24",82,"F24",135,"VK_F24",n,n],[1,122,"Open",0,n,0,n,n,n],[1,123,"Help",0,n,0,n,n,n],[1,124,"Select",0,n,0,n,n,n],[1,125,"Again",0,n,0,n,n,n],[1,126,"Undo",0,n,0,n,n,n],[1,127,"Cut",0,n,0,n,n,n],[1,128,"Copy",0,n,0,n,n,n],[1,129,"Paste",0,n,0,n,n,n],[1,130,"Find",0,n,0,n,n,n],[1,131,"AudioVolumeMute",117,"AudioVolumeMute",173,"VK_VOLUME_MUTE",n,n],[1,132,"AudioVolumeUp",118,"AudioVolumeUp",175,"VK_VOLUME_UP",n,n],[1,133,"AudioVolumeDown",119,"AudioVolumeDown",174,"VK_VOLUME_DOWN",n,n],[1,134,"NumpadComma",110,"NumPad_Separator",108,"VK_SEPARATOR",n,n],[0,135,"IntlRo",115,"ABNT_C1",193,"VK_ABNT_C1",n,n],[1,136,"KanaMode",0,n,0,n,n,n],[0,137,"IntlYen",0,n,0,n,n,n],[1,138,"Convert",0,n,0,n,n,n],[1,139,"NonConvert",0,n,0,n,n,n],[1,140,"Lang1",0,n,0,n,n,n],[1,141,"Lang2",0,n,0,n,n,n],[1,142,"Lang3",0,n,0,n,n,n],[1,143,"Lang4",0,n,0,n,n,n],[1,144,"Lang5",0,n,0,n,n,n],[1,145,"Abort",0,n,0,n,n,n],[1,146,"Props",0,n,0,n,n,n],[1,147,"NumpadParenLeft",0,n,0,n,n,n],[1,148,"NumpadParenRight",0,n,0,n,n,n],[1,149,"NumpadBackspace",0,n,0,n,n,n],[1,150,"NumpadMemoryStore",0,n,0,n,n,n],[1,151,"NumpadMemoryRecall",0,n,0,n,n,n],[1,152,"NumpadMemoryClear",0,n,0,n,n,n],[1,153,"NumpadMemoryAdd",0,n,0,n,n,n],[1,154,"NumpadMemorySubtract",0,n,0,n,n,n],[1,155,"NumpadClear",131,"Clear",12,"VK_CLEAR",n,n],[1,156,"NumpadClearEntry",0,n,0,n,n,n],[1,0,n,5,"Ctrl",17,"VK_CONTROL",n,n],[1,0,n,4,"Shift",16,"VK_SHIFT",n,n],[1,0,n,6,"Alt",18,"VK_MENU",n,n],[1,0,n,57,"Meta",91,"VK_COMMAND",n,n],[1,157,"ControlLeft",5,n,0,"VK_LCONTROL",n,n],[1,158,"ShiftLeft",4,n,0,"VK_LSHIFT",n,n],[1,159,"AltLeft",6,n,0,"VK_LMENU",n,n],[1,160,"MetaLeft",57,n,0,"VK_LWIN",n,n],[1,161,"ControlRight",5,n,0,"VK_RCONTROL",n,n],[1,162,"ShiftRight",4,n,0,"VK_RSHIFT",n,n],[1,163,"AltRight",6,n,0,"VK_RMENU",n,n],[1,164,"MetaRight",57,n,0,"VK_RWIN",n,n],[1,165,"BrightnessUp",0,n,0,n,n,n],[1,166,"BrightnessDown",0,n,0,n,n,n],[1,167,"MediaPlay",0,n,0,n,n,n],[1,168,"MediaRecord",0,n,0,n,n,n],[1,169,"MediaFastForward",0,n,0,n,n,n],[1,170,"MediaRewind",0,n,0,n,n,n],[1,171,"MediaTrackNext",124,"MediaTrackNext",176,"VK_MEDIA_NEXT_TRACK",n,n],[1,172,"MediaTrackPrevious",125,"MediaTrackPrevious",177,"VK_MEDIA_PREV_TRACK",n,n],[1,173,"MediaStop",126,"MediaStop",178,"VK_MEDIA_STOP",n,n],[1,174,"Eject",0,n,0,n,n,n],[1,175,"MediaPlayPause",127,"MediaPlayPause",179,"VK_MEDIA_PLAY_PAUSE",n,n],[1,176,"MediaSelect",128,"LaunchMediaPlayer",181,"VK_MEDIA_LAUNCH_MEDIA_SELECT",n,n],[1,177,"LaunchMail",129,"LaunchMail",180,"VK_MEDIA_LAUNCH_MAIL",n,n],[1,178,"LaunchApp2",130,"LaunchApp2",183,"VK_MEDIA_LAUNCH_APP2",n,n],[1,179,"LaunchApp1",0,n,0,"VK_MEDIA_LAUNCH_APP1",n,n],[1,180,"SelectTask",0,n,0,n,n,n],[1,181,"LaunchScreenSaver",0,n,0,n,n,n],[1,182,"BrowserSearch",120,"BrowserSearch",170,"VK_BROWSER_SEARCH",n,n],[1,183,"BrowserHome",121,"BrowserHome",172,"VK_BROWSER_HOME",n,n],[1,184,"BrowserBack",122,"BrowserBack",166,"VK_BROWSER_BACK",n,n],[1,185,"BrowserForward",123,"BrowserForward",167,"VK_BROWSER_FORWARD",n,n],[1,186,"BrowserStop",0,n,0,"VK_BROWSER_STOP",n,n],[1,187,"BrowserRefresh",0,n,0,"VK_BROWSER_REFRESH",n,n],[1,188,"BrowserFavorites",0,n,0,"VK_BROWSER_FAVORITES",n,n],[1,189,"ZoomToggle",0,n,0,n,n,n],[1,190,"MailReply",0,n,0,n,n,n],[1,191,"MailForward",0,n,0,n,n,n],[1,192,"MailSend",0,n,0,n,n,n],[1,0,n,114,"KeyInComposition",229,n,n,n],[1,0,n,116,"ABNT_C2",194,"VK_ABNT_C2",n,n],[1,0,n,96,"OEM_8",223,"VK_OEM_8",n,n],[1,0,n,0,n,0,"VK_KANA",n,n],[1,0,n,0,n,0,"VK_HANGUL",n,n],[1,0,n,0,n,0,"VK_JUNJA",n,n],[1,0,n,0,n,0,"VK_FINAL",n,n],[1,0,n,0,n,0,"VK_HANJA",n,n],[1,0,n,0,n,0,"VK_KANJI",n,n],[1,0,n,0,n,0,"VK_CONVERT",n,n],[1,0,n,0,n,0,"VK_NONCONVERT",n,n],[1,0,n,0,n,0,"VK_ACCEPT",n,n],[1,0,n,0,n,0,"VK_MODECHANGE",n,n],[1,0,n,0,n,0,"VK_SELECT",n,n],[1,0,n,0,n,0,"VK_PRINT",n,n],[1,0,n,0,n,0,"VK_EXECUTE",n,n],[1,0,n,0,n,0,"VK_SNAPSHOT",n,n],[1,0,n,0,n,0,"VK_HELP",n,n],[1,0,n,0,n,0,"VK_APPS",n,n],[1,0,n,0,n,0,"VK_PROCESSKEY",n,n],[1,0,n,0,n,0,"VK_PACKET",n,n],[1,0,n,0,n,0,"VK_DBE_SBCSCHAR",n,n],[1,0,n,0,n,0,"VK_DBE_DBCSCHAR",n,n],[1,0,n,0,n,0,"VK_ATTN",n,n],[1,0,n,0,n,0,"VK_CRSEL",n,n],[1,0,n,0,n,0,"VK_EXSEL",n,n],[1,0,n,0,n,0,"VK_EREOF",n,n],[1,0,n,0,n,0,"VK_PLAY",n,n],[1,0,n,0,n,0,"VK_ZOOM",n,n],[1,0,n,0,n,0,"VK_NONAME",n,n],[1,0,n,0,n,0,"VK_PA1",n,n],[1,0,n,0,n,0,"VK_OEM_CLEAR",n,n]],tt=[],$e=[];for(const ze of je){const[Ze,Ge,Qe,et,mt,Ct,At,nt,w]=ze;if($e[Ge]||($e[Ge]=!0,T[Ge]=Qe,Y[Qe]=Ge,y[Qe.toLowerCase()]=Ge,Ze&&(W[Ge]=et,et!==0&&et!==3&&et!==5&&et!==4&&et!==6&&et!==57&&(P[et]=Ge))),!tt[et]){if(tt[et]=!0,!mt)throw new Error(`String representation missing for key code ${et} around scan code ${Qe}`);Q.define(et,mt),V.define(et,nt||mt),E.define(et,w||nt||mt)}Ct&&(u[Ct]=et),At&&(G[At]=et)}P[3]=46})();var O;(function(n){function je(Qe){return Q.keyCodeToStr(Qe)}s(je,"toString"),n.toString=je;function tt(Qe){return Q.strToKeyCode(Qe)}s(tt,"fromString"),n.fromString=tt;function $e(Qe){return V.keyCodeToStr(Qe)}s($e,"toUserSettingsUS"),n.toUserSettingsUS=$e;function ze(Qe){return E.keyCodeToStr(Qe)}s(ze,"toUserSettingsGeneral"),n.toUserSettingsGeneral=ze;function Ze(Qe){return V.strToKeyCode(Qe)||E.strToKeyCode(Qe)}s(Ze,"fromUserSettings"),n.fromUserSettings=Ze;function Ge(Qe){if(Qe>=98&&Qe<=113)return null;switch(Qe){case 16:return"Up";case 18:return"Down";case 15:return"Left";case 17:return"Right"}return Q.keyCodeToStr(Qe)}s(Ge,"toElectronAccelerator"),n.toElectronAccelerator=Ge})(O||(O={}));function M(n,je){const tt=(je&65535)<<16>>>0;return(n|tt)>>>0}s(M,"KeyChord");var g=v(7264),ee=v(5365),H=v(8061),C=v(3702),R=v(4364),ie;(function(n){n[n.Unknown=0]="Unknown",n[n.Disabled=1]="Disabled",n[n.Enabled=2]="Enabled"})(ie||(ie={}));var ue;(function(n){n[n.Invoke=1]="Invoke",n[n.Auto=2]="Auto"})(ue||(ue={}));var xe;(function(n){n[n.None=0]="None",n[n.KeepWhitespace=1]="KeepWhitespace",n[n.InsertAsSnippet=4]="InsertAsSnippet"})(xe||(xe={}));var he;(function(n){n[n.Method=0]="Method",n[n.Function=1]="Function",n[n.Constructor=2]="Constructor",n[n.Field=3]="Field",n[n.Variable=4]="Variable",n[n.Class=5]="Class",n[n.Struct=6]="Struct",n[n.Interface=7]="Interface",n[n.Module=8]="Module",n[n.Property=9]="Property",n[n.Event=10]="Event",n[n.Operator=11]="Operator",n[n.Unit=12]="Unit",n[n.Value=13]="Value",n[n.Constant=14]="Constant",n[n.Enum=15]="Enum",n[n.EnumMember=16]="EnumMember",n[n.Keyword=17]="Keyword",n[n.Text=18]="Text",n[n.Color=19]="Color",n[n.File=20]="File",n[n.Reference=21]="Reference",n[n.Customcolor=22]="Customcolor",n[n.Folder=23]="Folder",n[n.TypeParameter=24]="TypeParameter",n[n.User=25]="User",n[n.Issue=26]="Issue",n[n.Snippet=27]="Snippet"})(he||(he={}));var I;(function(n){n[n.Deprecated=1]="Deprecated"})(I||(I={}));var c;(function(n){n[n.Invoke=0]="Invoke",n[n.TriggerCharacter=1]="TriggerCharacter",n[n.TriggerForIncompleteCompletions=2]="TriggerForIncompleteCompletions"})(c||(c={}));var f;(function(n){n[n.EXACT=0]="EXACT",n[n.ABOVE=1]="ABOVE",n[n.BELOW=2]="BELOW"})(f||(f={}));var d;(function(n){n[n.NotSet=0]="NotSet",n[n.ContentFlush=1]="ContentFlush",n[n.RecoverFromMarkers=2]="RecoverFromMarkers",n[n.Explicit=3]="Explicit",n[n.Paste=4]="Paste",n[n.Undo=5]="Undo",n[n.Redo=6]="Redo"})(d||(d={}));var x;(function(n){n[n.LF=1]="LF",n[n.CRLF=2]="CRLF"})(x||(x={}));var B;(function(n){n[n.Text=0]="Text",n[n.Read=1]="Read",n[n.Write=2]="Write"})(B||(B={}));var D;(function(n){n[n.None=0]="None",n[n.Keep=1]="Keep",n[n.Brackets=2]="Brackets",n[n.Advanced=3]="Advanced",n[n.Full=4]="Full"})(D||(D={}));var q;(function(n){n[n.acceptSuggestionOnCommitCharacter=0]="acceptSuggestionOnCommitCharacter",n[n.acceptSuggestionOnEnter=1]="acceptSuggestionOnEnter",n[n.accessibilitySupport=2]="accessibilitySupport",n[n.accessibilityPageSize=3]="accessibilityPageSize",n[n.ariaLabel=4]="ariaLabel",n[n.ariaRequired=5]="ariaRequired",n[n.autoClosingBrackets=6]="autoClosingBrackets",n[n.autoClosingComments=7]="autoClosingComments",n[n.screenReaderAnnounceInlineSuggestion=8]="screenReaderAnnounceInlineSuggestion",n[n.autoClosingDelete=9]="autoClosingDelete",n[n.autoClosingOvertype=10]="autoClosingOvertype",n[n.autoClosingQuotes=11]="autoClosingQuotes",n[n.autoIndent=12]="autoIndent",n[n.automaticLayout=13]="automaticLayout",n[n.autoSurround=14]="autoSurround",n[n.bracketPairColorization=15]="bracketPairColorization",n[n.guides=16]="guides",n[n.codeLens=17]="codeLens",n[n.codeLensFontFamily=18]="codeLensFontFamily",n[n.codeLensFontSize=19]="codeLensFontSize",n[n.colorDecorators=20]="colorDecorators",n[n.colorDecoratorsLimit=21]="colorDecoratorsLimit",n[n.columnSelection=22]="columnSelection",n[n.comments=23]="comments",n[n.contextmenu=24]="contextmenu",n[n.copyWithSyntaxHighlighting=25]="copyWithSyntaxHighlighting",n[n.cursorBlinking=26]="cursorBlinking",n[n.cursorSmoothCaretAnimation=27]="cursorSmoothCaretAnimation",n[n.cursorStyle=28]="cursorStyle",n[n.cursorSurroundingLines=29]="cursorSurroundingLines",n[n.cursorSurroundingLinesStyle=30]="cursorSurroundingLinesStyle",n[n.cursorWidth=31]="cursorWidth",n[n.disableLayerHinting=32]="disableLayerHinting",n[n.disableMonospaceOptimizations=33]="disableMonospaceOptimizations",n[n.domReadOnly=34]="domReadOnly",n[n.dragAndDrop=35]="dragAndDrop",n[n.dropIntoEditor=36]="dropIntoEditor",n[n.emptySelectionClipboard=37]="emptySelectionClipboard",n[n.experimentalWhitespaceRendering=38]="experimentalWhitespaceRendering",n[n.extraEditorClassName=39]="extraEditorClassName",n[n.fastScrollSensitivity=40]="fastScrollSensitivity",n[n.find=41]="find",n[n.fixedOverflowWidgets=42]="fixedOverflowWidgets",n[n.folding=43]="folding",n[n.foldingStrategy=44]="foldingStrategy",n[n.foldingHighlight=45]="foldingHighlight",n[n.foldingImportsByDefault=46]="foldingImportsByDefault",n[n.foldingMaximumRegions=47]="foldingMaximumRegions",n[n.unfoldOnClickAfterEndOfLine=48]="unfoldOnClickAfterEndOfLine",n[n.fontFamily=49]="fontFamily",n[n.fontInfo=50]="fontInfo",n[n.fontLigatures=51]="fontLigatures",n[n.fontSize=52]="fontSize",n[n.fontWeight=53]="fontWeight",n[n.fontVariations=54]="fontVariations",n[n.formatOnPaste=55]="formatOnPaste",n[n.formatOnType=56]="formatOnType",n[n.glyphMargin=57]="glyphMargin",n[n.gotoLocation=58]="gotoLocation",n[n.hideCursorInOverviewRuler=59]="hideCursorInOverviewRuler",n[n.hover=60]="hover",n[n.inDiffEditor=61]="inDiffEditor",n[n.inlineSuggest=62]="inlineSuggest",n[n.inlineEdit=63]="inlineEdit",n[n.letterSpacing=64]="letterSpacing",n[n.lightbulb=65]="lightbulb",n[n.lineDecorationsWidth=66]="lineDecorationsWidth",n[n.lineHeight=67]="lineHeight",n[n.lineNumbers=68]="lineNumbers",n[n.lineNumbersMinChars=69]="lineNumbersMinChars",n[n.linkedEditing=70]="linkedEditing",n[n.links=71]="links",n[n.matchBrackets=72]="matchBrackets",n[n.minimap=73]="minimap",n[n.mouseStyle=74]="mouseStyle",n[n.mouseWheelScrollSensitivity=75]="mouseWheelScrollSensitivity",n[n.mouseWheelZoom=76]="mouseWheelZoom",n[n.multiCursorMergeOverlapping=77]="multiCursorMergeOverlapping",n[n.multiCursorModifier=78]="multiCursorModifier",n[n.multiCursorPaste=79]="multiCursorPaste",n[n.multiCursorLimit=80]="multiCursorLimit",n[n.occurrencesHighlight=81]="occurrencesHighlight",n[n.overviewRulerBorder=82]="overviewRulerBorder",n[n.overviewRulerLanes=83]="overviewRulerLanes",n[n.padding=84]="padding",n[n.pasteAs=85]="pasteAs",n[n.parameterHints=86]="parameterHints",n[n.peekWidgetDefaultFocus=87]="peekWidgetDefaultFocus",n[n.placeholder=88]="placeholder",n[n.definitionLinkOpensInPeek=89]="definitionLinkOpensInPeek",n[n.quickSuggestions=90]="quickSuggestions",n[n.quickSuggestionsDelay=91]="quickSuggestionsDelay",n[n.readOnly=92]="readOnly",n[n.readOnlyMessage=93]="readOnlyMessage",n[n.renameOnType=94]="renameOnType",n[n.renderControlCharacters=95]="renderControlCharacters",n[n.renderFinalNewline=96]="renderFinalNewline",n[n.renderLineHighlight=97]="renderLineHighlight",n[n.renderLineHighlightOnlyWhenFocus=98]="renderLineHighlightOnlyWhenFocus",n[n.renderValidationDecorations=99]="renderValidationDecorations",n[n.renderWhitespace=100]="renderWhitespace",n[n.revealHorizontalRightPadding=101]="revealHorizontalRightPadding",n[n.roundedSelection=102]="roundedSelection",n[n.rulers=103]="rulers",n[n.scrollbar=104]="scrollbar",n[n.scrollBeyondLastColumn=105]="scrollBeyondLastColumn",n[n.scrollBeyondLastLine=106]="scrollBeyondLastLine",n[n.scrollPredominantAxis=107]="scrollPredominantAxis",n[n.selectionClipboard=108]="selectionClipboard",n[n.selectionHighlight=109]="selectionHighlight",n[n.selectOnLineNumbers=110]="selectOnLineNumbers",n[n.showFoldingControls=111]="showFoldingControls",n[n.showUnused=112]="showUnused",n[n.snippetSuggestions=113]="snippetSuggestions",n[n.smartSelect=114]="smartSelect",n[n.smoothScrolling=115]="smoothScrolling",n[n.stickyScroll=116]="stickyScroll",n[n.stickyTabStops=117]="stickyTabStops",n[n.stopRenderingLineAfter=118]="stopRenderingLineAfter",n[n.suggest=119]="suggest",n[n.suggestFontSize=120]="suggestFontSize",n[n.suggestLineHeight=121]="suggestLineHeight",n[n.suggestOnTriggerCharacters=122]="suggestOnTriggerCharacters",n[n.suggestSelection=123]="suggestSelection",n[n.tabCompletion=124]="tabCompletion",n[n.tabIndex=125]="tabIndex",n[n.unicodeHighlighting=126]="unicodeHighlighting",n[n.unusualLineTerminators=127]="unusualLineTerminators",n[n.useShadowDOM=128]="useShadowDOM",n[n.useTabStops=129]="useTabStops",n[n.wordBreak=130]="wordBreak",n[n.wordSegmenterLocales=131]="wordSegmenterLocales",n[n.wordSeparators=132]="wordSeparators",n[n.wordWrap=133]="wordWrap",n[n.wordWrapBreakAfterCharacters=134]="wordWrapBreakAfterCharacters",n[n.wordWrapBreakBeforeCharacters=135]="wordWrapBreakBeforeCharacters",n[n.wordWrapColumn=136]="wordWrapColumn",n[n.wordWrapOverride1=137]="wordWrapOverride1",n[n.wordWrapOverride2=138]="wordWrapOverride2",n[n.wrappingIndent=139]="wrappingIndent",n[n.wrappingStrategy=140]="wrappingStrategy",n[n.showDeprecated=141]="showDeprecated",n[n.inlayHints=142]="inlayHints",n[n.editorClassName=143]="editorClassName",n[n.pixelRatio=144]="pixelRatio",n[n.tabFocusMode=145]="tabFocusMode",n[n.layoutInfo=146]="layoutInfo",n[n.wrappingInfo=147]="wrappingInfo",n[n.defaultColorDecorators=148]="defaultColorDecorators",n[n.colorDecoratorsActivatedOn=149]="colorDecoratorsActivatedOn",n[n.inlineCompletionsAccessibilityVerbose=150]="inlineCompletionsAccessibilityVerbose"})(q||(q={}));var se;(function(n){n[n.TextDefined=0]="TextDefined",n[n.LF=1]="LF",n[n.CRLF=2]="CRLF"})(se||(se={}));var re;(function(n){n[n.LF=0]="LF",n[n.CRLF=1]="CRLF"})(re||(re={}));var _e;(function(n){n[n.Left=1]="Left",n[n.Center=2]="Center",n[n.Right=3]="Right"})(_e||(_e={}));var Se;(function(n){n[n.Increase=0]="Increase",n[n.Decrease=1]="Decrease"})(Se||(Se={}));var Ae;(function(n){n[n.None=0]="None",n[n.Indent=1]="Indent",n[n.IndentOutdent=2]="IndentOutdent",n[n.Outdent=3]="Outdent"})(Ae||(Ae={}));var we;(function(n){n[n.Both=0]="Both",n[n.Right=1]="Right",n[n.Left=2]="Left",n[n.None=3]="None"})(we||(we={}));var L;(function(n){n[n.Type=1]="Type",n[n.Parameter=2]="Parameter"})(L||(L={}));var A;(function(n){n[n.Automatic=0]="Automatic",n[n.Explicit=1]="Explicit"})(A||(A={}));var z;(function(n){n[n.Invoke=0]="Invoke",n[n.Automatic=1]="Automatic"})(z||(z={}));var b;(function(n){n[n.DependsOnKbLayout=-1]="DependsOnKbLayout",n[n.Unknown=0]="Unknown",n[n.Backspace=1]="Backspace",n[n.Tab=2]="Tab",n[n.Enter=3]="Enter",n[n.Shift=4]="Shift",n[n.Ctrl=5]="Ctrl",n[n.Alt=6]="Alt",n[n.PauseBreak=7]="PauseBreak",n[n.CapsLock=8]="CapsLock",n[n.Escape=9]="Escape",n[n.Space=10]="Space",n[n.PageUp=11]="PageUp",n[n.PageDown=12]="PageDown",n[n.End=13]="End",n[n.Home=14]="Home",n[n.LeftArrow=15]="LeftArrow",n[n.UpArrow=16]="UpArrow",n[n.RightArrow=17]="RightArrow",n[n.DownArrow=18]="DownArrow",n[n.Insert=19]="Insert",n[n.Delete=20]="Delete",n[n.Digit0=21]="Digit0",n[n.Digit1=22]="Digit1",n[n.Digit2=23]="Digit2",n[n.Digit3=24]="Digit3",n[n.Digit4=25]="Digit4",n[n.Digit5=26]="Digit5",n[n.Digit6=27]="Digit6",n[n.Digit7=28]="Digit7",n[n.Digit8=29]="Digit8",n[n.Digit9=30]="Digit9",n[n.KeyA=31]="KeyA",n[n.KeyB=32]="KeyB",n[n.KeyC=33]="KeyC",n[n.KeyD=34]="KeyD",n[n.KeyE=35]="KeyE",n[n.KeyF=36]="KeyF",n[n.KeyG=37]="KeyG",n[n.KeyH=38]="KeyH",n[n.KeyI=39]="KeyI",n[n.KeyJ=40]="KeyJ",n[n.KeyK=41]="KeyK",n[n.KeyL=42]="KeyL",n[n.KeyM=43]="KeyM",n[n.KeyN=44]="KeyN",n[n.KeyO=45]="KeyO",n[n.KeyP=46]="KeyP",n[n.KeyQ=47]="KeyQ",n[n.KeyR=48]="KeyR",n[n.KeyS=49]="KeyS",n[n.KeyT=50]="KeyT",n[n.KeyU=51]="KeyU",n[n.KeyV=52]="KeyV",n[n.KeyW=53]="KeyW",n[n.KeyX=54]="KeyX",n[n.KeyY=55]="KeyY",n[n.KeyZ=56]="KeyZ",n[n.Meta=57]="Meta",n[n.ContextMenu=58]="ContextMenu",n[n.F1=59]="F1",n[n.F2=60]="F2",n[n.F3=61]="F3",n[n.F4=62]="F4",n[n.F5=63]="F5",n[n.F6=64]="F6",n[n.F7=65]="F7",n[n.F8=66]="F8",n[n.F9=67]="F9",n[n.F10=68]="F10",n[n.F11=69]="F11",n[n.F12=70]="F12",n[n.F13=71]="F13",n[n.F14=72]="F14",n[n.F15=73]="F15",n[n.F16=74]="F16",n[n.F17=75]="F17",n[n.F18=76]="F18",n[n.F19=77]="F19",n[n.F20=78]="F20",n[n.F21=79]="F21",n[n.F22=80]="F22",n[n.F23=81]="F23",n[n.F24=82]="F24",n[n.NumLock=83]="NumLock",n[n.ScrollLock=84]="ScrollLock",n[n.Semicolon=85]="Semicolon",n[n.Equal=86]="Equal",n[n.Comma=87]="Comma",n[n.Minus=88]="Minus",n[n.Period=89]="Period",n[n.Slash=90]="Slash",n[n.Backquote=91]="Backquote",n[n.BracketLeft=92]="BracketLeft",n[n.Backslash=93]="Backslash",n[n.BracketRight=94]="BracketRight",n[n.Quote=95]="Quote",n[n.OEM_8=96]="OEM_8",n[n.IntlBackslash=97]="IntlBackslash",n[n.Numpad0=98]="Numpad0",n[n.Numpad1=99]="Numpad1",n[n.Numpad2=100]="Numpad2",n[n.Numpad3=101]="Numpad3",n[n.Numpad4=102]="Numpad4",n[n.Numpad5=103]="Numpad5",n[n.Numpad6=104]="Numpad6",n[n.Numpad7=105]="Numpad7",n[n.Numpad8=106]="Numpad8",n[n.Numpad9=107]="Numpad9",n[n.NumpadMultiply=108]="NumpadMultiply",n[n.NumpadAdd=109]="NumpadAdd",n[n.NUMPAD_SEPARATOR=110]="NUMPAD_SEPARATOR",n[n.NumpadSubtract=111]="NumpadSubtract",n[n.NumpadDecimal=112]="NumpadDecimal",n[n.NumpadDivide=113]="NumpadDivide",n[n.KEY_IN_COMPOSITION=114]="KEY_IN_COMPOSITION",n[n.ABNT_C1=115]="ABNT_C1",n[n.ABNT_C2=116]="ABNT_C2",n[n.AudioVolumeMute=117]="AudioVolumeMute",n[n.AudioVolumeUp=118]="AudioVolumeUp",n[n.AudioVolumeDown=119]="AudioVolumeDown",n[n.BrowserSearch=120]="BrowserSearch",n[n.BrowserHome=121]="BrowserHome",n[n.BrowserBack=122]="BrowserBack",n[n.BrowserForward=123]="BrowserForward",n[n.MediaTrackNext=124]="MediaTrackNext",n[n.MediaTrackPrevious=125]="MediaTrackPrevious",n[n.MediaStop=126]="MediaStop",n[n.MediaPlayPause=127]="MediaPlayPause",n[n.LaunchMediaPlayer=128]="LaunchMediaPlayer",n[n.LaunchMail=129]="LaunchMail",n[n.LaunchApp2=130]="LaunchApp2",n[n.Clear=131]="Clear",n[n.MAX_VALUE=132]="MAX_VALUE"})(b||(b={}));var S;(function(n){n[n.Hint=1]="Hint",n[n.Info=2]="Info",n[n.Warning=4]="Warning",n[n.Error=8]="Error"})(S||(S={}));var $;(function(n){n[n.Unnecessary=1]="Unnecessary",n[n.Deprecated=2]="Deprecated"})($||($={}));var te;(function(n){n[n.Inline=1]="Inline",n[n.Gutter=2]="Gutter"})(te||(te={}));var ce;(function(n){n[n.Normal=1]="Normal",n[n.Underlined=2]="Underlined"})(ce||(ce={}));var Te;(function(n){n[n.UNKNOWN=0]="UNKNOWN",n[n.TEXTAREA=1]="TEXTAREA",n[n.GUTTER_GLYPH_MARGIN=2]="GUTTER_GLYPH_MARGIN",n[n.GUTTER_LINE_NUMBERS=3]="GUTTER_LINE_NUMBERS",n[n.GUTTER_LINE_DECORATIONS=4]="GUTTER_LINE_DECORATIONS",n[n.GUTTER_VIEW_ZONE=5]="GUTTER_VIEW_ZONE",n[n.CONTENT_TEXT=6]="CONTENT_TEXT",n[n.CONTENT_EMPTY=7]="CONTENT_EMPTY",n[n.CONTENT_VIEW_ZONE=8]="CONTENT_VIEW_ZONE",n[n.CONTENT_WIDGET=9]="CONTENT_WIDGET",n[n.OVERVIEW_RULER=10]="OVERVIEW_RULER",n[n.SCROLLBAR=11]="SCROLLBAR",n[n.OVERLAY_WIDGET=12]="OVERLAY_WIDGET",n[n.OUTSIDE_EDITOR=13]="OUTSIDE_EDITOR"})(Te||(Te={}));var Ne;(function(n){n[n.AIGenerated=1]="AIGenerated"})(Ne||(Ne={}));var He;(function(n){n[n.Invoke=0]="Invoke",n[n.Automatic=1]="Automatic"})(He||(He={}));var Pe;(function(n){n[n.TOP_RIGHT_CORNER=0]="TOP_RIGHT_CORNER",n[n.BOTTOM_RIGHT_CORNER=1]="BOTTOM_RIGHT_CORNER",n[n.TOP_CENTER=2]="TOP_CENTER"})(Pe||(Pe={}));var Xe;(function(n){n[n.Left=1]="Left",n[n.Center=2]="Center",n[n.Right=4]="Right",n[n.Full=7]="Full"})(Xe||(Xe={}));var xt;(function(n){n[n.Word=0]="Word",n[n.Line=1]="Line",n[n.Suggest=2]="Suggest"})(xt||(xt={}));var dt;(function(n){n[n.Left=0]="Left",n[n.Right=1]="Right",n[n.None=2]="None",n[n.LeftOfInjectedText=3]="LeftOfInjectedText",n[n.RightOfInjectedText=4]="RightOfInjectedText"})(dt||(dt={}));var Zt;(function(n){n[n.Off=0]="Off",n[n.On=1]="On",n[n.Relative=2]="Relative",n[n.Interval=3]="Interval",n[n.Custom=4]="Custom"})(Zt||(Zt={}));var $t;(function(n){n[n.None=0]="None",n[n.Text=1]="Text",n[n.Blocks=2]="Blocks"})($t||($t={}));var Pt;(function(n){n[n.Smooth=0]="Smooth",n[n.Immediate=1]="Immediate"})(Pt||(Pt={}));var Jt;(function(n){n[n.Auto=1]="Auto",n[n.Hidden=2]="Hidden",n[n.Visible=3]="Visible"})(Jt||(Jt={}));var Rt;(function(n){n[n.LTR=0]="LTR",n[n.RTL=1]="RTL"})(Rt||(Rt={}));var Mt;(function(n){n.Off="off",n.OnCode="onCode",n.On="on"})(Mt||(Mt={}));var Wt;(function(n){n[n.Invoke=1]="Invoke",n[n.TriggerCharacter=2]="TriggerCharacter",n[n.ContentChange=3]="ContentChange"})(Wt||(Wt={}));var Qt;(function(n){n[n.File=0]="File",n[n.Module=1]="Module",n[n.Namespace=2]="Namespace",n[n.Package=3]="Package",n[n.Class=4]="Class",n[n.Method=5]="Method",n[n.Property=6]="Property",n[n.Field=7]="Field",n[n.Constructor=8]="Constructor",n[n.Enum=9]="Enum",n[n.Interface=10]="Interface",n[n.Function=11]="Function",n[n.Variable=12]="Variable",n[n.Constant=13]="Constant",n[n.String=14]="String",n[n.Number=15]="Number",n[n.Boolean=16]="Boolean",n[n.Array=17]="Array",n[n.Object=18]="Object",n[n.Key=19]="Key",n[n.Null=20]="Null",n[n.EnumMember=21]="EnumMember",n[n.Struct=22]="Struct",n[n.Event=23]="Event",n[n.Operator=24]="Operator",n[n.TypeParameter=25]="TypeParameter"})(Qt||(Qt={}));var Ot;(function(n){n[n.Deprecated=1]="Deprecated"})(Ot||(Ot={}));var Xt;(function(n){n[n.Hidden=0]="Hidden",n[n.Blink=1]="Blink",n[n.Smooth=2]="Smooth",n[n.Phase=3]="Phase",n[n.Expand=4]="Expand",n[n.Solid=5]="Solid"})(Xt||(Xt={}));var qt;(function(n){n[n.Line=1]="Line",n[n.Block=2]="Block",n[n.Underline=3]="Underline",n[n.LineThin=4]="LineThin",n[n.BlockOutline=5]="BlockOutline",n[n.UnderlineThin=6]="UnderlineThin"})(qt||(qt={}));var nn;(function(n){n[n.AlwaysGrowsWhenTypingAtEdges=0]="AlwaysGrowsWhenTypingAtEdges",n[n.NeverGrowsWhenTypingAtEdges=1]="NeverGrowsWhenTypingAtEdges",n[n.GrowsOnlyWhenTypingBefore=2]="GrowsOnlyWhenTypingBefore",n[n.GrowsOnlyWhenTypingAfter=3]="GrowsOnlyWhenTypingAfter"})(nn||(nn={}));var Gt;(function(n){n[n.None=0]="None",n[n.Same=1]="Same",n[n.Indent=2]="Indent",n[n.DeepIndent=3]="DeepIndent"})(Gt||(Gt={}));const Ee=class Ee{static chord(je,tt){return M(je,tt)}};s(Ee,"KeyMod"),Ee.CtrlCmd=2048,Ee.Shift=1024,Ee.Alt=512,Ee.WinCtrl=256;let Bt=Ee;function Yt(){return{editor:void 0,languages:void 0,CancellationTokenSource:N.Qi,Emitter:K.vl,KeyCode:b,KeyMod:Bt,Position:ee.y,Range:H.Q,Selection:C.L,SelectionDirection:Rt,MarkerSeverity:S,MarkerTag:$,Uri:g.r,Token:R.ou}}s(Yt,"createMonacoBaseAPI")},7798:(qe,Ce,v)=>{"use strict";v.r(Ce),v.d(Ce,{BaseEditorSimpleWorker:s(()=>In,"BaseEditorSimpleWorker"),EditorSimpleWorker:s(()=>fn,"EditorSimpleWorker"),create:s(()=>fi,"create")});const Pn=class Pn{constructor(h,m,F,X){this.originalStart=h,this.originalLength=m,this.modifiedStart=F,this.modifiedLength=X}getOriginalEnd(){return this.originalStart+this.originalLength}getModifiedEnd(){return this.modifiedStart+this.modifiedLength}};s(Pn,"DiffChange");let N=Pn;var K=v(2344);const Nn=class Nn{constructor(h){this.source=h}getElements(){const h=this.source,m=new Int32Array(h.length);for(let F=0,X=h.length;F<X;F++)m[F]=h.charCodeAt(F);return m}};s(Nn,"StringDiffSequence");let o=Nn;function Q(ke,h,m){return new G(new o(ke),new o(h)).ComputeDiff(m).changes}s(Q,"stringDiff");const ve=class ve{static Assert(h,m){if(!h)throw new Error(m)}};s(ve,"Debug");let V=ve;const U=class U{static Copy(h,m,F,X,J){for(let oe=0;oe<J;oe++)F[X+oe]=h[m+oe]}static Copy2(h,m,F,X,J){for(let oe=0;oe<J;oe++)F[X+oe]=h[m+oe]}};s(U,"MyArray");let E=U;const le=class le{constructor(){this.m_changes=[],this.m_originalStart=1073741824,this.m_modifiedStart=1073741824,this.m_originalCount=0,this.m_modifiedCount=0}MarkNextChange(){(this.m_originalCount>0||this.m_modifiedCount>0)&&this.m_changes.push(new N(this.m_originalStart,this.m_originalCount,this.m_modifiedStart,this.m_modifiedCount)),this.m_originalCount=0,this.m_modifiedCount=0,this.m_originalStart=1073741824,this.m_modifiedStart=1073741824}AddOriginalElement(h,m){this.m_originalStart=Math.min(this.m_originalStart,h),this.m_modifiedStart=Math.min(this.m_modifiedStart,m),this.m_originalCount++}AddModifiedElement(h,m){this.m_originalStart=Math.min(this.m_originalStart,h),this.m_modifiedStart=Math.min(this.m_modifiedStart,m),this.m_modifiedCount++}getChanges(){return(this.m_originalCount>0||this.m_modifiedCount>0)&&this.MarkNextChange(),this.m_changes}getReverseChanges(){return(this.m_originalCount>0||this.m_modifiedCount>0)&&this.MarkNextChange(),this.m_changes.reverse(),this.m_changes}};s(le,"DiffChangeHelper");let u=le;const ye=class ye{constructor(h,m,F=null){this.ContinueProcessingPredicate=F,this._originalSequence=h,this._modifiedSequence=m;const[X,J,oe]=ye._getElements(h),[ge,de,pe]=ye._getElements(m);this._hasStrings=oe&&pe,this._originalStringElements=X,this._originalElementsOrHash=J,this._modifiedStringElements=ge,this._modifiedElementsOrHash=de,this.m_forwardHistory=[],this.m_reverseHistory=[]}static _isStringArray(h){return h.length>0&&typeof h[0]=="string"}static _getElements(h){const m=h.getElements();if(ye._isStringArray(m)){const F=new Int32Array(m.length);for(let X=0,J=m.length;X<J;X++)F[X]=(0,K.e2)(m[X],0);return[m,F,!0]}return m instanceof Int32Array?[[],m,!1]:[[],new Int32Array(m),!1]}ElementsAreEqual(h,m){return this._originalElementsOrHash[h]!==this._modifiedElementsOrHash[m]?!1:this._hasStrings?this._originalStringElements[h]===this._modifiedStringElements[m]:!0}ElementsAreStrictEqual(h,m){if(!this.ElementsAreEqual(h,m))return!1;const F=ye._getStrictElement(this._originalSequence,h),X=ye._getStrictElement(this._modifiedSequence,m);return F===X}static _getStrictElement(h,m){return typeof h.getStrictElement=="function"?h.getStrictElement(m):null}OriginalElementsAreEqual(h,m){return this._originalElementsOrHash[h]!==this._originalElementsOrHash[m]?!1:this._hasStrings?this._originalStringElements[h]===this._originalStringElements[m]:!0}ModifiedElementsAreEqual(h,m){return this._modifiedElementsOrHash[h]!==this._modifiedElementsOrHash[m]?!1:this._hasStrings?this._modifiedStringElements[h]===this._modifiedStringElements[m]:!0}ComputeDiff(h){return this._ComputeDiff(0,this._originalElementsOrHash.length-1,0,this._modifiedElementsOrHash.length-1,h)}_ComputeDiff(h,m,F,X,J){const oe=[!1];let ge=this.ComputeDiffRecursive(h,m,F,X,oe);return J&&(ge=this.PrettifyChanges(ge)),{quitEarly:oe[0],changes:ge}}ComputeDiffRecursive(h,m,F,X,J){for(J[0]=!1;h<=m&&F<=X&&this.ElementsAreEqual(h,F);)h++,F++;for(;m>=h&&X>=F&&this.ElementsAreEqual(m,X);)m--,X--;if(h>m||F>X){let Re;return F<=X?(V.Assert(h===m+1,"originalStart should only be one more than originalEnd"),Re=[new N(h,0,F,X-F+1)]):h<=m?(V.Assert(F===X+1,"modifiedStart should only be one more than modifiedEnd"),Re=[new N(h,m-h+1,F,0)]):(V.Assert(h===m+1,"originalStart should only be one more than originalEnd"),V.Assert(F===X+1,"modifiedStart should only be one more than modifiedEnd"),Re=[]),Re}const oe=[0],ge=[0],de=this.ComputeRecursionPoint(h,m,F,X,oe,ge,J),pe=oe[0],Ie=ge[0];if(de!==null)return de;if(!J[0]){const Re=this.ComputeDiffRecursive(h,pe,F,Ie,J);let De=[];return J[0]?De=[new N(pe+1,m-(pe+1)+1,Ie+1,X-(Ie+1)+1)]:De=this.ComputeDiffRecursive(pe+1,m,Ie+1,X,J),this.ConcatenateChanges(Re,De)}return[new N(h,m-h+1,F,X-F+1)]}WALKTRACE(h,m,F,X,J,oe,ge,de,pe,Ie,Re,De,Fe,Ve,Ye,ot,at,bt){let lt=null,wt=null,ft=new u,Lt=m,gt=F,it=Fe[0]-ot[0]-X,Tt=-1073741824,vt=this.m_forwardHistory.length-1;do{const Ht=it+h;Ht===Lt||Ht<gt&&pe[Ht-1]<pe[Ht+1]?(Re=pe[Ht+1],Ve=Re-it-X,Re<Tt&&ft.MarkNextChange(),Tt=Re,ft.AddModifiedElement(Re+1,Ve),it=Ht+1-h):(Re=pe[Ht-1]+1,Ve=Re-it-X,Re<Tt&&ft.MarkNextChange(),Tt=Re-1,ft.AddOriginalElement(Re,Ve+1),it=Ht-1-h),vt>=0&&(pe=this.m_forwardHistory[vt],h=pe[0],Lt=1,gt=pe.length-1)}while(--vt>=-1);if(lt=ft.getReverseChanges(),bt[0]){let Ht=Fe[0]+1,Nt=ot[0]+1;if(lt!==null&&lt.length>0){const Hn=lt[lt.length-1];Ht=Math.max(Ht,Hn.getOriginalEnd()),Nt=Math.max(Nt,Hn.getModifiedEnd())}wt=[new N(Ht,De-Ht+1,Nt,Ye-Nt+1)]}else{ft=new u,Lt=oe,gt=ge,it=Fe[0]-ot[0]-de,Tt=1073741824,vt=at?this.m_reverseHistory.length-1:this.m_reverseHistory.length-2;do{const Ht=it+J;Ht===Lt||Ht<gt&&Ie[Ht-1]>=Ie[Ht+1]?(Re=Ie[Ht+1]-1,Ve=Re-it-de,Re>Tt&&ft.MarkNextChange(),Tt=Re+1,ft.AddOriginalElement(Re+1,Ve+1),it=Ht+1-J):(Re=Ie[Ht-1],Ve=Re-it-de,Re>Tt&&ft.MarkNextChange(),Tt=Re,ft.AddModifiedElement(Re+1,Ve+1),it=Ht-1-J),vt>=0&&(Ie=this.m_reverseHistory[vt],J=Ie[0],Lt=1,gt=Ie.length-1)}while(--vt>=-1);wt=ft.getChanges()}return this.ConcatenateChanges(lt,wt)}ComputeRecursionPoint(h,m,F,X,J,oe,ge){let de=0,pe=0,Ie=0,Re=0,De=0,Fe=0;h--,F--,J[0]=0,oe[0]=0,this.m_forwardHistory=[],this.m_reverseHistory=[];const Ve=m-h+(X-F),Ye=Ve+1,ot=new Int32Array(Ye),at=new Int32Array(Ye),bt=X-F,lt=m-h,wt=h-F,ft=m-X,gt=(lt-bt)%2===0;ot[bt]=h,at[lt]=m,ge[0]=!1;for(let it=1;it<=Ve/2+1;it++){let Tt=0,vt=0;Ie=this.ClipDiagonalBound(bt-it,it,bt,Ye),Re=this.ClipDiagonalBound(bt+it,it,bt,Ye);for(let Nt=Ie;Nt<=Re;Nt+=2){Nt===Ie||Nt<Re&&ot[Nt-1]<ot[Nt+1]?de=ot[Nt+1]:de=ot[Nt-1]+1,pe=de-(Nt-bt)-wt;const Hn=de;for(;de<m&&pe<X&&this.ElementsAreEqual(de+1,pe+1);)de++,pe++;if(ot[Nt]=de,de+pe>Tt+vt&&(Tt=de,vt=pe),!gt&&Math.abs(Nt-lt)<=it-1&&de>=at[Nt])return J[0]=de,oe[0]=pe,Hn<=at[Nt]&&it<=1448?this.WALKTRACE(bt,Ie,Re,wt,lt,De,Fe,ft,ot,at,de,m,J,pe,X,oe,gt,ge):null}const Ht=(Tt-h+(vt-F)-it)/2;if(this.ContinueProcessingPredicate!==null&&!this.ContinueProcessingPredicate(Tt,Ht))return ge[0]=!0,J[0]=Tt,oe[0]=vt,Ht>0&&it<=1448?this.WALKTRACE(bt,Ie,Re,wt,lt,De,Fe,ft,ot,at,de,m,J,pe,X,oe,gt,ge):(h++,F++,[new N(h,m-h+1,F,X-F+1)]);De=this.ClipDiagonalBound(lt-it,it,lt,Ye),Fe=this.ClipDiagonalBound(lt+it,it,lt,Ye);for(let Nt=De;Nt<=Fe;Nt+=2){Nt===De||Nt<Fe&&at[Nt-1]>=at[Nt+1]?de=at[Nt+1]-1:de=at[Nt-1],pe=de-(Nt-lt)-ft;const Hn=de;for(;de>h&&pe>F&&this.ElementsAreEqual(de,pe);)de--,pe--;if(at[Nt]=de,gt&&Math.abs(Nt-bt)<=it&&de<=ot[Nt])return J[0]=de,oe[0]=pe,Hn>=ot[Nt]&&it<=1448?this.WALKTRACE(bt,Ie,Re,wt,lt,De,Fe,ft,ot,at,de,m,J,pe,X,oe,gt,ge):null}if(it<=1447){let Nt=new Int32Array(Re-Ie+2);Nt[0]=bt-Ie+1,E.Copy2(ot,Ie,Nt,1,Re-Ie+1),this.m_forwardHistory.push(Nt),Nt=new Int32Array(Fe-De+2),Nt[0]=lt-De+1,E.Copy2(at,De,Nt,1,Fe-De+1),this.m_reverseHistory.push(Nt)}}return this.WALKTRACE(bt,Ie,Re,wt,lt,De,Fe,ft,ot,at,de,m,J,pe,X,oe,gt,ge)}PrettifyChanges(h){for(let m=0;m<h.length;m++){const F=h[m],X=m<h.length-1?h[m+1].originalStart:this._originalElementsOrHash.length,J=m<h.length-1?h[m+1].modifiedStart:this._modifiedElementsOrHash.length,oe=F.originalLength>0,ge=F.modifiedLength>0;for(;F.originalStart+F.originalLength<X&&F.modifiedStart+F.modifiedLength<J&&(!oe||this.OriginalElementsAreEqual(F.originalStart,F.originalStart+F.originalLength))&&(!ge||this.ModifiedElementsAreEqual(F.modifiedStart,F.modifiedStart+F.modifiedLength));){const pe=this.ElementsAreStrictEqual(F.originalStart,F.modifiedStart);if(this.ElementsAreStrictEqual(F.originalStart+F.originalLength,F.modifiedStart+F.modifiedLength)&&!pe)break;F.originalStart++,F.modifiedStart++}const de=[null];if(m<h.length-1&&this.ChangesOverlap(h[m],h[m+1],de)){h[m]=de[0],h.splice(m+1,1),m--;continue}}for(let m=h.length-1;m>=0;m--){const F=h[m];let X=0,J=0;if(m>0){const Re=h[m-1];X=Re.originalStart+Re.originalLength,J=Re.modifiedStart+Re.modifiedLength}const oe=F.originalLength>0,ge=F.modifiedLength>0;let de=0,pe=this._boundaryScore(F.originalStart,F.originalLength,F.modifiedStart,F.modifiedLength);for(let Re=1;;Re++){const De=F.originalStart-Re,Fe=F.modifiedStart-Re;if(De<X||Fe<J||oe&&!this.OriginalElementsAreEqual(De,De+F.originalLength)||ge&&!this.ModifiedElementsAreEqual(Fe,Fe+F.modifiedLength))break;const Ye=(De===X&&Fe===J?5:0)+this._boundaryScore(De,F.originalLength,Fe,F.modifiedLength);Ye>pe&&(pe=Ye,de=Re)}F.originalStart-=de,F.modifiedStart-=de;const Ie=[null];if(m>0&&this.ChangesOverlap(h[m-1],h[m],Ie)){h[m-1]=Ie[0],h.splice(m,1),m++;continue}}if(this._hasStrings)for(let m=1,F=h.length;m<F;m++){const X=h[m-1],J=h[m],oe=J.originalStart-X.originalStart-X.originalLength,ge=X.originalStart,de=J.originalStart+J.originalLength,pe=de-ge,Ie=X.modifiedStart,Re=J.modifiedStart+J.modifiedLength,De=Re-Ie;if(oe<5&&pe<20&&De<20){const Fe=this._findBetterContiguousSequence(ge,pe,Ie,De,oe);if(Fe){const[Ve,Ye]=Fe;(Ve!==X.originalStart+X.originalLength||Ye!==X.modifiedStart+X.modifiedLength)&&(X.originalLength=Ve-X.originalStart,X.modifiedLength=Ye-X.modifiedStart,J.originalStart=Ve+oe,J.modifiedStart=Ye+oe,J.originalLength=de-J.originalStart,J.modifiedLength=Re-J.modifiedStart)}}}return h}_findBetterContiguousSequence(h,m,F,X,J){if(m<J||X<J)return null;const oe=h+m-J+1,ge=F+X-J+1;let de=0,pe=0,Ie=0;for(let Re=h;Re<oe;Re++)for(let De=F;De<ge;De++){const Fe=this._contiguousSequenceScore(Re,De,J);Fe>0&&Fe>de&&(de=Fe,pe=Re,Ie=De)}return de>0?[pe,Ie]:null}_contiguousSequenceScore(h,m,F){let X=0;for(let J=0;J<F;J++){if(!this.ElementsAreEqual(h+J,m+J))return 0;X+=this._originalStringElements[h+J].length}return X}_OriginalIsBoundary(h){return h<=0||h>=this._originalElementsOrHash.length-1?!0:this._hasStrings&&/^\s*$/.test(this._originalStringElements[h])}_OriginalRegionIsBoundary(h,m){if(this._OriginalIsBoundary(h)||this._OriginalIsBoundary(h-1))return!0;if(m>0){const F=h+m;if(this._OriginalIsBoundary(F-1)||this._OriginalIsBoundary(F))return!0}return!1}_ModifiedIsBoundary(h){return h<=0||h>=this._modifiedElementsOrHash.length-1?!0:this._hasStrings&&/^\s*$/.test(this._modifiedStringElements[h])}_ModifiedRegionIsBoundary(h,m){if(this._ModifiedIsBoundary(h)||this._ModifiedIsBoundary(h-1))return!0;if(m>0){const F=h+m;if(this._ModifiedIsBoundary(F-1)||this._ModifiedIsBoundary(F))return!0}return!1}_boundaryScore(h,m,F,X){const J=this._OriginalRegionIsBoundary(h,m)?1:0,oe=this._ModifiedRegionIsBoundary(F,X)?1:0;return J+oe}ConcatenateChanges(h,m){const F=[];if(h.length===0||m.length===0)return m.length>0?m:h;if(this.ChangesOverlap(h[h.length-1],m[0],F)){const X=new Array(h.length+m.length-1);return E.Copy(h,0,X,0,h.length-1),X[h.length-1]=F[0],E.Copy(m,1,X,h.length,m.length-1),X}else{const X=new Array(h.length+m.length);return E.Copy(h,0,X,0,h.length),E.Copy(m,0,X,h.length,m.length),X}}ChangesOverlap(h,m,F){if(V.Assert(h.originalStart<=m.originalStart,"Left change is not less than or equal to right change"),V.Assert(h.modifiedStart<=m.modifiedStart,"Left change is not less than or equal to right change"),h.originalStart+h.originalLength>=m.originalStart||h.modifiedStart+h.modifiedLength>=m.modifiedStart){const X=h.originalStart;let J=h.originalLength;const oe=h.modifiedStart;let ge=h.modifiedLength;return h.originalStart+h.originalLength>=m.originalStart&&(J=m.originalStart+m.originalLength-h.originalStart),h.modifiedStart+h.modifiedLength>=m.modifiedStart&&(ge=m.modifiedStart+m.modifiedLength-h.modifiedStart),F[0]=new N(X,J,oe,ge),!0}else return F[0]=null,!1}ClipDiagonalBound(h,m,F,X){if(h>=0&&h<X)return h;const J=F,oe=X-F-1,ge=m%2===0;if(h<0){const de=J%2===0;return ge===de?0:1}else{const de=oe%2===0;return ge===de?X-1:X-2}}};s(ye,"LcsDiff");let G=ye;var T=v(8061),Y=v(7454);const We=class We{constructor(h,m,F){const X=new Uint8Array(h*m);for(let J=0,oe=h*m;J<oe;J++)X[J]=F;this._data=X,this.rows=h,this.cols=m}get(h,m){return this._data[h*this.cols+m]}set(h,m,F){this._data[h*this.cols+m]=F}};s(We,"Uint8Matrix");let y=We;const Je=class Je{constructor(h){let m=0,F=0;for(let J=0,oe=h.length;J<oe;J++){const[ge,de,pe]=h[J];de>m&&(m=de),ge>F&&(F=ge),pe>F&&(F=pe)}m++,F++;const X=new y(F,m,0);for(let J=0,oe=h.length;J<oe;J++){const[ge,de,pe]=h[J];X.set(ge,de,pe)}this._states=X,this._maxCharCode=m}nextState(h,m){return m<0||m>=this._maxCharCode?0:this._states.get(h,m)}};s(Je,"StateMachine");let W=Je,P=null;function O(){return P===null&&(P=new W([[1,104,2],[1,72,2],[1,102,6],[1,70,6],[2,116,3],[2,84,3],[3,116,4],[3,84,4],[4,112,5],[4,80,5],[5,115,9],[5,83,9],[5,58,10],[6,105,7],[6,73,7],[7,108,8],[7,76,8],[8,101,9],[8,69,9],[9,58,10],[10,47,11],[11,47,12]])),P}s(O,"getStateMachine");let M=null;function g(){if(M===null){M=new Y.V(0);const ke=` 	<>'"\u3001\u3002\uFF61\uFF64\uFF0C\uFF0E\uFF1A\uFF1B\u2018\u3008\u300C\u300E\u3014\uFF08\uFF3B\uFF5B\uFF62\uFF63\uFF5D\uFF3D\uFF09\u3015\u300F\u300D\u3009\u2019\uFF40\uFF5E\u2026`;for(let m=0;m<ke.length;m++)M.set(ke.charCodeAt(m),1);const h=".,;:";for(let m=0;m<h.length;m++)M.set(h.charCodeAt(m),2)}return M}s(g,"getClassifier");const ut=class ut{static _createLink(h,m,F,X,J){let oe=J-1;do{const ge=m.charCodeAt(oe);if(h.get(ge)!==2)break;oe--}while(oe>X);if(X>0){const ge=m.charCodeAt(X-1),de=m.charCodeAt(oe);(ge===40&&de===41||ge===91&&de===93||ge===123&&de===125)&&oe--}return{range:{startLineNumber:F,startColumn:X+1,endLineNumber:F,endColumn:oe+2},url:m.substring(X,oe+1)}}static computeLinks(h,m=O()){const F=g(),X=[];for(let J=1,oe=h.getLineCount();J<=oe;J++){const ge=h.getLineContent(J),de=ge.length;let pe=0,Ie=0,Re=0,De=1,Fe=!1,Ve=!1,Ye=!1,ot=!1;for(;pe<de;){let at=!1;const bt=ge.charCodeAt(pe);if(De===13){let lt;switch(bt){case 40:Fe=!0,lt=0;break;case 41:lt=Fe?0:1;break;case 91:Ye=!0,Ve=!0,lt=0;break;case 93:Ye=!1,lt=Ve?0:1;break;case 123:ot=!0,lt=0;break;case 125:lt=ot?0:1;break;case 39:case 34:case 96:Re===bt?lt=1:Re===39||Re===34||Re===96?lt=0:lt=1;break;case 42:lt=Re===42?1:0;break;case 124:lt=Re===124?1:0;break;case 32:lt=Ye?0:1;break;default:lt=F.get(bt)}lt===1&&(X.push(ut._createLink(F,ge,J,Ie,pe)),at=!0)}else if(De===12){let lt;bt===91?(Ve=!0,lt=0):lt=F.get(bt),lt===1?at=!0:De=13}else De=m.nextState(De,bt),De===0&&(at=!0);at&&(De=1,Fe=!1,Ve=!1,ot=!1,Ie=pe+1,Re=bt),pe++}De===13&&X.push(ut._createLink(F,ge,J,Ie,de))}return X}};s(ut,"LinkComputer");let ee=ut;function H(ke){return!ke||typeof ke.getLineCount!="function"||typeof ke.getLineContent!="function"?[]:ee.computeLinks(ke)}s(H,"computeLinks");const Et=class Et{constructor(){this._defaultValueSet=[["true","false"],["True","False"],["Private","Public","Friend","ReadOnly","Partial","Protected","WriteOnly"],["public","protected","private"]]}navigateValueSet(h,m,F,X,J){if(h&&m){const oe=this.doNavigateValueSet(m,J);if(oe)return{range:h,value:oe}}if(F&&X){const oe=this.doNavigateValueSet(X,J);if(oe)return{range:F,value:oe}}return null}doNavigateValueSet(h,m){const F=this.numberReplace(h,m);return F!==null?F:this.textReplace(h,m)}numberReplace(h,m){const F=Math.pow(10,h.length-(h.lastIndexOf(".")+1));let X=Number(h);const J=parseFloat(h);return!isNaN(X)&&!isNaN(J)&&X===J?X===0&&!m?null:(X=Math.floor(X*F),X+=m?F:-F,String(X/F)):null}textReplace(h,m){return this.valueSetsReplace(this._defaultValueSet,h,m)}valueSetsReplace(h,m,F){let X=null;for(let J=0,oe=h.length;X===null&&J<oe;J++)X=this.valueSetReplace(h[J],m,F);return X}valueSetReplace(h,m,F){let X=h.indexOf(m);return X>=0?(X+=F?1:-1,X<0?X=h.length-1:X%=h.length,h[X]):null}};s(Et,"BasicInplaceReplace"),Et.INSTANCE=new Et;let C=Et;var R=v(4858),ie=v(6358),ue=v(3013),xe=v(9887);const rn=class rn{constructor(h,m,F){this.changes=h,this.moves=m,this.hitTimeout=F}};s(rn,"LinesDiff");let he=rn;const kn=class kn{constructor(h,m){this.lineRangeMapping=h,this.changes=m}};s(kn,"MovedText");let I=kn;var c=v(4327),f=v(9955),d=v(5365),x=v(7110),B=v(2532),D=v(8357);const an=class an{constructor(h){this.text=h,this.lineStartOffsetByLineIdx=[],this.lineStartOffsetByLineIdx.push(0);for(let m=0;m<h.length;m++)h.charAt(m)===`
`&&this.lineStartOffsetByLineIdx.push(m+1)}getOffset(h){return this.lineStartOffsetByLineIdx[h.lineNumber-1]+h.column-1}getOffsetRange(h){return new B.L(this.getOffset(h.getStartPosition()),this.getOffset(h.getEndPosition()))}get textLength(){const h=this.lineStartOffsetByLineIdx.length-1;return new D.W(h,this.text.length-this.lineStartOffsetByLineIdx[h])}};s(an,"PositionOffsetTransformer");let q=an;const si=class si{constructor(h){this.edits=h,assertFn(()=>checkAdjacentItems(h,(m,F)=>m.range.getEndPosition().isBeforeOrEqual(F.range.getStartPosition())))}apply(h){let m="",F=new Position(1,1);for(const J of this.edits){const oe=J.range,ge=oe.getStartPosition(),de=oe.getEndPosition(),pe=_e(F,ge);pe.isEmpty()||(m+=h.getValueOfRange(pe)),m+=J.text,F=de}const X=_e(F,h.endPositionExclusive);return X.isEmpty()||(m+=h.getValueOfRange(X)),m}applyToString(h){const m=new Ae(h);return this.apply(m)}getNewRanges(){const h=[];let m=0,F=0,X=0;for(const J of this.edits){const oe=TextLength.ofText(J.text),ge=Position.lift({lineNumber:J.range.startLineNumber+F,column:J.range.startColumn+(J.range.startLineNumber===m?X:0)}),de=oe.createRange(ge);h.push(de),F=de.endLineNumber-J.range.endLineNumber,X=de.endColumn-J.range.endColumn,m=J.range.endLineNumber}return h}};s(si,"TextEdit");let se=si;const gn=class gn{constructor(h,m){this.range=h,this.text=m}toSingleEditOperation(){return{range:this.range,text:this.text}}};s(gn,"SingleTextEdit");let re=gn;function _e(ke,h){if(ke.lineNumber===h.lineNumber&&ke.column===Number.MAX_SAFE_INTEGER)return Range.fromPositions(h,h);if(!ke.isBeforeOrEqual(h))throw new BugIndicatingError("start must be before end");return new Range(ke.lineNumber,ke.column,h.lineNumber,h.column)}s(_e,"rangeFromPositions");const Cn=class Cn{get endPositionExclusive(){return this.length.addToPosition(new d.y(1,1))}};s(Cn,"AbstractText");let Se=Cn;const Wn=class Wn extends Se{constructor(h){super(),this.value=h,this._t=new q(this.value)}getValueOfRange(h){return this._t.getOffsetRange(h).substring(this.value)}get length(){return this._t.textLength}};s(Wn,"StringText");let Ae=Wn;const zn=class zn{static inverse(h,m,F){const X=[];let J=1,oe=1;for(const de of h){const pe=new zn(new f.M(J,de.original.startLineNumber),new f.M(oe,de.modified.startLineNumber));pe.modified.isEmpty||X.push(pe),J=de.original.endLineNumberExclusive,oe=de.modified.endLineNumberExclusive}const ge=new zn(new f.M(J,m+1),new f.M(oe,F+1));return ge.modified.isEmpty||X.push(ge),X}static clip(h,m,F){const X=[];for(const J of h){const oe=J.original.intersect(m),ge=J.modified.intersect(F);oe&&!oe.isEmpty&&ge&&!ge.isEmpty&&X.push(new zn(oe,ge))}return X}constructor(h,m){this.original=h,this.modified=m}toString(){return`{${this.original.toString()}->${this.modified.toString()}}`}flip(){return new zn(this.modified,this.original)}join(h){return new zn(this.original.join(h.original),this.modified.join(h.modified))}toRangeMapping(){const h=this.original.toInclusiveRange(),m=this.modified.toInclusiveRange();if(h&&m)return new b(h,m);if(this.original.startLineNumber===1||this.modified.startLineNumber===1){if(!(this.modified.startLineNumber===1&&this.original.startLineNumber===1))throw new c.D7("not a valid diff");return new b(new T.Q(this.original.startLineNumber,1,this.original.endLineNumberExclusive,1),new T.Q(this.modified.startLineNumber,1,this.modified.endLineNumberExclusive,1))}else return new b(new T.Q(this.original.startLineNumber-1,Number.MAX_SAFE_INTEGER,this.original.endLineNumberExclusive-1,Number.MAX_SAFE_INTEGER),new T.Q(this.modified.startLineNumber-1,Number.MAX_SAFE_INTEGER,this.modified.endLineNumberExclusive-1,Number.MAX_SAFE_INTEGER))}toRangeMapping2(h,m){if(A(this.original.endLineNumberExclusive,h)&&A(this.modified.endLineNumberExclusive,m))return new b(new T.Q(this.original.startLineNumber,1,this.original.endLineNumberExclusive,1),new T.Q(this.modified.startLineNumber,1,this.modified.endLineNumberExclusive,1));if(!this.original.isEmpty&&!this.modified.isEmpty)return new b(T.Q.fromPositions(new d.y(this.original.startLineNumber,1),L(new d.y(this.original.endLineNumberExclusive-1,Number.MAX_SAFE_INTEGER),h)),T.Q.fromPositions(new d.y(this.modified.startLineNumber,1),L(new d.y(this.modified.endLineNumberExclusive-1,Number.MAX_SAFE_INTEGER),m)));if(this.original.startLineNumber>1&&this.modified.startLineNumber>1)return new b(T.Q.fromPositions(L(new d.y(this.original.startLineNumber-1,Number.MAX_SAFE_INTEGER),h),L(new d.y(this.original.endLineNumberExclusive-1,Number.MAX_SAFE_INTEGER),h)),T.Q.fromPositions(L(new d.y(this.modified.startLineNumber-1,Number.MAX_SAFE_INTEGER),m),L(new d.y(this.modified.endLineNumberExclusive-1,Number.MAX_SAFE_INTEGER),m)));throw new c.D7}};s(zn,"LineRangeMapping");let we=zn;function L(ke,h){if(ke.lineNumber<1)return new d.y(1,1);if(ke.lineNumber>h.length)return new d.y(h.length,h[h.length-1].length+1);const m=h[ke.lineNumber-1];return ke.column>m.length+1?new d.y(ke.lineNumber,m.length+1):ke}s(L,"normalizePosition");function A(ke,h){return ke>=1&&ke<=h.length}s(A,"isValidLineNumber");const ri=class ri extends we{static fromRangeMappings(h){const m=f.M.join(h.map(X=>f.M.fromRangeInclusive(X.originalRange))),F=f.M.join(h.map(X=>f.M.fromRangeInclusive(X.modifiedRange)));return new ri(m,F,h)}constructor(h,m,F){super(h,m),this.innerChanges=F}flip(){var h;return new ri(this.modified,this.original,(h=this.innerChanges)==null?void 0:h.map(m=>m.flip()))}withInnerChangesFromLineRanges(){return new ri(this.original,this.modified,[this.toRangeMapping()])}};s(ri,"DetailedLineRangeMapping");let z=ri;const Yn=class Yn{static assertSorted(h){for(let m=1;m<h.length;m++){const F=h[m-1],X=h[m];if(!(F.originalRange.getEndPosition().isBeforeOrEqual(X.originalRange.getStartPosition())&&F.modifiedRange.getEndPosition().isBeforeOrEqual(X.modifiedRange.getStartPosition())))throw new c.D7("Range mappings must be sorted")}}constructor(h,m){this.originalRange=h,this.modifiedRange=m}toString(){return`{${this.originalRange.toString()}->${this.modifiedRange.toString()}}`}flip(){return new Yn(this.modifiedRange,this.originalRange)}toTextEdit(h){const m=h.getValueOfRange(this.modifiedRange);return new re(this.originalRange,m)}};s(Yn,"RangeMapping");let b=Yn;var S=v(6844);const $=3,An=class An{computeDiff(h,m,F){var de;const J=new xt(h,m,{maxComputationTime:F.maxComputationTimeMs,shouldIgnoreTrimWhitespace:F.ignoreTrimWhitespace,shouldComputeCharChanges:!0,shouldMakePrettyDiff:!0,shouldPostProcessCharChanges:!0}).computeDiff(),oe=[];let ge=null;for(const pe of J.changes){let Ie;pe.originalEndLineNumber===0?Ie=new f.M(pe.originalStartLineNumber+1,pe.originalStartLineNumber+1):Ie=new f.M(pe.originalStartLineNumber,pe.originalEndLineNumber+1);let Re;pe.modifiedEndLineNumber===0?Re=new f.M(pe.modifiedStartLineNumber+1,pe.modifiedStartLineNumber+1):Re=new f.M(pe.modifiedStartLineNumber,pe.modifiedEndLineNumber+1);let De=new z(Ie,Re,(de=pe.charChanges)==null?void 0:de.map(Fe=>new b(new T.Q(Fe.originalStartLineNumber,Fe.originalStartColumn,Fe.originalEndLineNumber,Fe.originalEndColumn),new T.Q(Fe.modifiedStartLineNumber,Fe.modifiedStartColumn,Fe.modifiedEndLineNumber,Fe.modifiedEndColumn))));ge&&(ge.modified.endLineNumberExclusive===De.modified.startLineNumber||ge.original.endLineNumberExclusive===De.original.startLineNumber)&&(De=new z(ge.original.join(De.original),ge.modified.join(De.modified),ge.innerChanges&&De.innerChanges?ge.innerChanges.concat(De.innerChanges):void 0),oe.pop()),oe.push(De),ge=De}return(0,x.Ft)(()=>(0,x.Xo)(oe,(pe,Ie)=>Ie.original.startLineNumber-pe.original.endLineNumberExclusive===Ie.modified.startLineNumber-pe.modified.endLineNumberExclusive&&pe.original.endLineNumberExclusive<Ie.original.startLineNumber&&pe.modified.endLineNumberExclusive<Ie.modified.startLineNumber)),new he(oe,[],J.quitEarly)}};s(An,"LegacyLinesDiffComputer");let te=An;function ce(ke,h,m,F){return new G(ke,h,m).ComputeDiff(F)}s(ce,"computeDiff");const Un=class Un{constructor(h){const m=[],F=[];for(let X=0,J=h.length;X<J;X++)m[X]=dt(h[X],1),F[X]=Zt(h[X],1);this.lines=h,this._startColumns=m,this._endColumns=F}getElements(){const h=[];for(let m=0,F=this.lines.length;m<F;m++)h[m]=this.lines[m].substring(this._startColumns[m]-1,this._endColumns[m]-1);return h}getStrictElement(h){return this.lines[h]}getStartLineNumber(h){return h+1}getEndLineNumber(h){return h+1}createCharSequence(h,m,F){const X=[],J=[],oe=[];let ge=0;for(let de=m;de<=F;de++){const pe=this.lines[de],Ie=h?this._startColumns[de]:1,Re=h?this._endColumns[de]:pe.length+1;for(let De=Ie;De<Re;De++)X[ge]=pe.charCodeAt(De-1),J[ge]=de+1,oe[ge]=De,ge++;!h&&de<F&&(X[ge]=10,J[ge]=de+1,oe[ge]=pe.length+1,ge++)}return new Ne(X,J,oe)}};s(Un,"LineSequence");let Te=Un;const Pi=class Pi{constructor(h,m,F){this._charCodes=h,this._lineNumbers=m,this._columns=F}toString(){return"["+this._charCodes.map((h,m)=>(h===10?"\\n":String.fromCharCode(h))+`-(${this._lineNumbers[m]},${this._columns[m]})`).join(", ")+"]"}_assertIndex(h,m){if(h<0||h>=m.length)throw new Error("Illegal index")}getElements(){return this._charCodes}getStartLineNumber(h){return h>0&&h===this._lineNumbers.length?this.getEndLineNumber(h-1):(this._assertIndex(h,this._lineNumbers),this._lineNumbers[h])}getEndLineNumber(h){return h===-1?this.getStartLineNumber(h+1):(this._assertIndex(h,this._lineNumbers),this._charCodes[h]===10?this._lineNumbers[h]+1:this._lineNumbers[h])}getStartColumn(h){return h>0&&h===this._columns.length?this.getEndColumn(h-1):(this._assertIndex(h,this._columns),this._columns[h])}getEndColumn(h){return h===-1?this.getStartColumn(h+1):(this._assertIndex(h,this._columns),this._charCodes[h]===10?1:this._columns[h]+1)}};s(Pi,"CharSequence");let Ne=Pi;const Kn=class Kn{constructor(h,m,F,X,J,oe,ge,de){this.originalStartLineNumber=h,this.originalStartColumn=m,this.originalEndLineNumber=F,this.originalEndColumn=X,this.modifiedStartLineNumber=J,this.modifiedStartColumn=oe,this.modifiedEndLineNumber=ge,this.modifiedEndColumn=de}static createFromDiffChange(h,m,F){const X=m.getStartLineNumber(h.originalStart),J=m.getStartColumn(h.originalStart),oe=m.getEndLineNumber(h.originalStart+h.originalLength-1),ge=m.getEndColumn(h.originalStart+h.originalLength-1),de=F.getStartLineNumber(h.modifiedStart),pe=F.getStartColumn(h.modifiedStart),Ie=F.getEndLineNumber(h.modifiedStart+h.modifiedLength-1),Re=F.getEndColumn(h.modifiedStart+h.modifiedLength-1);return new Kn(X,J,oe,ge,de,pe,Ie,Re)}};s(Kn,"CharChange");let He=Kn;function Pe(ke){if(ke.length<=1)return ke;const h=[ke[0]];let m=h[0];for(let F=1,X=ke.length;F<X;F++){const J=ke[F],oe=J.originalStart-(m.originalStart+m.originalLength),ge=J.modifiedStart-(m.modifiedStart+m.modifiedLength);Math.min(oe,ge)<$?(m.originalLength=J.originalStart+J.originalLength-m.originalStart,m.modifiedLength=J.modifiedStart+J.modifiedLength-m.modifiedStart):(h.push(J),m=J)}return h}s(Pe,"postProcessCharChanges");const Ai=class Ai{constructor(h,m,F,X,J){this.originalStartLineNumber=h,this.originalEndLineNumber=m,this.modifiedStartLineNumber=F,this.modifiedEndLineNumber=X,this.charChanges=J}static createFromDiffResult(h,m,F,X,J,oe,ge){let de,pe,Ie,Re,De;if(m.originalLength===0?(de=F.getStartLineNumber(m.originalStart)-1,pe=0):(de=F.getStartLineNumber(m.originalStart),pe=F.getEndLineNumber(m.originalStart+m.originalLength-1)),m.modifiedLength===0?(Ie=X.getStartLineNumber(m.modifiedStart)-1,Re=0):(Ie=X.getStartLineNumber(m.modifiedStart),Re=X.getEndLineNumber(m.modifiedStart+m.modifiedLength-1)),oe&&m.originalLength>0&&m.originalLength<20&&m.modifiedLength>0&&m.modifiedLength<20&&J()){const Fe=F.createCharSequence(h,m.originalStart,m.originalStart+m.originalLength-1),Ve=X.createCharSequence(h,m.modifiedStart,m.modifiedStart+m.modifiedLength-1);if(Fe.getElements().length>0&&Ve.getElements().length>0){let Ye=ce(Fe,Ve,J,!0).changes;ge&&(Ye=Pe(Ye)),De=[];for(let ot=0,at=Ye.length;ot<at;ot++)De.push(He.createFromDiffChange(Ye[ot],Fe,Ve))}}return new Ai(de,pe,Ie,Re,De)}};s(Ai,"LineChange");let Xe=Ai;const Vn=class Vn{constructor(h,m,F){this.shouldComputeCharChanges=F.shouldComputeCharChanges,this.shouldPostProcessCharChanges=F.shouldPostProcessCharChanges,this.shouldIgnoreTrimWhitespace=F.shouldIgnoreTrimWhitespace,this.shouldMakePrettyDiff=F.shouldMakePrettyDiff,this.originalLines=h,this.modifiedLines=m,this.original=new Te(h),this.modified=new Te(m),this.continueLineDiff=$t(F.maxComputationTime),this.continueCharDiff=$t(F.maxComputationTime===0?0:Math.min(F.maxComputationTime,5e3))}computeDiff(){if(this.original.lines.length===1&&this.original.lines[0].length===0)return this.modified.lines.length===1&&this.modified.lines[0].length===0?{quitEarly:!1,changes:[]}:{quitEarly:!1,changes:[{originalStartLineNumber:1,originalEndLineNumber:1,modifiedStartLineNumber:1,modifiedEndLineNumber:this.modified.lines.length,charChanges:void 0}]};if(this.modified.lines.length===1&&this.modified.lines[0].length===0)return{quitEarly:!1,changes:[{originalStartLineNumber:1,originalEndLineNumber:this.original.lines.length,modifiedStartLineNumber:1,modifiedEndLineNumber:1,charChanges:void 0}]};const h=ce(this.original,this.modified,this.continueLineDiff,this.shouldMakePrettyDiff),m=h.changes,F=h.quitEarly;if(this.shouldIgnoreTrimWhitespace){const ge=[];for(let de=0,pe=m.length;de<pe;de++)ge.push(Xe.createFromDiffResult(this.shouldIgnoreTrimWhitespace,m[de],this.original,this.modified,this.continueCharDiff,this.shouldComputeCharChanges,this.shouldPostProcessCharChanges));return{quitEarly:F,changes:ge}}const X=[];let J=0,oe=0;for(let ge=-1,de=m.length;ge<de;ge++){const pe=ge+1<de?m[ge+1]:null,Ie=pe?pe.originalStart:this.originalLines.length,Re=pe?pe.modifiedStart:this.modifiedLines.length;for(;J<Ie&&oe<Re;){const De=this.originalLines[J],Fe=this.modifiedLines[oe];if(De!==Fe){{let Ve=dt(De,1),Ye=dt(Fe,1);for(;Ve>1&&Ye>1;){const ot=De.charCodeAt(Ve-2),at=Fe.charCodeAt(Ye-2);if(ot!==at)break;Ve--,Ye--}(Ve>1||Ye>1)&&this._pushTrimWhitespaceCharChange(X,J+1,1,Ve,oe+1,1,Ye)}{let Ve=Zt(De,1),Ye=Zt(Fe,1);const ot=De.length+1,at=Fe.length+1;for(;Ve<ot&&Ye<at;){const bt=De.charCodeAt(Ve-1),lt=De.charCodeAt(Ye-1);if(bt!==lt)break;Ve++,Ye++}(Ve<ot||Ye<at)&&this._pushTrimWhitespaceCharChange(X,J+1,Ve,ot,oe+1,Ye,at)}}J++,oe++}pe&&(X.push(Xe.createFromDiffResult(this.shouldIgnoreTrimWhitespace,pe,this.original,this.modified,this.continueCharDiff,this.shouldComputeCharChanges,this.shouldPostProcessCharChanges)),J+=pe.originalLength,oe+=pe.modifiedLength)}return{quitEarly:F,changes:X}}_pushTrimWhitespaceCharChange(h,m,F,X,J,oe,ge){if(this._mergeTrimWhitespaceCharChange(h,m,F,X,J,oe,ge))return;let de;this.shouldComputeCharChanges&&(de=[new He(m,F,m,X,J,oe,J,ge)]),h.push(new Xe(m,m,J,J,de))}_mergeTrimWhitespaceCharChange(h,m,F,X,J,oe,ge){const de=h.length;if(de===0)return!1;const pe=h[de-1];return pe.originalEndLineNumber===0||pe.modifiedEndLineNumber===0?!1:pe.originalEndLineNumber===m&&pe.modifiedEndLineNumber===J?(this.shouldComputeCharChanges&&pe.charChanges&&pe.charChanges.push(new He(m,F,m,X,J,oe,J,ge)),!0):pe.originalEndLineNumber+1===m&&pe.modifiedEndLineNumber+1===J?(pe.originalEndLineNumber=m,pe.modifiedEndLineNumber=J,this.shouldComputeCharChanges&&pe.charChanges&&pe.charChanges.push(new He(m,F,m,X,J,oe,J,ge)),!0):!1}};s(Vn,"DiffComputer");let xt=Vn;function dt(ke,h){const m=S.HG(ke);return m===-1?h:m+1}s(dt,"getFirstNonBlankColumn");function Zt(ke,h){const m=S.lT(ke);return m===-1?h:m+2}s(Zt,"getLastNonBlankColumn");function $t(ke){if(ke===0)return()=>!0;const h=Date.now();return()=>Date.now()-h<ke}s($t,"createContinueProcessingPredicate");var Pt=v(3338);const Li=class Li{static trivial(h,m){return new Li([new Rt(B.L.ofLength(h.length),B.L.ofLength(m.length))],!1)}static trivialTimedOut(h,m){return new Li([new Rt(B.L.ofLength(h.length),B.L.ofLength(m.length))],!0)}constructor(h,m){this.diffs=h,this.hitTimeout=m}};s(Li,"DiffAlgorithmResult");let Jt=Li;const on=class on{static invert(h,m){const F=[];return(0,Pt.pN)(h,(X,J)=>{F.push(on.fromOffsetPairs(X?X.getEndExclusives():Mt.zero,J?J.getStarts():new Mt(m,(X?X.seq2Range.endExclusive-X.seq1Range.endExclusive:0)+m)))}),F}static fromOffsetPairs(h,m){return new on(new B.L(h.offset1,m.offset1),new B.L(h.offset2,m.offset2))}static assertSorted(h){let m;for(const F of h){if(m&&!(m.seq1Range.endExclusive<=F.seq1Range.start&&m.seq2Range.endExclusive<=F.seq2Range.start))throw new c.D7("Sequence diffs must be sorted");m=F}}constructor(h,m){this.seq1Range=h,this.seq2Range=m}swap(){return new on(this.seq2Range,this.seq1Range)}toString(){return`${this.seq1Range} <-> ${this.seq2Range}`}join(h){return new on(this.seq1Range.join(h.seq1Range),this.seq2Range.join(h.seq2Range))}delta(h){return h===0?this:new on(this.seq1Range.delta(h),this.seq2Range.delta(h))}deltaStart(h){return h===0?this:new on(this.seq1Range.deltaStart(h),this.seq2Range.deltaStart(h))}deltaEnd(h){return h===0?this:new on(this.seq1Range.deltaEnd(h),this.seq2Range.deltaEnd(h))}intersect(h){const m=this.seq1Range.intersect(h.seq1Range),F=this.seq2Range.intersect(h.seq2Range);if(!(!m||!F))return new on(m,F)}getStarts(){return new Mt(this.seq1Range.start,this.seq2Range.start)}getEndExclusives(){return new Mt(this.seq1Range.endExclusive,this.seq2Range.endExclusive)}};s(on,"SequenceDiff");let Rt=on;const Xn=class Xn{constructor(h,m){this.offset1=h,this.offset2=m}toString(){return`${this.offset1} <-> ${this.offset2}`}delta(h){return h===0?this:new Xn(this.offset1+h,this.offset2+h)}equals(h){return this.offset1===h.offset1&&this.offset2===h.offset2}};s(Xn,"OffsetPair"),Xn.zero=new Xn(0,0),Xn.max=new Xn(Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER);let Mt=Xn;const xi=class xi{isValid(){return!0}};s(xi,"InfiniteTimeout"),xi.instance=new xi;let Wt=xi;const Ti=class Ti{constructor(h){if(this.timeout=h,this.startTime=Date.now(),this.valid=!0,h<=0)throw new c.D7("timeout must be positive")}isValid(){if(!(Date.now()-this.startTime<this.timeout)&&this.valid){this.valid=!1;debugger}return this.valid}};s(Ti,"DateTimeout");let Qt=Ti;const Bi=class Bi{constructor(h,m){this.width=h,this.height=m,this.array=[],this.array=new Array(h*m)}get(h,m){return this.array[h+m*this.width]}set(h,m,F){this.array[h+m*this.width]=F}};s(Bi,"Array2D");let Ot=Bi;function Xt(ke){return ke===32||ke===9}s(Xt,"isSpace");const oi=class oi{static getKey(h){let m=this.chrKeys.get(h);return m===void 0&&(m=this.chrKeys.size,this.chrKeys.set(h,m)),m}constructor(h,m,F){this.range=h,this.lines=m,this.source=F,this.histogram=[];let X=0;for(let J=h.startLineNumber-1;J<h.endLineNumberExclusive-1;J++){const oe=m[J];for(let de=0;de<oe.length;de++){X++;const pe=oe[de],Ie=oi.getKey(pe);this.histogram[Ie]=(this.histogram[Ie]||0)+1}X++;const ge=oi.getKey(`
`);this.histogram[ge]=(this.histogram[ge]||0)+1}this.totalCount=X}computeSimilarity(h){var X,J;let m=0;const F=Math.max(this.histogram.length,h.histogram.length);for(let oe=0;oe<F;oe++)m+=Math.abs(((X=this.histogram[oe])!=null?X:0)-((J=h.histogram[oe])!=null?J:0));return 1-m/(this.totalCount+h.totalCount)}};s(oi,"LineRangeFragment"),oi.chrKeys=new Map;let qt=oi;const Di=class Di{compute(h,m,F=Wt.instance,X){if(h.length===0||m.length===0)return Jt.trivial(h,m);const J=new Ot(h.length,m.length),oe=new Ot(h.length,m.length),ge=new Ot(h.length,m.length);for(let Ve=0;Ve<h.length;Ve++)for(let Ye=0;Ye<m.length;Ye++){if(!F.isValid())return Jt.trivialTimedOut(h,m);const ot=Ve===0?0:J.get(Ve-1,Ye),at=Ye===0?0:J.get(Ve,Ye-1);let bt;h.getElement(Ve)===m.getElement(Ye)?(Ve===0||Ye===0?bt=0:bt=J.get(Ve-1,Ye-1),Ve>0&&Ye>0&&oe.get(Ve-1,Ye-1)===3&&(bt+=ge.get(Ve-1,Ye-1)),bt+=X?X(Ve,Ye):1):bt=-1;const lt=Math.max(ot,at,bt);if(lt===bt){const wt=Ve>0&&Ye>0?ge.get(Ve-1,Ye-1):0;ge.set(Ve,Ye,wt+1),oe.set(Ve,Ye,3)}else lt===ot?(ge.set(Ve,Ye,0),oe.set(Ve,Ye,1)):lt===at&&(ge.set(Ve,Ye,0),oe.set(Ve,Ye,2));J.set(Ve,Ye,lt)}const de=[];let pe=h.length,Ie=m.length;function Re(Ve,Ye){(Ve+1!==pe||Ye+1!==Ie)&&de.push(new Rt(new B.L(Ve+1,pe),new B.L(Ye+1,Ie))),pe=Ve,Ie=Ye}s(Re,"reportDecreasingAligningPositions");let De=h.length-1,Fe=m.length-1;for(;De>=0&&Fe>=0;)oe.get(De,Fe)===3?(Re(De,Fe),De--,Fe--):oe.get(De,Fe)===1?De--:Fe--;return Re(-1,-1),de.reverse(),new Jt(de,!1)}};s(Di,"DynamicProgrammingDiffing");let nn=Di;const Ki=class Ki{compute(h,m,F=Wt.instance){if(h.length===0||m.length===0)return Jt.trivial(h,m);const X=h,J=m;function oe(Ye,ot){for(;Ye<X.length&&ot<J.length&&X.getElement(Ye)===J.getElement(ot);)Ye++,ot++;return Ye}s(oe,"getXAfterSnake");let ge=0;const de=new Yt;de.set(0,oe(0,0));const pe=new be;pe.set(0,de.get(0)===0?null:new Bt(null,0,0,de.get(0)));let Ie=0;e:for(;;){if(ge++,!F.isValid())return Jt.trivialTimedOut(X,J);const Ye=-Math.min(ge,J.length+ge%2),ot=Math.min(ge,X.length+ge%2);for(Ie=Ye;Ie<=ot;Ie+=2){let at=0;const bt=Ie===ot?-1:de.get(Ie+1),lt=Ie===Ye?-1:de.get(Ie-1)+1;at++;const wt=Math.min(Math.max(bt,lt),X.length),ft=wt-Ie;if(at++,wt>X.length||ft>J.length)continue;const Lt=oe(wt,ft);de.set(Ie,Lt);const gt=wt===bt?pe.get(Ie+1):pe.get(Ie-1);if(pe.set(Ie,Lt!==wt?new Bt(gt,wt,ft,Lt-wt):gt),de.get(Ie)===X.length&&de.get(Ie)-Ie===J.length)break e}}let Re=pe.get(Ie);const De=[];let Fe=X.length,Ve=J.length;for(;;){const Ye=Re?Re.x+Re.length:0,ot=Re?Re.y+Re.length:0;if((Ye!==Fe||ot!==Ve)&&De.push(new Rt(new B.L(Ye,Fe),new B.L(ot,Ve))),!Re)break;Fe=Re.x,Ve=Re.y,Re=Re.prev}return De.reverse(),new Jt(De,!1)}};s(Ki,"MyersDiffAlgorithm");let Gt=Ki;const Ri=class Ri{constructor(h,m,F,X){this.prev=h,this.x=m,this.y=F,this.length=X}};s(Ri,"SnakePath");let Bt=Ri;const vn=class vn{constructor(){this.positiveArr=new Int32Array(10),this.negativeArr=new Int32Array(10)}get(h){return h<0?(h=-h-1,this.negativeArr[h]):this.positiveArr[h]}set(h,m){if(h<0){if(h=-h-1,h>=this.negativeArr.length){const F=this.negativeArr;this.negativeArr=new Int32Array(F.length*2),this.negativeArr.set(F)}this.negativeArr[h]=m}else{if(h>=this.positiveArr.length){const F=this.positiveArr;this.positiveArr=new Int32Array(F.length*2),this.positiveArr.set(F)}this.positiveArr[h]=m}}};s(vn,"FastInt32Array");let Yt=vn;const wi=class wi{constructor(){this.positiveArr=[],this.negativeArr=[]}get(h){return h<0?(h=-h-1,this.negativeArr[h]):this.positiveArr[h]}set(h,m){h<0?(h=-h-1,this.negativeArr[h]=m):this.positiveArr[h]=m}};s(wi,"FastArrayNegativeIndices");let be=wi;var Ee=v(7393),n=v(7992);const Zn=class Zn{constructor(h,m,F){this.lines=h,this.range=m,this.considerWhitespaceChanges=F,this.elements=[],this.firstElementOffsetByLineIdx=[],this.lineStartOffsets=[],this.trimmedWsLengthsByLineIdx=[],this.firstElementOffsetByLineIdx.push(0);for(let X=this.range.startLineNumber;X<=this.range.endLineNumber;X++){let J=h[X-1],oe=0;X===this.range.startLineNumber&&this.range.startColumn>1&&(oe=this.range.startColumn-1,J=J.substring(oe)),this.lineStartOffsets.push(oe);let ge=0;if(!F){const pe=J.trimStart();ge=J.length-pe.length,J=pe.trimEnd()}this.trimmedWsLengthsByLineIdx.push(ge);const de=X===this.range.endLineNumber?Math.min(this.range.endColumn-1-oe-ge,J.length):J.length;for(let pe=0;pe<de;pe++)this.elements.push(J.charCodeAt(pe));X<this.range.endLineNumber&&(this.elements.push(10),this.firstElementOffsetByLineIdx.push(this.elements.length))}}toString(){return`Slice: "${this.text}"`}get text(){return this.getText(new B.L(0,this.length))}getText(h){return this.elements.slice(h.start,h.endExclusive).map(m=>String.fromCharCode(m)).join("")}getElement(h){return this.elements[h]}get length(){return this.elements.length}getBoundaryScore(h){const m=Ze(h>0?this.elements[h-1]:-1),F=Ze(h<this.elements.length?this.elements[h]:-1);if(m===7&&F===8)return 0;if(m===8)return 150;let X=0;return m!==F&&(X+=10,m===0&&F===1&&(X+=1)),X+=ze(m),X+=ze(F),X}translateOffset(h,m="right"){const F=(0,Ee.iM)(this.firstElementOffsetByLineIdx,J=>J<=h),X=h-this.firstElementOffsetByLineIdx[F];return new d.y(this.range.startLineNumber+F,1+this.lineStartOffsets[F]+X+(X===0&&m==="left"?0:this.trimmedWsLengthsByLineIdx[F]))}translateRange(h){const m=this.translateOffset(h.start,"right"),F=this.translateOffset(h.endExclusive,"left");return F.isBefore(m)?T.Q.fromPositions(F,F):T.Q.fromPositions(m,F)}findWordContaining(h){if(h<0||h>=this.elements.length||!tt(this.elements[h]))return;let m=h;for(;m>0&&tt(this.elements[m-1]);)m--;let F=h;for(;F<this.elements.length&&tt(this.elements[F]);)F++;return new B.L(m,F)}countLinesIn(h){return this.translateOffset(h.endExclusive).lineNumber-this.translateOffset(h.start).lineNumber}isStronglyEqual(h,m){return this.elements[h]===this.elements[m]}extendToFullLines(h){var X,J;const m=(X=(0,Ee.lx)(this.firstElementOffsetByLineIdx,oe=>oe<=h.start))!=null?X:0,F=(J=(0,Ee.XP)(this.firstElementOffsetByLineIdx,oe=>h.endExclusive<=oe))!=null?J:this.elements.length;return new B.L(m,F)}};s(Zn,"LinesSliceCharSequence");let je=Zn;function tt(ke){return ke>=97&&ke<=122||ke>=65&&ke<=90||ke>=48&&ke<=57}s(tt,"isWordChar");const $e={0:0,1:0,2:0,3:10,4:2,5:30,6:3,7:10,8:10};function ze(ke){return $e[ke]}s(ze,"getCategoryBoundaryScore");function Ze(ke){return ke===10?8:ke===13?7:Xt(ke)?6:ke>=97&&ke<=122?0:ke>=65&&ke<=90?1:ke>=48&&ke<=57?2:ke===-1?3:ke===44||ke===59?5:4}s(Ze,"getCategory");function Ge(ke,h,m,F,X,J){let{moves:oe,excludedChanges:ge}=et(ke,h,m,J);if(!J.isValid())return[];const de=ke.filter(Ie=>!ge.has(Ie)),pe=mt(de,F,X,h,m,J);return(0,Pt.E4)(oe,pe),oe=At(oe),oe=oe.filter(Ie=>{const Re=Ie.original.toOffsetRange().slice(h).map(Fe=>Fe.trim());return Re.join(`
`).length>=15&&Qe(Re,Fe=>Fe.length>=2)>=2}),oe=nt(ke,oe),oe}s(Ge,"computeMovedLines");function Qe(ke,h){let m=0;for(const F of ke)h(F)&&m++;return m}s(Qe,"countWhere");function et(ke,h,m,F){const X=[],J=ke.filter(de=>de.modified.isEmpty&&de.original.length>=3).map(de=>new qt(de.original,h,de)),oe=new Set(ke.filter(de=>de.original.isEmpty&&de.modified.length>=3).map(de=>new qt(de.modified,m,de))),ge=new Set;for(const de of J){let pe=-1,Ie;for(const Re of oe){const De=de.computeSimilarity(Re);De>pe&&(pe=De,Ie=Re)}if(pe>.9&&Ie&&(oe.delete(Ie),X.push(new we(de.range,Ie.range)),ge.add(de.source),ge.add(Ie.source)),!F.isValid())return{moves:X,excludedChanges:ge}}return{moves:X,excludedChanges:ge}}s(et,"computeMovesFromSimpleDeletionsToSimpleInsertions");function mt(ke,h,m,F,X,J){const oe=[],ge=new n.db;for(const De of ke)for(let Fe=De.original.startLineNumber;Fe<De.original.endLineNumberExclusive-2;Fe++){const Ve=`${h[Fe-1]}:${h[Fe+1-1]}:${h[Fe+2-1]}`;ge.add(Ve,{range:new f.M(Fe,Fe+3)})}const de=[];ke.sort((0,Pt.VE)(De=>De.modified.startLineNumber,Pt.U9));for(const De of ke){let Fe=[];for(let Ve=De.modified.startLineNumber;Ve<De.modified.endLineNumberExclusive-2;Ve++){const Ye=`${m[Ve-1]}:${m[Ve+1-1]}:${m[Ve+2-1]}`,ot=new f.M(Ve,Ve+3),at=[];ge.forEach(Ye,({range:bt})=>{for(const wt of Fe)if(wt.originalLineRange.endLineNumberExclusive+1===bt.endLineNumberExclusive&&wt.modifiedLineRange.endLineNumberExclusive+1===ot.endLineNumberExclusive){wt.originalLineRange=new f.M(wt.originalLineRange.startLineNumber,bt.endLineNumberExclusive),wt.modifiedLineRange=new f.M(wt.modifiedLineRange.startLineNumber,ot.endLineNumberExclusive),at.push(wt);return}const lt={modifiedLineRange:ot,originalLineRange:bt};de.push(lt),at.push(lt)}),Fe=at}if(!J.isValid())return[]}de.sort((0,Pt.Hw)((0,Pt.VE)(De=>De.modifiedLineRange.length,Pt.U9)));const pe=new f.S,Ie=new f.S;for(const De of de){const Fe=De.modifiedLineRange.startLineNumber-De.originalLineRange.startLineNumber,Ve=pe.subtractFrom(De.modifiedLineRange),Ye=Ie.subtractFrom(De.originalLineRange).getWithDelta(Fe),ot=Ve.getIntersection(Ye);for(const at of ot.ranges){if(at.length<3)continue;const bt=at,lt=at.delta(-Fe);oe.push(new we(lt,bt)),pe.addRange(bt),Ie.addRange(lt)}}oe.sort((0,Pt.VE)(De=>De.original.startLineNumber,Pt.U9));const Re=new Ee.vJ(ke);for(let De=0;De<oe.length;De++){const Fe=oe[De],Ve=Re.findLastMonotonous(Lt=>Lt.original.startLineNumber<=Fe.original.startLineNumber),Ye=(0,Ee.lx)(ke,Lt=>Lt.modified.startLineNumber<=Fe.modified.startLineNumber),ot=Math.max(Fe.original.startLineNumber-Ve.original.startLineNumber,Fe.modified.startLineNumber-Ye.modified.startLineNumber),at=Re.findLastMonotonous(Lt=>Lt.original.startLineNumber<Fe.original.endLineNumberExclusive),bt=(0,Ee.lx)(ke,Lt=>Lt.modified.startLineNumber<Fe.modified.endLineNumberExclusive),lt=Math.max(at.original.endLineNumberExclusive-Fe.original.endLineNumberExclusive,bt.modified.endLineNumberExclusive-Fe.modified.endLineNumberExclusive);let wt;for(wt=0;wt<ot;wt++){const Lt=Fe.original.startLineNumber-wt-1,gt=Fe.modified.startLineNumber-wt-1;if(Lt>F.length||gt>X.length||pe.contains(gt)||Ie.contains(Lt)||!Ct(F[Lt-1],X[gt-1],J))break}wt>0&&(Ie.addRange(new f.M(Fe.original.startLineNumber-wt,Fe.original.startLineNumber)),pe.addRange(new f.M(Fe.modified.startLineNumber-wt,Fe.modified.startLineNumber)));let ft;for(ft=0;ft<lt;ft++){const Lt=Fe.original.endLineNumberExclusive+ft,gt=Fe.modified.endLineNumberExclusive+ft;if(Lt>F.length||gt>X.length||pe.contains(gt)||Ie.contains(Lt)||!Ct(F[Lt-1],X[gt-1],J))break}ft>0&&(Ie.addRange(new f.M(Fe.original.endLineNumberExclusive,Fe.original.endLineNumberExclusive+ft)),pe.addRange(new f.M(Fe.modified.endLineNumberExclusive,Fe.modified.endLineNumberExclusive+ft))),(wt>0||ft>0)&&(oe[De]=new we(new f.M(Fe.original.startLineNumber-wt,Fe.original.endLineNumberExclusive+ft),new f.M(Fe.modified.startLineNumber-wt,Fe.modified.endLineNumberExclusive+ft)))}return oe}s(mt,"computeUnchangedMoves");function Ct(ke,h,m){if(ke.trim()===h.trim())return!0;if(ke.length>300&&h.length>300)return!1;const X=new Gt().compute(new je([ke],new T.Q(1,1,1,ke.length),!1),new je([h],new T.Q(1,1,1,h.length),!1),m);let J=0;const oe=Rt.invert(X.diffs,ke.length);for(const Ie of oe)Ie.seq1Range.forEach(Re=>{Xt(ke.charCodeAt(Re))||J++});function ge(Ie){let Re=0;for(let De=0;De<ke.length;De++)Xt(Ie.charCodeAt(De))||Re++;return Re}s(ge,"countNonWsChars");const de=ge(ke.length>h.length?ke:h);return J/de>.6&&de>10}s(Ct,"areLinesSimilar");function At(ke){if(ke.length===0)return ke;ke.sort((0,Pt.VE)(m=>m.original.startLineNumber,Pt.U9));const h=[ke[0]];for(let m=1;m<ke.length;m++){const F=h[h.length-1],X=ke[m],J=X.original.startLineNumber-F.original.endLineNumberExclusive,oe=X.modified.startLineNumber-F.modified.endLineNumberExclusive;if(J>=0&&oe>=0&&J+oe<=2){h[h.length-1]=F.join(X);continue}h.push(X)}return h}s(At,"joinCloseConsecutiveMoves");function nt(ke,h){const m=new Ee.vJ(ke);return h=h.filter(F=>{const X=m.findLastMonotonous(ge=>ge.original.startLineNumber<F.original.endLineNumberExclusive)||new we(new f.M(1,1),new f.M(1,1)),J=(0,Ee.lx)(ke,ge=>ge.modified.startLineNumber<F.modified.endLineNumberExclusive);return X!==J}),h}s(nt,"removeMovesInSameDiff");function w(ke,h,m){let F=m;return F=fe(ke,h,F),F=fe(ke,h,F),F=Ue(ke,h,F),F}s(w,"optimizeSequenceDiffs");function fe(ke,h,m){if(m.length===0)return m;const F=[];F.push(m[0]);for(let J=1;J<m.length;J++){const oe=F[F.length-1];let ge=m[J];if(ge.seq1Range.isEmpty||ge.seq2Range.isEmpty){const de=ge.seq1Range.start-oe.seq1Range.endExclusive;let pe;for(pe=1;pe<=de&&!(ke.getElement(ge.seq1Range.start-pe)!==ke.getElement(ge.seq1Range.endExclusive-pe)||h.getElement(ge.seq2Range.start-pe)!==h.getElement(ge.seq2Range.endExclusive-pe));pe++);if(pe--,pe===de){F[F.length-1]=new Rt(new B.L(oe.seq1Range.start,ge.seq1Range.endExclusive-de),new B.L(oe.seq2Range.start,ge.seq2Range.endExclusive-de));continue}ge=ge.delta(-pe)}F.push(ge)}const X=[];for(let J=0;J<F.length-1;J++){const oe=F[J+1];let ge=F[J];if(ge.seq1Range.isEmpty||ge.seq2Range.isEmpty){const de=oe.seq1Range.start-ge.seq1Range.endExclusive;let pe;for(pe=0;pe<de&&!(!ke.isStronglyEqual(ge.seq1Range.start+pe,ge.seq1Range.endExclusive+pe)||!h.isStronglyEqual(ge.seq2Range.start+pe,ge.seq2Range.endExclusive+pe));pe++);if(pe===de){F[J+1]=new Rt(new B.L(ge.seq1Range.start+de,oe.seq1Range.endExclusive),new B.L(ge.seq2Range.start+de,oe.seq2Range.endExclusive));continue}pe>0&&(ge=ge.delta(pe))}X.push(ge)}return F.length>0&&X.push(F[F.length-1]),X}s(fe,"joinSequenceDiffsByShifting");function Ue(ke,h,m){if(!ke.getBoundaryScore||!h.getBoundaryScore)return m;for(let F=0;F<m.length;F++){const X=F>0?m[F-1]:void 0,J=m[F],oe=F+1<m.length?m[F+1]:void 0,ge=new B.L(X?X.seq1Range.endExclusive+1:0,oe?oe.seq1Range.start-1:ke.length),de=new B.L(X?X.seq2Range.endExclusive+1:0,oe?oe.seq2Range.start-1:h.length);J.seq1Range.isEmpty?m[F]=Oe(J,ke,h,ge,de):J.seq2Range.isEmpty&&(m[F]=Oe(J.swap(),h,ke,de,ge).swap())}return m}s(Ue,"shiftSequenceDiffs");function Oe(ke,h,m,F,X){let oe=1;for(;ke.seq1Range.start-oe>=F.start&&ke.seq2Range.start-oe>=X.start&&m.isStronglyEqual(ke.seq2Range.start-oe,ke.seq2Range.endExclusive-oe)&&oe<100;)oe++;oe--;let ge=0;for(;ke.seq1Range.start+ge<F.endExclusive&&ke.seq2Range.endExclusive+ge<X.endExclusive&&m.isStronglyEqual(ke.seq2Range.start+ge,ke.seq2Range.endExclusive+ge)&&ge<100;)ge++;if(oe===0&&ge===0)return ke;let de=0,pe=-1;for(let Ie=-oe;Ie<=ge;Ie++){const Re=ke.seq2Range.start+Ie,De=ke.seq2Range.endExclusive+Ie,Fe=ke.seq1Range.start+Ie,Ve=h.getBoundaryScore(Fe)+m.getBoundaryScore(Re)+m.getBoundaryScore(De);Ve>pe&&(pe=Ve,de=Ie)}return ke.delta(de)}s(Oe,"shiftDiffToBetterPosition");function It(ke,h,m){const F=[];for(const X of m){const J=F[F.length-1];if(!J){F.push(X);continue}X.seq1Range.start-J.seq1Range.endExclusive<=2||X.seq2Range.start-J.seq2Range.endExclusive<=2?F[F.length-1]=new Rt(J.seq1Range.join(X.seq1Range),J.seq2Range.join(X.seq2Range)):F.push(X)}return F}s(It,"removeShortMatches");function rt(ke,h,m){const F=Rt.invert(m,ke.length),X=[];let J=new Mt(0,0);function oe(de,pe){if(de.offset1<J.offset1||de.offset2<J.offset2)return;const Ie=ke.findWordContaining(de.offset1),Re=h.findWordContaining(de.offset2);if(!Ie||!Re)return;let De=new Rt(Ie,Re);const Fe=De.intersect(pe);let Ve=Fe.seq1Range.length,Ye=Fe.seq2Range.length;for(;F.length>0;){const ot=F[0];if(!(ot.seq1Range.intersects(De.seq1Range)||ot.seq2Range.intersects(De.seq2Range)))break;const bt=ke.findWordContaining(ot.seq1Range.start),lt=h.findWordContaining(ot.seq2Range.start),wt=new Rt(bt,lt),ft=wt.intersect(ot);if(Ve+=ft.seq1Range.length,Ye+=ft.seq2Range.length,De=De.join(wt),De.seq1Range.endExclusive>=ot.seq1Range.endExclusive)F.shift();else break}Ve+Ye<(De.seq1Range.length+De.seq2Range.length)*2/3&&X.push(De),J=De.getEndExclusives()}for(s(oe,"scanWord");F.length>0;){const de=F.shift();de.seq1Range.isEmpty||(oe(de.getStarts(),de),oe(de.getEndExclusives().delta(-1),de))}return _t(m,X)}s(rt,"extendDiffsToEntireWordIfAppropriate");function _t(ke,h){const m=[];for(;ke.length>0||h.length>0;){const F=ke[0],X=h[0];let J;F&&(!X||F.seq1Range.start<X.seq1Range.start)?J=ke.shift():J=h.shift(),m.length>0&&m[m.length-1].seq1Range.endExclusive>=J.seq1Range.start?m[m.length-1]=m[m.length-1].join(J):m.push(J)}return m}s(_t,"mergeSequenceDiffs");function Dt(ke,h,m){let F=m;if(F.length===0)return F;let X=0,J;do{J=!1;const oe=[F[0]];for(let ge=1;ge<F.length;ge++){let Ie=function(De,Fe){const Ve=new B.L(pe.seq1Range.endExclusive,de.seq1Range.start);return ke.getText(Ve).replace(/\s/g,"").length<=4&&(De.seq1Range.length+De.seq2Range.length>5||Fe.seq1Range.length+Fe.seq2Range.length>5)};s(Ie,"shouldJoinDiffs");const de=F[ge],pe=oe[oe.length-1];Ie(pe,de)?(J=!0,oe[oe.length-1]=oe[oe.length-1].join(de)):oe.push(de)}F=oe}while(X++<10&&J);return F}s(Dt,"removeVeryShortMatchingLinesBetweenDiffs");function _n(ke,h,m){let F=m;if(F.length===0)return F;let X=0,J;do{J=!1;const ge=[F[0]];for(let de=1;de<F.length;de++){let Re=function(Fe,Ve){const Ye=new B.L(Ie.seq1Range.endExclusive,pe.seq1Range.start);if(ke.countLinesIn(Ye)>5||Ye.length>500)return!1;const at=ke.getText(Ye).trim();if(at.length>20||at.split(/\r\n|\r|\n/).length>1)return!1;const bt=ke.countLinesIn(Fe.seq1Range),lt=Fe.seq1Range.length,wt=h.countLinesIn(Fe.seq2Range),ft=Fe.seq2Range.length,Lt=ke.countLinesIn(Ve.seq1Range),gt=Ve.seq1Range.length,it=h.countLinesIn(Ve.seq2Range),Tt=Ve.seq2Range.length,vt=2*40+50;function Ht(Nt){return Math.min(Nt,vt)}return s(Ht,"cap"),Math.pow(Math.pow(Ht(bt*40+lt),1.5)+Math.pow(Ht(wt*40+ft),1.5),1.5)+Math.pow(Math.pow(Ht(Lt*40+gt),1.5)+Math.pow(Ht(it*40+Tt),1.5),1.5)>(vt**1.5)**1.5*1.3};s(Re,"shouldJoinDiffs");const pe=F[de],Ie=ge[ge.length-1];Re(Ie,pe)?(J=!0,ge[ge.length-1]=ge[ge.length-1].join(pe)):ge.push(pe)}F=ge}while(X++<10&&J);const oe=[];return(0,Pt.kj)(F,(ge,de,pe)=>{let Ie=de;function Re(at){return at.length>0&&at.trim().length<=3&&de.seq1Range.length+de.seq2Range.length>100}s(Re,"shouldMarkAsChanged");const De=ke.extendToFullLines(de.seq1Range),Fe=ke.getText(new B.L(De.start,de.seq1Range.start));Re(Fe)&&(Ie=Ie.deltaStart(-Fe.length));const Ve=ke.getText(new B.L(de.seq1Range.endExclusive,De.endExclusive));Re(Ve)&&(Ie=Ie.deltaEnd(Ve.length));const Ye=Rt.fromOffsetPairs(ge?ge.getEndExclusives():Mt.zero,pe?pe.getStarts():Mt.max),ot=Ie.intersect(Ye);oe.length>0&&ot.getStarts().equals(oe[oe.length-1].getEndExclusives())?oe[oe.length-1]=oe[oe.length-1].join(ot):oe.push(ot)}),oe}s(_n,"removeVeryShortMatchingTextBetweenLongDiffs");const Wi=class Wi{constructor(h,m){this.trimmedHash=h,this.lines=m}getElement(h){return this.trimmedHash[h]}get length(){return this.trimmedHash.length}getBoundaryScore(h){const m=h===0?0:Ut(this.lines[h-1]),F=h===this.lines.length?0:Ut(this.lines[h]);return 1e3-(m+F)}getText(h){return this.lines.slice(h.start,h.endExclusive).join(`
`)}isStronglyEqual(h,m){return this.lines[h]===this.lines[m]}};s(Wi,"lineSequence_LineSequence");let dn=Wi;function Ut(ke){let h=0;for(;h<ke.length&&(ke.charCodeAt(h)===32||ke.charCodeAt(h)===9);)h++;return h}s(Ut,"getIndentation");const Si=class Si{constructor(){this.dynamicProgrammingDiffing=new nn,this.myersDiffingAlgorithm=new Gt}computeDiff(h,m,F){if(h.length<=1&&(0,Pt.aI)(h,m,(ft,Lt)=>ft===Lt))return new he([],[],!1);if(h.length===1&&h[0].length===0||m.length===1&&m[0].length===0)return new he([new z(new f.M(1,h.length+1),new f.M(1,m.length+1),[new b(new T.Q(1,1,h.length,h[h.length-1].length+1),new T.Q(1,1,m.length,m[m.length-1].length+1))])],[],!1);const X=F.maxComputationTimeMs===0?Wt.instance:new Qt(F.maxComputationTimeMs),J=!F.ignoreTrimWhitespace,oe=new Map;function ge(ft){let Lt=oe.get(ft);return Lt===void 0&&(Lt=oe.size,oe.set(ft,Lt)),Lt}s(ge,"getOrCreateHash");const de=h.map(ft=>ge(ft.trim())),pe=m.map(ft=>ge(ft.trim())),Ie=new dn(de,h),Re=new dn(pe,m),De=Ie.length+Re.length<1700?this.dynamicProgrammingDiffing.compute(Ie,Re,X,(ft,Lt)=>h[ft]===m[Lt]?m[Lt].length===0?.1:1+Math.log(1+m[Lt].length):.99):this.myersDiffingAlgorithm.compute(Ie,Re,X);let Fe=De.diffs,Ve=De.hitTimeout;Fe=w(Ie,Re,Fe),Fe=Dt(Ie,Re,Fe);const Ye=[],ot=s(ft=>{if(J)for(let Lt=0;Lt<ft;Lt++){const gt=at+Lt,it=bt+Lt;if(h[gt]!==m[it]){const Tt=this.refineDiff(h,m,new Rt(new B.L(gt,gt+1),new B.L(it,it+1)),X,J);for(const vt of Tt.mappings)Ye.push(vt);Tt.hitTimeout&&(Ve=!0)}}},"scanForWhitespaceChanges");let at=0,bt=0;for(const ft of Fe){(0,x.Ft)(()=>ft.seq1Range.start-at===ft.seq2Range.start-bt);const Lt=ft.seq1Range.start-at;ot(Lt),at=ft.seq1Range.endExclusive,bt=ft.seq2Range.endExclusive;const gt=this.refineDiff(h,m,ft,X,J);gt.hitTimeout&&(Ve=!0);for(const it of gt.mappings)Ye.push(it)}ot(h.length-at);const lt=hi(Ye,h,m);let wt=[];return F.computeMoves&&(wt=this.computeMoves(lt,h,m,de,pe,X,J)),(0,x.Ft)(()=>{function ft(gt,it){if(gt.lineNumber<1||gt.lineNumber>it.length)return!1;const Tt=it[gt.lineNumber-1];return!(gt.column<1||gt.column>Tt.length+1)}s(ft,"validatePosition");function Lt(gt,it){return!(gt.startLineNumber<1||gt.startLineNumber>it.length+1||gt.endLineNumberExclusive<1||gt.endLineNumberExclusive>it.length+1)}s(Lt,"validateRange");for(const gt of lt){if(!gt.innerChanges)return!1;for(const it of gt.innerChanges)if(!(ft(it.modifiedRange.getStartPosition(),m)&&ft(it.modifiedRange.getEndPosition(),m)&&ft(it.originalRange.getStartPosition(),h)&&ft(it.originalRange.getEndPosition(),h)))return!1;if(!Lt(gt.modified,m)||!Lt(gt.original,h))return!1}return!0}),new he(lt,wt,Ve)}computeMoves(h,m,F,X,J,oe,ge){return Ge(h,m,F,X,J,oe).map(Ie=>{const Re=this.refineDiff(m,F,new Rt(Ie.original.toOffsetRange(),Ie.modified.toOffsetRange()),oe,ge),De=hi(Re.mappings,m,F,!0);return new I(Ie,De)})}refineDiff(h,m,F,X,J){const ge=Mn(F).toRangeMapping2(h,m),de=new je(h,ge.originalRange,J),pe=new je(m,ge.modifiedRange,J),Ie=de.length+pe.length<500?this.dynamicProgrammingDiffing.compute(de,pe,X):this.myersDiffingAlgorithm.compute(de,pe,X),Re=!1;let De=Ie.diffs;Re&&Rt.assertSorted(De),De=w(de,pe,De),Re&&Rt.assertSorted(De),De=rt(de,pe,De),Re&&Rt.assertSorted(De),De=It(de,pe,De),Re&&Rt.assertSorted(De),De=_n(de,pe,De),Re&&Rt.assertSorted(De);const Fe=De.map(Ve=>new b(de.translateRange(Ve.seq1Range),pe.translateRange(Ve.seq2Range)));return Re&&b.assertSorted(Fe),{mappings:Fe,hitTimeout:Ie.hitTimeout}}};s(Si,"DefaultLinesDiffComputer");let cn=Si;function hi(ke,h,m,F=!1){const X=[];for(const J of(0,Pt.n)(ke.map(oe=>Rn(oe,h,m)),(oe,ge)=>oe.original.overlapOrTouch(ge.original)||oe.modified.overlapOrTouch(ge.modified))){const oe=J[0],ge=J[J.length-1];X.push(new z(oe.original.join(ge.original),oe.modified.join(ge.modified),J.map(de=>de.innerChanges[0])))}return(0,x.Ft)(()=>!F&&X.length>0&&(X[0].modified.startLineNumber!==X[0].original.startLineNumber||m.length-X[X.length-1].modified.endLineNumberExclusive!==h.length-X[X.length-1].original.endLineNumberExclusive)?!1:(0,x.Xo)(X,(J,oe)=>oe.original.startLineNumber-J.original.endLineNumberExclusive===oe.modified.startLineNumber-J.modified.endLineNumberExclusive&&J.original.endLineNumberExclusive<oe.original.startLineNumber&&J.modified.endLineNumberExclusive<oe.modified.startLineNumber)),X}s(hi,"lineRangeMappingFromRangeMappings");function Rn(ke,h,m){let F=0,X=0;ke.modifiedRange.endColumn===1&&ke.originalRange.endColumn===1&&ke.originalRange.startLineNumber+F<=ke.originalRange.endLineNumber&&ke.modifiedRange.startLineNumber+F<=ke.modifiedRange.endLineNumber&&(X=-1),ke.modifiedRange.startColumn-1>=m[ke.modifiedRange.startLineNumber-1].length&&ke.originalRange.startColumn-1>=h[ke.originalRange.startLineNumber-1].length&&ke.originalRange.startLineNumber<=ke.originalRange.endLineNumber+X&&ke.modifiedRange.startLineNumber<=ke.modifiedRange.endLineNumber+X&&(F=1);const J=new f.M(ke.originalRange.startLineNumber+F,ke.originalRange.endLineNumber+1+X),oe=new f.M(ke.modifiedRange.startLineNumber+F,ke.modifiedRange.endLineNumber+1+X);return new z(J,oe,[ke])}s(Rn,"getLineRangeMapping");function Mn(ke){return new we(new f.M(ke.seq1Range.start+1,ke.seq1Range.endExclusive+1),new f.M(ke.seq2Range.start+1,ke.seq2Range.endExclusive+1))}s(Mn,"toLineRangeMapping");const bn={getLegacy:s(()=>new te,"getLegacy"),getDefault:s(()=>new cn,"getDefault")};var wn=v(1386),On=v(3072),mn=v(4901);function vi(ke){const h=[];for(const m of ke){const F=Number(m);(F||F===0&&m.replace(/\s/g,"")!=="")&&h.push(F)}return h}s(vi,"_parseCaptureGroups");function Sn(ke,h,m,F){return{red:ke/255,blue:m/255,green:h/255,alpha:F}}s(Sn,"_toIColor");function En(ke,h){const m=h.index,F=h[0].length;if(!m)return;const X=ke.positionAt(m);return{startLineNumber:X.lineNumber,startColumn:X.column,endLineNumber:X.lineNumber,endColumn:X.column+F}}s(En,"_findRange");function Gn(ke,h){if(!ke)return;const m=mn.Q1.Format.CSS.parseHex(h);if(m)return{range:ke,color:Sn(m.rgba.r,m.rgba.g,m.rgba.b,m.rgba.a)}}s(Gn,"_findHexColorInformation");function yn(ke,h,m){if(!ke||h.length!==1)return;const X=h[0].values(),J=vi(X);return{range:ke,color:Sn(J[0],J[1],J[2],m?J[3]:1)}}s(yn,"_findRGBColorInformation");function sn(ke,h,m){if(!ke||h.length!==1)return;const X=h[0].values(),J=vi(X),oe=new mn.Q1(new mn.hB(J[0],J[1]/100,J[2]/100,m?J[3]:1));return{range:ke,color:Sn(oe.rgba.r,oe.rgba.g,oe.rgba.b,oe.rgba.a)}}s(sn,"_findHSLColorInformation");function Fn(ke,h){return typeof ke=="string"?[...ke.matchAll(h)]:ke.findMatches(h)}s(Fn,"_findMatches");function di(ke){const h=[],F=Fn(ke,/\b(rgb|rgba|hsl|hsla)(\([0-9\s,.\%]*\))|(#)([A-Fa-f0-9]{3})\b|(#)([A-Fa-f0-9]{4})\b|(#)([A-Fa-f0-9]{6})\b|(#)([A-Fa-f0-9]{8})\b/gm);if(F.length>0)for(const X of F){const J=X.filter(pe=>pe!==void 0),oe=J[1],ge=J[2];if(!ge)continue;let de;if(oe==="rgb"){const pe=/^\(\s*(25[0-5]|2[0-4][0-9]|1[0-9]{2}|[1-9][0-9]|[0-9])\s*,\s*(25[0-5]|2[0-4][0-9]|1[0-9]{2}|[1-9][0-9]|[0-9])\s*,\s*(25[0-5]|2[0-4][0-9]|1[0-9]{2}|[1-9][0-9]|[0-9])\s*\)$/gm;de=yn(En(ke,X),Fn(ge,pe),!1)}else if(oe==="rgba"){const pe=/^\(\s*(25[0-5]|2[0-4][0-9]|1[0-9]{2}|[1-9][0-9]|[0-9])\s*,\s*(25[0-5]|2[0-4][0-9]|1[0-9]{2}|[1-9][0-9]|[0-9])\s*,\s*(25[0-5]|2[0-4][0-9]|1[0-9]{2}|[1-9][0-9]|[0-9])\s*,\s*(0[.][0-9]+|[.][0-9]+|[01][.]|[01])\s*\)$/gm;de=yn(En(ke,X),Fn(ge,pe),!0)}else if(oe==="hsl"){const pe=/^\(\s*(36[0]|3[0-5][0-9]|[12][0-9][0-9]|[1-9]?[0-9])\s*,\s*(100|\d{1,2}[.]\d*|\d{1,2})%\s*,\s*(100|\d{1,2}[.]\d*|\d{1,2})%\s*\)$/gm;de=sn(En(ke,X),Fn(ge,pe),!1)}else if(oe==="hsla"){const pe=/^\(\s*(36[0]|3[0-5][0-9]|[12][0-9][0-9]|[1-9]?[0-9])\s*,\s*(100|\d{1,2}[.]\d*|\d{1,2})%\s*,\s*(100|\d{1,2}[.]\d*|\d{1,2})%\s*,\s*(0[.][0-9]+|[.][0-9]+|[01][.]|[01])\s*\)$/gm;de=sn(En(ke,X),Fn(ge,pe),!0)}else oe==="#"&&(de=Gn(En(ke,X),oe+ge));de&&h.push(de)}return h}s(di,"computeColors");function Qn(ke){return!ke||typeof ke.getValue!="function"||typeof ke.positionAt!="function"?[]:di(ke)}s(Qn,"computeDefaultDocumentColors");var ii=v(9307),ln=v(1305);const qn=!0,Jn=class Jn{constructor(){this._workerTextModelSyncServer=new ln.WorkerTextModelSyncServer}dispose(){}_getModel(h){return this._workerTextModelSyncServer.getModel(h)}_getModels(){return this._workerTextModelSyncServer.getModels()}$acceptNewModel(h){this._workerTextModelSyncServer.$acceptNewModel(h)}$acceptModelChanged(h,m){this._workerTextModelSyncServer.$acceptModelChanged(h,m)}$acceptRemovedModel(h){this._workerTextModelSyncServer.$acceptRemovedModel(h)}async $computeUnicodeHighlights(h,m,F){const X=this._getModel(h);return X?xe.UnicodeTextModelHighlighter.computeUnicodeHighlights(X,m,F):{ranges:[],hasMore:!1,ambiguousCharacterCount:0,invisibleCharacterCount:0,nonBasicAsciiCharacterCount:0}}async $findSectionHeaders(h,m){const F=this._getModel(h);return F?(0,ii.findSectionHeaders)(F,m):[]}async $computeDiff(h,m,F,X){const J=this._getModel(h),oe=this._getModel(m);return!J||!oe?null:fn.computeDiff(J,oe,F,X)}static computeDiff(h,m,F,X){const J=X==="advanced"?bn.getDefault():bn.getLegacy(),oe=h.getLinesContent(),ge=m.getLinesContent(),de=J.computeDiff(oe,ge,F),pe=de.changes.length>0?!1:this._modelsAreIdentical(h,m);function Ie(Re){return Re.map(De=>{var Fe;return[De.original.startLineNumber,De.original.endLineNumberExclusive,De.modified.startLineNumber,De.modified.endLineNumberExclusive,(Fe=De.innerChanges)==null?void 0:Fe.map(Ve=>[Ve.originalRange.startLineNumber,Ve.originalRange.startColumn,Ve.originalRange.endLineNumber,Ve.originalRange.endColumn,Ve.modifiedRange.startLineNumber,Ve.modifiedRange.startColumn,Ve.modifiedRange.endLineNumber,Ve.modifiedRange.endColumn])]})}return s(Ie,"getLineChanges"),{identical:pe,quitEarly:de.hitTimeout,changes:Ie(de.changes),moves:de.moves.map(Re=>[Re.lineRangeMapping.original.startLineNumber,Re.lineRangeMapping.original.endLineNumberExclusive,Re.lineRangeMapping.modified.startLineNumber,Re.lineRangeMapping.modified.endLineNumberExclusive,Ie(Re.changes)])}}static _modelsAreIdentical(h,m){const F=h.getLineCount(),X=m.getLineCount();if(F!==X)return!1;for(let J=1;J<=F;J++){const oe=h.getLineContent(J),ge=m.getLineContent(J);if(oe!==ge)return!1}return!0}async $computeMoreMinimalEdits(h,m,F){const X=this._getModel(h);if(!X)return m;const J=[];let oe;m=m.slice(0).sort((de,pe)=>{if(de.range&&pe.range)return T.Q.compareRangesUsingStarts(de.range,pe.range);const Ie=de.range?0:1,Re=pe.range?0:1;return Ie-Re});let ge=0;for(let de=1;de<m.length;de++)T.Q.getEndPosition(m[ge].range).equals(T.Q.getStartPosition(m[de].range))?(m[ge].range=T.Q.fromPositions(T.Q.getStartPosition(m[ge].range),T.Q.getEndPosition(m[de].range)),m[ge].text+=m[de].text):(ge++,m[ge]=m[de]);m.length=ge+1;for(let{range:de,text:pe,eol:Ie}of m){if(typeof Ie=="number"&&(oe=Ie),T.Q.isEmpty(de)&&!pe)continue;const Re=X.getValueInRange(de);if(pe=pe.replace(/\r\n|\n|\r/g,X.eol),Re===pe)continue;if(Math.max(pe.length,Re.length)>fn._diffLimit){J.push({range:de,text:pe});continue}const De=Q(Re,pe,F),Fe=X.offsetAt(T.Q.lift(de).getStartPosition());for(const Ve of De){const Ye=X.positionAt(Fe+Ve.originalStart),ot=X.positionAt(Fe+Ve.originalStart+Ve.originalLength),at={text:pe.substr(Ve.modifiedStart,Ve.modifiedLength),range:{startLineNumber:Ye.lineNumber,startColumn:Ye.column,endLineNumber:ot.lineNumber,endColumn:ot.column}};X.getValueInRange(at.range)!==at.text&&J.push(at)}}return typeof oe=="number"&&J.push({eol:oe,text:"",range:{startLineNumber:0,startColumn:0,endLineNumber:0,endColumn:0}}),J}async $computeLinks(h){const m=this._getModel(h);return m?H(m):null}async $computeDefaultDocumentColors(h){const m=this._getModel(h);return m?Qn(m):null}async $textualSuggest(h,m,F,X){const J=new ue.W,oe=new RegExp(F,X),ge=new Set;e:for(const de of h){const pe=this._getModel(de);if(pe){for(const Ie of pe.words(oe))if(!(Ie===m||!isNaN(Number(Ie)))&&(ge.add(Ie),ge.size>fn._suggestionsLimit))break e}}return{words:Array.from(ge),duration:J.elapsed()}}async $computeWordRanges(h,m,F,X){const J=this._getModel(h);if(!J)return Object.create(null);const oe=new RegExp(F,X),ge=Object.create(null);for(let de=m.startLineNumber;de<m.endLineNumber;de++){const pe=J.getLineWords(de,oe);for(const Ie of pe){if(!isNaN(Number(Ie.word)))continue;let Re=ge[Ie.word];Re||(Re=[],ge[Ie.word]=Re),Re.push({startLineNumber:de,startColumn:Ie.startColumn,endLineNumber:de,endColumn:Ie.endColumn})}}return ge}async $navigateValueSet(h,m,F,X,J){const oe=this._getModel(h);if(!oe)return null;const ge=new RegExp(X,J);m.startColumn===m.endColumn&&(m={startLineNumber:m.startLineNumber,startColumn:m.startColumn,endLineNumber:m.endLineNumber,endColumn:m.endColumn+1});const de=oe.getValueInRange(m),pe=oe.getWordAtPosition({lineNumber:m.startLineNumber,column:m.startColumn},ge);if(!pe)return null;const Ie=oe.getValueInRange(pe);return C.INSTANCE.navigateValueSet(m,de,pe,Ie,F)}};s(Jn,"BaseEditorSimpleWorker"),Jn._diffLimit=1e5,Jn._suggestionsLimit=1e4;let In=Jn;const Xi=class Xi extends In{constructor(h,m){super(),this._host=h,this._foreignModuleFactory=m,this._foreignModule=null}async $ping(){return"pong"}$loadForeignModule(h,m,F){const X=s((ge,de)=>this._host.$fhr(ge,de),"proxyMethodRequest"),oe={host:(0,wn.kT)(F,X),getMirrorModels:s(()=>this._getModels(),"getMirrorModels")};return this._foreignModuleFactory?(this._foreignModule=this._foreignModuleFactory(oe,m),Promise.resolve((0,wn.V0)(this._foreignModule))):new Promise((ge,de)=>{const pe=s(Ie=>{this._foreignModule=Ie.create(oe,m),ge((0,wn.V0)(this._foreignModule))},"onModuleCallback");if(!qn)Promise.resolve().then(function(){var Ie=[v(7614)(`${h}`)];pe.apply(null,Ie)}.bind(this)).catch(de.bind(this));else{const Ie=On.zl.asBrowserUri(`${h}.js`).toString(!0);v(9204)(`${Ie}`).then(pe).catch(de)}})}$fmr(h,m){if(!this._foreignModule||typeof this._foreignModule[h]!="function")return Promise.reject(new Error("Missing requestHandler or method: "+h));try{return Promise.resolve(this._foreignModule[h].apply(this._foreignModule,m))}catch(F){return Promise.reject(F)}}};s(Xi,"EditorSimpleWorker");let fn=Xi;function fi(ke){return new fn(ie.EditorWorkerHost.getChannel(ke),null)}s(fi,"create"),typeof importScripts=="function"&&(globalThis.monaco=(0,R.createMonacoBaseAPI)())},304:(qe,Ce,v)=>{"use strict";v.r(Ce),v.d(Ce,{IEditorWorkerService:s(()=>K,"IEditorWorkerService")});var N=v(2399);const K=(0,N.u1)("editorWorkerService")},6358:(qe,Ce,v)=>{"use strict";v.r(Ce),v.d(Ce,{EditorWorkerHost:s(()=>N,"EditorWorkerHost")});const K=class K{static getChannel(Q){return Q.getChannel(K.CHANNEL_NAME)}static setChannel(Q,V){Q.setChannel(K.CHANNEL_NAME,V)}};s(K,"EditorWorkerHost"),K.CHANNEL_NAME="editorWorkerHost";let N=K},9307:(qe,Ce,v)=>{"use strict";v.r(Ce),v.d(Ce,{findSectionHeaders:s(()=>o,"findSectionHeaders")});const N=new RegExp("\\bMARK:\\s*(.*)$","d"),K=/^-+|-+$/g;function o(G,T){var y;let Y=[];if(T.findRegionSectionHeaders&&((y=T.foldingRules)!=null&&y.markers)){const W=Q(G,T);Y=Y.concat(W)}if(T.findMarkSectionHeaders){const W=V(G);Y=Y.concat(W)}return Y}s(o,"findSectionHeaders");function Q(G,T){const Y=[],y=G.getLineCount();for(let W=1;W<=y;W++){const P=G.getLineContent(W),O=P.match(T.foldingRules.markers.start);if(O){const M={startLineNumber:W,startColumn:O[0].length+1,endLineNumber:W,endColumn:P.length+1};if(M.endColumn>M.startColumn){const g={range:M,...u(P.substring(O[0].length)),shouldBeInComments:!1};(g.text||g.hasSeparatorLine)&&Y.push(g)}}}return Y}s(Q,"collectRegionHeaders");function V(G){const T=[],Y=G.getLineCount();for(let y=1;y<=Y;y++){const W=G.getLineContent(y);E(W,y,T)}return T}s(V,"collectMarkHeaders");function E(G,T,Y){N.lastIndex=0;const y=N.exec(G);if(y){const W=y.indices[1][0]+1,P=y.indices[1][1]+1,O={startLineNumber:T,startColumn:W,endLineNumber:T,endColumn:P};if(O.endColumn>O.startColumn){const M={range:O,...u(y[1]),shouldBeInComments:!0};(M.text||M.hasSeparatorLine)&&Y.push(M)}}}s(E,"addMarkHeaderIfFound");function u(G){G=G.trim();const T=G.startsWith("-");return G=G.replace(K,""),{text:G,hasSeparatorLine:T}}s(u,"getHeaderText")},7762:(qe,Ce,v)=>{"use strict";v.r(Ce),v.d(Ce,{getIconClasses:s(()=>Y,"getIconClasses")});var N=v(3072),K=v(2467),o=v(7264),Q=v(4957),V;(function(P){P[P.FILE=0]="FILE",P[P.FOLDER=1]="FOLDER",P[P.ROOT_FOLDER=2]="ROOT_FOLDER"})(V||(V={}));var E=v(1869),u;(function(P){function O(M){return M&&typeof M=="object"&&typeof M.id=="string"}s(O,"isThemeColor"),P.isThemeColor=O})(u||(u={}));var G;(function(P){P.iconNameSegment="[A-Za-z0-9]+",P.iconNameExpression="[A-Za-z0-9-]+",P.iconModifierExpression="~[A-Za-z]+",P.iconNameCharacter="[A-Za-z0-9~-]";const O=new RegExp(`^(${P.iconNameExpression})(${P.iconModifierExpression})?$`);function M(I){const c=O.exec(I.id);if(!c)return M(E.W.error);const[,f,d]=c,x=["codicon","codicon-"+f];return d&&x.push("codicon-modifier-"+d.substring(1)),x}s(M,"asClassNameArray"),P.asClassNameArray=M;function g(I){return M(I).join(" ")}s(g,"asClassName"),P.asClassName=g;function ee(I){return"."+M(I).join(".")}s(ee,"asCSSSelector"),P.asCSSSelector=ee;function H(I){return I&&typeof I=="object"&&typeof I.id=="string"&&(typeof I.color=="undefined"||u.isThemeColor(I.color))}s(H,"isThemeIcon"),P.isThemeIcon=H;const C=new RegExp(`^\\$\\((${P.iconNameExpression}(?:${P.iconModifierExpression})?)\\)$`);function R(I){const c=C.exec(I);if(!c)return;const[,f]=c;return{id:f}}s(R,"fromString"),P.fromString=R;function ie(I){return{id:I}}s(ie,"fromId"),P.fromId=ie;function ue(I,c){let f=I.id;const d=f.lastIndexOf("~");return d!==-1&&(f=f.substring(0,d)),c&&(f=`${f}~${c}`),{id:f}}s(ue,"modify"),P.modify=ue;function xe(I){const c=I.id.lastIndexOf("~");if(c!==-1)return I.id.substring(c+1)}s(xe,"getModifier"),P.getModifier=xe;function he(I,c){var f,d;return I.id===c.id&&((f=I.color)==null?void 0:f.id)===((d=c.color)==null?void 0:d.id)}s(he,"isEqual"),P.isEqual=he})(G||(G={}));const T=/(?:\/|^)(?:([^\/]+)\/)?([^\/]+)$/;function Y(P,O,M,g,ee){if(G.isThemeIcon(ee))return[`codicon-${ee.id}`,"predefined-file-icon"];if(o.r.isUri(ee))return[];const H=g===V.ROOT_FOLDER?["rootfolder-icon"]:g===V.FOLDER?["folder-icon"]:["file-icon"];if(M){let C;if(M.scheme===N.ny.data)C=K.B6.parseMetaData(M).get(K.B6.META_DATA_LABEL);else{const R=M.path.match(T);R?(C=W(R[2].toLowerCase()),R[1]&&H.push(`${W(R[1].toLowerCase())}-name-dir-icon`)):C=W(M.authority.toLowerCase())}if(g===V.ROOT_FOLDER)H.push(`${C}-root-name-folder-icon`);else if(g===V.FOLDER)H.push(`${C}-name-folder-icon`);else{if(C){if(H.push(`${C}-name-file-icon`),H.push("name-file-icon"),C.length<=255){const ie=C.split(".");for(let ue=1;ue<ie.length;ue++)H.push(`${ie.slice(ue).join(".")}-ext-file-icon`)}H.push("ext-file-icon")}const R=y(P,O,M);R&&H.push(`${W(R)}-lang-file-icon`)}}return H}s(Y,"getIconClasses");function y(P,O,M){if(!M)return null;let g=null;if(M.scheme===N.ny.data){const H=K.B6.parseMetaData(M).get(K.B6.META_DATA_MIME);H&&(g=O.getLanguageIdByMimeType(H))}else{const ee=P.getModel(M);ee&&(g=ee.getLanguageId())}return g&&g!==Q.vH?g:O.guessLanguageIdByFilepathOrFirstLine(M)}s(y,"detectLanguageId");function W(P){return P.replace(/[\s]/g,"/")}s(W,"cssEscape")},4791:(qe,Ce,v)=>{"use strict";var ue;v.r(Ce),v.d(Ce,{ILanguageFeatureDebounceService:s(()=>P,"ILanguageFeatureDebounceService"),LanguageFeatureDebounceService:s(()=>ee,"LanguageFeatureDebounceService")});var N=v(2344),K=v(7992);function o(xe,he,I){return Math.min(Math.max(xe,he),I)}s(o,"clamp");const H=class H{constructor(){this._n=1,this._val=0}update(he){return this._val=this._val+(he-this._val)/this._n,this._n+=1,this._val}get value(){return this._val}};s(H,"MovingAverage");let Q=H;const C=class C{constructor(he){this._n=0,this._val=0,this._values=[],this._index=0,this._sum=0,this._values=new Array(he),this._values.fill(0,0,he)}update(he){const I=this._values[this._index];return this._values[this._index]=he,this._index=(this._index+1)%this._values.length,this._sum-=I,this._sum+=he,this._n<this._values.length&&(this._n+=1),this._val=this._sum/this._n,this._val}get value(){return this._val}};s(C,"SlidingWindowAverage");let V=C;var E=v(2399);const u=(0,E.u1)("environmentService");var G=v(9031),T=v(9950),Y=v(3072),y=function(xe,he,I,c){var f=arguments.length,d=f<3?he:c===null?c=Object.getOwnPropertyDescriptor(he,I):c,x;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")d=Reflect.decorate(xe,he,I,c);else for(var B=xe.length-1;B>=0;B--)(x=xe[B])&&(d=(f<3?x(d):f>3?x(he,I,d):x(he,I))||d);return f>3&&d&&Object.defineProperty(he,I,d),d},W=function(xe,he){return function(I,c){he(I,c,xe)}};const P=(0,E.u1)("ILanguageFeatureDebounceService");var O;(function(xe){const he=new WeakMap;let I=0;function c(f){let d=he.get(f);return d===void 0&&(d=++I,he.set(f,d)),d}s(c,"of"),xe.of=c})(O||(O={}));const R=class R{constructor(he){this._default=he}get(he){return this._default}update(he,I){return this._default}default(){return this._default}};s(R,"NullDebounceInformation");let M=R;const ie=class ie{constructor(he,I,c,f,d,x){this._logService=he,this._name=I,this._registry=c,this._default=f,this._min=d,this._max=x,this._cache=new K.qK(50,.7)}_key(he){return he.id+this._registry.all(he).reduce((I,c)=>(0,N.sN)(O.of(c),I),0)}get(he){const I=this._key(he),c=this._cache.get(I);return c?o(c.value,this._min,this._max):this.default()}update(he,I){const c=this._key(he);let f=this._cache.get(c);f||(f=new V(6),this._cache.set(c,f));const d=o(f.update(I),this._min,this._max);return(0,Y.v$)(he.uri,"output")||this._logService.trace(`[DEBOUNCE: ${this._name}] for ${he.uri.toString()} is ${d}ms`),d}_overall(){const he=new Q;for(const[,I]of this._cache)he.update(I.value);return he.value}default(){const he=this._overall()|0||this._default;return o(he,this._min,this._max)}};s(ie,"FeatureDebounceInformation");let g=ie,ee=(ue=class{constructor(he,I){this._logService=he,this._data=new Map,this._isDev=I.isExtensionDevelopment||!I.isBuilt}for(he,I,c){var q,se,re;const f=(q=c==null?void 0:c.min)!=null?q:50,d=(se=c==null?void 0:c.max)!=null?se:f**2,x=(re=c==null?void 0:c.key)!=null?re:void 0,B=`${O.of(he)},${f}${x?","+x:""}`;let D=this._data.get(B);return D||(this._isDev?(this._logService.debug(`[DEBOUNCE: ${I}] is disabled in developed mode`),D=new M(f*1.5)):D=new g(this._logService,I,he,this._overallAverage()|0||f*1.5,f,d),this._data.set(B,D)),D}_overallAverage(){const he=new Q;for(const I of this._data.values())he.update(I.default());return he.value}},s(ue,"LanguageFeatureDebounceService"),ue);ee=y([W(0,T.rr),W(1,u)],ee),(0,G.v)(P,ee,1)},2230:(qe,Ce,v)=>{"use strict";v.r(Ce),v.d(Ce,{ILanguageFeaturesService:s(()=>K,"ILanguageFeaturesService")});var N=v(2399);const K=(0,N.u1)("ILanguageFeaturesService")},501:(qe,Ce,v)=>{"use strict";v.r(Ce),v.d(Ce,{LanguageFeaturesService:s(()=>P,"LanguageFeaturesService")});var N=v(2106),K=v(9235),o=v(6055),Q=v(3958),V=v(4033);function E(ee,H,C,R,ie,ue){if(Array.isArray(ee)){let xe=0;for(const he of ee){const I=E(he,H,C,R,ie,ue);if(I===10)return I;I>xe&&(xe=I)}return xe}else{if(typeof ee=="string")return R?ee==="*"?5:ee===C?10:0:0;if(ee){const{language:xe,pattern:he,scheme:I,hasAccessToAllModels:c,notebookType:f}=ee;if(!R&&!c)return 0;f&&ie&&(H=ie);let d=0;if(I)if(I===H.scheme)d=10;else if(I==="*")d=5;else return 0;if(xe)if(xe===C)d=10;else if(xe==="*")d=Math.max(d,5);else return 0;if(f)if(f===ue)d=10;else if(f==="*"&&ue!==void 0)d=Math.max(d,5);else return 0;if(he){let x;if(typeof he=="string"?x=he:x={...he,base:(0,V.S8)(he.base)},x===H.fsPath||(0,Q.YW)(x,H.fsPath))d=10;else return 0}return d}else return 0}}s(E,"score");function u(ee){return typeof ee=="string"?!1:Array.isArray(ee)?ee.every(u):!!ee.exclusive}s(u,"isExclusive");const O=class O{constructor(H,C,R,ie,ue){this.uri=H,this.languageId=C,this.notebookUri=R,this.notebookType=ie,this.recursive=ue}equals(H){var C,R;return this.notebookType===H.notebookType&&this.languageId===H.languageId&&this.uri.toString()===H.uri.toString()&&((C=this.notebookUri)==null?void 0:C.toString())===((R=H.notebookUri)==null?void 0:R.toString())&&this.recursive===H.recursive}};s(O,"MatchCandidate");let G=O;const M=class M{constructor(H){this._notebookInfoResolver=H,this._clock=0,this._entries=[],this._onDidChange=new N.vl,this.onDidChange=this._onDidChange.event}register(H,C){let R={selector:H,provider:C,_score:-1,_time:this._clock++};return this._entries.push(R),this._lastCandidate=void 0,this._onDidChange.fire(this._entries.length),(0,K.s)(()=>{if(R){const ie=this._entries.indexOf(R);ie>=0&&(this._entries.splice(ie,1),this._lastCandidate=void 0,this._onDidChange.fire(this._entries.length),R=void 0)}})}has(H){return this.all(H).length>0}all(H){if(!H)return[];this._updateScores(H,!1);const C=[];for(const R of this._entries)R._score>0&&C.push(R.provider);return C}ordered(H,C=!1){const R=[];return this._orderedForEach(H,C,ie=>R.push(ie.provider)),R}orderedGroups(H){const C=[];let R,ie;return this._orderedForEach(H,!1,ue=>{R&&ie===ue._score?R.push(ue.provider):(ie=ue._score,R=[ue.provider],C.push(R))}),C}_orderedForEach(H,C,R){this._updateScores(H,C);for(const ie of this._entries)ie._score>0&&R(ie)}_updateScores(H,C){var ue,xe;const R=(ue=this._notebookInfoResolver)==null?void 0:ue.call(this,H.uri),ie=R?new G(H.uri,H.getLanguageId(),R.uri,R.type,C):new G(H.uri,H.getLanguageId(),void 0,void 0,C);if(!((xe=this._lastCandidate)!=null&&xe.equals(ie))){this._lastCandidate=ie;for(const he of this._entries)if(he._score=E(he.selector,ie.uri,ie.languageId,(0,o.vd)(H),ie.notebookUri,ie.notebookType),u(he.selector)&&he._score>0)if(C)he._score=0;else{for(const I of this._entries)I._score=0;he._score=1e3;break}this._entries.sort(M._compareByScoreAndTime)}}static _compareByScoreAndTime(H,C){return H._score<C._score?1:H._score>C._score?-1:Y(H.selector)&&!Y(C.selector)?1:!Y(H.selector)&&Y(C.selector)?-1:H._time<C._time?1:H._time>C._time?-1:0}};s(M,"LanguageFeatureRegistry");let T=M;function Y(ee){return typeof ee=="string"?!1:Array.isArray(ee)?ee.some(Y):!!ee.isBuiltin}s(Y,"isBuiltinSelector");var y=v(2230),W=v(9031);const g=class g{constructor(){this.referenceProvider=new T(this._score.bind(this)),this.renameProvider=new T(this._score.bind(this)),this.newSymbolNamesProvider=new T(this._score.bind(this)),this.codeActionProvider=new T(this._score.bind(this)),this.definitionProvider=new T(this._score.bind(this)),this.typeDefinitionProvider=new T(this._score.bind(this)),this.declarationProvider=new T(this._score.bind(this)),this.implementationProvider=new T(this._score.bind(this)),this.documentSymbolProvider=new T(this._score.bind(this)),this.inlayHintsProvider=new T(this._score.bind(this)),this.colorProvider=new T(this._score.bind(this)),this.codeLensProvider=new T(this._score.bind(this)),this.documentFormattingEditProvider=new T(this._score.bind(this)),this.documentRangeFormattingEditProvider=new T(this._score.bind(this)),this.onTypeFormattingEditProvider=new T(this._score.bind(this)),this.signatureHelpProvider=new T(this._score.bind(this)),this.hoverProvider=new T(this._score.bind(this)),this.documentHighlightProvider=new T(this._score.bind(this)),this.multiDocumentHighlightProvider=new T(this._score.bind(this)),this.selectionRangeProvider=new T(this._score.bind(this)),this.foldingRangeProvider=new T(this._score.bind(this)),this.linkProvider=new T(this._score.bind(this)),this.inlineCompletionsProvider=new T(this._score.bind(this)),this.inlineEditProvider=new T(this._score.bind(this)),this.completionProvider=new T(this._score.bind(this)),this.linkedEditingRangeProvider=new T(this._score.bind(this)),this.documentRangeSemanticTokensProvider=new T(this._score.bind(this)),this.documentSemanticTokensProvider=new T(this._score.bind(this)),this.documentDropEditProvider=new T(this._score.bind(this)),this.documentPasteEditProvider=new T(this._score.bind(this))}_score(H){var C;return(C=this._notebookTypeResolver)==null?void 0:C.call(this,H)}};s(g,"LanguageFeaturesService");let P=g;(0,W.v)(y.ILanguageFeaturesService,P,1)},6123:(qe,Ce,v)=>{"use strict";v.r(Ce),v.d(Ce,{LanguageService:s(()=>hi,"LanguageService")});var N=v(2106),K=v(9235),o=v(6995),Q=v(3338),V=v(4364),E=v(4957);const u=s((ve,U)=>ve===U,"equals_strictEquals");function G(ve=u){return(U,le)=>arrays.equals(U,le,ve)}s(G,"itemsEquals");function T(){return(ve,U)=>ve.equals(U)}s(T,"itemEquals");function Y(ve,U,le){if(le!==void 0){const ye=ve;return ye==null||U===void 0||U===null?U===ye:le(ye,U)}else{const ye=ve;return(We,Je)=>We==null||Je===void 0||Je===null?Je===We:ye(We,Je)}}s(Y,"equalsIfDefined");function y(ve,U){if(ve===U)return!0;if(Array.isArray(ve)&&Array.isArray(U)){if(ve.length!==U.length)return!1;for(let le=0;le<ve.length;le++)if(!y(ve[le],U[le]))return!1;return!0}if(ve&&typeof ve=="object"&&U&&typeof U=="object"&&Object.getPrototypeOf(ve)===Object.prototype&&Object.getPrototypeOf(U)===Object.prototype){const le=ve,ye=U,We=Object.keys(le),Je=Object.keys(ye),ut=new Set(Je);if(We.length!==Je.length)return!1;for(const Et of We)if(!ut.has(Et)||!y(le[Et],ye[Et]))return!1;return!0}return!1}s(y,"structuralEquals");const W=new WeakMap,Mn=class Mn{constructor(U,le,ye){this.owner=U,this.debugNameSource=le,this.referenceFn=ye}getDebugName(U){return g(U,this)}};s(Mn,"debugName_DebugNameData");let P=Mn;const O=new Map,M=new WeakMap;function g(ve,U){var We;const le=M.get(ve);if(le)return le;const ye=ee(ve,U);if(ye){let Je=(We=O.get(ye))!=null?We:0;Je++,O.set(ye,Je);const ut=Je===1?ye:`${ye}#${Je}`;return M.set(ve,ut),ut}}s(g,"getDebugName");function ee(ve,U){const le=M.get(ve);if(le)return le;const ye=U.owner?ie(U.owner)+".":"";let We;const Je=U.debugNameSource;if(Je!==void 0)if(typeof Je=="function"){if(We=Je(),We!==void 0)return ye+We}else return ye+Je;const ut=U.referenceFn;if(ut!==void 0&&(We=xe(ut),We!==void 0))return ye+We;if(U.owner!==void 0){const Et=H(U.owner,ve);if(Et!==void 0)return ye+Et}}s(ee,"computeDebugName");function H(ve,U){for(const le in ve)if(ve[le]===U)return le}s(H,"findKey");const C=new Map,R=new WeakMap;function ie(ve){var Je;const U=R.get(ve);if(U)return U;const le=ue(ve);let ye=(Je=C.get(le))!=null?Je:0;ye++,C.set(le,ye);const We=ye===1?le:`${le}#${ye}`;return R.set(ve,We),We}s(ie,"formatOwner");function ue(ve){const U=ve.constructor;return U?U.name:"Object"}s(ue,"getClassName");function xe(ve){const U=ve.toString(),ye=/\/\*\*\s*@description\s*([^*]*)\*\//.exec(U),We=ye?ye[1]:void 0;return We==null?void 0:We.trim()}s(xe,"getFunctionName");let he;function I(ve){he=ve}s(I,"setLogger");function c(){return he}s(c,"getLogger");const bn=class bn{constructor(){this.indentation=0,this.changedObservablesSets=new WeakMap}textToConsoleArgs(U){return d([x(_e("|  ",this.indentation)),U])}formatInfo(U){return U.hadValue?U.didChange?[x(" "),D(q(U.oldValue,70),{color:"red",strikeThrough:!0}),x(" "),D(q(U.newValue,60),{color:"green"})]:[x(" (unchanged)")]:[x(" "),D(q(U.newValue,60),{color:"green"}),x(" (initial)")]}handleObservableChanged(U,le){console.log(...this.textToConsoleArgs([B("observable value changed"),D(U.debugName,{color:"BlueViolet"}),...this.formatInfo(le)]))}formatChanges(U){if(U.size!==0)return D(" (changed deps: "+[...U].map(le=>le.debugName).join(", ")+")",{color:"gray"})}handleDerivedCreated(U){const le=U.handleChange;this.changedObservablesSets.set(U,new Set),U.handleChange=(ye,We)=>(this.changedObservablesSets.get(U).add(ye),le.apply(U,[ye,We]))}handleDerivedRecomputed(U,le){var We;const ye=this.changedObservablesSets.get(U);console.log(...this.textToConsoleArgs([B("derived recomputed"),D(U.debugName,{color:"BlueViolet"}),...this.formatInfo(le),this.formatChanges(ye),{data:[{fn:(We=U._debugNameData.referenceFn)!=null?We:U._computeFn}]}])),ye.clear()}handleFromEventObservableTriggered(U,le){console.log(...this.textToConsoleArgs([B("observable from event triggered"),D(U.debugName,{color:"BlueViolet"}),...this.formatInfo(le),{data:[{fn:U._getValue}]}]))}handleAutorunCreated(U){const le=U.handleChange;this.changedObservablesSets.set(U,new Set),U.handleChange=(ye,We)=>(this.changedObservablesSets.get(U).add(ye),le.apply(U,[ye,We]))}handleAutorunTriggered(U){var ye;const le=this.changedObservablesSets.get(U);console.log(...this.textToConsoleArgs([B("autorun"),D(U.debugName,{color:"BlueViolet"}),this.formatChanges(le),{data:[{fn:(ye=U._debugNameData.referenceFn)!=null?ye:U._runFn}]}])),le.clear(),this.indentation++}handleAutorunFinished(U){this.indentation--}handleBeginTransaction(U){let le=U.getDebugName();le===void 0&&(le=""),console.log(...this.textToConsoleArgs([B("transaction"),D(le,{color:"BlueViolet"}),{data:[{fn:U._fn}]}])),this.indentation++}handleEndTransaction(){this.indentation--}};s(bn,"ConsoleObservableLogger");let f=bn;function d(ve){const U=new Array,le=[];let ye="";function We(ut){if("length"in ut)for(const Et of ut)Et&&We(Et);else"text"in ut?(ye+=`%c${ut.text}`,U.push(ut.style),ut.data&&le.push(...ut.data)):"data"in ut&&le.push(...ut.data)}s(We,"process"),We(ve);const Je=[ye,...U];return Je.push(...le),Je}s(d,"consoleTextToArgs");function x(ve){return D(ve,{color:"black"})}s(x,"normalText");function B(ve){return D(Se(`${ve}: `,10),{color:"black",bold:!0})}s(B,"formatKind");function D(ve,U={color:"black"}){function le(We){return Object.entries(We).reduce((Je,[ut,Et])=>`${Je}${ut}:${Et};`,"")}s(le,"objToCss");const ye={color:U.color};return U.strikeThrough&&(ye["text-decoration"]="line-through"),U.bold&&(ye["font-weight"]="bold"),{text:ve,style:le(ye)}}s(D,"styled");function q(ve,U){switch(typeof ve){case"number":return""+ve;case"string":return ve.length+2<=U?`"${ve}"`:`"${ve.substr(0,U-7)}"+...`;case"boolean":return ve?"true":"false";case"undefined":return"undefined";case"object":return ve===null?"null":Array.isArray(ve)?se(ve,U):re(ve,U);case"symbol":return ve.toString();case"function":return`[[Function${ve.name?" "+ve.name:""}]]`;default:return""+ve}}s(q,"formatValue");function se(ve,U){let le="[ ",ye=!0;for(const We of ve){if(ye||(le+=", "),le.length-5>U){le+="...";break}ye=!1,le+=`${q(We,U-le.length)}`}return le+=" ]",le}s(se,"formatArray");function re(ve,U){let le="{ ",ye=!0;for(const[We,Je]of Object.entries(ve)){if(ye||(le+=", "),le.length-5>U){le+="...";break}ye=!1,le+=`${We}: ${q(Je,U-le.length)}`}return le+=" }",le}s(re,"formatObject");function _e(ve,U){let le="";for(let ye=1;ye<=U;ye++)le+=ve;return le}s(_e,"repeat");function Se(ve,U){for(;ve.length<U;)ve+=" ";return ve}s(Se,"padStr");let Ae;function we(ve){Ae=ve}s(we,"_setRecomputeInitiallyAndOnChange");let L;function A(ve){L=ve}s(A,"_setKeepObserved");let z;function b(ve){z=ve}s(b,"_setDerivedOpts");const wn=class wn{get TChange(){return null}reportChanges(){this.get()}read(U){return U?U.readObservable(this):this.get()}map(U,le){const ye=le===void 0?void 0:U,We=le===void 0?U:le;return z({owner:ye,debugName:s(()=>{const Je=xe(We);if(Je!==void 0)return Je;const Et=/^\s*\(?\s*([a-zA-Z_$][a-zA-Z_$0-9]*)\s*\)?\s*=>\s*\1(?:\??)\.([a-zA-Z_$][a-zA-Z_$0-9]*)\s*$/.exec(We.toString());if(Et)return`${this.debugName}.${Et[2]}`;if(!ye)return`${this.debugName} (mapped)`},"debugName"),debugReferenceFn:We},Je=>We(this.read(Je),Je))}flatten(){return z({owner:void 0,debugName:s(()=>`${this.debugName} (flattened)`,"debugName")},U=>this.read(U).read(U))}recomputeInitiallyAndOnChange(U,le){return U.add(Ae(this,le)),this}keepObserved(U){return U.add(L(this)),this}};s(wn,"ConvenientObservable");let S=wn;const On=class On extends S{constructor(){super(...arguments),this.observers=new Set}addObserver(U){const le=this.observers.size;this.observers.add(U),le===0&&this.onFirstObserverAdded()}removeObserver(U){this.observers.delete(U)&&this.observers.size===0&&this.onLastObserverRemoved()}onFirstObserverAdded(){}onLastObserverRemoved(){}};s(On,"BaseObservable");let $=On;function te(ve,U){const le=new Pe(ve,U);try{ve(le)}finally{le.finish()}}s(te,"base_transaction");let ce=null;function Te(ve){if(ce)ve(ce);else{const U=new Pe(ve,void 0);ce=U;try{ve(U)}finally{U.finish(),ce=void 0}}}s(Te,"globalTransaction");async function Ne(ve,U){const le=new Pe(ve,U);try{await ve(le)}finally{le.finish()}}s(Ne,"asyncTransaction");function He(ve,U,le){ve?U(ve):te(U,le)}s(He,"subtransaction");const mn=class mn{constructor(U,le){var ye;this._fn=U,this._getDebugName=le,this.updatingObservers=[],(ye=c())==null||ye.handleBeginTransaction(this)}getDebugName(){return this._getDebugName?this._getDebugName():xe(this._fn)}updateObserver(U,le){this.updatingObservers.push({observer:U,observable:le}),U.beginUpdate(le)}finish(){var le;const U=this.updatingObservers;for(let ye=0;ye<U.length;ye++){const{observer:We,observable:Je}=U[ye];We.endUpdate(Je)}this.updatingObservers=null,(le=c())==null||le.handleEndTransaction()}};s(mn,"TransactionImpl");let Pe=mn;function Xe(ve,U){let le;return typeof ve=="string"?le=new DebugNameData(void 0,ve,void 0):le=new DebugNameData(ve,void 0,void 0),new xt(le,U,strictEquals)}s(Xe,"base_observableValue");const vi=class vi extends ${get debugName(){var U;return(U=this._debugNameData.getDebugName(this))!=null?U:"ObservableValue"}constructor(U,le,ye){super(),this._debugNameData=U,this._equalityComparator=ye,this._value=le}get(){return this._value}set(U,le,ye){var Je;if(ye===void 0&&this._equalityComparator(this._value,U))return;let We;le||(le=We=new Pe(()=>{},()=>`Setting ${this.debugName}`));try{const ut=this._value;this._setValue(U),(Je=c())==null||Je.handleObservableChanged(this,{oldValue:ut,newValue:U,change:ye,didChange:!0,hadValue:!0});for(const Et of this.observers)le.updateObserver(Et,this),Et.handleChange(this,ye)}finally{We&&We.finish()}}toString(){return`${this.debugName}: ${this._value}`}_setValue(U){this._value=U}};s(vi,"base_ObservableValue");let xt=vi;function dt(ve,U){let le;return typeof ve=="string"?le=new DebugNameData(void 0,ve,void 0):le=new DebugNameData(ve,void 0,void 0),new Zt(le,U,strictEquals)}s(dt,"disposableObservableValue");const Sn=class Sn extends null{_setValue(U){this._value!==U&&(this._value&&this._value.dispose(),this._value=U)}dispose(){var U;(U=this._value)==null||U.dispose()}};s(Sn,"DisposableObservableValue");let Zt=Sn;var $t=v(7110);function Pt(ve,U){return U!==void 0?new Ot(new DebugNameData(ve,void 0,U),U,void 0,void 0,void 0,strictEquals):new Ot(new DebugNameData(void 0,void 0,ve),ve,void 0,void 0,void 0,strictEquals)}s(Pt,"derived_derived");function Jt(ve,U,le){return new Xt(new DebugNameData(ve,void 0,U),U,void 0,void 0,void 0,strictEquals,le)}s(Jt,"derivedWithSetter");function Rt(ve,U){var le;return new Ot(new P(ve.owner,ve.debugName,ve.debugReferenceFn),U,void 0,void 0,ve.onLastObserverRemoved,(le=ve.equalsFn)!=null?le:u)}s(Rt,"derived_derivedOpts"),b(Rt);function Mt(ve,U){var le;return new Ot(new DebugNameData(ve.owner,ve.debugName,void 0),U,ve.createEmptyChangeSummary,ve.handleChange,void 0,(le=ve.equalityComparer)!=null?le:strictEquals)}s(Mt,"derivedHandleChanges");function Wt(ve,U){let le,ye;U===void 0?(le=ve,ye=void 0):(ye=ve,le=U);const We=new DisposableStore;return new Ot(new DebugNameData(ye,void 0,le),Je=>(We.clear(),le(Je,We)),void 0,void 0,()=>We.dispose(),strictEquals)}s(Wt,"derivedWithStore");function Qt(ve,U){let le,ye;U===void 0?(le=ve,ye=void 0):(ye=ve,le=U);let We;return new Ot(new DebugNameData(ye,void 0,le),Je=>{We?We.clear():We=new DisposableStore;const ut=le(Je);return ut&&We.add(ut),ut},void 0,void 0,()=>{We&&(We.dispose(),We=void 0)},strictEquals)}s(Qt,"derivedDisposable");const En=class En extends ${get debugName(){var U;return(U=this._debugNameData.getDebugName(this))!=null?U:"(anonymous)"}constructor(U,le,ye,We,Je=void 0,ut){var Et,rn;super(),this._debugNameData=U,this._computeFn=le,this.createChangeSummary=ye,this._handleChange=We,this._handleLastObserverRemoved=Je,this._equalityComparator=ut,this.state=0,this.value=void 0,this.updateCount=0,this.dependencies=new Set,this.dependenciesToBeRemoved=new Set,this.changeSummary=void 0,this.changeSummary=(Et=this.createChangeSummary)==null?void 0:Et.call(this),(rn=c())==null||rn.handleDerivedCreated(this)}onLastObserverRemoved(){var U;this.state=0,this.value=void 0;for(const le of this.dependencies)le.removeObserver(this);this.dependencies.clear(),(U=this._handleLastObserverRemoved)==null||U.call(this)}get(){var U;if(this.observers.size===0){const le=this._computeFn(this,(U=this.createChangeSummary)==null?void 0:U.call(this));return this.onLastObserverRemoved(),le}else{do{if(this.state===1){for(const le of this.dependencies)if(le.reportChanges(),this.state===2)break}this.state===1&&(this.state=3),this._recomputeIfNeeded()}while(this.state!==3);return this.value}}_recomputeIfNeeded(){var ut,Et;if(this.state===3)return;const U=this.dependenciesToBeRemoved;this.dependenciesToBeRemoved=this.dependencies,this.dependencies=U;const le=this.state!==0,ye=this.value;this.state=3;const We=this.changeSummary;this.changeSummary=(ut=this.createChangeSummary)==null?void 0:ut.call(this);try{this.value=this._computeFn(this,We)}finally{for(const rn of this.dependenciesToBeRemoved)rn.removeObserver(this);this.dependenciesToBeRemoved.clear()}const Je=le&&!this._equalityComparator(ye,this.value);if((Et=c())==null||Et.handleDerivedRecomputed(this,{oldValue:ye,newValue:this.value,change:void 0,didChange:Je,hadValue:le}),Je)for(const rn of this.observers)rn.handleChange(this,void 0)}toString(){return`LazyDerived<${this.debugName}>`}beginUpdate(U){this.updateCount++;const le=this.updateCount===1;if(this.state===3&&(this.state=1,!le))for(const ye of this.observers)ye.handlePossibleChange(this);if(le)for(const ye of this.observers)ye.beginUpdate(this)}endUpdate(U){if(this.updateCount--,this.updateCount===0){const le=[...this.observers];for(const ye of le)ye.endUpdate(this)}(0,$t.Ft)(()=>this.updateCount>=0)}handlePossibleChange(U){if(this.state===3&&this.dependencies.has(U)&&!this.dependenciesToBeRemoved.has(U)){this.state=1;for(const le of this.observers)le.handlePossibleChange(this)}}handleChange(U,le){if(this.dependencies.has(U)&&!this.dependenciesToBeRemoved.has(U)){const ye=this._handleChange?this._handleChange({changedObservable:U,change:le,didChange:s(Je=>Je===U,"didChange")},this.changeSummary):!0,We=this.state===3;if(ye&&(this.state===1||We)&&(this.state=2,We))for(const Je of this.observers)Je.handlePossibleChange(this)}}readObservable(U){U.addObserver(this);const le=U.get();return this.dependencies.add(U),this.dependenciesToBeRemoved.delete(U),le}addObserver(U){const le=!this.observers.has(U)&&this.updateCount>0;super.addObserver(U),le&&U.beginUpdate(this)}removeObserver(U){const le=this.observers.has(U)&&this.updateCount>0;super.removeObserver(U),le&&U.endUpdate(this)}};s(En,"Derived");let Ot=En;const Gn=class Gn extends Ot{constructor(U,le,ye,We,Je=void 0,ut,Et){super(U,le,ye,We,Je,ut),this.set=Et}};s(Gn,"DerivedWithSetter");let Xt=Gn;function qt(ve){return new be(new P(void 0,void 0,ve),ve,void 0,void 0)}s(qt,"autorun_autorun");function nn(ve,U){var le;return new be(new DebugNameData(ve.owner,ve.debugName,(le=ve.debugReferenceFn)!=null?le:U),U,void 0,void 0)}s(nn,"autorunOpts");function Gt(ve,U){var le;return new be(new DebugNameData(ve.owner,ve.debugName,(le=ve.debugReferenceFn)!=null?le:U),U,ve.createEmptyChangeSummary,ve.handleChange)}s(Gt,"autorunHandleChanges");function Bt(ve,U){var We;const le=new DisposableStore,ye=Gt({owner:ve.owner,debugName:ve.debugName,debugReferenceFn:(We=ve.debugReferenceFn)!=null?We:U,createEmptyChangeSummary:ve.createEmptyChangeSummary,handleChange:ve.handleChange},(Je,ut)=>{le.clear(),U(Je,ut,le)});return toDisposable(()=>{ye.dispose(),le.dispose()})}s(Bt,"autorunWithStoreHandleChanges");function Yt(ve){const U=new DisposableStore,le=nn({owner:void 0,debugName:void 0,debugReferenceFn:ve},ye=>{U.clear(),ve(ye,U)});return toDisposable(()=>{le.dispose(),U.dispose()})}s(Yt,"autorunWithStore");const yn=class yn{get debugName(){var U;return(U=this._debugNameData.getDebugName(this))!=null?U:"(anonymous)"}constructor(U,le,ye,We){var Je,ut;this._debugNameData=U,this._runFn=le,this.createChangeSummary=ye,this._handleChange=We,this.state=2,this.updateCount=0,this.disposed=!1,this.dependencies=new Set,this.dependenciesToBeRemoved=new Set,this.changeSummary=(Je=this.createChangeSummary)==null?void 0:Je.call(this),(ut=c())==null||ut.handleAutorunCreated(this),this._runIfNeeded(),(0,K.Ay)(this)}dispose(){this.disposed=!0;for(const U of this.dependencies)U.removeObserver(this);this.dependencies.clear(),(0,K.VD)(this)}_runIfNeeded(){var ye,We,Je;if(this.state===3)return;const U=this.dependenciesToBeRemoved;this.dependenciesToBeRemoved=this.dependencies,this.dependencies=U,this.state=3;const le=this.disposed;try{if(!le){(ye=c())==null||ye.handleAutorunTriggered(this);const ut=this.changeSummary;this.changeSummary=(We=this.createChangeSummary)==null?void 0:We.call(this),this._runFn(this,ut)}}finally{le||(Je=c())==null||Je.handleAutorunFinished(this);for(const ut of this.dependenciesToBeRemoved)ut.removeObserver(this);this.dependenciesToBeRemoved.clear()}}toString(){return`Autorun<${this.debugName}>`}beginUpdate(){this.state===3&&(this.state=1),this.updateCount++}endUpdate(){if(this.updateCount===1)do{if(this.state===1){this.state=3;for(const U of this.dependencies)if(U.reportChanges(),this.state===2)break}this._runIfNeeded()}while(this.state!==3);this.updateCount--,(0,$t.Ft)(()=>this.updateCount>=0)}handlePossibleChange(U){this.state===3&&this.dependencies.has(U)&&!this.dependenciesToBeRemoved.has(U)&&(this.state=1)}handleChange(U,le){this.dependencies.has(U)&&!this.dependenciesToBeRemoved.has(U)&&(!this._handleChange||this._handleChange({changedObservable:U,change:le,didChange:s(We=>We===U,"didChange")},this.changeSummary))&&(this.state=2)}readObservable(U){if(this.disposed)return U.get();U.addObserver(this);const le=U.get();return this.dependencies.add(U),this.dependenciesToBeRemoved.delete(U),le}};s(yn,"AutorunObserver");let be=yn;(function(ve){ve.Observer=be})(qt||(qt={}));function Ee(ve){return new n(ve)}s(Ee,"constObservable");const sn=class sn extends S{constructor(U){super(),this.value=U}get debugName(){return this.toString()}get(){return this.value}addObserver(U){}removeObserver(U){}toString(){return`Const: ${this.value}`}};s(sn,"ConstObservable");let n=sn;function je(...ve){let U,le,ye;return ve.length===3?[U,le,ye]=ve:[le,ye]=ve,new $e(new P(U,void 0,ye),le,ye,()=>$e.globalTransaction,u)}s(je,"observableFromEvent");function tt(ve,U,le){var ye,We;return new $e(new DebugNameData(ve.owner,ve.debugName,(ye=ve.debugReferenceFn)!=null?ye:le),U,le,()=>$e.globalTransaction,(We=ve.equalsFn)!=null?We:strictEquals)}s(tt,"observableFromEventOpts");const Fn=class Fn extends ${constructor(U,le,ye,We,Je){super(),this._debugNameData=U,this.event=le,this._getValue=ye,this._getTransaction=We,this._equalityComparator=Je,this.hasValue=!1,this.handleEvent=ut=>{var si;const Et=this._getValue(ut),rn=this.value,kn=!this.hasValue||!this._equalityComparator(rn,Et);let an=!1;kn&&(this.value=Et,this.hasValue&&(an=!0,He(this._getTransaction(),gn=>{var Cn;(Cn=c())==null||Cn.handleFromEventObservableTriggered(this,{oldValue:rn,newValue:Et,change:void 0,didChange:kn,hadValue:this.hasValue});for(const Wn of this.observers)gn.updateObserver(Wn,this),Wn.handleChange(this,void 0)},()=>{const gn=this.getDebugName();return"Event fired"+(gn?`: ${gn}`:"")})),this.hasValue=!0),an||(si=c())==null||si.handleFromEventObservableTriggered(this,{oldValue:rn,newValue:Et,change:void 0,didChange:kn,hadValue:this.hasValue})}}getDebugName(){return this._debugNameData.getDebugName(this)}get debugName(){const U=this.getDebugName();return"From Event"+(U?`: ${U}`:"")}onFirstObserverAdded(){this.subscription=this.event(this.handleEvent)}onLastObserverRemoved(){this.subscription.dispose(),this.subscription=void 0,this.hasValue=!1,this.value=void 0}get(){return this.subscription?(this.hasValue||this.handleEvent(void 0),this.value):this._getValue(void 0)}};s(Fn,"FromEventObservable");let $e=Fn;(function(ve){ve.Observer=$e;function U(le,ye){let We=!1;$e.globalTransaction===void 0&&($e.globalTransaction=le,We=!0);try{ye()}finally{We&&($e.globalTransaction=void 0)}}s(U,"batchEventsGlobally"),ve.batchEventsGlobally=U})(je||(je={}));function ze(ve,U){return new Ze(ve,U)}s(ze,"observableSignalFromEvent");const di=class di extends ${constructor(U,le){super(),this.debugName=U,this.event=le,this.handleEvent=()=>{te(ye=>{for(const We of this.observers)ye.updateObserver(We,this),We.handleChange(this,void 0)},()=>this.debugName)}}onFirstObserverAdded(){this.subscription=this.event(this.handleEvent)}onLastObserverRemoved(){this.subscription.dispose(),this.subscription=void 0}get(){}};s(di,"FromEventObservableSignal");let Ze=di;function Ge(ve){return typeof ve=="string"?new Qe(ve):new Qe(void 0,ve)}s(Ge,"observableSignal");const Qn=class Qn extends ${get debugName(){var U;return(U=new P(this._owner,this._debugName,void 0).getDebugName(this))!=null?U:"Observable Signal"}toString(){return this.debugName}constructor(U,le){super(),this._debugName=U,this._owner=le}trigger(U,le){if(!U){te(ye=>{this.trigger(ye,le)},()=>`Trigger signal ${this.debugName}`);return}for(const ye of this.observers)U.updateObserver(ye,this),ye.handleChange(this,le)}get(){}};s(Qn,"ObservableSignal");let Qe=Qn;function et(ve){const U=new Ct(!1,void 0);return ve.addObserver(U),(0,K.s)(()=>{ve.removeObserver(U)})}s(et,"keepObserved"),A(et);function mt(ve,U){const le=new Ct(!0,U);return ve.addObserver(le),U?U(ve.get()):ve.reportChanges(),(0,K.s)(()=>{ve.removeObserver(le)})}s(mt,"recomputeInitiallyAndOnChange"),we(mt);const ii=class ii{constructor(U,le){this._forceRecompute=U,this._handleValue=le,this._counter=0}beginUpdate(U){this._counter++}endUpdate(U){this._counter--,this._counter===0&&this._forceRecompute&&(this._handleValue?this._handleValue(U.get()):U.reportChanges())}handlePossibleChange(U){}handleChange(U,le){}};s(ii,"KeepAliveObserver");let Ct=ii;function At(ve,U){let le;return derivedOpts({owner:ve,debugReferenceFn:U},We=>(le=U(We,le),le))}s(At,"derivedObservableWithCache");function nt(ve,U){let le;const ye=Ge("derivedObservableWithWritableCache"),We=derived(ve,Je=>(ye.read(Je),le=U(Je,le),le));return Object.assign(We,{clearCache:s(Je=>{le=void 0,ye.trigger(Je)},"clearCache"),setCache:s((Je,ut)=>{le=Je,ye.trigger(ut)},"setCache")})}s(nt,"derivedObservableWithWritableCache");function w(ve,U,le,ye){let We=new fe(le,ye);return derivedOpts({debugReferenceFn:le,owner:ve,onLastObserverRemoved:s(()=>{We.dispose(),We=new fe(le)},"onLastObserverRemoved")},ut=>(We.setItems(U.read(ut)),We.getItems()))}s(w,"mapObservableArrayCached");const ln=class ln{constructor(U,le){this._map=U,this._keySelector=le,this._cache=new Map,this._items=[]}dispose(){this._cache.forEach(U=>U.store.dispose()),this._cache.clear()}setItems(U){const le=[],ye=new Set(this._cache.keys());for(const We of U){const Je=this._keySelector?this._keySelector(We):We;let ut=this._cache.get(Je);if(ut)ye.delete(Je);else{const Et=new DisposableStore;ut={out:this._map(We,Et),store:Et},this._cache.set(Je,ut)}le.push(ut.out)}for(const We of ye)this._cache.get(We).store.dispose(),this._cache.delete(We);this._items=le}getItems(){return this._items}};s(ln,"ArrayMap");let fe=ln;const qn=class qn{constructor(U){this.observable=U}get onDidChange(){return Event.fromObservableLight(this.observable)}get value(){return this.observable.get()}};s(qn,"ValueWithChangeEventFromObservable");let Ue=qn;function Oe(ve,U){return U instanceof Ue?U.observable:je(ve,U.onDidChange,()=>U.value)}s(Oe,"observableFromValueWithChangeEvent");function It(ve,U){return At(ve,(le,ye)=>ye!=null?ye:U(le))}s(It,"derivedConstOnceDefined");var rt=v(4327);const In=class In{static fromFn(U){return new In(U())}constructor(U){this._value=observableValue(this,void 0),this.promiseResult=this._value,this.promise=U.then(le=>(transaction(ye=>{this._value.set(new Dt(le,void 0),ye)}),le),le=>{throw transaction(ye=>{this._value.set(new Dt(void 0,le),ye)}),le})}};s(In,"ObservablePromise");let _t=In;const fn=class fn{constructor(U,le){this.data=U,this.error=le}};s(fn,"PromiseResult");let Dt=fn;function _n(ve,U,le,ye){return U||(U=s(We=>We!=null,"predicate")),new Promise((We,Je)=>{let ut=!0,Et=!1;const rn=ve.map(an=>({isFinished:U(an),error:le?le(an):!1,state:an})),kn=autorun(an=>{const{isFinished:si,error:gn,state:Cn}=rn.read(an);(si||gn)&&(ut?Et=!0:kn.dispose(),gn?Je(gn===!0?Cn:gn):We(Cn))});if(ye){const an=ye.onCancellationRequested(()=>{kn.dispose(),an.dispose(),Je(new CancellationError)});if(ye.isCancellationRequested){kn.dispose(),an.dispose(),Je(new CancellationError);return}}ut=!1,Et&&kn.dispose()})}s(_n,"waitForState");const fi=class fi extends ${get debugName(){var U;return(U=this._debugNameData.getDebugName(this))!=null?U:"LazyObservableValue"}constructor(U,le,ye){super(),this._debugNameData=U,this._equalityComparator=ye,this._isUpToDate=!0,this._deltas=[],this._updateCounter=0,this._value=le}get(){return this._update(),this._value}_update(){if(!this._isUpToDate)if(this._isUpToDate=!0,this._deltas.length>0){for(const U of this.observers)for(const le of this._deltas)U.handleChange(this,le);this._deltas.length=0}else for(const U of this.observers)U.handleChange(this,void 0)}_beginUpdate(){if(this._updateCounter++,this._updateCounter===1)for(const U of this.observers)U.beginUpdate(this)}_endUpdate(){if(this._updateCounter--,this._updateCounter===0){this._update();const U=[...this.observers];for(const le of U)le.endUpdate(this)}}addObserver(U){const le=!this.observers.has(U)&&this._updateCounter>0;super.addObserver(U),le&&U.beginUpdate(this)}removeObserver(U){const le=this.observers.has(U)&&this._updateCounter>0;super.removeObserver(U),le&&U.endUpdate(this)}set(U,le,ye){if(ye===void 0&&this._equalityComparator(this._value,U))return;let We;le||(le=We=new Pe(()=>{},()=>`Setting ${this.debugName}`));try{if(this._isUpToDate=!1,this._setValue(U),ye!==void 0&&this._deltas.push(ye),le.updateObserver({beginUpdate:s(()=>this._beginUpdate(),"beginUpdate"),endUpdate:s(()=>this._endUpdate(),"endUpdate"),handleChange:s((Je,ut)=>{},"handleChange"),handlePossibleChange:s(Je=>{},"handlePossibleChange")},this),this._updateCounter>1)for(const Je of this.observers)Je.handlePossibleChange(this)}finally{We&&We.finish()}}toString(){return`${this.debugName}: ${this._value}`}_setValue(U){this._value=U}};s(fi,"lazyObservableValue_LazyObservableValue");let dn=fi;function Ut(ve,U){var le,ye;return ve.lazy?new LazyObservableValue(new DebugNameData(ve.owner,ve.debugName,void 0),U,(le=ve.equalsFn)!=null?le:strictEquals):new ObservableValue(new DebugNameData(ve.owner,ve.debugName,void 0),U,(ye=ve.equalsFn)!=null?ye:strictEquals)}s(Ut,"observableValueOpts"),!1&&I(new f);const Pn=class Pn extends K.jG{constructor(U=!1){super(),this._onDidRequestBasicLanguageFeatures=this._register(new N.vl),this.onDidRequestBasicLanguageFeatures=this._onDidRequestBasicLanguageFeatures.event,this._onDidRequestRichLanguageFeatures=this._register(new N.vl),this.onDidRequestRichLanguageFeatures=this._onDidRequestRichLanguageFeatures.event,this._onDidChange=this._register(new N.vl({leakWarningThreshold:200})),this.onDidChange=this._onDidChange.event,this._requestedBasicLanguages=new Set,this._requestedRichLanguages=new Set,Pn.instanceCount++,this._registry=this._register(new o.LanguagesRegistry(!0,U)),this.languageIdCodec=this._registry.languageIdCodec,this._register(this._registry.onDidChange(()=>this._onDidChange.fire()))}dispose(){Pn.instanceCount--,super.dispose()}isRegisteredLanguageId(U){return this._registry.isRegisteredLanguageId(U)}getLanguageIdByLanguageName(U){return this._registry.getLanguageIdByLanguageName(U)}getLanguageIdByMimeType(U){return this._registry.getLanguageIdByMimeType(U)}guessLanguageIdByFilepathOrFirstLine(U,le){const ye=this._registry.guessLanguageIdByFilepathOrFirstLine(U,le);return(0,Q.Fy)(ye,null)}createById(U){return new Rn(this.onDidChange,()=>this._createAndGetLanguageIdentifier(U))}createByFilepathOrFirstLine(U,le){return new Rn(this.onDidChange,()=>{const ye=this.guessLanguageIdByFilepathOrFirstLine(U,le);return this._createAndGetLanguageIdentifier(ye)})}_createAndGetLanguageIdentifier(U){return(!U||!this.isRegisteredLanguageId(U))&&(U=E.vH),U}requestBasicLanguageFeatures(U){this._requestedBasicLanguages.has(U)||(this._requestedBasicLanguages.add(U),this._onDidRequestBasicLanguageFeatures.fire(U))}requestRichLanguageFeatures(U){this._requestedRichLanguages.has(U)||(this._requestedRichLanguages.add(U),this.requestBasicLanguageFeatures(U),V.dG.getOrCreate(U),this._onDidRequestRichLanguageFeatures.fire(U))}};s(Pn,"LanguageService"),Pn.instanceCount=0;let hi=Pn;const Nn=class Nn{constructor(U,le){this._value=je(this,U,()=>le()),this.onDidChange=N.Jh.fromObservable(this._value)}get languageId(){return this._value.get()}};s(Nn,"LanguageSelection");let Rn=Nn},5996:(qe,Ce,v)=>{"use strict";v.r(Ce),v.d(Ce,{clearPlatformLanguageAssociations:s(()=>O,"clearPlatformLanguageAssociations"),getLanguageIds:s(()=>M,"getLanguageIds"),registerPlatformLanguageAssociation:s(()=>y,"registerPlatformLanguageAssociation")});var N=v(3958),K=v(3720),o=v(3072),Q=v(4033),V=v(2467),E=v(6844),u=v(4957);let G=[],T=[],Y=[];function y(C,R=!1){W(C,!1,R)}s(y,"registerPlatformLanguageAssociation");function W(C,R,ie){const ue=P(C,R);G.push(ue),ue.userConfigured?Y.push(ue):T.push(ue),ie&&!ue.userConfigured&&G.forEach(xe=>{xe.mime===ue.mime||xe.userConfigured||(ue.extension&&xe.extension===ue.extension&&console.warn(`Overwriting extension <<${ue.extension}>> to now point to mime <<${ue.mime}>>`),ue.filename&&xe.filename===ue.filename&&console.warn(`Overwriting filename <<${ue.filename}>> to now point to mime <<${ue.mime}>>`),ue.filepattern&&xe.filepattern===ue.filepattern&&console.warn(`Overwriting filepattern <<${ue.filepattern}>> to now point to mime <<${ue.mime}>>`),ue.firstline&&xe.firstline===ue.firstline&&console.warn(`Overwriting firstline <<${ue.firstline}>> to now point to mime <<${ue.mime}>>`))})}s(W,"_registerLanguageAssociation");function P(C,R){return{id:C.id,mime:C.mime,filename:C.filename,extension:C.extension,filepattern:C.filepattern,firstline:C.firstline,userConfigured:R,filenameLowercase:C.filename?C.filename.toLowerCase():void 0,extensionLowercase:C.extension?C.extension.toLowerCase():void 0,filepatternLowercase:C.filepattern?(0,N.qg)(C.filepattern.toLowerCase()):void 0,filepatternOnPath:C.filepattern?C.filepattern.indexOf(Q.SA.sep)>=0:!1}}s(P,"toLanguageAssociationItem");function O(){G=G.filter(C=>C.userConfigured),T=[]}s(O,"clearPlatformLanguageAssociations");function M(C,R){return g(C,R).map(ie=>ie.id)}s(M,"getLanguageIds");function g(C,R){let ie;if(C)switch(C.scheme){case o.ny.file:ie=C.fsPath;break;case o.ny.data:{ie=V.B6.parseMetaData(C).get(V.B6.META_DATA_LABEL);break}case o.ny.vscodeNotebookCell:ie=void 0;break;default:ie=C.path}if(!ie)return[{id:"unknown",mime:K.K.unknown}];ie=ie.toLowerCase();const ue=(0,Q.P8)(ie),xe=ee(ie,ue,Y);if(xe)return[xe,{id:u.vH,mime:K.K.text}];const he=ee(ie,ue,T);if(he)return[he,{id:u.vH,mime:K.K.text}];if(R){const I=H(R);if(I)return[I,{id:u.vH,mime:K.K.text}]}return[{id:"unknown",mime:K.K.unknown}]}s(g,"getAssociations");function ee(C,R,ie){var I;let ue,xe,he;for(let c=ie.length-1;c>=0;c--){const f=ie[c];if(R===f.filenameLowercase){ue=f;break}if(f.filepattern&&(!xe||f.filepattern.length>xe.filepattern.length)){const d=f.filepatternOnPath?C:R;(I=f.filepatternLowercase)!=null&&I.call(f,d)&&(xe=f)}f.extension&&(!he||f.extension.length>he.extension.length)&&R.endsWith(f.extensionLowercase)&&(he=f)}if(ue)return ue;if(xe)return xe;if(he)return he}s(ee,"getAssociationByPath");function H(C){if((0,E.LU)(C)&&(C=C.substr(1)),C.length>0)for(let R=G.length-1;R>=0;R--){const ie=G[R];if(!ie.firstline)continue;const ue=C.match(ie.firstline);if(ue&&ue.length>0)return ie}}s(H,"getAssociationByFirstline")},6995:(qe,Ce,v)=>{"use strict";v.r(Ce),v.d(Ce,{LanguageIdCodec:s(()=>Y,"LanguageIdCodec"),LanguagesRegistry:s(()=>y,"LanguagesRegistry")});var N=v(2106),K=v(9235),o=v(6844),Q=v(5996),V=v(4957),E=v(7142),u=v(7167);const G=Object.prototype.hasOwnProperty,T="vs.editor.nullLanguage",W=class W{constructor(){this._languageIdToLanguage=[],this._languageToLanguageId=new Map,this._register(T,0),this._register(V.vH,1),this._nextLanguageId=2}_register(M,g){this._languageIdToLanguage[g]=M,this._languageToLanguageId.set(M,g)}register(M){if(this._languageToLanguageId.has(M))return;const g=this._nextLanguageId++;this._register(M,g)}encodeLanguageId(M){return this._languageToLanguageId.get(M)||0}decodeLanguageId(M){return this._languageIdToLanguage[M]||T}};s(W,"LanguageIdCodec");let Y=W;const P=class P extends K.jG{constructor(M=!0,g=!1){super(),this._onDidChange=this._register(new N.vl),this.onDidChange=this._onDidChange.event,P.instanceCount++,this._warnOnOverwrite=g,this.languageIdCodec=new Y,this._dynamicLanguages=[],this._languages={},this._mimeTypesMap={},this._nameMap={},this._lowercaseNameMap={},M&&(this._initializeFromRegistry(),this._register(V.W6.onDidChangeLanguages(ee=>{this._initializeFromRegistry()})))}dispose(){P.instanceCount--,super.dispose()}_initializeFromRegistry(){this._languages={},this._mimeTypesMap={},this._nameMap={},this._lowercaseNameMap={},(0,Q.clearPlatformLanguageAssociations)();const M=[].concat(V.W6.getLanguages()).concat(this._dynamicLanguages);this._registerLanguages(M)}_registerLanguages(M){for(const g of M)this._registerLanguage(g);this._mimeTypesMap={},this._nameMap={},this._lowercaseNameMap={},Object.keys(this._languages).forEach(g=>{const ee=this._languages[g];ee.name&&(this._nameMap[ee.name]=ee.identifier),ee.aliases.forEach(H=>{this._lowercaseNameMap[H.toLowerCase()]=ee.identifier}),ee.mimetypes.forEach(H=>{this._mimeTypesMap[H]=ee.identifier})}),u.O.as(E.Fd.Configuration).registerOverrideIdentifiers(this.getRegisteredLanguageIds()),this._onDidChange.fire()}_registerLanguage(M){const g=M.id;let ee;G.call(this._languages,g)?ee=this._languages[g]:(this.languageIdCodec.register(g),ee={identifier:g,name:null,mimetypes:[],aliases:[],extensions:[],filenames:[],configurationFiles:[],icons:[]},this._languages[g]=ee),this._mergeLanguage(ee,M)}_mergeLanguage(M,g){const ee=g.id;let H=null;if(Array.isArray(g.mimetypes)&&g.mimetypes.length>0&&(M.mimetypes.push(...g.mimetypes),H=g.mimetypes[0]),H||(H=`text/x-${ee}`,M.mimetypes.push(H)),Array.isArray(g.extensions)){g.configuration?M.extensions=g.extensions.concat(M.extensions):M.extensions=M.extensions.concat(g.extensions);for(const ie of g.extensions)(0,Q.registerPlatformLanguageAssociation)({id:ee,mime:H,extension:ie},this._warnOnOverwrite)}if(Array.isArray(g.filenames))for(const ie of g.filenames)(0,Q.registerPlatformLanguageAssociation)({id:ee,mime:H,filename:ie},this._warnOnOverwrite),M.filenames.push(ie);if(Array.isArray(g.filenamePatterns))for(const ie of g.filenamePatterns)(0,Q.registerPlatformLanguageAssociation)({id:ee,mime:H,filepattern:ie},this._warnOnOverwrite);if(typeof g.firstLine=="string"&&g.firstLine.length>0){let ie=g.firstLine;ie.charAt(0)!=="^"&&(ie="^"+ie);try{const ue=new RegExp(ie);(0,o.eY)(ue)||(0,Q.registerPlatformLanguageAssociation)({id:ee,mime:H,firstline:ue},this._warnOnOverwrite)}catch(ue){console.warn(`[${g.id}]: Invalid regular expression \`${ie}\`: `,ue)}}M.aliases.push(ee);let C=null;if(typeof g.aliases!="undefined"&&Array.isArray(g.aliases)&&(g.aliases.length===0?C=[null]:C=g.aliases),C!==null)for(const ie of C)!ie||ie.length===0||M.aliases.push(ie);const R=C!==null&&C.length>0;if(!(R&&C[0]===null)){const ie=(R?C[0]:null)||ee;(R||!M.name)&&(M.name=ie)}g.configuration&&M.configurationFiles.push(g.configuration),g.icon&&M.icons.push(g.icon)}isRegisteredLanguageId(M){return M?G.call(this._languages,M):!1}getRegisteredLanguageIds(){return Object.keys(this._languages)}getLanguageIdByLanguageName(M){const g=M.toLowerCase();return G.call(this._lowercaseNameMap,g)?this._lowercaseNameMap[g]:null}getLanguageIdByMimeType(M){return M&&G.call(this._mimeTypesMap,M)?this._mimeTypesMap[M]:null}guessLanguageIdByFilepathOrFirstLine(M,g){return!M&&!g?[]:(0,Q.getLanguageIds)(M,g)}};s(P,"LanguagesRegistry"),P.instanceCount=0;let y=P},886:(qe,Ce,v)=>{"use strict";v.r(Ce),v.d(Ce,{IMarkerDecorationsService:s(()=>K,"IMarkerDecorationsService")});var N=v(2399);const K=(0,N.u1)("markerDecorationsService")},453:(qe,Ce,v)=>{"use strict";var I;v.r(Ce),v.d(Ce,{MarkerDecorationsService:s(()=>xe,"MarkerDecorationsService")});var N=v(6844),K;(function(f){f[f.Ignore=0]="Ignore",f[f.Info=1]="Info",f[f.Warning=2]="Warning",f[f.Error=3]="Error"})(K||(K={})),function(f){const d="error",x="warning",B="warn",D="info",q="ignore";function se(_e){return _e?N.Q_(d,_e)?f.Error:N.Q_(x,_e)||N.Q_(B,_e)?f.Warning:N.Q_(D,_e)?f.Info:f.Ignore:f.Ignore}s(se,"fromValue"),f.fromValue=se;function re(_e){switch(_e){case f.Error:return d;case f.Warning:return x;case f.Info:return D;default:return q}}s(re,"toString"),f.toString=re}(K||(K={}));const o=K;var Q=v(9746),V=v(2399),E;(function(f){f[f.Hint=1]="Hint",f[f.Info=2]="Info",f[f.Warning=4]="Warning",f[f.Error=8]="Error"})(E||(E={})),function(f){function d(se,re){return re-se}s(d,"compare"),f.compare=d;const x=Object.create(null);x[f.Error]=(0,Q.kg)("sev.error","Error"),x[f.Warning]=(0,Q.kg)("sev.warning","Warning"),x[f.Info]=(0,Q.kg)("sev.info","Info");function B(se){return x[se]||""}s(B,"toString"),f.toString=B;function D(se){switch(se){case o.Error:return f.Error;case o.Warning:return f.Warning;case o.Info:return f.Info;case o.Ignore:return f.Hint}}s(D,"fromSeverity"),f.fromSeverity=D;function q(se){switch(se){case f.Error:return o.Error;case f.Warning:return o.Warning;case f.Info:return o.Info;case f.Hint:return o.Ignore}}s(q,"toSeverity"),f.toSeverity=q}(E||(E={}));var u;(function(f){const d="";function x(D){return B(D,!0)}s(x,"makeKey"),f.makeKey=x;function B(D,q){const se=[d];return D.source?se.push(D.source.replace("\xA6","\\\xA6")):se.push(d),D.code?typeof D.code=="string"?se.push(D.code.replace("\xA6","\\\xA6")):se.push(D.code.value.replace("\xA6","\\\xA6")):se.push(d),D.severity!==void 0&&D.severity!==null?se.push(E.toString(D.severity)):se.push(d),D.message&&q?se.push(D.message.replace("\xA6","\\\xA6")):se.push(d),D.startLineNumber!==void 0&&D.startLineNumber!==null?se.push(D.startLineNumber.toString()):se.push(d),D.startColumn!==void 0&&D.startColumn!==null?se.push(D.startColumn.toString()):se.push(d),D.endLineNumber!==void 0&&D.endLineNumber!==null?se.push(D.endLineNumber.toString()):se.push(d),D.endColumn!==void 0&&D.endColumn!==null?se.push(D.endColumn.toString()):se.push(d),se.push(d),se.join("\xA6")}s(B,"makeKeyOptionalMessage"),f.makeKeyOptionalMessage=B})(u||(u={}));const G=(0,V.u1)("markerService");var T=v(9235),Y=v(6055),y=v(5295),W=v(8295),P=v(4830),O=v(8061),M=v(3072),g=v(2106),ee=v(61),H=v(7992);function C(f,d){const x=[],B=[];for(const D of f)d.has(D)||x.push(D);for(const D of d)f.has(D)||B.push(D);return{removed:x,added:B}}s(C,"diffSets");function R(f,d){const x=new Set;for(const B of d)f.has(B)&&x.add(B);return x}s(R,"intersection");var ie=function(f,d,x,B){var D=arguments.length,q=D<3?d:B===null?B=Object.getOwnPropertyDescriptor(d,x):B,se;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")q=Reflect.decorate(f,d,x,B);else for(var re=f.length-1;re>=0;re--)(se=f[re])&&(q=(D<3?se(q):D>3?se(d,x,q):se(d,x))||q);return D>3&&q&&Object.defineProperty(d,x,q),q},ue=function(f,d){return function(x,B){d(x,B,f)}};let xe=(I=class extends T.jG{constructor(d,x){super(),this._markerService=x,this._onDidChangeMarker=this._register(new g.vl),this._markerDecorations=new H.fT,d.getModels().forEach(B=>this._onModelAdded(B)),this._register(d.onModelAdded(this._onModelAdded,this)),this._register(d.onModelRemoved(this._onModelRemoved,this)),this._register(this._markerService.onMarkerChanged(this._handleMarkerChange,this))}dispose(){super.dispose(),this._markerDecorations.forEach(d=>d.dispose()),this._markerDecorations.clear()}getMarker(d,x){const B=this._markerDecorations.get(d);return B&&B.getMarker(x)||null}_handleMarkerChange(d){d.forEach(x=>{const B=this._markerDecorations.get(x);B&&this._updateDecorations(B)})}_onModelAdded(d){const x=new he(d);this._markerDecorations.set(d.uri,x),this._updateDecorations(x)}_onModelRemoved(d){var B;const x=this._markerDecorations.get(d.uri);x&&(x.dispose(),this._markerDecorations.delete(d.uri)),(d.uri.scheme===M.ny.inMemory||d.uri.scheme===M.ny.internal||d.uri.scheme===M.ny.vscode)&&((B=this._markerService)==null||B.read({resource:d.uri}).map(D=>D.owner).forEach(D=>this._markerService.remove(D,[d.uri])))}_updateDecorations(d){const x=this._markerService.read({resource:d.model.uri,take:500});d.update(x)&&this._onDidChangeMarker.fire(d.model)}},s(I,"MarkerDecorationsService"),I);xe=ie([ue(0,P.IModelService),ue(1,G)],xe);const c=class c extends T.jG{constructor(d){super(),this.model=d,this._map=new H.cO,this._register((0,T.s)(()=>{this.model.deltaDecorations([...this._map.values()],[]),this._map.clear()}))}update(d){const{added:x,removed:B}=C(new Set(this._map.keys()),new Set(d));if(x.length===0&&B.length===0)return!1;const D=B.map(re=>this._map.get(re)),q=x.map(re=>({range:this._createDecorationRange(this.model,re),options:this._createDecorationOption(re)})),se=this.model.deltaDecorations(D,q);for(const re of B)this._map.delete(re);for(let re=0;re<se.length;re++)this._map.set(x[re],se[re]);return!0}getMarker(d){return this._map.getKey(d.id)}_createDecorationRange(d,x){let B=O.Q.lift(x);if(x.severity===E.Hint&&!this._hasMarkerTag(x,1)&&!this._hasMarkerTag(x,2)&&(B=B.setEndPosition(B.startLineNumber,B.startColumn+2)),B=d.validateRange(B),B.isEmpty()){const D=d.getLineLastNonWhitespaceColumn(B.startLineNumber)||d.getLineMaxColumn(B.startLineNumber);if(D===1||B.endColumn>=D)return B;const q=d.getWordAtPosition(B.getStartPosition());q&&(B=new O.Q(B.startLineNumber,q.startColumn,B.endLineNumber,q.endColumn))}else if(x.endColumn===Number.MAX_VALUE&&x.startColumn===1&&B.startLineNumber===B.endLineNumber){const D=d.getLineFirstNonWhitespaceColumn(x.startLineNumber);D<B.endColumn&&(B=new O.Q(B.startLineNumber,D,B.endLineNumber,B.endColumn),x.startColumn=D)}return B}_createDecorationOption(d){let x,B,D,q,se;switch(d.severity){case E.Hint:this._hasMarkerTag(d,2)?x=void 0:this._hasMarkerTag(d,1)?x="squiggly-unnecessary":x="squiggly-hint",D=0;break;case E.Info:x="squiggly-info",B=(0,y.Yf)(W.AQ),D=10,se={color:(0,y.Yf)(ee.KoI),position:1};break;case E.Warning:x="squiggly-warning",B=(0,y.Yf)(W.aZ),D=20,se={color:(0,y.Yf)(ee.uMG),position:1};break;case E.Error:default:x="squiggly-error",B=(0,y.Yf)(W.yI),D=30,se={color:(0,y.Yf)(ee.yLC),position:1};break}return d.tags&&(d.tags.indexOf(1)!==-1&&(q="squiggly-inline-unnecessary"),d.tags.indexOf(2)!==-1&&(q="squiggly-inline-deprecated")),{description:"marker-decoration",stickiness:1,className:x,showIfCollapsed:!0,overviewRuler:{color:B,position:Y.A5.Right},minimap:se,zIndex:D,inlineClassName:q}}_hasMarkerTag(d,x){return d.tags?d.tags.indexOf(x)>=0:!1}};s(c,"MarkerDecorations");let he=c},4830:(qe,Ce,v)=>{"use strict";v.r(Ce),v.d(Ce,{IModelService:s(()=>K,"IModelService")});var N=v(2399);const K=(0,N.u1)("modelService")},125:(qe,Ce,v)=>{"use strict";var hs,fs,ni,Fi;v.r(Ce),v.d(Ce,{DefaultModelSHA1Computer:s(()=>gr,"DefaultModelSHA1Computer"),ModelService:s(()=>Jr,"ModelService")});var N=v(2106),K=v(9235),o=v(3339),Q=v(3338),V=v(4901),E=v(4327),u=v(6844),G=v(7264),T=v(3902);const mr=class mr{static _nextVisibleColumn(e,t,i){return e===9?mr.nextRenderTabStop(t,i):u.ne(e)||u.Ss(e)?t+2:t+1}static visibleColumnFromColumn(e,t,i){const r=Math.min(t-1,e.length),a=e.substring(0,r),l=new u.km(a);let p=0;for(;!l.eol();){const k=u.Z5(a,r,l.offset);l.nextGraphemeLength(),p=this._nextVisibleColumn(k,p,i)}return p}static columnFromVisibleColumn(e,t,i){if(t<=0)return 1;const r=e.length,a=new u.km(e);let l=0,p=1;for(;!a.eol();){const k=u.Z5(e,r,a.offset);a.nextGraphemeLength();const j=this._nextVisibleColumn(k,l,i),Z=a.offset+1;if(j>=t){const ne=t-l;return j-t<ne?Z:p}l=j,p=Z}return r+1}static nextRenderTabStop(e,t){return e+t-e%t}static nextIndentTabStop(e,t){return e+t-e%t}static prevRenderTabStop(e,t){return Math.max(0,e-1-(e-1)%t)}static prevIndentTabStop(e,t){return Math.max(0,e-1-(e-1)%t)}};s(mr,"CursorColumns");let Y=mr;function y(_,e,t){let i=0;for(let a=0;a<_.length;a++)_.charAt(a)==="	"?i=Y.nextIndentTabStop(i,e):i++;let r="";if(!t){const a=Math.floor(i/e);i=i%e;for(let l=0;l<a;l++)r+="	"}for(let a=0;a<i;a++)r+=" ";return r}s(y,"_normalizeIndentationFromWhitespace");function W(_,e,t){let i=u.HG(_);return i===-1&&(i=_.length),y(_.substring(0,i),e,t)+_.substring(i)}s(W,"normalizeIndentation");var P=v(5365),O=v(8061),M=v(3702);const g={tabSize:4,indentSize:4,insertSpaces:!0,detectIndentation:!0,trimAutoWhitespace:!0,largeFileOptimizations:!0,bracketPairColorizationOptions:{enabled:!0,independentColorPoolPerBracketType:!1}};var ee=v(7922),H=v(8782),C;(function(_){_[_.None=0]="None",_[_.Indent=1]="Indent",_[_.IndentOutdent=2]="IndentOutdent",_[_.Outdent=3]="Outdent"})(C||(C={}));const eo=class eo{constructor(e){if(this._neutralCharacter=null,this._neutralCharacterSearched=!1,this.open=e.open,this.close=e.close,this._inString=!0,this._inComment=!0,this._inRegEx=!0,Array.isArray(e.notIn))for(let t=0,i=e.notIn.length;t<i;t++)switch(e.notIn[t]){case"string":this._inString=!1;break;case"comment":this._inComment=!1;break;case"regex":this._inRegEx=!1;break}}isOK(e){switch(e){case 0:return!0;case 1:return this._inComment;case 2:return this._inString;case 3:return this._inRegEx}}shouldAutoClose(e,t){if(e.getTokenCount()===0)return!0;const i=e.findTokenIndexAtOffset(t-2),r=e.getStandardTokenType(i);return this.isOK(r)}_findNeutralCharacterInRange(e,t){for(let i=e;i<=t;i++){const r=String.fromCharCode(i);if(!this.open.includes(r)&&!this.close.includes(r))return r}return null}findNeutralCharacter(){return this._neutralCharacterSearched||(this._neutralCharacterSearched=!0,this._neutralCharacter||(this._neutralCharacter=this._findNeutralCharacterInRange(48,57)),this._neutralCharacter||(this._neutralCharacter=this._findNeutralCharacterInRange(97,122)),this._neutralCharacter||(this._neutralCharacter=this._findNeutralCharacterInRange(65,90))),this._neutralCharacter}};s(eo,"StandardAutoClosingPairConditional");let R=eo;const to=class to{constructor(e){this.autoClosingPairsOpenByStart=new Map,this.autoClosingPairsOpenByEnd=new Map,this.autoClosingPairsCloseByStart=new Map,this.autoClosingPairsCloseByEnd=new Map,this.autoClosingPairsCloseSingleChar=new Map;for(const t of e)ue(this.autoClosingPairsOpenByStart,t.open.charAt(0),t),ue(this.autoClosingPairsOpenByEnd,t.open.charAt(t.open.length-1),t),ue(this.autoClosingPairsCloseByStart,t.close.charAt(0),t),ue(this.autoClosingPairsCloseByEnd,t.close.charAt(t.close.length-1),t),t.close.length===1&&t.open.length===1&&ue(this.autoClosingPairsCloseSingleChar,t.close,t)}};s(to,"AutoClosingPairs");let ie=to;function ue(_,e,t){_.has(e)?_.get(e).push(t):_.set(e,[t])}s(ue,"appendEntry");const $i=class $i{constructor(e){if(e.autoClosingPairs?this._autoClosingPairs=e.autoClosingPairs.map(t=>new R(t)):e.brackets?this._autoClosingPairs=e.brackets.map(t=>new R({open:t[0],close:t[1]})):this._autoClosingPairs=[],e.__electricCharacterSupport&&e.__electricCharacterSupport.docComment){const t=e.__electricCharacterSupport.docComment;this._autoClosingPairs.push(new R({open:t.open,close:t.close||""}))}this._autoCloseBeforeForQuotes=typeof e.autoCloseBefore=="string"?e.autoCloseBefore:$i.DEFAULT_AUTOCLOSE_BEFORE_LANGUAGE_DEFINED_QUOTES,this._autoCloseBeforeForBrackets=typeof e.autoCloseBefore=="string"?e.autoCloseBefore:$i.DEFAULT_AUTOCLOSE_BEFORE_LANGUAGE_DEFINED_BRACKETS,this._surroundingPairs=e.surroundingPairs||this._autoClosingPairs}getAutoClosingPairs(){return this._autoClosingPairs}getAutoCloseBeforeSet(e){return e?this._autoCloseBeforeForQuotes:this._autoCloseBeforeForBrackets}getSurroundingPairs(){return this._surroundingPairs}};s($i,"CharacterPairSupport"),$i.DEFAULT_AUTOCLOSE_BEFORE_LANGUAGE_DEFINED_QUOTES=`;:.,=}])> 
	`,$i.DEFAULT_AUTOCLOSE_BEFORE_LANGUAGE_DEFINED_BRACKETS=`'"\`;:.,=}])> 
	`;let xe=$i;function he(_,e){const t=_.getCount(),i=_.findTokenIndexAtOffset(e),r=_.getLanguageId(i);let a=i;for(;a+1<t&&_.getLanguageId(a+1)===r;)a++;let l=i;for(;l>0&&_.getLanguageId(l-1)===r;)l--;return new I(_,r,l,a+1,_.getStartOffset(l),_.getEndOffset(a))}s(he,"createScopedLineTokens");const no=class no{constructor(e,t,i,r,a,l){this._scopedLineTokensBrand=void 0,this._actual=e,this.languageId=t,this._firstTokenIndex=i,this._lastTokenIndex=r,this.firstCharOffset=a,this._lastCharOffset=l,this.languageIdCodec=e.languageIdCodec}getLineContent(){return this._actual.getLineContent().substring(this.firstCharOffset,this._lastCharOffset)}getLineLength(){return this._lastCharOffset-this.firstCharOffset}getActualLineContentBefore(e){return this._actual.getLineContent().substring(0,this.firstCharOffset+e)}getTokenCount(){return this._lastTokenIndex-this._firstTokenIndex}findTokenIndexAtOffset(e){return this._actual.findTokenIndexAtOffset(e+this.firstCharOffset)-this._firstTokenIndex}getStandardTokenType(e){return this._actual.getStandardTokenType(e+this._firstTokenIndex)}toIViewLineTokens(){return this._actual.sliceAndInflate(this.firstCharOffset,this._lastCharOffset,0)}};s(no,"ScopedLineTokens");let I=no;function c(_){return(_&3)!==0}s(c,"ignoreBracketsInToken");var f=v(2802);let d;function x(){return d||(d=new TextDecoder("UTF-16LE")),d}s(x,"getUTF16LE_TextDecoder");let B;function D(){return B||(B=new TextDecoder("UTF-16BE")),B}s(D,"getUTF16BE_TextDecoder");let q;function se(){return q||(q=o.cm()?x():D()),q}s(se,"getPlatformTextDecoder");function re(_,e,t){const i=new Uint16Array(_.buffer,e,t);return t>0&&(i[0]===65279||i[0]===65534)?_e(_,e,t):x().decode(i)}s(re,"decodeUTF16LE");function _e(_,e,t){const i=[];let r=0;for(let a=0;a<t;a++){const l=f.$l(_,e);e+=2,i[r++]=String.fromCharCode(l)}return i.join("")}s(_e,"compatDecodeUTF16LE");const io=class io{constructor(e){this._capacity=e|0,this._buffer=new Uint16Array(this._capacity),this._completedStrings=null,this._bufferLength=0}reset(){this._completedStrings=null,this._bufferLength=0}build(){return this._completedStrings!==null?(this._flushBuffer(),this._completedStrings.join("")):this._buildBuffer()}_buildBuffer(){if(this._bufferLength===0)return"";const e=new Uint16Array(this._buffer.buffer,0,this._bufferLength);return se().decode(e)}_flushBuffer(){const e=this._buildBuffer();this._bufferLength=0,this._completedStrings===null?this._completedStrings=[e]:this._completedStrings[this._completedStrings.length]=e}appendCharCode(e){const t=this._capacity-this._bufferLength;t<=1&&(t===0||strings.isHighSurrogate(e))&&this._flushBuffer(),this._buffer[this._bufferLength++]=e}appendASCIICharCode(e){this._bufferLength===this._capacity&&this._flushBuffer(),this._buffer[this._bufferLength++]=e}appendString(e){const t=e.length;if(this._bufferLength+t>=this._capacity){this._flushBuffer(),this._completedStrings[this._completedStrings.length]=e;return}for(let i=0;i<t;i++)this._buffer[this._bufferLength++]=e.charCodeAt(i)}};s(io,"StringBuilder");let Se=io;const xs=class xs{constructor(e,t,i,r,a,l){this._richEditBracketBrand=void 0,this.languageId=e,this.index=t,this.open=i,this.close=r,this.forwardRegex=a,this.reversedRegex=l,this._openSet=xs._toSet(this.open),this._closeSet=xs._toSet(this.close)}isOpen(e){return this._openSet.has(e)}isClose(e){return this._closeSet.has(e)}static _toSet(e){const t=new Set;for(const i of e)t.add(i);return t}};s(xs,"RichEditBracket");let Ae=xs;function we(_){const e=_.length;_=_.map(l=>[l[0].toLowerCase(),l[1].toLowerCase()]);const t=[];for(let l=0;l<e;l++)t[l]=l;const i=s((l,p)=>{const[k,j]=l,[Z,ne]=p;return k===Z||k===ne||j===Z||j===ne},"areOverlapping"),r=s((l,p)=>{const k=Math.min(l,p),j=Math.max(l,p);for(let Z=0;Z<e;Z++)t[Z]===j&&(t[Z]=k)},"mergeGroups");for(let l=0;l<e;l++){const p=_[l];for(let k=l+1;k<e;k++){const j=_[k];i(p,j)&&r(t[l],t[k])}}const a=[];for(let l=0;l<e;l++){const p=[],k=[];for(let j=0;j<e;j++)if(t[j]===l){const[Z,ne]=_[j];p.push(Z),k.push(ne)}p.length>0&&a.push({open:p,close:k})}return a}s(we,"groupFuzzyBrackets");const so=class so{constructor(e,t){this._richEditBracketsBrand=void 0;const i=we(t);this.brackets=i.map((r,a)=>new Ae(e,a,r.open,r.close,S(r.open,r.close,i,a),$(r.open,r.close,i,a))),this.forwardRegex=te(this.brackets),this.reversedRegex=ce(this.brackets),this.textIsBracket={},this.textIsOpenBracket={},this.maxBracketLength=0;for(const r of this.brackets){for(const a of r.open)this.textIsBracket[a]=r,this.textIsOpenBracket[a]=!0,this.maxBracketLength=Math.max(this.maxBracketLength,a.length);for(const a of r.close)this.textIsBracket[a]=r,this.textIsOpenBracket[a]=!1,this.maxBracketLength=Math.max(this.maxBracketLength,a.length)}}};s(so,"RichEditBrackets");let L=so;function A(_,e,t,i){for(let r=0,a=e.length;r<a;r++){if(r===t)continue;const l=e[r];for(const p of l.open)p.indexOf(_)>=0&&i.push(p);for(const p of l.close)p.indexOf(_)>=0&&i.push(p)}}s(A,"collectSuperstrings");function z(_,e){return _.length-e.length}s(z,"lengthcmp");function b(_){if(_.length<=1)return _;const e=[],t=new Set;for(const i of _)t.has(i)||(e.push(i),t.add(i));return e}s(b,"unique");function S(_,e,t,i){let r=[];r=r.concat(_),r=r.concat(e);for(let a=0,l=r.length;a<l;a++)A(r[a],t,i,r);return r=b(r),r.sort(z),r.reverse(),Ne(r)}s(S,"getRegexForBracketPair");function $(_,e,t,i){let r=[];r=r.concat(_),r=r.concat(e);for(let a=0,l=r.length;a<l;a++)A(r[a],t,i,r);return r=b(r),r.sort(z),r.reverse(),Ne(r.map(He))}s($,"getReversedRegexForBracketPair");function te(_){let e=[];for(const t of _){for(const i of t.open)e.push(i);for(const i of t.close)e.push(i)}return e=b(e),Ne(e)}s(te,"getRegexForBrackets");function ce(_){let e=[];for(const t of _){for(const i of t.open)e.push(i);for(const i of t.close)e.push(i)}return e=b(e),Ne(e.map(He))}s(ce,"getReversedRegexForBrackets");function Te(_){const e=/^[\w ]+$/.test(_);return _=u.bm(_),e?`\\b${_}\\b`:_}s(Te,"prepareBracketForRegExp");function Ne(_,e){const t=`(${_.map(Te).join(")|(")})`;return u.OS(t,!0,e)}s(Ne,"createBracketOrRegExp");const He=function(){function _(i){const r=new Uint16Array(i.length);let a=0;for(let l=i.length-1;l>=0;l--)r[a++]=i.charCodeAt(l);return se().decode(r)}s(_,"reverse");let e=null,t=null;return s(function(r){return e!==r&&(e=r,t=_(e)),t},"toReversedString")}(),ro=class ro{static _findPrevBracketInText(e,t,i,r){const a=i.match(e);if(!a)return null;const l=i.length-(a.index||0),p=a[0].length,k=r+l;return new O.Q(t,k-p+1,t,k+1)}static findPrevBracketInRange(e,t,i,r,a){const p=He(i).substring(i.length-a,i.length-r);return this._findPrevBracketInText(e,t,p,r)}static findNextBracketInText(e,t,i,r){const a=i.match(e);if(!a)return null;const l=a.index||0,p=a[0].length;if(p===0)return null;const k=r+l;return new O.Q(t,k+1,t,k+1+p)}static findNextBracketInRange(e,t,i,r,a){const l=i.substring(r,a);return this.findNextBracketInText(e,t,l,r)}};s(ro,"BracketsUtils");let Pe=ro;const oo=class oo{constructor(e){this._richEditBrackets=e}getElectricCharacters(){const e=[];if(this._richEditBrackets)for(const t of this._richEditBrackets.brackets)for(const i of t.close){const r=i.charAt(i.length-1);e.push(r)}return(0,Q.dM)(e)}onElectricCharacter(e,t,i){if(!this._richEditBrackets||this._richEditBrackets.brackets.length===0)return null;const r=t.findTokenIndexAtOffset(i-1);if(c(t.getStandardTokenType(r)))return null;const a=this._richEditBrackets.reversedRegex,l=t.getLineContent().substring(0,i-1)+e,p=Pe.findPrevBracketInRange(a,1,l,0,l.length);if(!p)return null;const k=l.substring(p.startColumn-1,p.endColumn-1).toLowerCase();if(this._richEditBrackets.textIsOpenBracket[k])return null;const Z=t.getActualLineContentBefore(p.startColumn-1);return/^\s*$/.test(Z)?{matchOpenBracket:k}:null}};s(oo,"BracketElectricCharacterSupport");let Xe=oo;function xt(_){return _.global&&(_.lastIndex=0),!0}s(xt,"resetGlobalRegex");const ao=class ao{constructor(e){this._indentationRules=e}shouldIncrease(e){return!!(this._indentationRules&&this._indentationRules.increaseIndentPattern&&xt(this._indentationRules.increaseIndentPattern)&&this._indentationRules.increaseIndentPattern.test(e))}shouldDecrease(e){return!!(this._indentationRules&&this._indentationRules.decreaseIndentPattern&&xt(this._indentationRules.decreaseIndentPattern)&&this._indentationRules.decreaseIndentPattern.test(e))}shouldIndentNextLine(e){return!!(this._indentationRules&&this._indentationRules.indentNextLinePattern&&xt(this._indentationRules.indentNextLinePattern)&&this._indentationRules.indentNextLinePattern.test(e))}shouldIgnore(e){return!!(this._indentationRules&&this._indentationRules.unIndentedLinePattern&&xt(this._indentationRules.unIndentedLinePattern)&&this._indentationRules.unIndentedLinePattern.test(e))}getIndentMetadata(e){let t=0;return this.shouldIncrease(e)&&(t+=1),this.shouldDecrease(e)&&(t+=2),this.shouldIndentNextLine(e)&&(t+=4),this.shouldIgnore(e)&&(t+=8),t}};s(ao,"IndentRulesSupport");let dt=ao;const Gi=class Gi{constructor(e){e=e||{},e.brackets=e.brackets||[["(",")"],["{","}"],["[","]"]],this._brackets=[],e.brackets.forEach(t=>{const i=Gi._createOpenBracketRegExp(t[0]),r=Gi._createCloseBracketRegExp(t[1]);i&&r&&this._brackets.push({open:t[0],openRegExp:i,close:t[1],closeRegExp:r})}),this._regExpRules=e.onEnterRules||[]}onEnter(e,t,i,r){if(e>=3)for(let a=0,l=this._regExpRules.length;a<l;a++){const p=this._regExpRules[a];if([{reg:p.beforeText,text:i},{reg:p.afterText,text:r},{reg:p.previousLineText,text:t}].every(j=>j.reg?(j.reg.lastIndex=0,j.reg.test(j.text)):!0))return p.action}if(e>=2&&i.length>0&&r.length>0)for(let a=0,l=this._brackets.length;a<l;a++){const p=this._brackets[a];if(p.openRegExp.test(i)&&p.closeRegExp.test(r))return{indentAction:C.IndentOutdent}}if(e>=2&&i.length>0){for(let a=0,l=this._brackets.length;a<l;a++)if(this._brackets[a].openRegExp.test(i))return{indentAction:C.Indent}}return null}static _createOpenBracketRegExp(e){let t=u.bm(e);return/\B/.test(t.charAt(0))||(t="\\b"+t),t+="\\s*$",Gi._safeRegExp(t)}static _createCloseBracketRegExp(e){let t=u.bm(e);return/\B/.test(t.charAt(t.length-1))||(t=t+"\\b"),t="^\\s*"+t,Gi._safeRegExp(t)}static _safeRegExp(e){try{return new RegExp(e)}catch(t){return(0,E.dz)(t),null}}};s(Gi,"OnEnterSupport");let Zt=Gi;var $t=v(2399),Pt=v(5753),Jt=v(9031),Rt=v(4957),Mt=v(6260);const lo=class lo{constructor(e,t){this.languageId=e;const i=t.brackets?Qt(t.brackets):[],r=new Mt.VV(p=>{const k=new Set;return{info:new Xt(this,p,k),closing:k}}),a=new Mt.VV(p=>{const k=new Set,j=new Set;return{info:new qt(this,p,k,j),opening:k,openingColorized:j}});for(const[p,k]of i){const j=r.get(p),Z=a.get(k);j.closing.add(Z.info),Z.opening.add(j.info)}const l=t.colorizedBracketPairs?Qt(t.colorizedBracketPairs):i.filter(p=>!(p[0]==="<"&&p[1]===">"));for(const[p,k]of l){const j=r.get(p),Z=a.get(k);j.closing.add(Z.info),Z.openingColorized.add(j.info),Z.opening.add(j.info)}this._openingBrackets=new Map([...r.cachedValues].map(([p,k])=>[p,k.info])),this._closingBrackets=new Map([...a.cachedValues].map(([p,k])=>[p,k.info]))}get openingBrackets(){return[...this._openingBrackets.values()]}get closingBrackets(){return[...this._closingBrackets.values()]}getOpeningBracketInfo(e){return this._openingBrackets.get(e)}getClosingBracketInfo(e){return this._closingBrackets.get(e)}getBracketInfo(e){return this.getOpeningBracketInfo(e)||this.getClosingBracketInfo(e)}getBracketRegExp(e){const t=Array.from([...this._openingBrackets.keys(),...this._closingBrackets.keys()]);return Ne(t,e)}};s(lo,"LanguageBracketsConfiguration");let Wt=lo;function Qt(_){return _.filter(([e,t])=>e!==""&&t!=="")}s(Qt,"filterValidBrackets");const uo=class uo{constructor(e,t){this.config=e,this.bracketText=t}get languageId(){return this.config.languageId}};s(uo,"BracketKindBase");let Ot=uo;const co=class co extends Ot{constructor(e,t,i){super(e,t),this.openedBrackets=i,this.isOpeningBracket=!0}};s(co,"OpeningBracketKind");let Xt=co;const ho=class ho extends Ot{constructor(e,t,i,r){super(e,t),this.openingBrackets=i,this.openingColorizedBrackets=r,this.isOpeningBracket=!1}closes(e){return e.config!==this.config?!1:this.openingBrackets.has(e)}closesColorized(e){return e.config!==this.config?!1:this.openingColorizedBrackets.has(e)}getOpeningBrackets(){return[...this.openingBrackets]}};s(ho,"ClosingBracketKind");let qt=ho;var nn=function(_,e,t,i){var r=arguments.length,a=r<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,l;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")a=Reflect.decorate(_,e,t,i);else for(var p=_.length-1;p>=0;p--)(l=_[p])&&(a=(r<3?l(a):r>3?l(e,t,a):l(e,t))||a);return r>3&&a&&Object.defineProperty(e,t,a),a},Gt=function(_,e){return function(t,i){e(t,i,_)}};const fo=class fo{constructor(e){this.languageId=e}affects(e){return this.languageId?this.languageId===e:!0}};s(fo,"LanguageConfigurationServiceChangeEvent");let Bt=fo;const Yt=(0,$t.u1)("languageConfigurationService");let be=(hs=class extends K.jG{constructor(e,t){super(),this.configurationService=e,this.languageService=t,this._registry=this._register(new et),this.onDidChangeEmitter=this._register(new N.vl),this.onDidChange=this.onDidChangeEmitter.event,this.configurations=new Map;const i=new Set(Object.values(n));this._register(this.configurationService.onDidChangeConfiguration(r=>{const a=r.change.keys.some(p=>i.has(p)),l=r.change.overrides.filter(([p,k])=>k.some(j=>i.has(j))).map(([p])=>p);if(a)this.configurations.clear(),this.onDidChangeEmitter.fire(new Bt(void 0));else for(const p of l)this.languageService.isRegisteredLanguageId(p)&&(this.configurations.delete(p),this.onDidChangeEmitter.fire(new Bt(p)))})),this._register(this._registry.onDidChange(r=>{this.configurations.delete(r.languageId),this.onDidChangeEmitter.fire(new Bt(r.languageId))}))}register(e,t,i){return this._registry.register(e,t,i)}getLanguageConfiguration(e){let t=this.configurations.get(e);return t||(t=Ee(e,this._registry,this.configurationService,this.languageService),this.configurations.set(e,t)),t}},s(hs,"LanguageConfigurationService"),hs);be=nn([Gt(0,Pt.pG),Gt(1,ee.L)],be);function Ee(_,e,t,i){let r=e.getLanguageConfiguration(_);if(!r){if(!i.isRegisteredLanguageId(_))return new mt(_,{});r=new mt(_,{})}const a=je(r.languageId,t),l=Ze([r.underlyingConfig,a]);return new mt(r.languageId,l)}s(Ee,"computeConfig");const n={brackets:"editor.language.brackets",colorizedBracketPairs:"editor.language.colorizedBracketPairs"};function je(_,e){const t=e.getValue(n.brackets,{overrideIdentifier:_}),i=e.getValue(n.colorizedBracketPairs,{overrideIdentifier:_});return{brackets:tt(t),colorizedBracketPairs:tt(i)}}s(je,"getCustomizedLanguageConfig");function tt(_){if(Array.isArray(_))return _.map(e=>{if(!(!Array.isArray(e)||e.length!==2))return[e[0],e[1]]}).filter(e=>!!e)}s(tt,"validateBracketPairs");function $e(_,e,t){const i=_.getLineContent(e);let r=strings.getLeadingWhitespace(i);return r.length>t-1&&(r=r.substring(0,t-1)),r}s($e,"getIndentationAtPosition");const go=class go{constructor(e){this.languageId=e,this._resolved=null,this._entries=[],this._order=0,this._resolved=null}register(e,t){const i=new Ge(e,t,++this._order);return this._entries.push(i),this._resolved=null,(0,K.s)(()=>{for(let r=0;r<this._entries.length;r++)if(this._entries[r]===i){this._entries.splice(r,1),this._resolved=null;break}})}getResolvedConfiguration(){if(!this._resolved){const e=this._resolve();e&&(this._resolved=new mt(this.languageId,e))}return this._resolved}_resolve(){return this._entries.length===0?null:(this._entries.sort(Ge.cmp),Ze(this._entries.map(e=>e.configuration)))}};s(go,"ComposedLanguageConfiguration");let ze=go;function Ze(_){let e={comments:void 0,brackets:void 0,wordPattern:void 0,indentationRules:void 0,onEnterRules:void 0,autoClosingPairs:void 0,surroundingPairs:void 0,autoCloseBefore:void 0,folding:void 0,colorizedBracketPairs:void 0,__electricCharacterSupport:void 0};for(const t of _)e={comments:t.comments||e.comments,brackets:t.brackets||e.brackets,wordPattern:t.wordPattern||e.wordPattern,indentationRules:t.indentationRules||e.indentationRules,onEnterRules:t.onEnterRules||e.onEnterRules,autoClosingPairs:t.autoClosingPairs||e.autoClosingPairs,surroundingPairs:t.surroundingPairs||e.surroundingPairs,autoCloseBefore:t.autoCloseBefore||e.autoCloseBefore,folding:t.folding||e.folding,colorizedBracketPairs:t.colorizedBracketPairs||e.colorizedBracketPairs,__electricCharacterSupport:t.__electricCharacterSupport||e.__electricCharacterSupport};return e}s(Ze,"combineLanguageConfigurations");const mo=class mo{constructor(e,t,i){this.configuration=e,this.priority=t,this.order=i}static cmp(e,t){return e.priority===t.priority?e.order-t.order:e.priority-t.priority}};s(mo,"LanguageConfigurationContribution");let Ge=mo;const po=class po{constructor(e){this.languageId=e}};s(po,"LanguageConfigurationChangeEvent");let Qe=po;const _o=class _o extends K.jG{constructor(){super(),this._entries=new Map,this._onDidChange=this._register(new N.vl),this.onDidChange=this._onDidChange.event,this._register(this.register(Rt.vH,{brackets:[["(",")"],["[","]"],["{","}"]],surroundingPairs:[{open:"{",close:"}"},{open:"[",close:"]"},{open:"(",close:")"},{open:"<",close:">"},{open:'"',close:'"'},{open:"'",close:"'"},{open:"`",close:"`"}],colorizedBracketPairs:[],folding:{offSide:!0}},0))}register(e,t,i=0){let r=this._entries.get(e);r||(r=new ze(e),this._entries.set(e,r));const a=r.register(t,i);return this._onDidChange.fire(new Qe(e)),(0,K.s)(()=>{a.dispose(),this._onDidChange.fire(new Qe(e))})}getLanguageConfiguration(e){const t=this._entries.get(e);return(t==null?void 0:t.getResolvedConfiguration())||null}};s(_o,"LanguageConfigurationRegistry");let et=_o;const pr=class pr{constructor(e,t){this.languageId=e,this.underlyingConfig=t,this._brackets=null,this._electricCharacter=null,this._onEnterSupport=this.underlyingConfig.brackets||this.underlyingConfig.indentationRules||this.underlyingConfig.onEnterRules?new Zt(this.underlyingConfig):null,this.comments=pr._handleComments(this.underlyingConfig),this.characterPair=new xe(this.underlyingConfig),this.wordDefinition=this.underlyingConfig.wordPattern||H.Ld,this.indentationRules=this.underlyingConfig.indentationRules,this.underlyingConfig.indentationRules?this.indentRulesSupport=new dt(this.underlyingConfig.indentationRules):this.indentRulesSupport=null,this.foldingRules=this.underlyingConfig.folding||{},this.bracketsNew=new Wt(e,this.underlyingConfig)}getWordDefinition(){return(0,H.Io)(this.wordDefinition)}get brackets(){return!this._brackets&&this.underlyingConfig.brackets&&(this._brackets=new L(this.languageId,this.underlyingConfig.brackets)),this._brackets}get electricCharacter(){return this._electricCharacter||(this._electricCharacter=new Xe(this.brackets)),this._electricCharacter}onEnter(e,t,i,r){return this._onEnterSupport?this._onEnterSupport.onEnter(e,t,i,r):null}getAutoClosingPairs(){return new ie(this.characterPair.getAutoClosingPairs())}getAutoCloseBeforeSet(e){return this.characterPair.getAutoCloseBeforeSet(e)}getSurroundingPairs(){return this.characterPair.getSurroundingPairs()}static _handleComments(e){const t=e.comments;if(!t)return null;const i={};if(t.lineComment&&(i.lineCommentToken=t.lineComment),t.blockComment){const[r,a]=t.blockComment;i.blockCommentStartToken=r,i.blockCommentEndToken=a}return i}};s(pr,"ResolvedLanguageConfiguration");let mt=pr;(0,Jt.v)(Yt,be,1);var Ct=v(6055);const bo=class bo{constructor(e,t,i,r){this.range=e,this.nestingLevel=t,this.nestingLevelOfEqualBracketType=i,this.isInvalid=r}};s(bo,"BracketInfo");let At=bo;const ko=class ko{constructor(e,t,i,r,a,l){this.range=e,this.openingBracketRange=t,this.closingBracketRange=i,this.nestingLevel=r,this.nestingLevelOfEqualBracketType=a,this.bracketPairNode=l}get openingBracketInfo(){return this.bracketPairNode.openingBracket.bracketInfo}};s(ko,"BracketPairInfo");let nt=ko;const Co=class Co extends nt{constructor(e,t,i,r,a,l,p){super(e,t,i,r,a,l),this.minVisibleColumnIndentation=p}};s(Co,"BracketPairWithMinIndentationInfo");let w=Co;var fe=v(8357);function Ue(_,e,t,i){return _!==t?_t(t-_,i):_t(0,i-e)}s(Ue,"lengthDiff");const Oe=0;function It(_){return _===0}s(It,"lengthIsZero");const rt=2**26;function _t(_,e){return _*rt+e}s(_t,"toLength");function Dt(_){const e=_,t=Math.floor(e/rt),i=e-t*rt;return new fe.W(t,i)}s(Dt,"lengthToObj");function _n(_){return Math.floor(_/rt)}s(_n,"lengthGetLineCount");function dn(_){return _}s(dn,"lengthGetColumnCountIfZeroLineCount");function Ut(_,e){let t=_+e;return e>=rt&&(t=t-_%rt),t}s(Ut,"lengthAdd");function cn(_,e){return _.reduce((t,i)=>Ut(t,e(i)),Oe)}s(cn,"sumLengths");function hi(_,e){return _===e}s(hi,"lengthEquals");function Rn(_,e){const t=_,i=e;if(i-t<=0)return Oe;const a=Math.floor(t/rt),l=Math.floor(i/rt),p=i-l*rt;if(a===l){const k=t-a*rt;return _t(0,p-k)}else return _t(l-a,p)}s(Rn,"lengthDiffNonNegative");function Mn(_,e){return _<e}s(Mn,"lengthLessThan");function bn(_,e){return _<=e}s(bn,"lengthLessThanEqual");function wn(_,e){return _>=e}s(wn,"lengthGreaterThanEqual");function On(_){return _t(_.lineNumber-1,_.column-1)}s(On,"positionToLength");function mn(_,e){const t=_,i=Math.floor(t/rt),r=t-i*rt,a=e,l=Math.floor(a/rt),p=a-l*rt;return new O.Q(i+1,r+1,l+1,p+1)}s(mn,"lengthsToRange");function vi(_){const e=(0,u.uz)(_);return _t(e.length-1,e[e.length-1].length)}s(vi,"lengthOfString");const _r=class _r{static fromModelContentChanges(e){return e.map(i=>{const r=O.Q.lift(i.range);return new _r(On(r.getStartPosition()),On(r.getEndPosition()),vi(i.text))}).reverse()}constructor(e,t,i){this.startOffset=e,this.endOffset=t,this.newLength=i}toString(){return`[${Dt(this.startOffset)}...${Dt(this.endOffset)}) -> ${Dt(this.newLength)}`}};s(_r,"TextEditInfo");let Sn=_r;const vo=class vo{constructor(e){this.nextEditIdx=0,this.deltaOldToNewLineCount=0,this.deltaOldToNewColumnCount=0,this.deltaLineIdxInOld=-1,this.edits=e.map(t=>Gn.from(t))}getOffsetBeforeChange(e){return this.adjustNextEdit(e),this.translateCurToOld(e)}getDistanceToNextChange(e){this.adjustNextEdit(e);const t=this.edits[this.nextEditIdx],i=t?this.translateOldToCur(t.offsetObj):null;return i===null?null:Rn(e,i)}translateOldToCur(e){return e.lineCount===this.deltaLineIdxInOld?_t(e.lineCount+this.deltaOldToNewLineCount,e.columnCount+this.deltaOldToNewColumnCount):_t(e.lineCount+this.deltaOldToNewLineCount,e.columnCount)}translateCurToOld(e){const t=Dt(e);return t.lineCount-this.deltaOldToNewLineCount===this.deltaLineIdxInOld?_t(t.lineCount-this.deltaOldToNewLineCount,t.columnCount-this.deltaOldToNewColumnCount):_t(t.lineCount-this.deltaOldToNewLineCount,t.columnCount)}adjustNextEdit(e){for(;this.nextEditIdx<this.edits.length;){const t=this.edits[this.nextEditIdx],i=this.translateOldToCur(t.endOffsetAfterObj);if(bn(i,e)){this.nextEditIdx++;const r=Dt(i),a=Dt(this.translateOldToCur(t.endOffsetBeforeObj)),l=r.lineCount-a.lineCount;this.deltaOldToNewLineCount+=l;const p=this.deltaLineIdxInOld===t.endOffsetBeforeObj.lineCount?this.deltaOldToNewColumnCount:0,k=r.columnCount-a.columnCount;this.deltaOldToNewColumnCount=p+k,this.deltaLineIdxInOld=t.endOffsetBeforeObj.lineCount}else break}}};s(vo,"BeforeEditPositionMapper");let En=vo;const br=class br{static from(e){return new br(e.startOffset,e.endOffset,e.newLength)}constructor(e,t,i){this.endOffsetBeforeObj=Dt(t),this.endOffsetAfterObj=Dt(Ut(e,i)),this.offsetObj=Dt(e)}};s(br,"TextEditInfoCache");let Gn=br;const yn=[],Bn=class Bn{static create(e,t){if(e<=128&&t.length===0){let i=Bn.cache[e];return i||(i=new Bn(e,t),Bn.cache[e]=i),i}return new Bn(e,t)}static getEmpty(){return this.empty}constructor(e,t){this.items=e,this.additionalItems=t}add(e,t){const i=t.getKey(e);let r=i>>5;if(r===0){const l=1<<i|this.items;return l===this.items?this:Bn.create(l,this.additionalItems)}r--;const a=this.additionalItems.slice(0);for(;a.length<r;)a.push(0);return a[r]|=1<<(i&31),Bn.create(this.items,a)}merge(e){const t=this.items|e.items;if(this.additionalItems===yn&&e.additionalItems===yn)return t===this.items?this:t===e.items?e:Bn.create(t,yn);const i=[];for(let r=0;r<Math.max(this.additionalItems.length,e.additionalItems.length);r++){const a=this.additionalItems[r]||0,l=e.additionalItems[r]||0;i.push(a|l)}return Bn.create(t,i)}intersects(e){if(this.items&e.items)return!0;for(let t=0;t<Math.min(this.additionalItems.length,e.additionalItems.length);t++)if(this.additionalItems[t]&e.additionalItems[t])return!0;return!1}};s(Bn,"SmallImmutableSet"),Bn.cache=new Array(129),Bn.empty=Bn.create(0,yn);let sn=Bn;const Fn={getKey(_){return _}},Lo=class Lo{constructor(){this.items=new Map}getKey(e){let t=this.items.get(e);return t===void 0&&(t=this.items.size,this.items.set(e,t)),t}};s(Lo,"DenseKeyProvider");let di=Lo;const xo=class xo{get length(){return this._length}constructor(e){this._length=e}};s(xo,"BaseAstNode");let Qn=xo;const ws=class ws extends Qn{static create(e,t,i){let r=e.length;return t&&(r=Ut(r,t.length)),i&&(r=Ut(r,i.length)),new ws(r,e,t,i,t?t.missingOpeningBracketIds:sn.getEmpty())}get kind(){return 2}get listHeight(){return 0}get childrenLength(){return 3}getChild(e){switch(e){case 0:return this.openingBracket;case 1:return this.child;case 2:return this.closingBracket}throw new Error("Invalid child index")}get children(){const e=[];return e.push(this.openingBracket),this.child&&e.push(this.child),this.closingBracket&&e.push(this.closingBracket),e}constructor(e,t,i,r,a){super(e),this.openingBracket=t,this.child=i,this.closingBracket=r,this.missingOpeningBracketIds=a}canBeReused(e){return!(this.closingBracket===null||e.intersects(this.missingOpeningBracketIds))}deepClone(){return new ws(this.length,this.openingBracket.deepClone(),this.child&&this.child.deepClone(),this.closingBracket&&this.closingBracket.deepClone(),this.missingOpeningBracketIds)}computeMinIndentation(e,t){return this.child?this.child.computeMinIndentation(Ut(e,this.openingBracket.length),t):Number.MAX_SAFE_INTEGER}};s(ws,"PairAstNode");let ii=ws;const wo=class wo extends Qn{static create23(e,t,i,r=!1){let a=e.length,l=e.missingOpeningBracketIds;if(e.listHeight!==t.listHeight)throw new Error("Invalid list heights");if(a=Ut(a,t.length),l=l.merge(t.missingOpeningBracketIds),i){if(e.listHeight!==i.listHeight)throw new Error("Invalid list heights");a=Ut(a,i.length),l=l.merge(i.missingOpeningBracketIds)}return r?new In(a,e.listHeight+1,e,t,i,l):new qn(a,e.listHeight+1,e,t,i,l)}static getEmpty(){return new fi(Oe,0,[],sn.getEmpty())}get kind(){return 4}get missingOpeningBracketIds(){return this._missingOpeningBracketIds}constructor(e,t,i){super(e),this.listHeight=t,this._missingOpeningBracketIds=i,this.cachedMinIndentation=-1}throwIfImmutable(){}makeLastElementMutable(){this.throwIfImmutable();const e=this.childrenLength;if(e===0)return;const t=this.getChild(e-1),i=t.kind===4?t.toMutable():t;return t!==i&&this.setChild(e-1,i),i}makeFirstElementMutable(){if(this.throwIfImmutable(),this.childrenLength===0)return;const t=this.getChild(0),i=t.kind===4?t.toMutable():t;return t!==i&&this.setChild(0,i),i}canBeReused(e){if(e.intersects(this.missingOpeningBracketIds)||this.childrenLength===0)return!1;let t=this;for(;t.kind===4;){const i=t.childrenLength;if(i===0)throw new E.D7;t=t.getChild(i-1)}return t.canBeReused(e)}handleChildrenChanged(){this.throwIfImmutable();const e=this.childrenLength;let t=this.getChild(0).length,i=this.getChild(0).missingOpeningBracketIds;for(let r=1;r<e;r++){const a=this.getChild(r);t=Ut(t,a.length),i=i.merge(a.missingOpeningBracketIds)}this._length=t,this._missingOpeningBracketIds=i,this.cachedMinIndentation=-1}computeMinIndentation(e,t){if(this.cachedMinIndentation!==-1)return this.cachedMinIndentation;let i=Number.MAX_SAFE_INTEGER,r=e;for(let a=0;a<this.childrenLength;a++){const l=this.getChild(a);l&&(i=Math.min(i,l.computeMinIndentation(r,t)),r=Ut(r,l.length))}return this.cachedMinIndentation=i,i}};s(wo,"ListAstNode");let ln=wo;const kr=class kr extends ln{get childrenLength(){return this._item3!==null?3:2}getChild(e){switch(e){case 0:return this._item1;case 1:return this._item2;case 2:return this._item3}throw new Error("Invalid child index")}setChild(e,t){switch(e){case 0:this._item1=t;return;case 1:this._item2=t;return;case 2:this._item3=t;return}throw new Error("Invalid child index")}get children(){return this._item3?[this._item1,this._item2,this._item3]:[this._item1,this._item2]}get item1(){return this._item1}get item2(){return this._item2}get item3(){return this._item3}constructor(e,t,i,r,a,l){super(e,t,l),this._item1=i,this._item2=r,this._item3=a}deepClone(){return new kr(this.length,this.listHeight,this._item1.deepClone(),this._item2.deepClone(),this._item3?this._item3.deepClone():null,this.missingOpeningBracketIds)}appendChildOfSameHeight(e){if(this._item3)throw new Error("Cannot append to a full (2,3) tree node");this.throwIfImmutable(),this._item3=e,this.handleChildrenChanged()}unappendChild(){if(!this._item3)throw new Error("Cannot remove from a non-full (2,3) tree node");this.throwIfImmutable();const e=this._item3;return this._item3=null,this.handleChildrenChanged(),e}prependChildOfSameHeight(e){if(this._item3)throw new Error("Cannot prepend to a full (2,3) tree node");this.throwIfImmutable(),this._item3=this._item2,this._item2=this._item1,this._item1=e,this.handleChildrenChanged()}unprependChild(){if(!this._item3)throw new Error("Cannot remove from a non-full (2,3) tree node");this.throwIfImmutable();const e=this._item1;return this._item1=this._item2,this._item2=this._item3,this._item3=null,this.handleChildrenChanged(),e}toMutable(){return this}};s(kr,"TwoThreeListAstNode");let qn=kr;const So=class So extends qn{toMutable(){return new qn(this.length,this.listHeight,this.item1,this.item2,this.item3,this.missingOpeningBracketIds)}throwIfImmutable(){throw new Error("this instance is immutable")}};s(So,"Immutable23ListAstNode");let In=So;const Cr=class Cr extends ln{get childrenLength(){return this._children.length}getChild(e){return this._children[e]}setChild(e,t){this._children[e]=t}get children(){return this._children}constructor(e,t,i,r){super(e,t,r),this._children=i}deepClone(){const e=new Array(this._children.length);for(let t=0;t<this._children.length;t++)e[t]=this._children[t].deepClone();return new Cr(this.length,this.listHeight,e,this.missingOpeningBracketIds)}appendChildOfSameHeight(e){this.throwIfImmutable(),this._children.push(e),this.handleChildrenChanged()}unappendChild(){this.throwIfImmutable();const e=this._children.pop();return this.handleChildrenChanged(),e}prependChildOfSameHeight(e){this.throwIfImmutable(),this._children.unshift(e),this.handleChildrenChanged()}unprependChild(){this.throwIfImmutable();const e=this._children.shift();return this.handleChildrenChanged(),e}toMutable(){return this}};s(Cr,"ArrayListAstNode");let fn=Cr;const Eo=class Eo extends fn{toMutable(){return new fn(this.length,this.listHeight,[...this.children],this.missingOpeningBracketIds)}throwIfImmutable(){throw new Error("this instance is immutable")}};s(Eo,"ImmutableArrayListAstNode");let fi=Eo;const Pn=[],yo=class yo extends Qn{get listHeight(){return 0}get childrenLength(){return 0}getChild(e){return null}get children(){return Pn}deepClone(){return this}};s(yo,"ImmutableLeafAstNode");let Nn=yo;const Io=class Io extends Nn{get kind(){return 0}get missingOpeningBracketIds(){return sn.getEmpty()}canBeReused(e){return!0}computeMinIndentation(e,t){const i=Dt(e),r=(i.columnCount===0?i.lineCount:i.lineCount+1)+1,a=_n(Ut(e,this.length))+1;let l=Number.MAX_SAFE_INTEGER;for(let p=r;p<=a;p++){const k=t.getLineFirstNonWhitespaceColumn(p),j=t.getLineContent(p);if(k===0)continue;const Z=Y.visibleColumnFromColumn(j,k,t.getOptions().tabSize);l=Math.min(l,Z)}return l}};s(Io,"TextAstNode");let ve=Io;const vr=class vr extends Nn{static create(e,t,i){return new vr(e,t,i)}get kind(){return 1}get missingOpeningBracketIds(){return sn.getEmpty()}constructor(e,t,i){super(e),this.bracketInfo=t,this.bracketIds=i}get text(){return this.bracketInfo.bracketText}get languageId(){return this.bracketInfo.languageId}canBeReused(e){return!1}computeMinIndentation(e,t){return Number.MAX_SAFE_INTEGER}};s(vr,"BracketAstNode");let U=vr;const No=class No extends Nn{get kind(){return 3}constructor(e,t){super(t),this.missingOpeningBracketIds=e}canBeReused(e){return!e.intersects(this.missingOpeningBracketIds)}computeMinIndentation(e,t){return Number.MAX_SAFE_INTEGER}};s(No,"InvalidBracketAstNode");let le=No;var ye=v(5910);const Ao=class Ao{constructor(e,t,i,r,a){this.length=e,this.kind=t,this.bracketId=i,this.bracketIds=r,this.astNode=a}};s(Ao,"tokenizer_Token");let We=Ao;const To=class To{constructor(e,t){this.textModel=e,this.bracketTokens=t,this.reader=new ut(this.textModel,this.bracketTokens),this._offset=Oe,this.didPeek=!1,this.peeked=null,this.textBufferLineCount=e.getLineCount(),this.textBufferLastLineLength=e.getLineLength(this.textBufferLineCount)}get offset(){return this._offset}get length(){return _t(this.textBufferLineCount-1,this.textBufferLastLineLength)}skip(e){this.didPeek=!1,this._offset=Ut(this._offset,e);const t=Dt(this._offset);this.reader.setPosition(t.lineCount,t.columnCount)}read(){let e;return this.peeked?(this.didPeek=!1,e=this.peeked):e=this.reader.read(),e&&(this._offset=Ut(this._offset,e.length)),e}peek(){return this.didPeek||(this.peeked=this.reader.read(),this.didPeek=!0),this.peeked}};s(To,"TextBufferTokenizer");let Je=To;const Bo=class Bo{constructor(e,t){this.textModel=e,this.bracketTokens=t,this.lineIdx=0,this.line=null,this.lineCharOffset=0,this.lineTokens=null,this.lineTokenOffset=0,this.peekedToken=null,this.textBufferLineCount=e.getLineCount(),this.textBufferLastLineLength=e.getLineLength(this.textBufferLineCount)}setPosition(e,t){e===this.lineIdx?(this.lineCharOffset=t,this.line!==null&&(this.lineTokenOffset=this.lineCharOffset===0?0:this.lineTokens.findTokenIndexAtOffset(this.lineCharOffset))):(this.lineIdx=e,this.lineCharOffset=t,this.line=null),this.peekedToken=null}read(){if(this.peekedToken){const a=this.peekedToken;return this.peekedToken=null,this.lineCharOffset+=a.length,a}if(this.lineIdx>this.textBufferLineCount-1||this.lineIdx===this.textBufferLineCount-1&&this.lineCharOffset>=this.textBufferLastLineLength)return null;this.line===null&&(this.lineTokens=this.textModel.tokenization.getLineTokens(this.lineIdx+1),this.line=this.lineTokens.getLineContent(),this.lineTokenOffset=this.lineCharOffset===0?0:this.lineTokens.findTokenIndexAtOffset(this.lineCharOffset));const e=this.lineIdx,t=this.lineCharOffset;let i=0;for(;;){const a=this.lineTokens,l=a.getCount();let p=null;if(this.lineTokenOffset<l){const k=a.getMetadata(this.lineTokenOffset);for(;this.lineTokenOffset+1<l&&k===a.getMetadata(this.lineTokenOffset+1);)this.lineTokenOffset++;const j=ye.x.getTokenType(k)===0,Z=ye.x.containsBalancedBrackets(k),ne=a.getEndOffset(this.lineTokenOffset);if(Z&&j&&this.lineCharOffset<ne){const ae=a.getLanguageId(this.lineTokenOffset),me=this.line.substring(this.lineCharOffset,ne),Le=this.bracketTokens.getSingleLanguageBracketTokens(ae),Be=Le.regExpGlobal;if(Be){Be.lastIndex=0;const Me=Be.exec(me);Me&&(p=Le.getToken(Me[0]),p&&(this.lineCharOffset+=Me.index))}}if(i+=ne-this.lineCharOffset,p)if(e!==this.lineIdx||t!==this.lineCharOffset){this.peekedToken=p;break}else return this.lineCharOffset+=p.length,p;else this.lineTokenOffset++,this.lineCharOffset=ne}else if(this.lineIdx===this.textBufferLineCount-1||(this.lineIdx++,this.lineTokens=this.textModel.tokenization.getLineTokens(this.lineIdx+1),this.lineTokenOffset=0,this.line=this.lineTokens.getLineContent(),this.lineCharOffset=0,i+=33,i>1e3))break;if(i>1500)break}const r=Ue(e,t,this.lineIdx,this.lineCharOffset);return new We(r,0,-1,sn.getEmpty(),new ve(r))}};s(Bo,"NonPeekableTextBufferTokenizer");let ut=Bo;const Do=class Do{constructor(e,t){this.text=e,this._offset=Oe,this.idx=0;const i=t.getRegExpStr(),r=i?new RegExp(i+`|
`,"gi"):null,a=[];let l,p=0,k=0,j=0,Z=0;const ne=[];for(let Le=0;Le<60;Le++)ne.push(new We(_t(0,Le),0,-1,sn.getEmpty(),new ve(_t(0,Le))));const ae=[];for(let Le=0;Le<60;Le++)ae.push(new We(_t(1,Le),0,-1,sn.getEmpty(),new ve(_t(1,Le))));if(r)for(r.lastIndex=0;(l=r.exec(e))!==null;){const Le=l.index,Be=l[0];if(Be===`
`)p++,k=Le+1;else{if(j!==Le){let Me;if(Z===p){const Ke=Le-j;if(Ke<ne.length)Me=ne[Ke];else{const st=_t(0,Ke);Me=new We(st,0,-1,sn.getEmpty(),new ve(st))}}else{const Ke=p-Z,st=Le-k;if(Ke===1&&st<ae.length)Me=ae[st];else{const pt=_t(Ke,st);Me=new We(pt,0,-1,sn.getEmpty(),new ve(pt))}}a.push(Me)}a.push(t.getToken(Be)),j=Le+Be.length,Z=p}}const me=e.length;if(j!==me){const Le=Z===p?_t(0,me-j):_t(p-Z,me-k);a.push(new We(Le,0,-1,sn.getEmpty(),new ve(Le)))}this.length=_t(p,me-k),this.tokens=a}get offset(){return this._offset}read(){return this.tokens[this.idx++]||null}peek(){return this.tokens[this.idx]||null}skip(e){throw new E.EM}};s(Do,"FastTokenizer");let Et=Do;const Lr=class Lr{static createFromLanguage(e,t){function i(a){return t.getKey(`${a.languageId}:::${a.bracketText}`)}s(i,"getId");const r=new Map;for(const a of e.bracketsNew.openingBrackets){const l=_t(0,a.bracketText.length),p=i(a),k=sn.getEmpty().add(p,Fn);r.set(a.bracketText,new We(l,1,p,k,U.create(l,a,k)))}for(const a of e.bracketsNew.closingBrackets){const l=_t(0,a.bracketText.length);let p=sn.getEmpty();const k=a.getOpeningBrackets();for(const j of k)p=p.add(i(j),Fn);r.set(a.bracketText,new We(l,2,i(k[0]),p,U.create(l,a,p)))}return new Lr(r)}constructor(e){this.map=e,this.hasRegExp=!1,this._regExpGlobal=null}getRegExpStr(){if(this.isEmpty)return null;{const e=[...this.map.keys()];return e.sort(),e.reverse(),e.map(t=>kn(t)).join("|")}}get regExpGlobal(){if(!this.hasRegExp){const e=this.getRegExpStr();this._regExpGlobal=e?new RegExp(e,"gi"):null,this.hasRegExp=!0}return this._regExpGlobal}getToken(e){return this.map.get(e.toLowerCase())}findClosingTokenText(e){for(const[t,i]of this.map)if(i.kind===2&&i.bracketIds.intersects(e))return t}get isEmpty(){return this.map.size===0}};s(Lr,"BracketTokens");let rn=Lr;function kn(_){let e=(0,u.bm)(_);return/^[\w ]+/.test(_)&&(e=`\\b${e}`),/[\w ]+$/.test(_)&&(e=`${e}\\b`),e}s(kn,"brackets_prepareBracketForRegExp");const Ro=class Ro{constructor(e,t){this.denseKeyProvider=e,this.getLanguageConfiguration=t,this.languageIdToBracketTokens=new Map}didLanguageChange(e){return this.languageIdToBracketTokens.has(e)}getSingleLanguageBracketTokens(e){let t=this.languageIdToBracketTokens.get(e);return t||(t=rn.createFromLanguage(this.getLanguageConfiguration(e),this.denseKeyProvider),this.languageIdToBracketTokens.set(e,t)),t}};s(Ro,"LanguageAgnosticBracketTokens");let an=Ro;function si(_){if(_.length===0)return null;if(_.length===1)return _[0];let e=0;function t(){if(e>=_.length)return null;const l=e,p=_[l].listHeight;for(e++;e<_.length&&_[e].listHeight===p;)e++;return e-l>=2?gn(l===0&&e===_.length?_:_.slice(l,e),!1):_[l]}s(t,"readNode");let i=t(),r=t();if(!r)return i;for(let l=t();l;l=t())Cn(i,r)<=Cn(r,l)?(i=Wn(i,r),r=l):r=Wn(r,l);return Wn(i,r)}s(si,"concat23Trees");function gn(_,e=!1){if(_.length===0)return null;if(_.length===1)return _[0];let t=_.length;for(;t>3;){const i=t>>1;for(let r=0;r<i;r++){const a=r<<1;_[r]=ln.create23(_[a],_[a+1],a+3===t?_[a+2]:null,e)}t=i}return ln.create23(_[0],_[1],t>=3?_[2]:null,e)}s(gn,"concat23TreesOfSameHeight");function Cn(_,e){return Math.abs(_.listHeight-e.listHeight)}s(Cn,"heightDiff");function Wn(_,e){return _.listHeight===e.listHeight?ln.create23(_,e,null,!1):_.listHeight>e.listHeight?zn(_,e):ri(e,_)}s(Wn,"concat");function zn(_,e){_=_.toMutable();let t=_;const i=[];let r;for(;;){if(e.listHeight===t.listHeight){r=e;break}if(t.kind!==4)throw new Error("unexpected");i.push(t),t=t.makeLastElementMutable()}for(let a=i.length-1;a>=0;a--){const l=i[a];r?l.childrenLength>=3?r=ln.create23(l.unappendChild(),r,null,!1):(l.appendChildOfSameHeight(r),r=void 0):l.handleChildrenChanged()}return r?ln.create23(_,r,null,!1):_}s(zn,"append");function ri(_,e){_=_.toMutable();let t=_;const i=[];for(;e.listHeight!==t.listHeight;){if(t.kind!==4)throw new Error("unexpected");i.push(t),t=t.makeFirstElementMutable()}let r=e;for(let a=i.length-1;a>=0;a--){const l=i[a];r?l.childrenLength>=3?r=ln.create23(r,l.unprependChild(),null,!1):(l.prependChildOfSameHeight(r),r=void 0):l.handleChildrenChanged()}return r?ln.create23(r,_,null,!1):_}s(ri,"prepend");const Mo=class Mo{constructor(e){this.lastOffset=Oe,this.nextNodes=[e],this.offsets=[Oe],this.idxs=[]}readLongestNodeAt(e,t){if(Mn(e,this.lastOffset))throw new Error("Invalid offset");for(this.lastOffset=e;;){const i=Un(this.nextNodes);if(!i)return;const r=Un(this.offsets);if(Mn(e,r))return;if(Mn(r,e))if(Ut(r,i.length)<=e)this.nextNodeAfterCurrent();else{const a=An(i);a!==-1?(this.nextNodes.push(i.getChild(a)),this.offsets.push(r),this.idxs.push(a)):this.nextNodeAfterCurrent()}else{if(t(i))return this.nextNodeAfterCurrent(),i;{const a=An(i);if(a===-1){this.nextNodeAfterCurrent();return}else this.nextNodes.push(i.getChild(a)),this.offsets.push(r),this.idxs.push(a)}}}}nextNodeAfterCurrent(){for(;;){const e=Un(this.offsets),t=Un(this.nextNodes);if(this.nextNodes.pop(),this.offsets.pop(),this.idxs.length===0)break;const i=Un(this.nextNodes),r=An(i,this.idxs[this.idxs.length-1]);if(r!==-1){this.nextNodes.push(i.getChild(r)),this.offsets.push(Ut(e,t.length)),this.idxs[this.idxs.length-1]=r;break}else this.idxs.pop()}}};s(Mo,"NodeReader");let Yn=Mo;function An(_,e=-1){for(;;){if(e++,e>=_.childrenLength)return-1;if(_.getChild(e))return e}}s(An,"getNextChildIdx");function Un(_){return _.length>0?_[_.length-1]:void 0}s(Un,"lastOrUndefined");function Pi(_,e,t,i){return new Kn(_,e,t,i).parseDocument()}s(Pi,"parseDocument");const Oo=class Oo{constructor(e,t,i,r){if(this.tokenizer=e,this.createImmutableLists=r,this._itemsConstructed=0,this._itemsFromCache=0,i&&r)throw new Error("Not supported");this.oldNodeReader=i?new Yn(i):void 0,this.positionMapper=new En(t)}parseDocument(){this._itemsConstructed=0,this._itemsFromCache=0;let e=this.parseList(sn.getEmpty(),0);return e||(e=ln.getEmpty()),e}parseList(e,t){const i=[];for(;;){let a=this.tryReadChildFromCache(e);if(!a){const l=this.tokenizer.peek();if(!l||l.kind===2&&l.bracketIds.intersects(e))break;a=this.parseChild(e,t+1)}a.kind===4&&a.childrenLength===0||i.push(a)}return this.oldNodeReader?si(i):gn(i,this.createImmutableLists)}tryReadChildFromCache(e){if(this.oldNodeReader){const t=this.positionMapper.getDistanceToNextChange(this.tokenizer.offset);if(t===null||!It(t)){const i=this.oldNodeReader.readLongestNodeAt(this.positionMapper.getOffsetBeforeChange(this.tokenizer.offset),r=>t!==null&&!Mn(r.length,t)?!1:r.canBeReused(e));if(i)return this._itemsFromCache++,this.tokenizer.skip(i.length),i}}}parseChild(e,t){this._itemsConstructed++;const i=this.tokenizer.read();switch(i.kind){case 2:return new le(i.bracketIds,i.length);case 0:return i.astNode;case 1:{if(t>300)return new ve(i.length);const r=e.merge(i.bracketIds),a=this.parseList(r,t+1),l=this.tokenizer.peek();return l&&l.kind===2&&(l.bracketId===i.bracketId||l.bracketIds.intersects(i.bracketIds))?(this.tokenizer.read(),ii.create(i.astNode,a,l.astNode)):ii.create(i.astNode,a,null)}default:throw new Error("unexpected")}}};s(Oo,"Parser");let Kn=Oo;function Ai(_,e){if(_.length===0)return e;if(e.length===0)return _;const t=new Q.j3(Li(_)),i=Li(e);i.push({modified:!1,lengthBefore:void 0,lengthAfter:void 0});let r=t.dequeue();function a(j){if(j===void 0){const ne=t.takeWhile(ae=>!0)||[];return r&&ne.unshift(r),ne}const Z=[];for(;r&&!It(j);){const[ne,ae]=r.splitAt(j);Z.push(ne),j=Rn(ne.lengthAfter,j),r=ae!=null?ae:t.dequeue()}return It(j)||Z.push(new Vn(!1,j,j)),Z}s(a,"nextS0ToS1MapWithS1LengthOf");const l=[];function p(j,Z,ne){if(l.length>0&&hi(l[l.length-1].endOffset,j)){const ae=l[l.length-1];l[l.length-1]=new Sn(ae.startOffset,Z,Ut(ae.newLength,ne))}else l.push({startOffset:j,endOffset:Z,newLength:ne})}s(p,"pushEdit");let k=Oe;for(const j of i){const Z=a(j.lengthBefore);if(j.modified){const ne=cn(Z,me=>me.lengthBefore),ae=Ut(k,ne);p(k,ae,j.lengthAfter),k=ae}else for(const ne of Z){const ae=k;k=Ut(k,ne.lengthBefore),ne.modified&&p(ae,k,ne.lengthAfter)}}return l}s(Ai,"combineTextEditInfos");const Qi=class Qi{constructor(e,t,i){this.modified=e,this.lengthBefore=t,this.lengthAfter=i}splitAt(e){const t=Rn(e,this.lengthAfter);return hi(t,Oe)?[this,void 0]:this.modified?[new Qi(this.modified,this.lengthBefore,e),new Qi(this.modified,Oe,t)]:[new Qi(this.modified,e,e),new Qi(this.modified,t,t)]}toString(){return`${this.modified?"M":"U"}:${Dt(this.lengthBefore)} -> ${Dt(this.lengthAfter)}`}};s(Qi,"LengthMapping");let Vn=Qi;function Li(_){const e=[];let t=Oe;for(const i of _){const r=Rn(t,i.startOffset);It(r)||e.push(new Vn(!1,r,r));const a=Rn(i.startOffset,i.endOffset);e.push(new Vn(!0,a,i.newLength)),t=i.endOffset}return e}s(Li,"toLengthMapping");const Fo=class Fo extends K.jG{didLanguageChange(e){return this.brackets.didLanguageChange(e)}constructor(e,t){if(super(),this.textModel=e,this.getLanguageConfiguration=t,this.didChangeEmitter=new N.vl,this.denseKeyProvider=new di,this.brackets=new an(this.denseKeyProvider,this.getLanguageConfiguration),this.onDidChange=this.didChangeEmitter.event,this.queuedTextEditsForInitialAstWithoutTokens=[],this.queuedTextEdits=[],e.tokenization.hasTokens)e.tokenization.backgroundTokenizationState===2?(this.initialAstWithoutTokens=void 0,this.astWithTokens=this.parseDocumentFromTextBuffer([],void 0,!1)):(this.initialAstWithoutTokens=this.parseDocumentFromTextBuffer([],void 0,!0),this.astWithTokens=this.initialAstWithoutTokens);else{const i=this.brackets.getSingleLanguageBracketTokens(this.textModel.getLanguageId()),r=new Et(this.textModel.getValue(),i);this.initialAstWithoutTokens=Pi(r,[],void 0,!0),this.astWithTokens=this.initialAstWithoutTokens}}handleDidChangeBackgroundTokenizationState(){if(this.textModel.tokenization.backgroundTokenizationState===2){const e=this.initialAstWithoutTokens===void 0;this.initialAstWithoutTokens=void 0,e||this.didChangeEmitter.fire()}}handleDidChangeTokens({ranges:e}){const t=e.map(i=>new Sn(_t(i.fromLineNumber-1,0),_t(i.toLineNumber,0),_t(i.toLineNumber-i.fromLineNumber+1,0)));this.handleEdits(t,!0),this.initialAstWithoutTokens||this.didChangeEmitter.fire()}handleContentChanged(e){const t=Sn.fromModelContentChanges(e.changes);this.handleEdits(t,!1)}handleEdits(e,t){const i=Ai(this.queuedTextEdits,e);this.queuedTextEdits=i,this.initialAstWithoutTokens&&!t&&(this.queuedTextEditsForInitialAstWithoutTokens=Ai(this.queuedTextEditsForInitialAstWithoutTokens,e))}flushQueue(){this.queuedTextEdits.length>0&&(this.astWithTokens=this.parseDocumentFromTextBuffer(this.queuedTextEdits,this.astWithTokens,!1),this.queuedTextEdits=[]),this.queuedTextEditsForInitialAstWithoutTokens.length>0&&(this.initialAstWithoutTokens&&(this.initialAstWithoutTokens=this.parseDocumentFromTextBuffer(this.queuedTextEditsForInitialAstWithoutTokens,this.initialAstWithoutTokens,!1)),this.queuedTextEditsForInitialAstWithoutTokens=[])}parseDocumentFromTextBuffer(e,t,i){const a=t,l=new Je(this.textModel,this.brackets);return Pi(l,e,a,i)}getBracketsInRange(e,t){this.flushQueue();const i=_t(e.startLineNumber-1,e.startColumn-1),r=_t(e.endLineNumber-1,e.endColumn-1);return new Q.c1(a=>{const l=this.initialAstWithoutTokens||this.astWithTokens;Ti(l,Oe,l.length,i,r,a,0,0,new Map,t)})}getBracketPairsInRange(e,t){this.flushQueue();const i=On(e.getStartPosition()),r=On(e.getEndPosition());return new Q.c1(a=>{const l=this.initialAstWithoutTokens||this.astWithTokens,p=new Bi(a,t,this.textModel);oi(l,Oe,l.length,i,r,p,0,new Map)})}getFirstBracketAfter(e){this.flushQueue();const t=this.initialAstWithoutTokens||this.astWithTokens;return xi(t,Oe,t.length,On(e))}getFirstBracketBefore(e){this.flushQueue();const t=this.initialAstWithoutTokens||this.astWithTokens;return Xn(t,Oe,t.length,On(e))}};s(Fo,"BracketPairsTree");let on=Fo;function Xn(_,e,t,i){if(_.kind===4||_.kind===2){const r=[];for(const a of _.children)t=Ut(e,a.length),r.push({nodeOffsetStart:e,nodeOffsetEnd:t}),e=t;for(let a=r.length-1;a>=0;a--){const{nodeOffsetStart:l,nodeOffsetEnd:p}=r[a];if(Mn(l,i)){const k=Xn(_.children[a],l,p,i);if(k)return k}}return null}else{if(_.kind===3)return null;if(_.kind===1){const r=mn(e,t);return{bracketInfo:_.bracketInfo,range:r}}}return null}s(Xn,"getFirstBracketBefore");function xi(_,e,t,i){if(_.kind===4||_.kind===2){for(const r of _.children){if(t=Ut(e,r.length),Mn(i,t)){const a=xi(r,e,t,i);if(a)return a}e=t}return null}else{if(_.kind===3)return null;if(_.kind===1){const r=mn(e,t);return{bracketInfo:_.bracketInfo,range:r}}}return null}s(xi,"getFirstBracketAfter");function Ti(_,e,t,i,r,a,l,p,k,j,Z=!1){if(l>200)return!0;e:for(;;)switch(_.kind){case 4:{const ne=_.childrenLength;for(let ae=0;ae<ne;ae++){const me=_.getChild(ae);if(me){if(t=Ut(e,me.length),bn(e,r)&&wn(t,i)){if(wn(t,r)){_=me;continue e}if(!Ti(me,e,t,i,r,a,l,0,k,j))return!1}e=t}}return!0}case 2:{const ne=!j||!_.closingBracket||_.closingBracket.bracketInfo.closesColorized(_.openingBracket.bracketInfo);let ae=0;if(k){let Le=k.get(_.openingBracket.text);Le===void 0&&(Le=0),ae=Le,ne&&(Le++,k.set(_.openingBracket.text,Le))}const me=_.childrenLength;for(let Le=0;Le<me;Le++){const Be=_.getChild(Le);if(Be){if(t=Ut(e,Be.length),bn(e,r)&&wn(t,i)){if(wn(t,r)&&Be.kind!==1){_=Be,ne?(l++,p=ae+1):p=ae;continue e}if((ne||Be.kind!==1||!_.closingBracket)&&!Ti(Be,e,t,i,r,a,ne?l+1:l,ne?ae+1:ae,k,j,!_.closingBracket))return!1}e=t}}return k==null||k.set(_.openingBracket.text,ae),!0}case 3:{const ne=mn(e,t);return a(new At(ne,l-1,0,!0))}case 1:{const ne=mn(e,t);return a(new At(ne,l-1,p-1,Z))}case 0:return!0}}s(Ti,"collectBrackets");const Po=class Po{constructor(e,t,i){this.push=e,this.includeMinIndentation=t,this.textModel=i}};s(Po,"CollectBracketPairsContext");let Bi=Po;function oi(_,e,t,i,r,a,l,p){var j;if(l>200)return!0;let k=!0;if(_.kind===2){let Z=0;if(p){let me=p.get(_.openingBracket.text);me===void 0&&(me=0),Z=me,me++,p.set(_.openingBracket.text,me)}const ne=Ut(e,_.openingBracket.length);let ae=-1;if(a.includeMinIndentation&&(ae=_.computeMinIndentation(e,a.textModel)),k=a.push(new w(mn(e,t),mn(e,ne),_.closingBracket?mn(Ut(ne,((j=_.child)==null?void 0:j.length)||Oe),t):void 0,l,Z,_,ae)),e=ne,k&&_.child){const me=_.child;if(t=Ut(e,me.length),bn(e,r)&&wn(t,i)&&(k=oi(me,e,t,i,r,a,l+1,p),!k))return!1}p==null||p.set(_.openingBracket.text,Z)}else{let Z=e;for(const ne of _.children){const ae=Z;if(Z=Ut(Z,ne.length),bn(ae,r)&&bn(i,Z)&&(k=oi(ne,ae,Z,i,r,a,l,p),!k))return!1}}return k}s(oi,"collectBracketPairs");const Wo=class Wo extends K.jG{get canBuildAST(){return this.textModel.getValueLength()<=5e6}constructor(e,t){super(),this.textModel=e,this.languageConfigurationService=t,this.bracketPairsTree=this._register(new K.HE),this.onDidChangeEmitter=new N.vl,this.onDidChange=this.onDidChangeEmitter.event,this.bracketsRequested=!1}handleLanguageConfigurationServiceChange(e){var t;(!e.languageId||(t=this.bracketPairsTree.value)!=null&&t.object.didLanguageChange(e.languageId))&&(this.bracketPairsTree.clear(),this.updateBracketPairsTree())}handleDidChangeOptions(e){this.bracketPairsTree.clear(),this.updateBracketPairsTree()}handleDidChangeLanguage(e){this.bracketPairsTree.clear(),this.updateBracketPairsTree()}handleDidChangeContent(e){var t;(t=this.bracketPairsTree.value)==null||t.object.handleContentChanged(e)}handleDidChangeBackgroundTokenizationState(){var e;(e=this.bracketPairsTree.value)==null||e.object.handleDidChangeBackgroundTokenizationState()}handleDidChangeTokens(e){var t;(t=this.bracketPairsTree.value)==null||t.object.handleDidChangeTokens(e)}updateBracketPairsTree(){if(this.bracketsRequested&&this.canBuildAST){if(!this.bracketPairsTree.value){const e=new K.Cm;this.bracketPairsTree.value=Ki(e.add(new on(this.textModel,t=>this.languageConfigurationService.getLanguageConfiguration(t))),e),e.add(this.bracketPairsTree.value.object.onDidChange(t=>this.onDidChangeEmitter.fire(t))),this.onDidChangeEmitter.fire()}}else this.bracketPairsTree.value&&(this.bracketPairsTree.clear(),this.onDidChangeEmitter.fire())}getBracketPairsInRange(e){var t;return this.bracketsRequested=!0,this.updateBracketPairsTree(),((t=this.bracketPairsTree.value)==null?void 0:t.object.getBracketPairsInRange(e,!1))||Q.c1.empty}getBracketPairsInRangeWithMinIndentation(e){var t;return this.bracketsRequested=!0,this.updateBracketPairsTree(),((t=this.bracketPairsTree.value)==null?void 0:t.object.getBracketPairsInRange(e,!0))||Q.c1.empty}getBracketsInRange(e,t=!1){var i;return this.bracketsRequested=!0,this.updateBracketPairsTree(),((i=this.bracketPairsTree.value)==null?void 0:i.object.getBracketsInRange(e,t))||Q.c1.empty}findMatchingBracketUp(e,t,i){const r=this.textModel.validatePosition(t),a=this.textModel.getLanguageIdAtPosition(r.lineNumber,r.column);if(this.canBuildAST){const l=this.languageConfigurationService.getLanguageConfiguration(a).bracketsNew.getClosingBracketInfo(e);if(!l)return null;const p=this.getBracketPairsInRange(O.Q.fromPositions(t,t)).findLast(k=>l.closes(k.openingBracketInfo));return p?p.openingBracketRange:null}else{const l=e.toLowerCase(),p=this.languageConfigurationService.getLanguageConfiguration(a).brackets;if(!p)return null;const k=p.textIsBracket[l];return k?wi(this._findMatchingBracketUp(k,r,Ri(i))):null}}matchBracket(e,t){if(this.canBuildAST){const i=this.getBracketPairsInRange(O.Q.fromPositions(e,e)).filter(r=>r.closingBracketRange!==void 0&&(r.openingBracketRange.containsPosition(e)||r.closingBracketRange.containsPosition(e))).findLastMaxBy((0,Q.VE)(r=>r.openingBracketRange.containsPosition(e)?r.openingBracketRange:r.closingBracketRange,O.Q.compareRangesUsingStarts));return i?[i.openingBracketRange,i.closingBracketRange]:null}else{const i=Ri(t);return this._matchBracket(this.textModel.validatePosition(e),i)}}_establishBracketSearchOffsets(e,t,i,r){const a=t.getCount(),l=t.getLanguageId(r);let p=Math.max(0,e.column-1-i.maxBracketLength);for(let j=r-1;j>=0;j--){const Z=t.getEndOffset(j);if(Z<=p)break;if(c(t.getStandardTokenType(j))||t.getLanguageId(j)!==l){p=Z;break}}let k=Math.min(t.getLineContent().length,e.column-1+i.maxBracketLength);for(let j=r+1;j<a;j++){const Z=t.getStartOffset(j);if(Z>=k)break;if(c(t.getStandardTokenType(j))||t.getLanguageId(j)!==l){k=Z;break}}return{searchStartOffset:p,searchEndOffset:k}}_matchBracket(e,t){const i=e.lineNumber,r=this.textModel.tokenization.getLineTokens(i),a=this.textModel.getLineContent(i),l=r.findTokenIndexAtOffset(e.column-1);if(l<0)return null;const p=this.languageConfigurationService.getLanguageConfiguration(r.getLanguageId(l)).brackets;if(p&&!c(r.getStandardTokenType(l))){let{searchStartOffset:k,searchEndOffset:j}=this._establishBracketSearchOffsets(e,r,p,l),Z=null;for(;;){const ne=Pe.findNextBracketInRange(p.forwardRegex,i,a,k,j);if(!ne)break;if(ne.startColumn<=e.column&&e.column<=ne.endColumn){const ae=a.substring(ne.startColumn-1,ne.endColumn-1).toLowerCase(),me=this._matchFoundBracket(ne,p.textIsBracket[ae],p.textIsOpenBracket[ae],t);if(me){if(me instanceof vn)return null;Z=me}}k=ne.endColumn-1}if(Z)return Z}if(l>0&&r.getStartOffset(l)===e.column-1){const k=l-1,j=this.languageConfigurationService.getLanguageConfiguration(r.getLanguageId(k)).brackets;if(j&&!c(r.getStandardTokenType(k))){const{searchStartOffset:Z,searchEndOffset:ne}=this._establishBracketSearchOffsets(e,r,j,k),ae=Pe.findPrevBracketInRange(j.reversedRegex,i,a,Z,ne);if(ae&&ae.startColumn<=e.column&&e.column<=ae.endColumn){const me=a.substring(ae.startColumn-1,ae.endColumn-1).toLowerCase(),Le=this._matchFoundBracket(ae,j.textIsBracket[me],j.textIsOpenBracket[me],t);if(Le)return Le instanceof vn?null:Le}}}return null}_matchFoundBracket(e,t,i,r){if(!t)return null;const a=i?this._findMatchingBracketDown(t,e.getEndPosition(),r):this._findMatchingBracketUp(t,e.getStartPosition(),r);return a?a instanceof vn?a:[e,a]:null}_findMatchingBracketUp(e,t,i){const r=e.languageId,a=e.reversedRegex;let l=-1,p=0;const k=s((j,Z,ne,ae)=>{for(;;){if(i&&++p%100===0&&!i())return vn.INSTANCE;const me=Pe.findPrevBracketInRange(a,j,Z,ne,ae);if(!me)break;const Le=Z.substring(me.startColumn-1,me.endColumn-1).toLowerCase();if(e.isOpen(Le)?l++:e.isClose(Le)&&l--,l===0)return me;ae=me.startColumn-1}return null},"searchPrevMatchingBracketInRange");for(let j=t.lineNumber;j>=1;j--){const Z=this.textModel.tokenization.getLineTokens(j),ne=Z.getCount(),ae=this.textModel.getLineContent(j);let me=ne-1,Le=ae.length,Be=ae.length;j===t.lineNumber&&(me=Z.findTokenIndexAtOffset(t.column-1),Le=t.column-1,Be=t.column-1);let Me=!0;for(;me>=0;me--){const Ke=Z.getLanguageId(me)===r&&!c(Z.getStandardTokenType(me));if(Ke)Me?Le=Z.getStartOffset(me):(Le=Z.getStartOffset(me),Be=Z.getEndOffset(me));else if(Me&&Le!==Be){const st=k(j,ae,Le,Be);if(st)return st}Me=Ke}if(Me&&Le!==Be){const Ke=k(j,ae,Le,Be);if(Ke)return Ke}}return null}_findMatchingBracketDown(e,t,i){const r=e.languageId,a=e.forwardRegex;let l=1,p=0;const k=s((Z,ne,ae,me)=>{for(;;){if(i&&++p%100===0&&!i())return vn.INSTANCE;const Le=Pe.findNextBracketInRange(a,Z,ne,ae,me);if(!Le)break;const Be=ne.substring(Le.startColumn-1,Le.endColumn-1).toLowerCase();if(e.isOpen(Be)?l++:e.isClose(Be)&&l--,l===0)return Le;ae=Le.endColumn-1}return null},"searchNextMatchingBracketInRange"),j=this.textModel.getLineCount();for(let Z=t.lineNumber;Z<=j;Z++){const ne=this.textModel.tokenization.getLineTokens(Z),ae=ne.getCount(),me=this.textModel.getLineContent(Z);let Le=0,Be=0,Me=0;Z===t.lineNumber&&(Le=ne.findTokenIndexAtOffset(t.column-1),Be=t.column-1,Me=t.column-1);let Ke=!0;for(;Le<ae;Le++){const st=ne.getLanguageId(Le)===r&&!c(ne.getStandardTokenType(Le));if(st)Ke||(Be=ne.getStartOffset(Le)),Me=ne.getEndOffset(Le);else if(Ke&&Be!==Me){const pt=k(Z,me,Be,Me);if(pt)return pt}Ke=st}if(Ke&&Be!==Me){const st=k(Z,me,Be,Me);if(st)return st}}return null}findPrevBracket(e){var l;const t=this.textModel.validatePosition(e);if(this.canBuildAST)return this.bracketsRequested=!0,this.updateBracketPairsTree(),((l=this.bracketPairsTree.value)==null?void 0:l.object.getFirstBracketBefore(t))||null;let i=null,r=null,a=null;for(let p=t.lineNumber;p>=1;p--){const k=this.textModel.tokenization.getLineTokens(p),j=k.getCount(),Z=this.textModel.getLineContent(p);let ne=j-1,ae=Z.length,me=Z.length;if(p===t.lineNumber){ne=k.findTokenIndexAtOffset(t.column-1),ae=t.column-1,me=t.column-1;const Be=k.getLanguageId(ne);i!==Be&&(i=Be,r=this.languageConfigurationService.getLanguageConfiguration(i).brackets,a=this.languageConfigurationService.getLanguageConfiguration(i).bracketsNew)}let Le=!0;for(;ne>=0;ne--){const Be=k.getLanguageId(ne);if(i!==Be){if(r&&a&&Le&&ae!==me){const Ke=Pe.findPrevBracketInRange(r.reversedRegex,p,Z,ae,me);if(Ke)return this._toFoundBracket(a,Ke);Le=!1}i=Be,r=this.languageConfigurationService.getLanguageConfiguration(i).brackets,a=this.languageConfigurationService.getLanguageConfiguration(i).bracketsNew}const Me=!!r&&!c(k.getStandardTokenType(ne));if(Me)Le?ae=k.getStartOffset(ne):(ae=k.getStartOffset(ne),me=k.getEndOffset(ne));else if(a&&r&&Le&&ae!==me){const Ke=Pe.findPrevBracketInRange(r.reversedRegex,p,Z,ae,me);if(Ke)return this._toFoundBracket(a,Ke)}Le=Me}if(a&&r&&Le&&ae!==me){const Be=Pe.findPrevBracketInRange(r.reversedRegex,p,Z,ae,me);if(Be)return this._toFoundBracket(a,Be)}}return null}findNextBracket(e){var p;const t=this.textModel.validatePosition(e);if(this.canBuildAST)return this.bracketsRequested=!0,this.updateBracketPairsTree(),((p=this.bracketPairsTree.value)==null?void 0:p.object.getFirstBracketAfter(t))||null;const i=this.textModel.getLineCount();let r=null,a=null,l=null;for(let k=t.lineNumber;k<=i;k++){const j=this.textModel.tokenization.getLineTokens(k),Z=j.getCount(),ne=this.textModel.getLineContent(k);let ae=0,me=0,Le=0;if(k===t.lineNumber){ae=j.findTokenIndexAtOffset(t.column-1),me=t.column-1,Le=t.column-1;const Me=j.getLanguageId(ae);r!==Me&&(r=Me,a=this.languageConfigurationService.getLanguageConfiguration(r).brackets,l=this.languageConfigurationService.getLanguageConfiguration(r).bracketsNew)}let Be=!0;for(;ae<Z;ae++){const Me=j.getLanguageId(ae);if(r!==Me){if(l&&a&&Be&&me!==Le){const st=Pe.findNextBracketInRange(a.forwardRegex,k,ne,me,Le);if(st)return this._toFoundBracket(l,st);Be=!1}r=Me,a=this.languageConfigurationService.getLanguageConfiguration(r).brackets,l=this.languageConfigurationService.getLanguageConfiguration(r).bracketsNew}const Ke=!!a&&!c(j.getStandardTokenType(ae));if(Ke)Be||(me=j.getStartOffset(ae)),Le=j.getEndOffset(ae);else if(l&&a&&Be&&me!==Le){const st=Pe.findNextBracketInRange(a.forwardRegex,k,ne,me,Le);if(st)return this._toFoundBracket(l,st)}Be=Ke}if(l&&a&&Be&&me!==Le){const Me=Pe.findNextBracketInRange(a.forwardRegex,k,ne,me,Le);if(Me)return this._toFoundBracket(l,Me)}}return null}findEnclosingBrackets(e,t){const i=this.textModel.validatePosition(e);if(this.canBuildAST){const me=O.Q.fromPositions(i),Le=this.getBracketPairsInRange(O.Q.fromPositions(i,i)).findLast(Be=>Be.closingBracketRange!==void 0&&Be.range.strictContainsRange(me));return Le?[Le.openingBracketRange,Le.closingBracketRange]:null}const r=Ri(t),a=this.textModel.getLineCount(),l=new Map;let p=[];const k=s((me,Le)=>{if(!l.has(me)){const Be=[];for(let Me=0,Ke=Le?Le.brackets.length:0;Me<Ke;Me++)Be[Me]=0;l.set(me,Be)}p=l.get(me)},"resetCounts");let j=0;const Z=s((me,Le,Be,Me,Ke)=>{for(;;){if(r&&++j%100===0&&!r())return vn.INSTANCE;const st=Pe.findNextBracketInRange(me.forwardRegex,Le,Be,Me,Ke);if(!st)break;const pt=Be.substring(st.startColumn-1,st.endColumn-1).toLowerCase(),yt=me.textIsBracket[pt];if(yt&&(yt.isOpen(pt)?p[yt.index]++:yt.isClose(pt)&&p[yt.index]--,p[yt.index]===-1))return this._matchFoundBracket(st,yt,!1,r);Me=st.endColumn-1}return null},"searchInRange");let ne=null,ae=null;for(let me=i.lineNumber;me<=a;me++){const Le=this.textModel.tokenization.getLineTokens(me),Be=Le.getCount(),Me=this.textModel.getLineContent(me);let Ke=0,st=0,pt=0;if(me===i.lineNumber){Ke=Le.findTokenIndexAtOffset(i.column-1),st=i.column-1,pt=i.column-1;const jt=Le.getLanguageId(Ke);ne!==jt&&(ne=jt,ae=this.languageConfigurationService.getLanguageConfiguration(ne).brackets,k(ne,ae))}let yt=!0;for(;Ke<Be;Ke++){const jt=Le.getLanguageId(Ke);if(ne!==jt){if(ae&&yt&&st!==pt){const Vt=Z(ae,me,Me,st,pt);if(Vt)return wi(Vt);yt=!1}ne=jt,ae=this.languageConfigurationService.getLanguageConfiguration(ne).brackets,k(ne,ae)}const tn=!!ae&&!c(Le.getStandardTokenType(Ke));if(tn)yt||(st=Le.getStartOffset(Ke)),pt=Le.getEndOffset(Ke);else if(ae&&yt&&st!==pt){const Vt=Z(ae,me,Me,st,pt);if(Vt)return wi(Vt)}yt=tn}if(ae&&yt&&st!==pt){const jt=Z(ae,me,Me,st,pt);if(jt)return wi(jt)}}return null}_toFoundBracket(e,t){if(!t)return null;let i=this.textModel.getValueInRange(t);i=i.toLowerCase();const r=e.getBracketInfo(i);return r?{range:t,bracketInfo:r}:null}};s(Wo,"BracketPairsTextModelPart");let Di=Wo;function Ki(_,e){return{object:_,dispose:s(()=>e==null?void 0:e.dispose(),"dispose")}}s(Ki,"createDisposableRef");function Ri(_){if(typeof _=="undefined")return()=>!0;{const e=Date.now();return()=>Date.now()-e<=_}}s(Ri,"createTimeBasedContinueBracketSearchPredicate");const Ss=class Ss{constructor(){this._searchCanceledBrand=void 0}};s(Ss,"BracketSearchCanceled"),Ss.INSTANCE=new Ss;let vn=Ss;function wi(_){return _ instanceof vn?null:_}s(wi,"stripBracketSearchCanceled");var Zn=v(8295),Wi=v(5295);const zo=class zo extends K.jG{constructor(e){super(),this.textModel=e,this.colorProvider=new Jn,this.onDidChangeEmitter=new N.vl,this.onDidChange=this.onDidChangeEmitter.event,this.colorizationOptions=e.getOptions().bracketPairColorizationOptions,this._register(e.bracketPairs.onDidChange(t=>{this.onDidChangeEmitter.fire()}))}handleDidChangeOptions(e){this.colorizationOptions=this.textModel.getOptions().bracketPairColorizationOptions}getDecorationsInRange(e,t,i,r){return r?[]:t===void 0?[]:this.colorizationOptions.enabled?this.textModel.bracketPairs.getBracketsInRange(e,!0).map(l=>({id:`bracket${l.range.toString()}-${l.nestingLevel}`,options:{description:"BracketPairColorization",inlineClassName:this.colorProvider.getInlineClassName(l,this.colorizationOptions.independentColorPoolPerBracketType)},ownerId:0,range:l.range})).toArray():[]}getAllDecorations(e,t){return e===void 0?[]:this.colorizationOptions.enabled?this.getDecorationsInRange(new O.Q(1,1,this.textModel.getLineCount(),1),e,t):[]}};s(zo,"ColorizedBracketPairsDecorationProvider");let Si=zo;const Uo=class Uo{constructor(){this.unexpectedClosingBracketClassName="unexpected-closing-bracket"}getInlineClassName(e,t){return e.isInvalid?this.unexpectedClosingBracketClassName:this.getInlineClassNameOfLevel(t?e.nestingLevelOfEqualBracketType:e.nestingLevel)}getInlineClassNameOfLevel(e){return`bracket-highlighting-${e%30}`}};s(Uo,"ColorProvider");let Jn=Uo;(0,Wi.zy)((_,e)=>{const t=[Zn.sN,Zn.lQ,Zn.ss,Zn.l5,Zn.sH,Zn.zp],i=new Jn;e.addRule(`.monaco-editor .${i.unexpectedClosingBracketClassName} { color: ${_.getColor(Zn.s7)}; }`);const r=t.map(a=>_.getColor(a)).filter(a=>!!a).filter(a=>!a.isTransparent());for(let a=0;a<30;a++){const l=r[a%r.length];e.addRule(`.monaco-editor .${i.getInlineClassNameOfLevel(a)} { color: ${l}; }`)}});var Xi=v(9746);function ke(_){return _.replace(/\n/g,"\\n").replace(/\r/g,"\\r")}s(ke,"escapeNewLine");const ti=class ti{get oldLength(){return this.oldText.length}get oldEnd(){return this.oldPosition+this.oldText.length}get newLength(){return this.newText.length}get newEnd(){return this.newPosition+this.newText.length}constructor(e,t,i,r){this.oldPosition=e,this.oldText=t,this.newPosition=i,this.newText=r}toString(){return this.oldText.length===0?`(insert@${this.oldPosition} "${ke(this.newText)}")`:this.newText.length===0?`(delete@${this.oldPosition} "${ke(this.oldText)}")`:`(replace@${this.oldPosition} "${ke(this.oldText)}" with "${ke(this.newText)}")`}static _writeStringSize(e){return 4+2*e.length}static _writeString(e,t,i){const r=t.length;f.Sw(e,r,i),i+=4;for(let a=0;a<r;a++)f.gN(e,t.charCodeAt(a),i),i+=2;return i}static _readString(e,t){const i=f.bb(e,t);return t+=4,re(e,t,i)}writeSize(){return 8+ti._writeStringSize(this.oldText)+ti._writeStringSize(this.newText)}write(e,t){return f.Sw(e,this.oldPosition,t),t+=4,f.Sw(e,this.newPosition,t),t+=4,t=ti._writeString(e,this.oldText,t),t=ti._writeString(e,this.newText,t),t}static read(e,t,i){const r=f.bb(e,t);t+=4;const a=f.bb(e,t);t+=4;const l=ti._readString(e,t);t+=ti._writeStringSize(l);const p=ti._readString(e,t);return t+=ti._writeStringSize(p),i.push(new ti(r,l,a,p)),t}};s(ti,"TextChange");let h=ti;function m(_,e){return _===null||_.length===0?e:new F(_,e).compress()}s(m,"compressConsecutiveTextChanges");const ai=class ai{constructor(e,t){this._prevEdits=e,this._currEdits=t,this._result=[],this._resultLen=0,this._prevLen=this._prevEdits.length,this._prevDeltaOffset=0,this._currLen=this._currEdits.length,this._currDeltaOffset=0}compress(){let e=0,t=0,i=this._getPrev(e),r=this._getCurr(t);for(;e<this._prevLen||t<this._currLen;){if(i===null){this._acceptCurr(r),r=this._getCurr(++t);continue}if(r===null){this._acceptPrev(i),i=this._getPrev(++e);continue}if(r.oldEnd<=i.newPosition){this._acceptCurr(r),r=this._getCurr(++t);continue}if(i.newEnd<=r.oldPosition){this._acceptPrev(i),i=this._getPrev(++e);continue}if(r.oldPosition<i.newPosition){const[j,Z]=ai._splitCurr(r,i.newPosition-r.oldPosition);this._acceptCurr(j),r=Z;continue}if(i.newPosition<r.oldPosition){const[j,Z]=ai._splitPrev(i,r.oldPosition-i.newPosition);this._acceptPrev(j),i=Z;continue}let p,k;if(r.oldEnd===i.newEnd)p=i,k=r,i=this._getPrev(++e),r=this._getCurr(++t);else if(r.oldEnd<i.newEnd){const[j,Z]=ai._splitPrev(i,r.oldLength);p=j,k=r,i=Z,r=this._getCurr(++t)}else{const[j,Z]=ai._splitCurr(r,i.newLength);p=i,k=j,i=this._getPrev(++e),r=Z}this._result[this._resultLen++]=new h(p.oldPosition,p.oldText,k.newPosition,k.newText),this._prevDeltaOffset+=p.newLength-p.oldLength,this._currDeltaOffset+=k.newLength-k.oldLength}const a=ai._merge(this._result);return ai._removeNoOps(a)}_acceptCurr(e){this._result[this._resultLen++]=ai._rebaseCurr(this._prevDeltaOffset,e),this._currDeltaOffset+=e.newLength-e.oldLength}_getCurr(e){return e<this._currLen?this._currEdits[e]:null}_acceptPrev(e){this._result[this._resultLen++]=ai._rebasePrev(this._currDeltaOffset,e),this._prevDeltaOffset+=e.newLength-e.oldLength}_getPrev(e){return e<this._prevLen?this._prevEdits[e]:null}static _rebaseCurr(e,t){return new h(t.oldPosition-e,t.oldText,t.newPosition,t.newText)}static _rebasePrev(e,t){return new h(t.oldPosition,t.oldText,t.newPosition+e,t.newText)}static _splitPrev(e,t){const i=e.newText.substr(0,t),r=e.newText.substr(t);return[new h(e.oldPosition,e.oldText,e.newPosition,i),new h(e.oldEnd,"",e.newPosition+t,r)]}static _splitCurr(e,t){const i=e.oldText.substr(0,t),r=e.oldText.substr(t);return[new h(e.oldPosition,i,e.newPosition,e.newText),new h(e.oldPosition+t,r,e.newEnd,"")]}static _merge(e){if(e.length===0)return e;const t=[];let i=0,r=e[0];for(let a=1;a<e.length;a++){const l=e[a];r.oldEnd===l.oldPosition?r=new h(r.oldPosition,r.oldText+l.oldText,r.newPosition,r.newText+l.newText):(t[i++]=r,r=l)}return t[i++]=r,t}static _removeNoOps(e){if(e.length===0)return e;const t=[];let i=0;for(let r=0;r<e.length;r++){const a=e[r];a.oldText!==a.newText&&(t[i++]=a)}return t}};s(ai,"TextChangeCompressor");let F=ai;var X=v(2467);function J(_){return _.toString()}s(J,"uriGetComparisonKey");const li=class li{static create(e,t){const i=e.getAlternativeVersionId(),r=pe(e);return new li(i,i,r,r,t,t,[])}constructor(e,t,i,r,a,l,p){this.beforeVersionId=e,this.afterVersionId=t,this.beforeEOL=i,this.afterEOL=r,this.beforeCursorState=a,this.afterCursorState=l,this.changes=p}append(e,t,i,r,a){t.length>0&&(this.changes=m(this.changes,t)),this.afterEOL=i,this.afterVersionId=r,this.afterCursorState=a}static _writeSelectionsSize(e){return 4+16*(e?e.length:0)}static _writeSelections(e,t,i){if(f.Sw(e,t?t.length:0,i),i+=4,t)for(const r of t)f.Sw(e,r.selectionStartLineNumber,i),i+=4,f.Sw(e,r.selectionStartColumn,i),i+=4,f.Sw(e,r.positionLineNumber,i),i+=4,f.Sw(e,r.positionColumn,i),i+=4;return i}static _readSelections(e,t,i){const r=f.bb(e,t);t+=4;for(let a=0;a<r;a++){const l=f.bb(e,t);t+=4;const p=f.bb(e,t);t+=4;const k=f.bb(e,t);t+=4;const j=f.bb(e,t);t+=4,i.push(new M.L(l,p,k,j))}return t}serialize(){let e=10+li._writeSelectionsSize(this.beforeCursorState)+li._writeSelectionsSize(this.afterCursorState)+4;for(const r of this.changes)e+=r.writeSize();const t=new Uint8Array(e);let i=0;f.Sw(t,this.beforeVersionId,i),i+=4,f.Sw(t,this.afterVersionId,i),i+=4,f.Gs(t,this.beforeEOL,i),i+=1,f.Gs(t,this.afterEOL,i),i+=1,i=li._writeSelections(t,this.beforeCursorState,i),i=li._writeSelections(t,this.afterCursorState,i),f.Sw(t,this.changes.length,i),i+=4;for(const r of this.changes)i=r.write(t,i);return t.buffer}static deserialize(e){const t=new Uint8Array(e);let i=0;const r=f.bb(t,i);i+=4;const a=f.bb(t,i);i+=4;const l=f.pJ(t,i);i+=1;const p=f.pJ(t,i);i+=1;const k=[];i=li._readSelections(t,i,k);const j=[];i=li._readSelections(t,i,j);const Z=f.bb(t,i);i+=4;const ne=[];for(let ae=0;ae<Z;ae++)i=h.read(t,i,ne);return new li(r,a,l,p,k,j,ne)}};s(li,"SingleModelEditStackData");let oe=li;const Vo=class Vo{get type(){return 0}get resource(){return G.r.isUri(this.model)?this.model:this.model.uri}constructor(e,t,i,r){this.label=e,this.code=t,this.model=i,this._data=oe.create(i,r)}toString(){return(this._data instanceof oe?this._data:oe.deserialize(this._data)).changes.map(t=>t.toString()).join(", ")}matchesResource(e){return(G.r.isUri(this.model)?this.model:this.model.uri).toString()===e.toString()}setModel(e){this.model=e}canAppend(e){return this.model===e&&this._data instanceof oe}append(e,t,i,r,a){this._data instanceof oe&&this._data.append(e,t,i,r,a)}close(){this._data instanceof oe&&(this._data=this._data.serialize())}open(){this._data instanceof oe||(this._data=oe.deserialize(this._data))}undo(){if(G.r.isUri(this.model))throw new Error("Invalid SingleModelEditStackElement");this._data instanceof oe&&(this._data=this._data.serialize());const e=oe.deserialize(this._data);this.model._applyUndo(e.changes,e.beforeEOL,e.beforeVersionId,e.beforeCursorState)}redo(){if(G.r.isUri(this.model))throw new Error("Invalid SingleModelEditStackElement");this._data instanceof oe&&(this._data=this._data.serialize());const e=oe.deserialize(this._data);this.model._applyRedo(e.changes,e.afterEOL,e.afterVersionId,e.afterCursorState)}heapSize(){return this._data instanceof oe&&(this._data=this._data.serialize()),this._data.byteLength+168}};s(Vo,"SingleModelEditStackElement");let ge=Vo;const Ho=class Ho{get resources(){return this._editStackElementsArr.map(e=>e.resource)}constructor(e,t,i){this.label=e,this.code=t,this.type=1,this._isOpen=!0,this._editStackElementsArr=i.slice(0),this._editStackElementsMap=new Map;for(const r of this._editStackElementsArr){const a=J(r.resource);this._editStackElementsMap.set(a,r)}this._delegate=null}prepareUndoRedo(){if(this._delegate)return this._delegate.prepareUndoRedo(this)}matchesResource(e){const t=J(e);return this._editStackElementsMap.has(t)}setModel(e){const t=J(G.r.isUri(e)?e:e.uri);this._editStackElementsMap.has(t)&&this._editStackElementsMap.get(t).setModel(e)}canAppend(e){if(!this._isOpen)return!1;const t=J(e.uri);return this._editStackElementsMap.has(t)?this._editStackElementsMap.get(t).canAppend(e):!1}append(e,t,i,r,a){const l=J(e.uri);this._editStackElementsMap.get(l).append(e,t,i,r,a)}close(){this._isOpen=!1}open(){}undo(){this._isOpen=!1;for(const e of this._editStackElementsArr)e.undo()}redo(){for(const e of this._editStackElementsArr)e.redo()}heapSize(e){const t=J(e);return this._editStackElementsMap.has(t)?this._editStackElementsMap.get(t).heapSize():0}split(){return this._editStackElementsArr}toString(){const e=[];for(const t of this._editStackElementsArr)e.push(`${(0,X.P8)(t.resource)}: ${t}`);return`{${e.join(", ")}}`}};s(Ho,"MultiModelEditStackElement");let de=Ho;function pe(_){return _.getEOL()===`
`?0:1}s(pe,"getModelEOL");function Ie(_){return _?_ instanceof ge||_ instanceof de:!1}s(Ie,"isEditStackElement");const xr=class xr{constructor(e,t){this._model=e,this._undoRedoService=t}pushStackElement(){const e=this._undoRedoService.getLastElement(this._model.uri);Ie(e)&&e.close()}popStackElement(){const e=this._undoRedoService.getLastElement(this._model.uri);Ie(e)&&e.open()}clear(){this._undoRedoService.removeElements(this._model.uri)}_getOrCreateEditStackElement(e,t){const i=this._undoRedoService.getLastElement(this._model.uri);if(Ie(i)&&i.canAppend(this._model))return i;const r=new ge(Xi.kg("edit","Typing"),"undoredo.textBufferEdit",this._model,e);return this._undoRedoService.pushElement(r,t),r}pushEOL(e){const t=this._getOrCreateEditStackElement(null,void 0);this._model.setEOL(e),t.append(this._model,[],pe(this._model),this._model.getAlternativeVersionId(),null)}pushEditOperation(e,t,i,r){const a=this._getOrCreateEditStackElement(e,r),l=this._model.applyEdits(t,!0),p=xr._computeCursorState(i,l),k=l.map((j,Z)=>({index:Z,textChange:j.textChange}));return k.sort((j,Z)=>j.textChange.oldPosition===Z.textChange.oldPosition?j.index-Z.index:j.textChange.oldPosition-Z.textChange.oldPosition),a.append(this._model,k.map(j=>j.textChange),pe(this._model),this._model.getAlternativeVersionId(),p),p}static _computeCursorState(e,t){try{return e?e(t):null}catch(i){return(0,E.dz)(i),null}}};s(xr,"EditStack");let Re=xr;var De=v(7393);const jo=class jo extends K.jG{constructor(){super(...arguments),this._isDisposed=!1}dispose(){super.dispose(),this._isDisposed=!0}assertNotDisposed(){if(this._isDisposed)throw new Error("TextModelPart is disposed!")}};s(jo,"TextModelPart");let Fe=jo;function Ve(_,e){let t=0,i=0;const r=_.length;for(;i<r;){const a=_.charCodeAt(i);if(a===32)t++;else if(a===9)t=t-t%e+e;else break;i++}return i===r?-1:t}s(Ve,"computeIndentLevel");var Ye;(function(_){_[_.Disabled=0]="Disabled",_[_.EnabledForActive=1]="EnabledForActive",_[_.Enabled=2]="Enabled"})(Ye||(Ye={}));const $o=class $o{constructor(e,t,i,r,a,l){if(this.visibleColumn=e,this.column=t,this.className=i,this.horizontalLine=r,this.forWrappedLinesAfterColumn=a,this.forWrappedLinesBeforeOrAtColumn=l,e!==-1==(t!==-1))throw new Error}};s($o,"IndentGuide");let ot=$o;const Go=class Go{constructor(e,t){this.top=e,this.endColumn=t}};s(Go,"IndentGuideHorizontalLine");let at=Go;const Qo=class Qo extends Fe{constructor(e,t){super(),this.textModel=e,this.languageConfigurationService=t}getLanguageConfiguration(e){return this.languageConfigurationService.getLanguageConfiguration(e)}_computeIndentLevel(e){return Ve(this.textModel.getLineContent(e+1),this.textModel.getOptions().tabSize)}getActiveIndentGuide(e,t,i){this.assertNotDisposed();const r=this.textModel.getLineCount();if(e<1||e>r)throw new E.D7("Illegal value for lineNumber");const a=this.getLanguageConfiguration(this.textModel.getLanguageId()).foldingRules,l=!!(a&&a.offSide);let p=-2,k=-1,j=-2,Z=-1;const ne=s(Vt=>{if(p!==-1&&(p===-2||p>Vt-1)){p=-1,k=-1;for(let Ft=Vt-2;Ft>=0;Ft--){const zt=this._computeIndentLevel(Ft);if(zt>=0){p=Ft,k=zt;break}}}if(j===-2){j=-1,Z=-1;for(let Ft=Vt;Ft<r;Ft++){const zt=this._computeIndentLevel(Ft);if(zt>=0){j=Ft,Z=zt;break}}}},"up_resolveIndents");let ae=-2,me=-1,Le=-2,Be=-1;const Me=s(Vt=>{if(ae===-2){ae=-1,me=-1;for(let Ft=Vt-2;Ft>=0;Ft--){const zt=this._computeIndentLevel(Ft);if(zt>=0){ae=Ft,me=zt;break}}}if(Le!==-1&&(Le===-2||Le<Vt-1)){Le=-1,Be=-1;for(let Ft=Vt;Ft<r;Ft++){const zt=this._computeIndentLevel(Ft);if(zt>=0){Le=Ft,Be=zt;break}}}},"down_resolveIndents");let Ke=0,st=!0,pt=0,yt=!0,jt=0,tn=0;for(let Vt=0;st||yt;Vt++){const Ft=e-Vt,zt=e+Vt;Vt>1&&(Ft<1||Ft<t)&&(st=!1),Vt>1&&(zt>r||zt>i)&&(yt=!1),Vt>5e4&&(st=!1,yt=!1);let Dn=-1;if(st&&Ft>=1){const ui=this._computeIndentLevel(Ft-1);ui>=0?(j=Ft-1,Z=ui,Dn=Math.ceil(ui/this.textModel.getOptions().indentSize)):(ne(Ft),Dn=this._getIndentLevelForWhitespaceLine(l,k,Z))}let un=-1;if(yt&&zt<=r){const ui=this._computeIndentLevel(zt-1);ui>=0?(ae=zt-1,me=ui,un=Math.ceil(ui/this.textModel.getOptions().indentSize)):(Me(zt),un=this._getIndentLevelForWhitespaceLine(l,me,Be))}if(Vt===0){tn=Dn;continue}if(Vt===1){if(zt<=r&&un>=0&&tn+1===un){st=!1,Ke=zt,pt=zt,jt=un;continue}if(Ft>=1&&Dn>=0&&Dn-1===tn){yt=!1,Ke=Ft,pt=Ft,jt=Dn;continue}if(Ke=e,pt=e,jt=tn,jt===0)return{startLineNumber:Ke,endLineNumber:pt,indent:jt}}st&&(Dn>=jt?Ke=Ft:st=!1),yt&&(un>=jt?pt=zt:yt=!1)}return{startLineNumber:Ke,endLineNumber:pt,indent:jt}}getLinesBracketGuides(e,t,i,r){var ne;const a=[];for(let ae=e;ae<=t;ae++)a.push([]);const l=!0,p=this.textModel.bracketPairs.getBracketPairsInRangeWithMinIndentation(new O.Q(e,1,t,this.textModel.getLineMaxColumn(t))).toArray();let k;if(i&&p.length>0){const ae=(e<=i.lineNumber&&i.lineNumber<=t?p:this.textModel.bracketPairs.getBracketPairsInRange(O.Q.fromPositions(i)).toArray()).filter(me=>O.Q.strictContainsPosition(me.range,i));k=(ne=(0,De.Uk)(ae,me=>l||me.range.startLineNumber!==me.range.endLineNumber))==null?void 0:ne.range}const j=this.textModel.getOptions().bracketPairColorizationOptions.independentColorPoolPerBracketType,Z=new lt;for(const ae of p){if(!ae.closingBracketRange)continue;const me=k&&ae.range.equalsRange(k);if(!me&&!r.includeInactive)continue;const Le=Z.getInlineClassName(ae.nestingLevel,ae.nestingLevelOfEqualBracketType,j)+(r.highlightActive&&me?" "+Z.activeClassName:""),Be=ae.openingBracketRange.getStartPosition(),Me=ae.closingBracketRange.getStartPosition(),Ke=r.horizontalGuides===Ye.Enabled||r.horizontalGuides===Ye.EnabledForActive&&me;if(ae.range.startLineNumber===ae.range.endLineNumber){l&&Ke&&a[ae.range.startLineNumber-e].push(new ot(-1,ae.openingBracketRange.getEndPosition().column,Le,new at(!1,Me.column),-1,-1));continue}const st=this.getVisibleColumnFromPosition(Me),pt=this.getVisibleColumnFromPosition(ae.openingBracketRange.getStartPosition()),yt=Math.min(pt,st,ae.minVisibleColumnIndentation+1);let jt=!1;u.HG(this.textModel.getLineContent(ae.closingBracketRange.startLineNumber))<ae.closingBracketRange.startColumn-1&&(jt=!0);const Ft=Math.max(Be.lineNumber,e),zt=Math.min(Me.lineNumber,t),Dn=jt?1:0;for(let un=Ft;un<zt+Dn;un++)a[un-e].push(new ot(yt,-1,Le,null,un===Be.lineNumber?Be.column:-1,un===Me.lineNumber?Me.column:-1));Ke&&(Be.lineNumber>=e&&pt>yt&&a[Be.lineNumber-e].push(new ot(yt,-1,Le,new at(!1,Be.column),-1,-1)),Me.lineNumber<=t&&st>yt&&a[Me.lineNumber-e].push(new ot(yt,-1,Le,new at(!jt,Me.column),-1,-1)))}for(const ae of a)ae.sort((me,Le)=>me.visibleColumn-Le.visibleColumn);return a}getVisibleColumnFromPosition(e){return Y.visibleColumnFromColumn(this.textModel.getLineContent(e.lineNumber),e.column,this.textModel.getOptions().tabSize)+1}getLinesIndentGuides(e,t){this.assertNotDisposed();const i=this.textModel.getLineCount();if(e<1||e>i)throw new Error("Illegal value for startLineNumber");if(t<1||t>i)throw new Error("Illegal value for endLineNumber");const r=this.textModel.getOptions(),a=this.getLanguageConfiguration(this.textModel.getLanguageId()).foldingRules,l=!!(a&&a.offSide),p=new Array(t-e+1);let k=-2,j=-1,Z=-2,ne=-1;for(let ae=e;ae<=t;ae++){const me=ae-e,Le=this._computeIndentLevel(ae-1);if(Le>=0){k=ae-1,j=Le,p[me]=Math.ceil(Le/r.indentSize);continue}if(k===-2){k=-1,j=-1;for(let Be=ae-2;Be>=0;Be--){const Me=this._computeIndentLevel(Be);if(Me>=0){k=Be,j=Me;break}}}if(Z!==-1&&(Z===-2||Z<ae-1)){Z=-1,ne=-1;for(let Be=ae;Be<i;Be++){const Me=this._computeIndentLevel(Be);if(Me>=0){Z=Be,ne=Me;break}}}p[me]=this._getIndentLevelForWhitespaceLine(l,j,ne)}return p}_getIndentLevelForWhitespaceLine(e,t,i){const r=this.textModel.getOptions();return t===-1||i===-1?0:t<i?1+Math.floor(t/r.indentSize):t===i||e?Math.ceil(i/r.indentSize):1+Math.floor(i/r.indentSize)}};s(Qo,"GuidesTextModelPart");let bt=Qo;const qo=class qo{constructor(){this.activeClassName="indent-active"}getInlineClassName(e,t,i){return this.getInlineClassNameOfLevel(i?t:e)}getInlineClassNameOfLevel(e){return`bracket-indent-guide lvl-${e%30}`}};s(qo,"BracketPairGuidesClassNames");let lt=qo;const Yo=class Yo{constructor(){this.spacesDiff=0,this.looksLikeAlignment=!1}};s(Yo,"SpacesDiffResult");let wt=Yo;function ft(_,e,t,i,r){r.spacesDiff=0,r.looksLikeAlignment=!1;let a;for(a=0;a<e&&a<i;a++){const ae=_.charCodeAt(a),me=t.charCodeAt(a);if(ae!==me)break}let l=0,p=0;for(let ae=a;ae<e;ae++)_.charCodeAt(ae)===32?l++:p++;let k=0,j=0;for(let ae=a;ae<i;ae++)t.charCodeAt(ae)===32?k++:j++;if(l>0&&p>0||k>0&&j>0)return;const Z=Math.abs(p-j),ne=Math.abs(l-k);if(Z===0){r.spacesDiff=ne,ne>0&&0<=k-1&&k-1<_.length&&k<t.length&&t.charCodeAt(k)!==32&&_.charCodeAt(k-1)===32&&_.charCodeAt(_.length-1)===44&&(r.looksLikeAlignment=!0);return}if(ne%Z===0){r.spacesDiff=ne/Z;return}}s(ft,"spacesDiff");function Lt(_,e,t){const i=Math.min(_.getLineCount(),1e4);let r=0,a=0,l="",p=0;const k=[2,4,6,8,3,5,7],j=8,Z=[0,0,0,0,0,0,0,0,0],ne=new wt;for(let Le=1;Le<=i;Le++){const Be=_.getLineLength(Le),Me=_.getLineContent(Le),Ke=Be<=65536;let st=!1,pt=0,yt=0,jt=0;for(let Vt=0,Ft=Be;Vt<Ft;Vt++){const zt=Ke?Me.charCodeAt(Vt):_.getLineCharCode(Le,Vt);if(zt===9)jt++;else if(zt===32)yt++;else{st=!0,pt=Vt;break}}if(!st||(jt>0?r++:yt>1&&a++,ft(l,p,Me,pt,ne),ne.looksLikeAlignment&&!(t&&e===ne.spacesDiff)))continue;const tn=ne.spacesDiff;tn<=j&&Z[tn]++,l=Me,p=pt}let ae=t;r!==a&&(ae=r<a);let me=e;if(ae){let Le=ae?0:.1*i;k.forEach(Be=>{const Me=Z[Be];Me>Le&&(Le=Me,me=Be)}),me===4&&Z[4]>0&&Z[2]>0&&Z[2]>=Z[4]/2&&(me=2)}return{insertSpaces:ae,tabSize:me}}s(Lt,"guessIndentation");function gt(_){return(_.metadata&1)>>>0}s(gt,"getNodeColor");function it(_,e){_.metadata=_.metadata&254|e<<0}s(it,"setNodeColor");function Tt(_){return(_.metadata&2)>>>1===1}s(Tt,"getNodeIsVisited");function vt(_,e){_.metadata=_.metadata&253|(e?1:0)<<1}s(vt,"setNodeIsVisited");function Ht(_){return(_.metadata&4)>>>2===1}s(Ht,"getNodeIsForValidation");function Nt(_,e){_.metadata=_.metadata&251|(e?1:0)<<2}s(Nt,"setNodeIsForValidation");function Hn(_){return(_.metadata&64)>>>6===1}s(Hn,"getNodeIsInGlyphMargin");function Ir(_,e){_.metadata=_.metadata&191|(e?1:0)<<6}s(Ir,"setNodeIsInGlyphMargin");function Ms(_){return(_.metadata&24)>>>3}s(Ms,"getNodeStickiness");function Os(_,e){_.metadata=_.metadata&231|e<<3}s(Os,"_setNodeStickiness");function Nr(_){return(_.metadata&32)>>>5===1}s(Nr,"getCollapseOnReplaceEdit");function Ar(_,e){_.metadata=_.metadata&223|(e?1:0)<<5}s(Ar,"setCollapseOnReplaceEdit");const Ko=class Ko{constructor(e,t,i){this.metadata=0,this.parent=this,this.left=this,this.right=this,it(this,1),this.start=t,this.end=i,this.delta=0,this.maxEnd=i,this.id=e,this.ownerId=0,this.options=null,Nt(this,!1),Ir(this,!1),Os(this,1),Ar(this,!1),this.cachedVersionId=0,this.cachedAbsoluteStart=t,this.cachedAbsoluteEnd=i,this.range=null,vt(this,!1)}reset(e,t,i,r){this.start=t,this.end=i,this.maxEnd=i,this.cachedVersionId=e,this.cachedAbsoluteStart=t,this.cachedAbsoluteEnd=i,this.range=r}setOptions(e){this.options=e;const t=this.options.className;Nt(this,t==="squiggly-error"||t==="squiggly-warning"||t==="squiggly-info"),Ir(this,this.options.glyphMarginClassName!==null),Os(this,this.options.stickiness),Ar(this,this.options.collapseOnReplaceEdit)}setCachedOffsets(e,t,i){this.cachedVersionId!==i&&(this.range=null),this.cachedVersionId=i,this.cachedAbsoluteStart=e,this.cachedAbsoluteEnd=t}detach(){this.parent=null,this.left=null,this.right=null}};s(Ko,"IntervalNode");let Ei=Ko;const kt=new Ei(null,0,0);kt.parent=kt,kt.left=kt,kt.right=kt,it(kt,0);const Xo=class Xo{constructor(){this.root=kt,this.requestNormalizeDelta=!1}intervalSearch(e,t,i,r,a,l){return this.root===kt?[]:Qa(this,e,t,i,r,a,l)}search(e,t,i,r){return this.root===kt?[]:Ga(this,e,t,i,r)}collectNodesFromOwner(e){return ja(this,e)}collectNodesPostOrder(){return $a(this)}insert(e){Tr(this,e),this._normalizeDeltaIfNecessary()}delete(e){Br(this,e),this._normalizeDeltaIfNecessary()}resolveNode(e,t){const i=e;let r=0;for(;e!==this.root;)e===e.parent.right&&(r+=e.parent.delta),e=e.parent;const a=i.start+r,l=i.end+r;i.setCachedOffsets(a,l,t)}acceptReplace(e,t,i,r){const a=Ji(this,e,e+t);for(let l=0,p=a.length;l<p;l++){const k=a[l];Br(this,k)}this._normalizeDeltaIfNecessary(),Ha(this,e,e+t,i),this._normalizeDeltaIfNecessary();for(let l=0,p=a.length;l<p;l++){const k=a[l];k.start=k.cachedAbsoluteStart,k.end=k.cachedAbsoluteEnd,Va(k,e,e+t,i,r),k.maxEnd=k.end,Tr(this,k)}this._normalizeDeltaIfNecessary()}_normalizeDeltaIfNecessary(){this.requestNormalizeDelta&&(this.requestNormalizeDelta=!1,Ua(this))}};s(Xo,"IntervalTree");let Zi=Xo;function Ua(_){let e=_.root,t=0;for(;e!==kt;){if(e.left!==kt&&!Tt(e.left)){e=e.left;continue}if(e.right!==kt&&!Tt(e.right)){t+=e.delta,e=e.right;continue}e.start=t+e.start,e.end=t+e.end,e.delta=0,Ii(e),vt(e,!0),vt(e.left,!1),vt(e.right,!1),e===e.parent.right&&(t-=e.parent.delta),e=e.parent}vt(_.root,!1)}s(Ua,"normalizeDelta");function yi(_,e,t,i){return _<t?!0:_>t||i===1?!1:i===2?!0:e}s(yi,"adjustMarkerBeforeColumn");function Va(_,e,t,i,r){const a=Ms(_),l=a===0||a===2,p=a===1||a===2,k=t-e,j=i,Z=Math.min(k,j),ne=_.start;let ae=!1;const me=_.end;let Le=!1;e<=ne&&me<=t&&Nr(_)&&(_.start=e,ae=!0,_.end=e,Le=!0);{const Me=r?1:k>0?2:0;!ae&&yi(ne,l,e,Me)&&(ae=!0),!Le&&yi(me,p,e,Me)&&(Le=!0)}if(Z>0&&!r){const Me=k>j?2:0;!ae&&yi(ne,l,e+Z,Me)&&(ae=!0),!Le&&yi(me,p,e+Z,Me)&&(Le=!0)}{const Me=r?1:0;!ae&&yi(ne,l,t,Me)&&(_.start=e+j,ae=!0),!Le&&yi(me,p,t,Me)&&(_.end=e+j,Le=!0)}const Be=j-k;ae||(_.start=Math.max(0,ne+Be)),Le||(_.end=Math.max(0,me+Be)),_.start>_.end&&(_.end=_.start)}s(Va,"nodeAcceptEdit");function Ji(_,e,t){let i=_.root,r=0,a=0,l=0,p=0;const k=[];let j=0;for(;i!==kt;){if(Tt(i)){vt(i.left,!1),vt(i.right,!1),i===i.parent.right&&(r-=i.parent.delta),i=i.parent;continue}if(!Tt(i.left)){if(a=r+i.maxEnd,a<e){vt(i,!0);continue}if(i.left!==kt){i=i.left;continue}}if(l=r+i.start,l>t){vt(i,!0);continue}if(p=r+i.end,p>=e&&(i.setCachedOffsets(l,p,0),k[j++]=i),vt(i,!0),i.right!==kt&&!Tt(i.right)){r+=i.delta,i=i.right;continue}}return vt(_.root,!1),k}s(Ji,"searchForEditing");function Ha(_,e,t,i){let r=_.root,a=0,l=0,p=0;const k=i-(t-e);for(;r!==kt;){if(Tt(r)){vt(r.left,!1),vt(r.right,!1),r===r.parent.right&&(a-=r.parent.delta),Ii(r),r=r.parent;continue}if(!Tt(r.left)){if(l=a+r.maxEnd,l<e){vt(r,!0);continue}if(r.left!==kt){r=r.left;continue}}if(p=a+r.start,p>t){r.start+=k,r.end+=k,r.delta+=k,(r.delta<-1073741824||r.delta>1073741824)&&(_.requestNormalizeDelta=!0),vt(r,!0);continue}if(vt(r,!0),r.right!==kt&&!Tt(r.right)){a+=r.delta,r=r.right;continue}}vt(_.root,!1)}s(Ha,"noOverlapReplace");function ja(_,e){let t=_.root;const i=[];let r=0;for(;t!==kt;){if(Tt(t)){vt(t.left,!1),vt(t.right,!1),t=t.parent;continue}if(t.left!==kt&&!Tt(t.left)){t=t.left;continue}if(t.ownerId===e&&(i[r++]=t),vt(t,!0),t.right!==kt&&!Tt(t.right)){t=t.right;continue}}return vt(_.root,!1),i}s(ja,"collectNodesFromOwner");function $a(_){let e=_.root;const t=[];let i=0;for(;e!==kt;){if(Tt(e)){vt(e.left,!1),vt(e.right,!1),e=e.parent;continue}if(e.left!==kt&&!Tt(e.left)){e=e.left;continue}if(e.right!==kt&&!Tt(e.right)){e=e.right;continue}t[i++]=e,vt(e,!0)}return vt(_.root,!1),t}s($a,"collectNodesPostOrder");function Ga(_,e,t,i,r){let a=_.root,l=0,p=0,k=0;const j=[];let Z=0;for(;a!==kt;){if(Tt(a)){vt(a.left,!1),vt(a.right,!1),a===a.parent.right&&(l-=a.parent.delta),a=a.parent;continue}if(a.left!==kt&&!Tt(a.left)){a=a.left;continue}p=l+a.start,k=l+a.end,a.setCachedOffsets(p,k,i);let ne=!0;if(e&&a.ownerId&&a.ownerId!==e&&(ne=!1),t&&Ht(a)&&(ne=!1),r&&!Hn(a)&&(ne=!1),ne&&(j[Z++]=a),vt(a,!0),a.right!==kt&&!Tt(a.right)){l+=a.delta,a=a.right;continue}}return vt(_.root,!1),j}s(Ga,"search");function Qa(_,e,t,i,r,a,l){let p=_.root,k=0,j=0,Z=0,ne=0;const ae=[];let me=0;for(;p!==kt;){if(Tt(p)){vt(p.left,!1),vt(p.right,!1),p===p.parent.right&&(k-=p.parent.delta),p=p.parent;continue}if(!Tt(p.left)){if(j=k+p.maxEnd,j<e){vt(p,!0);continue}if(p.left!==kt){p=p.left;continue}}if(Z=k+p.start,Z>t){vt(p,!0);continue}if(ne=k+p.end,ne>=e){p.setCachedOffsets(Z,ne,a);let Le=!0;i&&p.ownerId&&p.ownerId!==i&&(Le=!1),r&&Ht(p)&&(Le=!1),l&&!Hn(p)&&(Le=!1),Le&&(ae[me++]=p)}if(vt(p,!0),p.right!==kt&&!Tt(p.right)){k+=p.delta,p=p.right;continue}}return vt(_.root,!1),ae}s(Qa,"intervalSearch");function Tr(_,e){if(_.root===kt)return e.parent=kt,e.left=kt,e.right=kt,it(e,0),_.root=e,_.root;qa(_,e),Ni(e.parent);let t=e;for(;t!==_.root&&gt(t.parent)===1;)if(t.parent===t.parent.parent.left){const i=t.parent.parent.right;gt(i)===1?(it(t.parent,0),it(i,0),it(t.parent.parent,1),t=t.parent.parent):(t===t.parent.right&&(t=t.parent,es(_,t)),it(t.parent,0),it(t.parent.parent,1),ts(_,t.parent.parent))}else{const i=t.parent.parent.left;gt(i)===1?(it(t.parent,0),it(i,0),it(t.parent.parent,1),t=t.parent.parent):(t===t.parent.left&&(t=t.parent,ts(_,t)),it(t.parent,0),it(t.parent.parent,1),es(_,t.parent.parent))}return it(_.root,0),e}s(Tr,"rbTreeInsert");function qa(_,e){let t=0,i=_.root;const r=e.start,a=e.end;for(;;)if(Ka(r,a,i.start+t,i.end+t)<0)if(i.left===kt){e.start-=t,e.end-=t,e.maxEnd-=t,i.left=e;break}else i=i.left;else if(i.right===kt){e.start-=t+i.delta,e.end-=t+i.delta,e.maxEnd-=t+i.delta,i.right=e;break}else t+=i.delta,i=i.right;e.parent=i,e.left=kt,e.right=kt,it(e,1)}s(qa,"treeInsert");function Br(_,e){let t,i;if(e.left===kt?(t=e.right,i=e,t.delta+=e.delta,(t.delta<-1073741824||t.delta>1073741824)&&(_.requestNormalizeDelta=!0),t.start+=e.delta,t.end+=e.delta):e.right===kt?(t=e.left,i=e):(i=Ya(e.right),t=i.right,t.start+=i.delta,t.end+=i.delta,t.delta+=i.delta,(t.delta<-1073741824||t.delta>1073741824)&&(_.requestNormalizeDelta=!0),i.start+=e.delta,i.end+=e.delta,i.delta=e.delta,(i.delta<-1073741824||i.delta>1073741824)&&(_.requestNormalizeDelta=!0)),i===_.root){_.root=t,it(t,0),e.detach(),Fs(),Ii(t),_.root.parent=kt;return}const r=gt(i)===1;if(i===i.parent.left?i.parent.left=t:i.parent.right=t,i===e?t.parent=i.parent:(i.parent===e?t.parent=i:t.parent=i.parent,i.left=e.left,i.right=e.right,i.parent=e.parent,it(i,gt(e)),e===_.root?_.root=i:e===e.parent.left?e.parent.left=i:e.parent.right=i,i.left!==kt&&(i.left.parent=i),i.right!==kt&&(i.right.parent=i)),e.detach(),r){Ni(t.parent),i!==e&&(Ni(i),Ni(i.parent)),Fs();return}Ni(t),Ni(t.parent),i!==e&&(Ni(i),Ni(i.parent));let a;for(;t!==_.root&&gt(t)===0;)t===t.parent.left?(a=t.parent.right,gt(a)===1&&(it(a,0),it(t.parent,1),es(_,t.parent),a=t.parent.right),gt(a.left)===0&&gt(a.right)===0?(it(a,1),t=t.parent):(gt(a.right)===0&&(it(a.left,0),it(a,1),ts(_,a),a=t.parent.right),it(a,gt(t.parent)),it(t.parent,0),it(a.right,0),es(_,t.parent),t=_.root)):(a=t.parent.left,gt(a)===1&&(it(a,0),it(t.parent,1),ts(_,t.parent),a=t.parent.left),gt(a.left)===0&&gt(a.right)===0?(it(a,1),t=t.parent):(gt(a.left)===0&&(it(a.right,0),it(a,1),es(_,a),a=t.parent.left),it(a,gt(t.parent)),it(t.parent,0),it(a.left,0),ts(_,t.parent),t=_.root));it(t,0),Fs()}s(Br,"rbTreeDelete");function Ya(_){for(;_.left!==kt;)_=_.left;return _}s(Ya,"leftest");function Fs(){kt.parent=kt,kt.delta=0,kt.start=0,kt.end=0}s(Fs,"resetSentinel");function es(_,e){const t=e.right;t.delta+=e.delta,(t.delta<-1073741824||t.delta>1073741824)&&(_.requestNormalizeDelta=!0),t.start+=e.delta,t.end+=e.delta,e.right=t.left,t.left!==kt&&(t.left.parent=e),t.parent=e.parent,e.parent===kt?_.root=t:e===e.parent.left?e.parent.left=t:e.parent.right=t,t.left=e,e.parent=t,Ii(e),Ii(t)}s(es,"leftRotate");function ts(_,e){const t=e.left;e.delta-=t.delta,(e.delta<-1073741824||e.delta>1073741824)&&(_.requestNormalizeDelta=!0),e.start-=t.delta,e.end-=t.delta,e.left=t.right,t.right!==kt&&(t.right.parent=e),t.parent=e.parent,e.parent===kt?_.root=t:e===e.parent.right?e.parent.right=t:e.parent.left=t,t.right=e,e.parent=t,Ii(e),Ii(t)}s(ts,"rightRotate");function Dr(_){let e=_.end;if(_.left!==kt){const t=_.left.maxEnd;t>e&&(e=t)}if(_.right!==kt){const t=_.right.maxEnd+_.delta;t>e&&(e=t)}return e}s(Dr,"computeMaxEnd");function Ii(_){_.maxEnd=Dr(_)}s(Ii,"recomputeMaxEnd");function Ni(_){for(;_!==kt;){const e=Dr(_);if(_.maxEnd===e)return;_.maxEnd=e,_=_.parent}}s(Ni,"recomputeMaxEndWalkToRoot");function Ka(_,e,t,i){return _===t?e-i:_-t}s(Ka,"intervalCompare");const Zo=class Zo{constructor(e,t){this.piece=e,this.color=t,this.size_left=0,this.lf_left=0,this.parent=this,this.left=this,this.right=this}next(){if(this.right!==ht)return Ps(this.right);let e=this;for(;e.parent!==ht&&e.parent.left!==e;)e=e.parent;return e.parent===ht?ht:e.parent}prev(){if(this.left!==ht)return Mi(this.left);let e=this;for(;e.parent!==ht&&e.parent.right!==e;)e=e.parent;return e.parent===ht?ht:e.parent}detach(){this.parent=null,this.left=null,this.right=null}};s(Zo,"TreeNode");let ns=Zo;const ht=new ns(null,0);ht.parent=ht,ht.left=ht,ht.right=ht,ht.color=0;function Ps(_){for(;_.left!==ht;)_=_.left;return _}s(Ps,"rbTreeBase_leftest");function Mi(_){for(;_.right!==ht;)_=_.right;return _}s(Mi,"righttest");function zi(_){return _===ht?0:_.size_left+_.piece.length+zi(_.right)}s(zi,"calculateSize");function ms(_){return _===ht?0:_.lf_left+_.piece.lineFeedCnt+ms(_.right)}s(ms,"calculateLF");function Ws(){ht.parent=ht}s(Ws,"rbTreeBase_resetSentinel");function is(_,e){const t=e.right;t.size_left+=e.size_left+(e.piece?e.piece.length:0),t.lf_left+=e.lf_left+(e.piece?e.piece.lineFeedCnt:0),e.right=t.left,t.left!==ht&&(t.left.parent=e),t.parent=e.parent,e.parent===ht?_.root=t:e.parent.left===e?e.parent.left=t:e.parent.right=t,t.left=e,e.parent=t}s(is,"rbTreeBase_leftRotate");function ss(_,e){const t=e.left;e.left=t.right,t.right!==ht&&(t.right.parent=e),t.parent=e.parent,e.size_left-=t.size_left+(t.piece?t.piece.length:0),e.lf_left-=t.lf_left+(t.piece?t.piece.lineFeedCnt:0),e.parent===ht?_.root=t:e===e.parent.right?e.parent.right=t:e.parent.left=t,t.right=e,e.parent=t}s(ss,"rbTreeBase_rightRotate");function ps(_,e){let t,i;if(e.left===ht?(i=e,t=i.right):e.right===ht?(i=e,t=i.left):(i=Ps(e.right),t=i.right),i===_.root){_.root=t,t.color=0,e.detach(),Ws(),_.root.parent=ht;return}const r=i.color===1;if(i===i.parent.left?i.parent.left=t:i.parent.right=t,i===e?(t.parent=i.parent,rs(_,t)):(i.parent===e?t.parent=i:t.parent=i.parent,rs(_,t),i.left=e.left,i.right=e.right,i.parent=e.parent,i.color=e.color,e===_.root?_.root=i:e===e.parent.left?e.parent.left=i:e.parent.right=i,i.left!==ht&&(i.left.parent=i),i.right!==ht&&(i.right.parent=i),i.size_left=e.size_left,i.lf_left=e.lf_left,rs(_,i)),e.detach(),t.parent.left===t){const l=zi(t),p=ms(t);if(l!==t.parent.size_left||p!==t.parent.lf_left){const k=l-t.parent.size_left,j=p-t.parent.lf_left;t.parent.size_left=l,t.parent.lf_left=p,gi(_,t.parent,k,j)}}if(rs(_,t.parent),r){Ws();return}let a;for(;t!==_.root&&t.color===0;)t===t.parent.left?(a=t.parent.right,a.color===1&&(a.color=0,t.parent.color=1,is(_,t.parent),a=t.parent.right),a.left.color===0&&a.right.color===0?(a.color=1,t=t.parent):(a.right.color===0&&(a.left.color=0,a.color=1,ss(_,a),a=t.parent.right),a.color=t.parent.color,t.parent.color=0,a.right.color=0,is(_,t.parent),t=_.root)):(a=t.parent.left,a.color===1&&(a.color=0,t.parent.color=1,ss(_,t.parent),a=t.parent.left),a.left.color===0&&a.right.color===0?(a.color=1,t=t.parent):(a.left.color===0&&(a.right.color=0,a.color=1,is(_,a),a=t.parent.left),a.color=t.parent.color,t.parent.color=0,a.left.color=0,ss(_,t.parent),t=_.root));t.color=0,Ws()}s(ps,"rbDelete");function Rr(_,e){for(rs(_,e);e!==_.root&&e.parent.color===1;)if(e.parent===e.parent.parent.left){const t=e.parent.parent.right;t.color===1?(e.parent.color=0,t.color=0,e.parent.parent.color=1,e=e.parent.parent):(e===e.parent.right&&(e=e.parent,is(_,e)),e.parent.color=0,e.parent.parent.color=1,ss(_,e.parent.parent))}else{const t=e.parent.parent.left;t.color===1?(e.parent.color=0,t.color=0,e.parent.parent.color=1,e=e.parent.parent):(e===e.parent.left&&(e=e.parent,ss(_,e)),e.parent.color=0,e.parent.parent.color=1,is(_,e.parent.parent))}_.root.color=0}s(Rr,"fixInsert");function gi(_,e,t,i){for(;e!==_.root&&e!==ht;)e.parent.left===e&&(e.parent.size_left+=t,e.parent.lf_left+=i),e=e.parent}s(gi,"updateTreeMetadata");function rs(_,e){let t=0,i=0;if(e!==_.root){for(;e!==_.root&&e===e.parent.right;)e=e.parent;if(e!==_.root)for(e=e.parent,t=zi(e.left)-e.size_left,i=ms(e.left)-e.lf_left,e.size_left+=t,e.lf_left+=i;e!==_.root&&(t!==0||i!==0);)e.parent.left===e&&(e.parent.size_left+=t,e.parent.lf_left+=i),e=e.parent}}s(rs,"recomputeTreeMetadata");var Ln=v(2007);const mi=65535;function Ui(_){let e;return _[_.length-1]<65536?e=new Uint16Array(_.length):e=new Uint32Array(_.length),e.set(_,0),e}s(Ui,"createUintArray");const Jo=class Jo{constructor(e,t,i,r,a){this.lineStarts=e,this.cr=t,this.lf=i,this.crlf=r,this.isBasicASCII=a}};s(Jo,"LineStarts");let zs=Jo;function pi(_,e=!0){const t=[0];let i=1;for(let r=0,a=_.length;r<a;r++){const l=_.charCodeAt(r);l===13?r+1<a&&_.charCodeAt(r+1)===10?(t[i++]=r+2,r++):t[i++]=r+1:l===10&&(t[i++]=r+1)}return e?Ui(t):t}s(pi,"createLineStartsFast");function Xa(_,e){_.length=0,_[0]=0;let t=1,i=0,r=0,a=0,l=!0;for(let k=0,j=e.length;k<j;k++){const Z=e.charCodeAt(k);Z===13?k+1<j&&e.charCodeAt(k+1)===10?(a++,_[t++]=k+2,k++):(i++,_[t++]=k+1):Z===10?(r++,_[t++]=k+1):l&&Z!==9&&(Z<32||Z>126)&&(l=!1)}const p=new zs(Ui(_),i,r,a,l);return _.length=0,p}s(Xa,"createLineStarts");const ea=class ea{constructor(e,t,i,r,a){this.bufferIndex=e,this.start=t,this.end=i,this.lineFeedCnt=r,this.length=a}};s(ea,"Piece");let hn=ea;const ta=class ta{constructor(e,t){this.buffer=e,this.lineStarts=t}};s(ta,"StringBuffer");let _i=ta;const na=class na{constructor(e,t){this._pieces=[],this._tree=e,this._BOM=t,this._index=0,e.root!==ht&&e.iterate(e.root,i=>(i!==ht&&this._pieces.push(i.piece),!0))}read(){return this._pieces.length===0?this._index===0?(this._index++,this._BOM):null:this._index>this._pieces.length-1?null:this._index===0?this._BOM+this._tree.getPieceContent(this._pieces[this._index++]):this._tree.getPieceContent(this._pieces[this._index++])}};s(na,"PieceTreeSnapshot");let Us=na;const ia=class ia{constructor(e){this._limit=e,this._cache=[]}get(e){for(let t=this._cache.length-1;t>=0;t--){const i=this._cache[t];if(i.nodeStartOffset<=e&&i.nodeStartOffset+i.node.piece.length>=e)return i}return null}get2(e){for(let t=this._cache.length-1;t>=0;t--){const i=this._cache[t];if(i.nodeStartLineNumber&&i.nodeStartLineNumber<e&&i.nodeStartLineNumber+i.node.piece.lineFeedCnt>=e)return i}return null}set(e){this._cache.length>=this._limit&&this._cache.shift(),this._cache.push(e)}validate(e){let t=!1;const i=this._cache;for(let r=0;r<i.length;r++){const a=i[r];if(a.node.parent===null||a.nodeStartOffset>=e){i[r]=null,t=!0;continue}}if(t){const r=[];for(const a of i)a!==null&&r.push(a);this._cache=r}}};s(ia,"PieceTreeSearchCache");let Vs=ia;const sa=class sa{constructor(e,t,i){this.create(e,t,i)}create(e,t,i){this._buffers=[new _i("",[0])],this._lastChangeBufferPos={line:0,column:0},this.root=ht,this._lineCnt=1,this._length=0,this._EOL=t,this._EOLLength=t.length,this._EOLNormalized=i;let r=null;for(let a=0,l=e.length;a<l;a++)if(e[a].buffer.length>0){e[a].lineStarts||(e[a].lineStarts=pi(e[a].buffer));const p=new hn(a+1,{line:0,column:0},{line:e[a].lineStarts.length-1,column:e[a].buffer.length-e[a].lineStarts[e[a].lineStarts.length-1]},e[a].lineStarts.length-1,e[a].buffer.length);this._buffers.push(e[a]),r=this.rbInsertRight(r,p)}this._searchCache=new Vs(1),this._lastVisitedLine={lineNumber:0,value:""},this.computeBufferMetadata()}normalizeEOL(e){const t=mi,i=t-Math.floor(t/3),r=i*2;let a="",l=0;const p=[];if(this.iterate(this.root,k=>{const j=this.getNodeContent(k),Z=j.length;if(l<=i||l+Z<r)return a+=j,l+=Z,!0;const ne=a.replace(/\r\n|\r|\n/g,e);return p.push(new _i(ne,pi(ne))),a=j,l=Z,!0}),l>0){const k=a.replace(/\r\n|\r|\n/g,e);p.push(new _i(k,pi(k)))}this.create(p,e,!0)}getEOL(){return this._EOL}setEOL(e){this._EOL=e,this._EOLLength=this._EOL.length,this.normalizeEOL(e)}createSnapshot(e){return new Us(this,e)}getOffsetAt(e,t){let i=0,r=this.root;for(;r!==ht;)if(r.left!==ht&&r.lf_left+1>=e)r=r.left;else if(r.lf_left+r.piece.lineFeedCnt+1>=e){i+=r.size_left;const a=this.getAccumulatedValue(r,e-r.lf_left-2);return i+=a+t-1}else e-=r.lf_left+r.piece.lineFeedCnt,i+=r.size_left+r.piece.length,r=r.right;return i}getPositionAt(e){e=Math.floor(e),e=Math.max(0,e);let t=this.root,i=0;const r=e;for(;t!==ht;)if(t.size_left!==0&&t.size_left>=e)t=t.left;else if(t.size_left+t.piece.length>=e){const a=this.getIndexOf(t,e-t.size_left);if(i+=t.lf_left+a.index,a.index===0){const l=this.getOffsetAt(i+1,1),p=r-l;return new P.y(i+1,p+1)}return new P.y(i+1,a.remainder+1)}else if(e-=t.size_left+t.piece.length,i+=t.lf_left+t.piece.lineFeedCnt,t.right===ht){const a=this.getOffsetAt(i+1,1),l=r-e-a;return new P.y(i+1,l+1)}else t=t.right;return new P.y(1,1)}getValueInRange(e,t){if(e.startLineNumber===e.endLineNumber&&e.startColumn===e.endColumn)return"";const i=this.nodeAt2(e.startLineNumber,e.startColumn),r=this.nodeAt2(e.endLineNumber,e.endColumn),a=this.getValueInRange2(i,r);return t?t!==this._EOL||!this._EOLNormalized?a.replace(/\r\n|\r|\n/g,t):t===this.getEOL()&&this._EOLNormalized?a:a.replace(/\r\n|\r|\n/g,t):a}getValueInRange2(e,t){if(e.node===t.node){const p=e.node,k=this._buffers[p.piece.bufferIndex].buffer,j=this.offsetInBuffer(p.piece.bufferIndex,p.piece.start);return k.substring(j+e.remainder,j+t.remainder)}let i=e.node;const r=this._buffers[i.piece.bufferIndex].buffer,a=this.offsetInBuffer(i.piece.bufferIndex,i.piece.start);let l=r.substring(a+e.remainder,a+i.piece.length);for(i=i.next();i!==ht;){const p=this._buffers[i.piece.bufferIndex].buffer,k=this.offsetInBuffer(i.piece.bufferIndex,i.piece.start);if(i===t.node){l+=p.substring(k,k+t.remainder);break}else l+=p.substr(k,i.piece.length);i=i.next()}return l}getLinesContent(){const e=[];let t=0,i="",r=!1;return this.iterate(this.root,a=>{if(a===ht)return!0;const l=a.piece;let p=l.length;if(p===0)return!0;const k=this._buffers[l.bufferIndex].buffer,j=this._buffers[l.bufferIndex].lineStarts,Z=l.start.line,ne=l.end.line;let ae=j[Z]+l.start.column;if(r&&(k.charCodeAt(ae)===10&&(ae++,p--),e[t++]=i,i="",r=!1,p===0))return!0;if(Z===ne)return!this._EOLNormalized&&k.charCodeAt(ae+p-1)===13?(r=!0,i+=k.substr(ae,p-1)):i+=k.substr(ae,p),!0;i+=this._EOLNormalized?k.substring(ae,Math.max(ae,j[Z+1]-this._EOLLength)):k.substring(ae,j[Z+1]).replace(/(\r\n|\r|\n)$/,""),e[t++]=i;for(let me=Z+1;me<ne;me++)i=this._EOLNormalized?k.substring(j[me],j[me+1]-this._EOLLength):k.substring(j[me],j[me+1]).replace(/(\r\n|\r|\n)$/,""),e[t++]=i;return!this._EOLNormalized&&k.charCodeAt(j[ne]+l.end.column-1)===13?(r=!0,l.end.column===0?t--:i=k.substr(j[ne],l.end.column-1)):i=k.substr(j[ne],l.end.column),!0}),r&&(e[t++]=i,i=""),e[t++]=i,e}getLength(){return this._length}getLineCount(){return this._lineCnt}getLineContent(e){return this._lastVisitedLine.lineNumber===e?this._lastVisitedLine.value:(this._lastVisitedLine.lineNumber=e,e===this._lineCnt?this._lastVisitedLine.value=this.getLineRawContent(e):this._EOLNormalized?this._lastVisitedLine.value=this.getLineRawContent(e,this._EOLLength):this._lastVisitedLine.value=this.getLineRawContent(e).replace(/(\r\n|\r|\n)$/,""),this._lastVisitedLine.value)}_getCharCode(e){if(e.remainder===e.node.piece.length){const t=e.node.next();if(!t)return 0;const i=this._buffers[t.piece.bufferIndex],r=this.offsetInBuffer(t.piece.bufferIndex,t.piece.start);return i.buffer.charCodeAt(r)}else{const t=this._buffers[e.node.piece.bufferIndex],r=this.offsetInBuffer(e.node.piece.bufferIndex,e.node.piece.start)+e.remainder;return t.buffer.charCodeAt(r)}}getLineCharCode(e,t){const i=this.nodeAt2(e,t+1);return this._getCharCode(i)}getLineLength(e){if(e===this.getLineCount()){const t=this.getOffsetAt(e,1);return this.getLength()-t}return this.getOffsetAt(e+1,1)-this.getOffsetAt(e,1)-this._EOLLength}findMatchesInNode(e,t,i,r,a,l,p,k,j,Z,ne){const ae=this._buffers[e.piece.bufferIndex],me=this.offsetInBuffer(e.piece.bufferIndex,e.piece.start),Le=this.offsetInBuffer(e.piece.bufferIndex,a),Be=this.offsetInBuffer(e.piece.bufferIndex,l);let Me;const Ke={line:0,column:0};let st,pt;t._wordSeparators?(st=ae.buffer.substring(Le,Be),pt=s(yt=>yt+Le,"offsetInBuffer"),t.reset(0)):(st=ae.buffer,pt=s(yt=>yt,"offsetInBuffer"),t.reset(Le));do if(Me=t.next(st),Me){if(pt(Me.index)>=Be)return Z;this.positionInBuffer(e,pt(Me.index)-me,Ke);const yt=this.getLineFeedCnt(e.piece.bufferIndex,a,Ke),jt=Ke.line===a.line?Ke.column-a.column+r:Ke.column+1,tn=jt+Me[0].length;if(ne[Z++]=(0,Ln.dr)(new O.Q(i+yt,jt,i+yt,tn),Me,k),pt(Me.index)+Me[0].length>=Be||Z>=j)return Z}while(Me);return Z}findMatchesLineByLine(e,t,i,r){const a=[];let l=0;const p=new Ln.W5(t.wordSeparators,t.regex);let k=this.nodeAt2(e.startLineNumber,e.startColumn);if(k===null)return[];const j=this.nodeAt2(e.endLineNumber,e.endColumn);if(j===null)return[];let Z=this.positionInBuffer(k.node,k.remainder);const ne=this.positionInBuffer(j.node,j.remainder);if(k.node===j.node)return this.findMatchesInNode(k.node,p,e.startLineNumber,e.startColumn,Z,ne,t,i,r,l,a),a;let ae=e.startLineNumber,me=k.node;for(;me!==j.node;){const Be=this.getLineFeedCnt(me.piece.bufferIndex,Z,me.piece.end);if(Be>=1){const Ke=this._buffers[me.piece.bufferIndex].lineStarts,st=this.offsetInBuffer(me.piece.bufferIndex,me.piece.start),pt=Ke[Z.line+Be],yt=ae===e.startLineNumber?e.startColumn:1;if(l=this.findMatchesInNode(me,p,ae,yt,Z,this.positionInBuffer(me,pt-st),t,i,r,l,a),l>=r)return a;ae+=Be}const Me=ae===e.startLineNumber?e.startColumn-1:0;if(ae===e.endLineNumber){const Ke=this.getLineContent(ae).substring(Me,e.endColumn-1);return l=this._findMatchesInLine(t,p,Ke,e.endLineNumber,Me,l,a,i,r),a}if(l=this._findMatchesInLine(t,p,this.getLineContent(ae).substr(Me),ae,Me,l,a,i,r),l>=r)return a;ae++,k=this.nodeAt2(ae,1),me=k.node,Z=this.positionInBuffer(k.node,k.remainder)}if(ae===e.endLineNumber){const Be=ae===e.startLineNumber?e.startColumn-1:0,Me=this.getLineContent(ae).substring(Be,e.endColumn-1);return l=this._findMatchesInLine(t,p,Me,e.endLineNumber,Be,l,a,i,r),a}const Le=ae===e.startLineNumber?e.startColumn:1;return l=this.findMatchesInNode(j.node,p,ae,Le,Z,ne,t,i,r,l,a),a}_findMatchesInLine(e,t,i,r,a,l,p,k,j){const Z=e.wordSeparators;if(!k&&e.simpleSearch){const ae=e.simpleSearch,me=ae.length,Le=i.length;let Be=-me;for(;(Be=i.indexOf(ae,Be+me))!==-1;)if((!Z||(0,Ln.wC)(Z,i,Le,Be,me))&&(p[l++]=new Ct.Dg(new O.Q(r,Be+1+a,r,Be+1+me+a),null),l>=j))return l;return l}let ne;t.reset(0);do if(ne=t.next(i),ne&&(p[l++]=(0,Ln.dr)(new O.Q(r,ne.index+1+a,r,ne.index+1+ne[0].length+a),ne,k),l>=j))return l;while(ne);return l}insert(e,t,i=!1){if(this._EOLNormalized=this._EOLNormalized&&i,this._lastVisitedLine.lineNumber=0,this._lastVisitedLine.value="",this.root!==ht){const{node:r,remainder:a,nodeStartOffset:l}=this.nodeAt(e),p=r.piece,k=p.bufferIndex,j=this.positionInBuffer(r,a);if(r.piece.bufferIndex===0&&p.end.line===this._lastChangeBufferPos.line&&p.end.column===this._lastChangeBufferPos.column&&l+p.length===e&&t.length<mi){this.appendToNode(r,t),this.computeBufferMetadata();return}if(l===e)this.insertContentToNodeLeft(t,r),this._searchCache.validate(e);else if(l+r.piece.length>e){const Z=[];let ne=new hn(p.bufferIndex,j,p.end,this.getLineFeedCnt(p.bufferIndex,j,p.end),this.offsetInBuffer(k,p.end)-this.offsetInBuffer(k,j));if(this.shouldCheckCRLF()&&this.endWithCR(t)&&this.nodeCharCodeAt(r,a)===10){const Be={line:ne.start.line+1,column:0};ne=new hn(ne.bufferIndex,Be,ne.end,this.getLineFeedCnt(ne.bufferIndex,Be,ne.end),ne.length-1),t+=`
`}if(this.shouldCheckCRLF()&&this.startWithLF(t))if(this.nodeCharCodeAt(r,a-1)===13){const Be=this.positionInBuffer(r,a-1);this.deleteNodeTail(r,Be),t="\r"+t,r.piece.length===0&&Z.push(r)}else this.deleteNodeTail(r,j);else this.deleteNodeTail(r,j);const ae=this.createNewPieces(t);ne.length>0&&this.rbInsertRight(r,ne);let me=r;for(let Le=0;Le<ae.length;Le++)me=this.rbInsertRight(me,ae[Le]);this.deleteNodes(Z)}else this.insertContentToNodeRight(t,r)}else{const r=this.createNewPieces(t);let a=this.rbInsertLeft(null,r[0]);for(let l=1;l<r.length;l++)a=this.rbInsertRight(a,r[l])}this.computeBufferMetadata()}delete(e,t){if(this._lastVisitedLine.lineNumber=0,this._lastVisitedLine.value="",t<=0||this.root===ht)return;const i=this.nodeAt(e),r=this.nodeAt(e+t),a=i.node,l=r.node;if(a===l){const ae=this.positionInBuffer(a,i.remainder),me=this.positionInBuffer(a,r.remainder);if(i.nodeStartOffset===e){if(t===a.piece.length){const Le=a.next();ps(this,a),this.validateCRLFWithPrevNode(Le),this.computeBufferMetadata();return}this.deleteNodeHead(a,me),this._searchCache.validate(e),this.validateCRLFWithPrevNode(a),this.computeBufferMetadata();return}if(i.nodeStartOffset+a.piece.length===e+t){this.deleteNodeTail(a,ae),this.validateCRLFWithNextNode(a),this.computeBufferMetadata();return}this.shrinkNode(a,ae,me),this.computeBufferMetadata();return}const p=[],k=this.positionInBuffer(a,i.remainder);this.deleteNodeTail(a,k),this._searchCache.validate(e),a.piece.length===0&&p.push(a);const j=this.positionInBuffer(l,r.remainder);this.deleteNodeHead(l,j),l.piece.length===0&&p.push(l);const Z=a.next();for(let ae=Z;ae!==ht&&ae!==l;ae=ae.next())p.push(ae);const ne=a.piece.length===0?a.prev():a;this.deleteNodes(p),this.validateCRLFWithNextNode(ne),this.computeBufferMetadata()}insertContentToNodeLeft(e,t){const i=[];if(this.shouldCheckCRLF()&&this.endWithCR(e)&&this.startWithLF(t)){const l=t.piece,p={line:l.start.line+1,column:0},k=new hn(l.bufferIndex,p,l.end,this.getLineFeedCnt(l.bufferIndex,p,l.end),l.length-1);t.piece=k,e+=`
`,gi(this,t,-1,-1),t.piece.length===0&&i.push(t)}const r=this.createNewPieces(e);let a=this.rbInsertLeft(t,r[r.length-1]);for(let l=r.length-2;l>=0;l--)a=this.rbInsertLeft(a,r[l]);this.validateCRLFWithPrevNode(a),this.deleteNodes(i)}insertContentToNodeRight(e,t){this.adjustCarriageReturnFromNext(e,t)&&(e+=`
`);const i=this.createNewPieces(e),r=this.rbInsertRight(t,i[0]);let a=r;for(let l=1;l<i.length;l++)a=this.rbInsertRight(a,i[l]);this.validateCRLFWithPrevNode(r)}positionInBuffer(e,t,i){const r=e.piece,a=e.piece.bufferIndex,l=this._buffers[a].lineStarts,k=l[r.start.line]+r.start.column+t;let j=r.start.line,Z=r.end.line,ne=0,ae=0,me=0;for(;j<=Z&&(ne=j+(Z-j)/2|0,me=l[ne],ne!==Z);)if(ae=l[ne+1],k<me)Z=ne-1;else if(k>=ae)j=ne+1;else break;return i?(i.line=ne,i.column=k-me,null):{line:ne,column:k-me}}getLineFeedCnt(e,t,i){if(i.column===0)return i.line-t.line;const r=this._buffers[e].lineStarts;if(i.line===r.length-1)return i.line-t.line;const a=r[i.line+1],l=r[i.line]+i.column;if(a>l+1)return i.line-t.line;const p=l-1;return this._buffers[e].buffer.charCodeAt(p)===13?i.line-t.line+1:i.line-t.line}offsetInBuffer(e,t){return this._buffers[e].lineStarts[t.line]+t.column}deleteNodes(e){for(let t=0;t<e.length;t++)ps(this,e[t])}createNewPieces(e){if(e.length>mi){const Z=[];for(;e.length>mi;){const ae=e.charCodeAt(mi-1);let me;ae===13||ae>=55296&&ae<=56319?(me=e.substring(0,mi-1),e=e.substring(mi-1)):(me=e.substring(0,mi),e=e.substring(mi));const Le=pi(me);Z.push(new hn(this._buffers.length,{line:0,column:0},{line:Le.length-1,column:me.length-Le[Le.length-1]},Le.length-1,me.length)),this._buffers.push(new _i(me,Le))}const ne=pi(e);return Z.push(new hn(this._buffers.length,{line:0,column:0},{line:ne.length-1,column:e.length-ne[ne.length-1]},ne.length-1,e.length)),this._buffers.push(new _i(e,ne)),Z}let t=this._buffers[0].buffer.length;const i=pi(e,!1);let r=this._lastChangeBufferPos;if(this._buffers[0].lineStarts[this._buffers[0].lineStarts.length-1]===t&&t!==0&&this.startWithLF(e)&&this.endWithCR(this._buffers[0].buffer)){this._lastChangeBufferPos={line:this._lastChangeBufferPos.line,column:this._lastChangeBufferPos.column+1},r=this._lastChangeBufferPos;for(let Z=0;Z<i.length;Z++)i[Z]+=t+1;this._buffers[0].lineStarts=this._buffers[0].lineStarts.concat(i.slice(1)),this._buffers[0].buffer+="_"+e,t+=1}else{if(t!==0)for(let Z=0;Z<i.length;Z++)i[Z]+=t;this._buffers[0].lineStarts=this._buffers[0].lineStarts.concat(i.slice(1)),this._buffers[0].buffer+=e}const a=this._buffers[0].buffer.length,l=this._buffers[0].lineStarts.length-1,p=a-this._buffers[0].lineStarts[l],k={line:l,column:p},j=new hn(0,r,k,this.getLineFeedCnt(0,r,k),a-t);return this._lastChangeBufferPos=k,[j]}getLineRawContent(e,t=0){let i=this.root,r="";const a=this._searchCache.get2(e);if(a){i=a.node;const l=this.getAccumulatedValue(i,e-a.nodeStartLineNumber-1),p=this._buffers[i.piece.bufferIndex].buffer,k=this.offsetInBuffer(i.piece.bufferIndex,i.piece.start);if(a.nodeStartLineNumber+i.piece.lineFeedCnt===e)r=p.substring(k+l,k+i.piece.length);else{const j=this.getAccumulatedValue(i,e-a.nodeStartLineNumber);return p.substring(k+l,k+j-t)}}else{let l=0;const p=e;for(;i!==ht;)if(i.left!==ht&&i.lf_left>=e-1)i=i.left;else if(i.lf_left+i.piece.lineFeedCnt>e-1){const k=this.getAccumulatedValue(i,e-i.lf_left-2),j=this.getAccumulatedValue(i,e-i.lf_left-1),Z=this._buffers[i.piece.bufferIndex].buffer,ne=this.offsetInBuffer(i.piece.bufferIndex,i.piece.start);return l+=i.size_left,this._searchCache.set({node:i,nodeStartOffset:l,nodeStartLineNumber:p-(e-1-i.lf_left)}),Z.substring(ne+k,ne+j-t)}else if(i.lf_left+i.piece.lineFeedCnt===e-1){const k=this.getAccumulatedValue(i,e-i.lf_left-2),j=this._buffers[i.piece.bufferIndex].buffer,Z=this.offsetInBuffer(i.piece.bufferIndex,i.piece.start);r=j.substring(Z+k,Z+i.piece.length);break}else e-=i.lf_left+i.piece.lineFeedCnt,l+=i.size_left+i.piece.length,i=i.right}for(i=i.next();i!==ht;){const l=this._buffers[i.piece.bufferIndex].buffer;if(i.piece.lineFeedCnt>0){const p=this.getAccumulatedValue(i,0),k=this.offsetInBuffer(i.piece.bufferIndex,i.piece.start);return r+=l.substring(k,k+p-t),r}else{const p=this.offsetInBuffer(i.piece.bufferIndex,i.piece.start);r+=l.substr(p,i.piece.length)}i=i.next()}return r}computeBufferMetadata(){let e=this.root,t=1,i=0;for(;e!==ht;)t+=e.lf_left+e.piece.lineFeedCnt,i+=e.size_left+e.piece.length,e=e.right;this._lineCnt=t,this._length=i,this._searchCache.validate(this._length)}getIndexOf(e,t){const i=e.piece,r=this.positionInBuffer(e,t),a=r.line-i.start.line;if(this.offsetInBuffer(i.bufferIndex,i.end)-this.offsetInBuffer(i.bufferIndex,i.start)===t){const l=this.getLineFeedCnt(e.piece.bufferIndex,i.start,r);if(l!==a)return{index:l,remainder:0}}return{index:a,remainder:r.column}}getAccumulatedValue(e,t){if(t<0)return 0;const i=e.piece,r=this._buffers[i.bufferIndex].lineStarts,a=i.start.line+t+1;return a>i.end.line?r[i.end.line]+i.end.column-r[i.start.line]-i.start.column:r[a]-r[i.start.line]-i.start.column}deleteNodeTail(e,t){const i=e.piece,r=i.lineFeedCnt,a=this.offsetInBuffer(i.bufferIndex,i.end),l=t,p=this.offsetInBuffer(i.bufferIndex,l),k=this.getLineFeedCnt(i.bufferIndex,i.start,l),j=k-r,Z=p-a,ne=i.length+Z;e.piece=new hn(i.bufferIndex,i.start,l,k,ne),gi(this,e,Z,j)}deleteNodeHead(e,t){const i=e.piece,r=i.lineFeedCnt,a=this.offsetInBuffer(i.bufferIndex,i.start),l=t,p=this.getLineFeedCnt(i.bufferIndex,l,i.end),k=this.offsetInBuffer(i.bufferIndex,l),j=p-r,Z=a-k,ne=i.length+Z;e.piece=new hn(i.bufferIndex,l,i.end,p,ne),gi(this,e,Z,j)}shrinkNode(e,t,i){const r=e.piece,a=r.start,l=r.end,p=r.length,k=r.lineFeedCnt,j=t,Z=this.getLineFeedCnt(r.bufferIndex,r.start,j),ne=this.offsetInBuffer(r.bufferIndex,t)-this.offsetInBuffer(r.bufferIndex,a);e.piece=new hn(r.bufferIndex,r.start,j,Z,ne),gi(this,e,ne-p,Z-k);const ae=new hn(r.bufferIndex,i,l,this.getLineFeedCnt(r.bufferIndex,i,l),this.offsetInBuffer(r.bufferIndex,l)-this.offsetInBuffer(r.bufferIndex,i)),me=this.rbInsertRight(e,ae);this.validateCRLFWithPrevNode(me)}appendToNode(e,t){this.adjustCarriageReturnFromNext(t,e)&&(t+=`
`);const i=this.shouldCheckCRLF()&&this.startWithLF(t)&&this.endWithCR(e),r=this._buffers[0].buffer.length;this._buffers[0].buffer+=t;const a=pi(t,!1);for(let me=0;me<a.length;me++)a[me]+=r;if(i){const me=this._buffers[0].lineStarts[this._buffers[0].lineStarts.length-2];this._buffers[0].lineStarts.pop(),this._lastChangeBufferPos={line:this._lastChangeBufferPos.line-1,column:r-me}}this._buffers[0].lineStarts=this._buffers[0].lineStarts.concat(a.slice(1));const l=this._buffers[0].lineStarts.length-1,p=this._buffers[0].buffer.length-this._buffers[0].lineStarts[l],k={line:l,column:p},j=e.piece.length+t.length,Z=e.piece.lineFeedCnt,ne=this.getLineFeedCnt(0,e.piece.start,k),ae=ne-Z;e.piece=new hn(e.piece.bufferIndex,e.piece.start,k,ne,j),this._lastChangeBufferPos=k,gi(this,e,t.length,ae)}nodeAt(e){let t=this.root;const i=this._searchCache.get(e);if(i)return{node:i.node,nodeStartOffset:i.nodeStartOffset,remainder:e-i.nodeStartOffset};let r=0;for(;t!==ht;)if(t.size_left>e)t=t.left;else if(t.size_left+t.piece.length>=e){r+=t.size_left;const a={node:t,remainder:e-t.size_left,nodeStartOffset:r};return this._searchCache.set(a),a}else e-=t.size_left+t.piece.length,r+=t.size_left+t.piece.length,t=t.right;return null}nodeAt2(e,t){let i=this.root,r=0;for(;i!==ht;)if(i.left!==ht&&i.lf_left>=e-1)i=i.left;else if(i.lf_left+i.piece.lineFeedCnt>e-1){const a=this.getAccumulatedValue(i,e-i.lf_left-2),l=this.getAccumulatedValue(i,e-i.lf_left-1);return r+=i.size_left,{node:i,remainder:Math.min(a+t-1,l),nodeStartOffset:r}}else if(i.lf_left+i.piece.lineFeedCnt===e-1){const a=this.getAccumulatedValue(i,e-i.lf_left-2);if(a+t-1<=i.piece.length)return{node:i,remainder:a+t-1,nodeStartOffset:r};t-=i.piece.length-a;break}else e-=i.lf_left+i.piece.lineFeedCnt,r+=i.size_left+i.piece.length,i=i.right;for(i=i.next();i!==ht;){if(i.piece.lineFeedCnt>0){const a=this.getAccumulatedValue(i,0),l=this.offsetOfNode(i);return{node:i,remainder:Math.min(t-1,a),nodeStartOffset:l}}else if(i.piece.length>=t-1){const a=this.offsetOfNode(i);return{node:i,remainder:t-1,nodeStartOffset:a}}else t-=i.piece.length;i=i.next()}return null}nodeCharCodeAt(e,t){if(e.piece.lineFeedCnt<1)return-1;const i=this._buffers[e.piece.bufferIndex],r=this.offsetInBuffer(e.piece.bufferIndex,e.piece.start)+t;return i.buffer.charCodeAt(r)}offsetOfNode(e){if(!e)return 0;let t=e.size_left;for(;e!==this.root;)e.parent.right===e&&(t+=e.parent.size_left+e.parent.piece.length),e=e.parent;return t}shouldCheckCRLF(){return!(this._EOLNormalized&&this._EOL===`
`)}startWithLF(e){if(typeof e=="string")return e.charCodeAt(0)===10;if(e===ht||e.piece.lineFeedCnt===0)return!1;const t=e.piece,i=this._buffers[t.bufferIndex].lineStarts,r=t.start.line,a=i[r]+t.start.column;return r===i.length-1||i[r+1]>a+1?!1:this._buffers[t.bufferIndex].buffer.charCodeAt(a)===10}endWithCR(e){return typeof e=="string"?e.charCodeAt(e.length-1)===13:e===ht||e.piece.lineFeedCnt===0?!1:this.nodeCharCodeAt(e,e.piece.length-1)===13}validateCRLFWithPrevNode(e){if(this.shouldCheckCRLF()&&this.startWithLF(e)){const t=e.prev();this.endWithCR(t)&&this.fixCRLF(t,e)}}validateCRLFWithNextNode(e){if(this.shouldCheckCRLF()&&this.endWithCR(e)){const t=e.next();this.startWithLF(t)&&this.fixCRLF(e,t)}}fixCRLF(e,t){const i=[],r=this._buffers[e.piece.bufferIndex].lineStarts;let a;e.piece.end.column===0?a={line:e.piece.end.line-1,column:r[e.piece.end.line]-r[e.piece.end.line-1]-1}:a={line:e.piece.end.line,column:e.piece.end.column-1};const l=e.piece.length-1,p=e.piece.lineFeedCnt-1;e.piece=new hn(e.piece.bufferIndex,e.piece.start,a,p,l),gi(this,e,-1,-1),e.piece.length===0&&i.push(e);const k={line:t.piece.start.line+1,column:0},j=t.piece.length-1,Z=this.getLineFeedCnt(t.piece.bufferIndex,k,t.piece.end);t.piece=new hn(t.piece.bufferIndex,k,t.piece.end,Z,j),gi(this,t,-1,-1),t.piece.length===0&&i.push(t);const ne=this.createNewPieces(`\r
`);this.rbInsertRight(e,ne[0]);for(let ae=0;ae<i.length;ae++)ps(this,i[ae])}adjustCarriageReturnFromNext(e,t){if(this.shouldCheckCRLF()&&this.endWithCR(e)){const i=t.next();if(this.startWithLF(i)){if(e+=`
`,i.piece.length===1)ps(this,i);else{const r=i.piece,a={line:r.start.line+1,column:0},l=r.length-1,p=this.getLineFeedCnt(r.bufferIndex,a,r.end);i.piece=new hn(r.bufferIndex,a,r.end,p,l),gi(this,i,-1,-1)}return!0}}return!1}iterate(e,t){if(e===ht)return t(ht);const i=this.iterate(e.left,t);return i&&t(e)&&this.iterate(e.right,t)}getNodeContent(e){if(e===ht)return"";const t=this._buffers[e.piece.bufferIndex],i=e.piece,r=this.offsetInBuffer(i.bufferIndex,i.start),a=this.offsetInBuffer(i.bufferIndex,i.end);return t.buffer.substring(r,a)}getPieceContent(e){const t=this._buffers[e.bufferIndex],i=this.offsetInBuffer(e.bufferIndex,e.start),r=this.offsetInBuffer(e.bufferIndex,e.end);return t.buffer.substring(i,r)}rbInsertRight(e,t){const i=new ns(t,1);if(i.left=ht,i.right=ht,i.parent=ht,i.size_left=0,i.lf_left=0,this.root===ht)this.root=i,i.color=0;else if(e.right===ht)e.right=i,i.parent=e;else{const a=Ps(e.right);a.left=i,i.parent=a}return Rr(this,i),i}rbInsertLeft(e,t){const i=new ns(t,1);if(i.left=ht,i.right=ht,i.parent=ht,i.size_left=0,i.lf_left=0,this.root===ht)this.root=i,i.color=0;else if(e.left===ht)e.left=i,i.parent=e;else{const r=Mi(e.left);r.right=i,i.parent=r}return Rr(this,i),i}};s(sa,"PieceTreeBase");let Hs=sa;const ds=class ds extends K.jG{constructor(e,t,i,r,a,l,p){super(),this._onDidChangeContent=this._register(new N.vl),this._BOM=t,this._mightContainNonBasicASCII=!l,this._mightContainRTL=r,this._mightContainUnusualLineTerminators=a,this._pieceTree=new Hs(e,i,p)}mightContainRTL(){return this._mightContainRTL}mightContainUnusualLineTerminators(){return this._mightContainUnusualLineTerminators}resetMightContainUnusualLineTerminators(){this._mightContainUnusualLineTerminators=!1}mightContainNonBasicASCII(){return this._mightContainNonBasicASCII}getBOM(){return this._BOM}getEOL(){return this._pieceTree.getEOL()}createSnapshot(e){return this._pieceTree.createSnapshot(e?this._BOM:"")}getOffsetAt(e,t){return this._pieceTree.getOffsetAt(e,t)}getPositionAt(e){return this._pieceTree.getPositionAt(e)}getRangeAt(e,t){const i=e+t,r=this.getPositionAt(e),a=this.getPositionAt(i);return new O.Q(r.lineNumber,r.column,a.lineNumber,a.column)}getValueInRange(e,t=0){if(e.isEmpty())return"";const i=this._getEndOfLine(t);return this._pieceTree.getValueInRange(e,i)}getValueLengthInRange(e,t=0){if(e.isEmpty())return 0;if(e.startLineNumber===e.endLineNumber)return e.endColumn-e.startColumn;const i=this.getOffsetAt(e.startLineNumber,e.startColumn),r=this.getOffsetAt(e.endLineNumber,e.endColumn);let a=0;const l=this._getEndOfLine(t),p=this.getEOL();if(l.length!==p.length){const k=l.length-p.length,j=e.endLineNumber-e.startLineNumber;a=k*j}return r-i+a}getCharacterCountInRange(e,t=0){if(this._mightContainNonBasicASCII){let i=0;const r=e.startLineNumber,a=e.endLineNumber;for(let l=r;l<=a;l++){const p=this.getLineContent(l),k=l===r?e.startColumn-1:0,j=l===a?e.endColumn-1:p.length;for(let Z=k;Z<j;Z++)u.pc(p.charCodeAt(Z))?(i=i+1,Z=Z+1):i=i+1}return i+=this._getEndOfLine(t).length*(a-r),i}return this.getValueLengthInRange(e,t)}getLength(){return this._pieceTree.getLength()}getLineCount(){return this._pieceTree.getLineCount()}getLinesContent(){return this._pieceTree.getLinesContent()}getLineContent(e){return this._pieceTree.getLineContent(e)}getLineCharCode(e,t){return this._pieceTree.getLineCharCode(e,t)}getLineLength(e){return this._pieceTree.getLineLength(e)}getLineFirstNonWhitespaceColumn(e){const t=u.HG(this.getLineContent(e));return t===-1?0:t+1}getLineLastNonWhitespaceColumn(e){const t=u.lT(this.getLineContent(e));return t===-1?0:t+2}_getEndOfLine(e){switch(e){case 1:return`
`;case 2:return`\r
`;case 0:return this.getEOL();default:throw new Error("Unknown EOL preference")}}setEOL(e){this._pieceTree.setEOL(e)}applyEdits(e,t,i){let r=this._mightContainRTL,a=this._mightContainUnusualLineTerminators,l=this._mightContainNonBasicASCII,p=!0,k=[];for(let Be=0;Be<e.length;Be++){const Me=e[Be];p&&Me._isTracked&&(p=!1);const Ke=Me.range;if(Me.text){let tn=!0;l||(tn=!u.aC(Me.text),l=tn),!r&&tn&&(r=u.E_(Me.text)),!a&&tn&&(a=u.$X(Me.text))}let st="",pt=0,yt=0,jt=0;if(Me.text){let tn;[pt,yt,jt,tn]=(0,T.W)(Me.text);const Vt=this.getEOL();tn===0||tn===(Vt===`\r
`?2:1)?st=Me.text:st=Me.text.replace(/\r\n|\r|\n/g,Vt)}k[Be]={sortIndex:Be,identifier:Me.identifier||null,range:Ke,rangeOffset:this.getOffsetAt(Ke.startLineNumber,Ke.startColumn),rangeLength:this.getValueLengthInRange(Ke),text:st,eolCount:pt,firstLineLength:yt,lastLineLength:jt,forceMoveMarkers:!!Me.forceMoveMarkers,isAutoWhitespaceEdit:Me.isAutoWhitespaceEdit||!1}}k.sort(ds._sortOpsAscending);let j=!1;for(let Be=0,Me=k.length-1;Be<Me;Be++){const Ke=k[Be].range.getEndPosition(),st=k[Be+1].range.getStartPosition();if(st.isBeforeOrEqual(Ke)){if(st.isBefore(Ke))throw new Error("Overlapping ranges are not allowed!");j=!0}}p&&(k=this._reduceOperations(k));const Z=i||t?ds._getInverseEditRanges(k):[],ne=[];if(t)for(let Be=0;Be<k.length;Be++){const Me=k[Be],Ke=Z[Be];if(Me.isAutoWhitespaceEdit&&Me.range.isEmpty())for(let st=Ke.startLineNumber;st<=Ke.endLineNumber;st++){let pt="";st===Ke.startLineNumber&&(pt=this.getLineContent(Me.range.startLineNumber),u.HG(pt)!==-1)||ne.push({lineNumber:st,oldContent:pt})}}let ae=null;if(i){let Be=0;ae=[];for(let Me=0;Me<k.length;Me++){const Ke=k[Me],st=Z[Me],pt=this.getValueInRange(Ke.range),yt=Ke.rangeOffset+Be;Be+=Ke.text.length-pt.length,ae[Me]={sortIndex:Ke.sortIndex,identifier:Ke.identifier,range:st,text:pt,textChange:new h(Ke.rangeOffset,pt,yt,Ke.text)}}j||ae.sort((Me,Ke)=>Me.sortIndex-Ke.sortIndex)}this._mightContainRTL=r,this._mightContainUnusualLineTerminators=a,this._mightContainNonBasicASCII=l;const me=this._doApplyEdits(k);let Le=null;if(t&&ne.length>0){ne.sort((Be,Me)=>Me.lineNumber-Be.lineNumber),Le=[];for(let Be=0,Me=ne.length;Be<Me;Be++){const Ke=ne[Be].lineNumber;if(Be>0&&ne[Be-1].lineNumber===Ke)continue;const st=ne[Be].oldContent,pt=this.getLineContent(Ke);pt.length===0||pt===st||u.HG(pt)!==-1||Le.push(Ke)}}return this._onDidChangeContent.fire(),new Ct.F4(ae,me,Le)}_reduceOperations(e){return e.length<1e3?e:[this._toSingleEditOperation(e)]}_toSingleEditOperation(e){let t=!1;const i=e[0].range,r=e[e.length-1].range,a=new O.Q(i.startLineNumber,i.startColumn,r.endLineNumber,r.endColumn);let l=i.startLineNumber,p=i.startColumn;const k=[];for(let me=0,Le=e.length;me<Le;me++){const Be=e[me],Me=Be.range;t=t||Be.forceMoveMarkers,k.push(this.getValueInRange(new O.Q(l,p,Me.startLineNumber,Me.startColumn))),Be.text.length>0&&k.push(Be.text),l=Me.endLineNumber,p=Me.endColumn}const j=k.join(""),[Z,ne,ae]=(0,T.W)(j);return{sortIndex:0,identifier:e[0].identifier,range:a,rangeOffset:this.getOffsetAt(a.startLineNumber,a.startColumn),rangeLength:this.getValueLengthInRange(a,0),text:j,eolCount:Z,firstLineLength:ne,lastLineLength:ae,forceMoveMarkers:t,isAutoWhitespaceEdit:!1}}_doApplyEdits(e){e.sort(ds._sortOpsDescending);const t=[];for(let i=0;i<e.length;i++){const r=e[i],a=r.range.startLineNumber,l=r.range.startColumn,p=r.range.endLineNumber,k=r.range.endColumn;if(a===p&&l===k&&r.text.length===0)continue;r.text?(this._pieceTree.delete(r.rangeOffset,r.rangeLength),this._pieceTree.insert(r.rangeOffset,r.text,!0)):this._pieceTree.delete(r.rangeOffset,r.rangeLength);const j=new O.Q(a,l,p,k);t.push({range:j,rangeLength:r.rangeLength,text:r.text,rangeOffset:r.rangeOffset,forceMoveMarkers:r.forceMoveMarkers})}return t}findMatchesLineByLine(e,t,i,r){return this._pieceTree.findMatchesLineByLine(e,t,i,r)}static _getInverseEditRanges(e){const t=[];let i=0,r=0,a=null;for(let l=0,p=e.length;l<p;l++){const k=e[l];let j,Z;a?a.range.endLineNumber===k.range.startLineNumber?(j=i,Z=r+(k.range.startColumn-a.range.endColumn)):(j=i+(k.range.startLineNumber-a.range.endLineNumber),Z=k.range.startColumn):(j=k.range.startLineNumber,Z=k.range.startColumn);let ne;if(k.text.length>0){const ae=k.eolCount+1;ae===1?ne=new O.Q(j,Z,j,Z+k.firstLineLength):ne=new O.Q(j,Z,j+ae-1,k.lastLineLength+1)}else ne=new O.Q(j,Z,j,Z);i=ne.endLineNumber,r=ne.endColumn,t.push(ne),a=k}return t}static _sortOpsAscending(e,t){const i=O.Q.compareRangesUsingEnds(e.range,t.range);return i===0?e.sortIndex-t.sortIndex:i}static _sortOpsDescending(e,t){const i=O.Q.compareRangesUsingEnds(e.range,t.range);return i===0?t.sortIndex-e.sortIndex:-i}};s(ds,"PieceTreeTextBuffer");let _s=ds;const ra=class ra{constructor(e,t,i,r,a,l,p,k,j){this._chunks=e,this._bom=t,this._cr=i,this._lf=r,this._crlf=a,this._containsRTL=l,this._containsUnusualLineTerminators=p,this._isBasicASCII=k,this._normalizeEOL=j}_getEOL(e){const t=this._cr+this._lf+this._crlf,i=this._cr+this._crlf;return t===0?e===1?`
`:`\r
`:i>t/2?`\r
`:`
`}create(e){const t=this._getEOL(e),i=this._chunks;if(this._normalizeEOL&&(t===`\r
`&&(this._cr>0||this._lf>0)||t===`
`&&(this._cr>0||this._crlf>0)))for(let a=0,l=i.length;a<l;a++){const p=i[a].buffer.replace(/\r\n|\r|\n/g,t),k=pi(p);i[a]=new _i(p,k)}const r=new _s(i,this._bom,t,this._containsRTL,this._containsUnusualLineTerminators,this._isBasicASCII,this._normalizeEOL);return{textBuffer:r,disposable:r}}};s(ra,"PieceTreeTextBufferFactory");let js=ra;const oa=class oa{constructor(){this.chunks=[],this.BOM="",this._hasPreviousChar=!1,this._previousChar=0,this._tmpLineStarts=[],this.cr=0,this.lf=0,this.crlf=0,this.containsRTL=!1,this.containsUnusualLineTerminators=!1,this.isBasicASCII=!0}acceptChunk(e){if(e.length===0)return;this.chunks.length===0&&u.LU(e)&&(this.BOM=u.r_,e=e.substr(1));const t=e.charCodeAt(e.length-1);t===13||t>=55296&&t<=56319?(this._acceptChunk1(e.substr(0,e.length-1),!1),this._hasPreviousChar=!0,this._previousChar=t):(this._acceptChunk1(e,!1),this._hasPreviousChar=!1,this._previousChar=t)}_acceptChunk1(e,t){!t&&e.length===0||(this._hasPreviousChar?this._acceptChunk2(String.fromCharCode(this._previousChar)+e):this._acceptChunk2(e))}_acceptChunk2(e){const t=Xa(this._tmpLineStarts,e);this.chunks.push(new _i(e,t.lineStarts)),this.cr+=t.cr,this.lf+=t.lf,this.crlf+=t.crlf,t.isBasicASCII||(this.isBasicASCII=!1,this.containsRTL||(this.containsRTL=u.E_(e)),this.containsUnusualLineTerminators||(this.containsUnusualLineTerminators=u.$X(e)))}finish(e=!0){return this._finish(),new js(this.chunks,this.BOM,this.cr,this.lf,this.crlf,this.containsRTL,this.containsUnusualLineTerminators,this.isBasicASCII,e)}_finish(){if(this.chunks.length===0&&this._acceptChunk1("",!0),this._hasPreviousChar){this._hasPreviousChar=!1;const e=this.chunks[this.chunks.length-1];e.buffer+=String.fromCharCode(this._previousChar);const t=pi(e.buffer);e.lineStarts=t,this._previousChar===13&&this.cr++}}};s(oa,"PieceTreeTextBufferBuilder");let bs=oa;var os=v(9955),Vi=v(4364),Mr=v(1946),Za=v(3013),ei=v(2532);const Ja=new class{clone(){return this}equals(_){return this===_}};function cl(_,e){return new TokenizationResult([new Token(0,"",_)],e)}s(cl,"nullTokenize");function el(_,e){const t=new Uint32Array(2);return t[0]=0,t[1]=(_<<0|0|0|32768|33554432)>>>0,new Vi.rY(t,e===null?Ja:e)}s(el,"nullTokenizeEncoded");const aa=class aa{constructor(e){this._default=e,this._store=[]}get(e){return e<this._store.length?this._store[e]:this._default}set(e,t){for(;e>=this._store.length;)this._store[this._store.length]=this._default;this._store[e]=t}replace(e,t,i){if(e>=this._store.length)return;if(t===0){this.insert(e,i);return}else if(i===0){this.delete(e,t);return}const r=this._store.slice(0,e),a=this._store.slice(e+t),l=tl(i,this._default);this._store=r.concat(l,a)}delete(e,t){t===0||e>=this._store.length||this._store.splice(e,t)}insert(e,t){if(t===0||e>=this._store.length)return;const i=[];for(let r=0;r<t;r++)i[r]=this._default;this._store=(0,Q.nK)(this._store,e,i)}};s(aa,"FixedArray");let $s=aa;function tl(_,e){const t=[];for(let i=0;i<_;i++)t[i]=e;return t}s(tl,"arrayFill");const la=class la{get startLineNumber(){return this._startLineNumber}get endLineNumber(){return this._startLineNumber+this._tokens.length-1}constructor(e,t){this._startLineNumber=e,this._tokens=t}getLineTokens(e){return this._tokens[e-this._startLineNumber]}appendLineTokens(e){this._tokens.push(e)}};s(la,"ContiguousMultilineTokens");let Gs=la;const ua=class ua{constructor(){this._tokens=[]}add(e,t){if(this._tokens.length>0){const i=this._tokens[this._tokens.length-1];if(i.endLineNumber+1===e){i.appendLineTokens(t);return}}this._tokens.push(new Gs(e,[t]))}finalize(){return this._tokens}};s(ua,"ContiguousMultilineTokensBuilder");let as=ua;const Ci=class Ci{static createEmpty(e,t){const i=Ci.defaultTokenMetadata,r=new Uint32Array(2);return r[0]=e.length,r[1]=i,new Ci(r,e,t)}static createFromTextAndMetadata(e,t){let i=0,r="";const a=new Array;for(const{text:l,metadata:p}of e)a.push(i+l.length,p),i+=l.length,r+=l;return new Ci(new Uint32Array(a),r,t)}constructor(e,t,i){this._lineTokensBrand=void 0,this._tokens=e,this._tokensCount=this._tokens.length>>>1,this._text=t,this.languageIdCodec=i}equals(e){return e instanceof Ci?this.slicedEquals(e,0,this._tokensCount):!1}slicedEquals(e,t,i){if(this._text!==e._text||this._tokensCount!==e._tokensCount)return!1;const r=t<<1,a=r+(i<<1);for(let l=r;l<a;l++)if(this._tokens[l]!==e._tokens[l])return!1;return!0}getLineContent(){return this._text}getCount(){return this._tokensCount}getStartOffset(e){return e>0?this._tokens[e-1<<1]:0}getMetadata(e){return this._tokens[(e<<1)+1]}getLanguageId(e){const t=this._tokens[(e<<1)+1],i=ye.x.getLanguageId(t);return this.languageIdCodec.decodeLanguageId(i)}getStandardTokenType(e){const t=this._tokens[(e<<1)+1];return ye.x.getTokenType(t)}getForeground(e){const t=this._tokens[(e<<1)+1];return ye.x.getForeground(t)}getClassName(e){const t=this._tokens[(e<<1)+1];return ye.x.getClassNameFromMetadata(t)}getInlineStyle(e,t){const i=this._tokens[(e<<1)+1];return ye.x.getInlineStyleFromMetadata(i,t)}getPresentation(e){const t=this._tokens[(e<<1)+1];return ye.x.getPresentationFromMetadata(t)}getEndOffset(e){return this._tokens[e<<1]}findTokenIndexAtOffset(e){return Ci.findIndexInTokensArray(this._tokens,e)}inflate(){return this}sliceAndInflate(e,t,i){return new Qs(this,e,t,i)}static convertToEndOffset(e,t){const r=(e.length>>>1)-1;for(let a=0;a<r;a++)e[a<<1]=e[a+1<<1];e[r<<1]=t}static findIndexInTokensArray(e,t){if(e.length<=2)return 0;let i=0,r=(e.length>>>1)-1;for(;i<r;){const a=i+Math.floor((r-i)/2),l=e[a<<1];if(l===t)return a+1;l<t?i=a+1:l>t&&(r=a)}return i}withInserted(e){if(e.length===0)return this;let t=0,i=0,r="";const a=new Array;let l=0;for(;;){const p=t<this._tokensCount?this._tokens[t<<1]:-1,k=i<e.length?e[i]:null;if(p!==-1&&(k===null||p<=k.offset)){r+=this._text.substring(l,p);const j=this._tokens[(t<<1)+1];a.push(r.length,j),t++,l=p}else if(k){if(k.offset>l){r+=this._text.substring(l,k.offset);const j=this._tokens[(t<<1)+1];a.push(r.length,j),l=k.offset}r+=k.text,a.push(r.length,k.tokenMetadata),i++}else break}return new Ci(new Uint32Array(a),r,this.languageIdCodec)}getTokenText(e){const t=this.getStartOffset(e),i=this.getEndOffset(e);return this._text.substring(t,i)}forEach(e){const t=this.getCount();for(let i=0;i<t;i++)e(i)}};s(Ci,"LineTokens"),Ci.defaultTokenMetadata=33587200;let jn=Ci;const wr=class wr{constructor(e,t,i,r){this._source=e,this._startOffset=t,this._endOffset=i,this._deltaOffset=r,this._firstTokenIndex=e.findTokenIndexAtOffset(t),this.languageIdCodec=e.languageIdCodec,this._tokensCount=0;for(let a=this._firstTokenIndex,l=e.getCount();a<l&&!(e.getStartOffset(a)>=i);a++)this._tokensCount++}getMetadata(e){return this._source.getMetadata(this._firstTokenIndex+e)}getLanguageId(e){return this._source.getLanguageId(this._firstTokenIndex+e)}getLineContent(){return this._source.getLineContent().substring(this._startOffset,this._endOffset)}equals(e){return e instanceof wr?this._startOffset===e._startOffset&&this._endOffset===e._endOffset&&this._deltaOffset===e._deltaOffset&&this._source.slicedEquals(e._source,this._firstTokenIndex,this._tokensCount):!1}getCount(){return this._tokensCount}getStandardTokenType(e){return this._source.getStandardTokenType(this._firstTokenIndex+e)}getForeground(e){return this._source.getForeground(this._firstTokenIndex+e)}getEndOffset(e){const t=this._source.getEndOffset(this._firstTokenIndex+e);return Math.min(this._endOffset,t)-this._startOffset+this._deltaOffset}getClassName(e){return this._source.getClassName(this._firstTokenIndex+e)}getInlineStyle(e,t){return this._source.getInlineStyle(this._firstTokenIndex+e,t)}getPresentation(e){return this._source.getPresentation(this._firstTokenIndex+e)}findTokenIndexAtOffset(e){return this._source.findTokenIndexAtOffset(e+this._startOffset-this._deltaOffset)-this._firstTokenIndex}getTokenText(e){const t=this._firstTokenIndex+e,i=this._source.getStartOffset(t),r=this._source.getEndOffset(t);let a=this._source.getTokenText(t);return i<this._startOffset&&(a=a.substring(this._startOffset-i)),r>this._endOffset&&(a=a.substring(0,a.length-(r-this._endOffset))),a}forEach(e){for(let t=0;t<this.getCount();t++)e(t)}};s(wr,"SliceLineTokens");let Qs=wr;function hl(_,e){const t=e.lineNumber;if(!_.tokenization.isCheapToTokenize(t))return;_.tokenization.forceTokenization(t);const i=_.tokenization.getLineTokens(t),r=i.findTokenIndexAtOffset(e.column-1);return i.getStandardTokenType(r)}s(hl,"getStandardTokenTypeAtPosition");const ca=class ca{constructor(e,t){this.tokenizationSupport=t,this.initialState=this.tokenizationSupport.getInitialState(),this.store=new ls(e)}getStartState(e){return this.store.getStartState(e,this.initialState)}getFirstInvalidLine(){return this.store.getFirstInvalidLine(this.initialState)}};s(ca,"TokenizerWithStateStore");let qs=ca;const ha=class ha extends qs{constructor(e,t,i,r){super(e,t),this._textModel=i,this._languageIdCodec=r}updateTokensUntilLine(e,t){const i=this._textModel.getLanguageId();for(;;){const r=this.getFirstInvalidLine();if(!r||r.lineNumber>t)break;const a=this._textModel.getLineContent(r.lineNumber),l=Oi(this._languageIdCodec,i,this.tokenizationSupport,a,!0,r.startState);e.add(r.lineNumber,l.tokens),this.store.setEndState(r.lineNumber,l.endState)}}getTokenTypeIfInsertingCharacter(e,t){const i=this.getStartState(e.lineNumber);if(!i)return 0;const r=this._textModel.getLanguageId(),a=this._textModel.getLineContent(e.lineNumber),l=a.substring(0,e.column-1)+t+a.substring(e.column-1),p=Oi(this._languageIdCodec,r,this.tokenizationSupport,l,!0,i),k=new jn(p.tokens,l,this._languageIdCodec);if(k.getCount()===0)return 0;const j=k.findTokenIndexAtOffset(e.column-1);return k.getStandardTokenType(j)}tokenizeLineWithEdit(e,t,i){const r=e.lineNumber,a=e.column,l=this.getStartState(r);if(!l)return null;const p=this._textModel.getLineContent(r),k=p.substring(0,a-1)+i+p.substring(a-1+t),j=this._textModel.getLanguageIdAtPosition(r,0),Z=Oi(this._languageIdCodec,j,this.tokenizationSupport,k,!0,l);return new jn(Z.tokens,k,this._languageIdCodec)}hasAccurateTokensForLine(e){const t=this.store.getFirstInvalidEndStateLineNumberOrMax();return e<t}isCheapToTokenize(e){const t=this.store.getFirstInvalidEndStateLineNumberOrMax();return e<t||e===t&&this._textModel.getLineLength(e)<2048}tokenizeHeuristically(e,t,i){if(i<=this.store.getFirstInvalidEndStateLineNumberOrMax())return{heuristicTokens:!1};if(t<=this.store.getFirstInvalidEndStateLineNumberOrMax())return this.updateTokensUntilLine(e,i),{heuristicTokens:!1};let r=this.guessStartState(t);const a=this._textModel.getLanguageId();for(let l=t;l<=i;l++){const p=this._textModel.getLineContent(l),k=Oi(this._languageIdCodec,a,this.tokenizationSupport,p,!0,r);e.add(l,k.tokens),r=k.endState}return{heuristicTokens:!0}}guessStartState(e){let t=this._textModel.getLineFirstNonWhitespaceColumn(e);const i=[];let r=null;for(let p=e-1;t>1&&p>=1;p--){const k=this._textModel.getLineFirstNonWhitespaceColumn(p);if(k!==0&&k<t&&(i.push(this._textModel.getLineContent(p)),t=k,r=this.getStartState(p),r))break}r||(r=this.tokenizationSupport.getInitialState()),i.reverse();const a=this._textModel.getLanguageId();let l=r;for(const p of i)l=Oi(this._languageIdCodec,a,this.tokenizationSupport,p,!1,l).endState;return l}};s(ha,"TokenizerWithStateStoreAndTextModel");let Ys=ha;const da=class da{constructor(e){this.lineCount=e,this._tokenizationStateStore=new Ks,this._invalidEndStatesLineNumbers=new Xs,this._invalidEndStatesLineNumbers.addRange(new ei.L(1,e+1))}getEndState(e){return this._tokenizationStateStore.getEndState(e)}setEndState(e,t){if(!t)throw new E.D7("Cannot set null/undefined state");this._invalidEndStatesLineNumbers.delete(e);const i=this._tokenizationStateStore.setEndState(e,t);return i&&e<this.lineCount&&this._invalidEndStatesLineNumbers.addRange(new ei.L(e+1,e+2)),i}acceptChange(e,t){this.lineCount+=t-e.length,this._tokenizationStateStore.acceptChange(e,t),this._invalidEndStatesLineNumbers.addRangeAndResize(new ei.L(e.startLineNumber,e.endLineNumberExclusive),t)}acceptChanges(e){for(const t of e){const[i]=(0,T.W)(t.text);this.acceptChange(new os.M(t.range.startLineNumber,t.range.endLineNumber+1),i+1)}}invalidateEndStateRange(e){this._invalidEndStatesLineNumbers.addRange(new ei.L(e.startLineNumber,e.endLineNumberExclusive))}getFirstInvalidEndStateLineNumber(){return this._invalidEndStatesLineNumbers.min}getFirstInvalidEndStateLineNumberOrMax(){return this.getFirstInvalidEndStateLineNumber()||Number.MAX_SAFE_INTEGER}allStatesValid(){return this._invalidEndStatesLineNumbers.min===null}getStartState(e,t){return e===1?t:this.getEndState(e-1)}getFirstInvalidLine(e){const t=this.getFirstInvalidEndStateLineNumber();if(t===null)return null;const i=this.getStartState(t,e);if(!i)throw new E.D7("Start state must be defined");return{lineNumber:t,startState:i}}};s(da,"TrackingTokenizationStateStore");let ls=da;const fa=class fa{constructor(){this._lineEndStates=new $s(null)}getEndState(e){return this._lineEndStates.get(e)}setEndState(e,t){const i=this._lineEndStates.get(e);return i&&i.equals(t)?!1:(this._lineEndStates.set(e,t),!0)}acceptChange(e,t){let i=e.length;t>0&&i>0&&(i--,t--),this._lineEndStates.replace(e.startLineNumber,i,t)}};s(fa,"TokenizationStateStore");let Ks=fa;const ga=class ga{constructor(){this._ranges=[]}get min(){return this._ranges.length===0?null:this._ranges[0].start}delete(e){const t=this._ranges.findIndex(i=>i.contains(e));if(t!==-1){const i=this._ranges[t];i.start===e?i.endExclusive===e+1?this._ranges.splice(t,1):this._ranges[t]=new ei.L(e+1,i.endExclusive):i.endExclusive===e+1?this._ranges[t]=new ei.L(i.start,e):this._ranges.splice(t,1,new ei.L(i.start,e),new ei.L(e+1,i.endExclusive))}}addRange(e){ei.L.addRange(e,this._ranges)}addRangeAndResize(e,t){let i=0;for(;!(i>=this._ranges.length||e.start<=this._ranges[i].endExclusive);)i++;let r=i;for(;!(r>=this._ranges.length||e.endExclusive<this._ranges[r].start);)r++;const a=t-e.length;for(let l=r;l<this._ranges.length;l++)this._ranges[l]=this._ranges[l].delta(a);if(i===r){const l=new ei.L(e.start,e.start+t);l.isEmpty||this._ranges.splice(i,0,l)}else{const l=Math.min(e.start,this._ranges[i].start),p=Math.max(e.endExclusive,this._ranges[r-1].endExclusive),k=new ei.L(l,p+a);k.isEmpty?this._ranges.splice(i,r-i):this._ranges.splice(i,r-i,k)}}toString(){return this._ranges.map(e=>e.toString()).join(" + ")}};s(ga,"RangePriorityQueueImpl");let Xs=ga;function Oi(_,e,t,i,r,a){let l=null;if(t)try{l=t.tokenizeEncoded(i,r,a.clone())}catch(p){(0,E.dz)(p)}return l||(l=el(_.encodeLanguageId(e),a)),jn.convertToEndOffset(l.tokens,i.length),l}s(Oi,"safeTokenize");const ma=class ma{constructor(e,t){this._tokenizerWithStateStore=e,this._backgroundTokenStore=t,this._isDisposed=!1,this._isScheduled=!1}dispose(){this._isDisposed=!0}handleChanges(){this._beginBackgroundTokenization()}_beginBackgroundTokenization(){this._isScheduled||!this._tokenizerWithStateStore._textModel.isAttachedToEditor()||!this._hasLinesToTokenize()||(this._isScheduled=!0,(0,Mr.$6)(e=>{this._isScheduled=!1,this._backgroundTokenizeWithDeadline(e)}))}_backgroundTokenizeWithDeadline(e){const t=Date.now()+e.timeRemaining(),i=s(()=>{this._isDisposed||!this._tokenizerWithStateStore._textModel.isAttachedToEditor()||!this._hasLinesToTokenize()||(this._backgroundTokenizeForAtLeast1ms(),Date.now()<t?(0,o._p)(i):this._beginBackgroundTokenization())},"execute");i()}_backgroundTokenizeForAtLeast1ms(){const e=this._tokenizerWithStateStore._textModel.getLineCount(),t=new as,i=Za.W.create(!1);do if(i.elapsed()>1||this._tokenizeOneInvalidLine(t)>=e)break;while(this._hasLinesToTokenize());this._backgroundTokenStore.setTokens(t.finalize()),this.checkFinished()}_hasLinesToTokenize(){return this._tokenizerWithStateStore?!this._tokenizerWithStateStore.store.allStatesValid():!1}_tokenizeOneInvalidLine(e){var i;const t=(i=this._tokenizerWithStateStore)==null?void 0:i.getFirstInvalidLine();return t?(this._tokenizerWithStateStore.updateTokensUntilLine(e,t.lineNumber),t.lineNumber):this._tokenizerWithStateStore._textModel.getLineCount()+1}checkFinished(){this._isDisposed||this._tokenizerWithStateStore.store.allStatesValid()&&this._backgroundTokenStore.backgroundTokenizationFinished()}requestTokens(e,t){this._tokenizerWithStateStore.store.invalidateEndStateRange(new os.M(e,t))}};s(ma,"DefaultBackgroundTokenizer");let Zs=ma;const pa=class pa{constructor(){this._onDidChangeVisibleRanges=new N.vl,this.onDidChangeVisibleRanges=this._onDidChangeVisibleRanges.event,this._views=new Set}attachView(){const e=new er(t=>{this._onDidChangeVisibleRanges.fire({view:e,state:t})});return this._views.add(e),e}detachView(e){this._views.delete(e),this._onDidChangeVisibleRanges.fire({view:e,state:void 0})}};s(pa,"AttachedViews");let Js=pa;const _a=class _a{constructor(e){this.handleStateChange=e}setVisibleLines(e,t){const i=e.map(r=>new os.M(r.startLineNumber,r.endLineNumber+1));this.handleStateChange({visibleLineRanges:i,stabilized:t})}};s(_a,"AttachedViewImpl");let er=_a;const ba=class ba extends K.jG{get lineRanges(){return this._lineRanges}constructor(e){super(),this._refreshTokens=e,this.runner=this._register(new Mr.uC(()=>this.update(),50)),this._computedLineRanges=[],this._lineRanges=[]}update(){(0,Q.aI)(this._computedLineRanges,this._lineRanges,(e,t)=>e.equals(t))||(this._computedLineRanges=this._lineRanges,this._refreshTokens())}handleStateChange(e){this._lineRanges=e.visibleLineRanges,e.stabilized?(this.runner.cancel(),this.update()):this.runner.schedule()}};s(ba,"AttachedViewHandler");let tr=ba;const ka=class ka extends K.jG{get backgroundTokenizationState(){return this._backgroundTokenizationState}constructor(e,t,i){super(),this._languageIdCodec=e,this._textModel=t,this.getLanguageId=i,this._backgroundTokenizationState=1,this._onDidChangeBackgroundTokenizationState=this._register(new N.vl),this.onDidChangeBackgroundTokenizationState=this._onDidChangeBackgroundTokenizationState.event,this._onDidChangeTokens=this._register(new N.vl),this.onDidChangeTokens=this._onDidChangeTokens.event}tokenizeIfCheap(e){this.isCheapToTokenize(e)&&this.forceTokenization(e)}};s(ka,"AbstractTokens");let ks=ka;const Ca=class Ca extends ks{constructor(e,t,i,r){super(t,i,r),this._treeSitterService=e,this._tokenizationSupport=null,this._initialize()}_initialize(){const e=this.getLanguageId();(!this._tokenizationSupport||this._lastLanguageId!==e)&&(this._lastLanguageId=e,this._tokenizationSupport=Vi.OB.get(e))}getLineTokens(e){const t=this._textModel.getLineContent(e);if(this._tokenizationSupport){const i=this._tokenizationSupport.tokenizeEncoded(e,this._textModel);if(i)return new jn(i,t,this._languageIdCodec)}return jn.createEmpty(t,this._languageIdCodec)}resetTokenization(e=!0){e&&this._onDidChangeTokens.fire({semanticTokensApplied:!1,ranges:[{fromLineNumber:1,toLineNumber:this._textModel.getLineCount()}]}),this._initialize()}handleDidChangeAttached(){}handleDidChangeContent(e){e.isFlush&&this.resetTokenization(!1)}forceTokenization(e){}hasAccurateTokensForLine(e){return!0}isCheapToTokenize(e){return!0}getTokenTypeIfInsertingCharacter(e,t,i){return 0}tokenizeLineWithEdit(e,t,i){return null}get hasTokens(){return this._treeSitterService.getParseResult(this._textModel)!==void 0}};s(Ca,"TreeSitterTokens");let Cs=Ca;var vs=v(5320);const ct=new Uint32Array(0).buffer,Es=class Es{static deleteBeginning(e,t){return e===null||e===ct?e:Es.delete(e,0,t)}static deleteEnding(e,t){if(e===null||e===ct)return e;const i=Kt(e),r=i[i.length-2];return Es.delete(e,t,r)}static delete(e,t,i){if(e===null||e===ct||t===i)return e;const r=Kt(e),a=r.length>>>1;if(t===0&&r[r.length-2]===i)return ct;const l=jn.findIndexInTokensArray(r,t),p=l>0?r[l-1<<1]:0,k=r[l<<1];if(i<k){const me=i-t;for(let Le=l;Le<a;Le++)r[Le<<1]-=me;return e}let j,Z;p!==t?(r[l<<1]=t,j=l+1<<1,Z=t):(j=l<<1,Z=p);const ne=i-t;for(let me=l+1;me<a;me++){const Le=r[me<<1]-ne;Le>Z&&(r[j++]=Le,r[j++]=r[(me<<1)+1],Z=Le)}if(j===r.length)return e;const ae=new Uint32Array(j);return ae.set(r.subarray(0,j),0),ae.buffer}static append(e,t){if(t===ct)return e;if(e===ct)return t;if(e===null)return e;if(t===null)return null;const i=Kt(e),r=Kt(t),a=r.length>>>1,l=new Uint32Array(i.length+r.length);l.set(i,0);let p=i.length;const k=i[i.length-2];for(let j=0;j<a;j++)l[p++]=r[j<<1]+k,l[p++]=r[(j<<1)+1];return l.buffer}static insert(e,t,i){if(e===null||e===ct)return e;const r=Kt(e),a=r.length>>>1;let l=jn.findIndexInTokensArray(r,t);l>0&&r[l-1<<1]===t&&l--;for(let p=l;p<a;p++)r[p<<1]+=i;return e}};s(Es,"ContiguousTokensEditing");let St=Es;function Kt(_){return _ instanceof Uint32Array?_:new Uint32Array(_)}s(Kt,"toUint32Array");const ys=class ys{constructor(e){this._lineTokens=[],this._len=0,this._languageIdCodec=e}flush(){this._lineTokens=[],this._len=0}get hasTokens(){return this._lineTokens.length>0}getTokens(e,t,i){let r=null;if(t<this._len&&(r=this._lineTokens[t]),r!==null&&r!==ct)return new jn(Kt(r),i,this._languageIdCodec);const a=new Uint32Array(2);return a[0]=i.length,a[1]=xn(this._languageIdCodec.encodeLanguageId(e)),new jn(a,i,this._languageIdCodec)}static _massageTokens(e,t,i){const r=i?Kt(i):null;if(t===0){let a=!1;if(r&&r.length>1&&(a=ye.x.getLanguageId(r[1])!==e),!a)return ct}if(!r||r.length===0){const a=new Uint32Array(2);return a[0]=t,a[1]=xn(e),a.buffer}return r[r.length-2]=t,r.byteOffset===0&&r.byteLength===r.buffer.byteLength?r.buffer:r}_ensureLine(e){for(;e>=this._len;)this._lineTokens[this._len]=null,this._len++}_deleteLines(e,t){t!==0&&(e+t>this._len&&(t=this._len-e),this._lineTokens.splice(e,t),this._len-=t)}_insertLines(e,t){if(t===0)return;const i=[];for(let r=0;r<t;r++)i[r]=null;this._lineTokens=Q.nK(this._lineTokens,e,i),this._len+=t}setTokens(e,t,i,r,a){const l=ys._massageTokens(this._languageIdCodec.encodeLanguageId(e),i,r);this._ensureLine(t);const p=this._lineTokens[t];return this._lineTokens[t]=l,a?!ys._equals(p,l):!1}static _equals(e,t){if(!e||!t)return!e&&!t;const i=Kt(e),r=Kt(t);if(i.length!==r.length)return!1;for(let a=0,l=i.length;a<l;a++)if(i[a]!==r[a])return!1;return!0}acceptEdit(e,t,i){this._acceptDeleteRange(e),this._acceptInsertText(new P.y(e.startLineNumber,e.startColumn),t,i)}_acceptDeleteRange(e){const t=e.startLineNumber-1;if(t>=this._len)return;if(e.startLineNumber===e.endLineNumber){if(e.startColumn===e.endColumn)return;this._lineTokens[t]=St.delete(this._lineTokens[t],e.startColumn-1,e.endColumn-1);return}this._lineTokens[t]=St.deleteEnding(this._lineTokens[t],e.startColumn-1);const i=e.endLineNumber-1;let r=null;i<this._len&&(r=St.deleteBeginning(this._lineTokens[i],e.endColumn-1)),this._lineTokens[t]=St.append(this._lineTokens[t],r),this._deleteLines(e.startLineNumber,e.endLineNumber-e.startLineNumber)}_acceptInsertText(e,t,i){if(t===0&&i===0)return;const r=e.lineNumber-1;if(!(r>=this._len)){if(t===0){this._lineTokens[r]=St.insert(this._lineTokens[r],e.column-1,i);return}this._lineTokens[r]=St.deleteEnding(this._lineTokens[r],e.column-1),this._lineTokens[r]=St.insert(this._lineTokens[r],e.column-1,i),this._insertLines(e.lineNumber,t)}}setMultilineTokens(e,t){if(e.length===0)return{changes:[]};const i=[];for(let r=0,a=e.length;r<a;r++){const l=e[r];let p=0,k=0,j=!1;for(let Z=l.startLineNumber;Z<=l.endLineNumber;Z++)j?(this.setTokens(t.getLanguageId(),Z-1,t.getLineLength(Z),l.getLineTokens(Z),!1),k=Z):this.setTokens(t.getLanguageId(),Z-1,t.getLineLength(Z),l.getLineTokens(Z),!0)&&(j=!0,p=Z,k=Z);j&&i.push({fromLineNumber:p,toLineNumber:k})}return{changes:i}}};s(ys,"ContiguousTokensStore");let en=ys;function xn(_){return(_<<0|0|0|32768|33554432|1024)>>>0}s(xn,"getDefaultMetadata");const Sr=class Sr{constructor(e){this._pieces=[],this._isComplete=!1,this._languageIdCodec=e}flush(){this._pieces=[],this._isComplete=!1}isEmpty(){return this._pieces.length===0}set(e,t){this._pieces=e||[],this._isComplete=t}setPartial(e,t){let i=e;if(t.length>0){const a=t[0].getRange(),l=t[t.length-1].getRange();if(!a||!l)return e;i=e.plusRange(a).plusRange(l)}let r=null;for(let a=0,l=this._pieces.length;a<l;a++){const p=this._pieces[a];if(p.endLineNumber<i.startLineNumber)continue;if(p.startLineNumber>i.endLineNumber){r=r||{index:a};break}if(p.removeTokens(i),p.isEmpty()){this._pieces.splice(a,1),a--,l--;continue}if(p.endLineNumber<i.startLineNumber)continue;if(p.startLineNumber>i.endLineNumber){r=r||{index:a};continue}const[k,j]=p.split(i);if(k.isEmpty()){r=r||{index:a};continue}j.isEmpty()||(this._pieces.splice(a,1,k,j),a++,l++,r=r||{index:a})}return r=r||{index:this._pieces.length},t.length>0&&(this._pieces=Q.nK(this._pieces,r.index,t)),i}isComplete(){return this._isComplete}addSparseTokens(e,t){if(t.getLineContent().length===0)return t;const i=this._pieces;if(i.length===0)return t;const r=Sr._findFirstPieceWithLine(i,e),a=i[r].getLineTokens(e);if(!a)return t;const l=t.getCount(),p=a.getCount();let k=0;const j=[];let Z=0,ne=0;const ae=s((me,Le)=>{me!==ne&&(ne=me,j[Z++]=me,j[Z++]=Le)},"emitToken");for(let me=0;me<p;me++){const Le=a.getStartCharacter(me),Be=a.getEndCharacter(me),Me=a.getMetadata(me),Ke=((Me&1?2048:0)|(Me&2?4096:0)|(Me&4?8192:0)|(Me&8?16384:0)|(Me&16?16744448:0)|(Me&32?4278190080:0))>>>0,st=~Ke>>>0;for(;k<l&&t.getEndOffset(k)<=Le;)ae(t.getEndOffset(k),t.getMetadata(k)),k++;for(k<l&&t.getStartOffset(k)<Le&&ae(Le,t.getMetadata(k));k<l&&t.getEndOffset(k)<Be;)ae(t.getEndOffset(k),t.getMetadata(k)&st|Me&Ke),k++;if(k<l)ae(Be,t.getMetadata(k)&st|Me&Ke),t.getEndOffset(k)===Be&&k++;else{const pt=Math.min(Math.max(0,k-1),l-1);ae(Be,t.getMetadata(pt)&st|Me&Ke)}}for(;k<l;)ae(t.getEndOffset(k),t.getMetadata(k)),k++;return new jn(new Uint32Array(j),t.getLineContent(),this._languageIdCodec)}static _findFirstPieceWithLine(e,t){let i=0,r=e.length-1;for(;i<r;){let a=i+Math.floor((r-i)/2);if(e[a].endLineNumber<t)i=a+1;else if(e[a].startLineNumber>t)r=a-1;else{for(;a>i&&e[a-1].startLineNumber<=t&&t<=e[a-1].endLineNumber;)a--;return a}}return i}acceptEdit(e,t,i,r,a){for(const l of this._pieces)l.acceptEdit(e,t,i,r,a)}};s(Sr,"SparseTokensStore");let $n=Sr;var Tn=function(_,e,t,i){var r=arguments.length,a=r<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,l;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")a=Reflect.decorate(_,e,t,i);else for(var p=_.length-1;p>=0;p--)(l=_[p])&&(a=(r<3?l(a):r>3?l(e,t,a):l(e,t))||a);return r>3&&a&&Object.defineProperty(e,t,a),a},pn=function(_,e){return function(t,i){e(t,i,_)}},nr;let Or=nr=(fs=class extends Fe{constructor(e,t,i,r,a,l,p){super(),this._textModel=e,this._bracketPairsTextModelPart=t,this._languageId=i,this._attachedViews=r,this._languageService=a,this._languageConfigurationService=l,this._treeSitterService=p,this._semanticTokens=new $n(this._languageService.languageIdCodec),this._onDidChangeLanguage=this._register(new N.vl),this.onDidChangeLanguage=this._onDidChangeLanguage.event,this._onDidChangeLanguageConfiguration=this._register(new N.vl),this.onDidChangeLanguageConfiguration=this._onDidChangeLanguageConfiguration.event,this._onDidChangeTokens=this._register(new N.vl),this.onDidChangeTokens=this._onDidChangeTokens.event,this._tokensDisposables=this._register(new K.Cm),this._register(this._languageConfigurationService.onDidChange(k=>{k.affects(this._languageId)&&this._onDidChangeLanguageConfiguration.fire({})})),this._register(N.Jh.filter(Vi.OB.onDidChange,k=>k.changedLanguages.includes(this._languageId))(()=>{this.createPreferredTokenProvider()})),this.createPreferredTokenProvider()}createGrammarTokens(){return this._register(new ir(this._languageService.languageIdCodec,this._textModel,()=>this._languageId,this._attachedViews))}createTreeSitterTokens(){return this._register(new Cs(this._treeSitterService,this._languageService.languageIdCodec,this._textModel,()=>this._languageId))}createTokens(e){var i;const t=this._tokens!==void 0;(i=this._tokens)==null||i.dispose(),this._tokens=e?this.createTreeSitterTokens():this.createGrammarTokens(),this._tokensDisposables.clear(),this._tokensDisposables.add(this._tokens.onDidChangeTokens(r=>{this._emitModelTokensChangedEvent(r)})),this._tokensDisposables.add(this._tokens.onDidChangeBackgroundTokenizationState(r=>{this._bracketPairsTextModelPart.handleDidChangeBackgroundTokenizationState()})),t&&this._tokens.resetTokenization()}createPreferredTokenProvider(){Vi.OB.get(this._languageId)?this._tokens instanceof Cs||this.createTokens(!0):this._tokens instanceof ir||this.createTokens(!1)}handleLanguageConfigurationServiceChange(e){e.affects(this._languageId)&&this._onDidChangeLanguageConfiguration.fire({})}handleDidChangeContent(e){if(e.isFlush)this._semanticTokens.flush();else if(!e.isEolChange)for(const t of e.changes){const[i,r,a]=(0,T.W)(t.text);this._semanticTokens.acceptEdit(t.range,i,r,a,t.text.length>0?t.text.charCodeAt(0):0)}this._tokens.handleDidChangeContent(e)}handleDidChangeAttached(){this._tokens.handleDidChangeAttached()}getLineTokens(e){this.validateLineNumber(e);const t=this._tokens.getLineTokens(e);return this._semanticTokens.addSparseTokens(e,t)}_emitModelTokensChangedEvent(e){this._textModel._isDisposing()||(this._bracketPairsTextModelPart.handleDidChangeTokens(e),this._onDidChangeTokens.fire(e))}validateLineNumber(e){if(e<1||e>this._textModel.getLineCount())throw new E.D7("Illegal value for lineNumber")}get hasTokens(){return this._tokens.hasTokens}resetTokenization(){this._tokens.resetTokenization()}get backgroundTokenizationState(){return this._tokens.backgroundTokenizationState}forceTokenization(e){this.validateLineNumber(e),this._tokens.forceTokenization(e)}hasAccurateTokensForLine(e){return this.validateLineNumber(e),this._tokens.hasAccurateTokensForLine(e)}isCheapToTokenize(e){return this.validateLineNumber(e),this._tokens.isCheapToTokenize(e)}tokenizeIfCheap(e){this.validateLineNumber(e),this._tokens.tokenizeIfCheap(e)}getTokenTypeIfInsertingCharacter(e,t,i){return this._tokens.getTokenTypeIfInsertingCharacter(e,t,i)}tokenizeLineWithEdit(e,t,i){return this._tokens.tokenizeLineWithEdit(e,t,i)}setSemanticTokens(e,t){this._semanticTokens.set(e,t),this._emitModelTokensChangedEvent({semanticTokensApplied:e!==null,ranges:[{fromLineNumber:1,toLineNumber:this._textModel.getLineCount()}]})}hasCompleteSemanticTokens(){return this._semanticTokens.isComplete()}hasSomeSemanticTokens(){return!this._semanticTokens.isEmpty()}setPartialSemanticTokens(e,t){if(this.hasCompleteSemanticTokens())return;const i=this._textModel.validateRange(this._semanticTokens.setPartial(e,t));this._emitModelTokensChangedEvent({semanticTokensApplied:!0,ranges:[{fromLineNumber:i.startLineNumber,toLineNumber:i.endLineNumber}]})}getWordAtPosition(e){this.assertNotDisposed();const t=this._textModel.validatePosition(e),i=this._textModel.getLineContent(t.lineNumber),r=this.getLineTokens(t.lineNumber),a=r.findTokenIndexAtOffset(t.column-1),[l,p]=nr._findLanguageBoundaries(r,a),k=(0,H.Th)(t.column,this.getLanguageConfiguration(r.getLanguageId(a)).getWordDefinition(),i.substring(l,p),l);if(k&&k.startColumn<=e.column&&e.column<=k.endColumn)return k;if(a>0&&l===t.column-1){const[j,Z]=nr._findLanguageBoundaries(r,a-1),ne=(0,H.Th)(t.column,this.getLanguageConfiguration(r.getLanguageId(a-1)).getWordDefinition(),i.substring(j,Z),j);if(ne&&ne.startColumn<=e.column&&e.column<=ne.endColumn)return ne}return null}getLanguageConfiguration(e){return this._languageConfigurationService.getLanguageConfiguration(e)}static _findLanguageBoundaries(e,t){const i=e.getLanguageId(t);let r=0;for(let l=t;l>=0&&e.getLanguageId(l)===i;l--)r=e.getStartOffset(l);let a=e.getLineContent().length;for(let l=t,p=e.getCount();l<p&&e.getLanguageId(l)===i;l++)a=e.getEndOffset(l);return[r,a]}getWordUntilPosition(e){const t=this.getWordAtPosition(e);return t?{word:t.word.substr(0,e.column-t.startColumn),startColumn:t.startColumn,endColumn:e.column}:{word:"",startColumn:e.column,endColumn:e.column}}getLanguageId(){return this._languageId}getLanguageIdAtPosition(e,t){const i=this._textModel.validatePosition(new P.y(e,t)),r=this.getLineTokens(i.lineNumber);return r.getLanguageId(r.findTokenIndexAtOffset(i.column-1))}setLanguageId(e,t="api"){if(this._languageId===e)return;const i={oldLanguage:this._languageId,newLanguage:e,source:t};this._languageId=e,this._bracketPairsTextModelPart.handleDidChangeLanguage(i),this._tokens.resetTokenization(),this.createPreferredTokenProvider(),this._onDidChangeLanguage.fire(i),this._onDidChangeLanguageConfiguration.fire({})}},s(fs,"TokenizationTextModelPart"),fs);Or=nr=Tn([pn(4,ee.L),pn(5,Yt),pn(6,vs.ITreeSitterParserService)],Or);const va=class va extends ks{constructor(e,t,i,r){super(e,t,i),this._tokenizer=null,this._defaultBackgroundTokenizer=null,this._backgroundTokenizer=this._register(new K.HE),this._tokens=new en(this._languageIdCodec),this._debugBackgroundTokenizer=this._register(new K.HE),this._attachedViewStates=this._register(new K.$w),this._register(Vi.dG.onDidChange(a=>{const l=this.getLanguageId();a.changedLanguages.indexOf(l)!==-1&&this.resetTokenization()})),this.resetTokenization(),this._register(r.onDidChangeVisibleRanges(({view:a,state:l})=>{if(l){let p=this._attachedViewStates.get(a);p||(p=new tr(()=>this.refreshRanges(p.lineRanges)),this._attachedViewStates.set(a,p)),p.handleStateChange(l)}else this._attachedViewStates.deleteAndDispose(a)}))}resetTokenization(e=!0){var a;this._tokens.flush(),(a=this._debugBackgroundTokens)==null||a.flush(),this._debugBackgroundStates&&(this._debugBackgroundStates=new ls(this._textModel.getLineCount())),e&&this._onDidChangeTokens.fire({semanticTokensApplied:!1,ranges:[{fromLineNumber:1,toLineNumber:this._textModel.getLineCount()}]});const t=s(()=>{if(this._textModel.isTooLargeForTokenization())return[null,null];const l=Vi.dG.get(this.getLanguageId());if(!l)return[null,null];let p;try{p=l.getInitialState()}catch(k){return(0,E.dz)(k),[null,null]}return[l,p]},"initializeTokenization"),[i,r]=t();if(i&&r?this._tokenizer=new Ys(this._textModel.getLineCount(),i,this._textModel,this._languageIdCodec):this._tokenizer=null,this._backgroundTokenizer.clear(),this._defaultBackgroundTokenizer=null,this._tokenizer){const l={setTokens:s(p=>{this.setTokens(p)},"setTokens"),backgroundTokenizationFinished:s(()=>{if(this._backgroundTokenizationState===2)return;const p=2;this._backgroundTokenizationState=p,this._onDidChangeBackgroundTokenizationState.fire()},"backgroundTokenizationFinished"),setEndState:s((p,k)=>{var Z;if(!this._tokenizer)return;const j=this._tokenizer.store.getFirstInvalidEndStateLineNumber();j!==null&&p>=j&&((Z=this._tokenizer)==null||Z.store.setEndState(p,k))},"setEndState")};i&&i.createBackgroundTokenizer&&!i.backgroundTokenizerShouldOnlyVerifyTokens&&(this._backgroundTokenizer.value=i.createBackgroundTokenizer(this._textModel,l)),!this._backgroundTokenizer.value&&!this._textModel.isTooLargeForTokenization()&&(this._backgroundTokenizer.value=this._defaultBackgroundTokenizer=new Zs(this._tokenizer,l),this._defaultBackgroundTokenizer.handleChanges()),i!=null&&i.backgroundTokenizerShouldOnlyVerifyTokens&&i.createBackgroundTokenizer?(this._debugBackgroundTokens=new en(this._languageIdCodec),this._debugBackgroundStates=new ls(this._textModel.getLineCount()),this._debugBackgroundTokenizer.clear(),this._debugBackgroundTokenizer.value=i.createBackgroundTokenizer(this._textModel,{setTokens:s(p=>{var k;(k=this._debugBackgroundTokens)==null||k.setMultilineTokens(p,this._textModel)},"setTokens"),backgroundTokenizationFinished(){},setEndState:s((p,k)=>{var j;(j=this._debugBackgroundStates)==null||j.setEndState(p,k)},"setEndState")})):(this._debugBackgroundTokens=void 0,this._debugBackgroundStates=void 0,this._debugBackgroundTokenizer.value=void 0)}this.refreshAllVisibleLineTokens()}handleDidChangeAttached(){var e;(e=this._defaultBackgroundTokenizer)==null||e.handleChanges()}handleDidChangeContent(e){var t,i,r;if(e.isFlush)this.resetTokenization(!1);else if(!e.isEolChange){for(const a of e.changes){const[l,p]=(0,T.W)(a.text);this._tokens.acceptEdit(a.range,l,p),(t=this._debugBackgroundTokens)==null||t.acceptEdit(a.range,l,p)}(i=this._debugBackgroundStates)==null||i.acceptChanges(e.changes),this._tokenizer&&this._tokenizer.store.acceptChanges(e.changes),(r=this._defaultBackgroundTokenizer)==null||r.handleChanges()}}setTokens(e){const{changes:t}=this._tokens.setMultilineTokens(e,this._textModel);return t.length>0&&this._onDidChangeTokens.fire({semanticTokensApplied:!1,ranges:t}),{changes:t}}refreshAllVisibleLineTokens(){const e=os.M.joinMany([...this._attachedViewStates].map(([t,i])=>i.lineRanges));this.refreshRanges(e)}refreshRanges(e){for(const t of e)this.refreshRange(t.startLineNumber,t.endLineNumberExclusive-1)}refreshRange(e,t){var l,p;if(!this._tokenizer)return;e=Math.max(1,Math.min(this._textModel.getLineCount(),e)),t=Math.min(this._textModel.getLineCount(),t);const i=new as,{heuristicTokens:r}=this._tokenizer.tokenizeHeuristically(i,e,t),a=this.setTokens(i.finalize());if(r)for(const k of a.changes)(l=this._backgroundTokenizer.value)==null||l.requestTokens(k.fromLineNumber,k.toLineNumber+1);(p=this._defaultBackgroundTokenizer)==null||p.checkFinished()}forceTokenization(e){var i,r;const t=new as;(i=this._tokenizer)==null||i.updateTokensUntilLine(t,e),this.setTokens(t.finalize()),(r=this._defaultBackgroundTokenizer)==null||r.checkFinished()}hasAccurateTokensForLine(e){return this._tokenizer?this._tokenizer.hasAccurateTokensForLine(e):!0}isCheapToTokenize(e){return this._tokenizer?this._tokenizer.isCheapToTokenize(e):!0}getLineTokens(e){var r;const t=this._textModel.getLineContent(e),i=this._tokens.getTokens(this._textModel.getLanguageId(),e-1,t);if(this._debugBackgroundTokens&&this._debugBackgroundStates&&this._tokenizer&&this._debugBackgroundStates.getFirstInvalidEndStateLineNumberOrMax()>e&&this._tokenizer.store.getFirstInvalidEndStateLineNumberOrMax()>e){const a=this._debugBackgroundTokens.getTokens(this._textModel.getLanguageId(),e-1,t);!i.equals(a)&&((r=this._debugBackgroundTokenizer.value)!=null&&r.reportMismatchingTokens)&&this._debugBackgroundTokenizer.value.reportMismatchingTokens(e)}return i}getTokenTypeIfInsertingCharacter(e,t,i){if(!this._tokenizer)return 0;const r=this._textModel.validatePosition(new P.y(e,t));return this.forceTokenization(r.lineNumber),this._tokenizer.getTokenTypeIfInsertingCharacter(r,i)}tokenizeLineWithEdit(e,t,i){if(!this._tokenizer)return null;const r=this._textModel.validatePosition(e);return this.forceTokenization(r.lineNumber),this._tokenizer.tokenizeLineWithEdit(r,t,i)}get hasTokens(){return this._tokens.hasTokens}};s(va,"GrammarTokens");let ir=va;const La=class La{constructor(){this.changeType=1}};s(La,"ModelRawFlush");let Fr=La;const Is=class Is{static applyInjectedText(e,t){if(!t||t.length===0)return e;let i="",r=0;for(const a of t)i+=e.substring(r,a.column-1),r=a.column-1,i+=a.options.content;return i+=e.substring(r),i}static fromDecorations(e){const t=[];for(const i of e)i.options.before&&i.options.before.content.length>0&&t.push(new Is(i.ownerId,i.range.startLineNumber,i.range.startColumn,i.options.before,0)),i.options.after&&i.options.after.content.length>0&&t.push(new Is(i.ownerId,i.range.endLineNumber,i.range.endColumn,i.options.after,1));return t.sort((i,r)=>i.lineNumber===r.lineNumber?i.column===r.column?i.order-r.order:i.column-r.column:i.lineNumber-r.lineNumber),t}constructor(e,t,i,r,a){this.ownerId=e,this.lineNumber=t,this.column=i,this.options=r,this.order=a}};s(Is,"LineInjectedText");let sr=Is;const xa=class xa{constructor(e,t,i){this.changeType=2,this.lineNumber=e,this.detail=t,this.injectedText=i}};s(xa,"ModelRawLineChanged");let rr=xa;const wa=class wa{constructor(e,t){this.changeType=3,this.fromLineNumber=e,this.toLineNumber=t}};s(wa,"ModelRawLinesDeleted");let Pr=wa;const Sa=class Sa{constructor(e,t,i,r){this.changeType=4,this.injectedTexts=r,this.fromLineNumber=e,this.toLineNumber=t,this.detail=i}};s(Sa,"ModelRawLinesInserted");let Wr=Sa;const Ea=class Ea{constructor(){this.changeType=5}};s(Ea,"ModelRawEOLChanged");let zr=Ea;const Er=class Er{constructor(e,t,i,r){this.changes=e,this.versionId=t,this.isUndoing=i,this.isRedoing=r,this.resultingSelection=null}containsEvent(e){for(let t=0,i=this.changes.length;t<i;t++)if(this.changes[t].changeType===e)return!0;return!1}static merge(e,t){const i=[].concat(e.changes).concat(t.changes),r=t.versionId,a=e.isUndoing||t.isUndoing,l=e.isRedoing||t.isRedoing;return new Er(i,r,a,l)}};s(Er,"ModelRawContentChangedEvent");let us=Er;const ya=class ya{constructor(e){this.changes=e}};s(ya,"ModelInjectedTextChangedEvent");let Ur=ya;const Ns=class Ns{constructor(e,t){this.rawContentChangedEvent=e,this.contentChangedEvent=t}merge(e){const t=us.merge(this.rawContentChangedEvent,e.rawContentChangedEvent),i=Ns._mergeChangeEvents(this.contentChangedEvent,e.contentChangedEvent);return new Ns(t,i)}static _mergeChangeEvents(e,t){const i=[].concat(e.changes).concat(t.changes),r=t.eol,a=t.versionId,l=e.isUndoing||t.isUndoing,p=e.isRedoing||t.isRedoing,k=e.isFlush||t.isFlush,j=e.isEolChange&&t.isEolChange;return{changes:i,eol:r,isEolChange:j,versionId:a,isUndoing:l,isRedoing:p,isFlush:k}}};s(Ns,"InternalModelContentChangeEvent");let Vr=Ns;const nl=(0,$t.u1)("undoRedoService"),Ia=class Ia{constructor(e,t){this.resource=e,this.elements=t}};s(Ia,"ResourceEditStackSnapshot");let il=Ia;const qi=class qi{constructor(){this.id=qi._ID++,this.order=1}nextOrder(){return this.id===0?0:this.order++}};s(qi,"UndoRedoGroup"),qi._ID=0,qi.None=new qi;let sl=qi;const Yi=class Yi{constructor(){this.id=Yi._ID++,this.order=1}nextOrder(){return this.id===0?0:this.order++}};s(Yi,"UndoRedoSource"),Yi._ID=0,Yi.None=new Yi;let rl=Yi;var dl=function(_,e,t,i){var r=arguments.length,a=r<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,l;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")a=Reflect.decorate(_,e,t,i);else for(var p=_.length-1;p>=0;p--)(l=_[p])&&(a=(r<3?l(a):r>3?l(e,t,a):l(e,t))||a);return r>3&&a&&Object.defineProperty(e,t,a),a},or=function(_,e){return function(t,i){e(t,i,_)}},Hi;function fl(_){const e=new bs;return e.acceptChunk(_),e.finish()}s(fl,"createTextBufferFactory");function gl(_){const e=new bs;let t;for(;typeof(t=_.read())=="string";)e.acceptChunk(t);return e.finish()}s(gl,"createTextBufferFactoryFromSnapshot");function ol(_,e){let t;return typeof _=="string"?t=fl(_):Ct.nk(_)?t=gl(_):t=_,t.create(e)}s(ol,"createTextBuffer");let ar=0;const ml=999,pl=1e4,Na=class Na{constructor(e){this._source=e,this._eos=!1}read(){if(this._eos)return null;const e=[];let t=0,i=0;do{const r=this._source.read();if(r===null)return this._eos=!0,t===0?null:e.join("");if(r.length>0&&(e[t++]=r,i+=r.length),i>=65536)return e.join("")}while(!0)}};s(Na,"TextModelSnapshot");let Hr=Na;const Ls=s(()=>{throw new Error("Invalid change accessor")},"invalidFunc");let jr=(ni=class extends K.jG{static resolveOptions(e,t){if(t.detectIndentation){const i=Lt(e,t.tabSize,t.insertSpaces);return new Ct.X2({tabSize:i.tabSize,indentSize:"tabSize",insertSpaces:i.insertSpaces,trimAutoWhitespace:t.trimAutoWhitespace,defaultEOL:t.defaultEOL,bracketPairColorizationOptions:t.bracketPairColorizationOptions})}return new Ct.X2(t)}get onDidChangeLanguage(){return this._tokenizationTextModelPart.onDidChangeLanguage}get onDidChangeLanguageConfiguration(){return this._tokenizationTextModelPart.onDidChangeLanguageConfiguration}get onDidChangeTokens(){return this._tokenizationTextModelPart.onDidChangeTokens}onDidChangeContent(e){return this._eventEmitter.slowEvent(t=>e(t.contentChangedEvent))}onDidChangeContentOrInjectedText(e){return(0,K.qE)(this._eventEmitter.fastEvent(t=>e(t)),this._onDidChangeInjectedText.event(t=>e(t)))}_isDisposing(){return this.__isDisposing}get tokenization(){return this._tokenizationTextModelPart}get bracketPairs(){return this._bracketPairs}get guides(){return this._guidesTextModelPart}constructor(e,t,i,r=null,a,l,p,k){super(),this._undoRedoService=a,this._languageService=l,this._languageConfigurationService=p,this.instantiationService=k,this._onWillDispose=this._register(new N.vl),this.onWillDispose=this._onWillDispose.event,this._onDidChangeDecorations=this._register(new Yr(Le=>this.handleBeforeFireDecorationsChangedEvent(Le))),this.onDidChangeDecorations=this._onDidChangeDecorations.event,this._onDidChangeOptions=this._register(new N.vl),this.onDidChangeOptions=this._onDidChangeOptions.event,this._onDidChangeAttached=this._register(new N.vl),this.onDidChangeAttached=this._onDidChangeAttached.event,this._onDidChangeInjectedText=this._register(new N.vl),this._eventEmitter=this._register(new Kr),this._languageSelectionListener=this._register(new K.HE),this._deltaDecorationCallCnt=0,this._attachedViews=new Js,ar++,this.id="$model"+ar,this.isForSimpleWidget=i.isForSimpleWidget,typeof r=="undefined"||r===null?this._associatedResource=G.r.parse("inmemory://model/"+ar):this._associatedResource=r,this._attachedEditorCount=0;const{textBuffer:j,disposable:Z}=ol(e,i.defaultEOL);this._buffer=j,this._bufferDisposable=Z,this._options=Hi.resolveOptions(this._buffer,i);const ne=typeof t=="string"?t:t.languageId;typeof t!="string"&&(this._languageSelectionListener.value=t.onDidChange(()=>this._setLanguage(t.languageId))),this._bracketPairs=this._register(new Di(this,this._languageConfigurationService)),this._guidesTextModelPart=this._register(new bt(this,this._languageConfigurationService)),this._decorationProvider=this._register(new Si(this)),this._tokenizationTextModelPart=this.instantiationService.createInstance(Or,this,this._bracketPairs,ne,this._attachedViews);const ae=this._buffer.getLineCount(),me=this._buffer.getValueLengthInRange(new O.Q(1,1,ae,this._buffer.getLineLength(ae)+1),0);i.largeFileOptimizations?(this._isTooLargeForTokenization=me>Hi.LARGE_FILE_SIZE_THRESHOLD||ae>Hi.LARGE_FILE_LINE_COUNT_THRESHOLD,this._isTooLargeForHeapOperation=me>Hi.LARGE_FILE_HEAP_OPERATION_THRESHOLD):(this._isTooLargeForTokenization=!1,this._isTooLargeForHeapOperation=!1),this._isTooLargeForSyncing=me>Hi._MODEL_SYNC_LIMIT,this._versionId=1,this._alternativeVersionId=1,this._initialUndoRedoSnapshot=null,this._isDisposed=!1,this.__isDisposing=!1,this._instanceId=u.tk(ar),this._lastDecorationId=0,this._decorations=Object.create(null),this._decorationsTree=new ur,this._commandManager=new Re(this,this._undoRedoService),this._isUndoing=!1,this._isRedoing=!1,this._trimAutoWhitespaceLines=null,this._register(this._decorationProvider.onDidChange(()=>{this._onDidChangeDecorations.beginDeferredEmit(),this._onDidChangeDecorations.fire(),this._onDidChangeDecorations.endDeferredEmit()})),this._languageService.requestRichLanguageFeatures(ne),this._register(this._languageConfigurationService.onDidChange(Le=>{this._bracketPairs.handleLanguageConfigurationServiceChange(Le),this._tokenizationTextModelPart.handleLanguageConfigurationServiceChange(Le)}))}dispose(){this.__isDisposing=!0,this._onWillDispose.fire(),this._tokenizationTextModelPart.dispose(),this._isDisposed=!0,super.dispose(),this._bufferDisposable.dispose(),this.__isDisposing=!1;const e=new _s([],"",`
`,!1,!1,!0,!0);e.dispose(),this._buffer=e,this._bufferDisposable=K.jG.None}_assertNotDisposed(){if(this._isDisposed)throw new E.D7("Model is disposed!")}_emitContentChangedEvent(e,t){this.__isDisposing||(this._tokenizationTextModelPart.handleDidChangeContent(t),this._bracketPairs.handleDidChangeContent(t),this._eventEmitter.fire(new Vr(e,t)))}setValue(e){if(this._assertNotDisposed(),e==null)throw(0,E.Qg)();const{textBuffer:t,disposable:i}=ol(e,this._options.defaultEOL);this._setValueFromTextBuffer(t,i)}_createContentChanged2(e,t,i,r,a,l,p,k){return{changes:[{range:e,rangeOffset:t,rangeLength:i,text:r}],eol:this._buffer.getEOL(),isEolChange:k,versionId:this.getVersionId(),isUndoing:a,isRedoing:l,isFlush:p}}_setValueFromTextBuffer(e,t){this._assertNotDisposed();const i=this.getFullModelRange(),r=this.getValueLengthInRange(i),a=this.getLineCount(),l=this.getLineMaxColumn(a);this._buffer=e,this._bufferDisposable.dispose(),this._bufferDisposable=t,this._increaseVersionId(),this._decorations=Object.create(null),this._decorationsTree=new ur,this._commandManager.clear(),this._trimAutoWhitespaceLines=null,this._emitContentChangedEvent(new us([new Fr],this._versionId,!1,!1),this._createContentChanged2(new O.Q(1,1,a,l),0,r,this.getValue(),!1,!1,!0,!1))}setEOL(e){this._assertNotDisposed();const t=e===1?`\r
`:`
`;if(this._buffer.getEOL()===t)return;const i=this.getFullModelRange(),r=this.getValueLengthInRange(i),a=this.getLineCount(),l=this.getLineMaxColumn(a);this._onBeforeEOLChange(),this._buffer.setEOL(t),this._increaseVersionId(),this._onAfterEOLChange(),this._emitContentChangedEvent(new us([new zr],this._versionId,!1,!1),this._createContentChanged2(new O.Q(1,1,a,l),0,r,this.getValue(),!1,!1,!1,!0))}_onBeforeEOLChange(){this._decorationsTree.ensureAllNodesHaveRanges(this)}_onAfterEOLChange(){const e=this.getVersionId(),t=this._decorationsTree.collectNodesPostOrder();for(let i=0,r=t.length;i<r;i++){const a=t[i],l=a.range,p=a.cachedAbsoluteStart-a.start,k=this._buffer.getOffsetAt(l.startLineNumber,l.startColumn),j=this._buffer.getOffsetAt(l.endLineNumber,l.endColumn);a.cachedAbsoluteStart=k,a.cachedAbsoluteEnd=j,a.cachedVersionId=e,a.start=k-p,a.end=j-p,Ii(a)}}onBeforeAttached(){return this._attachedEditorCount++,this._attachedEditorCount===1&&(this._tokenizationTextModelPart.handleDidChangeAttached(),this._onDidChangeAttached.fire(void 0)),this._attachedViews.attachView()}onBeforeDetached(e){this._attachedEditorCount--,this._attachedEditorCount===0&&(this._tokenizationTextModelPart.handleDidChangeAttached(),this._onDidChangeAttached.fire(void 0)),this._attachedViews.detachView(e)}isAttachedToEditor(){return this._attachedEditorCount>0}getAttachedEditorCount(){return this._attachedEditorCount}isTooLargeForSyncing(){return this._isTooLargeForSyncing}isTooLargeForTokenization(){return this._isTooLargeForTokenization}isTooLargeForHeapOperation(){return this._isTooLargeForHeapOperation}isDisposed(){return this._isDisposed}isDominatedByLongLines(){if(this._assertNotDisposed(),this.isTooLargeForTokenization())return!1;let e=0,t=0;const i=this._buffer.getLineCount();for(let r=1;r<=i;r++){const a=this._buffer.getLineLength(r);a>=pl?t+=a:e+=a}return t>e}get uri(){return this._associatedResource}getOptions(){return this._assertNotDisposed(),this._options}getFormattingOptions(){return{tabSize:this._options.indentSize,insertSpaces:this._options.insertSpaces}}updateOptions(e){this._assertNotDisposed();const t=typeof e.tabSize!="undefined"?e.tabSize:this._options.tabSize,i=typeof e.indentSize!="undefined"?e.indentSize:this._options.originalIndentSize,r=typeof e.insertSpaces!="undefined"?e.insertSpaces:this._options.insertSpaces,a=typeof e.trimAutoWhitespace!="undefined"?e.trimAutoWhitespace:this._options.trimAutoWhitespace,l=typeof e.bracketColorizationOptions!="undefined"?e.bracketColorizationOptions:this._options.bracketPairColorizationOptions,p=new Ct.X2({tabSize:t,indentSize:i,insertSpaces:r,defaultEOL:this._options.defaultEOL,trimAutoWhitespace:a,bracketPairColorizationOptions:l});if(this._options.equals(p))return;const k=this._options.createChangeEvent(p);this._options=p,this._bracketPairs.handleDidChangeOptions(k),this._decorationProvider.handleDidChangeOptions(k),this._onDidChangeOptions.fire(k)}detectIndentation(e,t){this._assertNotDisposed();const i=Lt(this._buffer,t,e);this.updateOptions({insertSpaces:i.insertSpaces,tabSize:i.tabSize,indentSize:i.tabSize})}normalizeIndentation(e){return this._assertNotDisposed(),W(e,this._options.indentSize,this._options.insertSpaces)}getVersionId(){return this._assertNotDisposed(),this._versionId}mightContainRTL(){return this._buffer.mightContainRTL()}mightContainUnusualLineTerminators(){return this._buffer.mightContainUnusualLineTerminators()}removeUnusualLineTerminators(e=null){const t=this.findMatches(u._J.source,!1,!0,!1,null,!1,1073741824);this._buffer.resetMightContainUnusualLineTerminators(),this.pushEditOperations(e,t.map(i=>({range:i.range,text:null})),()=>null)}mightContainNonBasicASCII(){return this._buffer.mightContainNonBasicASCII()}getAlternativeVersionId(){return this._assertNotDisposed(),this._alternativeVersionId}getInitialUndoRedoSnapshot(){return this._assertNotDisposed(),this._initialUndoRedoSnapshot}getOffsetAt(e){this._assertNotDisposed();const t=this._validatePosition(e.lineNumber,e.column,0);return this._buffer.getOffsetAt(t.lineNumber,t.column)}getPositionAt(e){this._assertNotDisposed();const t=Math.min(this._buffer.getLength(),Math.max(0,e));return this._buffer.getPositionAt(t)}_increaseVersionId(){this._versionId=this._versionId+1,this._alternativeVersionId=this._versionId}_overwriteVersionId(e){this._versionId=e}_overwriteAlternativeVersionId(e){this._alternativeVersionId=e}_overwriteInitialUndoRedoSnapshot(e){this._initialUndoRedoSnapshot=e}getValue(e,t=!1){if(this._assertNotDisposed(),this.isTooLargeForHeapOperation())throw new E.D7("Operation would exceed heap memory limits");const i=this.getFullModelRange(),r=this.getValueInRange(i,e);return t?this._buffer.getBOM()+r:r}createSnapshot(e=!1){return new Hr(this._buffer.createSnapshot(e))}getValueLength(e,t=!1){this._assertNotDisposed();const i=this.getFullModelRange(),r=this.getValueLengthInRange(i,e);return t?this._buffer.getBOM().length+r:r}getValueInRange(e,t=0){return this._assertNotDisposed(),this._buffer.getValueInRange(this.validateRange(e),t)}getValueLengthInRange(e,t=0){return this._assertNotDisposed(),this._buffer.getValueLengthInRange(this.validateRange(e),t)}getCharacterCountInRange(e,t=0){return this._assertNotDisposed(),this._buffer.getCharacterCountInRange(this.validateRange(e),t)}getLineCount(){return this._assertNotDisposed(),this._buffer.getLineCount()}getLineContent(e){if(this._assertNotDisposed(),e<1||e>this.getLineCount())throw new E.D7("Illegal value for lineNumber");return this._buffer.getLineContent(e)}getLineLength(e){if(this._assertNotDisposed(),e<1||e>this.getLineCount())throw new E.D7("Illegal value for lineNumber");return this._buffer.getLineLength(e)}getLinesContent(){if(this._assertNotDisposed(),this.isTooLargeForHeapOperation())throw new E.D7("Operation would exceed heap memory limits");return this._buffer.getLinesContent()}getEOL(){return this._assertNotDisposed(),this._buffer.getEOL()}getEndOfLineSequence(){return this._assertNotDisposed(),this._buffer.getEOL()===`
`?0:1}getLineMinColumn(e){return this._assertNotDisposed(),1}getLineMaxColumn(e){if(this._assertNotDisposed(),e<1||e>this.getLineCount())throw new E.D7("Illegal value for lineNumber");return this._buffer.getLineLength(e)+1}getLineFirstNonWhitespaceColumn(e){if(this._assertNotDisposed(),e<1||e>this.getLineCount())throw new E.D7("Illegal value for lineNumber");return this._buffer.getLineFirstNonWhitespaceColumn(e)}getLineLastNonWhitespaceColumn(e){if(this._assertNotDisposed(),e<1||e>this.getLineCount())throw new E.D7("Illegal value for lineNumber");return this._buffer.getLineLastNonWhitespaceColumn(e)}_validateRangeRelaxedNoAllocations(e){const t=this._buffer.getLineCount(),i=e.startLineNumber,r=e.startColumn;let a=Math.floor(typeof i=="number"&&!isNaN(i)?i:1),l=Math.floor(typeof r=="number"&&!isNaN(r)?r:1);if(a<1)a=1,l=1;else if(a>t)a=t,l=this.getLineMaxColumn(a);else if(l<=1)l=1;else{const ne=this.getLineMaxColumn(a);l>=ne&&(l=ne)}const p=e.endLineNumber,k=e.endColumn;let j=Math.floor(typeof p=="number"&&!isNaN(p)?p:1),Z=Math.floor(typeof k=="number"&&!isNaN(k)?k:1);if(j<1)j=1,Z=1;else if(j>t)j=t,Z=this.getLineMaxColumn(j);else if(Z<=1)Z=1;else{const ne=this.getLineMaxColumn(j);Z>=ne&&(Z=ne)}return i===a&&r===l&&p===j&&k===Z&&e instanceof O.Q&&!(e instanceof M.L)?e:new O.Q(a,l,j,Z)}_isValidPosition(e,t,i){if(typeof e!="number"||typeof t!="number"||isNaN(e)||isNaN(t)||e<1||t<1||(e|0)!==e||(t|0)!==t)return!1;const r=this._buffer.getLineCount();if(e>r)return!1;if(t===1)return!0;const a=this.getLineMaxColumn(e);if(t>a)return!1;if(i===1){const l=this._buffer.getLineCharCode(e,t-2);if(u.pc(l))return!1}return!0}_validatePosition(e,t,i){const r=Math.floor(typeof e=="number"&&!isNaN(e)?e:1),a=Math.floor(typeof t=="number"&&!isNaN(t)?t:1),l=this._buffer.getLineCount();if(r<1)return new P.y(1,1);if(r>l)return new P.y(l,this.getLineMaxColumn(l));if(a<=1)return new P.y(r,1);const p=this.getLineMaxColumn(r);if(a>=p)return new P.y(r,p);if(i===1){const k=this._buffer.getLineCharCode(r,a-2);if(u.pc(k))return new P.y(r,a-1)}return new P.y(r,a)}validatePosition(e){return this._assertNotDisposed(),e instanceof P.y&&this._isValidPosition(e.lineNumber,e.column,1)?e:this._validatePosition(e.lineNumber,e.column,1)}_isValidRange(e,t){const i=e.startLineNumber,r=e.startColumn,a=e.endLineNumber,l=e.endColumn;if(!this._isValidPosition(i,r,0)||!this._isValidPosition(a,l,0))return!1;if(t===1){const p=r>1?this._buffer.getLineCharCode(i,r-2):0,k=l>1&&l<=this._buffer.getLineLength(a)?this._buffer.getLineCharCode(a,l-2):0,j=u.pc(p),Z=u.pc(k);return!j&&!Z}return!0}validateRange(e){if(this._assertNotDisposed(),e instanceof O.Q&&!(e instanceof M.L)&&this._isValidRange(e,1))return e;const i=this._validatePosition(e.startLineNumber,e.startColumn,0),r=this._validatePosition(e.endLineNumber,e.endColumn,0),a=i.lineNumber,l=i.column,p=r.lineNumber,k=r.column;{const j=l>1?this._buffer.getLineCharCode(a,l-2):0,Z=k>1&&k<=this._buffer.getLineLength(p)?this._buffer.getLineCharCode(p,k-2):0,ne=u.pc(j),ae=u.pc(Z);return!ne&&!ae?new O.Q(a,l,p,k):a===p&&l===k?new O.Q(a,l-1,p,k-1):ne&&ae?new O.Q(a,l-1,p,k+1):ne?new O.Q(a,l-1,p,k):new O.Q(a,l,p,k+1)}return new O.Q(a,l,p,k)}modifyPosition(e,t){this._assertNotDisposed();const i=this.getOffsetAt(e)+t;return this.getPositionAt(Math.min(this._buffer.getLength(),Math.max(0,i)))}getFullModelRange(){this._assertNotDisposed();const e=this.getLineCount();return new O.Q(1,1,e,this.getLineMaxColumn(e))}findMatchesLineByLine(e,t,i,r){return this._buffer.findMatchesLineByLine(e,t,i,r)}findMatches(e,t,i,r,a,l,p=ml){this._assertNotDisposed();let k=null;t!==null&&(Array.isArray(t)||(t=[t]),t.every(ne=>O.Q.isIRange(ne))&&(k=t.map(ne=>this.validateRange(ne)))),k===null&&(k=[this.getFullModelRange()]),k=k.sort((ne,ae)=>ne.startLineNumber-ae.startLineNumber||ne.startColumn-ae.startColumn);const j=[];j.push(k.reduce((ne,ae)=>O.Q.areIntersecting(ne,ae)?ne.plusRange(ae):(j.push(ne),ae)));let Z;if(!i&&e.indexOf(`
`)<0){const ae=new Ln.lt(e,i,r,a).parseSearchRequest();if(!ae)return[];Z=s(me=>this.findMatchesLineByLine(me,ae,l,p),"matchMapper")}else Z=s(ne=>Ln.hB.findMatches(this,new Ln.lt(e,i,r,a),ne,l,p),"matchMapper");return j.map(Z).reduce((ne,ae)=>ne.concat(ae),[])}findNextMatch(e,t,i,r,a,l){this._assertNotDisposed();const p=this.validatePosition(t);if(!i&&e.indexOf(`
`)<0){const j=new Ln.lt(e,i,r,a).parseSearchRequest();if(!j)return null;const Z=this.getLineCount();let ne=new O.Q(p.lineNumber,p.column,Z,this.getLineMaxColumn(Z)),ae=this.findMatchesLineByLine(ne,j,l,1);return Ln.hB.findNextMatch(this,new Ln.lt(e,i,r,a),p,l),ae.length>0||(ne=new O.Q(1,1,p.lineNumber,this.getLineMaxColumn(p.lineNumber)),ae=this.findMatchesLineByLine(ne,j,l,1),ae.length>0)?ae[0]:null}return Ln.hB.findNextMatch(this,new Ln.lt(e,i,r,a),p,l)}findPreviousMatch(e,t,i,r,a,l){this._assertNotDisposed();const p=this.validatePosition(t);return Ln.hB.findPreviousMatch(this,new Ln.lt(e,i,r,a),p,l)}pushStackElement(){this._commandManager.pushStackElement()}popStackElement(){this._commandManager.popStackElement()}pushEOL(e){if((this.getEOL()===`
`?0:1)!==e)try{this._onDidChangeDecorations.beginDeferredEmit(),this._eventEmitter.beginDeferredEmit(),this._initialUndoRedoSnapshot===null&&(this._initialUndoRedoSnapshot=this._undoRedoService.createSnapshot(this.uri)),this._commandManager.pushEOL(e)}finally{this._eventEmitter.endDeferredEmit(),this._onDidChangeDecorations.endDeferredEmit()}}_validateEditOperation(e){return e instanceof Ct.Wo?e:new Ct.Wo(e.identifier||null,this.validateRange(e.range),e.text,e.forceMoveMarkers||!1,e.isAutoWhitespaceEdit||!1,e._isTracked||!1)}_validateEditOperations(e){const t=[];for(let i=0,r=e.length;i<r;i++)t[i]=this._validateEditOperation(e[i]);return t}pushEditOperations(e,t,i,r){try{return this._onDidChangeDecorations.beginDeferredEmit(),this._eventEmitter.beginDeferredEmit(),this._pushEditOperations(e,this._validateEditOperations(t),i,r)}finally{this._eventEmitter.endDeferredEmit(),this._onDidChangeDecorations.endDeferredEmit()}}_pushEditOperations(e,t,i,r){if(this._options.trimAutoWhitespace&&this._trimAutoWhitespaceLines){const a=t.map(p=>({range:this.validateRange(p.range),text:p.text}));let l=!0;if(e)for(let p=0,k=e.length;p<k;p++){const j=e[p];let Z=!1;for(let ne=0,ae=a.length;ne<ae;ne++){const me=a[ne].range,Le=me.startLineNumber>j.endLineNumber,Be=j.startLineNumber>me.endLineNumber;if(!Le&&!Be){Z=!0;break}}if(!Z){l=!1;break}}if(l)for(let p=0,k=this._trimAutoWhitespaceLines.length;p<k;p++){const j=this._trimAutoWhitespaceLines[p],Z=this.getLineMaxColumn(j);let ne=!0;for(let ae=0,me=a.length;ae<me;ae++){const Le=a[ae].range,Be=a[ae].text;if(!(j<Le.startLineNumber||j>Le.endLineNumber)&&!(j===Le.startLineNumber&&Le.startColumn===Z&&Le.isEmpty()&&Be&&Be.length>0&&Be.charAt(0)===`
`)&&!(j===Le.startLineNumber&&Le.startColumn===1&&Le.isEmpty()&&Be&&Be.length>0&&Be.charAt(Be.length-1)===`
`)){ne=!1;break}}if(ne){const ae=new O.Q(j,1,j,Z);t.push(new Ct.Wo(null,ae,null,!1,!1,!1))}}this._trimAutoWhitespaceLines=null}return this._initialUndoRedoSnapshot===null&&(this._initialUndoRedoSnapshot=this._undoRedoService.createSnapshot(this.uri)),this._commandManager.pushEditOperation(e,t,i,r)}_applyUndo(e,t,i,r){const a=e.map(l=>{const p=this.getPositionAt(l.newPosition),k=this.getPositionAt(l.newEnd);return{range:new O.Q(p.lineNumber,p.column,k.lineNumber,k.column),text:l.oldText}});this._applyUndoRedoEdits(a,t,!0,!1,i,r)}_applyRedo(e,t,i,r){const a=e.map(l=>{const p=this.getPositionAt(l.oldPosition),k=this.getPositionAt(l.oldEnd);return{range:new O.Q(p.lineNumber,p.column,k.lineNumber,k.column),text:l.newText}});this._applyUndoRedoEdits(a,t,!1,!0,i,r)}_applyUndoRedoEdits(e,t,i,r,a,l){try{this._onDidChangeDecorations.beginDeferredEmit(),this._eventEmitter.beginDeferredEmit(),this._isUndoing=i,this._isRedoing=r,this.applyEdits(e,!1),this.setEOL(t),this._overwriteAlternativeVersionId(a)}finally{this._isUndoing=!1,this._isRedoing=!1,this._eventEmitter.endDeferredEmit(l),this._onDidChangeDecorations.endDeferredEmit()}}applyEdits(e,t=!1){try{this._onDidChangeDecorations.beginDeferredEmit(),this._eventEmitter.beginDeferredEmit();const i=this._validateEditOperations(e);return this._doApplyEdits(i,t)}finally{this._eventEmitter.endDeferredEmit(),this._onDidChangeDecorations.endDeferredEmit()}}_doApplyEdits(e,t){const i=this._buffer.getLineCount(),r=this._buffer.applyEdits(e,this._options.trimAutoWhitespace,t),a=this._buffer.getLineCount(),l=r.changes;if(this._trimAutoWhitespaceLines=r.trimAutoWhitespaceLineNumbers,l.length!==0){for(let j=0,Z=l.length;j<Z;j++){const ne=l[j];this._decorationsTree.acceptReplace(ne.rangeOffset,ne.rangeLength,ne.text.length,ne.forceMoveMarkers)}const p=[];this._increaseVersionId();let k=i;for(let j=0,Z=l.length;j<Z;j++){const ne=l[j],[ae]=(0,T.W)(ne.text);this._onDidChangeDecorations.fire();const me=ne.range.startLineNumber,Le=ne.range.endLineNumber,Be=Le-me,Me=ae,Ke=Math.min(Be,Me),st=Me-Be,pt=a-k-st+me,yt=pt,jt=pt+Me,tn=this._decorationsTree.getInjectedTextInInterval(this,this.getOffsetAt(new P.y(yt,1)),this.getOffsetAt(new P.y(jt,this.getLineMaxColumn(jt))),0),Vt=sr.fromDecorations(tn),Ft=new Q.j3(Vt);for(let zt=Ke;zt>=0;zt--){const Dn=me+zt,un=pt+zt;Ft.takeFromEndWhile(gs=>gs.lineNumber>un);const ui=Ft.takeFromEndWhile(gs=>gs.lineNumber===un);p.push(new rr(Dn,this.getLineContent(un),ui))}if(Ke<Be){const zt=me+Ke;p.push(new Pr(zt+1,Le))}if(Ke<Me){const zt=new Q.j3(Vt),Dn=me+Ke,un=Me-Ke,ui=a-k-un+Dn+1,gs=[],ul=[];for(let Ds=0;Ds<un;Ds++){const Wa=ui+Ds;ul[Ds]=this.getLineContent(Wa),zt.takeWhile(za=>za.lineNumber<Wa),gs[Ds]=zt.takeWhile(za=>za.lineNumber===Wa)}p.push(new Wr(Dn+1,me+Me,ul,gs))}k+=st}this._emitContentChangedEvent(new us(p,this.getVersionId(),this._isUndoing,this._isRedoing),{changes:l,eol:this._buffer.getEOL(),isEolChange:!1,versionId:this.getVersionId(),isUndoing:this._isUndoing,isRedoing:this._isRedoing,isFlush:!1})}return r.reverseEdits===null?void 0:r.reverseEdits}undo(){return this._undoRedoService.undo(this.uri)}canUndo(){return this._undoRedoService.canUndo(this.uri)}redo(){return this._undoRedoService.redo(this.uri)}canRedo(){return this._undoRedoService.canRedo(this.uri)}handleBeforeFireDecorationsChangedEvent(e){if(e===null||e.size===0)return;const i=Array.from(e).map(r=>new rr(r,this.getLineContent(r),this._getInjectedTextInLine(r)));this._onDidChangeInjectedText.fire(new Ur(i))}changeDecorations(e,t=0){this._assertNotDisposed();try{return this._onDidChangeDecorations.beginDeferredEmit(),this._changeDecorations(t,e)}finally{this._onDidChangeDecorations.endDeferredEmit()}}_changeDecorations(e,t){const i={addDecoration:s((a,l)=>this._deltaDecorationsImpl(e,[],[{range:a,options:l}])[0],"addDecoration"),changeDecoration:s((a,l)=>{this._changeDecorationImpl(a,l)},"changeDecoration"),changeDecorationOptions:s((a,l)=>{this._changeDecorationOptionsImpl(a,ll(l))},"changeDecorationOptions"),removeDecoration:s(a=>{this._deltaDecorationsImpl(e,[a],[])},"removeDecoration"),deltaDecorations:s((a,l)=>a.length===0&&l.length===0?[]:this._deltaDecorationsImpl(e,a,l),"deltaDecorations")};let r=null;try{r=t(i)}catch(a){(0,E.dz)(a)}return i.addDecoration=Ls,i.changeDecoration=Ls,i.changeDecorationOptions=Ls,i.removeDecoration=Ls,i.deltaDecorations=Ls,r}deltaDecorations(e,t,i=0){if(this._assertNotDisposed(),e||(e=[]),e.length===0&&t.length===0)return[];try{return this._deltaDecorationCallCnt++,this._deltaDecorationCallCnt>1&&(console.warn("Invoking deltaDecorations recursively could lead to leaking decorations."),(0,E.dz)(new Error("Invoking deltaDecorations recursively could lead to leaking decorations."))),this._onDidChangeDecorations.beginDeferredEmit(),this._deltaDecorationsImpl(i,e,t)}finally{this._onDidChangeDecorations.endDeferredEmit(),this._deltaDecorationCallCnt--}}_getTrackedRange(e){return this.getDecorationRange(e)}_setTrackedRange(e,t,i){const r=e?this._decorations[e]:null;if(!r)return t?this._deltaDecorationsImpl(0,[],[{range:t,options:al[i]}],!0)[0]:null;if(!t)return this._decorationsTree.delete(r),delete this._decorations[r.id],null;const a=this._validateRangeRelaxedNoAllocations(t),l=this._buffer.getOffsetAt(a.startLineNumber,a.startColumn),p=this._buffer.getOffsetAt(a.endLineNumber,a.endColumn);return this._decorationsTree.delete(r),r.reset(this.getVersionId(),l,p,a),r.setOptions(al[i]),this._decorationsTree.insert(r),r.id}removeAllDecorationsWithOwnerId(e){if(this._isDisposed)return;const t=this._decorationsTree.collectNodesFromOwner(e);for(let i=0,r=t.length;i<r;i++){const a=t[i];this._decorationsTree.delete(a),delete this._decorations[a.id]}}getDecorationOptions(e){const t=this._decorations[e];return t?t.options:null}getDecorationRange(e){const t=this._decorations[e];return t?this._decorationsTree.getNodeRange(this,t):null}getLineDecorations(e,t=0,i=!1){return e<1||e>this.getLineCount()?[]:this.getLinesDecorations(e,e,t,i)}getLinesDecorations(e,t,i=0,r=!1,a=!1){const l=this.getLineCount(),p=Math.min(l,Math.max(1,e)),k=Math.min(l,Math.max(1,t)),j=this.getLineMaxColumn(k),Z=new O.Q(p,1,k,j),ne=this._getDecorationsInRange(Z,i,r,a);return(0,Q.E4)(ne,this._decorationProvider.getDecorationsInRange(Z,i,r)),ne}getDecorationsInRange(e,t=0,i=!1,r=!1,a=!1){const l=this.validateRange(e),p=this._getDecorationsInRange(l,t,i,a);return(0,Q.E4)(p,this._decorationProvider.getDecorationsInRange(l,t,i,r)),p}getOverviewRulerDecorations(e=0,t=!1){return this._decorationsTree.getAll(this,e,t,!0,!1)}getInjectedTextDecorations(e=0){return this._decorationsTree.getAllInjectedText(this,e)}_getInjectedTextInLine(e){const t=this._buffer.getOffsetAt(e,1),i=t+this._buffer.getLineLength(e),r=this._decorationsTree.getInjectedTextInInterval(this,t,i,0);return sr.fromDecorations(r).filter(a=>a.lineNumber===e)}getAllDecorations(e=0,t=!1){let i=this._decorationsTree.getAll(this,e,t,!1,!1);return i=i.concat(this._decorationProvider.getAllDecorations(e,t)),i}getAllMarginDecorations(e=0){return this._decorationsTree.getAll(this,e,!1,!1,!0)}_getDecorationsInRange(e,t,i,r){const a=this._buffer.getOffsetAt(e.startLineNumber,e.startColumn),l=this._buffer.getOffsetAt(e.endLineNumber,e.endColumn);return this._decorationsTree.getAllInInterval(this,a,l,t,i,r)}getRangeAt(e,t){return this._buffer.getRangeAt(e,t-e)}_changeDecorationImpl(e,t){const i=this._decorations[e];if(!i)return;if(i.options.after){const p=this.getDecorationRange(e);this._onDidChangeDecorations.recordLineAffectedByInjectedText(p.endLineNumber)}if(i.options.before){const p=this.getDecorationRange(e);this._onDidChangeDecorations.recordLineAffectedByInjectedText(p.startLineNumber)}const r=this._validateRangeRelaxedNoAllocations(t),a=this._buffer.getOffsetAt(r.startLineNumber,r.startColumn),l=this._buffer.getOffsetAt(r.endLineNumber,r.endColumn);this._decorationsTree.delete(i),i.reset(this.getVersionId(),a,l,r),this._decorationsTree.insert(i),this._onDidChangeDecorations.checkAffectedAndFire(i.options),i.options.after&&this._onDidChangeDecorations.recordLineAffectedByInjectedText(r.endLineNumber),i.options.before&&this._onDidChangeDecorations.recordLineAffectedByInjectedText(r.startLineNumber)}_changeDecorationOptionsImpl(e,t){const i=this._decorations[e];if(!i)return;const r=!!(i.options.overviewRuler&&i.options.overviewRuler.color),a=!!(t.overviewRuler&&t.overviewRuler.color);if(this._onDidChangeDecorations.checkAffectedAndFire(i.options),this._onDidChangeDecorations.checkAffectedAndFire(t),i.options.after||t.after){const k=this._decorationsTree.getNodeRange(this,i);this._onDidChangeDecorations.recordLineAffectedByInjectedText(k.endLineNumber)}if(i.options.before||t.before){const k=this._decorationsTree.getNodeRange(this,i);this._onDidChangeDecorations.recordLineAffectedByInjectedText(k.startLineNumber)}const l=r!==a,p=bl(t)!==lr(i);l||p?(this._decorationsTree.delete(i),i.setOptions(t),this._decorationsTree.insert(i)):i.setOptions(t)}_deltaDecorationsImpl(e,t,i,r=!1){const a=this.getVersionId(),l=t.length;let p=0;const k=i.length;let j=0;this._onDidChangeDecorations.beginDeferredEmit();try{const Z=new Array(k);for(;p<l||j<k;){let ne=null;if(p<l){do ne=this._decorations[t[p++]];while(!ne&&p<l);if(ne){if(ne.options.after){const ae=this._decorationsTree.getNodeRange(this,ne);this._onDidChangeDecorations.recordLineAffectedByInjectedText(ae.endLineNumber)}if(ne.options.before){const ae=this._decorationsTree.getNodeRange(this,ne);this._onDidChangeDecorations.recordLineAffectedByInjectedText(ae.startLineNumber)}this._decorationsTree.delete(ne),r||this._onDidChangeDecorations.checkAffectedAndFire(ne.options)}}if(j<k){if(!ne){const Ke=++this._lastDecorationId,st=`${this._instanceId};${Ke}`;ne=new Ei(st,0,0),this._decorations[st]=ne}const ae=i[j],me=this._validateRangeRelaxedNoAllocations(ae.range),Le=ll(ae.options),Be=this._buffer.getOffsetAt(me.startLineNumber,me.startColumn),Me=this._buffer.getOffsetAt(me.endLineNumber,me.endColumn);ne.ownerId=e,ne.reset(a,Be,Me,me),ne.setOptions(Le),ne.options.after&&this._onDidChangeDecorations.recordLineAffectedByInjectedText(me.endLineNumber),ne.options.before&&this._onDidChangeDecorations.recordLineAffectedByInjectedText(me.startLineNumber),r||this._onDidChangeDecorations.checkAffectedAndFire(Le),this._decorationsTree.insert(ne),Z[j]=ne.id,j++}else ne&&delete this._decorations[ne.id]}return Z}finally{this._onDidChangeDecorations.endDeferredEmit()}}getLanguageId(){return this.tokenization.getLanguageId()}setLanguage(e,t){typeof e=="string"?(this._languageSelectionListener.clear(),this._setLanguage(e,t)):(this._languageSelectionListener.value=e.onDidChange(()=>this._setLanguage(e.languageId,t)),this._setLanguage(e.languageId,t))}_setLanguage(e,t){this.tokenization.setLanguageId(e,t),this._languageService.requestRichLanguageFeatures(e)}getLanguageIdAtPosition(e,t){return this.tokenization.getLanguageIdAtPosition(e,t)}getWordAtPosition(e){return this._tokenizationTextModelPart.getWordAtPosition(e)}getWordUntilPosition(e){return this._tokenizationTextModelPart.getWordUntilPosition(e)}normalizePosition(e,t){return e}getLineIndentColumn(e){return _l(this.getLineContent(e))+1}},s(ni,"TextModel"),Hi=ni,ni._MODEL_SYNC_LIMIT=50*1024*1024,ni.LARGE_FILE_SIZE_THRESHOLD=20*1024*1024,ni.LARGE_FILE_LINE_COUNT_THRESHOLD=300*1e3,ni.LARGE_FILE_HEAP_OPERATION_THRESHOLD=256*1024*1024,ni.DEFAULT_CREATION_OPTIONS={isForSimpleWidget:!1,tabSize:g.tabSize,indentSize:g.indentSize,insertSpaces:g.insertSpaces,detectIndentation:!1,defaultEOL:1,trimAutoWhitespace:g.trimAutoWhitespace,largeFileOptimizations:g.largeFileOptimizations,bracketPairColorizationOptions:g.bracketPairColorizationOptions},ni);jr=Hi=dl([or(4,nl),or(5,ee.L),or(6,Yt),or(7,$t._Y)],jr);function _l(_){let e=0;for(const t of _)if(t===" "||t==="	")e++;else break;return e}s(_l,"indentOfLine");function $r(_){return!!(_.options.overviewRuler&&_.options.overviewRuler.color)}s($r,"isNodeInOverviewRuler");function bl(_){return!!_.after||!!_.before}s(bl,"isOptionsInjectedText");function lr(_){return!!_.options.after||!!_.options.before}s(lr,"isNodeInjectedText");const Aa=class Aa{constructor(){this._decorationsTree0=new Zi,this._decorationsTree1=new Zi,this._injectedTextDecorationsTree=new Zi}ensureAllNodesHaveRanges(e){this.getAll(e,0,!1,!1,!1)}_ensureNodesHaveRanges(e,t){for(const i of t)i.range===null&&(i.range=e.getRangeAt(i.cachedAbsoluteStart,i.cachedAbsoluteEnd));return t}getAllInInterval(e,t,i,r,a,l){const p=e.getVersionId(),k=this._intervalSearch(t,i,r,a,p,l);return this._ensureNodesHaveRanges(e,k)}_intervalSearch(e,t,i,r,a,l){const p=this._decorationsTree0.intervalSearch(e,t,i,r,a,l),k=this._decorationsTree1.intervalSearch(e,t,i,r,a,l),j=this._injectedTextDecorationsTree.intervalSearch(e,t,i,r,a,l);return p.concat(k).concat(j)}getInjectedTextInInterval(e,t,i,r){const a=e.getVersionId(),l=this._injectedTextDecorationsTree.intervalSearch(t,i,r,!1,a,!1);return this._ensureNodesHaveRanges(e,l).filter(p=>p.options.showIfCollapsed||!p.range.isEmpty())}getAllInjectedText(e,t){const i=e.getVersionId(),r=this._injectedTextDecorationsTree.search(t,!1,i,!1);return this._ensureNodesHaveRanges(e,r).filter(a=>a.options.showIfCollapsed||!a.range.isEmpty())}getAll(e,t,i,r,a){const l=e.getVersionId(),p=this._search(t,i,r,l,a);return this._ensureNodesHaveRanges(e,p)}_search(e,t,i,r,a){if(i)return this._decorationsTree1.search(e,t,r,a);{const l=this._decorationsTree0.search(e,t,r,a),p=this._decorationsTree1.search(e,t,r,a),k=this._injectedTextDecorationsTree.search(e,t,r,a);return l.concat(p).concat(k)}}collectNodesFromOwner(e){const t=this._decorationsTree0.collectNodesFromOwner(e),i=this._decorationsTree1.collectNodesFromOwner(e),r=this._injectedTextDecorationsTree.collectNodesFromOwner(e);return t.concat(i).concat(r)}collectNodesPostOrder(){const e=this._decorationsTree0.collectNodesPostOrder(),t=this._decorationsTree1.collectNodesPostOrder(),i=this._injectedTextDecorationsTree.collectNodesPostOrder();return e.concat(t).concat(i)}insert(e){lr(e)?this._injectedTextDecorationsTree.insert(e):$r(e)?this._decorationsTree1.insert(e):this._decorationsTree0.insert(e)}delete(e){lr(e)?this._injectedTextDecorationsTree.delete(e):$r(e)?this._decorationsTree1.delete(e):this._decorationsTree0.delete(e)}getNodeRange(e,t){const i=e.getVersionId();return t.cachedVersionId!==i&&this._resolveNode(t,i),t.range===null&&(t.range=e.getRangeAt(t.cachedAbsoluteStart,t.cachedAbsoluteEnd)),t.range}_resolveNode(e,t){lr(e)?this._injectedTextDecorationsTree.resolveNode(e,t):$r(e)?this._decorationsTree1.resolveNode(e,t):this._decorationsTree0.resolveNode(e,t)}acceptReplace(e,t,i,r){this._decorationsTree0.acceptReplace(e,t,i,r),this._decorationsTree1.acceptReplace(e,t,i,r),this._injectedTextDecorationsTree.acceptReplace(e,t,i,r)}};s(Aa,"DecorationsTrees");let ur=Aa;function bi(_){return _.replace(/[^a-z0-9\-_]/gi," ")}s(bi,"cleanClassName");const Ta=class Ta{constructor(e){this.color=e.color||"",this.darkColor=e.darkColor||""}};s(Ta,"DecorationOptions");let cr=Ta;const Ba=class Ba extends cr{constructor(e){super(e),this._resolvedColor=null,this.position=typeof e.position=="number"?e.position:Ct.A5.Center}getColor(e){return this._resolvedColor||(e.type!=="light"&&this.darkColor?this._resolvedColor=this._resolveColor(this.darkColor,e):this._resolvedColor=this._resolveColor(this.color,e)),this._resolvedColor}invalidateCachedColor(){this._resolvedColor=null}_resolveColor(e,t){if(typeof e=="string")return e;const i=e?t.getColor(e.id):null;return i?i.toString():""}};s(Ba,"ModelDecorationOverviewRulerOptions");let Gr=Ba;const Da=class Da{constructor(e){var t;this.position=(t=e==null?void 0:e.position)!=null?t:Ct.ZS.Center,this.persistLane=e==null?void 0:e.persistLane}};s(Da,"ModelDecorationGlyphMarginOptions");let Qr=Da;const Ra=class Ra extends cr{constructor(e){var t,i;super(e),this.position=e.position,this.sectionHeaderStyle=(t=e.sectionHeaderStyle)!=null?t:null,this.sectionHeaderText=(i=e.sectionHeaderText)!=null?i:null}getColor(e){return this._resolvedColor||(e.type!=="light"&&this.darkColor?this._resolvedColor=this._resolveColor(this.darkColor,e):this._resolvedColor=this._resolveColor(this.color,e)),this._resolvedColor}invalidateCachedColor(){this._resolvedColor=void 0}_resolveColor(e,t){return typeof e=="string"?V.Q1.fromHex(e):t.getColor(e.id)}};s(Ra,"ModelDecorationMinimapOptions");let qr=Ra;const As=class As{static from(e){return e instanceof As?e:new As(e)}constructor(e){this.content=e.content||"",this.inlineClassName=e.inlineClassName||null,this.inlineClassNameAffectsLetterSpacing=e.inlineClassNameAffectsLetterSpacing||!1,this.attachedData=e.attachedData||null,this.cursorStops=e.cursorStops||null}};s(As,"ModelDecorationInjectedTextOptions");let hr=As;const Ts=class Ts{static register(e){return new Ts(e)}static createDynamic(e){return new Ts(e)}constructor(e){var t,i,r,a,l,p;this.description=e.description,this.blockClassName=e.blockClassName?bi(e.blockClassName):null,this.blockDoesNotCollapse=(t=e.blockDoesNotCollapse)!=null?t:null,this.blockIsAfterEnd=(i=e.blockIsAfterEnd)!=null?i:null,this.blockPadding=(r=e.blockPadding)!=null?r:null,this.stickiness=e.stickiness||0,this.zIndex=e.zIndex||0,this.className=e.className?bi(e.className):null,this.shouldFillLineOnLineBreak=(a=e.shouldFillLineOnLineBreak)!=null?a:null,this.hoverMessage=e.hoverMessage||null,this.glyphMarginHoverMessage=e.glyphMarginHoverMessage||null,this.lineNumberHoverMessage=e.lineNumberHoverMessage||null,this.isWholeLine=e.isWholeLine||!1,this.showIfCollapsed=e.showIfCollapsed||!1,this.collapseOnReplaceEdit=e.collapseOnReplaceEdit||!1,this.overviewRuler=e.overviewRuler?new Gr(e.overviewRuler):null,this.minimap=e.minimap?new qr(e.minimap):null,this.glyphMargin=e.glyphMarginClassName?new Qr(e.glyphMargin):null,this.glyphMarginClassName=e.glyphMarginClassName?bi(e.glyphMarginClassName):null,this.linesDecorationsClassName=e.linesDecorationsClassName?bi(e.linesDecorationsClassName):null,this.lineNumberClassName=e.lineNumberClassName?bi(e.lineNumberClassName):null,this.linesDecorationsTooltip=e.linesDecorationsTooltip?u.jy(e.linesDecorationsTooltip):null,this.firstLineDecorationClassName=e.firstLineDecorationClassName?bi(e.firstLineDecorationClassName):null,this.marginClassName=e.marginClassName?bi(e.marginClassName):null,this.inlineClassName=e.inlineClassName?bi(e.inlineClassName):null,this.inlineClassNameAffectsLetterSpacing=e.inlineClassNameAffectsLetterSpacing||!1,this.beforeContentClassName=e.beforeContentClassName?bi(e.beforeContentClassName):null,this.afterContentClassName=e.afterContentClassName?bi(e.afterContentClassName):null,this.after=e.after?hr.from(e.after):null,this.before=e.before?hr.from(e.before):null,this.hideInCommentTokens=(l=e.hideInCommentTokens)!=null?l:!1,this.hideInStringTokens=(p=e.hideInStringTokens)!=null?p:!1}};s(Ts,"ModelDecorationOptions");let ki=Ts;ki.EMPTY=ki.register({description:"empty"});const al=[ki.register({description:"tracked-range-always-grows-when-typing-at-edges",stickiness:0}),ki.register({description:"tracked-range-never-grows-when-typing-at-edges",stickiness:1}),ki.register({description:"tracked-range-grows-only-when-typing-before",stickiness:2}),ki.register({description:"tracked-range-grows-only-when-typing-after",stickiness:3})];function ll(_){return _ instanceof ki?_:ki.createDynamic(_)}s(ll,"_normalizeOptions");const Ma=class Ma extends K.jG{constructor(e){super(),this.handleBeforeFire=e,this._actual=this._register(new N.vl),this.event=this._actual.event,this._affectedInjectedTextLines=null,this._deferredCnt=0,this._shouldFireDeferred=!1,this._affectsMinimap=!1,this._affectsOverviewRuler=!1,this._affectsGlyphMargin=!1,this._affectsLineNumber=!1}beginDeferredEmit(){this._deferredCnt++}endDeferredEmit(){var e;this._deferredCnt--,this._deferredCnt===0&&(this._shouldFireDeferred&&this.doFire(),(e=this._affectedInjectedTextLines)==null||e.clear(),this._affectedInjectedTextLines=null)}recordLineAffectedByInjectedText(e){this._affectedInjectedTextLines||(this._affectedInjectedTextLines=new Set),this._affectedInjectedTextLines.add(e)}checkAffectedAndFire(e){var t,i;this._affectsMinimap||(this._affectsMinimap=!!((t=e.minimap)!=null&&t.position)),this._affectsOverviewRuler||(this._affectsOverviewRuler=!!((i=e.overviewRuler)!=null&&i.color)),this._affectsGlyphMargin||(this._affectsGlyphMargin=!!e.glyphMarginClassName),this._affectsLineNumber||(this._affectsLineNumber=!!e.lineNumberClassName),this.tryFire()}fire(){this._affectsMinimap=!0,this._affectsOverviewRuler=!0,this._affectsGlyphMargin=!0,this.tryFire()}tryFire(){this._deferredCnt===0?this.doFire():this._shouldFireDeferred=!0}doFire(){this.handleBeforeFire(this._affectedInjectedTextLines);const e={affectsMinimap:this._affectsMinimap,affectsOverviewRuler:this._affectsOverviewRuler,affectsGlyphMargin:this._affectsGlyphMargin,affectsLineNumber:this._affectsLineNumber};this._shouldFireDeferred=!1,this._affectsMinimap=!1,this._affectsOverviewRuler=!1,this._affectsGlyphMargin=!1,this._actual.fire(e)}};s(Ma,"DidChangeDecorationsEmitter");let Yr=Ma;const Oa=class Oa extends K.jG{constructor(){super(),this._fastEmitter=this._register(new N.vl),this.fastEvent=this._fastEmitter.event,this._slowEmitter=this._register(new N.vl),this.slowEvent=this._slowEmitter.event,this._deferredCnt=0,this._deferredEvent=null}beginDeferredEmit(){this._deferredCnt++}endDeferredEmit(e=null){if(this._deferredCnt--,this._deferredCnt===0&&this._deferredEvent!==null){this._deferredEvent.rawContentChangedEvent.resultingSelection=e;const t=this._deferredEvent;this._deferredEvent=null,this._fastEmitter.fire(t),this._slowEmitter.fire(t)}}fire(e){if(this._deferredCnt>0){this._deferredEvent?this._deferredEvent=this._deferredEvent.merge(e):this._deferredEvent=e;return}this._fastEmitter.fire(e),this._slowEmitter.fire(e)}};s(Oa,"DidChangeContentEmitter");let Kr=Oa;var kl=v(1504),Cl=v(2344),dr=v(3072),vl=v(1386),Ll=function(_,e,t,i){var r=arguments.length,a=r<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,l;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")a=Reflect.decorate(_,e,t,i);else for(var p=_.length-1;p>=0;p--)(l=_[p])&&(a=(r<3?l(a):r>3?l(e,t,a):l(e,t))||a);return r>3&&a&&Object.defineProperty(e,t,a),a},fr=function(_,e){return function(t,i){e(t,i,_)}},cs;function ji(_){return _.toString()}s(ji,"modelService_MODEL_ID");const Fa=class Fa{constructor(e,t,i){this.model=e,this._modelEventListeners=new K.Cm,this.model=e,this._modelEventListeners.add(e.onWillDispose(()=>t(e))),this._modelEventListeners.add(e.onDidChangeLanguage(r=>i(e,r)))}dispose(){this._modelEventListeners.dispose()}};s(Fa,"ModelData");let Xr=Fa;const xl=o.j9||o.zx?1:2,Pa=class Pa{constructor(e,t,i,r,a,l,p,k){this.uri=e,this.initialUndoRedoSnapshot=t,this.time=i,this.sharesUndoRedoStack=r,this.heapSize=a,this.sha1=l,this.versionId=p,this.alternativeVersionId=k}};s(Pa,"DisposedModelInfo");let Zr=Pa,Jr=(Fi=class extends K.jG{constructor(e,t,i,r){super(),this._configurationService=e,this._resourcePropertiesService=t,this._undoRedoService=i,this._instantiationService=r,this._onModelAdded=this._register(new N.vl),this.onModelAdded=this._onModelAdded.event,this._onModelRemoved=this._register(new N.vl),this.onModelRemoved=this._onModelRemoved.event,this._onModelModeChanged=this._register(new N.vl),this.onModelLanguageChanged=this._onModelModeChanged.event,this._modelCreationOptionsByLanguageAndResource=Object.create(null),this._models={},this._disposedModels=new Map,this._disposedModelsHeapSize=0,this._register(this._configurationService.onDidChangeConfiguration(a=>this._updateModelOptions(a))),this._updateModelOptions(void 0)}static _readModelOptions(e,t){var ae;let i=g.tabSize;if(e.editor&&typeof e.editor.tabSize!="undefined"){const me=parseInt(e.editor.tabSize,10);isNaN(me)||(i=me),i<1&&(i=1)}let r="tabSize";if(e.editor&&typeof e.editor.indentSize!="undefined"&&e.editor.indentSize!=="tabSize"){const me=parseInt(e.editor.indentSize,10);isNaN(me)||(r=Math.max(me,1))}let a=g.insertSpaces;e.editor&&typeof e.editor.insertSpaces!="undefined"&&(a=e.editor.insertSpaces==="false"?!1:!!e.editor.insertSpaces);let l=xl;const p=e.eol;p===`\r
`?l=2:p===`
`&&(l=1);let k=g.trimAutoWhitespace;e.editor&&typeof e.editor.trimAutoWhitespace!="undefined"&&(k=e.editor.trimAutoWhitespace==="false"?!1:!!e.editor.trimAutoWhitespace);let j=g.detectIndentation;e.editor&&typeof e.editor.detectIndentation!="undefined"&&(j=e.editor.detectIndentation==="false"?!1:!!e.editor.detectIndentation);let Z=g.largeFileOptimizations;e.editor&&typeof e.editor.largeFileOptimizations!="undefined"&&(Z=e.editor.largeFileOptimizations==="false"?!1:!!e.editor.largeFileOptimizations);let ne=g.bracketPairColorizationOptions;return(ae=e.editor)!=null&&ae.bracketPairColorization&&typeof e.editor.bracketPairColorization=="object"&&(ne={enabled:!!e.editor.bracketPairColorization.enabled,independentColorPoolPerBracketType:!!e.editor.bracketPairColorization.independentColorPoolPerBracketType}),{isForSimpleWidget:t,tabSize:i,indentSize:r,insertSpaces:a,detectIndentation:j,defaultEOL:l,trimAutoWhitespace:k,largeFileOptimizations:Z,bracketPairColorizationOptions:ne}}_getEOL(e,t){if(e)return this._resourcePropertiesService.getEOL(e,t);const i=this._configurationService.getValue("files.eol",{overrideIdentifier:t});return i&&typeof i=="string"&&i!=="auto"?i:o.OS===3||o.OS===2?`
`:`\r
`}_shouldRestoreUndoStack(){const e=this._configurationService.getValue("files.restoreUndoStack");return typeof e=="boolean"?e:!0}getCreationOptions(e,t,i){const r=typeof e=="string"?e:e.languageId;let a=this._modelCreationOptionsByLanguageAndResource[r+t];if(!a){const l=this._configurationService.getValue("editor",{overrideIdentifier:r,resource:t}),p=this._getEOL(t,r);a=cs._readModelOptions({editor:l,eol:p},i),this._modelCreationOptionsByLanguageAndResource[r+t]=a}return a}_updateModelOptions(e){const t=this._modelCreationOptionsByLanguageAndResource;this._modelCreationOptionsByLanguageAndResource=Object.create(null);const i=Object.keys(this._models);for(let r=0,a=i.length;r<a;r++){const l=i[r],p=this._models[l],k=p.model.getLanguageId(),j=p.model.uri;if(e&&!e.affectsConfiguration("editor",{overrideIdentifier:k,resource:j})&&!e.affectsConfiguration("files.eol",{overrideIdentifier:k,resource:j}))continue;const Z=t[k+j],ne=this.getCreationOptions(k,j,p.model.isForSimpleWidget);cs._setModelOptionsForModel(p.model,ne,Z)}}static _setModelOptionsForModel(e,t,i){i&&i.defaultEOL!==t.defaultEOL&&e.getLineCount()===1&&e.setEOL(t.defaultEOL===1?0:1),!(i&&i.detectIndentation===t.detectIndentation&&i.insertSpaces===t.insertSpaces&&i.tabSize===t.tabSize&&i.indentSize===t.indentSize&&i.trimAutoWhitespace===t.trimAutoWhitespace&&(0,vl.aI)(i.bracketPairColorizationOptions,t.bracketPairColorizationOptions))&&(t.detectIndentation?(e.detectIndentation(t.insertSpaces,t.tabSize),e.updateOptions({trimAutoWhitespace:t.trimAutoWhitespace,bracketColorizationOptions:t.bracketPairColorizationOptions})):e.updateOptions({insertSpaces:t.insertSpaces,tabSize:t.tabSize,indentSize:t.indentSize,trimAutoWhitespace:t.trimAutoWhitespace,bracketColorizationOptions:t.bracketPairColorizationOptions}))}_insertDisposedModel(e){this._disposedModels.set(ji(e.uri),e),this._disposedModelsHeapSize+=e.heapSize}_removeDisposedModel(e){const t=this._disposedModels.get(ji(e));return t&&(this._disposedModelsHeapSize-=t.heapSize),this._disposedModels.delete(ji(e)),t}_ensureDisposedModelsHeapSize(e){if(this._disposedModelsHeapSize>e){const t=[];for(this._disposedModels.forEach(i=>{i.sharesUndoRedoStack||t.push(i)}),t.sort((i,r)=>i.time-r.time);t.length>0&&this._disposedModelsHeapSize>e;){const i=t.shift();this._removeDisposedModel(i.uri),i.initialUndoRedoSnapshot!==null&&this._undoRedoService.restoreSnapshot(i.initialUndoRedoSnapshot)}}}_createModelData(e,t,i,r){const a=this.getCreationOptions(t,i,r),l=this._instantiationService.createInstance(jr,e,t,a,i);if(i&&this._disposedModels.has(ji(i))){const j=this._removeDisposedModel(i),Z=this._undoRedoService.getElements(i),ne=this._getSHA1Computer(),ae=ne.canComputeSHA1(l)?ne.computeSHA1(l)===j.sha1:!1;if(ae||j.sharesUndoRedoStack){for(const me of Z.past)Ie(me)&&me.matchesResource(i)&&me.setModel(l);for(const me of Z.future)Ie(me)&&me.matchesResource(i)&&me.setModel(l);this._undoRedoService.setElementsValidFlag(i,!0,me=>Ie(me)&&me.matchesResource(i)),ae&&(l._overwriteVersionId(j.versionId),l._overwriteAlternativeVersionId(j.alternativeVersionId),l._overwriteInitialUndoRedoSnapshot(j.initialUndoRedoSnapshot))}else j.initialUndoRedoSnapshot!==null&&this._undoRedoService.restoreSnapshot(j.initialUndoRedoSnapshot)}const p=ji(l.uri);if(this._models[p])throw new Error("ModelService: Cannot add model because it already exists!");const k=new Xr(l,j=>this._onWillDispose(j),(j,Z)=>this._onDidChangeLanguage(j,Z));return this._models[p]=k,k}createModel(e,t,i,r=!1){let a;return t?a=this._createModelData(e,t,i,r):a=this._createModelData(e,Rt.vH,i,r),this._onModelAdded.fire(a.model),a.model}getModels(){const e=[],t=Object.keys(this._models);for(let i=0,r=t.length;i<r;i++){const a=t[i];e.push(this._models[a].model)}return e}getModel(e){const t=ji(e),i=this._models[t];return i?i.model:null}_schemaShouldMaintainUndoRedoElements(e){return e.scheme===dr.ny.file||e.scheme===dr.ny.vscodeRemote||e.scheme===dr.ny.vscodeUserData||e.scheme===dr.ny.vscodeNotebookCell||e.scheme==="fake-fs"}_onWillDispose(e){const t=ji(e.uri),i=this._models[t],r=this._undoRedoService.getUriComparisonKey(e.uri)!==e.uri.toString();let a=!1,l=0;if(r||this._shouldRestoreUndoStack()&&this._schemaShouldMaintainUndoRedoElements(e.uri)){const j=this._undoRedoService.getElements(e.uri);if(j.past.length>0||j.future.length>0){for(const Z of j.past)Ie(Z)&&Z.matchesResource(e.uri)&&(a=!0,l+=Z.heapSize(e.uri),Z.setModel(e.uri));for(const Z of j.future)Ie(Z)&&Z.matchesResource(e.uri)&&(a=!0,l+=Z.heapSize(e.uri),Z.setModel(e.uri))}}const p=cs.MAX_MEMORY_FOR_CLOSED_FILES_UNDO_STACK,k=this._getSHA1Computer();if(a)if(!r&&(l>p||!k.canComputeSHA1(e))){const j=i.model.getInitialUndoRedoSnapshot();j!==null&&this._undoRedoService.restoreSnapshot(j)}else this._ensureDisposedModelsHeapSize(p-l),this._undoRedoService.setElementsValidFlag(e.uri,!1,j=>Ie(j)&&j.matchesResource(e.uri)),this._insertDisposedModel(new Zr(e.uri,i.model.getInitialUndoRedoSnapshot(),Date.now(),r,l,k.computeSHA1(e),e.getVersionId(),e.getAlternativeVersionId()));else if(!r){const j=i.model.getInitialUndoRedoSnapshot();j!==null&&this._undoRedoService.restoreSnapshot(j)}delete this._models[t],i.dispose(),delete this._modelCreationOptionsByLanguageAndResource[e.getLanguageId()+e.uri],this._onModelRemoved.fire(e)}_onDidChangeLanguage(e,t){const i=t.oldLanguage,r=e.getLanguageId(),a=this.getCreationOptions(i,e.uri,e.isForSimpleWidget),l=this.getCreationOptions(r,e.uri,e.isForSimpleWidget);cs._setModelOptionsForModel(e,l,a),this._onModelModeChanged.fire({model:e,oldLanguageId:i})}_getSHA1Computer(){return new gr}},s(Fi,"ModelService"),cs=Fi,Fi.MAX_MEMORY_FOR_CLOSED_FILES_UNDO_STACK=20*1024*1024,Fi);Jr=cs=Ll([fr(0,Pt.pG),fr(1,kl.ITextResourcePropertiesService),fr(2,nl),fr(3,$t._Y)],Jr);const Bs=class Bs{canComputeSHA1(e){return e.getValueLength()<=Bs.MAX_MODEL_SIZE}computeSHA1(e){const t=new Cl.v7,i=e.createSnapshot();let r;for(;r=i.read();)t.update(r);return t.digest()}};s(Bs,"DefaultModelSHA1Computer"),Bs.MAX_MODEL_SIZE=10485760;let gr=Bs},7042:(qe,Ce,v)=>{"use strict";v.r(Ce),v.d(Ce,{ITextModelService:s(()=>K,"ITextModelService")});var N=v(2399);const K=(0,N.u1)("textModelService")},9376:(qe,Ce,v)=>{"use strict";v.r(Ce),v.d(Ce,{encodeSemanticTokensDto:s(()=>V,"encodeSemanticTokensDto")});var N=v(2802),K=v(3339);function o(u){for(let G=0,T=u.length;G<T;G+=4){const Y=u[G+0],y=u[G+1],W=u[G+2],P=u[G+3];u[G+0]=P,u[G+1]=W,u[G+2]=y,u[G+3]=Y}}s(o,"reverseEndianness");function Q(u){const G=new Uint8Array(u.buffer,u.byteOffset,u.length*4);return K.cm()||o(G),N.MB.wrap(G)}s(Q,"toLittleEndianBuffer");function V(u){const G=new Uint32Array(E(u));let T=0;if(G[T++]=u.id,u.type==="full")G[T++]=1,G[T++]=u.data.length,G.set(u.data,T),T+=u.data.length;else{G[T++]=2,G[T++]=u.deltas.length;for(const Y of u.deltas)G[T++]=Y.start,G[T++]=Y.deleteCount,Y.data?(G[T++]=Y.data.length,G.set(Y.data,T),T+=Y.data.length):G[T++]=0}return Q(G)}s(V,"encodeSemanticTokensDto");function E(u){let G=0;if(G+=2,u.type==="full")G+=1+u.data.length;else{G+=1,G+=3*u.deltas.length;for(const T of u.deltas)T.data&&(G+=T.data.length)}return G}s(E,"encodeSemanticTokensDtoSize")},9520:(qe,Ce,v)=>{"use strict";var ie;v.r(Ce),v.d(Ce,{SemanticTokensProviderStyling:s(()=>O,"SemanticTokensProviderStyling"),toMultilineTokens2:s(()=>M,"toMultilineTokens2")});var N=v(5910),K=v(5295),o=v(9950),Q=v(5365),V=v(8061),E=v(3902);const H=class H{static create(I,c){return new H(I,new G(c))}get startLineNumber(){return this._startLineNumber}get endLineNumber(){return this._endLineNumber}constructor(I,c){this._startLineNumber=I,this._tokens=c,this._endLineNumber=this._startLineNumber+this._tokens.getMaxDeltaLine()}toString(){return this._tokens.toString(this._startLineNumber)}_updateEndLineNumber(){this._endLineNumber=this._startLineNumber+this._tokens.getMaxDeltaLine()}isEmpty(){return this._tokens.isEmpty()}getLineTokens(I){return this._startLineNumber<=I&&I<=this._endLineNumber?this._tokens.getLineTokens(I-this._startLineNumber):null}getRange(){const I=this._tokens.getRange();return I&&new V.Q(this._startLineNumber+I.startLineNumber,I.startColumn,this._startLineNumber+I.endLineNumber,I.endColumn)}removeTokens(I){const c=I.startLineNumber-this._startLineNumber,f=I.endLineNumber-this._startLineNumber;this._startLineNumber+=this._tokens.removeTokens(c,I.startColumn-1,f,I.endColumn-1),this._updateEndLineNumber()}split(I){const c=I.startLineNumber-this._startLineNumber,f=I.endLineNumber-this._startLineNumber,[d,x,B]=this._tokens.split(c,I.startColumn-1,f,I.endColumn-1);return[new H(this._startLineNumber,d),new H(this._startLineNumber+B,x)]}applyEdit(I,c){const[f,d,x]=(0,E.W)(c);this.acceptEdit(I,f,d,x,c.length>0?c.charCodeAt(0):0)}acceptEdit(I,c,f,d,x){this._acceptDeleteRange(I),this._acceptInsertText(new Q.y(I.startLineNumber,I.startColumn),c,f,d,x),this._updateEndLineNumber()}_acceptDeleteRange(I){if(I.startLineNumber===I.endLineNumber&&I.startColumn===I.endColumn)return;const c=I.startLineNumber-this._startLineNumber,f=I.endLineNumber-this._startLineNumber;if(f<0){const x=f-c;this._startLineNumber-=x;return}const d=this._tokens.getMaxDeltaLine();if(!(c>=d+1)){if(c<0&&f>=d+1){this._startLineNumber=0,this._tokens.clear();return}if(c<0){const x=-c;this._startLineNumber-=x,this._tokens.acceptDeleteRange(I.startColumn-1,0,0,f,I.endColumn-1)}else this._tokens.acceptDeleteRange(0,c,I.startColumn-1,f,I.endColumn-1)}}_acceptInsertText(I,c,f,d,x){if(c===0&&f===0)return;const B=I.lineNumber-this._startLineNumber;if(B<0){this._startLineNumber+=c;return}const D=this._tokens.getMaxDeltaLine();B>=D+1||this._tokens.acceptInsertText(B,I.column-1,c,f,d,x)}};s(H,"SparseMultilineTokens");let u=H;const C=class C{constructor(I){this._tokens=I,this._tokenCount=I.length/4}toString(I){const c=[];for(let f=0;f<this._tokenCount;f++)c.push(`(${this._getDeltaLine(f)+I},${this._getStartCharacter(f)}-${this._getEndCharacter(f)})`);return`[${c.join(",")}]`}getMaxDeltaLine(){const I=this._getTokenCount();return I===0?-1:this._getDeltaLine(I-1)}getRange(){const I=this._getTokenCount();if(I===0)return null;const c=this._getStartCharacter(0),f=this._getDeltaLine(I-1),d=this._getEndCharacter(I-1);return new V.Q(0,c+1,f,d+1)}_getTokenCount(){return this._tokenCount}_getDeltaLine(I){return this._tokens[4*I]}_getStartCharacter(I){return this._tokens[4*I+1]}_getEndCharacter(I){return this._tokens[4*I+2]}isEmpty(){return this._getTokenCount()===0}getLineTokens(I){let c=0,f=this._getTokenCount()-1;for(;c<f;){const d=c+Math.floor((f-c)/2),x=this._getDeltaLine(d);if(x<I)c=d+1;else if(x>I)f=d-1;else{let B=d;for(;B>c&&this._getDeltaLine(B-1)===I;)B--;let D=d;for(;D<f&&this._getDeltaLine(D+1)===I;)D++;return new T(this._tokens.subarray(4*B,4*D+4))}}return this._getDeltaLine(c)===I?new T(this._tokens.subarray(4*c,4*c+4)):null}clear(){this._tokenCount=0}removeTokens(I,c,f,d){const x=this._tokens,B=this._tokenCount;let D=0,q=!1,se=0;for(let re=0;re<B;re++){const _e=4*re,Se=x[_e],Ae=x[_e+1],we=x[_e+2],L=x[_e+3];if((Se>I||Se===I&&we>=c)&&(Se<f||Se===f&&Ae<=d))q=!0;else{if(D===0&&(se=Se),q){const A=4*D;x[A]=Se-se,x[A+1]=Ae,x[A+2]=we,x[A+3]=L}D++}}return this._tokenCount=D,se}split(I,c,f,d){const x=this._tokens,B=this._tokenCount,D=[],q=[];let se=D,re=0,_e=0;for(let Se=0;Se<B;Se++){const Ae=4*Se,we=x[Ae],L=x[Ae+1],A=x[Ae+2],z=x[Ae+3];if(we>I||we===I&&A>=c){if(we<f||we===f&&L<=d)continue;se!==q&&(se=q,re=0,_e=we)}se[re++]=we-_e,se[re++]=L,se[re++]=A,se[re++]=z}return[new C(new Uint32Array(D)),new C(new Uint32Array(q)),_e]}acceptDeleteRange(I,c,f,d,x){const B=this._tokens,D=this._tokenCount,q=d-c;let se=0,re=!1;for(let _e=0;_e<D;_e++){const Se=4*_e;let Ae=B[Se],we=B[Se+1],L=B[Se+2];const A=B[Se+3];if(Ae<c||Ae===c&&L<=f){se++;continue}else if(Ae===c&&we<f)Ae===d&&L>x?L-=x-f:L=f;else if(Ae===c&&we===f)if(Ae===d&&L>x)L-=x-f;else{re=!0;continue}else if(Ae<d||Ae===d&&we<x)if(Ae===d&&L>x)Ae=c,we=f,L=we+(L-x);else{re=!0;continue}else if(Ae>d){if(q===0&&!re){se=D;break}Ae-=q}else if(Ae===d&&we>=x)I&&Ae===0&&(we+=I,L+=I),Ae-=q,we-=x-f,L-=x-f;else throw new Error("Not possible!");const z=4*se;B[z]=Ae,B[z+1]=we,B[z+2]=L,B[z+3]=A,se++}this._tokenCount=se}acceptInsertText(I,c,f,d,x,B){const D=f===0&&d===1&&(B>=48&&B<=57||B>=65&&B<=90||B>=97&&B<=122),q=this._tokens,se=this._tokenCount;for(let re=0;re<se;re++){const _e=4*re;let Se=q[_e],Ae=q[_e+1],we=q[_e+2];if(!(Se<I||Se===I&&we<c)){if(Se===I&&we===c)if(D)we+=1;else continue;else if(Se===I&&Ae<c&&c<we)f===0?we+=d:we=c;else{if(Se===I&&Ae===c&&D)continue;if(Se===I)if(Se+=f,f===0)Ae+=d,we+=d;else{const L=we-Ae;Ae=x+(Ae-c),we=Ae+L}else Se+=f}q[_e]=Se,q[_e+1]=Ae,q[_e+2]=we}}}};s(C,"SparseMultilineTokensStorage");let G=C;const R=class R{constructor(I){this._tokens=I}getCount(){return this._tokens.length/4}getStartCharacter(I){return this._tokens[4*I+1]}getEndCharacter(I){return this._tokens[4*I+2]}getMetadata(I){return this._tokens[4*I+3]}};s(R,"SparseLineTokens");let T=R;var Y=v(7922),y=function(he,I,c,f){var d=arguments.length,x=d<3?I:f===null?f=Object.getOwnPropertyDescriptor(I,c):f,B;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")x=Reflect.decorate(he,I,c,f);else for(var D=he.length-1;D>=0;D--)(B=he[D])&&(x=(d<3?B(x):d>3?B(I,c,x):B(I,c))||x);return d>3&&x&&Object.defineProperty(I,c,x),x},W=function(he,I){return function(c,f){I(c,f,he)}};const P=!1;let O=(ie=class{constructor(I,c,f,d){this._legend=I,this._themeService=c,this._languageService=f,this._logService=d,this._hasWarnedOverlappingTokens=!1,this._hasWarnedInvalidLengthTokens=!1,this._hasWarnedInvalidEditStart=!1,this._hashTable=new ee}getMetadata(I,c,f){const d=this._languageService.languageIdCodec.encodeLanguageId(f),x=this._hashTable.get(I,c,d);let B;if(x)B=x.metadata,P&&this._logService.getLevel()===o.$b.Trace&&this._logService.trace(`SemanticTokensProviderStyling [CACHED] ${I} / ${c}: foreground ${N.x.getForeground(B)}, fontStyle ${N.x.getFontStyle(B).toString(2)}`);else{let D=this._legend.tokenTypes[I];const q=[];if(D){let se=c;for(let _e=0;se>0&&_e<this._legend.tokenModifiers.length;_e++)se&1&&q.push(this._legend.tokenModifiers[_e]),se=se>>1;P&&se>0&&this._logService.getLevel()===o.$b.Trace&&(this._logService.trace(`SemanticTokensProviderStyling: unknown token modifier index: ${c.toString(2)} for legend: ${JSON.stringify(this._legend.tokenModifiers)}`),q.push("not-in-legend"));const re=this._themeService.getColorTheme().getTokenStyleMetadata(D,q,f);if(typeof re=="undefined")B=2147483647;else{if(B=0,typeof re.italic!="undefined"){const _e=(re.italic?1:0)<<11;B|=_e|1}if(typeof re.bold!="undefined"){const _e=(re.bold?2:0)<<11;B|=_e|2}if(typeof re.underline!="undefined"){const _e=(re.underline?4:0)<<11;B|=_e|4}if(typeof re.strikethrough!="undefined"){const _e=(re.strikethrough?8:0)<<11;B|=_e|8}if(re.foreground){const _e=re.foreground<<15;B|=_e|16}B===0&&(B=2147483647)}}else P&&this._logService.getLevel()===o.$b.Trace&&this._logService.trace(`SemanticTokensProviderStyling: unknown token type index: ${I} for legend: ${JSON.stringify(this._legend.tokenTypes)}`),B=2147483647,D="not-in-legend";this._hashTable.add(I,c,d,B),P&&this._logService.getLevel()===o.$b.Trace&&this._logService.trace(`SemanticTokensProviderStyling ${I} (${D}) / ${c} (${q.join(" ")}): foreground ${N.x.getForeground(B)}, fontStyle ${N.x.getFontStyle(B).toString(2)}`)}return B}warnOverlappingSemanticTokens(I,c){this._hasWarnedOverlappingTokens||(this._hasWarnedOverlappingTokens=!0,this._logService.warn(`Overlapping semantic tokens detected at lineNumber ${I}, column ${c}`))}warnInvalidLengthSemanticTokens(I,c){this._hasWarnedInvalidLengthTokens||(this._hasWarnedInvalidLengthTokens=!0,this._logService.warn(`Semantic token with invalid length detected at lineNumber ${I}, column ${c}`))}warnInvalidEditStart(I,c,f,d,x){this._hasWarnedInvalidEditStart||(this._hasWarnedInvalidEditStart=!0,this._logService.warn(`Invalid semantic tokens edit detected (previousResultId: ${I}, resultId: ${c}) at edit #${f}: The provided start offset ${d} is outside the previous data (length ${x}).`))}},s(ie,"SemanticTokensProviderStyling"),ie);O=y([W(1,K.Gy),W(2,Y.L),W(3,o.rr)],O);function M(he,I,c){const f=he.data,d=he.data.length/5|0,x=Math.max(Math.ceil(d/1024),400),B=[];let D=0,q=1,se=0;for(;D<d;){const re=D;let _e=Math.min(re+x,d);if(_e<d){let b=_e;for(;b-1>re&&f[5*b]===0;)b--;if(b-1===re){let S=_e;for(;S+1<d&&f[5*S]===0;)S++;_e=S}else _e=b}let Se=new Uint32Array((_e-re)*4),Ae=0,we=0,L=0,A=0;for(;D<_e;){const b=5*D,S=f[b],$=f[b+1],te=q+S|0,ce=S===0?se+$|0:$,Te=f[b+2],Ne=ce+Te|0,He=f[b+3],Pe=f[b+4];if(Ne<=ce)I.warnInvalidLengthSemanticTokens(te,ce+1);else if(L===te&&A>ce)I.warnOverlappingSemanticTokens(te,ce+1);else{const Xe=I.getMetadata(He,Pe,c);Xe!==2147483647&&(we===0&&(we=te),Se[Ae]=te-we,Se[Ae+1]=ce,Se[Ae+2]=Ne,Se[Ae+3]=Xe,Ae+=4,L=te,A=Ne)}q=te,se=ce,D++}Ae!==Se.length&&(Se=Se.subarray(0,Ae));const z=u.create(we,Se);B.push(z)}return B}s(M,"toMultilineTokens2");const ue=class ue{constructor(I,c,f,d){this.tokenTypeIndex=I,this.tokenModifierSet=c,this.languageId=f,this.metadata=d,this.next=null}};s(ue,"HashTableEntry");let g=ue;const xe=class xe{constructor(){this._elementsCount=0,this._currentLengthIndex=0,this._currentLength=xe._SIZES[this._currentLengthIndex],this._growCount=Math.round(this._currentLengthIndex+1<xe._SIZES.length?.6666666666666666*this._currentLength:0),this._elements=[],xe._nullOutEntries(this._elements,this._currentLength)}static _nullOutEntries(I,c){for(let f=0;f<c;f++)I[f]=null}_hash2(I,c){return(I<<5)-I+c|0}_hashFunc(I,c,f){return this._hash2(this._hash2(I,c),f)%this._currentLength}get(I,c,f){const d=this._hashFunc(I,c,f);let x=this._elements[d];for(;x;){if(x.tokenTypeIndex===I&&x.tokenModifierSet===c&&x.languageId===f)return x;x=x.next}return null}add(I,c,f,d){if(this._elementsCount++,this._growCount!==0&&this._elementsCount>=this._growCount){const x=this._elements;this._currentLengthIndex++,this._currentLength=xe._SIZES[this._currentLengthIndex],this._growCount=Math.round(this._currentLengthIndex+1<xe._SIZES.length?.6666666666666666*this._currentLength:0),this._elements=[],xe._nullOutEntries(this._elements,this._currentLength);for(const B of x){let D=B;for(;D;){const q=D.next;D.next=null,this._add(D),D=q}}}this._add(new g(I,c,f,d))}_add(I){const c=this._hashFunc(I.tokenTypeIndex,I.tokenModifierSet,I.languageId);I.next=this._elements[c],this._elements[c]=I}};s(xe,"HashTable"),xe._SIZES=[3,7,13,31,61,127,251,509,1021,2039,4093,8191,16381,32749,65521,131071,262139,524287,1048573,2097143];let ee=xe},2891:(qe,Ce,v)=>{"use strict";v.r(Ce),v.d(Ce,{ISemanticTokensStylingService:s(()=>K,"ISemanticTokensStylingService")});var N=v(2399);const K=(0,N.u1)("semanticTokensStylingService")},8148:(qe,Ce,v)=>{"use strict";var y;v.r(Ce),v.d(Ce,{SemanticTokensStylingService:s(()=>Y,"SemanticTokensStylingService")});var N=v(9235),K=v(7922),o=v(5295),Q=v(9950),V=v(9520),E=v(2891),u=v(9031),G=function(W,P,O,M){var g=arguments.length,ee=g<3?P:M===null?M=Object.getOwnPropertyDescriptor(P,O):M,H;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")ee=Reflect.decorate(W,P,O,M);else for(var C=W.length-1;C>=0;C--)(H=W[C])&&(ee=(g<3?H(ee):g>3?H(P,O,ee):H(P,O))||ee);return g>3&&ee&&Object.defineProperty(P,O,ee),ee},T=function(W,P){return function(O,M){P(O,M,W)}};let Y=(y=class extends N.jG{constructor(P,O,M){super(),this._themeService=P,this._logService=O,this._languageService=M,this._caches=new WeakMap,this._register(this._themeService.onDidColorThemeChange(()=>{this._caches=new WeakMap}))}getStyling(P){return this._caches.has(P)||this._caches.set(P,new V.SemanticTokensProviderStyling(P.getLegend(),this._themeService,this._languageService,this._logService)),this._caches.get(P)}},s(y,"SemanticTokensStylingService"),y);Y=G([T(0,o.Gy),T(1,Q.rr),T(2,K.L)],Y),(0,u.v)(E.ISemanticTokensStylingService,Y,1)},1305:(qe,Ce,v)=>{"use strict";v.r(Ce),v.d(Ce,{MirrorModel:s(()=>ee,"MirrorModel"),STOP_SYNC_MODEL_DELTA_TIME_MS:s(()=>O,"STOP_SYNC_MODEL_DELTA_TIME_MS"),WorkerTextModelSyncClient:s(()=>M,"WorkerTextModelSyncClient"),WorkerTextModelSyncServer:s(()=>g,"WorkerTextModelSyncServer")});var N=v(1946),K=v(9235),o=v(7264),Q=v(5365),V=v(8061),E=v(8782),u=v(6844),G=v(3338),T=v(7512);const H=class H{constructor(c){this.values=c,this.prefixSum=new Uint32Array(c.length),this.prefixSumValidIndex=new Int32Array(1),this.prefixSumValidIndex[0]=-1}insertValues(c,f){c=(0,T.j)(c);const d=this.values,x=this.prefixSum,B=f.length;return B===0?!1:(this.values=new Uint32Array(d.length+B),this.values.set(d.subarray(0,c),0),this.values.set(d.subarray(c),c+B),this.values.set(f,c),c-1<this.prefixSumValidIndex[0]&&(this.prefixSumValidIndex[0]=c-1),this.prefixSum=new Uint32Array(this.values.length),this.prefixSumValidIndex[0]>=0&&this.prefixSum.set(x.subarray(0,this.prefixSumValidIndex[0]+1)),!0)}setValue(c,f){return c=(0,T.j)(c),f=(0,T.j)(f),this.values[c]===f?!1:(this.values[c]=f,c-1<this.prefixSumValidIndex[0]&&(this.prefixSumValidIndex[0]=c-1),!0)}removeValues(c,f){c=(0,T.j)(c),f=(0,T.j)(f);const d=this.values,x=this.prefixSum;if(c>=d.length)return!1;const B=d.length-c;return f>=B&&(f=B),f===0?!1:(this.values=new Uint32Array(d.length-f),this.values.set(d.subarray(0,c),0),this.values.set(d.subarray(c+f),c),this.prefixSum=new Uint32Array(this.values.length),c-1<this.prefixSumValidIndex[0]&&(this.prefixSumValidIndex[0]=c-1),this.prefixSumValidIndex[0]>=0&&this.prefixSum.set(x.subarray(0,this.prefixSumValidIndex[0]+1)),!0)}getTotalSum(){return this.values.length===0?0:this._getPrefixSum(this.values.length-1)}getPrefixSum(c){return c<0?0:(c=(0,T.j)(c),this._getPrefixSum(c))}_getPrefixSum(c){if(c<=this.prefixSumValidIndex[0])return this.prefixSum[c];let f=this.prefixSumValidIndex[0]+1;f===0&&(this.prefixSum[0]=this.values[0],f++),c>=this.values.length&&(c=this.values.length-1);for(let d=f;d<=c;d++)this.prefixSum[d]=this.prefixSum[d-1]+this.values[d];return this.prefixSumValidIndex[0]=Math.max(this.prefixSumValidIndex[0],c),this.prefixSum[c]}getIndexOf(c){c=Math.floor(c),this.getTotalSum();let f=0,d=this.values.length-1,x=0,B=0,D=0;for(;f<=d;)if(x=f+(d-f)/2|0,B=this.prefixSum[x],D=B-this.values[x],c<D)d=x-1;else if(c>=B)f=x+1;else break;return new W(x,c-D)}};s(H,"PrefixSumComputer");let Y=H;const C=class C{constructor(c){this._values=c,this._isValid=!1,this._validEndIndex=-1,this._prefixSum=[],this._indexBySum=[]}getTotalSum(){return this._ensureValid(),this._indexBySum.length}getPrefixSum(c){return this._ensureValid(),c===0?0:this._prefixSum[c-1]}getIndexOf(c){this._ensureValid();const f=this._indexBySum[c],d=f>0?this._prefixSum[f-1]:0;return new W(f,c-d)}removeValues(c,f){this._values.splice(c,f),this._invalidate(c)}insertValues(c,f){this._values=arrayInsert(this._values,c,f),this._invalidate(c)}_invalidate(c){this._isValid=!1,this._validEndIndex=Math.min(this._validEndIndex,c-1)}_ensureValid(){if(!this._isValid){for(let c=this._validEndIndex+1,f=this._values.length;c<f;c++){const d=this._values[c],x=c>0?this._prefixSum[c-1]:0;this._prefixSum[c]=x+d;for(let B=0;B<d;B++)this._indexBySum[x+B]=c}this._prefixSum.length=this._values.length,this._indexBySum.length=this._prefixSum[this._prefixSum.length-1],this._isValid=!0,this._validEndIndex=this._values.length-1}}setValue(c,f){this._values[c]!==f&&(this._values[c]=f,this._invalidate(c))}};s(C,"ConstantTimePrefixSumComputer");let y=C;const R=class R{constructor(c,f){this.index=c,this.remainder=f,this._prefixSumIndexOfResultBrand=void 0,this.index=c,this.remainder=f}};s(R,"PrefixSumIndexOfResult");let W=R;const ie=class ie{constructor(c,f,d,x){this._uri=c,this._lines=f,this._eol=d,this._versionId=x,this._lineStarts=null,this._cachedTextValue=null}dispose(){this._lines.length=0}get version(){return this._versionId}getText(){return this._cachedTextValue===null&&(this._cachedTextValue=this._lines.join(this._eol)),this._cachedTextValue}onEvents(c){c.eol&&c.eol!==this._eol&&(this._eol=c.eol,this._lineStarts=null);const f=c.changes;for(const d of f)this._acceptDeleteRange(d.range),this._acceptInsertText(new Q.y(d.range.startLineNumber,d.range.startColumn),d.text);this._versionId=c.versionId,this._cachedTextValue=null}_ensureLineStarts(){if(!this._lineStarts){const c=this._eol.length,f=this._lines.length,d=new Uint32Array(f);for(let x=0;x<f;x++)d[x]=this._lines[x].length+c;this._lineStarts=new Y(d)}}_setLineText(c,f){this._lines[c]=f,this._lineStarts&&this._lineStarts.setValue(c,this._lines[c].length+this._eol.length)}_acceptDeleteRange(c){if(c.startLineNumber===c.endLineNumber){if(c.startColumn===c.endColumn)return;this._setLineText(c.startLineNumber-1,this._lines[c.startLineNumber-1].substring(0,c.startColumn-1)+this._lines[c.startLineNumber-1].substring(c.endColumn-1));return}this._setLineText(c.startLineNumber-1,this._lines[c.startLineNumber-1].substring(0,c.startColumn-1)+this._lines[c.endLineNumber-1].substring(c.endColumn-1)),this._lines.splice(c.startLineNumber,c.endLineNumber-c.startLineNumber),this._lineStarts&&this._lineStarts.removeValues(c.startLineNumber,c.endLineNumber-c.startLineNumber)}_acceptInsertText(c,f){if(f.length===0)return;const d=(0,u.uz)(f);if(d.length===1){this._setLineText(c.lineNumber-1,this._lines[c.lineNumber-1].substring(0,c.column-1)+d[0]+this._lines[c.lineNumber-1].substring(c.column-1));return}d[d.length-1]+=this._lines[c.lineNumber-1].substring(c.column-1),this._setLineText(c.lineNumber-1,this._lines[c.lineNumber-1].substring(0,c.column-1)+d[0]);const x=new Uint32Array(d.length-1);for(let B=1;B<d.length;B++)this._lines.splice(c.lineNumber+B-1,0,d[B]),x[B-1]=d[B].length+this._eol.length;this._lineStarts&&this._lineStarts.insertValues(c.lineNumber,x)}};s(ie,"MirrorTextModel");let P=ie;const O=60*1e3,ue=class ue extends K.jG{constructor(c,f,d=!1){if(super(),this._syncedModels=Object.create(null),this._syncedModelsLastUsedTime=Object.create(null),this._proxy=c,this._modelService=f,!d){const x=new N.vb;x.cancelAndSet(()=>this._checkStopModelSync(),Math.round(O/2)),this._register(x)}}dispose(){for(const c in this._syncedModels)(0,K.AS)(this._syncedModels[c]);this._syncedModels=Object.create(null),this._syncedModelsLastUsedTime=Object.create(null),super.dispose()}ensureSyncedResources(c,f=!1){for(const d of c){const x=d.toString();this._syncedModels[x]||this._beginModelSync(d,f),this._syncedModels[x]&&(this._syncedModelsLastUsedTime[x]=new Date().getTime())}}_checkStopModelSync(){const c=new Date().getTime(),f=[];for(const d in this._syncedModelsLastUsedTime)c-this._syncedModelsLastUsedTime[d]>O&&f.push(d);for(const d of f)this._stopModelSync(d)}_beginModelSync(c,f){const d=this._modelService.getModel(c);if(!d||!f&&d.isTooLargeForSyncing())return;const x=c.toString();this._proxy.$acceptNewModel({url:d.uri.toString(),lines:d.getLinesContent(),EOL:d.getEOL(),versionId:d.getVersionId()});const B=new K.Cm;B.add(d.onDidChangeContent(D=>{this._proxy.$acceptModelChanged(x.toString(),D)})),B.add(d.onWillDispose(()=>{this._stopModelSync(x)})),B.add((0,K.s)(()=>{this._proxy.$acceptRemovedModel(x)})),this._syncedModels[x]=B}_stopModelSync(c){const f=this._syncedModels[c];delete this._syncedModels[c],delete this._syncedModelsLastUsedTime[c],(0,K.AS)(f)}};s(ue,"WorkerTextModelSyncClient");let M=ue;const xe=class xe{constructor(){this._models=Object.create(null)}getModel(c){return this._models[c]}getModels(){const c=[];return Object.keys(this._models).forEach(f=>c.push(this._models[f])),c}$acceptNewModel(c){this._models[c.url]=new ee(o.r.parse(c.url),c.lines,c.EOL,c.versionId)}$acceptModelChanged(c,f){if(!this._models[c])return;this._models[c].onEvents(f)}$acceptRemovedModel(c){this._models[c]&&delete this._models[c]}};s(xe,"WorkerTextModelSyncServer");let g=xe;const he=class he extends P{get uri(){return this._uri}get eol(){return this._eol}getValue(){return this.getText()}findMatches(c){const f=[];for(let d=0;d<this._lines.length;d++){const x=this._lines[d],B=this.offsetAt(new Q.y(d+1,1)),D=x.matchAll(c);for(const q of D)(q.index||q.index===0)&&(q.index=q.index+B),f.push(q)}return f}getLinesContent(){return this._lines.slice(0)}getLineCount(){return this._lines.length}getLineContent(c){return this._lines[c-1]}getWordAtPosition(c,f){const d=(0,E.Th)(c.column,(0,E.Io)(f),this._lines[c.lineNumber-1],0);return d?new V.Q(c.lineNumber,d.startColumn,c.lineNumber,d.endColumn):null}words(c){const f=this._lines,d=this._wordenize.bind(this);let x=0,B="",D=0,q=[];return{*[Symbol.iterator](){for(;;)if(D<q.length){const se=B.substring(q[D].start,q[D].end);D+=1,yield se}else if(x<f.length)B=f[x],q=d(B,c),D=0,x+=1;else break}}}getLineWords(c,f){const d=this._lines[c-1],x=this._wordenize(d,f),B=[];for(const D of x)B.push({word:d.substring(D.start,D.end),startColumn:D.start+1,endColumn:D.end+1});return B}_wordenize(c,f){const d=[];let x;for(f.lastIndex=0;(x=f.exec(c))&&x[0].length!==0;)d.push({start:x.index,end:x.index+x[0].length});return d}getValueInRange(c){if(c=this._validateRange(c),c.startLineNumber===c.endLineNumber)return this._lines[c.startLineNumber-1].substring(c.startColumn-1,c.endColumn-1);const f=this._eol,d=c.startLineNumber-1,x=c.endLineNumber-1,B=[];B.push(this._lines[d].substring(c.startColumn-1));for(let D=d+1;D<x;D++)B.push(this._lines[D]);return B.push(this._lines[x].substring(0,c.endColumn-1)),B.join(f)}offsetAt(c){return c=this._validatePosition(c),this._ensureLineStarts(),this._lineStarts.getPrefixSum(c.lineNumber-2)+(c.column-1)}positionAt(c){c=Math.floor(c),c=Math.max(0,c),this._ensureLineStarts();const f=this._lineStarts.getIndexOf(c),d=this._lines[f.index].length;return{lineNumber:1+f.index,column:1+Math.min(f.remainder,d)}}_validateRange(c){const f=this._validatePosition({lineNumber:c.startLineNumber,column:c.startColumn}),d=this._validatePosition({lineNumber:c.endLineNumber,column:c.endColumn});return f.lineNumber!==c.startLineNumber||f.column!==c.startColumn||d.lineNumber!==c.endLineNumber||d.column!==c.endColumn?{startLineNumber:f.lineNumber,startColumn:f.column,endLineNumber:d.lineNumber,endColumn:d.column}:c}_validatePosition(c){if(!Q.y.isIPosition(c))throw new Error("bad position");let{lineNumber:f,column:d}=c,x=!1;if(f<1)f=1,d=1,x=!0;else if(f>this._lines.length)f=this._lines.length,d=this._lines[f-1].length+1,x=!0;else{const B=this._lines[f-1].length+1;d<1?(d=1,x=!0):d>B&&(d=B,x=!0)}return x?{lineNumber:f,column:d}:c}};s(he,"MirrorModel");let ee=he},5628:(qe,Ce,v)=>{"use strict";v.r(Ce)},1504:(qe,Ce,v)=>{"use strict";v.r(Ce),v.d(Ce,{ITextResourceConfigurationService:s(()=>K,"ITextResourceConfigurationService"),ITextResourcePropertiesService:s(()=>o,"ITextResourcePropertiesService")});var N=v(2399);const K=(0,N.u1)("textResourceConfigurationService"),o=(0,N.u1)("textResourcePropertiesService")},5320:(qe,Ce,v)=>{"use strict";v.r(Ce),v.d(Ce,{ITreeSitterParserService:s(()=>K,"ITreeSitterParserService")});var N=v(2399);const K=(0,N.u1)("treeSitterParserService")},2603:(qe,Ce,v)=>{"use strict";v.r(Ce),v.d(Ce,{DraggedTreeItemsIdentifier:s(()=>K,"DraggedTreeItemsIdentifier"),TreeViewsDnDService:s(()=>N,"TreeViewsDnDService")});const o=class o{constructor(){this._dragOperations=new Map}removeDragOperationTransfer(E){if(E&&this._dragOperations.has(E)){const u=this._dragOperations.get(E);return this._dragOperations.delete(E),u}}};s(o,"TreeViewsDnDService");let N=o;const Q=class Q{constructor(E){this.identifier=E}};s(Q,"DraggedTreeItemsIdentifier");let K=Q},6756:(qe,Ce,v)=>{"use strict";v.r(Ce),v.d(Ce,{ITreeViewsDnDService:s(()=>Q,"ITreeViewsDnDService")});var N=v(9031),K=v(2399),o=v(2603);const Q=(0,K.u1)("treeViewsDndService");(0,N.v)(Q,o.TreeViewsDnDService,1)},9887:(qe,Ce,v)=>{"use strict";v.r(Ce),v.d(Ce,{UnicodeTextModelHighlighter:s(()=>E,"UnicodeTextModelHighlighter")});var N=v(8061),K=v(2007),o=v(6844),Q=v(7110),V=v(8782);const Y=class Y{static computeUnicodeHighlights(P,O,M){const g=M?M.startLineNumber:1,ee=M?M.endLineNumber:P.getLineCount(),H=new G(O),C=H.getCandidateCodePoints();let R;C==="allNonBasicAscii"?R=new RegExp("[^\\t\\n\\r\\x20-\\x7E]","g"):R=new RegExp(`${u(Array.from(C))}`,"g");const ie=new K.W5(null,R),ue=[];let xe=!1,he,I=0,c=0,f=0;e:for(let d=g,x=ee;d<=x;d++){const B=P.getLineContent(d),D=B.length;ie.reset(0);do if(he=ie.next(B),he){let q=he.index,se=he.index+he[0].length;if(q>0){const Ae=B.charCodeAt(q-1);o.pc(Ae)&&q--}if(se+1<D){const Ae=B.charCodeAt(se-1);o.pc(Ae)&&se++}const re=B.substring(q,se);let _e=(0,V.Th)(q+1,V.Ld,B,0);_e&&_e.endColumn<=q+1&&(_e=null);const Se=H.shouldHighlightNonBasicASCII(re,_e?_e.word:null);if(Se!==0){if(Se===3?I++:Se===2?c++:Se===1?f++:(0,Q.xb)(Se),ue.length>=1e3){xe=!0;break e}ue.push(new N.Q(d,q+1,d,se+1))}}while(he)}return{ranges:ue,hasMore:xe,ambiguousCharacterCount:I,invisibleCharacterCount:c,nonBasicAsciiCharacterCount:f}}static computeUnicodeHighlightReason(P,O){const M=new G(O);switch(M.shouldHighlightNonBasicASCII(P,null)){case 0:return null;case 2:return{kind:1};case 3:{const ee=P.codePointAt(0),H=M.ambiguousCharacters.getPrimaryConfusable(ee),C=o.tl.getLocales().filter(R=>!o.tl.getInstance(new Set([...O.allowedLocales,R])).isAmbiguous(ee));return{kind:0,confusableWith:String.fromCodePoint(H),notAmbiguousInLocales:C}}case 1:return{kind:2}}}};s(Y,"UnicodeTextModelHighlighter");let E=Y;function u(W,P){return`[${o.bm(W.map(M=>String.fromCodePoint(M)).join(""))}]`}s(u,"buildRegExpCharClassExpr");const y=class y{constructor(P){this.options=P,this.allowedCodePoints=new Set(P.allowedCodePoints),this.ambiguousCharacters=o.tl.getInstance(new Set(P.allowedLocales))}getCandidateCodePoints(){if(this.options.nonBasicASCII)return"allNonBasicAscii";const P=new Set;if(this.options.invisibleCharacters)for(const O of o.y_.codePoints)T(String.fromCodePoint(O))||P.add(O);if(this.options.ambiguousCharacters)for(const O of this.ambiguousCharacters.getConfusableCodePoints())P.add(O);for(const O of this.allowedCodePoints)P.delete(O);return P}shouldHighlightNonBasicASCII(P,O){const M=P.codePointAt(0);if(this.allowedCodePoints.has(M))return 0;if(this.options.nonBasicASCII)return 1;let g=!1,ee=!1;if(O)for(const H of O){const C=H.codePointAt(0),R=o.aC(H);g=g||R,!R&&!this.ambiguousCharacters.isAmbiguous(C)&&!o.y_.isInvisibleCharacter(C)&&(ee=!0)}return!g&&ee?0:this.options.invisibleCharacters&&!T(P)&&o.y_.isInvisibleCharacter(M)?2:this.options.ambiguousCharacters&&this.ambiguousCharacters.isAmbiguous(M)?3:0}};s(y,"CodePointHighlighter");let G=y;function T(W){return W===" "||W===`
`||W==="	"}s(T,"isAllowedInvisibleCharacter")},9204:(qe,Ce,v)=>{var N={"./editorBaseApi":[4858],"./editorBaseApi.js":[4858],"./editorSimpleWorker":[7798],"./editorSimpleWorker.js":[7798],"./editorWorker":[304,792],"./editorWorker.js":[304,792],"./editorWorkerHost":[6358],"./editorWorkerHost.js":[6358],"./findSectionHeaders":[9307],"./findSectionHeaders.js":[9307],"./getIconClasses":[7762,792],"./getIconClasses.js":[7762,792],"./languageFeatureDebounce":[4791,792],"./languageFeatureDebounce.js":[4791,792],"./languageFeatures":[2230,792],"./languageFeatures.js":[2230,792],"./languageFeaturesService":[501,792],"./languageFeaturesService.js":[501,792],"./languageService":[6123,792],"./languageService.js":[6123,792],"./languagesAssociations":[5996,792],"./languagesAssociations.js":[5996,792],"./languagesRegistry":[6995,792],"./languagesRegistry.js":[6995,792],"./markerDecorations":[886,792],"./markerDecorations.js":[886,792],"./markerDecorationsService":[453,792],"./markerDecorationsService.js":[453,792],"./model":[4830,792],"./model.js":[4830,792],"./modelService":[125,792],"./modelService.js":[125,792],"./resolverService":[7042,792],"./resolverService.js":[7042,792],"./semanticTokensDto":[9376,792],"./semanticTokensDto.js":[9376,792],"./semanticTokensProviderStyling":[9520,792],"./semanticTokensProviderStyling.js":[9520,792],"./semanticTokensStyling":[2891,792],"./semanticTokensStyling.js":[2891,792],"./semanticTokensStylingService":[8148,792],"./semanticTokensStylingService.js":[8148,792],"./textModelSync/textModelSync.impl":[1305],"./textModelSync/textModelSync.impl.js":[1305],"./textModelSync/textModelSync.protocol":[5628,792],"./textModelSync/textModelSync.protocol.js":[5628,792],"./textResourceConfiguration":[1504,792],"./textResourceConfiguration.js":[1504,792],"./treeSitterParserService":[5320,792],"./treeSitterParserService.js":[5320,792],"./treeViewsDnd":[2603,792],"./treeViewsDnd.js":[2603,792],"./treeViewsDndService":[6756,792],"./treeViewsDndService.js":[6756,792],"./unicodeTextModelHighlighter":[9887],"./unicodeTextModelHighlighter.js":[9887]};function K(o){if(!v.o(N,o))return Promise.resolve().then(()=>{var E=new Error("Cannot find module '"+o+"'");throw E.code="MODULE_NOT_FOUND",E});var Q=N[o],V=Q[0];return Promise.all(Q.slice(1).map(v.e)).then(()=>v(V))}s(K,"webpackAsyncContext"),K.keys=()=>Object.keys(N),K.id=9204,qe.exports=K},7614:(qe,Ce,v)=>{var N={"./editorBaseApi":4858,"./editorBaseApi.js":4858,"./editorSimpleWorker":7798,"./editorSimpleWorker.js":7798,"./editorWorker":304,"./editorWorker.js":304,"./editorWorkerHost":6358,"./editorWorkerHost.js":6358,"./findSectionHeaders":9307,"./findSectionHeaders.js":9307,"./getIconClasses":7762,"./getIconClasses.js":7762,"./languageFeatureDebounce":4791,"./languageFeatureDebounce.js":4791,"./languageFeatures":2230,"./languageFeatures.js":2230,"./languageFeaturesService":501,"./languageFeaturesService.js":501,"./languageService":6123,"./languageService.js":6123,"./languagesAssociations":5996,"./languagesAssociations.js":5996,"./languagesRegistry":6995,"./languagesRegistry.js":6995,"./markerDecorations":886,"./markerDecorations.js":886,"./markerDecorationsService":453,"./markerDecorationsService.js":453,"./model":4830,"./model.js":4830,"./modelService":125,"./modelService.js":125,"./resolverService":7042,"./resolverService.js":7042,"./semanticTokensDto":9376,"./semanticTokensDto.js":9376,"./semanticTokensProviderStyling":9520,"./semanticTokensProviderStyling.js":9520,"./semanticTokensStyling":2891,"./semanticTokensStyling.js":2891,"./semanticTokensStylingService":8148,"./semanticTokensStylingService.js":8148,"./textModelSync/textModelSync.impl":1305,"./textModelSync/textModelSync.impl.js":1305,"./textModelSync/textModelSync.protocol":5628,"./textModelSync/textModelSync.protocol.js":5628,"./textResourceConfiguration":1504,"./textResourceConfiguration.js":1504,"./treeSitterParserService":5320,"./treeSitterParserService.js":5320,"./treeViewsDnd":2603,"./treeViewsDnd.js":2603,"./treeViewsDndService":6756,"./treeViewsDndService.js":6756,"./unicodeTextModelHighlighter":9887,"./unicodeTextModelHighlighter.js":9887};function K(Q){var V=o(Q);return v(V)}s(K,"webpackContext");function o(Q){if(!v.o(N,Q)){var V=new Error("Cannot find module '"+Q+"'");throw V.code="MODULE_NOT_FOUND",V}return N[Q]}s(o,"webpackContextResolve"),K.keys=s(function(){return Object.keys(N)},"webpackContextKeys"),K.resolve=o,qe.exports=K,K.id=7614},9746:(qe,Ce,v)=>{"use strict";v.d(Ce,{i8:s(()=>K,"i8"),kg:s(()=>V,"kg")});function N(){return globalThis._VSCODE_NLS_MESSAGES}s(N,"getNLSMessages");function K(){return globalThis._VSCODE_NLS_LANGUAGE}s(K,"getNLSLanguage");const o=K()==="pseudo"||typeof document!="undefined"&&document.location&&document.location.hash.indexOf("pseudo=true")>=0;function Q(G,T){let Y;return T.length===0?Y=G:Y=G.replace(/\{(\d+)\}/g,(y,W)=>{const P=W[0],O=T[P];let M=y;return typeof O=="string"?M=O:(typeof O=="number"||typeof O=="boolean"||O===void 0||O===null)&&(M=String(O)),M}),o&&(Y="\uFF3B"+Y.replace(/[aouei]/g,"$&$&")+"\uFF3D"),Y}s(Q,"_format");function V(G,T,...Y){return Q(typeof G=="number"?E(G,T):T,Y)}s(V,"localize");function E(G,T){var y;const Y=(y=N())==null?void 0:y[G];if(typeof Y!="string"){if(typeof T=="string")return T;throw new Error(`!!! NLS MISSING: ${G} !!!`)}return Y}s(E,"lookupMessage");function u(G,T,...Y){let y;typeof G=="number"?y=E(G,T):y=T;const W=Q(y,Y);return{value:W,original:T===y?W:Q(T,Y)}}s(u,"localize2")},5753:(qe,Ce,v)=>{"use strict";v.d(Ce,{Mo:s(()=>G,"Mo"),pG:s(()=>K,"pG")});var N=v(2399);const K=(0,N.u1)("configurationService");function o(T,Y){const y=Object.create(null);for(const W in T)Q(y,W,T[W],Y);return y}s(o,"toValuesTree");function Q(T,Y,y,W){const P=Y.split("."),O=P.pop();let M=T;for(let g=0;g<P.length;g++){const ee=P[g];let H=M[ee];switch(typeof H){case"undefined":H=M[ee]=Object.create(null);break;case"object":if(H===null){W(`Ignoring ${Y} as ${P.slice(0,g+1).join(".")} is null`);return}break;default:W(`Ignoring ${Y} as ${P.slice(0,g+1).join(".")} is ${JSON.stringify(H)}`);return}M=H}if(typeof M=="object"&&M!==null)try{M[O]=y}catch{W(`Ignoring ${Y} as ${P.join(".")} is ${JSON.stringify(M)}`)}else W(`Ignoring ${Y} as ${P.join(".")} is ${JSON.stringify(M)}`)}s(Q,"addToValueTree");function V(T,Y){const y=Y.split(".");E(T,y)}s(V,"removeFromValueTree");function E(T,Y){const y=Y.shift();if(Y.length===0){delete T[y];return}if(Object.keys(T).indexOf(y)!==-1){const W=T[y];typeof W=="object"&&!Array.isArray(W)&&(E(W,Y),Object.keys(W).length===0&&delete T[y])}}s(E,"doRemoveFromValueTree");function u(T,Y,y){function W(M,g){let ee=M;for(const H of g){if(typeof ee!="object"||ee===null)return;ee=ee[H]}return ee}s(W,"accessSetting");const P=Y.split("."),O=W(T,P);return typeof O=="undefined"?y:O}s(u,"getConfigurationValue");function G(T){return T.replace(/[\[\]]/g,"")}s(G,"getLanguageTagSettingPlainKey")},7142:(qe,Ce,v)=>{"use strict";v.d(Ce,{Fd:s(()=>G,"Fd")});var N=v(3338),K=v(2106),o=v(9359),Q=v(9746),V=v(5753),E=v(1460),u=v(7167);const G={Configuration:"base.contributions.configuration"},T={properties:{},patternProperties:{}},Y={properties:{},patternProperties:{}},y={properties:{},patternProperties:{}},W={properties:{},patternProperties:{}},P={properties:{},patternProperties:{}},O={properties:{},patternProperties:{}},M="vscode://schemas/settings/resourceLanguage",g=u.O.as(E.F.JSONContribution),c=class c{constructor(){this.registeredConfigurationDefaults=[],this.overrideIdentifiers=new Set,this._onDidSchemaChange=new K.vl,this._onDidUpdateConfiguration=new K.vl,this.configurationDefaultsOverrides=new Map,this.defaultLanguageConfigurationOverridesNode={id:"defaultOverrides",title:Q.kg("defaultLanguageConfigurationOverrides.title","Default Language Configuration Overrides"),properties:{}},this.configurationContributors=[this.defaultLanguageConfigurationOverridesNode],this.resourceLanguageSettingsSchema={properties:{},patternProperties:{},additionalProperties:!0,allowTrailingCommas:!0,allowComments:!0},this.configurationProperties={},this.policyConfigurations=new Map,this.excludedConfigurationProperties={},g.registerSchema(M,this.resourceLanguageSettingsSchema),this.registerOverridePropertyPatternKey()}registerConfiguration(d,x=!0){this.registerConfigurations([d],x)}registerConfigurations(d,x=!0){const B=new Set;this.doRegisterConfigurations(d,x,B),g.registerSchema(M,this.resourceLanguageSettingsSchema),this._onDidSchemaChange.fire(),this._onDidUpdateConfiguration.fire({properties:B})}registerDefaultConfigurations(d){const x=new Set;this.doRegisterDefaultConfigurations(d,x),this._onDidSchemaChange.fire(),this._onDidUpdateConfiguration.fire({properties:x,defaultsOverrides:!0})}doRegisterDefaultConfigurations(d,x){var D;this.registeredConfigurationDefaults.push(...d);const B=[];for(const{overrides:q,source:se}of d)for(const re in q){x.add(re);const _e=(D=this.configurationDefaultsOverrides.get(re))!=null?D:this.configurationDefaultsOverrides.set(re,{configurationDefaultOverrides:[]}).get(re),Se=q[re];if(_e.configurationDefaultOverrides.push({value:Se,source:se}),ie.test(re)){const Ae=this.mergeDefaultConfigurationsForOverrideIdentifier(re,Se,se,_e.configurationDefaultOverrideValue);if(!Ae)continue;_e.configurationDefaultOverrideValue=Ae,this.updateDefaultOverrideProperty(re,Ae,se),B.push(...ue(re))}else{const Ae=this.mergeDefaultConfigurationsForConfigurationProperty(re,Se,se,_e.configurationDefaultOverrideValue);if(!Ae)continue;_e.configurationDefaultOverrideValue=Ae;const we=this.configurationProperties[re];we&&(this.updatePropertyDefaultValue(re,we),this.updateSchema(re,we))}}this.doRegisterOverrideIdentifiers(B)}updateDefaultOverrideProperty(d,x,B){const D={type:"object",default:x.value,description:Q.kg("defaultLanguageConfiguration.description","Configure settings to be overridden for the {0} language.",(0,V.Mo)(d)),$ref:M,defaultDefaultValue:x.value,source:B,defaultValueSource:B};this.configurationProperties[d]=D,this.defaultLanguageConfigurationOverridesNode.properties[d]=D}mergeDefaultConfigurationsForOverrideIdentifier(d,x,B,D){var re,_e;const q=(D==null?void 0:D.value)||{},se=(re=D==null?void 0:D.source)!=null?re:new Map;if(!(se instanceof Map)){console.error("objectConfigurationSources is not a Map");return}for(const Se of Object.keys(x)){const Ae=x[Se];if(o.Gv(Ae)&&(o.b0(q[Se])||o.Gv(q[Se]))){if(q[Se]={...(_e=q[Se])!=null?_e:{},...Ae},B)for(const L in Ae)se.set(`${Se}.${L}`,B)}else q[Se]=Ae,B?se.set(Se,B):se.delete(Se)}return{value:q,source:se}}mergeDefaultConfigurationsForConfigurationProperty(d,x,B,D){var Se,Ae;const q=this.configurationProperties[d],se=(Se=D==null?void 0:D.value)!=null?Se:q==null?void 0:q.defaultDefaultValue;let re=B;if(o.Gv(x)&&(q!==void 0&&q.type==="object"||q===void 0&&(o.b0(se)||o.Gv(se)))){if(re=(Ae=D==null?void 0:D.source)!=null?Ae:new Map,!(re instanceof Map)){console.error("defaultValueSource is not a Map");return}for(const we in x)B&&re.set(`${d}.${we}`,B);x={...o.Gv(se)?se:{},...x}}return{value:x,source:re}}registerOverrideIdentifiers(d){this.doRegisterOverrideIdentifiers(d),this._onDidSchemaChange.fire()}doRegisterOverrideIdentifiers(d){for(const x of d)this.overrideIdentifiers.add(x);this.updateOverridePropertyPatternKey()}doRegisterConfigurations(d,x,B){d.forEach(D=>{this.validateAndRegisterProperties(D,x,D.extensionInfo,D.restrictedProperties,void 0,B),this.configurationContributors.push(D),this.registerJSONConfiguration(D)})}validateAndRegisterProperties(d,x=!0,B,D,q=3,se){var Se;q=o.z(d.scope)?q:d.scope;const re=d.properties;if(re)for(const Ae in re){const we=re[Ae];if(x&&I(Ae,we)){delete re[Ae];continue}if(we.source=B,we.defaultDefaultValue=re[Ae].default,this.updatePropertyDefaultValue(Ae,we),ie.test(Ae)?we.scope=void 0:(we.scope=o.z(we.scope)?q:we.scope,we.restricted=o.z(we.restricted)?!!(D!=null&&D.includes(Ae)):we.restricted),re[Ae].hasOwnProperty("included")&&!re[Ae].included){this.excludedConfigurationProperties[Ae]=re[Ae],delete re[Ae];continue}else this.configurationProperties[Ae]=re[Ae],(Se=re[Ae].policy)!=null&&Se.name&&this.policyConfigurations.set(re[Ae].policy.name,Ae);!re[Ae].deprecationMessage&&re[Ae].markdownDeprecationMessage&&(re[Ae].deprecationMessage=re[Ae].markdownDeprecationMessage),se.add(Ae)}const _e=d.allOf;if(_e)for(const Ae of _e)this.validateAndRegisterProperties(Ae,x,B,D,q,se)}getConfigurationProperties(){return this.configurationProperties}getPolicyConfigurations(){return this.policyConfigurations}registerJSONConfiguration(d){const x=s(B=>{const D=B.properties;if(D)for(const se in D)this.updateSchema(se,D[se]);const q=B.allOf;q==null||q.forEach(x)},"register");x(d)}updateSchema(d,x){switch(T.properties[d]=x,x.scope){case 1:Y.properties[d]=x;break;case 2:y.properties[d]=x;break;case 6:W.properties[d]=x;break;case 3:P.properties[d]=x;break;case 4:O.properties[d]=x;break;case 5:O.properties[d]=x,this.resourceLanguageSettingsSchema.properties[d]=x;break}}updateOverridePropertyPatternKey(){for(const d of this.overrideIdentifiers.values()){const x=`[${d}]`,B={type:"object",description:Q.kg("overrideSettings.defaultDescription","Configure editor settings to be overridden for a language."),errorMessage:Q.kg("overrideSettings.errorMessage","This setting does not support per-language configuration."),$ref:M};this.updatePropertyDefaultValue(x,B),T.properties[x]=B,Y.properties[x]=B,y.properties[x]=B,W.properties[x]=B,P.properties[x]=B,O.properties[x]=B}}registerOverridePropertyPatternKey(){const d={type:"object",description:Q.kg("overrideSettings.defaultDescription","Configure editor settings to be overridden for a language."),errorMessage:Q.kg("overrideSettings.errorMessage","This setting does not support per-language configuration."),$ref:M};T.patternProperties[R]=d,Y.patternProperties[R]=d,y.patternProperties[R]=d,W.patternProperties[R]=d,P.patternProperties[R]=d,O.patternProperties[R]=d,this._onDidSchemaChange.fire()}updatePropertyDefaultValue(d,x){var se;const B=(se=this.configurationDefaultsOverrides.get(d))==null?void 0:se.configurationDefaultOverrideValue;let D,q;B&&(!x.disallowConfigurationDefault||!B.source)&&(D=B.value,q=B.source),o.b0(D)&&(D=x.defaultDefaultValue,q=void 0),o.b0(D)&&(D=xe(x.type)),x.default=D,x.defaultValueSource=q}};s(c,"ConfigurationRegistry");let ee=c;const H="\\[([^\\]]+)\\]",C=new RegExp(H,"g"),R=`^(${H})+$`,ie=new RegExp(R);function ue(f){const d=[];if(ie.test(f)){let x=C.exec(f);for(;x!=null&&x.length;){const B=x[1].trim();B&&d.push(B),x=C.exec(f)}}return(0,N.dM)(d)}s(ue,"overrideIdentifiersFromKey");function xe(f){switch(Array.isArray(f)?f[0]:f){case"boolean":return!1;case"integer":case"number":return 0;case"string":return"";case"array":return[];case"object":return{};default:return null}}s(xe,"getDefaultValue");const he=new ee;u.O.add(G.Configuration,he);function I(f,d){var x,B,D,q;return f.trim()?ie.test(f)?Q.kg("config.property.languageDefault","Cannot register '{0}'. This matches property pattern '\\\\[.*\\\\]$' for describing language specific editor settings. Use 'configurationDefaults' contribution.",f):he.getConfigurationProperties()[f]!==void 0?Q.kg("config.property.duplicate","Cannot register '{0}'. This property is already registered.",f):(x=d.policy)!=null&&x.name&&he.getPolicyConfigurations().get((B=d.policy)==null?void 0:B.name)!==void 0?Q.kg("config.policy.duplicate","Cannot register '{0}'. The associated policy {1} is already registered with {2}.",f,(D=d.policy)==null?void 0:D.name,he.getPolicyConfigurations().get((q=d.policy)==null?void 0:q.name)):null:Q.kg("config.property.empty","Cannot register an empty property")}s(I,"validateProperty")},9031:(qe,Ce,v)=>{"use strict";v.d(Ce,{v:s(()=>o,"v")});const V=class V{constructor(u,G=[],T=!1){this.ctor=u,this.staticArguments=G,this.supportsDelayedInstantiation=T}};s(V,"SyncDescriptor");let N=V;const K=[];function o(E,u,G){u instanceof N||(u=new N(u,[],!!G)),K.push([E,u])}s(o,"registerSingleton");function Q(){return K}s(Q,"getSingletonServiceDescriptors")},2399:(qe,Ce,v)=>{"use strict";v.d(Ce,{_Y:s(()=>K,"_Y"),u1:s(()=>Q,"u1")});var N;(function(V){V.serviceIds=new Map,V.DI_TARGET="$di$target",V.DI_DEPENDENCIES="$di$dependencies";function E(u){return u[V.DI_DEPENDENCIES]||[]}s(E,"getServiceDependencies"),V.getServiceDependencies=E})(N||(N={}));const K=Q("instantiationService");function o(V,E,u){E[N.DI_TARGET]===E?E[N.DI_DEPENDENCIES].push({id:V,index:u}):(E[N.DI_DEPENDENCIES]=[{id:V,index:u}],E[N.DI_TARGET]=E)}s(o,"storeServiceDependency");function Q(V){if(N.serviceIds.has(V))return N.serviceIds.get(V);const E=s(function(u,G,T){if(arguments.length!==3)throw new Error("@IServiceName-decorator can only be used to decorate a parameter");o(E,u,T)},"id");return E.toString=()=>V,N.serviceIds.set(V,E),E}s(Q,"createDecorator")},1460:(qe,Ce,v)=>{"use strict";v.d(Ce,{F:s(()=>o,"F")});var N=v(2106),K=v(7167);const o={JSONContribution:"base.contributions.json"};function Q(G){return G.length>0&&G.charAt(G.length-1)==="#"?G.substring(0,G.length-1):G}s(Q,"normalizeId");const u=class u{constructor(){this._onDidChangeSchema=new N.vl,this.schemasById={}}registerSchema(T,Y){this.schemasById[Q(T)]=Y,this._onDidChangeSchema.fire(T)}notifySchemaChanged(T){this._onDidChangeSchema.fire(T)}};s(u,"JSONContributionRegistry");let V=u;const E=new V;K.O.add(o.JSONContribution,E)},9950:(qe,Ce,v)=>{"use strict";v.d(Ce,{rr:s(()=>xt,"rr"),$b:s(()=>dt,"$b")});var N=v(2106),K=v(9235),o=v(3339),Q=v(6844),V=v(4327),E=v(9746);function u(...nt){switch(nt.length){case 1:return(0,E.kg)("contextkey.scanner.hint.didYouMean1","Did you mean {0}?",nt[0]);case 2:return(0,E.kg)("contextkey.scanner.hint.didYouMean2","Did you mean {0} or {1}?",nt[0],nt[1]);case 3:return(0,E.kg)("contextkey.scanner.hint.didYouMean3","Did you mean {0}, {1} or {2}?",nt[0],nt[1],nt[2]);default:return}}s(u,"hintDidYouMean");const G=(0,E.kg)("contextkey.scanner.hint.didYouForgetToOpenOrCloseQuote","Did you forget to open or close the quote?"),T=(0,E.kg)("contextkey.scanner.hint.didYouForgetToEscapeSlash","Did you forget to escape the '/' (slash) character? Put two backslashes before it to escape, e.g., '\\\\/'."),Wt=class Wt{constructor(){this._input="",this._start=0,this._current=0,this._tokens=[],this._errors=[],this.stringRe=/[a-zA-Z0-9_<>\-\./\\:\*\?\+\[\]\^,#@;"%\$\p{L}-]+/uy}static getLexeme(w){switch(w.type){case 0:return"(";case 1:return")";case 2:return"!";case 3:return w.isTripleEq?"===":"==";case 4:return w.isTripleEq?"!==":"!=";case 5:return"<";case 6:return"<=";case 7:return">=";case 8:return">=";case 9:return"=~";case 10:return w.lexeme;case 11:return"true";case 12:return"false";case 13:return"in";case 14:return"not";case 15:return"&&";case 16:return"||";case 17:return w.lexeme;case 18:return w.lexeme;case 19:return w.lexeme;case 20:return"EOF";default:throw(0,V.iH)(`unhandled token type: ${JSON.stringify(w)}; have you forgotten to add a case?`)}}reset(w){return this._input=w,this._start=0,this._current=0,this._tokens=[],this._errors=[],this}scan(){for(;!this._isAtEnd();)switch(this._start=this._current,this._advance()){case 40:this._addToken(0);break;case 41:this._addToken(1);break;case 33:if(this._match(61)){const fe=this._match(61);this._tokens.push({type:4,offset:this._start,isTripleEq:fe})}else this._addToken(2);break;case 39:this._quotedString();break;case 47:this._regex();break;case 61:if(this._match(61)){const fe=this._match(61);this._tokens.push({type:3,offset:this._start,isTripleEq:fe})}else this._match(126)?this._addToken(9):this._error(u("==","=~"));break;case 60:this._addToken(this._match(61)?6:5);break;case 62:this._addToken(this._match(61)?8:7);break;case 38:this._match(38)?this._addToken(15):this._error(u("&&"));break;case 124:this._match(124)?this._addToken(16):this._error(u("||"));break;case 32:case 13:case 9:case 10:case 160:break;default:this._string()}return this._start=this._current,this._addToken(20),Array.from(this._tokens)}_match(w){return this._isAtEnd()||this._input.charCodeAt(this._current)!==w?!1:(this._current++,!0)}_advance(){return this._input.charCodeAt(this._current++)}_peek(){return this._isAtEnd()?0:this._input.charCodeAt(this._current)}_addToken(w){this._tokens.push({type:w,offset:this._start})}_error(w){const fe=this._start,Ue=this._input.substring(this._start,this._current),Oe={type:19,offset:this._start,lexeme:Ue};this._errors.push({offset:fe,lexeme:Ue,additionalInfo:w}),this._tokens.push(Oe)}_string(){this.stringRe.lastIndex=this._start;const w=this.stringRe.exec(this._input);if(w){this._current=this._start+w[0].length;const fe=this._input.substring(this._start,this._current),Ue=Wt._keywords.get(fe);Ue?this._addToken(Ue):this._tokens.push({type:17,lexeme:fe,offset:this._start})}}_quotedString(){for(;this._peek()!==39&&!this._isAtEnd();)this._advance();if(this._isAtEnd()){this._error(G);return}this._advance(),this._tokens.push({type:18,lexeme:this._input.substring(this._start+1,this._current-1),offset:this._start+1})}_regex(){let w=this._current,fe=!1,Ue=!1;for(;;){if(w>=this._input.length){this._current=w,this._error(T);return}const It=this._input.charCodeAt(w);if(fe)fe=!1;else if(It===47&&!Ue){w++;break}else It===91?Ue=!0:It===92?fe=!0:It===93&&(Ue=!1);w++}for(;w<this._input.length&&Wt._regexFlags.has(this._input.charCodeAt(w));)w++;this._current=w;const Oe=this._input.substring(this._start,this._current);this._tokens.push({type:10,lexeme:Oe,offset:this._start})}_isAtEnd(){return this._current>=this._input.length}};s(Wt,"Scanner"),Wt._regexFlags=new Set(["i","g","s","m","y","u"].map(w=>w.charCodeAt(0))),Wt._keywords=new Map([["not",14],["in",13],["false",12],["true",11]]);let Y=Wt;var y=v(2399);const W=new Map;W.set("false",!1),W.set("true",!0),W.set("isMac",o.zx),W.set("isLinux",o.j9),W.set("isWindows",o.uF),W.set("isWeb",o.HZ),W.set("isMacNative",o.zx&&!o.HZ),W.set("isEdge",o.UP),W.set("isFirefox",o.gm),W.set("isChrome",o.H8),W.set("isSafari",o.nr);const P=Object.prototype.hasOwnProperty,O={regexParsingWithErrorRecovery:!0},M=(0,E.kg)("contextkey.parser.error.emptyString","Empty context key expression"),g=(0,E.kg)("contextkey.parser.error.emptyString.hint","Did you forget to write an expression? You can also put 'false' or 'true' to always evaluate to false or true, respectively."),ee=(0,E.kg)("contextkey.parser.error.noInAfterNot","'in' after 'not'."),H=(0,E.kg)("contextkey.parser.error.closingParenthesis","closing parenthesis ')'"),C=(0,E.kg)("contextkey.parser.error.unexpectedToken","Unexpected token"),R=(0,E.kg)("contextkey.parser.error.unexpectedToken.hint","Did you forget to put && or || before the token?"),ie=(0,E.kg)("contextkey.parser.error.unexpectedEOF","Unexpected end of expression"),ue=(0,E.kg)("contextkey.parser.error.unexpectedEOF.hint","Did you forget to put a context key?"),Qt=class Qt{constructor(w=O){this._config=w,this._scanner=new Y,this._tokens=[],this._current=0,this._parsingErrors=[],this._flagsGYRe=/g|y/g}parse(w){if(w===""){this._parsingErrors.push({message:M,offset:0,lexeme:"",additionalInfo:g});return}this._tokens=this._scanner.reset(w).scan(),this._current=0,this._parsingErrors=[];try{const fe=this._expr();if(!this._isAtEnd()){const Ue=this._peek(),Oe=Ue.type===17?R:void 0;throw this._parsingErrors.push({message:C,offset:Ue.offset,lexeme:Y.getLexeme(Ue),additionalInfo:Oe}),Qt._parseError}return fe}catch(fe){if(fe!==Qt._parseError)throw fe;return}}_expr(){return this._or()}_or(){const w=[this._and()];for(;this._matchOne(16);){const fe=this._and();w.push(fe)}return w.length===1?w[0]:he.or(...w)}_and(){const w=[this._term()];for(;this._matchOne(15);){const fe=this._term();w.push(fe)}return w.length===1?w[0]:he.and(...w)}_term(){if(this._matchOne(2)){const w=this._peek();switch(w.type){case 11:return this._advance(),f.INSTANCE;case 12:return this._advance(),d.INSTANCE;case 0:{this._advance();const fe=this._expr();return this._consume(1,H),fe==null?void 0:fe.negate()}case 17:return this._advance(),re.create(w.lexeme);default:throw this._errExpectedButGot("KEY | true | false | '(' expression ')'",w)}}return this._primary()}_primary(){const w=this._peek();switch(w.type){case 11:return this._advance(),he.true();case 12:return this._advance(),he.false();case 0:{this._advance();const fe=this._expr();return this._consume(1,H),fe}case 17:{const fe=w.lexeme;if(this._advance(),this._matchOne(9)){const Oe=this._peek();if(!this._config.regexParsingWithErrorRecovery){if(this._advance(),Oe.type!==10)throw this._errExpectedButGot("REGEX",Oe);const It=Oe.lexeme,rt=It.lastIndexOf("/"),_t=rt===It.length-1?void 0:this._removeFlagsGY(It.substring(rt+1));let Dt;try{Dt=new RegExp(It.substring(1,rt),_t)}catch{throw this._errExpectedButGot("REGEX",Oe)}return A.create(fe,Dt)}switch(Oe.type){case 10:case 19:{const It=[Oe.lexeme];this._advance();let rt=this._peek(),_t=0;for(let cn=0;cn<Oe.lexeme.length;cn++)Oe.lexeme.charCodeAt(cn)===40?_t++:Oe.lexeme.charCodeAt(cn)===41&&_t--;for(;!this._isAtEnd()&&rt.type!==15&&rt.type!==16;){switch(rt.type){case 0:_t++;break;case 1:_t--;break;case 10:case 18:for(let cn=0;cn<rt.lexeme.length;cn++)rt.lexeme.charCodeAt(cn)===40?_t++:Oe.lexeme.charCodeAt(cn)===41&&_t--}if(_t<0)break;It.push(Y.getLexeme(rt)),this._advance(),rt=this._peek()}const Dt=It.join(""),_n=Dt.lastIndexOf("/"),dn=_n===Dt.length-1?void 0:this._removeFlagsGY(Dt.substring(_n+1));let Ut;try{Ut=new RegExp(Dt.substring(1,_n),dn)}catch{throw this._errExpectedButGot("REGEX",Oe)}return he.regex(fe,Ut)}case 18:{const It=Oe.lexeme;this._advance();let rt=null;if(!(0,Q.AV)(It)){const _t=It.indexOf("/"),Dt=It.lastIndexOf("/");if(_t!==Dt&&_t>=0){const _n=It.slice(_t+1,Dt),dn=It[Dt+1]==="i"?"i":"";try{rt=new RegExp(_n,dn)}catch{throw this._errExpectedButGot("REGEX",Oe)}}}if(rt===null)throw this._errExpectedButGot("REGEX",Oe);return A.create(fe,rt)}default:throw this._errExpectedButGot("REGEX",this._peek())}}if(this._matchOne(14)){this._consume(13,ee);const Oe=this._value();return he.notIn(fe,Oe)}switch(this._peek().type){case 3:{this._advance();const Oe=this._value();if(this._previous().type===18)return he.equals(fe,Oe);switch(Oe){case"true":return he.has(fe);case"false":return he.not(fe);default:return he.equals(fe,Oe)}}case 4:{this._advance();const Oe=this._value();if(this._previous().type===18)return he.notEquals(fe,Oe);switch(Oe){case"true":return he.not(fe);case"false":return he.has(fe);default:return he.notEquals(fe,Oe)}}case 5:return this._advance(),we.create(fe,this._value());case 6:return this._advance(),L.create(fe,this._value());case 7:return this._advance(),Se.create(fe,this._value());case 8:return this._advance(),Ae.create(fe,this._value());case 13:return this._advance(),he.in(fe,this._value());default:return he.has(fe)}}case 20:throw this._parsingErrors.push({message:ie,offset:w.offset,lexeme:"",additionalInfo:ue}),Qt._parseError;default:throw this._errExpectedButGot(`true | false | KEY 
	| KEY '=~' REGEX 
	| KEY ('==' | '!=' | '<' | '<=' | '>' | '>=' | 'in' | 'not' 'in') value`,this._peek())}}_value(){const w=this._peek();switch(w.type){case 17:case 18:return this._advance(),w.lexeme;case 11:return this._advance(),"true";case 12:return this._advance(),"false";case 13:return this._advance(),"in";default:return""}}_removeFlagsGY(w){return w.replaceAll(this._flagsGYRe,"")}_previous(){return this._tokens[this._current-1]}_matchOne(w){return this._check(w)?(this._advance(),!0):!1}_advance(){return this._isAtEnd()||this._current++,this._previous()}_consume(w,fe){if(this._check(w))return this._advance();throw this._errExpectedButGot(fe,this._peek())}_errExpectedButGot(w,fe,Ue){const Oe=(0,E.kg)("contextkey.parser.error.expectedButGot",`Expected: {0}
Received: '{1}'.`,w,Y.getLexeme(fe)),It=fe.offset,rt=Y.getLexeme(fe);return this._parsingErrors.push({message:Oe,offset:It,lexeme:rt,additionalInfo:Ue}),Qt._parseError}_check(w){return this._peek().type===w}_peek(){return this._tokens[this._current]}_isAtEnd(){return this._peek().type===20}};s(Qt,"Parser"),Qt._parseError=new Error;let xe=Qt;const Ot=class Ot{static false(){return f.INSTANCE}static true(){return d.INSTANCE}static has(w){return x.create(w)}static equals(w,fe){return B.create(w,fe)}static notEquals(w,fe){return se.create(w,fe)}static regex(w,fe){return A.create(w,fe)}static in(w,fe){return D.create(w,fe)}static notIn(w,fe){return q.create(w,fe)}static not(w){return re.create(w)}static and(...w){return S.create(w,null,!0)}static or(...w){return $.create(w,null,!0)}static deserialize(w){return w==null?void 0:this._parser.parse(w)}};s(Ot,"ContextKeyExpr"),Ot._parser=new xe({regexParsingWithErrorRecovery:!1});let he=Ot;function I(nt,w){const fe=nt?nt.substituteConstants():void 0,Ue=w?w.substituteConstants():void 0;return!fe&&!Ue?!0:!fe||!Ue?!1:fe.equals(Ue)}s(I,"expressionsAreEqualWithConstantSubstitution");function c(nt,w){return nt.cmp(w)}s(c,"cmp");const Xt=class Xt{constructor(){this.type=0}cmp(w){return this.type-w.type}equals(w){return w.type===this.type}substituteConstants(){return this}evaluate(w){return!1}serialize(){return"false"}keys(){return[]}negate(){return d.INSTANCE}};s(Xt,"ContextKeyFalseExpr"),Xt.INSTANCE=new Xt;let f=Xt;const qt=class qt{constructor(){this.type=1}cmp(w){return this.type-w.type}equals(w){return w.type===this.type}substituteConstants(){return this}evaluate(w){return!0}serialize(){return"true"}keys(){return[]}negate(){return f.INSTANCE}};s(qt,"ContextKeyTrueExpr"),qt.INSTANCE=new qt;let d=qt;const nn=class nn{static create(w,fe=null){const Ue=W.get(w);return typeof Ue=="boolean"?Ue?d.INSTANCE:f.INSTANCE:new nn(w,fe)}constructor(w,fe){this.key=w,this.negated=fe,this.type=2}cmp(w){return w.type!==this.type?this.type-w.type:Te(this.key,w.key)}equals(w){return w.type===this.type?this.key===w.key:!1}substituteConstants(){const w=W.get(this.key);return typeof w=="boolean"?w?d.INSTANCE:f.INSTANCE:this}evaluate(w){return!!w.getValue(this.key)}serialize(){return this.key}keys(){return[this.key]}negate(){return this.negated||(this.negated=re.create(this.key,this)),this.negated}};s(nn,"ContextKeyDefinedExpr");let x=nn;const Gt=class Gt{static create(w,fe,Ue=null){if(typeof fe=="boolean")return fe?x.create(w,Ue):re.create(w,Ue);const Oe=W.get(w);return typeof Oe=="boolean"?fe===(Oe?"true":"false")?d.INSTANCE:f.INSTANCE:new Gt(w,fe,Ue)}constructor(w,fe,Ue){this.key=w,this.value=fe,this.negated=Ue,this.type=4}cmp(w){return w.type!==this.type?this.type-w.type:Ne(this.key,this.value,w.key,w.value)}equals(w){return w.type===this.type?this.key===w.key&&this.value===w.value:!1}substituteConstants(){const w=W.get(this.key);if(typeof w=="boolean"){const fe=w?"true":"false";return this.value===fe?d.INSTANCE:f.INSTANCE}return this}evaluate(w){return w.getValue(this.key)==this.value}serialize(){return`${this.key} == '${this.value}'`}keys(){return[this.key]}negate(){return this.negated||(this.negated=se.create(this.key,this.value,this)),this.negated}};s(Gt,"ContextKeyEqualsExpr");let B=Gt;const Bt=class Bt{static create(w,fe){return new Bt(w,fe)}constructor(w,fe){this.key=w,this.valueKey=fe,this.type=10,this.negated=null}cmp(w){return w.type!==this.type?this.type-w.type:Ne(this.key,this.valueKey,w.key,w.valueKey)}equals(w){return w.type===this.type?this.key===w.key&&this.valueKey===w.valueKey:!1}substituteConstants(){return this}evaluate(w){const fe=w.getValue(this.valueKey),Ue=w.getValue(this.key);return Array.isArray(fe)?fe.includes(Ue):typeof Ue=="string"&&typeof fe=="object"&&fe!==null?P.call(fe,Ue):!1}serialize(){return`${this.key} in '${this.valueKey}'`}keys(){return[this.key,this.valueKey]}negate(){return this.negated||(this.negated=q.create(this.key,this.valueKey)),this.negated}};s(Bt,"ContextKeyInExpr");let D=Bt;const Yt=class Yt{static create(w,fe){return new Yt(w,fe)}constructor(w,fe){this.key=w,this.valueKey=fe,this.type=11,this._negated=D.create(w,fe)}cmp(w){return w.type!==this.type?this.type-w.type:this._negated.cmp(w._negated)}equals(w){return w.type===this.type?this._negated.equals(w._negated):!1}substituteConstants(){return this}evaluate(w){return!this._negated.evaluate(w)}serialize(){return`${this.key} not in '${this.valueKey}'`}keys(){return this._negated.keys()}negate(){return this._negated}};s(Yt,"ContextKeyNotInExpr");let q=Yt;const be=class be{static create(w,fe,Ue=null){if(typeof fe=="boolean")return fe?re.create(w,Ue):x.create(w,Ue);const Oe=W.get(w);return typeof Oe=="boolean"?fe===(Oe?"true":"false")?f.INSTANCE:d.INSTANCE:new be(w,fe,Ue)}constructor(w,fe,Ue){this.key=w,this.value=fe,this.negated=Ue,this.type=5}cmp(w){return w.type!==this.type?this.type-w.type:Ne(this.key,this.value,w.key,w.value)}equals(w){return w.type===this.type?this.key===w.key&&this.value===w.value:!1}substituteConstants(){const w=W.get(this.key);if(typeof w=="boolean"){const fe=w?"true":"false";return this.value===fe?f.INSTANCE:d.INSTANCE}return this}evaluate(w){return w.getValue(this.key)!=this.value}serialize(){return`${this.key} != '${this.value}'`}keys(){return[this.key]}negate(){return this.negated||(this.negated=B.create(this.key,this.value,this)),this.negated}};s(be,"ContextKeyNotEqualsExpr");let se=be;const Ee=class Ee{static create(w,fe=null){const Ue=W.get(w);return typeof Ue=="boolean"?Ue?f.INSTANCE:d.INSTANCE:new Ee(w,fe)}constructor(w,fe){this.key=w,this.negated=fe,this.type=3}cmp(w){return w.type!==this.type?this.type-w.type:Te(this.key,w.key)}equals(w){return w.type===this.type?this.key===w.key:!1}substituteConstants(){const w=W.get(this.key);return typeof w=="boolean"?w?f.INSTANCE:d.INSTANCE:this}evaluate(w){return!w.getValue(this.key)}serialize(){return`!${this.key}`}keys(){return[this.key]}negate(){return this.negated||(this.negated=x.create(this.key,this)),this.negated}};s(Ee,"ContextKeyNotExpr");let re=Ee;function _e(nt,w){if(typeof nt=="string"){const fe=parseFloat(nt);isNaN(fe)||(nt=fe)}return typeof nt=="string"||typeof nt=="number"?w(nt):f.INSTANCE}s(_e,"withFloatOrStr");const n=class n{static create(w,fe,Ue=null){return _e(fe,Oe=>new n(w,Oe,Ue))}constructor(w,fe,Ue){this.key=w,this.value=fe,this.negated=Ue,this.type=12}cmp(w){return w.type!==this.type?this.type-w.type:Ne(this.key,this.value,w.key,w.value)}equals(w){return w.type===this.type?this.key===w.key&&this.value===w.value:!1}substituteConstants(){return this}evaluate(w){return typeof this.value=="string"?!1:parseFloat(w.getValue(this.key))>this.value}serialize(){return`${this.key} > ${this.value}`}keys(){return[this.key]}negate(){return this.negated||(this.negated=L.create(this.key,this.value,this)),this.negated}};s(n,"ContextKeyGreaterExpr");let Se=n;const je=class je{static create(w,fe,Ue=null){return _e(fe,Oe=>new je(w,Oe,Ue))}constructor(w,fe,Ue){this.key=w,this.value=fe,this.negated=Ue,this.type=13}cmp(w){return w.type!==this.type?this.type-w.type:Ne(this.key,this.value,w.key,w.value)}equals(w){return w.type===this.type?this.key===w.key&&this.value===w.value:!1}substituteConstants(){return this}evaluate(w){return typeof this.value=="string"?!1:parseFloat(w.getValue(this.key))>=this.value}serialize(){return`${this.key} >= ${this.value}`}keys(){return[this.key]}negate(){return this.negated||(this.negated=we.create(this.key,this.value,this)),this.negated}};s(je,"ContextKeyGreaterEqualsExpr");let Ae=je;const tt=class tt{static create(w,fe,Ue=null){return _e(fe,Oe=>new tt(w,Oe,Ue))}constructor(w,fe,Ue){this.key=w,this.value=fe,this.negated=Ue,this.type=14}cmp(w){return w.type!==this.type?this.type-w.type:Ne(this.key,this.value,w.key,w.value)}equals(w){return w.type===this.type?this.key===w.key&&this.value===w.value:!1}substituteConstants(){return this}evaluate(w){return typeof this.value=="string"?!1:parseFloat(w.getValue(this.key))<this.value}serialize(){return`${this.key} < ${this.value}`}keys(){return[this.key]}negate(){return this.negated||(this.negated=Ae.create(this.key,this.value,this)),this.negated}};s(tt,"ContextKeySmallerExpr");let we=tt;const $e=class $e{static create(w,fe,Ue=null){return _e(fe,Oe=>new $e(w,Oe,Ue))}constructor(w,fe,Ue){this.key=w,this.value=fe,this.negated=Ue,this.type=15}cmp(w){return w.type!==this.type?this.type-w.type:Ne(this.key,this.value,w.key,w.value)}equals(w){return w.type===this.type?this.key===w.key&&this.value===w.value:!1}substituteConstants(){return this}evaluate(w){return typeof this.value=="string"?!1:parseFloat(w.getValue(this.key))<=this.value}serialize(){return`${this.key} <= ${this.value}`}keys(){return[this.key]}negate(){return this.negated||(this.negated=Se.create(this.key,this.value,this)),this.negated}};s($e,"ContextKeySmallerEqualsExpr");let L=$e;const ze=class ze{static create(w,fe){return new ze(w,fe)}constructor(w,fe){this.key=w,this.regexp=fe,this.type=7,this.negated=null}cmp(w){if(w.type!==this.type)return this.type-w.type;if(this.key<w.key)return-1;if(this.key>w.key)return 1;const fe=this.regexp?this.regexp.source:"",Ue=w.regexp?w.regexp.source:"";return fe<Ue?-1:fe>Ue?1:0}equals(w){if(w.type===this.type){const fe=this.regexp?this.regexp.source:"",Ue=w.regexp?w.regexp.source:"";return this.key===w.key&&fe===Ue}return!1}substituteConstants(){return this}evaluate(w){const fe=w.getValue(this.key);return this.regexp?this.regexp.test(fe):!1}serialize(){const w=this.regexp?`/${this.regexp.source}/${this.regexp.flags}`:"/invalid/";return`${this.key} =~ ${w}`}keys(){return[this.key]}negate(){return this.negated||(this.negated=z.create(this)),this.negated}};s(ze,"ContextKeyRegexExpr");let A=ze;const Ze=class Ze{static create(w){return new Ze(w)}constructor(w){this._actual=w,this.type=8}cmp(w){return w.type!==this.type?this.type-w.type:this._actual.cmp(w._actual)}equals(w){return w.type===this.type?this._actual.equals(w._actual):!1}substituteConstants(){return this}evaluate(w){return!this._actual.evaluate(w)}serialize(){return`!(${this._actual.serialize()})`}keys(){return this._actual.keys()}negate(){return this._actual}};s(Ze,"ContextKeyNotRegexExpr");let z=Ze;function b(nt){let w=null;for(let fe=0,Ue=nt.length;fe<Ue;fe++){const Oe=nt[fe].substituteConstants();if(nt[fe]!==Oe&&w===null){w=[];for(let It=0;It<fe;It++)w[It]=nt[It]}w!==null&&(w[fe]=Oe)}return w===null?nt:w}s(b,"eliminateConstantsInArray");const Ge=class Ge{static create(w,fe,Ue){return Ge._normalizeArr(w,fe,Ue)}constructor(w,fe){this.expr=w,this.negated=fe,this.type=6}cmp(w){if(w.type!==this.type)return this.type-w.type;if(this.expr.length<w.expr.length)return-1;if(this.expr.length>w.expr.length)return 1;for(let fe=0,Ue=this.expr.length;fe<Ue;fe++){const Oe=c(this.expr[fe],w.expr[fe]);if(Oe!==0)return Oe}return 0}equals(w){if(w.type===this.type){if(this.expr.length!==w.expr.length)return!1;for(let fe=0,Ue=this.expr.length;fe<Ue;fe++)if(!this.expr[fe].equals(w.expr[fe]))return!1;return!0}return!1}substituteConstants(){const w=b(this.expr);return w===this.expr?this:Ge.create(w,this.negated,!1)}evaluate(w){for(let fe=0,Ue=this.expr.length;fe<Ue;fe++)if(!this.expr[fe].evaluate(w))return!1;return!0}static _normalizeArr(w,fe,Ue){const Oe=[];let It=!1;for(const rt of w)if(rt){if(rt.type===1){It=!0;continue}if(rt.type===0)return f.INSTANCE;if(rt.type===6){Oe.push(...rt.expr);continue}Oe.push(rt)}if(Oe.length===0&&It)return d.INSTANCE;if(Oe.length!==0){if(Oe.length===1)return Oe[0];Oe.sort(c);for(let rt=1;rt<Oe.length;rt++)Oe[rt-1].equals(Oe[rt])&&(Oe.splice(rt,1),rt--);if(Oe.length===1)return Oe[0];for(;Oe.length>1;){const rt=Oe[Oe.length-1];if(rt.type!==9)break;Oe.pop();const _t=Oe.pop(),Dt=Oe.length===0,_n=$.create(rt.expr.map(dn=>Ge.create([dn,_t],null,Ue)),null,Dt);_n&&(Oe.push(_n),Oe.sort(c))}if(Oe.length===1)return Oe[0];if(Ue){for(let rt=0;rt<Oe.length;rt++)for(let _t=rt+1;_t<Oe.length;_t++)if(Oe[rt].negate().equals(Oe[_t]))return f.INSTANCE;if(Oe.length===1)return Oe[0]}return new Ge(Oe,fe)}}serialize(){return this.expr.map(w=>w.serialize()).join(" && ")}keys(){const w=[];for(const fe of this.expr)w.push(...fe.keys());return w}negate(){if(!this.negated){const w=[];for(const fe of this.expr)w.push(fe.negate());this.negated=$.create(w,this,!0)}return this.negated}};s(Ge,"ContextKeyAndExpr");let S=Ge;const Qe=class Qe{static create(w,fe,Ue){return Qe._normalizeArr(w,fe,Ue)}constructor(w,fe){this.expr=w,this.negated=fe,this.type=9}cmp(w){if(w.type!==this.type)return this.type-w.type;if(this.expr.length<w.expr.length)return-1;if(this.expr.length>w.expr.length)return 1;for(let fe=0,Ue=this.expr.length;fe<Ue;fe++){const Oe=c(this.expr[fe],w.expr[fe]);if(Oe!==0)return Oe}return 0}equals(w){if(w.type===this.type){if(this.expr.length!==w.expr.length)return!1;for(let fe=0,Ue=this.expr.length;fe<Ue;fe++)if(!this.expr[fe].equals(w.expr[fe]))return!1;return!0}return!1}substituteConstants(){const w=b(this.expr);return w===this.expr?this:Qe.create(w,this.negated,!1)}evaluate(w){for(let fe=0,Ue=this.expr.length;fe<Ue;fe++)if(this.expr[fe].evaluate(w))return!0;return!1}static _normalizeArr(w,fe,Ue){let Oe=[],It=!1;if(w){for(let rt=0,_t=w.length;rt<_t;rt++){const Dt=w[rt];if(Dt){if(Dt.type===0){It=!0;continue}if(Dt.type===1)return d.INSTANCE;if(Dt.type===9){Oe=Oe.concat(Dt.expr);continue}Oe.push(Dt)}}if(Oe.length===0&&It)return f.INSTANCE;Oe.sort(c)}if(Oe.length!==0){if(Oe.length===1)return Oe[0];for(let rt=1;rt<Oe.length;rt++)Oe[rt-1].equals(Oe[rt])&&(Oe.splice(rt,1),rt--);if(Oe.length===1)return Oe[0];if(Ue){for(let rt=0;rt<Oe.length;rt++)for(let _t=rt+1;_t<Oe.length;_t++)if(Oe[rt].negate().equals(Oe[_t]))return d.INSTANCE;if(Oe.length===1)return Oe[0]}return new Qe(Oe,fe)}}serialize(){return this.expr.map(w=>w.serialize()).join(" || ")}keys(){const w=[];for(const fe of this.expr)w.push(...fe.keys());return w}negate(){if(!this.negated){const w=[];for(const fe of this.expr)w.push(fe.negate());for(;w.length>1;){const fe=w.shift(),Ue=w.shift(),Oe=[];for(const It of Xe(fe))for(const rt of Xe(Ue))Oe.push(S.create([It,rt],null,!1));w.unshift(Qe.create(Oe,null,!1))}this.negated=Qe.create(w,this,!0)}return this.negated}};s(Qe,"ContextKeyOrExpr");let $=Qe;const et=class et extends x{static all(){return et._info.values()}constructor(w,fe,Ue){super(w,null),this._defaultValue=fe,typeof Ue=="object"?et._info.push({...Ue,key:w}):Ue!==!0&&et._info.push({key:w,description:Ue,type:fe!=null?typeof fe:void 0})}bindTo(w){return w.createKey(this.key,this._defaultValue)}getValue(w){return w.getContextKeyValue(this.key)}toNegated(){return this.negate()}isEqualTo(w){return B.create(this.key,w)}};s(et,"RawContextKey"),et._info=[];let te=et;const ce=(0,y.u1)("contextKeyService");function Te(nt,w){return nt<w?-1:nt>w?1:0}s(Te,"cmp1");function Ne(nt,w,fe,Ue){return nt<fe?-1:nt>fe?1:w<Ue?-1:w>Ue?1:0}s(Ne,"cmp2");function He(nt,w){if(nt.type===0||w.type===1)return!0;if(nt.type===9)return w.type===9?Pe(nt.expr,w.expr):!1;if(w.type===9){for(const fe of w.expr)if(He(nt,fe))return!0;return!1}if(nt.type===6){if(w.type===6)return Pe(w.expr,nt.expr);for(const fe of nt.expr)if(He(fe,w))return!0;return!1}return nt.equals(w)}s(He,"implies");function Pe(nt,w){let fe=0,Ue=0;for(;fe<nt.length&&Ue<w.length;){const Oe=nt[fe].cmp(w[Ue]);if(Oe<0)return!1;Oe===0&&fe++,Ue++}return fe===nt.length}s(Pe,"allElementsIncluded");function Xe(nt){return nt.type===9?nt.expr:[nt]}s(Xe,"getTerminals");const xt=(0,y.u1)("logService");var dt;(function(nt){nt[nt.Off=0]="Off",nt[nt.Trace=1]="Trace",nt[nt.Debug=2]="Debug",nt[nt.Info=3]="Info",nt[nt.Warning=4]="Warning",nt[nt.Error=5]="Error"})(dt||(dt={}));const Zt=dt.Info,mt=class mt extends K.jG{constructor(){super(...arguments),this.level=Zt,this._onDidChangeLogLevel=this._register(new N.vl),this.onDidChangeLogLevel=this._onDidChangeLogLevel.event}setLevel(w){this.level!==w&&(this.level=w,this._onDidChangeLogLevel.fire(this.level))}getLevel(){return this.level}checkLogLevel(w){return this.level!==dt.Off&&this.level<=w}};s(mt,"AbstractLogger");let $t=mt;const Ct=class Ct extends $t{constructor(w=Zt,fe=!0){super(),this.useColors=fe,this.setLevel(w)}trace(w,...fe){this.checkLogLevel(dt.Trace)&&(this.useColors?console.log("%cTRACE","color: #888",w,...fe):console.log(w,...fe))}debug(w,...fe){this.checkLogLevel(dt.Debug)&&(this.useColors?console.log("%cDEBUG","background: #eee; color: #888",w,...fe):console.log(w,...fe))}info(w,...fe){this.checkLogLevel(dt.Info)&&(this.useColors?console.log("%c INFO","color: #33f",w,...fe):console.log(w,...fe))}warn(w,...fe){this.checkLogLevel(dt.Warning)&&(this.useColors?console.log("%c WARN","color: #993",w,...fe):console.log(w,...fe))}error(w,...fe){this.checkLogLevel(dt.Error)&&(this.useColors?console.log("%c  ERR","color: #f33",w,...fe):console.error(w,...fe))}};s(Ct,"ConsoleLogger");let Pt=Ct;const At=class At extends $t{constructor(w){super(),this.loggers=w,w.length&&this.setLevel(w[0].getLevel())}setLevel(w){for(const fe of this.loggers)fe.setLevel(w);super.setLevel(w)}trace(w,...fe){for(const Ue of this.loggers)Ue.trace(w,...fe)}debug(w,...fe){for(const Ue of this.loggers)Ue.debug(w,...fe)}info(w,...fe){for(const Ue of this.loggers)Ue.info(w,...fe)}warn(w,...fe){for(const Ue of this.loggers)Ue.warn(w,...fe)}error(w,...fe){for(const Ue of this.loggers)Ue.error(w,...fe)}dispose(){for(const w of this.loggers)w.dispose();super.dispose()}};s(At,"MultiplexLogger");let Jt=At;function Rt(nt){switch(nt){case dt.Trace:return"trace";case dt.Debug:return"debug";case dt.Info:return"info";case dt.Warning:return"warn";case dt.Error:return"error";case dt.Off:return"off"}}s(Rt,"LogLevelToString");const Mt=new te("logLevel",Rt(dt.Info))},7167:(qe,Ce,v)=>{"use strict";v.d(Ce,{O:s(()=>Q,"O")});var N=v(7110),K=v(9359);const V=class V{constructor(){this.data=new Map}add(u,G){N.ok(K.Kg(u)),N.ok(K.Gv(G)),N.ok(!this.data.has(u),"There is already an extension with this id"),this.data.set(u,G)}as(u){return this.data.get(u)||null}};s(V,"RegistryImpl");let o=V;const Q=new o},61:(qe,Ce,v)=>{"use strict";v.d(Ce,{buw:s(()=>_e,"buw"),b1q:s(()=>re,"b1q"),YtV:s(()=>dt,"YtV"),Ubg:s(()=>At,"Ubg"),IIb:s(()=>n,"IIb"),pOz:s(()=>Ee,"pOz"),whs:s(()=>Gt,"whs"),Stt:s(()=>Yt,"Stt"),Hng:s(()=>Bt,"Hng"),yLC:s(()=>Jn,"yLC"),KoI:s(()=>Wi,"KoI"),uMG:s(()=>Si,"uMG"),x1A:s(()=>g,"x1A")});var N=v(7110),K=v(1946),o=v(4901),Q=v(2106),V=v(1460),E=v(7167),u=v(9746);function G(ct){return`--vscode-${ct.replace(/\./g,"-")}`}s(G,"asCssVariableName");function T(ct){return`var(${G(ct)})`}s(T,"asCssVariable");function Y(ct,St){return`var(${G(ct)}, ${St})`}s(Y,"asCssVariableWithDefault");function y(ct){return ct!==null&&typeof ct=="object"&&"light"in ct&&"dark"in ct}s(y,"isColorDefaults");const W={ColorContribution:"base.contributions.colors"},P="default",vs=class vs{constructor(){this._onDidChangeSchema=new Q.vl,this.onDidChangeSchema=this._onDidChangeSchema.event,this.colorSchema={type:"object",properties:{}},this.colorReferenceSchema={type:"string",enum:[],enumDescriptions:[]},this.colorsById={}}registerColor(St,Kt,en,xn=!1,$n){const Tn={id:St,description:en,defaults:Kt,needsTransparency:xn,deprecationMessage:$n};this.colorsById[St]=Tn;const pn={type:"string",format:"color-hex",defaultSnippets:[{body:"${1:#ff0000}"}]};return $n&&(pn.deprecationMessage=$n),xn&&(pn.pattern="^#(?:(?<rgba>[0-9a-fA-f]{3}[0-9a-eA-E])|(?:[0-9a-fA-F]{6}(?:(?![fF]{2})(?:[0-9a-fA-F]{2}))))?$",pn.patternErrorMessage=u.kg("transparecyRequired","This color must be transparent or it will obscure content")),this.colorSchema.properties[St]={description:en,oneOf:[pn,{type:"string",const:P,description:u.kg("useDefault","Use the default color.")}]},this.colorReferenceSchema.enum.push(St),this.colorReferenceSchema.enumDescriptions.push(en),this._onDidChangeSchema.fire(),St}getColors(){return Object.keys(this.colorsById).map(St=>this.colorsById[St])}resolveDefaultColor(St,Kt){const en=this.colorsById[St];if(en!=null&&en.defaults){const xn=y(en.defaults)?en.defaults[Kt.type]:en.defaults;return he(xn,Kt)}}getColorSchema(){return this.colorSchema}toString(){const St=s((Kt,en)=>{const xn=Kt.indexOf(".")===-1?0:1,$n=en.indexOf(".")===-1?0:1;return xn!==$n?xn-$n:Kt.localeCompare(en)},"sorter");return Object.keys(this.colorsById).sort(St).map(Kt=>`- \`${Kt}\`: ${this.colorsById[Kt].description}`).join(`
`)}};s(vs,"ColorRegistry");let O=vs;const M=new O;E.O.add(W.ColorContribution,M);function g(ct,St,Kt,en,xn){return M.registerColor(ct,St,Kt,en,xn)}s(g,"registerColor");function ee(ct,St){var Kt,en,xn,$n;switch(ct.op){case 0:return(Kt=he(ct.value,St))==null?void 0:Kt.darken(ct.factor);case 1:return(en=he(ct.value,St))==null?void 0:en.lighten(ct.factor);case 2:return(xn=he(ct.value,St))==null?void 0:xn.transparent(ct.factor);case 3:{const Tn=he(ct.background,St);return Tn?($n=he(ct.value,St))==null?void 0:$n.makeOpaque(Tn):he(ct.value,St)}case 4:for(const Tn of ct.values){const pn=he(Tn,St);if(pn)return pn}return;case 6:return he(St.defines(ct.if)?ct.then:ct.else,St);case 5:{const Tn=he(ct.value,St);if(!Tn)return;const pn=he(ct.background,St);return pn?Tn.isDarkerThan(pn)?o.Q1.getLighterColor(Tn,pn,ct.factor).transparent(ct.transparency):o.Q1.getDarkerColor(Tn,pn,ct.factor).transparent(ct.transparency):Tn.transparent(ct.factor*ct.transparency)}default:throw(0,N.xb)(ct)}}s(ee,"executeTransform");function H(ct,St){return{op:0,value:ct,factor:St}}s(H,"darken");function C(ct,St){return{op:1,value:ct,factor:St}}s(C,"lighten");function R(ct,St){return{op:2,value:ct,factor:St}}s(R,"transparent");function ie(...ct){return{op:4,values:ct}}s(ie,"oneOf");function ue(ct,St,Kt){return{op:6,if:ct,then:St,else:Kt}}s(ue,"ifDefinedThenElse");function xe(ct,St,Kt,en){return{op:5,value:ct,background:St,factor:Kt,transparency:en}}s(xe,"lessProminent");function he(ct,St){if(ct!==null){if(typeof ct=="string")return ct[0]==="#"?o.Q1.fromHex(ct):St.getColor(ct);if(ct instanceof o.Q1)return ct;if(typeof ct=="object")return ee(ct,St)}}s(he,"resolveColorValue");const I="vscode://schemas/workbench-colors",c=E.O.as(V.F.JSONContribution);c.registerSchema(I,M.getColorSchema());const f=new K.uC(()=>c.notifySchemaChanged(I),200);M.onDidChangeSchema(()=>{f.isScheduled()||f.schedule()});const d=g("foreground",{dark:"#CCCCCC",light:"#616161",hcDark:"#FFFFFF",hcLight:"#292929"},u.kg("foreground","Overall foreground color. This color is only used if not overridden by a component.")),x=g("disabledForeground",{dark:"#CCCCCC80",light:"#61616180",hcDark:"#A5A5A5",hcLight:"#7F7F7F"},u.kg("disabledForeground","Overall foreground for disabled elements. This color is only used if not overridden by a component.")),B=g("errorForeground",{dark:"#F48771",light:"#A1260D",hcDark:"#F48771",hcLight:"#B5200D"},u.kg("errorForeground","Overall foreground color for error messages. This color is only used if not overridden by a component.")),D=g("descriptionForeground",{light:"#717171",dark:R(d,.7),hcDark:R(d,.7),hcLight:R(d,.7)},u.kg("descriptionForeground","Foreground color for description text providing additional information, for example for a label.")),q=g("icon.foreground",{dark:"#C5C5C5",light:"#424242",hcDark:"#FFFFFF",hcLight:"#292929"},u.kg("iconForeground","The default color for icons in the workbench.")),se=g("focusBorder",{dark:"#007FD4",light:"#0090F1",hcDark:"#F38518",hcLight:"#006BBD"},u.kg("focusBorder","Overall border color for focused elements. This color is only used if not overridden by a component.")),re=g("contrastBorder",{light:null,dark:null,hcDark:"#6FC3DF",hcLight:"#0F4A85"},u.kg("contrastBorder","An extra border around elements to separate them from others for greater contrast.")),_e=g("contrastActiveBorder",{light:null,dark:null,hcDark:se,hcLight:se},u.kg("activeContrastBorder","An extra border around active elements to separate them from others for greater contrast.")),Se=g("selection.background",null,u.kg("selectionBackground","The background color of text selections in the workbench (e.g. for input fields or text areas). Note that this does not apply to selections within the editor.")),Ae=g("textLink.foreground",{light:"#006AB1",dark:"#3794FF",hcDark:"#21A6FF",hcLight:"#0F4A85"},u.kg("textLinkForeground","Foreground color for links in text.")),we=g("textLink.activeForeground",{light:"#006AB1",dark:"#3794FF",hcDark:"#21A6FF",hcLight:"#0F4A85"},u.kg("textLinkActiveForeground","Foreground color for links in text when clicked on and on mouse hover.")),L=g("textSeparator.foreground",{light:"#0000002e",dark:"#ffffff2e",hcDark:o.Q1.black,hcLight:"#292929"},u.kg("textSeparatorForeground","Color for text separators.")),A=g("textPreformat.foreground",{light:"#A31515",dark:"#D7BA7D",hcDark:"#000000",hcLight:"#FFFFFF"},u.kg("textPreformatForeground","Foreground color for preformatted text segments.")),z=g("textPreformat.background",{light:"#0000001A",dark:"#FFFFFF1A",hcDark:"#FFFFFF",hcLight:"#09345f"},u.kg("textPreformatBackground","Background color for preformatted text segments.")),b=g("textBlockQuote.background",{light:"#f2f2f2",dark:"#222222",hcDark:null,hcLight:"#F2F2F2"},u.kg("textBlockQuoteBackground","Background color for block quotes in text.")),S=g("textBlockQuote.border",{light:"#007acc80",dark:"#007acc80",hcDark:o.Q1.white,hcLight:"#292929"},u.kg("textBlockQuoteBorder","Border color for block quotes in text.")),$=g("textCodeBlock.background",{light:"#dcdcdc66",dark:"#0a0a0a66",hcDark:o.Q1.black,hcLight:"#F2F2F2"},u.kg("textCodeBlockBackground","Background color for code blocks in text.")),te=g("sash.hoverBorder",se,u.kg("sashActiveBorder","Border color of active sashes.")),ce=g("badge.background",{dark:"#4D4D4D",light:"#C4C4C4",hcDark:o.Q1.black,hcLight:"#0F4A85"},u.kg("badgeBackground","Badge background color. Badges are small information labels, e.g. for search results count.")),Te=g("badge.foreground",{dark:o.Q1.white,light:"#333",hcDark:o.Q1.white,hcLight:o.Q1.white},u.kg("badgeForeground","Badge foreground color. Badges are small information labels, e.g. for search results count.")),Ne=g("scrollbar.shadow",{dark:"#000000",light:"#DDDDDD",hcDark:null,hcLight:null},u.kg("scrollbarShadow","Scrollbar shadow to indicate that the view is scrolled.")),He=g("scrollbarSlider.background",{dark:o.Q1.fromHex("#797979").transparent(.4),light:o.Q1.fromHex("#646464").transparent(.4),hcDark:R(re,.6),hcLight:R(re,.4)},u.kg("scrollbarSliderBackground","Scrollbar slider background color.")),Pe=g("scrollbarSlider.hoverBackground",{dark:o.Q1.fromHex("#646464").transparent(.7),light:o.Q1.fromHex("#646464").transparent(.7),hcDark:R(re,.8),hcLight:R(re,.8)},u.kg("scrollbarSliderHoverBackground","Scrollbar slider background color when hovering.")),Xe=g("scrollbarSlider.activeBackground",{dark:o.Q1.fromHex("#BFBFBF").transparent(.4),light:o.Q1.fromHex("#000000").transparent(.6),hcDark:re,hcLight:re},u.kg("scrollbarSliderActiveBackground","Scrollbar slider background color when clicked on.")),xt=g("progressBar.background",{dark:o.Q1.fromHex("#0E70C0"),light:o.Q1.fromHex("#0E70C0"),hcDark:re,hcLight:re},u.kg("progressBarBackground","Background color of the progress bar that can show for long running operations.")),dt=g("editor.background",{light:"#ffffff",dark:"#1E1E1E",hcDark:o.Q1.black,hcLight:o.Q1.white},u.kg("editorBackground","Editor background color.")),Zt=g("editor.foreground",{light:"#333333",dark:"#BBBBBB",hcDark:o.Q1.white,hcLight:d},u.kg("editorForeground","Editor default foreground color.")),$t=g("editorStickyScroll.background",dt,u.kg("editorStickyScrollBackground","Background color of sticky scroll in the editor")),Pt=g("editorStickyScrollHover.background",{dark:"#2A2D2E",light:"#F0F0F0",hcDark:null,hcLight:o.Q1.fromHex("#0F4A85").transparent(.1)},u.kg("editorStickyScrollHoverBackground","Background color of sticky scroll on hover in the editor")),Jt=g("editorStickyScroll.border",{dark:null,light:null,hcDark:re,hcLight:re},u.kg("editorStickyScrollBorder","Border color of sticky scroll in the editor")),Rt=g("editorStickyScroll.shadow",Ne,u.kg("editorStickyScrollShadow"," Shadow color of sticky scroll in the editor")),Mt=g("editorWidget.background",{dark:"#252526",light:"#F3F3F3",hcDark:"#0C141F",hcLight:o.Q1.white},u.kg("editorWidgetBackground","Background color of editor widgets, such as find/replace.")),Wt=g("editorWidget.foreground",d,u.kg("editorWidgetForeground","Foreground color of editor widgets, such as find/replace.")),Qt=g("editorWidget.border",{dark:"#454545",light:"#C8C8C8",hcDark:re,hcLight:re},u.kg("editorWidgetBorder","Border color of editor widgets. The color is only used if the widget chooses to have a border and if the color is not overridden by a widget.")),Ot=g("editorWidget.resizeBorder",null,u.kg("editorWidgetResizeBorder","Border color of the resize bar of editor widgets. The color is only used if the widget chooses to have a resize border and if the color is not overridden by a widget.")),Xt=g("editorError.background",null,u.kg("editorError.background","Background color of error text in the editor. The color must not be opaque so as not to hide underlying decorations."),!0),qt=g("editorError.foreground",{dark:"#F14C4C",light:"#E51400",hcDark:"#F48771",hcLight:"#B5200D"},u.kg("editorError.foreground","Foreground color of error squigglies in the editor.")),nn=g("editorError.border",{dark:null,light:null,hcDark:o.Q1.fromHex("#E47777").transparent(.8),hcLight:"#B5200D"},u.kg("errorBorder","If set, color of double underlines for errors in the editor.")),Gt=g("editorWarning.background",null,u.kg("editorWarning.background","Background color of warning text in the editor. The color must not be opaque so as not to hide underlying decorations."),!0),Bt=g("editorWarning.foreground",{dark:"#CCA700",light:"#BF8803",hcDark:"#FFD370",hcLight:"#895503"},u.kg("editorWarning.foreground","Foreground color of warning squigglies in the editor.")),Yt=g("editorWarning.border",{dark:null,light:null,hcDark:o.Q1.fromHex("#FFCC00").transparent(.8),hcLight:o.Q1.fromHex("#FFCC00").transparent(.8)},u.kg("warningBorder","If set, color of double underlines for warnings in the editor.")),be=g("editorInfo.background",null,u.kg("editorInfo.background","Background color of info text in the editor. The color must not be opaque so as not to hide underlying decorations."),!0),Ee=g("editorInfo.foreground",{dark:"#3794FF",light:"#1a85ff",hcDark:"#3794FF",hcLight:"#1a85ff"},u.kg("editorInfo.foreground","Foreground color of info squigglies in the editor.")),n=g("editorInfo.border",{dark:null,light:null,hcDark:o.Q1.fromHex("#3794FF").transparent(.8),hcLight:"#292929"},u.kg("infoBorder","If set, color of double underlines for infos in the editor.")),je=g("editorHint.foreground",{dark:o.Q1.fromHex("#eeeeee").transparent(.7),light:"#6c6c6c",hcDark:null,hcLight:null},u.kg("editorHint.foreground","Foreground color of hint squigglies in the editor.")),tt=g("editorHint.border",{dark:null,light:null,hcDark:o.Q1.fromHex("#eeeeee").transparent(.8),hcLight:"#292929"},u.kg("hintBorder","If set, color of double underlines for hints in the editor.")),$e=g("editorLink.activeForeground",{dark:"#4E94CE",light:o.Q1.blue,hcDark:o.Q1.cyan,hcLight:"#292929"},u.kg("activeLinkForeground","Color of active links.")),ze=g("editor.selectionBackground",{light:"#ADD6FF",dark:"#264F78",hcDark:"#f3f518",hcLight:"#0F4A85"},u.kg("editorSelectionBackground","Color of the editor selection.")),Ze=g("editor.selectionForeground",{light:null,dark:null,hcDark:"#000000",hcLight:o.Q1.white},u.kg("editorSelectionForeground","Color of the selected text for high contrast.")),Ge=g("editor.inactiveSelectionBackground",{light:R(ze,.5),dark:R(ze,.5),hcDark:R(ze,.7),hcLight:R(ze,.5)},u.kg("editorInactiveSelection","Color of the selection in an inactive editor. The color must not be opaque so as not to hide underlying decorations."),!0),Qe=g("editor.selectionHighlightBackground",{light:xe(ze,dt,.3,.6),dark:xe(ze,dt,.3,.6),hcDark:null,hcLight:null},u.kg("editorSelectionHighlight","Color for regions with the same content as the selection. The color must not be opaque so as not to hide underlying decorations."),!0),et=g("editor.selectionHighlightBorder",{light:null,dark:null,hcDark:_e,hcLight:_e},u.kg("editorSelectionHighlightBorder","Border color for regions with the same content as the selection.")),mt=g("editor.findMatchBackground",{light:"#A8AC94",dark:"#515C6A",hcDark:null,hcLight:null},u.kg("editorFindMatch","Color of the current search match.")),Ct=g("editor.findMatchForeground",null,u.kg("editorFindMatchForeground","Text color of the current search match.")),At=g("editor.findMatchHighlightBackground",{light:"#EA5C0055",dark:"#EA5C0055",hcDark:null,hcLight:null},u.kg("findMatchHighlight","Color of the other search matches. The color must not be opaque so as not to hide underlying decorations."),!0),nt=g("editor.findMatchHighlightForeground",null,u.kg("findMatchHighlightForeground","Foreground color of the other search matches."),!0),w=g("editor.findRangeHighlightBackground",{dark:"#3a3d4166",light:"#b4b4b44d",hcDark:null,hcLight:null},u.kg("findRangeHighlight","Color of the range limiting the search. The color must not be opaque so as not to hide underlying decorations."),!0),fe=g("editor.findMatchBorder",{light:null,dark:null,hcDark:_e,hcLight:_e},u.kg("editorFindMatchBorder","Border color of the current search match.")),Ue=g("editor.findMatchHighlightBorder",{light:null,dark:null,hcDark:_e,hcLight:_e},u.kg("findMatchHighlightBorder","Border color of the other search matches.")),Oe=g("editor.findRangeHighlightBorder",{dark:null,light:null,hcDark:R(_e,.4),hcLight:R(_e,.4)},u.kg("findRangeHighlightBorder","Border color of the range limiting the search. The color must not be opaque so as not to hide underlying decorations."),!0),It=g("editor.hoverHighlightBackground",{light:"#ADD6FF26",dark:"#264f7840",hcDark:"#ADD6FF26",hcLight:null},u.kg("hoverHighlight","Highlight below the word for which a hover is shown. The color must not be opaque so as not to hide underlying decorations."),!0),rt=g("editorHoverWidget.background",Mt,u.kg("hoverBackground","Background color of the editor hover.")),_t=g("editorHoverWidget.foreground",Wt,u.kg("hoverForeground","Foreground color of the editor hover.")),Dt=g("editorHoverWidget.border",Qt,u.kg("hoverBorder","Border color of the editor hover.")),_n=g("editorHoverWidget.statusBarBackground",{dark:C(rt,.2),light:H(rt,.05),hcDark:Mt,hcLight:Mt},u.kg("statusBarBackground","Background color of the editor hover status bar.")),dn=g("editorInlayHint.foreground",{dark:"#969696",light:"#969696",hcDark:o.Q1.white,hcLight:o.Q1.black},u.kg("editorInlayHintForeground","Foreground color of inline hints")),Ut=g("editorInlayHint.background",{dark:R(ce,.1),light:R(ce,.1),hcDark:R(o.Q1.white,.1),hcLight:R(ce,.1)},u.kg("editorInlayHintBackground","Background color of inline hints")),cn=g("editorInlayHint.typeForeground",dn,u.kg("editorInlayHintForegroundTypes","Foreground color of inline hints for types")),hi=g("editorInlayHint.typeBackground",Ut,u.kg("editorInlayHintBackgroundTypes","Background color of inline hints for types")),Rn=g("editorInlayHint.parameterForeground",dn,u.kg("editorInlayHintForegroundParameter","Foreground color of inline hints for parameters")),Mn=g("editorInlayHint.parameterBackground",Ut,u.kg("editorInlayHintBackgroundParameter","Background color of inline hints for parameters")),bn=g("editorLightBulb.foreground",{dark:"#FFCC00",light:"#DDB100",hcDark:"#FFCC00",hcLight:"#007ACC"},u.kg("editorLightBulbForeground","The color used for the lightbulb actions icon.")),wn=g("editorLightBulbAutoFix.foreground",{dark:"#75BEFF",light:"#007ACC",hcDark:"#75BEFF",hcLight:"#007ACC"},u.kg("editorLightBulbAutoFixForeground","The color used for the lightbulb auto fix actions icon.")),On=g("editorLightBulbAi.foreground",bn,u.kg("editorLightBulbAiForeground","The color used for the lightbulb AI icon.")),mn=g("editor.snippetTabstopHighlightBackground",{dark:new o.Q1(new o.bU(124,124,124,.3)),light:new o.Q1(new o.bU(10,50,100,.2)),hcDark:new o.Q1(new o.bU(124,124,124,.3)),hcLight:new o.Q1(new o.bU(10,50,100,.2))},u.kg("snippetTabstopHighlightBackground","Highlight background color of a snippet tabstop.")),vi=g("editor.snippetTabstopHighlightBorder",null,u.kg("snippetTabstopHighlightBorder","Highlight border color of a snippet tabstop.")),Sn=g("editor.snippetFinalTabstopHighlightBackground",null,u.kg("snippetFinalTabstopHighlightBackground","Highlight background color of the final tabstop of a snippet.")),En=g("editor.snippetFinalTabstopHighlightBorder",{dark:"#525252",light:new o.Q1(new o.bU(10,50,100,.5)),hcDark:"#525252",hcLight:"#292929"},u.kg("snippetFinalTabstopHighlightBorder","Highlight border color of the final tabstop of a snippet.")),Gn=new o.Q1(new o.bU(155,185,85,.2)),yn=new o.Q1(new o.bU(255,0,0,.2)),sn=g("diffEditor.insertedTextBackground",{dark:"#9ccc2c33",light:"#9ccc2c40",hcDark:null,hcLight:null},u.kg("diffEditorInserted","Background color for text that got inserted. The color must not be opaque so as not to hide underlying decorations."),!0),Fn=g("diffEditor.removedTextBackground",{dark:"#ff000033",light:"#ff000033",hcDark:null,hcLight:null},u.kg("diffEditorRemoved","Background color for text that got removed. The color must not be opaque so as not to hide underlying decorations."),!0),di=g("diffEditor.insertedLineBackground",{dark:Gn,light:Gn,hcDark:null,hcLight:null},u.kg("diffEditorInsertedLines","Background color for lines that got inserted. The color must not be opaque so as not to hide underlying decorations."),!0),Qn=g("diffEditor.removedLineBackground",{dark:yn,light:yn,hcDark:null,hcLight:null},u.kg("diffEditorRemovedLines","Background color for lines that got removed. The color must not be opaque so as not to hide underlying decorations."),!0),ii=g("diffEditorGutter.insertedLineBackground",null,u.kg("diffEditorInsertedLineGutter","Background color for the margin where lines got inserted.")),ln=g("diffEditorGutter.removedLineBackground",null,u.kg("diffEditorRemovedLineGutter","Background color for the margin where lines got removed.")),qn=g("diffEditorOverview.insertedForeground",null,u.kg("diffEditorOverviewInserted","Diff overview ruler foreground for inserted content.")),In=g("diffEditorOverview.removedForeground",null,u.kg("diffEditorOverviewRemoved","Diff overview ruler foreground for removed content.")),fn=g("diffEditor.insertedTextBorder",{dark:null,light:null,hcDark:"#33ff2eff",hcLight:"#374E06"},u.kg("diffEditorInsertedOutline","Outline color for the text that got inserted.")),fi=g("diffEditor.removedTextBorder",{dark:null,light:null,hcDark:"#FF008F",hcLight:"#AD0707"},u.kg("diffEditorRemovedOutline","Outline color for text that got removed.")),Pn=g("diffEditor.border",{dark:null,light:null,hcDark:re,hcLight:re},u.kg("diffEditorBorder","Border color between the two text editors.")),Nn=g("diffEditor.diagonalFill",{dark:"#cccccc33",light:"#22222233",hcDark:null,hcLight:null},u.kg("diffDiagonalFill","Color of the diff editor's diagonal fill. The diagonal fill is used in side-by-side diff views.")),ve=g("diffEditor.unchangedRegionBackground","sideBar.background",u.kg("diffEditor.unchangedRegionBackground","The background color of unchanged blocks in the diff editor.")),U=g("diffEditor.unchangedRegionForeground","foreground",u.kg("diffEditor.unchangedRegionForeground","The foreground color of unchanged blocks in the diff editor.")),le=g("diffEditor.unchangedCodeBackground",{dark:"#74747429",light:"#b8b8b829",hcDark:null,hcLight:null},u.kg("diffEditor.unchangedCodeBackground","The background color of unchanged code in the diff editor.")),ye=g("widget.shadow",{dark:R(o.Q1.black,.36),light:R(o.Q1.black,.16),hcDark:null,hcLight:null},u.kg("widgetShadow","Shadow color of widgets such as find/replace inside the editor.")),We=g("widget.border",{dark:null,light:null,hcDark:re,hcLight:re},u.kg("widgetBorder","Border color of widgets such as find/replace inside the editor.")),Je=g("toolbar.hoverBackground",{dark:"#5a5d5e50",light:"#b8b8b850",hcDark:null,hcLight:null},u.kg("toolbarHoverBackground","Toolbar background when hovering over actions using the mouse")),ut=g("toolbar.hoverOutline",{dark:null,light:null,hcDark:_e,hcLight:_e},u.kg("toolbarHoverOutline","Toolbar outline when hovering over actions using the mouse")),Et=g("toolbar.activeBackground",{dark:C(Je,.1),light:H(Je,.1),hcDark:null,hcLight:null},u.kg("toolbarActiveBackground","Toolbar background when holding the mouse over actions")),rn=g("breadcrumb.foreground",R(d,.8),u.kg("breadcrumbsFocusForeground","Color of focused breadcrumb items.")),kn=g("breadcrumb.background",dt,u.kg("breadcrumbsBackground","Background color of breadcrumb items.")),an=g("breadcrumb.focusForeground",{light:H(d,.2),dark:C(d,.1),hcDark:C(d,.1),hcLight:C(d,.1)},u.kg("breadcrumbsFocusForeground","Color of focused breadcrumb items.")),si=g("breadcrumb.activeSelectionForeground",{light:H(d,.2),dark:C(d,.1),hcDark:C(d,.1),hcLight:C(d,.1)},u.kg("breadcrumbsSelectedForeground","Color of selected breadcrumb items.")),gn=g("breadcrumbPicker.background",Mt,u.kg("breadcrumbsSelectedBackground","Background color of breadcrumb item picker.")),Cn=.5,Wn=o.Q1.fromHex("#40C8AE").transparent(Cn),zn=o.Q1.fromHex("#40A6FF").transparent(Cn),ri=o.Q1.fromHex("#606060").transparent(.4),Yn=.4,An=1,Un=g("merge.currentHeaderBackground",{dark:Wn,light:Wn,hcDark:null,hcLight:null},u.kg("mergeCurrentHeaderBackground","Current header background in inline merge-conflicts. The color must not be opaque so as not to hide underlying decorations."),!0),Pi=g("merge.currentContentBackground",R(Un,Yn),u.kg("mergeCurrentContentBackground","Current content background in inline merge-conflicts. The color must not be opaque so as not to hide underlying decorations."),!0),Kn=g("merge.incomingHeaderBackground",{dark:zn,light:zn,hcDark:null,hcLight:null},u.kg("mergeIncomingHeaderBackground","Incoming header background in inline merge-conflicts. The color must not be opaque so as not to hide underlying decorations."),!0),Ai=g("merge.incomingContentBackground",R(Kn,Yn),u.kg("mergeIncomingContentBackground","Incoming content background in inline merge-conflicts. The color must not be opaque so as not to hide underlying decorations."),!0),Vn=g("merge.commonHeaderBackground",{dark:ri,light:ri,hcDark:null,hcLight:null},u.kg("mergeCommonHeaderBackground","Common ancestor header background in inline merge-conflicts. The color must not be opaque so as not to hide underlying decorations."),!0),Li=g("merge.commonContentBackground",R(Vn,Yn),u.kg("mergeCommonContentBackground","Common ancestor content background in inline merge-conflicts. The color must not be opaque so as not to hide underlying decorations."),!0),on=g("merge.border",{dark:null,light:null,hcDark:"#C3DF6F",hcLight:"#007ACC"},u.kg("mergeBorder","Border color on headers and the splitter in inline merge-conflicts.")),Xn=g("editorOverviewRuler.currentContentForeground",{dark:R(Un,An),light:R(Un,An),hcDark:on,hcLight:on},u.kg("overviewRulerCurrentContentForeground","Current overview ruler foreground for inline merge-conflicts.")),xi=g("editorOverviewRuler.incomingContentForeground",{dark:R(Kn,An),light:R(Kn,An),hcDark:on,hcLight:on},u.kg("overviewRulerIncomingContentForeground","Incoming overview ruler foreground for inline merge-conflicts.")),Ti=g("editorOverviewRuler.commonContentForeground",{dark:R(Vn,An),light:R(Vn,An),hcDark:on,hcLight:on},u.kg("overviewRulerCommonContentForeground","Common ancestor overview ruler foreground for inline merge-conflicts.")),Bi=g("editorOverviewRuler.findMatchForeground",{dark:"#d186167e",light:"#d186167e",hcDark:"#AB5A00",hcLight:"#AB5A00"},u.kg("overviewRulerFindMatchForeground","Overview ruler marker color for find matches. The color must not be opaque so as not to hide underlying decorations."),!0),oi=g("editorOverviewRuler.selectionHighlightForeground","#A0A0A0CC",u.kg("overviewRulerSelectionHighlightForeground","Overview ruler marker color for selection highlights. The color must not be opaque so as not to hide underlying decorations."),!0),Di=g("problemsErrorIcon.foreground",qt,u.kg("problemsErrorIconForeground","The color used for the problems error icon.")),Ki=g("problemsWarningIcon.foreground",Bt,u.kg("problemsWarningIconForeground","The color used for the problems warning icon.")),Ri=g("problemsInfoIcon.foreground",Ee,u.kg("problemsInfoIconForeground","The color used for the problems info icon.")),vn=g("minimap.findMatchHighlight",{light:"#d18616",dark:"#d18616",hcDark:"#AB5A00",hcLight:"#0F4A85"},u.kg("minimapFindMatchHighlight","Minimap marker color for find matches."),!0),wi=g("minimap.selectionOccurrenceHighlight",{light:"#c9c9c9",dark:"#676767",hcDark:"#ffffff",hcLight:"#0F4A85"},u.kg("minimapSelectionOccurrenceHighlight","Minimap marker color for repeating editor selections."),!0),Zn=g("minimap.selectionHighlight",{light:"#ADD6FF",dark:"#264F78",hcDark:"#ffffff",hcLight:"#0F4A85"},u.kg("minimapSelectionHighlight","Minimap marker color for the editor selection."),!0),Wi=g("minimap.infoHighlight",{dark:Ee,light:Ee,hcDark:n,hcLight:n},u.kg("minimapInfo","Minimap marker color for infos.")),Si=g("minimap.warningHighlight",{dark:Bt,light:Bt,hcDark:Yt,hcLight:Yt},u.kg("overviewRuleWarning","Minimap marker color for warnings.")),Jn=g("minimap.errorHighlight",{dark:new o.Q1(new o.bU(255,18,18,.7)),light:new o.Q1(new o.bU(255,18,18,.7)),hcDark:new o.Q1(new o.bU(255,50,50,1)),hcLight:"#B5200D"},u.kg("minimapError","Minimap marker color for errors.")),Xi=g("minimap.background",null,u.kg("minimapBackground","Minimap background color.")),ke=g("minimap.foregroundOpacity",o.Q1.fromHex("#000f"),u.kg("minimapForegroundOpacity",'Opacity of foreground elements rendered in the minimap. For example, "#000000c0" will render the elements with 75% opacity.')),h=g("minimapSlider.background",R(He,.5),u.kg("minimapSliderBackground","Minimap slider background color.")),m=g("minimapSlider.hoverBackground",R(Pe,.5),u.kg("minimapSliderHoverBackground","Minimap slider background color when hovering.")),F=g("minimapSlider.activeBackground",R(Xe,.5),u.kg("minimapSliderActiveBackground","Minimap slider background color when clicked on.")),X=g("charts.foreground",d,u.kg("chartsForeground","The foreground color used in charts.")),J=g("charts.lines",R(d,.5),u.kg("chartsLines","The color used for horizontal lines in charts.")),oe=g("charts.red",qt,u.kg("chartsRed","The red color used in chart visualizations.")),ge=g("charts.blue",Ee,u.kg("chartsBlue","The blue color used in chart visualizations.")),de=g("charts.yellow",Bt,u.kg("chartsYellow","The yellow color used in chart visualizations.")),pe=g("charts.orange",vn,u.kg("chartsOrange","The orange color used in chart visualizations.")),Ie=g("charts.green",{dark:"#89D185",light:"#388A34",hcDark:"#89D185",hcLight:"#374e06"},u.kg("chartsGreen","The green color used in chart visualizations.")),Re=g("charts.purple",{dark:"#B180D7",light:"#652D90",hcDark:"#B180D7",hcLight:"#652D90"},u.kg("chartsPurple","The purple color used in chart visualizations.")),De=g("input.background",{dark:"#3C3C3C",light:o.Q1.white,hcDark:o.Q1.black,hcLight:o.Q1.white},u.kg("inputBoxBackground","Input box background.")),Fe=g("input.foreground",d,u.kg("inputBoxForeground","Input box foreground.")),Ve=g("input.border",{dark:null,light:null,hcDark:re,hcLight:re},u.kg("inputBoxBorder","Input box border.")),Ye=g("inputOption.activeBorder",{dark:"#007ACC",light:"#007ACC",hcDark:re,hcLight:re},u.kg("inputBoxActiveOptionBorder","Border color of activated options in input fields.")),ot=g("inputOption.hoverBackground",{dark:"#5a5d5e80",light:"#b8b8b850",hcDark:null,hcLight:null},u.kg("inputOption.hoverBackground","Background color of activated options in input fields.")),at=g("inputOption.activeBackground",{dark:R(se,.4),light:R(se,.2),hcDark:o.Q1.transparent,hcLight:o.Q1.transparent},u.kg("inputOption.activeBackground","Background hover color of options in input fields.")),bt=g("inputOption.activeForeground",{dark:o.Q1.white,light:o.Q1.black,hcDark:d,hcLight:d},u.kg("inputOption.activeForeground","Foreground color of activated options in input fields.")),lt=g("input.placeholderForeground",{light:R(d,.5),dark:R(d,.5),hcDark:R(d,.7),hcLight:R(d,.7)},u.kg("inputPlaceholderForeground","Input box foreground color for placeholder text.")),wt=g("inputValidation.infoBackground",{dark:"#063B49",light:"#D6ECF2",hcDark:o.Q1.black,hcLight:o.Q1.white},u.kg("inputValidationInfoBackground","Input validation background color for information severity.")),ft=g("inputValidation.infoForeground",{dark:null,light:null,hcDark:null,hcLight:d},u.kg("inputValidationInfoForeground","Input validation foreground color for information severity.")),Lt=g("inputValidation.infoBorder",{dark:"#007acc",light:"#007acc",hcDark:re,hcLight:re},u.kg("inputValidationInfoBorder","Input validation border color for information severity.")),gt=g("inputValidation.warningBackground",{dark:"#352A05",light:"#F6F5D2",hcDark:o.Q1.black,hcLight:o.Q1.white},u.kg("inputValidationWarningBackground","Input validation background color for warning severity.")),it=g("inputValidation.warningForeground",{dark:null,light:null,hcDark:null,hcLight:d},u.kg("inputValidationWarningForeground","Input validation foreground color for warning severity.")),Tt=g("inputValidation.warningBorder",{dark:"#B89500",light:"#B89500",hcDark:re,hcLight:re},u.kg("inputValidationWarningBorder","Input validation border color for warning severity.")),vt=g("inputValidation.errorBackground",{dark:"#5A1D1D",light:"#F2DEDE",hcDark:o.Q1.black,hcLight:o.Q1.white},u.kg("inputValidationErrorBackground","Input validation background color for error severity.")),Ht=g("inputValidation.errorForeground",{dark:null,light:null,hcDark:null,hcLight:d},u.kg("inputValidationErrorForeground","Input validation foreground color for error severity.")),Nt=g("inputValidation.errorBorder",{dark:"#BE1100",light:"#BE1100",hcDark:re,hcLight:re},u.kg("inputValidationErrorBorder","Input validation border color for error severity.")),Hn=g("dropdown.background",{dark:"#3C3C3C",light:o.Q1.white,hcDark:o.Q1.black,hcLight:o.Q1.white},u.kg("dropdownBackground","Dropdown background.")),Ir=g("dropdown.listBackground",{dark:null,light:null,hcDark:o.Q1.black,hcLight:o.Q1.white},u.kg("dropdownListBackground","Dropdown list background.")),Ms=g("dropdown.foreground",{dark:"#F0F0F0",light:d,hcDark:o.Q1.white,hcLight:d},u.kg("dropdownForeground","Dropdown foreground.")),Os=g("dropdown.border",{dark:Hn,light:"#CECECE",hcDark:re,hcLight:re},u.kg("dropdownBorder","Dropdown border.")),Nr=g("button.foreground",o.Q1.white,u.kg("buttonForeground","Button foreground color.")),Ar=g("button.separator",R(Nr,.4),u.kg("buttonSeparator","Button separator color.")),Ei=g("button.background",{dark:"#0E639C",light:"#007ACC",hcDark:null,hcLight:"#0F4A85"},u.kg("buttonBackground","Button background color.")),kt=g("button.hoverBackground",{dark:C(Ei,.2),light:H(Ei,.2),hcDark:Ei,hcLight:Ei},u.kg("buttonHoverBackground","Button background color when hovering.")),Zi=g("button.border",re,u.kg("buttonBorder","Button border color.")),Ua=g("button.secondaryForeground",{dark:o.Q1.white,light:o.Q1.white,hcDark:o.Q1.white,hcLight:d},u.kg("buttonSecondaryForeground","Secondary button foreground color.")),yi=g("button.secondaryBackground",{dark:"#3A3D41",light:"#5F6A79",hcDark:null,hcLight:o.Q1.white},u.kg("buttonSecondaryBackground","Secondary button background color.")),Va=g("button.secondaryHoverBackground",{dark:C(yi,.2),light:H(yi,.2),hcDark:null,hcLight:null},u.kg("buttonSecondaryHoverBackground","Secondary button background color when hovering.")),Ji=g("radio.activeForeground",bt,u.kg("radioActiveForeground","Foreground color of active radio option.")),Ha=g("radio.activeBackground",at,u.kg("radioBackground","Background color of active radio option.")),ja=g("radio.activeBorder",Ye,u.kg("radioActiveBorder","Border color of the active radio option.")),$a=g("radio.inactiveForeground",null,u.kg("radioInactiveForeground","Foreground color of inactive radio option.")),Ga=g("radio.inactiveBackground",null,u.kg("radioInactiveBackground","Background color of inactive radio option.")),Qa=g("radio.inactiveBorder",{light:R(Ji,.2),dark:R(Ji,.2),hcDark:R(Ji,.4),hcLight:R(Ji,.2)},u.kg("radioInactiveBorder","Border color of the inactive radio option.")),Tr=g("radio.inactiveHoverBackground",ot,u.kg("radioHoverBackground","Background color of inactive active radio option when hovering.")),qa=g("checkbox.background",Hn,u.kg("checkbox.background","Background color of checkbox widget.")),Br=g("checkbox.selectBackground",Mt,u.kg("checkbox.select.background","Background color of checkbox widget when the element it's in is selected.")),Ya=g("checkbox.foreground",Ms,u.kg("checkbox.foreground","Foreground color of checkbox widget.")),Fs=g("checkbox.border",Os,u.kg("checkbox.border","Border color of checkbox widget.")),es=g("checkbox.selectBorder",q,u.kg("checkbox.select.border","Border color of checkbox widget when the element it's in is selected.")),ts=g("keybindingLabel.background",{dark:new o.Q1(new o.bU(128,128,128,.17)),light:new o.Q1(new o.bU(221,221,221,.4)),hcDark:o.Q1.transparent,hcLight:o.Q1.transparent},u.kg("keybindingLabelBackground","Keybinding label background color. The keybinding label is used to represent a keyboard shortcut.")),Dr=g("keybindingLabel.foreground",{dark:o.Q1.fromHex("#CCCCCC"),light:o.Q1.fromHex("#555555"),hcDark:o.Q1.white,hcLight:d},u.kg("keybindingLabelForeground","Keybinding label foreground color. The keybinding label is used to represent a keyboard shortcut.")),Ii=g("keybindingLabel.border",{dark:new o.Q1(new o.bU(51,51,51,.6)),light:new o.Q1(new o.bU(204,204,204,.4)),hcDark:new o.Q1(new o.bU(111,195,223)),hcLight:re},u.kg("keybindingLabelBorder","Keybinding label border color. The keybinding label is used to represent a keyboard shortcut.")),Ni=g("keybindingLabel.bottomBorder",{dark:new o.Q1(new o.bU(68,68,68,.6)),light:new o.Q1(new o.bU(187,187,187,.4)),hcDark:new o.Q1(new o.bU(111,195,223)),hcLight:d},u.kg("keybindingLabelBottomBorder","Keybinding label border bottom color. The keybinding label is used to represent a keyboard shortcut.")),Ka=g("list.focusBackground",null,u.kg("listFocusBackground","List/Tree background color for the focused item when the list/tree is active. An active list/tree has keyboard focus, an inactive does not.")),ns=g("list.focusForeground",null,u.kg("listFocusForeground","List/Tree foreground color for the focused item when the list/tree is active. An active list/tree has keyboard focus, an inactive does not.")),ht=g("list.focusOutline",{dark:se,light:se,hcDark:_e,hcLight:_e},u.kg("listFocusOutline","List/Tree outline color for the focused item when the list/tree is active. An active list/tree has keyboard focus, an inactive does not.")),Ps=g("list.focusAndSelectionOutline",null,u.kg("listFocusAndSelectionOutline","List/Tree outline color for the focused item when the list/tree is active and selected. An active list/tree has keyboard focus, an inactive does not.")),Mi=g("list.activeSelectionBackground",{dark:"#04395E",light:"#0060C0",hcDark:null,hcLight:o.Q1.fromHex("#0F4A85").transparent(.1)},u.kg("listActiveSelectionBackground","List/Tree background color for the selected item when the list/tree is active. An active list/tree has keyboard focus, an inactive does not.")),zi=g("list.activeSelectionForeground",{dark:o.Q1.white,light:o.Q1.white,hcDark:null,hcLight:null},u.kg("listActiveSelectionForeground","List/Tree foreground color for the selected item when the list/tree is active. An active list/tree has keyboard focus, an inactive does not.")),ms=g("list.activeSelectionIconForeground",null,u.kg("listActiveSelectionIconForeground","List/Tree icon foreground color for the selected item when the list/tree is active. An active list/tree has keyboard focus, an inactive does not.")),Ws=g("list.inactiveSelectionBackground",{dark:"#37373D",light:"#E4E6F1",hcDark:null,hcLight:o.Q1.fromHex("#0F4A85").transparent(.1)},u.kg("listInactiveSelectionBackground","List/Tree background color for the selected item when the list/tree is inactive. An active list/tree has keyboard focus, an inactive does not.")),is=g("list.inactiveSelectionForeground",null,u.kg("listInactiveSelectionForeground","List/Tree foreground color for the selected item when the list/tree is inactive. An active list/tree has keyboard focus, an inactive does not.")),ss=g("list.inactiveSelectionIconForeground",null,u.kg("listInactiveSelectionIconForeground","List/Tree icon foreground color for the selected item when the list/tree is inactive. An active list/tree has keyboard focus, an inactive does not.")),ps=g("list.inactiveFocusBackground",null,u.kg("listInactiveFocusBackground","List/Tree background color for the focused item when the list/tree is inactive. An active list/tree has keyboard focus, an inactive does not.")),Rr=g("list.inactiveFocusOutline",null,u.kg("listInactiveFocusOutline","List/Tree outline color for the focused item when the list/tree is inactive. An active list/tree has keyboard focus, an inactive does not.")),gi=g("list.hoverBackground",{dark:"#2A2D2E",light:"#F0F0F0",hcDark:o.Q1.white.transparent(.1),hcLight:o.Q1.fromHex("#0F4A85").transparent(.1)},u.kg("listHoverBackground","List/Tree background when hovering over items using the mouse.")),rs=g("list.hoverForeground",null,u.kg("listHoverForeground","List/Tree foreground when hovering over items using the mouse.")),Ln=g("list.dropBackground",{dark:"#062F4A",light:"#D6EBFF",hcDark:null,hcLight:null},u.kg("listDropBackground","List/Tree drag and drop background when moving items over other items when using the mouse.")),mi=g("list.dropBetweenBackground",{dark:q,light:q,hcDark:null,hcLight:null},u.kg("listDropBetweenBackground","List/Tree drag and drop border color when moving items between items when using the mouse.")),Ui=g("list.highlightForeground",{dark:"#2AAAFF",light:"#0066BF",hcDark:se,hcLight:se},u.kg("highlight","List/Tree foreground color of the match highlights when searching inside the list/tree.")),zs=g("list.focusHighlightForeground",{dark:Ui,light:ue(Mi,Ui,"#BBE7FF"),hcDark:Ui,hcLight:Ui},u.kg("listFocusHighlightForeground","List/Tree foreground color of the match highlights on actively focused items when searching inside the list/tree.")),pi=g("list.invalidItemForeground",{dark:"#B89500",light:"#B89500",hcDark:"#B89500",hcLight:"#B5200D"},u.kg("invalidItemForeground","List/Tree foreground color for invalid items, for example an unresolved root in explorer.")),Xa=g("list.errorForeground",{dark:"#F88070",light:"#B01011",hcDark:null,hcLight:null},u.kg("listErrorForeground","Foreground color of list items containing errors.")),hn=g("list.warningForeground",{dark:"#CCA700",light:"#855F00",hcDark:null,hcLight:null},u.kg("listWarningForeground","Foreground color of list items containing warnings.")),_i=g("listFilterWidget.background",{light:H(Mt,0),dark:C(Mt,0),hcDark:Mt,hcLight:Mt},u.kg("listFilterWidgetBackground","Background color of the type filter widget in lists and trees.")),Us=g("listFilterWidget.outline",{dark:o.Q1.transparent,light:o.Q1.transparent,hcDark:"#f38518",hcLight:"#007ACC"},u.kg("listFilterWidgetOutline","Outline color of the type filter widget in lists and trees.")),Vs=g("listFilterWidget.noMatchesOutline",{dark:"#BE1100",light:"#BE1100",hcDark:re,hcLight:re},u.kg("listFilterWidgetNoMatchesOutline","Outline color of the type filter widget in lists and trees, when there are no matches.")),Hs=g("listFilterWidget.shadow",ye,u.kg("listFilterWidgetShadow","Shadow color of the type filter widget in lists and trees.")),_s=g("list.filterMatchBackground",{dark:At,light:At,hcDark:null,hcLight:null},u.kg("listFilterMatchHighlight","Background color of the filtered match.")),js=g("list.filterMatchBorder",{dark:Ue,light:Ue,hcDark:re,hcLight:_e},u.kg("listFilterMatchHighlightBorder","Border color of the filtered match.")),bs=g("list.deemphasizedForeground",{dark:"#8C8C8C",light:"#8E8E90",hcDark:"#A7A8A9",hcLight:"#666666"},u.kg("listDeemphasizedForeground","List/Tree foreground color for items that are deemphasized.")),os=g("tree.indentGuidesStroke",{dark:"#585858",light:"#a9a9a9",hcDark:"#a9a9a9",hcLight:"#a5a5a5"},u.kg("treeIndentGuidesStroke","Tree stroke color for the indentation guides.")),Vi=g("tree.inactiveIndentGuidesStroke",R(os,.4),u.kg("treeInactiveIndentGuidesStroke","Tree stroke color for the indentation guides that are not active.")),Mr=g("tree.tableColumnsBorder",{dark:"#CCCCCC20",light:"#61616120",hcDark:null,hcLight:null},u.kg("tableColumnsBorder","Table border color between columns.")),Za=g("tree.tableOddRowsBackground",{dark:R(d,.04),light:R(d,.04),hcDark:null,hcLight:null},u.kg("tableOddRowsBackgroundColor","Background color for odd table rows.")),ei=g("editorActionList.background",Mt,u.kg("editorActionListBackground","Action List background color.")),Ja=g("editorActionList.foreground",Wt,u.kg("editorActionListForeground","Action List foreground color.")),cl=g("editorActionList.focusForeground",zi,u.kg("editorActionListFocusForeground","Action List foreground color for the focused item.")),el=g("editorActionList.focusBackground",Mi,u.kg("editorActionListFocusBackground","Action List background color for the focused item.")),$s=g("menu.border",{dark:null,light:null,hcDark:re,hcLight:re},u.kg("menuBorder","Border color of menus.")),tl=g("menu.foreground",Ms,u.kg("menuForeground","Foreground color of menu items.")),Gs=g("menu.background",Hn,u.kg("menuBackground","Background color of menu items.")),as=g("menu.selectionForeground",zi,u.kg("menuSelectionForeground","Foreground color of the selected menu item in menus.")),jn=g("menu.selectionBackground",Mi,u.kg("menuSelectionBackground","Background color of the selected menu item in menus.")),Qs=g("menu.selectionBorder",{dark:null,light:null,hcDark:_e,hcLight:_e},u.kg("menuSelectionBorder","Border color of the selected menu item in menus.")),hl=g("menu.separatorBackground",{dark:"#606060",light:"#D4D4D4",hcDark:re,hcLight:re},u.kg("menuSeparatorBackground","Color of a separator menu item in menus.")),qs=g("quickInput.background",Mt,u.kg("pickerBackground","Quick picker background color. The quick picker widget is the container for pickers like the command palette.")),Ys=g("quickInput.foreground",Wt,u.kg("pickerForeground","Quick picker foreground color. The quick picker widget is the container for pickers like the command palette.")),ls=g("quickInputTitle.background",{dark:new o.Q1(new o.bU(255,255,255,.105)),light:new o.Q1(new o.bU(0,0,0,.06)),hcDark:"#000000",hcLight:o.Q1.white},u.kg("pickerTitleBackground","Quick picker title background color. The quick picker widget is the container for pickers like the command palette.")),Ks=g("pickerGroup.foreground",{dark:"#3794FF",light:"#0066BF",hcDark:o.Q1.white,hcLight:"#0F4A85"},u.kg("pickerGroupForeground","Quick picker color for grouping labels.")),Xs=g("pickerGroup.border",{dark:"#3F3F46",light:"#CCCEDB",hcDark:o.Q1.white,hcLight:"#0F4A85"},u.kg("pickerGroupBorder","Quick picker color for grouping borders.")),Oi=g("quickInput.list.focusBackground",null,"",void 0,u.kg("quickInput.list.focusBackground deprecation","Please use quickInputList.focusBackground instead")),Zs=g("quickInputList.focusForeground",zi,u.kg("quickInput.listFocusForeground","Quick picker foreground color for the focused item.")),Js=g("quickInputList.focusIconForeground",ms,u.kg("quickInput.listFocusIconForeground","Quick picker icon foreground color for the focused item.")),er=g("quickInputList.focusBackground",{dark:ie(Oi,Mi),light:ie(Oi,Mi),hcDark:null,hcLight:null},u.kg("quickInput.listFocusBackground","Quick picker background color for the focused item.")),tr=g("search.resultsInfoForeground",{light:d,dark:R(d,.65),hcDark:d,hcLight:d},u.kg("search.resultsInfoForeground","Color of the text in the search viewlet's completion message.")),ks=g("searchEditor.findMatchBackground",{light:R(At,.66),dark:R(At,.66),hcDark:At,hcLight:At},u.kg("searchEditor.queryMatch","Color of the Search Editor query matches.")),Cs=g("searchEditor.findMatchBorder",{light:R(Ue,.66),dark:R(Ue,.66),hcDark:Ue,hcLight:Ue},u.kg("searchEditor.editorFindMatchBorder","Border color of the Search Editor query matches."))},5295:(qe,Ce,v)=>{"use strict";v.d(Ce,{Gy:s(()=>G,"Gy"),zy:s(()=>O,"zy"),Yf:s(()=>T,"Yf")});var N=v(2106),K=v(9235),o=v(2399),Q=v(7167),V;(function(H){H.DARK="dark",H.LIGHT="light",H.HIGH_CONTRAST_DARK="hcDark",H.HIGH_CONTRAST_LIGHT="hcLight"})(V||(V={}));function E(H){return H===V.HIGH_CONTRAST_DARK||H===V.HIGH_CONTRAST_LIGHT}s(E,"isHighContrast");function u(H){return H===V.DARK||H===V.HIGH_CONTRAST_DARK}s(u,"isDark");const G=(0,o.u1)("themeService");function T(H){return{id:H}}s(T,"themeColorFromId");function Y(H){switch(H){case ColorScheme.DARK:return"vs-dark";case ColorScheme.HIGH_CONTRAST_DARK:return"hc-black";case ColorScheme.HIGH_CONTRAST_LIGHT:return"hc-light";default:return"vs"}}s(Y,"getThemeTypeSelector");const y={ThemingContribution:"base.contributions.theming"},g=class g{constructor(){this.themingParticipants=[],this.themingParticipants=[],this.onThemingParticipantAddedEmitter=new N.vl}onColorThemeChange(C){return this.themingParticipants.push(C),this.onThemingParticipantAddedEmitter.fire(C),(0,K.s)(()=>{const R=this.themingParticipants.indexOf(C);this.themingParticipants.splice(R,1)})}getThemingParticipants(){return this.themingParticipants}};s(g,"ThemingRegistry");let W=g;const P=new W;Q.O.add(y.ThemingContribution,P);function O(H){return P.onColorThemeChange(H)}s(O,"registerThemingParticipant");const ee=class ee extends K.jG{constructor(C){super(),this.themeService=C,this.theme=C.getColorTheme(),this._register(this.themeService.onDidColorThemeChange(R=>this.onThemeChange(R)))}onThemeChange(C){this.theme=C,this.updateStyles()}updateStyles(){}};s(ee,"Themable");let M=ee}},Rs={};function ci(qe){var Ce=Rs[qe];if(Ce!==void 0)return Ce.exports;var v=Rs[qe]={exports:{}};return yr[qe](v,v.exports,ci),v.exports}s(ci,"__webpack_require__"),ci.d=(qe,Ce)=>{for(var v in Ce)ci.o(Ce,v)&&!ci.o(qe,v)&&Object.defineProperty(qe,v,{enumerable:!0,get:Ce[v]})},ci.e=()=>Promise.resolve(),ci.o=(qe,Ce)=>Object.prototype.hasOwnProperty.call(qe,Ce),ci.r=qe=>{typeof Symbol!="undefined"&&Symbol.toStringTag&&Object.defineProperty(qe,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(qe,"__esModule",{value:!0})};var Sl={};(()=>{"use strict";var qe=ci(5585),Ce=ci(7798),v=ci(6358);let N=!1;function K(o){if(N)return;N=!0;const Q=new qe.SimpleWorkerServer(V=>{globalThis.postMessage(V)},V=>new Ce.EditorSimpleWorker(v.EditorWorkerHost.getChannel(V),o));globalThis.onmessage=V=>{Q.onmessage(V.data)}}s(K,"initialize"),globalThis.onmessage=o=>{N||K(null)}})()})();
