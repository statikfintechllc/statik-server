var fl=Object.defineProperty;var Sl=(Or,Ki,Ii)=>Ki in Or?fl(Or,Ki,{enumerable:!0,configurable:!0,writable:!0,value:Ii}):Or[Ki]=Ii;var n=(Or,Ki)=>fl(Or,"name",{value:Ki,configurable:!0});var Xr=(Or,Ki,Ii)=>Sl(Or,typeof Ki!="symbol"?Ki+"":Ki,Ii);(()=>{var Or={3338:(Lt,Pe,E)=>{"use strict";E.d(Pe,{E4:n(()=>we,"E4"),Fy:n(()=>ce,"Fy"),Hw:n(()=>ee,"Hw"),U9:n(()=>P,"U9"),VE:n(()=>b,"VE"),aI:n(()=>o,"aI"),c1:n(()=>ue,"c1"),dM:n(()=>v,"dM"),j3:n(()=>fe,"j3"),kj:n(()=>B,"kj"),n:n(()=>O,"n"),nK:n(()=>y,"nK"),pN:n(()=>ne,"pN")});function F(A,M=0){return A[A.length-(1+M)]}n(F,"tail");function ie(A){if(A.length===0)throw new Error("Invalid tail call");return[A.slice(0,A.length-1),A[A.length-1]]}n(ie,"tail2");function o(A,M,G=(w,D)=>w===D){if(A===M)return!0;if(!A||!M||A.length!==M.length)return!1;for(let w=0,D=A.length;w<D;w++)if(!G(A[w],M[w]))return!1;return!0}n(o,"equals");function K(A,M){const G=A.length-1;M<G&&(A[M]=A[G]),A.pop()}n(K,"removeFastWithoutKeepingOrder");function Q(A,M,G){return N(A.length,w=>G(A[w],M))}n(Q,"binarySearch");function N(A,M){let G=0,w=A-1;for(;G<=w;){const D=(G+w)/2|0,Z=M(D);if(Z<0)G=D+1;else if(Z>0)w=D-1;else return D}return-(G+1)}n(N,"binarySearch2");function g(A,M,G){if(A=A|0,A>=M.length)throw new TypeError("invalid index");const w=M[Math.floor(M.length*Math.random())],D=[],Z=[],he=[];for(const ye of M){const He=G(ye,w);He<0?D.push(ye):He>0?Z.push(ye):he.push(ye)}return A<D.length?g(A,D,G):A<D.length+he.length?he[0]:g(A-(D.length+he.length),Z,G)}n(g,"quickSelect");function Y(A,M){const G=[];let w;for(const D of A.slice(0).sort(M))!w||M(w[0],D)!==0?(w=[D],G.push(w)):w.push(D);return G}n(Y,"groupBy");function*O(A,M){let G,w;for(const D of A)w!==void 0&&M(w,D)?G.push(D):(G&&(yield G),G=[D]),w=D;G&&(yield G)}n(O,"groupAdjacentBy");function ne(A,M){for(let G=0;G<=A.length;G++)M(G===0?void 0:A[G-1],G===A.length?void 0:A[G])}n(ne,"forEachAdjacent");function B(A,M){for(let G=0;G<A.length;G++)M(G===0?void 0:A[G-1],A[G],G+1===A.length?void 0:A[G+1])}n(B,"forEachWithNeighbors");function $(A){return A.filter(M=>!!M)}n($,"coalesce");function j(A){let M=0;for(let G=0;G<A.length;G++)A[G]&&(A[M]=A[G],M+=1);A.length=M}n(j,"coalesceInPlace");function z(A){return!Array.isArray(A)||A.length===0}n(z,"isFalsyOrEmpty");function U(A){return Array.isArray(A)&&A.length>0}n(U,"isNonEmptyArray");function v(A,M=G=>G){const G=new Set;return A.filter(w=>{const D=M(w);return G.has(D)?!1:(G.add(D),!0)})}n(v,"distinct");function ce(A,M){return A.length>0?A[0]:M}n(ce,"firstOrDefault");function J(A,M){let G=typeof M=="number"?A:0;typeof M=="number"?G=A:(G=0,M=A);const w=[];if(G<=M)for(let D=G;D<M;D++)w.push(D);else for(let D=G;D>M;D--)w.push(D);return w}n(J,"range");function y(A,M,G){const w=A.slice(0,M),D=A.slice(M);return w.concat(G,D)}n(y,"arrayInsert");function W(A,M){const G=A.indexOf(M);G>-1&&(A.splice(G,1),A.unshift(M))}n(W,"pushToStart");function me(A,M){const G=A.indexOf(M);G>-1&&(A.splice(G,1),A.push(M))}n(me,"pushToEnd");function we(A,M){for(const G of M)A.push(G)}n(we,"pushMany");function Ue(A){return Array.isArray(A)?A:[A]}n(Ue,"asArray");function Ce(A,M,G){const w=m(A,M),D=A.length,Z=G.length;A.length=D+Z;for(let he=D-1;he>=w;he--)A[he+Z]=A[he];for(let he=0;he<Z;he++)A[he+w]=G[he]}n(Ce,"insertInto");function R(A,M,G,w){const D=m(A,M);let Z=A.splice(D,G);return Z===void 0&&(Z=[]),Ce(A,D,w),Z}n(R,"splice");function m(A,M){return M<0?Math.max(M+A.length,0):Math.min(M,A.length)}n(m,"getActualStartIndex");var _;(function(A){function M(Z){return Z<0}n(M,"isLessThan"),A.isLessThan=M;function G(Z){return Z<=0}n(G,"isLessThanOrEqual"),A.isLessThanOrEqual=G;function w(Z){return Z>0}n(w,"isGreaterThan"),A.isGreaterThan=w;function D(Z){return Z===0}n(D,"isNeitherLessOrGreaterThan"),A.isNeitherLessOrGreaterThan=D,A.greaterThan=1,A.lessThan=-1,A.neitherLessOrGreaterThan=0})(_||(_={}));function b(A,M){return(G,w)=>M(A(G),A(w))}n(b,"compareBy");function I(...A){return(M,G)=>{for(const w of A){const D=w(M,G);if(!_.isNeitherLessOrGreaterThan(D))return D}return _.neitherLessOrGreaterThan}}n(I,"tieBreakComparators");const P=n((A,M)=>A-M,"numberComparator"),V=n((A,M)=>P(A?1:0,M?1:0),"booleanComparator");function ee(A){return(M,G)=>-A(M,G)}n(ee,"reverseOrder");const je=class je{constructor(M){this.items=M,this.firstIdx=0,this.lastIdx=this.items.length-1}get length(){return this.lastIdx-this.firstIdx+1}takeWhile(M){let G=this.firstIdx;for(;G<this.items.length&&M(this.items[G]);)G++;const w=G===this.firstIdx?null:this.items.slice(this.firstIdx,G);return this.firstIdx=G,w}takeFromEndWhile(M){let G=this.lastIdx;for(;G>=0&&M(this.items[G]);)G--;const w=G===this.lastIdx?null:this.items.slice(G+1,this.lastIdx+1);return this.lastIdx=G,w}peek(){if(this.length!==0)return this.items[this.firstIdx]}dequeue(){const M=this.items[this.firstIdx];return this.firstIdx++,M}takeCount(M){const G=this.items.slice(this.firstIdx,this.firstIdx+M);return this.firstIdx+=M,G}};n(je,"ArrayQueue");let fe=je;const Xe=class Xe{constructor(M){this.iterate=M}toArray(){const M=[];return this.iterate(G=>(M.push(G),!0)),M}filter(M){return new Xe(G=>this.iterate(w=>M(w)?G(w):!0))}map(M){return new Xe(G=>this.iterate(w=>G(M(w))))}findLast(M){let G;return this.iterate(w=>(M(w)&&(G=w),!0)),G}findLastMaxBy(M){let G,w=!0;return this.iterate(D=>((w||_.isGreaterThan(M(D,G)))&&(w=!1,G=D),!0)),G}};n(Xe,"CallbackIterable"),Xe.empty=new Xe(M=>{});let ue=Xe;const We=class We{constructor(M){this._indexMap=M}static createSortPermutation(M,G){const w=Array.from(M.keys()).sort((D,Z)=>G(M[D],M[Z]));return new We(w)}apply(M){return M.map((G,w)=>M[this._indexMap[w]])}inverse(){const M=this._indexMap.slice();for(let G=0;G<this._indexMap.length;G++)M[this._indexMap[G]]=G;return new We(M)}};n(We,"Permutation");let Te=We},7393:(Lt,Pe,E)=>{"use strict";E.d(Pe,{Uk:n(()=>F,"Uk"),XP:n(()=>Q,"XP"),hw:n(()=>N,"hw"),iM:n(()=>K,"iM"),lx:n(()=>o,"lx"),vJ:n(()=>g,"vJ")});function F(z,U){const v=ie(z,U);if(v!==-1)return z[v]}n(F,"findLast");function ie(z,U,v=z.length-1){for(let ce=v;ce>=0;ce--){const J=z[ce];if(U(J))return ce}return-1}n(ie,"findLastIdx");function o(z,U){const v=K(z,U);return v===-1?void 0:z[v]}n(o,"findLastMonotonous");function K(z,U,v=0,ce=z.length){let J=v,y=ce;for(;J<y;){const W=Math.floor((J+y)/2);U(z[W])?J=W+1:y=W}return J-1}n(K,"findLastIdxMonotonous");function Q(z,U){const v=N(z,U);return v===z.length?void 0:z[v]}n(Q,"findFirstMonotonous");function N(z,U,v=0,ce=z.length){let J=v,y=ce;for(;J<y;){const W=Math.floor((J+y)/2);U(z[W])?y=W:J=W+1}return J}n(N,"findFirstIdxMonotonousOrArrLen");const j=class j{constructor(U){this._array=U,this._findLastMonotonousLastIdx=0}findLastMonotonous(U){if(j.assertInvariants){if(this._prevFindLastPredicate){for(const ce of this._array)if(this._prevFindLastPredicate(ce)&&!U(ce))throw new Error("MonotonousArray: current predicate must be weaker than (or equal to) the previous predicate.")}this._prevFindLastPredicate=U}const v=K(this._array,U,this._findLastMonotonousLastIdx);return this._findLastMonotonousLastIdx=v+1,v===-1?void 0:this._array[v]}};n(j,"MonotonousArray"),j.assertInvariants=!1;let g=j;function Y(z,U){if(z.length===0)return;let v=z[0];for(let ce=1;ce<z.length;ce++){const J=z[ce];U(J,v)>0&&(v=J)}return v}n(Y,"findFirstMax");function O(z,U){if(z.length===0)return;let v=z[0];for(let ce=1;ce<z.length;ce++){const J=z[ce];U(J,v)>=0&&(v=J)}return v}n(O,"findLastMax");function ne(z,U){return Y(z,(v,ce)=>-U(v,ce))}n(ne,"findFirstMin");function B(z,U){if(z.length===0)return-1;let v=0;for(let ce=1;ce<z.length;ce++){const J=z[ce];U(J,z[v])>0&&(v=ce)}return v}n(B,"findMaxIdx");function $(z,U){for(const v of z){const ce=U(v);if(ce!==void 0)return ce}}n($,"mapFindFirst")},7110:(Lt,Pe,E)=>{"use strict";E.d(Pe,{Ft:n(()=>Q,"Ft"),Xo:n(()=>N,"Xo"),ok:n(()=>ie,"ok"),xb:n(()=>o,"xb")});var F=E(4327);function ie(g,Y){if(!g)throw new Error(Y?`Assertion failed (${Y})`:"Assertion Failed")}n(ie,"ok");function o(g,Y="Unreachable"){throw new Error(Y)}n(o,"assertNever");function K(g){g||onUnexpectedError(new BugIndicatingError("Soft Assertion Failed"))}n(K,"softAssert");function Q(g){if(!g()){debugger;g(),(0,F.dz)(new F.D7("Assertion Failed"))}}n(Q,"assertFn");function N(g,Y){let O=0;for(;O<g.length-1;){const ne=g[O],B=g[O+1];if(!Y(ne,B))return!1;O++}return!0}n(N,"checkAdjacentItems")},1946:(Lt,Pe,E)=>{"use strict";E.d(Pe,{vb:n(()=>y,"vb"),uC:n(()=>W,"uC"),Qg:n(()=>g,"Qg"),$6:n(()=>me,"$6")});var F=E(8903),ie=E(4327),o=E(2106),K=E(9235),Q=E(3339);const N=Symbol("MicrotaskDelay");function g(G){return!!G&&typeof G.then=="function"}n(g,"isThenable");function Y(G){const w=new CancellationTokenSource,D=G(w.token),Z=new Promise((he,ye)=>{const He=w.token.onCancellationRequested(()=>{He.dispose(),ye(new CancellationError)});Promise.resolve(D).then(Ve=>{He.dispose(),w.dispose(),he(Ve)},Ve=>{He.dispose(),w.dispose(),ye(Ve)})});return new class{cancel(){w.cancel(),w.dispose()}then(he,ye){return Z.then(he,ye)}catch(he){return this.then(void 0,he)}finally(he){return Z.finally(he)}}}n(Y,"createCancelablePromise");function O(G,w,D){return new Promise((Z,he)=>{const ye=w.onCancellationRequested(()=>{ye.dispose(),Z(D)});G.then(Z,he).finally(()=>ye.dispose())})}n(O,"raceCancellation");const P=class P{constructor(){this.isDisposed=!1,this.activePromise=null,this.queuedPromise=null,this.queuedPromiseFactory=null}queue(w){if(this.isDisposed)return Promise.reject(new Error("Throttler is disposed"));if(this.activePromise){if(this.queuedPromiseFactory=w,!this.queuedPromise){const D=n(()=>{if(this.queuedPromise=null,this.isDisposed)return;const Z=this.queue(this.queuedPromiseFactory);return this.queuedPromiseFactory=null,Z},"onComplete");this.queuedPromise=new Promise(Z=>{this.activePromise.then(D,D).then(Z)})}return new Promise((D,Z)=>{this.queuedPromise.then(D,Z)})}return this.activePromise=w(),new Promise((D,Z)=>{this.activePromise.then(he=>{this.activePromise=null,D(he)},he=>{this.activePromise=null,Z(he)})})}dispose(){this.isDisposed=!0}};n(P,"Throttler");let ne=P;const B=n((G,w)=>{let D=!0;const Z=setTimeout(()=>{D=!1,w()},G);return{isTriggered:n(()=>D,"isTriggered"),dispose:n(()=>{clearTimeout(Z),D=!1},"dispose")}},"timeoutDeferred"),$=n(G=>{let w=!0;return queueMicrotask(()=>{w&&(w=!1,G())}),{isTriggered:n(()=>w,"isTriggered"),dispose:n(()=>{w=!1},"dispose")}},"microtaskDeferred"),V=class V{constructor(w){this.defaultDelay=w,this.deferred=null,this.completionPromise=null,this.doResolve=null,this.doReject=null,this.task=null}trigger(w,D=this.defaultDelay){this.task=w,this.cancelTimeout(),this.completionPromise||(this.completionPromise=new Promise((he,ye)=>{this.doResolve=he,this.doReject=ye}).then(()=>{if(this.completionPromise=null,this.doResolve=null,this.task){const he=this.task;return this.task=null,he()}}));const Z=n(()=>{var he;this.deferred=null,(he=this.doResolve)==null||he.call(this,null)},"fn");return this.deferred=D===MicrotaskDelay?$(Z):B(D,Z),this.completionPromise}isTriggered(){var w;return!!((w=this.deferred)!=null&&w.isTriggered())}cancel(){var w;this.cancelTimeout(),this.completionPromise&&((w=this.doReject)==null||w.call(this,new CancellationError),this.completionPromise=null)}cancelTimeout(){var w;(w=this.deferred)==null||w.dispose(),this.deferred=null}dispose(){this.cancel()}};n(V,"Delayer");let j=V;const ee=class ee{constructor(w){this.delayer=new j(w),this.throttler=new ne}trigger(w,D){return this.delayer.trigger(()=>this.throttler.queue(w),D)}cancel(){this.delayer.cancel()}dispose(){this.delayer.dispose(),this.throttler.dispose()}};n(ee,"ThrottledDelayer");let z=ee;function U(G,w){return w?new Promise((D,Z)=>{const he=setTimeout(()=>{ye.dispose(),D()},G),ye=w.onCancellationRequested(()=>{clearTimeout(he),ye.dispose(),Z(new CancellationError)})}):Y(D=>U(G,D))}n(U,"timeout");function v(G,w=0,D){const Z=setTimeout(()=>{G(),D&&he.dispose()},w),he=toDisposable(()=>{clearTimeout(Z),D==null||D.deleteAndLeak(he)});return D==null||D.add(he),he}n(v,"disposableTimeout");function ce(G,w=Z=>!!Z,D=null){let Z=0;const he=G.length,ye=n(()=>{if(Z>=he)return Promise.resolve(D);const He=G[Z++];return Promise.resolve(He()).then(ft=>w(ft)?Promise.resolve(ft):ye())},"loop");return ye()}n(ce,"first");const fe=class fe{constructor(w,D){this._isDisposed=!1,this._token=-1,typeof w=="function"&&typeof D=="number"&&this.setIfNotSet(w,D)}dispose(){this.cancel(),this._isDisposed=!0}cancel(){this._token!==-1&&(clearTimeout(this._token),this._token=-1)}cancelAndSet(w,D){if(this._isDisposed)throw new BugIndicatingError("Calling 'cancelAndSet' on a disposed TimeoutTimer");this.cancel(),this._token=setTimeout(()=>{this._token=-1,w()},D)}setIfNotSet(w,D){if(this._isDisposed)throw new BugIndicatingError("Calling 'setIfNotSet' on a disposed TimeoutTimer");this._token===-1&&(this._token=setTimeout(()=>{this._token=-1,w()},D))}};n(fe,"TimeoutTimer");let J=fe;const ue=class ue{constructor(){this.disposable=void 0,this.isDisposed=!1}cancel(){var w;(w=this.disposable)==null||w.dispose(),this.disposable=void 0}cancelAndSet(w,D,Z=globalThis){if(this.isDisposed)throw new ie.D7("Calling 'cancelAndSet' on a disposed IntervalTimer");this.cancel();const he=Z.setInterval(()=>{w()},D);this.disposable=(0,K.s)(()=>{Z.clearInterval(he),this.disposable=void 0})}dispose(){this.cancel(),this.isDisposed=!0}};n(ue,"IntervalTimer");let y=ue;const Te=class Te{constructor(w,D){this.timeoutToken=-1,this.runner=w,this.timeout=D,this.timeoutHandler=this.onTimeout.bind(this)}dispose(){this.cancel(),this.runner=null}cancel(){this.isScheduled()&&(clearTimeout(this.timeoutToken),this.timeoutToken=-1)}schedule(w=this.timeout){this.cancel(),this.timeoutToken=setTimeout(this.timeoutHandler,w)}get delay(){return this.timeout}set delay(w){this.timeout=w}isScheduled(){return this.timeoutToken!==-1}onTimeout(){this.timeoutToken=-1,this.runner&&this.doRun()}doRun(){var w;(w=this.runner)==null||w.call(this)}};n(Te,"RunOnceScheduler");let W=Te,me,we;(function(){typeof globalThis.requestIdleCallback!="function"||typeof globalThis.cancelIdleCallback!="function"?we=n((G,w)=>{(0,Q._p)(()=>{if(D)return;const Z=Date.now()+15;w(Object.freeze({didTimeout:!0,timeRemaining(){return Math.max(0,Z-Date.now())}}))});let D=!1;return{dispose(){D||(D=!0)}}},"_runWhenIdle"):we=n((G,w,D)=>{const Z=G.requestIdleCallback(w,typeof D=="number"?{timeout:D}:void 0);let he=!1;return{dispose(){he||(he=!0,G.cancelIdleCallback(Z))}}},"_runWhenIdle"),me=n(G=>we(globalThis,G),"runWhenGlobalIdle")})();const je=class je{constructor(w,D){this._didRun=!1,this._executor=()=>{try{this._value=D()}catch(Z){this._error=Z}finally{this._didRun=!0}},this._handle=we(w,()=>this._executor())}dispose(){this._handle.dispose()}get value(){if(this._didRun||(this._handle.dispose(),this._executor()),this._error)throw this._error;return this._value}get isInitialized(){return this._didRun}};n(je,"AbstractIdleValue");let Ue=je;const Xe=class Xe extends Ue{constructor(w){super(globalThis,w)}};n(Xe,"GlobalIdleValue");let Ce=Xe;const We=class We{get isRejected(){var w;return((w=this.outcome)==null?void 0:w.outcome)===1}get isSettled(){return!!this.outcome}constructor(){this.p=new Promise((w,D)=>{this.completeCallback=w,this.errorCallback=D})}complete(w){return new Promise(D=>{this.completeCallback(w),this.outcome={outcome:0,value:w},D()})}error(w){return new Promise(D=>{this.errorCallback(w),this.outcome={outcome:1,value:w},D()})}cancel(){return this.error(new CancellationError)}};n(We,"DeferredPromise");let R=We;var m;(function(G){async function w(Z){let he;const ye=await Promise.all(Z.map(He=>He.then(Ve=>Ve,Ve=>{he||(he=Ve)})));if(typeof he!="undefined")throw he;return ye}n(w,"settled"),G.settled=w;function D(Z){return new Promise(async(he,ye)=>{try{await Z(he,ye)}catch(He){ye(He)}})}n(D,"withAsyncBody"),G.withAsyncBody=D})(m||(m={}));const A=class A{static fromArray(w){return new A(D=>{D.emitMany(w)})}static fromPromise(w){return new A(async D=>{D.emitMany(await w)})}static fromPromises(w){return new A(async D=>{await Promise.all(w.map(async Z=>D.emitOne(await Z)))})}static merge(w){return new A(async D=>{await Promise.all(w.map(async Z=>{for await(const he of Z)D.emitOne(he)}))})}constructor(w,D){this._state=0,this._results=[],this._error=null,this._onReturn=D,this._onStateChanged=new o.vl,queueMicrotask(async()=>{const Z={emitOne:n(he=>this.emitOne(he),"emitOne"),emitMany:n(he=>this.emitMany(he),"emitMany"),reject:n(he=>this.reject(he),"reject")};try{await Promise.resolve(w(Z)),this.resolve()}catch(he){this.reject(he)}finally{Z.emitOne=void 0,Z.emitMany=void 0,Z.reject=void 0}})}[Symbol.asyncIterator](){let w=0;return{next:n(async()=>{do{if(this._state===2)throw this._error;if(w<this._results.length)return{done:!1,value:this._results[w++]};if(this._state===1)return{done:!0,value:void 0};await o.Jh.toPromise(this._onStateChanged.event)}while(!0)},"next"),return:n(async()=>{var D;return(D=this._onReturn)==null||D.call(this),{done:!0,value:void 0}},"return")}}static map(w,D){return new A(async Z=>{for await(const he of w)Z.emitOne(D(he))})}map(w){return A.map(this,w)}static filter(w,D){return new A(async Z=>{for await(const he of w)D(he)&&Z.emitOne(he)})}filter(w){return A.filter(this,w)}static coalesce(w){return A.filter(w,D=>!!D)}coalesce(){return A.coalesce(this)}static async toPromise(w){const D=[];for await(const Z of w)D.push(Z);return D}toPromise(){return A.toPromise(this)}emitOne(w){this._state===0&&(this._results.push(w),this._onStateChanged.fire())}emitMany(w){this._state===0&&(this._results=this._results.concat(w),this._onStateChanged.fire())}resolve(){this._state===0&&(this._state=1,this._onStateChanged.fire())}reject(w){this._state===0&&(this._state=2,this._error=w,this._onStateChanged.fire())}};n(A,"AsyncIterableObject"),A.EMPTY=A.fromArray([]);let _=A;const M=class M extends _{constructor(w,D){super(D),this._source=w}cancel(){this._source.cancel()}};n(M,"CancelableAsyncIterableObject");let b=M;function I(G){const w=new CancellationTokenSource,D=G(w.token);return new b(w,async Z=>{const he=w.token.onCancellationRequested(()=>{he.dispose(),w.dispose(),Z.reject(new CancellationError)});try{for await(const ye of D){if(w.token.isCancellationRequested)return;Z.emitOne(ye)}he.dispose(),w.dispose()}catch(ye){he.dispose(),w.dispose(),Z.reject(ye)}})}n(I,"createCancelableAsyncIterable")},2802:(Lt,Pe,E)=>{"use strict";E.d(Pe,{$l:n(()=>N,"$l"),Gs:n(()=>B,"Gs"),MB:n(()=>Q,"MB"),Sw:n(()=>O,"Sw"),bb:n(()=>Y,"bb"),gN:n(()=>g,"gN"),pJ:n(()=>ne,"pJ")});var F=E(3946);const ie=typeof Buffer!="undefined",o=new F.d(()=>new Uint8Array(256));let K;const $=class ${static wrap(z){return ie&&!Buffer.isBuffer(z)&&(z=Buffer.from(z.buffer,z.byteOffset,z.byteLength)),new $(z)}constructor(z){this.buffer=z,this.byteLength=this.buffer.byteLength}toString(){return ie?this.buffer.toString():(K||(K=new TextDecoder),K.decode(this.buffer))}};n($,"VSBuffer");let Q=$;function N(j,z){return j[z+0]<<0>>>0|j[z+1]<<8>>>0}n(N,"readUInt16LE");function g(j,z,U){j[U+0]=z&255,z=z>>>8,j[U+1]=z&255}n(g,"writeUInt16LE");function Y(j,z){return j[z]*16777216+j[z+1]*65536+j[z+2]*256+j[z+3]}n(Y,"readUInt32BE");function O(j,z,U){j[U+3]=z,z=z>>>8,j[U+2]=z,z=z>>>8,j[U+1]=z,z=z>>>8,j[U]=z}n(O,"writeUInt32BE");function ne(j,z){return j[z]}n(ne,"readUInt8");function B(j,z,U){j[U]=z}n(B,"writeUInt8")},6260:(Lt,Pe,E)=>{"use strict";E.d(Pe,{VV:n(()=>o,"VV"),o5:n(()=>ie,"o5")});function F(N){return N}n(F,"identity");const K=class K{constructor(g,Y){this.lastCache=void 0,this.lastArgKey=void 0,typeof g=="function"?(this._fn=g,this._computeKey=F):(this._fn=Y,this._computeKey=g.getCacheKey)}get(g){const Y=this._computeKey(g);return this.lastArgKey!==Y&&(this.lastArgKey=Y,this.lastCache=this._fn(g)),this.lastCache}};n(K,"LRUCachedFunction");let ie=K;const Q=class Q{get cachedValues(){return this._map}constructor(g,Y){this._map=new Map,this._map2=new Map,typeof g=="function"?(this._fn=g,this._computeKey=F):(this._fn=Y,this._computeKey=g.getCacheKey)}get(g){const Y=this._computeKey(g);if(this._map2.has(Y))return this._map2.get(Y);const O=this._fn(g);return this._map.set(g,O),this._map2.set(Y,O),O}};n(Q,"CachedFunction");let o=Q},8903:(Lt,Pe,E)=>{"use strict";E.d(Pe,{Qi:n(()=>Q,"Qi")});var F=E(2106);const ie=Object.freeze(function(O,ne){const B=setTimeout(O.bind(ne),0);return{dispose(){clearTimeout(B)}}});var o;(function(O){function ne(B){return B===O.None||B===O.Cancelled||B instanceof K?!0:!B||typeof B!="object"?!1:typeof B.isCancellationRequested=="boolean"&&typeof B.onCancellationRequested=="function"}n(ne,"isCancellationToken"),O.isCancellationToken=ne,O.None=Object.freeze({isCancellationRequested:!1,onCancellationRequested:F.Jh.None}),O.Cancelled=Object.freeze({isCancellationRequested:!0,onCancellationRequested:ie})})(o||(o={}));const g=class g{constructor(){this._isCancelled=!1,this._emitter=null}cancel(){this._isCancelled||(this._isCancelled=!0,this._emitter&&(this._emitter.fire(void 0),this.dispose()))}get isCancellationRequested(){return this._isCancelled}get onCancellationRequested(){return this._isCancelled?ie:(this._emitter||(this._emitter=new F.vl),this._emitter.event)}dispose(){this._emitter&&(this._emitter.dispose(),this._emitter=null)}};n(g,"MutableToken");let K=g;const Y=class Y{constructor(ne){this._token=void 0,this._parentListener=void 0,this._parentListener=ne&&ne.onCancellationRequested(this.cancel,this)}get token(){return this._token||(this._token=new K),this._token}cancel(){this._token?this._token instanceof K&&this._token.cancel():this._token=o.Cancelled}dispose(ne=!1){var B;ne&&this.cancel(),(B=this._parentListener)==null||B.dispose(),this._token?this._token instanceof K&&this._token.dispose():this._token=o.None}};n(Y,"CancellationTokenSource");let Q=Y;function N(O){const ne=new Q;return O.add({dispose(){ne.cancel()}}),ne.token}n(N,"cancelOnDispose")},1869:(Lt,Pe,E)=>{"use strict";E.d(Pe,{W:n(()=>g,"W")});var F=E(9359);const ie=Object.create(null);function o(Y,O){if((0,F.Kg)(O)){const ne=ie[O];if(ne===void 0)throw new Error(`${Y} references an unknown codicon: ${O}`);O=ne}return ie[Y]=O,{id:Y}}n(o,"register");function K(){return ie}n(K,"getCodiconFontCharacters");const Q={add:o("add",6e4),plus:o("plus",6e4),gistNew:o("gist-new",6e4),repoCreate:o("repo-create",6e4),lightbulb:o("lightbulb",60001),lightBulb:o("light-bulb",60001),repo:o("repo",60002),repoDelete:o("repo-delete",60002),gistFork:o("gist-fork",60003),repoForked:o("repo-forked",60003),gitPullRequest:o("git-pull-request",60004),gitPullRequestAbandoned:o("git-pull-request-abandoned",60004),recordKeys:o("record-keys",60005),keyboard:o("keyboard",60005),tag:o("tag",60006),gitPullRequestLabel:o("git-pull-request-label",60006),tagAdd:o("tag-add",60006),tagRemove:o("tag-remove",60006),person:o("person",60007),personFollow:o("person-follow",60007),personOutline:o("person-outline",60007),personFilled:o("person-filled",60007),gitBranch:o("git-branch",60008),gitBranchCreate:o("git-branch-create",60008),gitBranchDelete:o("git-branch-delete",60008),sourceControl:o("source-control",60008),mirror:o("mirror",60009),mirrorPublic:o("mirror-public",60009),star:o("star",60010),starAdd:o("star-add",60010),starDelete:o("star-delete",60010),starEmpty:o("star-empty",60010),comment:o("comment",60011),commentAdd:o("comment-add",60011),alert:o("alert",60012),warning:o("warning",60012),search:o("search",60013),searchSave:o("search-save",60013),logOut:o("log-out",60014),signOut:o("sign-out",60014),logIn:o("log-in",60015),signIn:o("sign-in",60015),eye:o("eye",60016),eyeUnwatch:o("eye-unwatch",60016),eyeWatch:o("eye-watch",60016),circleFilled:o("circle-filled",60017),primitiveDot:o("primitive-dot",60017),closeDirty:o("close-dirty",60017),debugBreakpoint:o("debug-breakpoint",60017),debugBreakpointDisabled:o("debug-breakpoint-disabled",60017),debugHint:o("debug-hint",60017),terminalDecorationSuccess:o("terminal-decoration-success",60017),primitiveSquare:o("primitive-square",60018),edit:o("edit",60019),pencil:o("pencil",60019),info:o("info",60020),issueOpened:o("issue-opened",60020),gistPrivate:o("gist-private",60021),gitForkPrivate:o("git-fork-private",60021),lock:o("lock",60021),mirrorPrivate:o("mirror-private",60021),close:o("close",60022),removeClose:o("remove-close",60022),x:o("x",60022),repoSync:o("repo-sync",60023),sync:o("sync",60023),clone:o("clone",60024),desktopDownload:o("desktop-download",60024),beaker:o("beaker",60025),microscope:o("microscope",60025),vm:o("vm",60026),deviceDesktop:o("device-desktop",60026),file:o("file",60027),fileText:o("file-text",60027),more:o("more",60028),ellipsis:o("ellipsis",60028),kebabHorizontal:o("kebab-horizontal",60028),mailReply:o("mail-reply",60029),reply:o("reply",60029),organization:o("organization",60030),organizationFilled:o("organization-filled",60030),organizationOutline:o("organization-outline",60030),newFile:o("new-file",60031),fileAdd:o("file-add",60031),newFolder:o("new-folder",60032),fileDirectoryCreate:o("file-directory-create",60032),trash:o("trash",60033),trashcan:o("trashcan",60033),history:o("history",60034),clock:o("clock",60034),folder:o("folder",60035),fileDirectory:o("file-directory",60035),symbolFolder:o("symbol-folder",60035),logoGithub:o("logo-github",60036),markGithub:o("mark-github",60036),github:o("github",60036),terminal:o("terminal",60037),console:o("console",60037),repl:o("repl",60037),zap:o("zap",60038),symbolEvent:o("symbol-event",60038),error:o("error",60039),stop:o("stop",60039),variable:o("variable",60040),symbolVariable:o("symbol-variable",60040),array:o("array",60042),symbolArray:o("symbol-array",60042),symbolModule:o("symbol-module",60043),symbolPackage:o("symbol-package",60043),symbolNamespace:o("symbol-namespace",60043),symbolObject:o("symbol-object",60043),symbolMethod:o("symbol-method",60044),symbolFunction:o("symbol-function",60044),symbolConstructor:o("symbol-constructor",60044),symbolBoolean:o("symbol-boolean",60047),symbolNull:o("symbol-null",60047),symbolNumeric:o("symbol-numeric",60048),symbolNumber:o("symbol-number",60048),symbolStructure:o("symbol-structure",60049),symbolStruct:o("symbol-struct",60049),symbolParameter:o("symbol-parameter",60050),symbolTypeParameter:o("symbol-type-parameter",60050),symbolKey:o("symbol-key",60051),symbolText:o("symbol-text",60051),symbolReference:o("symbol-reference",60052),goToFile:o("go-to-file",60052),symbolEnum:o("symbol-enum",60053),symbolValue:o("symbol-value",60053),symbolRuler:o("symbol-ruler",60054),symbolUnit:o("symbol-unit",60054),activateBreakpoints:o("activate-breakpoints",60055),archive:o("archive",60056),arrowBoth:o("arrow-both",60057),arrowDown:o("arrow-down",60058),arrowLeft:o("arrow-left",60059),arrowRight:o("arrow-right",60060),arrowSmallDown:o("arrow-small-down",60061),arrowSmallLeft:o("arrow-small-left",60062),arrowSmallRight:o("arrow-small-right",60063),arrowSmallUp:o("arrow-small-up",60064),arrowUp:o("arrow-up",60065),bell:o("bell",60066),bold:o("bold",60067),book:o("book",60068),bookmark:o("bookmark",60069),debugBreakpointConditionalUnverified:o("debug-breakpoint-conditional-unverified",60070),debugBreakpointConditional:o("debug-breakpoint-conditional",60071),debugBreakpointConditionalDisabled:o("debug-breakpoint-conditional-disabled",60071),debugBreakpointDataUnverified:o("debug-breakpoint-data-unverified",60072),debugBreakpointData:o("debug-breakpoint-data",60073),debugBreakpointDataDisabled:o("debug-breakpoint-data-disabled",60073),debugBreakpointLogUnverified:o("debug-breakpoint-log-unverified",60074),debugBreakpointLog:o("debug-breakpoint-log",60075),debugBreakpointLogDisabled:o("debug-breakpoint-log-disabled",60075),briefcase:o("briefcase",60076),broadcast:o("broadcast",60077),browser:o("browser",60078),bug:o("bug",60079),calendar:o("calendar",60080),caseSensitive:o("case-sensitive",60081),check:o("check",60082),checklist:o("checklist",60083),chevronDown:o("chevron-down",60084),chevronLeft:o("chevron-left",60085),chevronRight:o("chevron-right",60086),chevronUp:o("chevron-up",60087),chromeClose:o("chrome-close",60088),chromeMaximize:o("chrome-maximize",60089),chromeMinimize:o("chrome-minimize",60090),chromeRestore:o("chrome-restore",60091),circleOutline:o("circle-outline",60092),circle:o("circle",60092),debugBreakpointUnverified:o("debug-breakpoint-unverified",60092),terminalDecorationIncomplete:o("terminal-decoration-incomplete",60092),circleSlash:o("circle-slash",60093),circuitBoard:o("circuit-board",60094),clearAll:o("clear-all",60095),clippy:o("clippy",60096),closeAll:o("close-all",60097),cloudDownload:o("cloud-download",60098),cloudUpload:o("cloud-upload",60099),code:o("code",60100),collapseAll:o("collapse-all",60101),colorMode:o("color-mode",60102),commentDiscussion:o("comment-discussion",60103),creditCard:o("credit-card",60105),dash:o("dash",60108),dashboard:o("dashboard",60109),database:o("database",60110),debugContinue:o("debug-continue",60111),debugDisconnect:o("debug-disconnect",60112),debugPause:o("debug-pause",60113),debugRestart:o("debug-restart",60114),debugStart:o("debug-start",60115),debugStepInto:o("debug-step-into",60116),debugStepOut:o("debug-step-out",60117),debugStepOver:o("debug-step-over",60118),debugStop:o("debug-stop",60119),debug:o("debug",60120),deviceCameraVideo:o("device-camera-video",60121),deviceCamera:o("device-camera",60122),deviceMobile:o("device-mobile",60123),diffAdded:o("diff-added",60124),diffIgnored:o("diff-ignored",60125),diffModified:o("diff-modified",60126),diffRemoved:o("diff-removed",60127),diffRenamed:o("diff-renamed",60128),diff:o("diff",60129),diffSidebyside:o("diff-sidebyside",60129),discard:o("discard",60130),editorLayout:o("editor-layout",60131),emptyWindow:o("empty-window",60132),exclude:o("exclude",60133),extensions:o("extensions",60134),eyeClosed:o("eye-closed",60135),fileBinary:o("file-binary",60136),fileCode:o("file-code",60137),fileMedia:o("file-media",60138),filePdf:o("file-pdf",60139),fileSubmodule:o("file-submodule",60140),fileSymlinkDirectory:o("file-symlink-directory",60141),fileSymlinkFile:o("file-symlink-file",60142),fileZip:o("file-zip",60143),files:o("files",60144),filter:o("filter",60145),flame:o("flame",60146),foldDown:o("fold-down",60147),foldUp:o("fold-up",60148),fold:o("fold",60149),folderActive:o("folder-active",60150),folderOpened:o("folder-opened",60151),gear:o("gear",60152),gift:o("gift",60153),gistSecret:o("gist-secret",60154),gist:o("gist",60155),gitCommit:o("git-commit",60156),gitCompare:o("git-compare",60157),compareChanges:o("compare-changes",60157),gitMerge:o("git-merge",60158),githubAction:o("github-action",60159),githubAlt:o("github-alt",60160),globe:o("globe",60161),grabber:o("grabber",60162),graph:o("graph",60163),gripper:o("gripper",60164),heart:o("heart",60165),home:o("home",60166),horizontalRule:o("horizontal-rule",60167),hubot:o("hubot",60168),inbox:o("inbox",60169),issueReopened:o("issue-reopened",60171),issues:o("issues",60172),italic:o("italic",60173),jersey:o("jersey",60174),json:o("json",60175),kebabVertical:o("kebab-vertical",60176),key:o("key",60177),law:o("law",60178),lightbulbAutofix:o("lightbulb-autofix",60179),linkExternal:o("link-external",60180),link:o("link",60181),listOrdered:o("list-ordered",60182),listUnordered:o("list-unordered",60183),liveShare:o("live-share",60184),loading:o("loading",60185),location:o("location",60186),mailRead:o("mail-read",60187),mail:o("mail",60188),markdown:o("markdown",60189),megaphone:o("megaphone",60190),mention:o("mention",60191),milestone:o("milestone",60192),gitPullRequestMilestone:o("git-pull-request-milestone",60192),mortarBoard:o("mortar-board",60193),move:o("move",60194),multipleWindows:o("multiple-windows",60195),mute:o("mute",60196),noNewline:o("no-newline",60197),note:o("note",60198),octoface:o("octoface",60199),openPreview:o("open-preview",60200),package:o("package",60201),paintcan:o("paintcan",60202),pin:o("pin",60203),play:o("play",60204),run:o("run",60204),plug:o("plug",60205),preserveCase:o("preserve-case",60206),preview:o("preview",60207),project:o("project",60208),pulse:o("pulse",60209),question:o("question",60210),quote:o("quote",60211),radioTower:o("radio-tower",60212),reactions:o("reactions",60213),references:o("references",60214),refresh:o("refresh",60215),regex:o("regex",60216),remoteExplorer:o("remote-explorer",60217),remote:o("remote",60218),remove:o("remove",60219),replaceAll:o("replace-all",60220),replace:o("replace",60221),repoClone:o("repo-clone",60222),repoForcePush:o("repo-force-push",60223),repoPull:o("repo-pull",60224),repoPush:o("repo-push",60225),report:o("report",60226),requestChanges:o("request-changes",60227),rocket:o("rocket",60228),rootFolderOpened:o("root-folder-opened",60229),rootFolder:o("root-folder",60230),rss:o("rss",60231),ruby:o("ruby",60232),saveAll:o("save-all",60233),saveAs:o("save-as",60234),save:o("save",60235),screenFull:o("screen-full",60236),screenNormal:o("screen-normal",60237),searchStop:o("search-stop",60238),server:o("server",60240),settingsGear:o("settings-gear",60241),settings:o("settings",60242),shield:o("shield",60243),smiley:o("smiley",60244),sortPrecedence:o("sort-precedence",60245),splitHorizontal:o("split-horizontal",60246),splitVertical:o("split-vertical",60247),squirrel:o("squirrel",60248),starFull:o("star-full",60249),starHalf:o("star-half",60250),symbolClass:o("symbol-class",60251),symbolColor:o("symbol-color",60252),symbolConstant:o("symbol-constant",60253),symbolEnumMember:o("symbol-enum-member",60254),symbolField:o("symbol-field",60255),symbolFile:o("symbol-file",60256),symbolInterface:o("symbol-interface",60257),symbolKeyword:o("symbol-keyword",60258),symbolMisc:o("symbol-misc",60259),symbolOperator:o("symbol-operator",60260),symbolProperty:o("symbol-property",60261),wrench:o("wrench",60261),wrenchSubaction:o("wrench-subaction",60261),symbolSnippet:o("symbol-snippet",60262),tasklist:o("tasklist",60263),telescope:o("telescope",60264),textSize:o("text-size",60265),threeBars:o("three-bars",60266),thumbsdown:o("thumbsdown",60267),thumbsup:o("thumbsup",60268),tools:o("tools",60269),triangleDown:o("triangle-down",60270),triangleLeft:o("triangle-left",60271),triangleRight:o("triangle-right",60272),triangleUp:o("triangle-up",60273),twitter:o("twitter",60274),unfold:o("unfold",60275),unlock:o("unlock",60276),unmute:o("unmute",60277),unverified:o("unverified",60278),verified:o("verified",60279),versions:o("versions",60280),vmActive:o("vm-active",60281),vmOutline:o("vm-outline",60282),vmRunning:o("vm-running",60283),watch:o("watch",60284),whitespace:o("whitespace",60285),wholeWord:o("whole-word",60286),window:o("window",60287),wordWrap:o("word-wrap",60288),zoomIn:o("zoom-in",60289),zoomOut:o("zoom-out",60290),listFilter:o("list-filter",60291),listFlat:o("list-flat",60292),listSelection:o("list-selection",60293),selection:o("selection",60293),listTree:o("list-tree",60294),debugBreakpointFunctionUnverified:o("debug-breakpoint-function-unverified",60295),debugBreakpointFunction:o("debug-breakpoint-function",60296),debugBreakpointFunctionDisabled:o("debug-breakpoint-function-disabled",60296),debugStackframeActive:o("debug-stackframe-active",60297),circleSmallFilled:o("circle-small-filled",60298),debugStackframeDot:o("debug-stackframe-dot",60298),terminalDecorationMark:o("terminal-decoration-mark",60298),debugStackframe:o("debug-stackframe",60299),debugStackframeFocused:o("debug-stackframe-focused",60299),debugBreakpointUnsupported:o("debug-breakpoint-unsupported",60300),symbolString:o("symbol-string",60301),debugReverseContinue:o("debug-reverse-continue",60302),debugStepBack:o("debug-step-back",60303),debugRestartFrame:o("debug-restart-frame",60304),debugAlt:o("debug-alt",60305),callIncoming:o("call-incoming",60306),callOutgoing:o("call-outgoing",60307),menu:o("menu",60308),expandAll:o("expand-all",60309),feedback:o("feedback",60310),gitPullRequestReviewer:o("git-pull-request-reviewer",60310),groupByRefType:o("group-by-ref-type",60311),ungroupByRefType:o("ungroup-by-ref-type",60312),account:o("account",60313),gitPullRequestAssignee:o("git-pull-request-assignee",60313),bellDot:o("bell-dot",60314),debugConsole:o("debug-console",60315),library:o("library",60316),output:o("output",60317),runAll:o("run-all",60318),syncIgnored:o("sync-ignored",60319),pinned:o("pinned",60320),githubInverted:o("github-inverted",60321),serverProcess:o("server-process",60322),serverEnvironment:o("server-environment",60323),pass:o("pass",60324),issueClosed:o("issue-closed",60324),stopCircle:o("stop-circle",60325),playCircle:o("play-circle",60326),record:o("record",60327),debugAltSmall:o("debug-alt-small",60328),vmConnect:o("vm-connect",60329),cloud:o("cloud",60330),merge:o("merge",60331),export:o("export",60332),graphLeft:o("graph-left",60333),magnet:o("magnet",60334),notebook:o("notebook",60335),redo:o("redo",60336),checkAll:o("check-all",60337),pinnedDirty:o("pinned-dirty",60338),passFilled:o("pass-filled",60339),circleLargeFilled:o("circle-large-filled",60340),circleLarge:o("circle-large",60341),circleLargeOutline:o("circle-large-outline",60341),combine:o("combine",60342),gather:o("gather",60342),table:o("table",60343),variableGroup:o("variable-group",60344),typeHierarchy:o("type-hierarchy",60345),typeHierarchySub:o("type-hierarchy-sub",60346),typeHierarchySuper:o("type-hierarchy-super",60347),gitPullRequestCreate:o("git-pull-request-create",60348),runAbove:o("run-above",60349),runBelow:o("run-below",60350),notebookTemplate:o("notebook-template",60351),debugRerun:o("debug-rerun",60352),workspaceTrusted:o("workspace-trusted",60353),workspaceUntrusted:o("workspace-untrusted",60354),workspaceUnknown:o("workspace-unknown",60355),terminalCmd:o("terminal-cmd",60356),terminalDebian:o("terminal-debian",60357),terminalLinux:o("terminal-linux",60358),terminalPowershell:o("terminal-powershell",60359),terminalTmux:o("terminal-tmux",60360),terminalUbuntu:o("terminal-ubuntu",60361),terminalBash:o("terminal-bash",60362),arrowSwap:o("arrow-swap",60363),copy:o("copy",60364),personAdd:o("person-add",60365),filterFilled:o("filter-filled",60366),wand:o("wand",60367),debugLineByLine:o("debug-line-by-line",60368),inspect:o("inspect",60369),layers:o("layers",60370),layersDot:o("layers-dot",60371),layersActive:o("layers-active",60372),compass:o("compass",60373),compassDot:o("compass-dot",60374),compassActive:o("compass-active",60375),azure:o("azure",60376),issueDraft:o("issue-draft",60377),gitPullRequestClosed:o("git-pull-request-closed",60378),gitPullRequestDraft:o("git-pull-request-draft",60379),debugAll:o("debug-all",60380),debugCoverage:o("debug-coverage",60381),runErrors:o("run-errors",60382),folderLibrary:o("folder-library",60383),debugContinueSmall:o("debug-continue-small",60384),beakerStop:o("beaker-stop",60385),graphLine:o("graph-line",60386),graphScatter:o("graph-scatter",60387),pieChart:o("pie-chart",60388),bracket:o("bracket",60175),bracketDot:o("bracket-dot",60389),bracketError:o("bracket-error",60390),lockSmall:o("lock-small",60391),azureDevops:o("azure-devops",60392),verifiedFilled:o("verified-filled",60393),newline:o("newline",60394),layout:o("layout",60395),layoutActivitybarLeft:o("layout-activitybar-left",60396),layoutActivitybarRight:o("layout-activitybar-right",60397),layoutPanelLeft:o("layout-panel-left",60398),layoutPanelCenter:o("layout-panel-center",60399),layoutPanelJustify:o("layout-panel-justify",60400),layoutPanelRight:o("layout-panel-right",60401),layoutPanel:o("layout-panel",60402),layoutSidebarLeft:o("layout-sidebar-left",60403),layoutSidebarRight:o("layout-sidebar-right",60404),layoutStatusbar:o("layout-statusbar",60405),layoutMenubar:o("layout-menubar",60406),layoutCentered:o("layout-centered",60407),target:o("target",60408),indent:o("indent",60409),recordSmall:o("record-small",60410),errorSmall:o("error-small",60411),terminalDecorationError:o("terminal-decoration-error",60411),arrowCircleDown:o("arrow-circle-down",60412),arrowCircleLeft:o("arrow-circle-left",60413),arrowCircleRight:o("arrow-circle-right",60414),arrowCircleUp:o("arrow-circle-up",60415),layoutSidebarRightOff:o("layout-sidebar-right-off",60416),layoutPanelOff:o("layout-panel-off",60417),layoutSidebarLeftOff:o("layout-sidebar-left-off",60418),blank:o("blank",60419),heartFilled:o("heart-filled",60420),map:o("map",60421),mapHorizontal:o("map-horizontal",60421),foldHorizontal:o("fold-horizontal",60421),mapFilled:o("map-filled",60422),mapHorizontalFilled:o("map-horizontal-filled",60422),foldHorizontalFilled:o("fold-horizontal-filled",60422),circleSmall:o("circle-small",60423),bellSlash:o("bell-slash",60424),bellSlashDot:o("bell-slash-dot",60425),commentUnresolved:o("comment-unresolved",60426),gitPullRequestGoToChanges:o("git-pull-request-go-to-changes",60427),gitPullRequestNewChanges:o("git-pull-request-new-changes",60428),searchFuzzy:o("search-fuzzy",60429),commentDraft:o("comment-draft",60430),send:o("send",60431),sparkle:o("sparkle",60432),insert:o("insert",60433),mic:o("mic",60434),thumbsdownFilled:o("thumbsdown-filled",60435),thumbsupFilled:o("thumbsup-filled",60436),coffee:o("coffee",60437),snake:o("snake",60438),game:o("game",60439),vr:o("vr",60440),chip:o("chip",60441),piano:o("piano",60442),music:o("music",60443),micFilled:o("mic-filled",60444),repoFetch:o("repo-fetch",60445),copilot:o("copilot",60446),lightbulbSparkle:o("lightbulb-sparkle",60447),robot:o("robot",60448),sparkleFilled:o("sparkle-filled",60449),diffSingle:o("diff-single",60450),diffMultiple:o("diff-multiple",60451),surroundWith:o("surround-with",60452),share:o("share",60453),gitStash:o("git-stash",60454),gitStashApply:o("git-stash-apply",60455),gitStashPop:o("git-stash-pop",60456),vscode:o("vscode",60457),vscodeInsiders:o("vscode-insiders",60458),codeOss:o("code-oss",60459),runCoverage:o("run-coverage",60460),runAllCoverage:o("run-all-coverage",60461),coverage:o("coverage",60462),githubProject:o("github-project",60463),mapVertical:o("map-vertical",60464),foldVertical:o("fold-vertical",60464),mapVerticalFilled:o("map-vertical-filled",60465),foldVerticalFilled:o("fold-vertical-filled",60465),goToSearch:o("go-to-search",60466),percentage:o("percentage",60467),sortPercentage:o("sort-percentage",60467),attach:o("attach",60468)},N={dialogError:o("dialog-error","error"),dialogWarning:o("dialog-warning","warning"),dialogInfo:o("dialog-info","info"),dialogClose:o("dialog-close","close"),treeItemExpanded:o("tree-item-expanded","chevron-down"),treeFilterOnTypeOn:o("tree-filter-on-type-on","list-filter"),treeFilterOnTypeOff:o("tree-filter-on-type-off","list-selection"),treeFilterClear:o("tree-filter-clear","close"),treeItemLoading:o("tree-item-loading","loading"),menuSelection:o("menu-selection","check"),menuSubmenu:o("menu-submenu","chevron-right"),menuBarMore:o("menubar-more","more"),scrollbarButtonLeft:o("scrollbar-button-left","triangle-left"),scrollbarButtonRight:o("scrollbar-button-right","triangle-right"),scrollbarButtonUp:o("scrollbar-button-up","triangle-up"),scrollbarButtonDown:o("scrollbar-button-down","triangle-down"),toolBarMore:o("toolbar-more","more"),quickInputBack:o("quick-input-back","arrow-left"),dropDownButton:o("drop-down-button",60084),symbolCustomColor:o("symbol-customcolor",60252),exportIcon:o("export",60332),workspaceUnspecified:o("workspace-unspecified",60355),newLine:o("newline",60394),thumbsDownFilled:o("thumbsdown-filled",60435),thumbsUpFilled:o("thumbsup-filled",60436),gitFetch:o("git-fetch",60445),lightbulbSparkleAutofix:o("lightbulb-sparkle-autofix",60447),debugBreakpointPending:o("debug-breakpoint-pending",60377)},g={...Q,...N}},4901:(Lt,Pe,E)=>{"use strict";E.d(Pe,{Q1:n(()=>Q,"Q1"),bU:n(()=>ie,"bU"),hB:n(()=>o,"hB")});function F(ne,B){const $=Math.pow(10,B);return Math.round(ne*$)/$}n(F,"roundFloat");const N=class N{constructor(B,$,j,z=1){this._rgbaBrand=void 0,this.r=Math.min(255,Math.max(0,B))|0,this.g=Math.min(255,Math.max(0,$))|0,this.b=Math.min(255,Math.max(0,j))|0,this.a=F(Math.max(Math.min(1,z),0),3)}static equals(B,$){return B.r===$.r&&B.g===$.g&&B.b===$.b&&B.a===$.a}};n(N,"RGBA");let ie=N;const g=class g{constructor(B,$,j,z){this._hslaBrand=void 0,this.h=Math.max(Math.min(360,B),0)|0,this.s=F(Math.max(Math.min(1,$),0),3),this.l=F(Math.max(Math.min(1,j),0),3),this.a=F(Math.max(Math.min(1,z),0),3)}static equals(B,$){return B.h===$.h&&B.s===$.s&&B.l===$.l&&B.a===$.a}static fromRGBA(B){const $=B.r/255,j=B.g/255,z=B.b/255,U=B.a,v=Math.max($,j,z),ce=Math.min($,j,z);let J=0,y=0;const W=(ce+v)/2,me=v-ce;if(me>0){switch(y=Math.min(W<=.5?me/(2*W):me/(2-2*W),1),v){case $:J=(j-z)/me+(j<z?6:0);break;case j:J=(z-$)/me+2;break;case z:J=($-j)/me+4;break}J*=60,J=Math.round(J)}return new g(J,y,W,U)}static _hue2rgb(B,$,j){return j<0&&(j+=1),j>1&&(j-=1),j<.16666666666666666?B+($-B)*6*j:j<.5?$:j<.6666666666666666?B+($-B)*(.6666666666666666-j)*6:B}static toRGBA(B){const $=B.h/360,{s:j,l:z,a:U}=B;let v,ce,J;if(j===0)v=ce=J=z;else{const y=z<.5?z*(1+j):z+j-z*j,W=2*z-y;v=g._hue2rgb(W,y,$+.3333333333333333),ce=g._hue2rgb(W,y,$),J=g._hue2rgb(W,y,$-.3333333333333333)}return new ie(Math.round(v*255),Math.round(ce*255),Math.round(J*255),U)}};n(g,"HSLA");let o=g;const Y=class Y{constructor(B,$,j,z){this._hsvaBrand=void 0,this.h=Math.max(Math.min(360,B),0)|0,this.s=F(Math.max(Math.min(1,$),0),3),this.v=F(Math.max(Math.min(1,j),0),3),this.a=F(Math.max(Math.min(1,z),0),3)}static equals(B,$){return B.h===$.h&&B.s===$.s&&B.v===$.v&&B.a===$.a}static fromRGBA(B){const $=B.r/255,j=B.g/255,z=B.b/255,U=Math.max($,j,z),v=Math.min($,j,z),ce=U-v,J=U===0?0:ce/U;let y;return ce===0?y=0:U===$?y=((j-z)/ce%6+6)%6:U===j?y=(z-$)/ce+2:y=($-j)/ce+4,new Y(Math.round(y*60),J,U,B.a)}static toRGBA(B){const{h:$,s:j,v:z,a:U}=B,v=z*j,ce=v*(1-Math.abs($/60%2-1)),J=z-v;let[y,W,me]=[0,0,0];return $<60?(y=v,W=ce):$<120?(y=ce,W=v):$<180?(W=v,me=ce):$<240?(W=ce,me=v):$<300?(y=ce,me=v):$<=360&&(y=v,me=ce),y=Math.round((y+J)*255),W=Math.round((W+J)*255),me=Math.round((me+J)*255),new ie(y,W,me,U)}};n(Y,"HSVA");let K=Y;const O=class O{static fromHex(B){return O.Format.CSS.parseHex(B)||O.red}static equals(B,$){return!B&&!$?!0:!B||!$?!1:B.equals($)}get hsla(){return this._hsla?this._hsla:o.fromRGBA(this.rgba)}get hsva(){return this._hsva?this._hsva:K.fromRGBA(this.rgba)}constructor(B){if(B)if(B instanceof ie)this.rgba=B;else if(B instanceof o)this._hsla=B,this.rgba=o.toRGBA(B);else if(B instanceof K)this._hsva=B,this.rgba=K.toRGBA(B);else throw new Error("Invalid color ctor argument");else throw new Error("Color needs a value")}equals(B){return!!B&&ie.equals(this.rgba,B.rgba)&&o.equals(this.hsla,B.hsla)&&K.equals(this.hsva,B.hsva)}getRelativeLuminance(){const B=O._relativeLuminanceForComponent(this.rgba.r),$=O._relativeLuminanceForComponent(this.rgba.g),j=O._relativeLuminanceForComponent(this.rgba.b),z=.2126*B+.7152*$+.0722*j;return F(z,4)}static _relativeLuminanceForComponent(B){const $=B/255;return $<=.03928?$/12.92:Math.pow(($+.055)/1.055,2.4)}isLighter(){return(this.rgba.r*299+this.rgba.g*587+this.rgba.b*114)/1e3>=128}isLighterThan(B){const $=this.getRelativeLuminance(),j=B.getRelativeLuminance();return $>j}isDarkerThan(B){const $=this.getRelativeLuminance(),j=B.getRelativeLuminance();return $<j}lighten(B){return new O(new o(this.hsla.h,this.hsla.s,this.hsla.l+this.hsla.l*B,this.hsla.a))}darken(B){return new O(new o(this.hsla.h,this.hsla.s,this.hsla.l-this.hsla.l*B,this.hsla.a))}transparent(B){const{r:$,g:j,b:z,a:U}=this.rgba;return new O(new ie($,j,z,U*B))}isTransparent(){return this.rgba.a===0}isOpaque(){return this.rgba.a===1}opposite(){return new O(new ie(255-this.rgba.r,255-this.rgba.g,255-this.rgba.b,this.rgba.a))}makeOpaque(B){if(this.isOpaque()||B.rgba.a!==1)return this;const{r:$,g:j,b:z,a:U}=this.rgba;return new O(new ie(B.rgba.r-U*(B.rgba.r-$),B.rgba.g-U*(B.rgba.g-j),B.rgba.b-U*(B.rgba.b-z),1))}toString(){return this._toString||(this._toString=O.Format.CSS.format(this)),this._toString}static getLighterColor(B,$,j){if(B.isLighterThan($))return B;j=j||.5;const z=B.getRelativeLuminance(),U=$.getRelativeLuminance();return j=j*(U-z)/U,B.lighten(j)}static getDarkerColor(B,$,j){if(B.isDarkerThan($))return B;j=j||.5;const z=B.getRelativeLuminance(),U=$.getRelativeLuminance();return j=j*(z-U)/z,B.darken(j)}};n(O,"Color"),O.white=new O(new ie(255,255,255,1)),O.black=new O(new ie(0,0,0,1)),O.red=new O(new ie(255,0,0,1)),O.blue=new O(new ie(0,0,255,1)),O.green=new O(new ie(0,255,0,1)),O.cyan=new O(new ie(0,255,255,1)),O.lightgrey=new O(new ie(211,211,211,1)),O.transparent=new O(new ie(0,0,0,0));let Q=O;(function(ne){let B;(function($){let j;(function(z){function U(R){return R.rgba.a===1?`rgb(${R.rgba.r}, ${R.rgba.g}, ${R.rgba.b})`:ne.Format.CSS.formatRGBA(R)}n(U,"formatRGB"),z.formatRGB=U;function v(R){return`rgba(${R.rgba.r}, ${R.rgba.g}, ${R.rgba.b}, ${+R.rgba.a.toFixed(2)})`}n(v,"formatRGBA"),z.formatRGBA=v;function ce(R){return R.hsla.a===1?`hsl(${R.hsla.h}, ${(R.hsla.s*100).toFixed(2)}%, ${(R.hsla.l*100).toFixed(2)}%)`:ne.Format.CSS.formatHSLA(R)}n(ce,"formatHSL"),z.formatHSL=ce;function J(R){return`hsla(${R.hsla.h}, ${(R.hsla.s*100).toFixed(2)}%, ${(R.hsla.l*100).toFixed(2)}%, ${R.hsla.a.toFixed(2)})`}n(J,"formatHSLA"),z.formatHSLA=J;function y(R){const m=R.toString(16);return m.length!==2?"0"+m:m}n(y,"_toTwoDigitHex");function W(R){return`#${y(R.rgba.r)}${y(R.rgba.g)}${y(R.rgba.b)}`}n(W,"formatHex"),z.formatHex=W;function me(R,m=!1){return m&&R.rgba.a===1?ne.Format.CSS.formatHex(R):`#${y(R.rgba.r)}${y(R.rgba.g)}${y(R.rgba.b)}${y(Math.round(R.rgba.a*255))}`}n(me,"formatHexA"),z.formatHexA=me;function we(R){return R.isOpaque()?ne.Format.CSS.formatHex(R):ne.Format.CSS.formatRGBA(R)}n(we,"format"),z.format=we;function Ue(R){const m=R.length;if(m===0||R.charCodeAt(0)!==35)return null;if(m===7){const _=16*Ce(R.charCodeAt(1))+Ce(R.charCodeAt(2)),b=16*Ce(R.charCodeAt(3))+Ce(R.charCodeAt(4)),I=16*Ce(R.charCodeAt(5))+Ce(R.charCodeAt(6));return new ne(new ie(_,b,I,1))}if(m===9){const _=16*Ce(R.charCodeAt(1))+Ce(R.charCodeAt(2)),b=16*Ce(R.charCodeAt(3))+Ce(R.charCodeAt(4)),I=16*Ce(R.charCodeAt(5))+Ce(R.charCodeAt(6)),P=16*Ce(R.charCodeAt(7))+Ce(R.charCodeAt(8));return new ne(new ie(_,b,I,P/255))}if(m===4){const _=Ce(R.charCodeAt(1)),b=Ce(R.charCodeAt(2)),I=Ce(R.charCodeAt(3));return new ne(new ie(16*_+_,16*b+b,16*I+I))}if(m===5){const _=Ce(R.charCodeAt(1)),b=Ce(R.charCodeAt(2)),I=Ce(R.charCodeAt(3)),P=Ce(R.charCodeAt(4));return new ne(new ie(16*_+_,16*b+b,16*I+I,(16*P+P)/255))}return null}n(Ue,"parseHex"),z.parseHex=Ue;function Ce(R){switch(R){case 48:return 0;case 49:return 1;case 50:return 2;case 51:return 3;case 52:return 4;case 53:return 5;case 54:return 6;case 55:return 7;case 56:return 8;case 57:return 9;case 97:return 10;case 65:return 10;case 98:return 11;case 66:return 11;case 99:return 12;case 67:return 12;case 100:return 13;case 68:return 13;case 101:return 14;case 69:return 14;case 102:return 15;case 70:return 15}return 0}n(Ce,"_parseHexDigit")})(j=$.CSS||($.CSS={}))})(B=ne.Format||(ne.Format={}))})(Q||(Q={}))},4327:(Lt,Pe,E)=>{"use strict";E.d(Pe,{D7:n(()=>z,"D7"),EM:n(()=>$,"EM"),Qg:n(()=>ne,"Qg"),cU:n(()=>Q,"cU"),dz:n(()=>o,"dz"),iH:n(()=>B,"iH")});const U=class U{constructor(){this.listeners=[],this.unexpectedErrorHandler=function(me){setTimeout(()=>{throw me.stack?j.isErrorNoTelemetry(me)?new j(me.message+`

`+me.stack):new Error(me.message+`

`+me.stack):me},0)}}emit(me){this.listeners.forEach(we=>{we(me)})}onUnexpectedError(me){this.unexpectedErrorHandler(me),this.emit(me)}onUnexpectedExternalError(me){this.unexpectedErrorHandler(me)}};n(U,"ErrorHandler");let F=U;const ie=new F;function o(W){g(W)||ie.onUnexpectedError(W)}n(o,"onUnexpectedError");function K(W){g(W)||ie.onUnexpectedExternalError(W)}n(K,"onUnexpectedExternalError");function Q(W){if(W instanceof Error){const{name:me,message:we}=W,Ue=W.stacktrace||W.stack;return{$isError:!0,name:me,message:we,stack:Ue,noTelemetry:j.isErrorNoTelemetry(W)}}return W}n(Q,"transformErrorForSerialization");const N="Canceled";function g(W){return W instanceof Y?!0:W instanceof Error&&W.name===N&&W.message===N}n(g,"isCancellationError");const v=class v extends Error{constructor(){super(N),this.name=this.message}};n(v,"CancellationError");let Y=v;function O(){const W=new Error(N);return W.name=W.message,W}n(O,"canceled");function ne(W){return W?new Error(`Illegal argument: ${W}`):new Error("Illegal argument")}n(ne,"illegalArgument");function B(W){return W?new Error(`Illegal state: ${W}`):new Error("Illegal state")}n(B,"illegalState");const ce=class ce extends Error{constructor(me){super("NotSupported"),me&&(this.message=me)}};n(ce,"NotSupportedError");let $=ce;const J=class J extends Error{constructor(me){super(me),this.name="CodeExpectedError"}static fromError(me){if(me instanceof J)return me;const we=new J;return we.message=me.message,we.stack=me.stack,we}static isErrorNoTelemetry(me){return me.name==="CodeExpectedError"}};n(J,"ErrorNoTelemetry");let j=J;const y=class y extends Error{constructor(me){super(me||"An unexpected bug occurred."),Object.setPrototypeOf(this,y.prototype)}};n(y,"BugIndicatingError");let z=y},2106:(Lt,Pe,E)=>{"use strict";E.d(Pe,{Jh:n(()=>Y,"Jh"),vl:n(()=>y,"vl")});var F=E(4327),ie=E(9235),o=E(5525),K=E(3013);const Q=!1,N=!1,g=!1;var Y;(function(w){w.None=()=>ie.jG.None;function D(pt){if(g){const{onDidAddListener:at}=pt,xt=$.create();let dt=0;pt.onDidAddListener=()=>{++dt===2&&(console.warn("snapshotted emitter LIKELY used public and SHOULD HAVE BEEN created with DisposableStore. snapshotted here"),xt.print()),at==null||at()}}}n(D,"_addLeakageTraceLogic");function Z(pt,at){return En(pt,()=>{},0,void 0,!0,void 0,at)}n(Z,"defer"),w.defer=Z;function he(pt){return(at,xt=null,dt)=>{let ut=!1,St;return St=pt($t=>{if(!ut)return St?St.dispose():ut=!0,at.call(xt,$t)},null,dt),ut&&St.dispose(),St}}n(he,"once"),w.once=he;function ye(pt,at){return w.once(w.filter(pt,at))}n(ye,"onceIf"),w.onceIf=ye;function He(pt,at,xt){return Ut((dt,ut=null,St)=>pt($t=>dt.call(ut,at($t)),null,St),xt)}n(He,"map"),w.map=He;function Ve(pt,at,xt){return Ut((dt,ut=null,St)=>pt($t=>{at($t),dt.call(ut,$t)},null,St),xt)}n(Ve,"forEach"),w.forEach=Ve;function ft(pt,at,xt){return Ut((dt,ut=null,St)=>pt($t=>at($t)&&dt.call(ut,$t),null,St),xt)}n(ft,"filter"),w.filter=ft;function ot(pt){return pt}n(ot,"signal"),w.signal=ot;function kt(...pt){return(at,xt=null,dt)=>{const ut=(0,ie.qE)(...pt.map(St=>St($t=>at.call(xt,$t))));return Dn(ut,dt)}}n(kt,"any"),w.any=kt;function nn(pt,at,xt,dt){let ut=xt;return He(pt,St=>(ut=at(ut,St),ut),dt)}n(nn,"reduce"),w.reduce=nn;function Ut(pt,at){let xt;const dt={onWillAddFirstListener(){xt=pt(ut.fire,ut)},onDidRemoveLastListener(){xt==null||xt.dispose()}};at||D(dt);const ut=new y(dt);return at==null||at.add(ut),ut.event}n(Ut,"snapshot");function Dn(pt,at){return at instanceof Array?at.push(pt):at&&at.add(pt),pt}n(Dn,"addAndReturnDisposable");function En(pt,at,xt=100,dt=!1,ut=!1,St,$t){let Zt,cn,Nt,T=0,Se;const ct={leakWarningThreshold:St,onWillAddFirstListener(){Zt=pt(un=>{T++,cn=at(cn,un),dt&&!Nt&&(rt.fire(cn),cn=void 0),Se=n(()=>{const Bt=cn;cn=void 0,Nt=void 0,(!dt||T>1)&&rt.fire(Bt),T=0},"doFire"),typeof xt=="number"?(clearTimeout(Nt),Nt=setTimeout(Se,xt)):Nt===void 0&&(Nt=0,queueMicrotask(Se))})},onWillRemoveListener(){ut&&T>0&&(Se==null||Se())},onDidRemoveLastListener(){Se=void 0,Zt.dispose()}};$t||D(ct);const rt=new y(ct);return $t==null||$t.add(rt),rt.event}n(En,"debounce"),w.debounce=En;function _n(pt,at=0,xt){return w.debounce(pt,(dt,ut)=>dt?(dt.push(ut),dt):[ut],at,void 0,!0,void 0,xt)}n(_n,"accumulate"),w.accumulate=_n;function vn(pt,at=(dt,ut)=>dt===ut,xt){let dt=!0,ut;return ft(pt,St=>{const $t=dt||!at(St,ut);return dt=!1,ut=St,$t},xt)}n(vn,"latch"),w.latch=vn;function mn(pt,at,xt){return[w.filter(pt,at,xt),w.filter(pt,dt=>!at(dt),xt)]}n(mn,"split"),w.split=mn;function pn(pt,at=!1,xt=[],dt){let ut=xt.slice(),St=pt(cn=>{ut?ut.push(cn):Zt.fire(cn)});dt&&dt.add(St);const $t=n(()=>{ut==null||ut.forEach(cn=>Zt.fire(cn)),ut=null},"flush"),Zt=new y({onWillAddFirstListener(){St||(St=pt(cn=>Zt.fire(cn)),dt&&dt.add(St))},onDidAddFirstListener(){ut&&(at?setTimeout($t):$t())},onDidRemoveLastListener(){St&&St.dispose(),St=null}});return dt&&dt.add(Zt),Zt.event}n(pn,"buffer"),w.buffer=pn;function dn(pt,at){return n((dt,ut,St)=>{const $t=at(new an);return pt(function(Zt){const cn=$t.evaluate(Zt);cn!==xn&&dt.call(ut,cn)},void 0,St)},"fn")}n(dn,"chain"),w.chain=dn;const xn=Symbol("HaltChainable"),mt=class mt{constructor(){this.steps=[]}map(at){return this.steps.push(at),this}forEach(at){return this.steps.push(xt=>(at(xt),xt)),this}filter(at){return this.steps.push(xt=>at(xt)?xt:xn),this}reduce(at,xt){let dt=xt;return this.steps.push(ut=>(dt=at(dt,ut),dt)),this}latch(at=(xt,dt)=>xt===dt){let xt=!0,dt;return this.steps.push(ut=>{const St=xt||!at(ut,dt);return xt=!1,dt=ut,St?ut:xn}),this}evaluate(at){for(const xt of this.steps)if(at=xt(at),at===xn)break;return at}};n(mt,"ChainableSynthesis");let an=mt;function Rn(pt,at,xt=dt=>dt){const dt=n((...Zt)=>$t.fire(xt(...Zt)),"fn"),ut=n(()=>pt.on(at,dt),"onFirstListenerAdd"),St=n(()=>pt.removeListener(at,dt),"onLastListenerRemove"),$t=new y({onWillAddFirstListener:ut,onDidRemoveLastListener:St});return $t.event}n(Rn,"fromNodeEventEmitter"),w.fromNodeEventEmitter=Rn;function wn(pt,at,xt=dt=>dt){const dt=n((...Zt)=>$t.fire(xt(...Zt)),"fn"),ut=n(()=>pt.addEventListener(at,dt),"onFirstListenerAdd"),St=n(()=>pt.removeEventListener(at,dt),"onLastListenerRemove"),$t=new y({onWillAddFirstListener:ut,onDidRemoveLastListener:St});return $t.event}n(wn,"fromDOMEventEmitter"),w.fromDOMEventEmitter=wn;function Fn(pt){return new Promise(at=>he(pt)(at))}n(Fn,"toPromise"),w.toPromise=Fn;function An(pt){const at=new y;return pt.then(xt=>{at.fire(xt)},()=>{at.fire(void 0)}).finally(()=>{at.dispose()}),at.event}n(An,"fromPromise"),w.fromPromise=An;function gn(pt,at){return pt(xt=>at.fire(xt))}n(gn,"forward"),w.forward=gn;function Tn(pt,at,xt){return at(xt),pt(dt=>at(dt))}n(Tn,"runAndSubscribe"),w.runAndSubscribe=Tn;const It=class It{constructor(at,xt){this._observable=at,this._counter=0,this._hasChanged=!1;const dt={onWillAddFirstListener:n(()=>{at.addObserver(this),this._observable.reportChanges()},"onWillAddFirstListener"),onDidRemoveLastListener:n(()=>{at.removeObserver(this)},"onDidRemoveLastListener")};xt||D(dt),this.emitter=new y(dt),xt&&xt.add(this.emitter)}beginUpdate(at){this._counter++}handlePossibleChange(at){}handleChange(at,xt){this._hasChanged=!0}endUpdate(at){this._counter--,this._counter===0&&(this._observable.reportChanges(),this._hasChanged&&(this._hasChanged=!1,this.emitter.fire(this._observable.get())))}};n(It,"EmitterObserver");let Oe=It;function $e(pt,at){return new Oe(pt,at).emitter.event}n($e,"fromObservable"),w.fromObservable=$e;function i(pt){return(at,xt,dt)=>{let ut=0,St=!1;const $t={beginUpdate(){ut++},endUpdate(){ut--,ut===0&&(pt.reportChanges(),St&&(St=!1,at.call(xt)))},handlePossibleChange(){},handleChange(){St=!0}};pt.addObserver($t),pt.reportChanges();const Zt={dispose(){pt.removeObserver($t)}};return dt instanceof ie.Cm?dt.add(Zt):Array.isArray(dt)&&dt.push(Zt),Zt}}n(i,"fromObservableLight"),w.fromObservableLight=i})(Y||(Y={}));const b=class b{constructor(D){this.listenerCount=0,this.invocationCount=0,this.elapsedOverall=0,this.durations=[],this.name=`${D}_${b._idPool++}`,b.all.add(this)}start(D){this._stopWatch=new K.W,this.listenerCount=D}stop(){if(this._stopWatch){const D=this._stopWatch.elapsed();this.durations.push(D),this.elapsedOverall+=D,this.invocationCount+=1,this._stopWatch=void 0}}};n(b,"EventProfiling"),b.all=new Set,b._idPool=0;let O=b,ne=-1;const I=class I{constructor(D,Z,he=(I._idPool++).toString(16).padStart(3,"0")){this._errorHandler=D,this.threshold=Z,this.name=he,this._warnCountdown=0}dispose(){var D;(D=this._stacks)==null||D.clear()}check(D,Z){const he=this.threshold;if(he<=0||Z<he)return;this._stacks||(this._stacks=new Map);const ye=this._stacks.get(D.value)||0;if(this._stacks.set(D.value,ye+1),this._warnCountdown-=1,this._warnCountdown<=0){this._warnCountdown=he*.5;const[He,Ve]=this.getMostFrequentStack(),ft=`[${this.name}] potential listener LEAK detected, having ${Z} listeners already. MOST frequent listener (${Ve}):`;console.warn(ft),console.warn(He);const ot=new j(ft,He);this._errorHandler(ot)}return()=>{const He=this._stacks.get(D.value)||0;this._stacks.set(D.value,He-1)}}getMostFrequentStack(){if(!this._stacks)return;let D,Z=0;for(const[he,ye]of this._stacks)(!D||Z<ye)&&(D=[he,ye],Z=ye);return D}};n(I,"LeakageMonitor"),I._idPool=1;let B=I;const P=class P{static create(){var Z;const D=new Error;return new P((Z=D.stack)!=null?Z:"")}constructor(D){this.value=D}print(){console.warn(this.value.split(`
`).slice(2).join(`
`))}};n(P,"Stacktrace");let $=P;const V=class V extends Error{constructor(D,Z){super(D),this.name="ListenerLeakError",this.stack=Z}};n(V,"ListenerLeakError");let j=V;const ee=class ee extends Error{constructor(D,Z){super(D),this.name="ListenerRefusalError",this.stack=Z}};n(ee,"ListenerRefusalError");let z=ee;const fe=class fe{constructor(D){this.value=D}};n(fe,"UniqueContainer");let U=fe;const v=2,ce=n((w,D)=>{if(w instanceof U)D(w);else for(let Z=0;Z<w.length;Z++){const he=w[Z];he&&D(he)}},"forEachListener");let J;if(Q){const w=[];setInterval(()=>{w.length!==0&&(console.warn("[LEAKING LISTENERS] GC'ed these listeners that were NOT yet disposed:"),console.warn(w.join(`
`)),w.length=0)},3e3),J=new FinalizationRegistry(D=>{typeof D=="string"&&w.push(D)})}const ue=class ue{constructor(D){var Z,he,ye,He,Ve,ft;this._size=0,this._options=D,this._leakageMon=ne>0||(Z=this._options)!=null&&Z.leakWarningThreshold?new B((he=D==null?void 0:D.onListenerError)!=null?he:F.dz,(He=(ye=this._options)==null?void 0:ye.leakWarningThreshold)!=null?He:ne):void 0,this._perfMon=(Ve=this._options)!=null&&Ve._profName?new O(this._options._profName):void 0,this._deliveryQueue=(ft=this._options)==null?void 0:ft.deliveryQueue}dispose(){var D,Z,he,ye;if(!this._disposed){if(this._disposed=!0,((D=this._deliveryQueue)==null?void 0:D.current)===this&&this._deliveryQueue.reset(),this._listeners){if(N){const He=this._listeners;queueMicrotask(()=>{ce(He,Ve=>{var ft;return(ft=Ve.stack)==null?void 0:ft.print()})})}this._listeners=void 0,this._size=0}(he=(Z=this._options)==null?void 0:Z.onDidRemoveLastListener)==null||he.call(Z),(ye=this._leakageMon)==null||ye.dispose()}}get event(){var D;return(D=this._event)!=null||(this._event=(Z,he,ye)=>{var kt,nn,Ut,Dn,En,_n,vn,mn;if(this._leakageMon&&this._size>this._leakageMon.threshold**2){const pn=`[${this._leakageMon.name}] REFUSES to accept new listeners because it exceeded its threshold by far (${this._size} vs ${this._leakageMon.threshold})`;console.warn(pn);const dn=(kt=this._leakageMon.getMostFrequentStack())!=null?kt:["UNKNOWN stack",-1],xn=new z(`${pn}. HINT: Stack shows most frequent listener (${dn[1]}-times)`,dn[0]);return(((nn=this._options)==null?void 0:nn.onListenerError)||F.dz)(xn),ie.jG.None}if(this._disposed)return ie.jG.None;he&&(Z=Z.bind(he));const He=new U(Z);let Ve,ft;this._leakageMon&&this._size>=Math.ceil(this._leakageMon.threshold*.2)&&(He.stack=$.create(),Ve=this._leakageMon.check(He.stack,this._size+1)),N&&(He.stack=ft!=null?ft:$.create()),this._listeners?this._listeners instanceof U?((vn=this._deliveryQueue)!=null||(this._deliveryQueue=new me),this._listeners=[this._listeners,He]):this._listeners.push(He):((Dn=(Ut=this._options)==null?void 0:Ut.onWillAddFirstListener)==null||Dn.call(Ut,this),this._listeners=He,(_n=(En=this._options)==null?void 0:En.onDidAddFirstListener)==null||_n.call(En,this)),this._size++;const ot=(0,ie.s)(()=>{J==null||J.unregister(ot),Ve==null||Ve(),this._removeListener(He)});if(ye instanceof ie.Cm?ye.add(ot):Array.isArray(ye)&&ye.push(ot),J){const pn=new Error().stack.split(`
`).slice(2,3).join(`
`).trim(),dn=/(file:|vscode-file:\/\/vscode-app)?(\/[^:]*:\d+:\d+)/.exec(pn);J.register(ot,(mn=dn==null?void 0:dn[2])!=null?mn:pn,ot)}return ot}),this._event}_removeListener(D){var He,Ve,ft,ot;if((Ve=(He=this._options)==null?void 0:He.onWillRemoveListener)==null||Ve.call(He,this),!this._listeners)return;if(this._size===1){this._listeners=void 0,(ot=(ft=this._options)==null?void 0:ft.onDidRemoveLastListener)==null||ot.call(ft,this),this._size=0;return}const Z=this._listeners,he=Z.indexOf(D);if(he===-1)throw console.log("disposed?",this._disposed),console.log("size?",this._size),console.log("arr?",JSON.stringify(this._listeners)),new Error("Attempted to dispose unknown listener");this._size--,Z[he]=void 0;const ye=this._deliveryQueue.current===this;if(this._size*v<=Z.length){let kt=0;for(let nn=0;nn<Z.length;nn++)Z[nn]?Z[kt++]=Z[nn]:ye&&(this._deliveryQueue.end--,kt<this._deliveryQueue.i&&this._deliveryQueue.i--);Z.length=kt}}_deliver(D,Z){var ye;if(!D)return;const he=((ye=this._options)==null?void 0:ye.onListenerError)||F.dz;if(!he){D.value(Z);return}try{D.value(Z)}catch(He){he(He)}}_deliverQueue(D){const Z=D.current._listeners;for(;D.i<D.end;)this._deliver(Z[D.i++],D.value);D.reset()}fire(D){var Z,he,ye,He;if((Z=this._deliveryQueue)!=null&&Z.current&&(this._deliverQueue(this._deliveryQueue),(he=this._perfMon)==null||he.stop()),(ye=this._perfMon)==null||ye.start(this._size),this._listeners)if(this._listeners instanceof U)this._deliver(this._listeners,D);else{const Ve=this._deliveryQueue;Ve.enqueue(this,D,this._listeners.length),this._deliverQueue(Ve)}(He=this._perfMon)==null||He.stop()}hasListeners(){return this._size>0}};n(ue,"Emitter");let y=ue;const W=n(()=>new me,"createEventDeliveryQueue"),Te=class Te{constructor(){this.i=-1,this.end=0}enqueue(D,Z,he){this.i=0,this.end=he,this.current=D,this.value=Z}reset(){this.i=this.end,this.current=void 0,this.value=void 0}};n(Te,"EventDeliveryQueuePrivate");let me=Te;const je=class je extends y{constructor(D){super(D),this._isPaused=0,this._eventQueue=new o.w,this._mergeFn=D==null?void 0:D.merge}pause(){this._isPaused++}resume(){if(this._isPaused!==0&&--this._isPaused===0)if(this._mergeFn){if(this._eventQueue.size>0){const D=Array.from(this._eventQueue);this._eventQueue.clear(),super.fire(this._mergeFn(D))}}else for(;!this._isPaused&&this._eventQueue.size!==0;)super.fire(this._eventQueue.shift())}fire(D){this._size&&(this._isPaused!==0?this._eventQueue.push(D):super.fire(D))}};n(je,"PauseableEmitter");let we=je;const Xe=class Xe extends we{constructor(D){var Z;super(D),this._delay=(Z=D.delay)!=null?Z:100}fire(D){this._handle||(this.pause(),this._handle=setTimeout(()=>{this._handle=void 0,this.resume()},this._delay)),super.fire(D)}};n(Xe,"DebounceEmitter");let Ue=Xe;const We=class We extends y{constructor(D){super(D),this._queuedEvents=[],this._mergeFn=D==null?void 0:D.merge}fire(D){this.hasListeners()&&(this._queuedEvents.push(D),this._queuedEvents.length===1&&queueMicrotask(()=>{this._mergeFn?super.fire(this._mergeFn(this._queuedEvents)):this._queuedEvents.forEach(Z=>super.fire(Z)),this._queuedEvents=[]}))}};n(We,"MicrotaskEmitter");let Ce=We;const A=class A{constructor(){this.hasListeners=!1,this.events=[],this.emitter=new y({onWillAddFirstListener:n(()=>this.onFirstListenerAdd(),"onWillAddFirstListener"),onDidRemoveLastListener:n(()=>this.onLastListenerRemove(),"onDidRemoveLastListener")})}get event(){return this.emitter.event}add(D){const Z={event:D,listener:null};this.events.push(Z),this.hasListeners&&this.hook(Z);const he=n(()=>{this.hasListeners&&this.unhook(Z);const ye=this.events.indexOf(Z);this.events.splice(ye,1)},"dispose");return toDisposable(createSingleCallFunction(he))}onFirstListenerAdd(){this.hasListeners=!0,this.events.forEach(D=>this.hook(D))}onLastListenerRemove(){this.hasListeners=!1,this.events.forEach(D=>this.unhook(D))}hook(D){D.listener=D.event(Z=>this.emitter.fire(Z))}unhook(D){var Z;(Z=D.listener)==null||Z.dispose(),D.listener=null}dispose(){var D;this.emitter.dispose();for(const Z of this.events)(D=Z.listener)==null||D.dispose();this.events=[]}};n(A,"EventMultiplexer");let R=A;const M=class M{constructor(){this.data=[]}wrapEvent(D,Z,he){return(ye,He,Ve)=>D(ft=>{var nn;const ot=this.data[this.data.length-1];if(!Z){ot?ot.buffers.push(()=>ye.call(He,ft)):ye.call(He,ft);return}const kt=ot;if(!kt){ye.call(He,Z(he,ft));return}(nn=kt.items)!=null||(kt.items=[]),kt.items.push(ft),kt.buffers.length===0&&ot.buffers.push(()=>{var Ut;(Ut=kt.reducedResult)!=null||(kt.reducedResult=he?kt.items.reduce(Z,he):kt.items.reduce(Z)),ye.call(He,kt.reducedResult)})},void 0,Ve)}bufferEvents(D){const Z={buffers:new Array};this.data.push(Z);const he=D();return this.data.pop(),Z.buffers.forEach(ye=>ye()),he}};n(M,"EventBufferer");let m=M;const G=class G{constructor(){this.listening=!1,this.inputEvent=Y.None,this.inputEventListener=Disposable.None,this.emitter=new y({onDidAddFirstListener:n(()=>{this.listening=!0,this.inputEventListener=this.inputEvent(this.emitter.fire,this.emitter)},"onDidAddFirstListener"),onDidRemoveLastListener:n(()=>{this.listening=!1,this.inputEventListener.dispose()},"onDidRemoveLastListener")}),this.event=this.emitter.event}set input(D){this.inputEvent=D,this.listening&&(this.inputEventListener.dispose(),this.inputEventListener=D(this.emitter.fire,this.emitter))}dispose(){this.inputEventListener.dispose(),this.emitter.dispose()}};n(G,"Relay");let _=G},8518:(Lt,Pe,E)=>{"use strict";E.d(Pe,{TH:n(()=>Q,"TH"),Zn:n(()=>g,"Zn"),_1:n(()=>Y,"_1"),kb:n(()=>N,"kb")});var F=E(4033),ie=E(3339),o=E(6844);function K(B){return B===47||B===92}n(K,"isPathSeparator");function Q(B){return B.replace(/[\\/]/g,F.SA.sep)}n(Q,"toSlashes");function N(B){return B.indexOf("/")===-1&&(B=Q(B)),/^[a-zA-Z]:(\/|$)/.test(B)&&(B="/"+B),B}n(N,"toPosixPath");function g(B,$=F.SA.sep){if(!B)return"";const j=B.length,z=B.charCodeAt(0);if(K(z)){if(K(B.charCodeAt(1))&&!K(B.charCodeAt(2))){let v=3;const ce=v;for(;v<j&&!K(B.charCodeAt(v));v++);if(ce!==v&&!K(B.charCodeAt(v+1))){for(v+=1;v<j;v++)if(K(B.charCodeAt(v)))return B.slice(0,v+1).replace(/[\\/]/g,$)}}return $}else if(O(z)&&B.charCodeAt(1)===58)return K(B.charCodeAt(2))?B.slice(0,2)+$:B.slice(0,2);let U=B.indexOf("://");if(U!==-1){for(U+=3;U<j;U++)if(K(B.charCodeAt(U)))return B.slice(0,U+1)}return""}n(g,"getRoot");function Y(B,$,j,z=F.Vn){if(B===$)return!0;if(!B||!$||$.length>B.length)return!1;if(j){if(!(0,o.ns)(B,$))return!1;if($.length===B.length)return!0;let v=$.length;return $.charAt($.length-1)===z&&v--,B.charAt(v)===z}return $.charAt($.length-1)!==z&&($+=z),B.indexOf($)===0}n(Y,"isEqualOrParent");function O(B){return B>=65&&B<=90||B>=97&&B<=122}n(O,"isWindowsDriveLetter");function ne(B,$=isWindows){return $?O(B.charCodeAt(0))&&B.charCodeAt(1)===58:!1}n(ne,"hasDriveLetter")},3958:(Lt,Pe,E)=>{"use strict";E.d(Pe,{YW:n(()=>ee,"YW"),qg:n(()=>fe,"qg")});var F=E(1946),ie=E(8518),o=E(7992),K=E(4033),Q=E(3339),N=E(6844);const g="**",Y="/",O="[/\\\\]",ne="[^/\\\\]",B=/\//g;function $(We,A){switch(We){case 0:return"";case 1:return`${ne}*?`;default:return`(?:${O}|${ne}+${O}${A?`|${O}${ne}+`:""})*?`}}n($,"starsToRegExp");function j(We,A){if(!We)return[];const M=[];let G=!1,w=!1,D="";for(const Z of We){switch(Z){case A:if(!G&&!w){M.push(D),D="";continue}break;case"{":G=!0;break;case"}":G=!1;break;case"[":w=!0;break;case"]":w=!1;break}D+=Z}return D&&M.push(D),M}n(j,"splitGlobAware");function z(We){if(!We)return"";let A="";const M=j(We,Y);if(M.every(G=>G===g))A=".*";else{let G=!1;M.forEach((w,D)=>{if(w===g){if(G)return;A+=$(2,D===M.length-1)}else{let Z=!1,he="",ye=!1,He="";for(const Ve of w){if(Ve!=="}"&&Z){he+=Ve;continue}if(ye&&(Ve!=="]"||!He)){let ft;Ve==="-"?ft=Ve:(Ve==="^"||Ve==="!")&&!He?ft="^":Ve===Y?ft="":ft=(0,N.bm)(Ve),He+=ft;continue}switch(Ve){case"{":Z=!0;continue;case"[":ye=!0;continue;case"}":{const ot=`(?:${j(he,",").map(kt=>z(kt)).join("|")})`;A+=ot,Z=!1,he="";break}case"]":{A+="["+He+"]",ye=!1,He="";break}case"?":A+=ne;continue;case"*":A+=$(1);continue;default:A+=(0,N.bm)(Ve)}}D<M.length-1&&(M[D+1]!==g||D+2<M.length)&&(A+=O)}G=w===g})}return A}n(z,"parseRegExp");const U=/^\*\*\/\*\.[\w\.-]+$/,v=/^\*\*\/([\w\.-]+)\/?$/,ce=/^{\*\*\/\*?[\w\.-]+\/?(,\*\*\/\*?[\w\.-]+\/?)*}$/,J=/^{\*\*\/\*?[\w\.-]+(\/(\*\*)?)?(,\*\*\/\*?[\w\.-]+(\/(\*\*)?)?)*}$/,y=/^\*\*((\/[\w\.-]+)+)\/?$/,W=/^([\w\.-]+(\/[\w\.-]+)*)\/?$/,me=new o.qK(1e4),we=n(function(){return!1},"FALSE"),Ue=n(function(){return null},"NULL");function Ce(We,A){if(!We)return Ue;let M;typeof We!="string"?M=We.pattern:M=We,M=M.trim();const G=`${M}_${!!A.trimForExclusions}`;let w=me.get(G);if(w)return R(w,We);let D;return U.test(M)?w=_(M.substr(4),M):(D=v.exec(m(M,A)))?w=b(D[1],M):(A.trimForExclusions?J:ce).test(M)?w=I(M,A):(D=y.exec(m(M,A)))?w=P(D[1].substr(1),M,!0):(D=W.exec(m(M,A)))?w=P(D[1],M,!1):w=V(M),me.set(G,w),R(w,We)}n(Ce,"parsePattern");function R(We,A){if(typeof A=="string")return We;const M=n(function(G,w){return(0,ie._1)(G,A.base,!Q.j9)?We((0,N.NB)(G.substr(A.base.length),K.Vn),w):null},"wrappedPattern");return M.allBasenames=We.allBasenames,M.allPaths=We.allPaths,M.basenames=We.basenames,M.patterns=We.patterns,M}n(R,"wrapRelativePattern");function m(We,A){return A.trimForExclusions&&We.endsWith("/**")?We.substr(0,We.length-2):We}n(m,"trimForExclusions");function _(We,A){return function(M,G){return typeof M=="string"&&M.endsWith(We)?A:null}}n(_,"trivia1");function b(We,A){const M=`/${We}`,G=`\\${We}`,w=n(function(Z,he){return typeof Z!="string"?null:he?he===We?A:null:Z===We||Z.endsWith(M)||Z.endsWith(G)?A:null},"parsedPattern"),D=[We];return w.basenames=D,w.patterns=[A],w.allBasenames=D,w}n(b,"trivia2");function I(We,A){const M=Xe(We.slice(1,-1).split(",").map(he=>Ce(he,A)).filter(he=>he!==Ue),We),G=M.length;if(!G)return Ue;if(G===1)return M[0];const w=n(function(he,ye){for(let He=0,Ve=M.length;He<Ve;He++)if(M[He](he,ye))return We;return null},"parsedPattern"),D=M.find(he=>!!he.allBasenames);D&&(w.allBasenames=D.allBasenames);const Z=M.reduce((he,ye)=>ye.allPaths?he.concat(ye.allPaths):he,[]);return Z.length&&(w.allPaths=Z),w}n(I,"trivia3");function P(We,A,M){const G=K.Vn===K.SA.sep,w=G?We:We.replace(B,K.Vn),D=K.Vn+w,Z=K.SA.sep+We;let he;return M?he=n(function(ye,He){return typeof ye=="string"&&(ye===w||ye.endsWith(D)||!G&&(ye===We||ye.endsWith(Z)))?A:null},"parsedPattern"):he=n(function(ye,He){return typeof ye=="string"&&(ye===w||!G&&ye===We)?A:null},"parsedPattern"),he.allPaths=[(M?"*/":"./")+We],he}n(P,"trivia4and5");function V(We){try{const A=new RegExp(`^${z(We)}$`);return function(M){return A.lastIndex=0,typeof M=="string"&&A.test(M)?We:null}}catch{return Ue}}n(V,"toRegExp");function ee(We,A,M){return!We||typeof A!="string"?!1:fe(We)(A,void 0,M)}n(ee,"match");function fe(We,A={}){if(!We)return we;if(typeof We=="string"||ue(We)){const M=Ce(We,A);if(M===Ue)return we;const G=n(function(w,D){return!!M(w,D)},"resultPattern");return M.allBasenames&&(G.allBasenames=M.allBasenames),M.allPaths&&(G.allPaths=M.allPaths),G}return Te(We,A)}n(fe,"parse");function ue(We){const A=We;return A?typeof A.base=="string"&&typeof A.pattern=="string":!1}n(ue,"isRelativePattern");function Te(We,A){const M=Xe(Object.getOwnPropertyNames(We).map(he=>je(he,We[he],A)).filter(he=>he!==Ue)),G=M.length;if(!G)return Ue;if(!M.some(he=>!!he.requiresSiblings)){if(G===1)return M[0];const he=n(function(Ve,ft){let ot;for(let kt=0,nn=M.length;kt<nn;kt++){const Ut=M[kt](Ve,ft);if(typeof Ut=="string")return Ut;(0,F.Qg)(Ut)&&(ot||(ot=[]),ot.push(Ut))}return ot?(async()=>{for(const kt of ot){const nn=await kt;if(typeof nn=="string")return nn}return null})():null},"resultExpression"),ye=M.find(Ve=>!!Ve.allBasenames);ye&&(he.allBasenames=ye.allBasenames);const He=M.reduce((Ve,ft)=>ft.allPaths?Ve.concat(ft.allPaths):Ve,[]);return He.length&&(he.allPaths=He),he}const w=n(function(he,ye,He){let Ve,ft;for(let ot=0,kt=M.length;ot<kt;ot++){const nn=M[ot];nn.requiresSiblings&&He&&(ye||(ye=(0,K.P8)(he)),Ve||(Ve=ye.substr(0,ye.length-(0,K.LC)(he).length)));const Ut=nn(he,ye,Ve,He);if(typeof Ut=="string")return Ut;(0,F.Qg)(Ut)&&(ft||(ft=[]),ft.push(Ut))}return ft?(async()=>{for(const ot of ft){const kt=await ot;if(typeof kt=="string")return kt}return null})():null},"resultExpression"),D=M.find(he=>!!he.allBasenames);D&&(w.allBasenames=D.allBasenames);const Z=M.reduce((he,ye)=>ye.allPaths?he.concat(ye.allPaths):he,[]);return Z.length&&(w.allPaths=Z),w}n(Te,"parsedExpression");function je(We,A,M){if(A===!1)return Ue;const G=Ce(We,M);if(G===Ue)return Ue;if(typeof A=="boolean")return G;if(A){const w=A.when;if(typeof w=="string"){const D=n((Z,he,ye,He)=>{if(!He||!G(Z,he))return null;const Ve=w.replace("$(basename)",()=>ye),ft=He(Ve);return(0,F.Qg)(ft)?ft.then(ot=>ot?We:null):ft?We:null},"result");return D.requiresSiblings=!0,D}}return G}n(je,"parseExpressionPattern");function Xe(We,A){const M=We.filter(he=>!!he.basenames);if(M.length<2)return We;const G=M.reduce((he,ye)=>{const He=ye.basenames;return He?he.concat(He):he},[]);let w;if(A){w=[];for(let he=0,ye=G.length;he<ye;he++)w.push(A)}else w=M.reduce((he,ye)=>{const He=ye.patterns;return He?he.concat(He):he},[]);const D=n(function(he,ye){if(typeof he!="string")return null;if(!ye){let Ve;for(Ve=he.length;Ve>0;Ve--){const ft=he.charCodeAt(Ve-1);if(ft===47||ft===92)break}ye=he.substr(Ve)}const He=G.indexOf(ye);return He!==-1?w[He]:null},"aggregate");D.basenames=G,D.patterns=w,D.allBasenames=G;const Z=We.filter(he=>!he.basenames);return Z.push(D),Z}n(Xe,"aggregateBasenameMatches")},2344:(Lt,Pe,E)=>{"use strict";E.d(Pe,{e2:n(()=>N,"e2"),sN:n(()=>o,"sN"),v7:n(()=>j,"v7")});var F=E(6844);function ie(U){return o(U,0)}n(ie,"hash");function o(U,v){switch(typeof U){case"object":return U===null?K(349,v):Array.isArray(U)?g(U,v):Y(U,v);case"string":return N(U,v);case"boolean":return Q(U,v);case"number":return K(U,v);case"undefined":return K(937,v);default:return K(617,v)}}n(o,"doHash");function K(U,v){return(v<<5)-v+U|0}n(K,"numberHash");function Q(U,v){return K(U?433:863,v)}n(Q,"booleanHash");function N(U,v){v=K(149417,v);for(let ce=0,J=U.length;ce<J;ce++)v=K(U.charCodeAt(ce),v);return v}n(N,"stringHash");function g(U,v){return v=K(104579,v),U.reduce((ce,J)=>o(J,ce),v)}n(g,"arrayHash");function Y(U,v){return v=K(181387,v),Object.keys(U).sort().reduce((ce,J)=>(ce=N(J,ce),o(U[J],ce)),v)}n(Y,"objectHash");function O(U,v,ce=32){const J=ce-v,y=~((1<<J)-1);return(U<<v|(y&U)>>>J)>>>0}n(O,"leftRotate");function ne(U,v=0,ce=U.byteLength,J=0){for(let y=0;y<ce;y++)U[v+y]=J}n(ne,"fill");function B(U,v,ce="0"){for(;U.length<v;)U=ce+U;return U}n(B,"leftPad");function $(U,v=32){return U instanceof ArrayBuffer?Array.from(new Uint8Array(U)).map(ce=>ce.toString(16).padStart(2,"0")).join(""):B((U>>>0).toString(16),v/4)}n($,"toHexString");const z=class z{constructor(){this._h0=1732584193,this._h1=4023233417,this._h2=2562383102,this._h3=271733878,this._h4=3285377520,this._buff=new Uint8Array(67),this._buffDV=new DataView(this._buff.buffer),this._buffLen=0,this._totalLen=0,this._leftoverHighSurrogate=0,this._finished=!1}update(v){const ce=v.length;if(ce===0)return;const J=this._buff;let y=this._buffLen,W=this._leftoverHighSurrogate,me,we;for(W!==0?(me=W,we=-1,W=0):(me=v.charCodeAt(0),we=0);;){let Ue=me;if(F.pc(me))if(we+1<ce){const Ce=v.charCodeAt(we+1);F.LJ(Ce)?(we++,Ue=F.z_(me,Ce)):Ue=65533}else{W=me;break}else F.LJ(me)&&(Ue=65533);if(y=this._push(J,y,Ue),we++,we<ce)me=v.charCodeAt(we);else break}this._buffLen=y,this._leftoverHighSurrogate=W}_push(v,ce,J){return J<128?v[ce++]=J:J<2048?(v[ce++]=192|(J&1984)>>>6,v[ce++]=128|(J&63)>>>0):J<65536?(v[ce++]=224|(J&61440)>>>12,v[ce++]=128|(J&4032)>>>6,v[ce++]=128|(J&63)>>>0):(v[ce++]=240|(J&1835008)>>>18,v[ce++]=128|(J&258048)>>>12,v[ce++]=128|(J&4032)>>>6,v[ce++]=128|(J&63)>>>0),ce>=64&&(this._step(),ce-=64,this._totalLen+=64,v[0]=v[64],v[1]=v[65],v[2]=v[66]),ce}digest(){return this._finished||(this._finished=!0,this._leftoverHighSurrogate&&(this._leftoverHighSurrogate=0,this._buffLen=this._push(this._buff,this._buffLen,65533)),this._totalLen+=this._buffLen,this._wrapUp()),$(this._h0)+$(this._h1)+$(this._h2)+$(this._h3)+$(this._h4)}_wrapUp(){this._buff[this._buffLen++]=128,ne(this._buff,this._buffLen),this._buffLen>56&&(this._step(),ne(this._buff));const v=8*this._totalLen;this._buffDV.setUint32(56,Math.floor(v/4294967296),!1),this._buffDV.setUint32(60,v%4294967296,!1),this._step()}_step(){const v=z._bigBlock32,ce=this._buffDV;for(let m=0;m<64;m+=4)v.setUint32(m,ce.getUint32(m,!1),!1);for(let m=64;m<320;m+=4)v.setUint32(m,O(v.getUint32(m-12,!1)^v.getUint32(m-32,!1)^v.getUint32(m-56,!1)^v.getUint32(m-64,!1),1),!1);let J=this._h0,y=this._h1,W=this._h2,me=this._h3,we=this._h4,Ue,Ce,R;for(let m=0;m<80;m++)m<20?(Ue=y&W|~y&me,Ce=1518500249):m<40?(Ue=y^W^me,Ce=1859775393):m<60?(Ue=y&W|y&me|W&me,Ce=2400959708):(Ue=y^W^me,Ce=3395469782),R=O(J,5)+Ue+we+Ce+v.getUint32(m*4,!1)&4294967295,we=me,me=W,W=O(y,30),y=J,J=R;this._h0=this._h0+J&4294967295,this._h1=this._h1+y&4294967295,this._h2=this._h2+W&4294967295,this._h3=this._h3+me&4294967295,this._h4=this._h4+we&4294967295}};n(z,"StringSHA1"),z._bigBlock32=new DataView(new ArrayBuffer(320));let j=z},7954:(Lt,Pe,E)=>{"use strict";E.d(Pe,{f:n(()=>F,"f")});var F;(function(ie){function o(we){return we&&typeof we=="object"&&typeof we[Symbol.iterator]=="function"}n(o,"is"),ie.is=o;const K=Object.freeze([]);function Q(){return K}n(Q,"empty"),ie.empty=Q;function*N(we){yield we}n(N,"single"),ie.single=N;function g(we){return o(we)?we:N(we)}n(g,"wrap"),ie.wrap=g;function Y(we){return we||K}n(Y,"from"),ie.from=Y;function*O(we){for(let Ue=we.length-1;Ue>=0;Ue--)yield we[Ue]}n(O,"reverse"),ie.reverse=O;function ne(we){return!we||we[Symbol.iterator]().next().done===!0}n(ne,"isEmpty"),ie.isEmpty=ne;function B(we){return we[Symbol.iterator]().next().value}n(B,"first"),ie.first=B;function $(we,Ue){let Ce=0;for(const R of we)if(Ue(R,Ce++))return!0;return!1}n($,"some"),ie.some=$;function j(we,Ue){for(const Ce of we)if(Ue(Ce))return Ce}n(j,"find"),ie.find=j;function*z(we,Ue){for(const Ce of we)Ue(Ce)&&(yield Ce)}n(z,"filter"),ie.filter=z;function*U(we,Ue){let Ce=0;for(const R of we)yield Ue(R,Ce++)}n(U,"map"),ie.map=U;function*v(we,Ue){let Ce=0;for(const R of we)yield*Ue(R,Ce++)}n(v,"flatMap"),ie.flatMap=v;function*ce(...we){for(const Ue of we)yield*Ue}n(ce,"concat"),ie.concat=ce;function J(we,Ue,Ce){let R=Ce;for(const m of we)R=Ue(R,m);return R}n(J,"reduce"),ie.reduce=J;function*y(we,Ue,Ce=we.length){for(Ue<0&&(Ue+=we.length),Ce<0?Ce+=we.length:Ce>we.length&&(Ce=we.length);Ue<Ce;Ue++)yield we[Ue]}n(y,"slice"),ie.slice=y;function W(we,Ue=Number.POSITIVE_INFINITY){const Ce=[];if(Ue===0)return[Ce,we];const R=we[Symbol.iterator]();for(let m=0;m<Ue;m++){const _=R.next();if(_.done)return[Ce,ie.empty()];Ce.push(_.value)}return[Ce,{[Symbol.iterator](){return R}}]}n(W,"consume"),ie.consume=W;async function me(we){const Ue=[];for await(const Ce of we)Ue.push(Ce);return Promise.resolve(Ue)}n(me,"asyncToArray"),ie.asyncToArray=me})(F||(F={}))},3946:(Lt,Pe,E)=>{"use strict";E.d(Pe,{d:n(()=>F,"d")});const ie=class ie{constructor(K){this.executor=K,this._didRun=!1}get value(){if(!this._didRun)try{this._value=this.executor()}catch(K){this._error=K}finally{this._didRun=!0}if(this._error)throw this._error;return this._value}get rawValue(){return this._value}};n(ie,"Lazy");let F=ie},9235:(Lt,Pe,E)=>{"use strict";E.d(Pe,{jG:n(()=>v,"jG"),$w:n(()=>W,"$w"),Cm:n(()=>U,"Cm"),HE:n(()=>ce,"HE"),qE:n(()=>j,"qE"),AS:n(()=>$,"AS"),VD:n(()=>g,"VD"),s:n(()=>z,"s"),Ay:n(()=>N,"Ay")});function F(_,b){const I=this;let P=!1,V;return function(){if(P)return V;if(P=!0,b)try{V=_.apply(I,arguments)}finally{b()}else V=_.apply(I,arguments);return V}}n(F,"createSingleCallFunction");var ie=E(7954);const o=!1;let K=null;function Q(_){K=_}if(n(Q,"setDisposableTracker"),o){const _="__is_disposable_tracked__";Q(new class{trackDisposable(b){const I=new Error("Potentially leaked disposable").stack;setTimeout(()=>{b[_]||console.log(I)},3e3)}setParent(b,I){if(b&&b!==v.None)try{b[_]=!0}catch{}}markAsDisposed(b){if(b&&b!==v.None)try{b[_]=!0}catch{}}markAsSingleton(b){}})}function N(_){return K==null||K.trackDisposable(_),_}n(N,"trackDisposable");function g(_){K==null||K.markAsDisposed(_)}n(g,"markAsDisposed");function Y(_,b){K==null||K.setParent(_,b)}n(Y,"setParentOfDisposable");function O(_,b){if(K)for(const I of _)K.setParent(I,b)}n(O,"setParentOfDisposables");function ne(_){return K==null||K.markAsSingleton(_),_}n(ne,"markAsSingleton");function B(_){return typeof _=="object"&&_!==null&&typeof _.dispose=="function"&&_.dispose.length===0}n(B,"isDisposable");function $(_){if(ie.f.is(_)){const b=[];for(const I of _)if(I)try{I.dispose()}catch(P){b.push(P)}if(b.length===1)throw b[0];if(b.length>1)throw new AggregateError(b,"Encountered errors while disposing of store");return Array.isArray(_)?[]:_}else if(_)return _.dispose(),_}n($,"dispose");function j(..._){const b=z(()=>$(_));return O(_,b),b}n(j,"combinedDisposable");function z(_){const b=N({dispose:F(()=>{g(b),_()})});return b}n(z,"toDisposable");const me=class me{constructor(){this._toDispose=new Set,this._isDisposed=!1,N(this)}dispose(){this._isDisposed||(g(this),this._isDisposed=!0,this.clear())}get isDisposed(){return this._isDisposed}clear(){if(this._toDispose.size!==0)try{$(this._toDispose)}finally{this._toDispose.clear()}}add(b){if(!b)return b;if(b===this)throw new Error("Cannot register a disposable on itself!");return Y(b,this),this._isDisposed?me.DISABLE_DISPOSED_WARNING||console.warn(new Error("Trying to add a disposable to a DisposableStore that has already been disposed of. The added object will be leaked!").stack):this._toDispose.add(b),b}deleteAndLeak(b){b&&this._toDispose.has(b)&&(this._toDispose.delete(b),Y(b,null))}};n(me,"DisposableStore"),me.DISABLE_DISPOSED_WARNING=!1;let U=me;const we=class we{constructor(){this._store=new U,N(this),Y(this._store,this)}dispose(){g(this),this._store.dispose()}_register(b){if(b===this)throw new Error("Cannot register a disposable on itself!");return this._store.add(b)}};n(we,"Disposable"),we.None=Object.freeze({dispose(){}});let v=we;const Ue=class Ue{constructor(){this._isDisposed=!1,N(this)}get value(){return this._isDisposed?void 0:this._value}set value(b){var I;this._isDisposed||b===this._value||((I=this._value)==null||I.dispose(),b&&Y(b,this),this._value=b)}clear(){this.value=void 0}dispose(){var b;this._isDisposed=!0,g(this),(b=this._value)==null||b.dispose(),this._value=void 0}};n(Ue,"MutableDisposable");let ce=Ue;const Ce=class Ce{constructor(b){this._disposable=b,this._counter=1}acquire(){return this._counter++,this}release(){return--this._counter===0&&this._disposable.dispose(),this}};n(Ce,"RefCountedDisposable");let J=Ce;const R=class R{constructor(b){this.object=b}dispose(){}};n(R,"ImmortalReference");let y=R;const m=class m{constructor(){this._store=new Map,this._isDisposed=!1,N(this)}dispose(){g(this),this._isDisposed=!0,this.clearAndDisposeAll()}clearAndDisposeAll(){if(this._store.size)try{$(this._store.values())}finally{this._store.clear()}}get(b){return this._store.get(b)}set(b,I,P=!1){var V;this._isDisposed&&console.warn(new Error("Trying to add a disposable to a DisposableMap that has already been disposed of. The added object will be leaked!").stack),P||(V=this._store.get(b))==null||V.dispose(),this._store.set(b,I)}deleteAndDispose(b){var I;(I=this._store.get(b))==null||I.dispose(),this._store.delete(b)}[Symbol.iterator](){return this._store[Symbol.iterator]()}};n(m,"DisposableMap");let W=m},5525:(Lt,Pe,E)=>{"use strict";E.d(Pe,{w:n(()=>ie,"w")});const o=class o{constructor(N){this.element=N,this.next=o.Undefined,this.prev=o.Undefined}};n(o,"Node"),o.Undefined=new o(void 0);let F=o;const K=class K{constructor(){this._first=F.Undefined,this._last=F.Undefined,this._size=0}get size(){return this._size}isEmpty(){return this._first===F.Undefined}clear(){let N=this._first;for(;N!==F.Undefined;){const g=N.next;N.prev=F.Undefined,N.next=F.Undefined,N=g}this._first=F.Undefined,this._last=F.Undefined,this._size=0}unshift(N){return this._insert(N,!1)}push(N){return this._insert(N,!0)}_insert(N,g){const Y=new F(N);if(this._first===F.Undefined)this._first=Y,this._last=Y;else if(g){const ne=this._last;this._last=Y,Y.prev=ne,ne.next=Y}else{const ne=this._first;this._first=Y,Y.next=ne,ne.prev=Y}this._size+=1;let O=!1;return()=>{O||(O=!0,this._remove(Y))}}shift(){if(this._first!==F.Undefined){const N=this._first.element;return this._remove(this._first),N}}pop(){if(this._last!==F.Undefined){const N=this._last.element;return this._remove(this._last),N}}_remove(N){if(N.prev!==F.Undefined&&N.next!==F.Undefined){const g=N.prev;g.next=N.next,N.next.prev=g}else N.prev===F.Undefined&&N.next===F.Undefined?(this._first=F.Undefined,this._last=F.Undefined):N.next===F.Undefined?(this._last=this._last.prev,this._last.next=F.Undefined):N.prev===F.Undefined&&(this._first=this._first.next,this._first.prev=F.Undefined);this._size-=1}*[Symbol.iterator](){let N=this._first;for(;N!==F.Undefined;)yield N.element,N=N.next}};n(K,"LinkedList");let ie=K},7992:(Lt,Pe,E)=>{"use strict";E.d(Pe,{cO:n(()=>O,"cO"),db:n(()=>ne,"db"),fT:n(()=>Q,"fT"),qK:n(()=>Y,"qK")});var F,ie;const B=class B{constructor(y,W){this.uri=y,this.value=W}};n(B,"ResourceMapEntry");let o=B;function K(J){return Array.isArray(J)}n(K,"isEntries");const $=class ${constructor(y,W){if(this[F]="ResourceMap",y instanceof $)this.map=new Map(y.map),this.toKey=W!=null?W:$.defaultToKey;else if(K(y)){this.map=new Map,this.toKey=W!=null?W:$.defaultToKey;for(const[me,we]of y)this.set(me,we)}else this.map=new Map,this.toKey=y!=null?y:$.defaultToKey}set(y,W){return this.map.set(this.toKey(y),new o(y,W)),this}get(y){var W;return(W=this.map.get(this.toKey(y)))==null?void 0:W.value}has(y){return this.map.has(this.toKey(y))}get size(){return this.map.size}clear(){this.map.clear()}delete(y){return this.map.delete(this.toKey(y))}forEach(y,W){typeof W!="undefined"&&(y=y.bind(W));for(const[me,we]of this.map)y(we.value,we.uri,this)}*values(){for(const y of this.map.values())yield y.value}*keys(){for(const y of this.map.values())yield y.uri}*entries(){for(const y of this.map.values())yield[y.uri,y.value]}*[(F=Symbol.toStringTag,Symbol.iterator)](){for(const[,y]of this.map)yield[y.uri,y.value]}};n($,"ResourceMap"),$.defaultToKey=y=>y.toString();let Q=$;const j=class j{constructor(){this[ie]="LinkedMap",this._map=new Map,this._head=void 0,this._tail=void 0,this._size=0,this._state=0}clear(){this._map.clear(),this._head=void 0,this._tail=void 0,this._size=0,this._state++}isEmpty(){return!this._head&&!this._tail}get size(){return this._size}get first(){var y;return(y=this._head)==null?void 0:y.value}get last(){var y;return(y=this._tail)==null?void 0:y.value}has(y){return this._map.has(y)}get(y,W=0){const me=this._map.get(y);if(me)return W!==0&&this.touch(me,W),me.value}set(y,W,me=0){let we=this._map.get(y);if(we)we.value=W,me!==0&&this.touch(we,me);else{switch(we={key:y,value:W,next:void 0,previous:void 0},me){case 0:this.addItemLast(we);break;case 1:this.addItemFirst(we);break;case 2:this.addItemLast(we);break;default:this.addItemLast(we);break}this._map.set(y,we),this._size++}return this}delete(y){return!!this.remove(y)}remove(y){const W=this._map.get(y);if(W)return this._map.delete(y),this.removeItem(W),this._size--,W.value}shift(){if(!this._head&&!this._tail)return;if(!this._head||!this._tail)throw new Error("Invalid list");const y=this._head;return this._map.delete(y.key),this.removeItem(y),this._size--,y.value}forEach(y,W){const me=this._state;let we=this._head;for(;we;){if(W?y.bind(W)(we.value,we.key,this):y(we.value,we.key,this),this._state!==me)throw new Error("LinkedMap got modified during iteration.");we=we.next}}keys(){const y=this,W=this._state;let me=this._head;const we={[Symbol.iterator](){return we},next(){if(y._state!==W)throw new Error("LinkedMap got modified during iteration.");if(me){const Ue={value:me.key,done:!1};return me=me.next,Ue}else return{value:void 0,done:!0}}};return we}values(){const y=this,W=this._state;let me=this._head;const we={[Symbol.iterator](){return we},next(){if(y._state!==W)throw new Error("LinkedMap got modified during iteration.");if(me){const Ue={value:me.value,done:!1};return me=me.next,Ue}else return{value:void 0,done:!0}}};return we}entries(){const y=this,W=this._state;let me=this._head;const we={[Symbol.iterator](){return we},next(){if(y._state!==W)throw new Error("LinkedMap got modified during iteration.");if(me){const Ue={value:[me.key,me.value],done:!1};return me=me.next,Ue}else return{value:void 0,done:!0}}};return we}[(ie=Symbol.toStringTag,Symbol.iterator)](){return this.entries()}trimOld(y){if(y>=this.size)return;if(y===0){this.clear();return}let W=this._head,me=this.size;for(;W&&me>y;)this._map.delete(W.key),W=W.next,me--;this._head=W,this._size=me,W&&(W.previous=void 0),this._state++}trimNew(y){if(y>=this.size)return;if(y===0){this.clear();return}let W=this._tail,me=this.size;for(;W&&me>y;)this._map.delete(W.key),W=W.previous,me--;this._tail=W,this._size=me,W&&(W.next=void 0),this._state++}addItemFirst(y){if(!this._head&&!this._tail)this._tail=y;else if(this._head)y.next=this._head,this._head.previous=y;else throw new Error("Invalid list");this._head=y,this._state++}addItemLast(y){if(!this._head&&!this._tail)this._head=y;else if(this._tail)y.previous=this._tail,this._tail.next=y;else throw new Error("Invalid list");this._tail=y,this._state++}removeItem(y){if(y===this._head&&y===this._tail)this._head=void 0,this._tail=void 0;else if(y===this._head){if(!y.next)throw new Error("Invalid list");y.next.previous=void 0,this._head=y.next}else if(y===this._tail){if(!y.previous)throw new Error("Invalid list");y.previous.next=void 0,this._tail=y.previous}else{const W=y.next,me=y.previous;if(!W||!me)throw new Error("Invalid list");W.previous=me,me.next=W}y.next=void 0,y.previous=void 0,this._state++}touch(y,W){if(!this._head||!this._tail)throw new Error("Invalid list");if(!(W!==1&&W!==2)){if(W===1){if(y===this._head)return;const me=y.next,we=y.previous;y===this._tail?(we.next=void 0,this._tail=we):(me.previous=we,we.next=me),y.previous=void 0,y.next=this._head,this._head.previous=y,this._head=y,this._state++}else if(W===2){if(y===this._tail)return;const me=y.next,we=y.previous;y===this._head?(me.previous=void 0,this._head=me):(me.previous=we,we.next=me),y.next=void 0,y.previous=this._tail,this._tail.next=y,this._tail=y,this._state++}}}toJSON(){const y=[];return this.forEach((W,me)=>{y.push([me,W])}),y}fromJSON(y){this.clear();for(const[W,me]of y)this.set(W,me)}};n(j,"LinkedMap");let N=j;const z=class z extends N{constructor(y,W=1){super(),this._limit=y,this._ratio=Math.min(Math.max(0,W),1)}get limit(){return this._limit}set limit(y){this._limit=y,this.checkTrim()}get(y,W=2){return super.get(y,W)}peek(y){return super.get(y,0)}set(y,W){return super.set(y,W,2),this}checkTrim(){this.size>this._limit&&this.trim(Math.round(this._limit*this._ratio))}};n(z,"Cache");let g=z;const U=class U extends g{constructor(y,W=1){super(y,W)}trim(y){this.trimOld(y)}set(y,W){return super.set(y,W),this.checkTrim(),this}};n(U,"LRUCache");let Y=U;const v=class v{constructor(y){if(this._m1=new Map,this._m2=new Map,y)for(const[W,me]of y)this.set(W,me)}clear(){this._m1.clear(),this._m2.clear()}set(y,W){this._m1.set(y,W),this._m2.set(W,y)}get(y){return this._m1.get(y)}getKey(y){return this._m2.get(y)}delete(y){const W=this._m1.get(y);return W===void 0?!1:(this._m1.delete(y),this._m2.delete(W),!0)}keys(){return this._m1.keys()}values(){return this._m1.values()}};n(v,"BidirectionalMap");let O=v;const ce=class ce{constructor(){this.map=new Map}add(y,W){let me=this.map.get(y);me||(me=new Set,this.map.set(y,me)),me.add(W)}delete(y,W){const me=this.map.get(y);me&&(me.delete(W),me.size===0&&this.map.delete(y))}forEach(y,W){const me=this.map.get(y);me&&me.forEach(W)}get(y){const W=this.map.get(y);return W||new Set}};n(ce,"SetMap");let ne=ce},3720:(Lt,Pe,E)=>{"use strict";E.d(Pe,{K:n(()=>F,"K")});const F=Object.freeze({text:"text/plain",binary:"application/octet-stream",unknown:"application/unknown",markdown:"text/markdown",latex:"text/latex",uriList:"text/uri-list"})},3072:(Lt,Pe,E)=>{"use strict";E.d(Pe,{ny:n(()=>N,"ny"),v$:n(()=>g,"v$"),zl:n(()=>z,"zl")});var F=E(4327),ie=E(3339),o=E(6844),K=E(7264),Q=E(4033),N;(function(J){J.inMemory="inmemory",J.vscode="vscode",J.internal="private",J.walkThrough="walkThrough",J.walkThroughSnippet="walkThroughSnippet",J.http="http",J.https="https",J.file="file",J.mailto="mailto",J.untitled="untitled",J.data="data",J.command="command",J.vscodeRemote="vscode-remote",J.vscodeRemoteResource="vscode-remote-resource",J.vscodeManagedRemoteResource="vscode-managed-remote-resource",J.vscodeUserData="vscode-userdata",J.vscodeCustomEditor="vscode-custom-editor",J.vscodeNotebookCell="vscode-notebook-cell",J.vscodeNotebookCellMetadata="vscode-notebook-cell-metadata",J.vscodeNotebookCellMetadataDiff="vscode-notebook-cell-metadata-diff",J.vscodeNotebookCellOutput="vscode-notebook-cell-output",J.vscodeNotebookCellOutputDiff="vscode-notebook-cell-output-diff",J.vscodeNotebookMetadata="vscode-notebook-metadata",J.vscodeInteractiveInput="vscode-interactive-input",J.vscodeSettings="vscode-settings",J.vscodeWorkspaceTrust="vscode-workspace-trust",J.vscodeTerminal="vscode-terminal",J.vscodeChatCodeBlock="vscode-chat-code-block",J.vscodeChatCodeCompareBlock="vscode-chat-code-compare-block",J.vscodeChatSesssion="vscode-chat-editor",J.webviewPanel="webview-panel",J.vscodeWebview="vscode-webview",J.extension="extension",J.vscodeFileResource="vscode-file",J.tmp="tmp",J.vsls="vsls",J.vscodeSourceControl="vscode-scm",J.commentsInput="comment",J.codeSetting="code-setting",J.outputChannel="output"})(N||(N={}));function g(J,y){return K.r.isUri(J)?(0,o.Q_)(J.scheme,y):(0,o.ns)(J,y+":")}n(g,"matchesScheme");function Y(J,...y){return y.some(W=>g(J,W))}n(Y,"matchesSomeScheme");const O="tkn",v=class v{constructor(){this._hosts=Object.create(null),this._ports=Object.create(null),this._connectionTokens=Object.create(null),this._preferredWebSchema="http",this._delegate=null,this._serverRootPath="/"}setPreferredWebSchema(y){this._preferredWebSchema=y}get _remoteResourcesPath(){return Q.SA.join(this._serverRootPath,N.vscodeRemoteResource)}rewrite(y){if(this._delegate)try{return this._delegate(y)}catch(R){return F.dz(R),y}const W=y.authority;let me=this._hosts[W];me&&me.indexOf(":")!==-1&&me.indexOf("[")===-1&&(me=`[${me}]`);const we=this._ports[W],Ue=this._connectionTokens[W];let Ce=`path=${encodeURIComponent(y.path)}`;return typeof Ue=="string"&&(Ce+=`&${O}=${encodeURIComponent(Ue)}`),K.r.from({scheme:ie.HZ?this._preferredWebSchema:N.vscodeRemoteResource,authority:`${me}:${we}`,path:this._remoteResourcesPath,query:Ce})}};n(v,"RemoteAuthoritiesImpl");let ne=v;const B=new ne,$="vscode-app",ce=class ce{asBrowserUri(y){const W=this.toUri(y);return this.uriToBrowserUri(W)}uriToBrowserUri(y){return y.scheme===N.vscodeRemote?B.rewrite(y):y.scheme===N.file&&(ie.ib||ie.lg===`${N.vscodeFileResource}://${ce.FALLBACK_AUTHORITY}`)?y.with({scheme:N.vscodeFileResource,authority:y.authority||ce.FALLBACK_AUTHORITY,query:null,fragment:null}):y}toUri(y,W){if(K.r.isUri(y))return y;if(globalThis._VSCODE_FILE_ROOT){const me=globalThis._VSCODE_FILE_ROOT;if(/^\w[\w\d+.-]*:\/\//.test(me))return K.r.joinPath(K.r.parse(me,!0),y);const we=Q.fj(me,y);return K.r.file(we)}return K.r.parse(W.toUrl(y))}};n(ce,"FileAccessImpl"),ce.FALLBACK_AUTHORITY=$;let j=ce;const z=new j;var U;(function(J){const y=new Map([["1",{"Cross-Origin-Opener-Policy":"same-origin"}],["2",{"Cross-Origin-Embedder-Policy":"require-corp"}],["3",{"Cross-Origin-Opener-Policy":"same-origin","Cross-Origin-Embedder-Policy":"require-corp"}]]);J.CoopAndCoep=Object.freeze(y.get("3"));const W="vscode-coi";function me(Ue){let Ce;typeof Ue=="string"?Ce=new URL(Ue).searchParams:Ue instanceof URL?Ce=Ue.searchParams:K.r.isUri(Ue)&&(Ce=new URL(Ue.toString(!0)).searchParams);const R=Ce==null?void 0:Ce.get(W);if(R)return y.get(R)}n(me,"getHeadersFromQuery"),J.getHeadersFromQuery=me;function we(Ue,Ce,R){if(!globalThis.crossOriginIsolated)return;const m=Ce&&R?"3":R?"2":"1";Ue instanceof URLSearchParams?Ue.set(W,m):Ue[W]=m}n(we,"addSearchParam"),J.addSearchParam=we})(U||(U={}))},1386:(Lt,Pe,E)=>{"use strict";E.d(Pe,{V0:n(()=>O,"V0"),aI:n(()=>g,"aI"),kT:n(()=>ne,"kT")});function F(B){if(!B||typeof B!="object"||B instanceof RegExp)return B;const $=Array.isArray(B)?[]:{};return Object.entries(B).forEach(([j,z])=>{$[j]=z&&typeof z=="object"?F(z):z}),$}n(F,"deepClone");function ie(B){if(!B||typeof B!="object")return B;const $=[B];for(;$.length>0;){const j=$.shift();Object.freeze(j);for(const z in j)if(o.call(j,z)){const U=j[z];typeof U=="object"&&!Object.isFrozen(U)&&!isTypedArray(U)&&$.push(U)}}return B}n(ie,"deepFreeze");const o=Object.prototype.hasOwnProperty;function K(B,$){return Q(B,$,new Set)}n(K,"cloneAndChange");function Q(B,$,j){if(isUndefinedOrNull(B))return B;const z=$(B);if(typeof z!="undefined")return z;if(Array.isArray(B)){const U=[];for(const v of B)U.push(Q(v,$,j));return U}if(isObject(B)){if(j.has(B))throw new Error("Cannot clone recursive data-structure");j.add(B);const U={};for(const v in B)o.call(B,v)&&(U[v]=Q(B[v],$,j));return j.delete(B),U}return B}n(Q,"_cloneAndChange");function N(B,$,j=!0){return isObject(B)?(isObject($)&&Object.keys($).forEach(z=>{z in B?j&&(isObject(B[z])&&isObject($[z])?N(B[z],$[z],j):B[z]=$[z]):B[z]=$[z]}),B):$}n(N,"mixin");function g(B,$){if(B===$)return!0;if(B==null||$===null||$===void 0||typeof B!=typeof $||typeof B!="object"||Array.isArray(B)!==Array.isArray($))return!1;let j,z;if(Array.isArray(B)){if(B.length!==$.length)return!1;for(j=0;j<B.length;j++)if(!g(B[j],$[j]))return!1}else{const U=[];for(z in B)U.push(z);U.sort();const v=[];for(z in $)v.push(z);if(v.sort(),!g(U,v))return!1;for(j=0;j<U.length;j++)if(!g(B[U[j]],$[U[j]]))return!1}return!0}n(g,"equals");function Y(B){let $=[];for(;Object.prototype!==B;)$=$.concat(Object.getOwnPropertyNames(B)),B=Object.getPrototypeOf(B);return $}n(Y,"getAllPropertyNames");function O(B){const $=[];for(const j of Y(B))typeof B[j]=="function"&&$.push(j);return $}n(O,"getAllMethodNames");function ne(B,$){const j=n(U=>function(){const v=Array.prototype.slice.call(arguments,0);return $(U,v)},"createProxyMethod"),z={};for(const U of B)z[U]=j(U);return z}n(ne,"createProxyObject")},4033:(Lt,Pe,E)=>{"use strict";var Xe;E.d(Pe,{P8:n(()=>ue,"P8"),pD:n(()=>fe,"pD"),LC:n(()=>Te,"LC"),fj:n(()=>P,"fj"),S8:n(()=>I,"S8"),SA:n(()=>b,"SA"),V8:n(()=>ee,"V8"),hd:n(()=>V,"hd"),Vn:n(()=>je,"Vn"),IN:n(()=>m,"IN")});var F=E(3339);let ie;const o=globalThis.vscode;if(typeof o!="undefined"&&typeof o.process!="undefined"){const A=o.process;ie={get platform(){return A.platform},get arch(){return A.arch},get env(){return A.env},cwd(){return A.cwd()}}}else typeof process!="undefined"&&typeof((Xe=process==null?void 0:process.versions)==null?void 0:Xe.node)=="string"?ie={get platform(){return process.platform},get arch(){return process.arch},get env(){return process.env},cwd(){return process.env.VSCODE_CWD||process.cwd()}}:ie={get platform(){return F.uF?"win32":F.zx?"darwin":"linux"},get arch(){},get env(){return{}},cwd(){return"/"}};const K=ie.cwd,Q=ie.env,N=ie.platform,g=65,Y=97,O=90,ne=122,B=46,$=47,j=92,z=58,U=63,We=class We extends Error{constructor(M,G,w){let D;typeof G=="string"&&G.indexOf("not ")===0?(D="must not be",G=G.replace(/^not /,"")):D="must be";const Z=M.indexOf(".")!==-1?"property":"argument";let he=`The "${M}" ${Z} ${D} of type ${G}`;he+=`. Received type ${typeof w}`,super(he),this.code="ERR_INVALID_ARG_TYPE"}};n(We,"ErrorInvalidArgType");let v=We;function ce(A,M){if(A===null||typeof A!="object")throw new v(M,"Object",A)}n(ce,"validateObject");function J(A,M){if(typeof A!="string")throw new v(M,"string",A)}n(J,"validateString");const y=N==="win32";function W(A){return A===$||A===j}n(W,"isPathSeparator");function me(A){return A===$}n(me,"isPosixPathSeparator");function we(A){return A>=g&&A<=O||A>=Y&&A<=ne}n(we,"isWindowsDeviceRoot");function Ue(A,M,G,w){let D="",Z=0,he=-1,ye=0,He=0;for(let Ve=0;Ve<=A.length;++Ve){if(Ve<A.length)He=A.charCodeAt(Ve);else{if(w(He))break;He=$}if(w(He)){if(!(he===Ve-1||ye===1))if(ye===2){if(D.length<2||Z!==2||D.charCodeAt(D.length-1)!==B||D.charCodeAt(D.length-2)!==B){if(D.length>2){const ft=D.lastIndexOf(G);ft===-1?(D="",Z=0):(D=D.slice(0,ft),Z=D.length-1-D.lastIndexOf(G)),he=Ve,ye=0;continue}else if(D.length!==0){D="",Z=0,he=Ve,ye=0;continue}}M&&(D+=D.length>0?`${G}..`:"..",Z=2)}else D.length>0?D+=`${G}${A.slice(he+1,Ve)}`:D=A.slice(he+1,Ve),Z=Ve-he-1;he=Ve,ye=0}else He===B&&ye!==-1?++ye:ye=-1}return D}n(Ue,"normalizeString");function Ce(A){return A?`${A[0]==="."?"":"."}${A}`:""}n(Ce,"formatExt");function R(A,M){ce(M,"pathObject");const G=M.dir||M.root,w=M.base||`${M.name||""}${Ce(M.ext)}`;return G?G===M.root?`${G}${w}`:`${G}${A}${w}`:w}n(R,"_format");const m={resolve(...A){let M="",G="",w=!1;for(let D=A.length-1;D>=-1;D--){let Z;if(D>=0){if(Z=A[D],J(Z,`paths[${D}]`),Z.length===0)continue}else M.length===0?Z=K():(Z=Q[`=${M}`]||K(),(Z===void 0||Z.slice(0,2).toLowerCase()!==M.toLowerCase()&&Z.charCodeAt(2)===j)&&(Z=`${M}\\`));const he=Z.length;let ye=0,He="",Ve=!1;const ft=Z.charCodeAt(0);if(he===1)W(ft)&&(ye=1,Ve=!0);else if(W(ft))if(Ve=!0,W(Z.charCodeAt(1))){let ot=2,kt=ot;for(;ot<he&&!W(Z.charCodeAt(ot));)ot++;if(ot<he&&ot!==kt){const nn=Z.slice(kt,ot);for(kt=ot;ot<he&&W(Z.charCodeAt(ot));)ot++;if(ot<he&&ot!==kt){for(kt=ot;ot<he&&!W(Z.charCodeAt(ot));)ot++;(ot===he||ot!==kt)&&(He=`\\\\${nn}\\${Z.slice(kt,ot)}`,ye=ot)}}}else ye=1;else we(ft)&&Z.charCodeAt(1)===z&&(He=Z.slice(0,2),ye=2,he>2&&W(Z.charCodeAt(2))&&(Ve=!0,ye=3));if(He.length>0)if(M.length>0){if(He.toLowerCase()!==M.toLowerCase())continue}else M=He;if(w){if(M.length>0)break}else if(G=`${Z.slice(ye)}\\${G}`,w=Ve,Ve&&M.length>0)break}return G=Ue(G,!w,"\\",W),w?`${M}\\${G}`:`${M}${G}`||"."},normalize(A){J(A,"path");const M=A.length;if(M===0)return".";let G=0,w,D=!1;const Z=A.charCodeAt(0);if(M===1)return me(Z)?"\\":A;if(W(Z))if(D=!0,W(A.charCodeAt(1))){let ye=2,He=ye;for(;ye<M&&!W(A.charCodeAt(ye));)ye++;if(ye<M&&ye!==He){const Ve=A.slice(He,ye);for(He=ye;ye<M&&W(A.charCodeAt(ye));)ye++;if(ye<M&&ye!==He){for(He=ye;ye<M&&!W(A.charCodeAt(ye));)ye++;if(ye===M)return`\\\\${Ve}\\${A.slice(He)}\\`;ye!==He&&(w=`\\\\${Ve}\\${A.slice(He,ye)}`,G=ye)}}}else G=1;else we(Z)&&A.charCodeAt(1)===z&&(w=A.slice(0,2),G=2,M>2&&W(A.charCodeAt(2))&&(D=!0,G=3));let he=G<M?Ue(A.slice(G),!D,"\\",W):"";return he.length===0&&!D&&(he="."),he.length>0&&W(A.charCodeAt(M-1))&&(he+="\\"),w===void 0?D?`\\${he}`:he:D?`${w}\\${he}`:`${w}${he}`},isAbsolute(A){J(A,"path");const M=A.length;if(M===0)return!1;const G=A.charCodeAt(0);return W(G)||M>2&&we(G)&&A.charCodeAt(1)===z&&W(A.charCodeAt(2))},join(...A){if(A.length===0)return".";let M,G;for(let Z=0;Z<A.length;++Z){const he=A[Z];J(he,"path"),he.length>0&&(M===void 0?M=G=he:M+=`\\${he}`)}if(M===void 0)return".";let w=!0,D=0;if(typeof G=="string"&&W(G.charCodeAt(0))){++D;const Z=G.length;Z>1&&W(G.charCodeAt(1))&&(++D,Z>2&&(W(G.charCodeAt(2))?++D:w=!1))}if(w){for(;D<M.length&&W(M.charCodeAt(D));)D++;D>=2&&(M=`\\${M.slice(D)}`)}return m.normalize(M)},relative(A,M){if(J(A,"from"),J(M,"to"),A===M)return"";const G=m.resolve(A),w=m.resolve(M);if(G===w||(A=G.toLowerCase(),M=w.toLowerCase(),A===M))return"";let D=0;for(;D<A.length&&A.charCodeAt(D)===j;)D++;let Z=A.length;for(;Z-1>D&&A.charCodeAt(Z-1)===j;)Z--;const he=Z-D;let ye=0;for(;ye<M.length&&M.charCodeAt(ye)===j;)ye++;let He=M.length;for(;He-1>ye&&M.charCodeAt(He-1)===j;)He--;const Ve=He-ye,ft=he<Ve?he:Ve;let ot=-1,kt=0;for(;kt<ft;kt++){const Ut=A.charCodeAt(D+kt);if(Ut!==M.charCodeAt(ye+kt))break;Ut===j&&(ot=kt)}if(kt!==ft){if(ot===-1)return w}else{if(Ve>ft){if(M.charCodeAt(ye+kt)===j)return w.slice(ye+kt+1);if(kt===2)return w.slice(ye+kt)}he>ft&&(A.charCodeAt(D+kt)===j?ot=kt:kt===2&&(ot=3)),ot===-1&&(ot=0)}let nn="";for(kt=D+ot+1;kt<=Z;++kt)(kt===Z||A.charCodeAt(kt)===j)&&(nn+=nn.length===0?"..":"\\..");return ye+=ot,nn.length>0?`${nn}${w.slice(ye,He)}`:(w.charCodeAt(ye)===j&&++ye,w.slice(ye,He))},toNamespacedPath(A){if(typeof A!="string"||A.length===0)return A;const M=m.resolve(A);if(M.length<=2)return A;if(M.charCodeAt(0)===j){if(M.charCodeAt(1)===j){const G=M.charCodeAt(2);if(G!==U&&G!==B)return`\\\\?\\UNC\\${M.slice(2)}`}}else if(we(M.charCodeAt(0))&&M.charCodeAt(1)===z&&M.charCodeAt(2)===j)return`\\\\?\\${M}`;return A},dirname(A){J(A,"path");const M=A.length;if(M===0)return".";let G=-1,w=0;const D=A.charCodeAt(0);if(M===1)return W(D)?A:".";if(W(D)){if(G=w=1,W(A.charCodeAt(1))){let ye=2,He=ye;for(;ye<M&&!W(A.charCodeAt(ye));)ye++;if(ye<M&&ye!==He){for(He=ye;ye<M&&W(A.charCodeAt(ye));)ye++;if(ye<M&&ye!==He){for(He=ye;ye<M&&!W(A.charCodeAt(ye));)ye++;if(ye===M)return A;ye!==He&&(G=w=ye+1)}}}}else we(D)&&A.charCodeAt(1)===z&&(G=M>2&&W(A.charCodeAt(2))?3:2,w=G);let Z=-1,he=!0;for(let ye=M-1;ye>=w;--ye)if(W(A.charCodeAt(ye))){if(!he){Z=ye;break}}else he=!1;if(Z===-1){if(G===-1)return".";Z=G}return A.slice(0,Z)},basename(A,M){M!==void 0&&J(M,"suffix"),J(A,"path");let G=0,w=-1,D=!0,Z;if(A.length>=2&&we(A.charCodeAt(0))&&A.charCodeAt(1)===z&&(G=2),M!==void 0&&M.length>0&&M.length<=A.length){if(M===A)return"";let he=M.length-1,ye=-1;for(Z=A.length-1;Z>=G;--Z){const He=A.charCodeAt(Z);if(W(He)){if(!D){G=Z+1;break}}else ye===-1&&(D=!1,ye=Z+1),he>=0&&(He===M.charCodeAt(he)?--he===-1&&(w=Z):(he=-1,w=ye))}return G===w?w=ye:w===-1&&(w=A.length),A.slice(G,w)}for(Z=A.length-1;Z>=G;--Z)if(W(A.charCodeAt(Z))){if(!D){G=Z+1;break}}else w===-1&&(D=!1,w=Z+1);return w===-1?"":A.slice(G,w)},extname(A){J(A,"path");let M=0,G=-1,w=0,D=-1,Z=!0,he=0;A.length>=2&&A.charCodeAt(1)===z&&we(A.charCodeAt(0))&&(M=w=2);for(let ye=A.length-1;ye>=M;--ye){const He=A.charCodeAt(ye);if(W(He)){if(!Z){w=ye+1;break}continue}D===-1&&(Z=!1,D=ye+1),He===B?G===-1?G=ye:he!==1&&(he=1):G!==-1&&(he=-1)}return G===-1||D===-1||he===0||he===1&&G===D-1&&G===w+1?"":A.slice(G,D)},format:R.bind(null,"\\"),parse(A){J(A,"path");const M={root:"",dir:"",base:"",ext:"",name:""};if(A.length===0)return M;const G=A.length;let w=0,D=A.charCodeAt(0);if(G===1)return W(D)?(M.root=M.dir=A,M):(M.base=M.name=A,M);if(W(D)){if(w=1,W(A.charCodeAt(1))){let ot=2,kt=ot;for(;ot<G&&!W(A.charCodeAt(ot));)ot++;if(ot<G&&ot!==kt){for(kt=ot;ot<G&&W(A.charCodeAt(ot));)ot++;if(ot<G&&ot!==kt){for(kt=ot;ot<G&&!W(A.charCodeAt(ot));)ot++;ot===G?w=ot:ot!==kt&&(w=ot+1)}}}}else if(we(D)&&A.charCodeAt(1)===z){if(G<=2)return M.root=M.dir=A,M;if(w=2,W(A.charCodeAt(2))){if(G===3)return M.root=M.dir=A,M;w=3}}w>0&&(M.root=A.slice(0,w));let Z=-1,he=w,ye=-1,He=!0,Ve=A.length-1,ft=0;for(;Ve>=w;--Ve){if(D=A.charCodeAt(Ve),W(D)){if(!He){he=Ve+1;break}continue}ye===-1&&(He=!1,ye=Ve+1),D===B?Z===-1?Z=Ve:ft!==1&&(ft=1):Z!==-1&&(ft=-1)}return ye!==-1&&(Z===-1||ft===0||ft===1&&Z===ye-1&&Z===he+1?M.base=M.name=A.slice(he,ye):(M.name=A.slice(he,Z),M.base=A.slice(he,ye),M.ext=A.slice(Z,ye))),he>0&&he!==w?M.dir=A.slice(0,he-1):M.dir=M.root,M},sep:"\\",delimiter:";",win32:null,posix:null},_=(()=>{if(y){const A=/\\/g;return()=>{const M=K().replace(A,"/");return M.slice(M.indexOf("/"))}}return()=>K()})(),b={resolve(...A){let M="",G=!1;for(let w=A.length-1;w>=-1&&!G;w--){const D=w>=0?A[w]:_();J(D,`paths[${w}]`),D.length!==0&&(M=`${D}/${M}`,G=D.charCodeAt(0)===$)}return M=Ue(M,!G,"/",me),G?`/${M}`:M.length>0?M:"."},normalize(A){if(J(A,"path"),A.length===0)return".";const M=A.charCodeAt(0)===$,G=A.charCodeAt(A.length-1)===$;return A=Ue(A,!M,"/",me),A.length===0?M?"/":G?"./":".":(G&&(A+="/"),M?`/${A}`:A)},isAbsolute(A){return J(A,"path"),A.length>0&&A.charCodeAt(0)===$},join(...A){if(A.length===0)return".";let M;for(let G=0;G<A.length;++G){const w=A[G];J(w,"path"),w.length>0&&(M===void 0?M=w:M+=`/${w}`)}return M===void 0?".":b.normalize(M)},relative(A,M){if(J(A,"from"),J(M,"to"),A===M||(A=b.resolve(A),M=b.resolve(M),A===M))return"";const G=1,w=A.length,D=w-G,Z=1,he=M.length-Z,ye=D<he?D:he;let He=-1,Ve=0;for(;Ve<ye;Ve++){const ot=A.charCodeAt(G+Ve);if(ot!==M.charCodeAt(Z+Ve))break;ot===$&&(He=Ve)}if(Ve===ye)if(he>ye){if(M.charCodeAt(Z+Ve)===$)return M.slice(Z+Ve+1);if(Ve===0)return M.slice(Z+Ve)}else D>ye&&(A.charCodeAt(G+Ve)===$?He=Ve:Ve===0&&(He=0));let ft="";for(Ve=G+He+1;Ve<=w;++Ve)(Ve===w||A.charCodeAt(Ve)===$)&&(ft+=ft.length===0?"..":"/..");return`${ft}${M.slice(Z+He)}`},toNamespacedPath(A){return A},dirname(A){if(J(A,"path"),A.length===0)return".";const M=A.charCodeAt(0)===$;let G=-1,w=!0;for(let D=A.length-1;D>=1;--D)if(A.charCodeAt(D)===$){if(!w){G=D;break}}else w=!1;return G===-1?M?"/":".":M&&G===1?"//":A.slice(0,G)},basename(A,M){M!==void 0&&J(M,"ext"),J(A,"path");let G=0,w=-1,D=!0,Z;if(M!==void 0&&M.length>0&&M.length<=A.length){if(M===A)return"";let he=M.length-1,ye=-1;for(Z=A.length-1;Z>=0;--Z){const He=A.charCodeAt(Z);if(He===$){if(!D){G=Z+1;break}}else ye===-1&&(D=!1,ye=Z+1),he>=0&&(He===M.charCodeAt(he)?--he===-1&&(w=Z):(he=-1,w=ye))}return G===w?w=ye:w===-1&&(w=A.length),A.slice(G,w)}for(Z=A.length-1;Z>=0;--Z)if(A.charCodeAt(Z)===$){if(!D){G=Z+1;break}}else w===-1&&(D=!1,w=Z+1);return w===-1?"":A.slice(G,w)},extname(A){J(A,"path");let M=-1,G=0,w=-1,D=!0,Z=0;for(let he=A.length-1;he>=0;--he){const ye=A.charCodeAt(he);if(ye===$){if(!D){G=he+1;break}continue}w===-1&&(D=!1,w=he+1),ye===B?M===-1?M=he:Z!==1&&(Z=1):M!==-1&&(Z=-1)}return M===-1||w===-1||Z===0||Z===1&&M===w-1&&M===G+1?"":A.slice(M,w)},format:R.bind(null,"/"),parse(A){J(A,"path");const M={root:"",dir:"",base:"",ext:"",name:""};if(A.length===0)return M;const G=A.charCodeAt(0)===$;let w;G?(M.root="/",w=1):w=0;let D=-1,Z=0,he=-1,ye=!0,He=A.length-1,Ve=0;for(;He>=w;--He){const ft=A.charCodeAt(He);if(ft===$){if(!ye){Z=He+1;break}continue}he===-1&&(ye=!1,he=He+1),ft===B?D===-1?D=He:Ve!==1&&(Ve=1):D!==-1&&(Ve=-1)}if(he!==-1){const ft=Z===0&&G?1:Z;D===-1||Ve===0||Ve===1&&D===he-1&&D===Z+1?M.base=M.name=A.slice(ft,he):(M.name=A.slice(ft,D),M.base=A.slice(ft,he),M.ext=A.slice(D,he))}return Z>0?M.dir=A.slice(0,Z-1):G&&(M.dir="/"),M},sep:"/",delimiter:":",win32:null,posix:null};b.win32=m.win32=m,b.posix=m.posix=b;const I=y?m.normalize:b.normalize,P=y?m.join:b.join,V=y?m.resolve:b.resolve,ee=y?m.relative:b.relative,fe=y?m.dirname:b.dirname,ue=y?m.basename:b.basename,Te=y?m.extname:b.extname,je=y?m.sep:b.sep},3339:(Lt,Pe,E)=>{"use strict";var he,ye,He;E.d(Pe,{H8:n(()=>M,"H8"),HZ:n(()=>_,"HZ"),OS:n(()=>je,"OS"),UP:n(()=>D,"UP"),_p:n(()=>Te,"_p"),cm:n(()=>A,"cm"),gm:n(()=>G,"gm"),ib:n(()=>m,"ib"),j9:n(()=>R,"j9"),lg:n(()=>I,"lg"),nr:n(()=>w,"nr"),uF:n(()=>Ue,"uF"),zx:n(()=>Ce,"zx")});var F=E(9746);const ie="en";let o=!1,K=!1,Q=!1,N=!1,g=!1,Y=!1,O=!1,ne=!1,B=!1,$=!1,j,z=null,U=null,v=null,ce;const J=globalThis;let y;typeof J.vscode!="undefined"&&typeof J.vscode.process!="undefined"?y=J.vscode.process:typeof process!="undefined"&&typeof((he=process==null?void 0:process.versions)==null?void 0:he.node)=="string"&&(y=process);const W=typeof((ye=y==null?void 0:y.versions)==null?void 0:ye.electron)=="string",me=W&&(y==null?void 0:y.type)==="renderer";if(typeof y=="object"){o=y.platform==="win32",K=y.platform==="darwin",Q=y.platform==="linux",N=Q&&!!y.env.SNAP&&!!y.env.SNAP_REVISION,O=W,B=!!y.env.CI||!!y.env.BUILD_ARTIFACTSTAGINGDIRECTORY,j=ie,z=ie;const Ve=y.env.VSCODE_NLS_CONFIG;if(Ve)try{const ft=JSON.parse(Ve);j=ft.userLocale,U=ft.osLocale,z=ft.resolvedLanguage||ie,v=(He=ft.languagePack)==null?void 0:He.translationsConfigFile}catch{}g=!0}else typeof navigator=="object"&&!me?(ce=navigator.userAgent,o=ce.indexOf("Windows")>=0,K=ce.indexOf("Macintosh")>=0,ne=(ce.indexOf("Macintosh")>=0||ce.indexOf("iPad")>=0||ce.indexOf("iPhone")>=0)&&!!navigator.maxTouchPoints&&navigator.maxTouchPoints>0,Q=ce.indexOf("Linux")>=0,$=(ce==null?void 0:ce.indexOf("Mobi"))>=0,Y=!0,z=F.i8()||ie,j=navigator.language.toLowerCase(),U=j):console.error("Unable to resolve platform.");let we=0;K?we=1:o?we=3:Q&&(we=2);const Ue=o,Ce=K,R=Q,m=g,_=Y,I=Y&&typeof J.importScripts=="function"?J.origin:void 0,P=null,V=null,ee=ce,fe=null,ue=typeof J.postMessage=="function"&&!J.importScripts,Te=(()=>{if(ue){const Ve=[];J.addEventListener("message",ot=>{if(ot.data&&ot.data.vscodeScheduleAsyncWork)for(let kt=0,nn=Ve.length;kt<nn;kt++){const Ut=Ve[kt];if(Ut.id===ot.data.vscodeScheduleAsyncWork){Ve.splice(kt,1),Ut.callback();return}}});let ft=0;return ot=>{const kt=++ft;Ve.push({id:kt,callback:ot}),J.postMessage({vscodeScheduleAsyncWork:kt},"*")}}return Ve=>setTimeout(Ve)})(),je=K||ne?2:o?1:3;let Xe=!0,We=!1;function A(){if(!We){We=!0;const Ve=new Uint8Array(2);Ve[0]=1,Ve[1]=2,Xe=new Uint16Array(Ve.buffer)[0]===513}return Xe}n(A,"isLittleEndian");const M=!!(ee&&ee.indexOf("Chrome")>=0),G=!!(ee&&ee.indexOf("Firefox")>=0),w=!!(!M&&ee&&ee.indexOf("Safari")>=0),D=!!(ee&&ee.indexOf("Edg/")>=0),Z=!!(ee&&ee.indexOf("Android")>=0)},2467:(Lt,Pe,E)=>{"use strict";E.d(Pe,{B6:n(()=>b,"B6"),P8:n(()=>v,"P8")});var F=E(8518),ie=E(3072),o=E(4033),K=E(3339),Q=E(6844),N=E(7264);function g(P){return(0,N.I)(P,!0)}n(g,"originalFSPath");const I=class I{constructor(V){this._ignorePathCasing=V}compare(V,ee,fe=!1){return V===ee?0:(0,Q.UD)(this.getComparisonKey(V,fe),this.getComparisonKey(ee,fe))}isEqual(V,ee,fe=!1){return V===ee?!0:!V||!ee?!1:this.getComparisonKey(V,fe)===this.getComparisonKey(ee,fe)}getComparisonKey(V,ee=!1){return V.with({path:this._ignorePathCasing(V)?V.path.toLowerCase():void 0,fragment:ee?null:void 0}).toString()}isEqualOrParent(V,ee,fe=!1){if(V.scheme===ee.scheme){if(V.scheme===ie.ny.file)return F._1(g(V),g(ee),this._ignorePathCasing(V))&&V.query===ee.query&&(fe||V.fragment===ee.fragment);if(Ce(V.authority,ee.authority))return F._1(V.path,ee.path,this._ignorePathCasing(V),"/")&&V.query===ee.query&&(fe||V.fragment===ee.fragment)}return!1}joinPath(V,...ee){return N.r.joinPath(V,...ee)}basenameOrAuthority(V){return v(V)||V.authority}basename(V){return o.SA.basename(V.path)}extname(V){return o.SA.extname(V.path)}dirname(V){if(V.path.length===0)return V;let ee;return V.scheme===ie.ny.file?ee=N.r.file(o.pD(g(V))).path:(ee=o.SA.dirname(V.path),V.authority&&ee.length&&ee.charCodeAt(0)!==47&&(console.error(`dirname("${V.toString})) resulted in a relative path`),ee="/")),V.with({path:ee})}normalizePath(V){if(!V.path.length)return V;let ee;return V.scheme===ie.ny.file?ee=N.r.file(o.S8(g(V))).path:ee=o.SA.normalize(V.path),V.with({path:ee})}relativePath(V,ee){if(V.scheme!==ee.scheme||!Ce(V.authority,ee.authority))return;if(V.scheme===ie.ny.file){const Te=o.V8(g(V),g(ee));return K.uF?F.TH(Te):Te}let fe=V.path||"/";const ue=ee.path||"/";if(this._ignorePathCasing(V)){let Te=0;for(const je=Math.min(fe.length,ue.length);Te<je&&!(fe.charCodeAt(Te)!==ue.charCodeAt(Te)&&fe.charAt(Te).toLowerCase()!==ue.charAt(Te).toLowerCase());Te++);fe=ue.substr(0,Te)+fe.substr(Te)}return o.SA.relative(fe,ue)}resolvePath(V,ee){if(V.scheme===ie.ny.file){const fe=N.r.file(o.hd(g(V),ee));return V.with({authority:fe.authority,path:fe.path})}return ee=F.kb(ee),V.with({path:o.SA.resolve(V.path,ee)})}isAbsolutePath(V){return!!V.path&&V.path[0]==="/"}isEqualAuthority(V,ee){return V===ee||V!==void 0&&ee!==void 0&&(0,Q.Q_)(V,ee)}hasTrailingPathSeparator(V,ee=o.Vn){if(V.scheme===ie.ny.file){const fe=g(V);return fe.length>F.Zn(fe).length&&fe[fe.length-1]===ee}else{const fe=V.path;return fe.length>1&&fe.charCodeAt(fe.length-1)===47&&!/^[a-zA-Z]:(\/$|\\$)/.test(V.fsPath)}}removeTrailingPathSeparator(V,ee=o.Vn){return R(V,ee)?V.with({path:V.path.substr(0,V.path.length-1)}):V}addTrailingPathSeparator(V,ee=o.Vn){let fe=!1;if(V.scheme===ie.ny.file){const ue=g(V);fe=ue!==void 0&&ue.length===F.Zn(ue).length&&ue[ue.length-1]===ee}else{ee="/";const ue=V.path;fe=ue.length===1&&ue.charCodeAt(ue.length-1)===47}return!fe&&!R(V,ee)?V.with({path:V.path+"/"}):V}};n(I,"ExtUri");let Y=I;const O=new Y(()=>!1),ne=new Y(P=>P.scheme===ie.ny.file?!K.j9:!0),B=new Y(P=>!0),$=O.isEqual.bind(O),j=O.isEqualOrParent.bind(O),z=O.getComparisonKey.bind(O),U=O.basenameOrAuthority.bind(O),v=O.basename.bind(O),ce=O.extname.bind(O),J=O.dirname.bind(O),y=O.joinPath.bind(O),W=O.normalizePath.bind(O),me=O.relativePath.bind(O),we=O.resolvePath.bind(O),Ue=O.isAbsolutePath.bind(O),Ce=O.isEqualAuthority.bind(O),R=O.hasTrailingPathSeparator.bind(O),m=O.removeTrailingPathSeparator.bind(O),_=O.addTrailingPathSeparator.bind(O);var b;(function(P){P.META_DATA_LABEL="label",P.META_DATA_DESCRIPTION="description",P.META_DATA_SIZE="size",P.META_DATA_MIME="mime";function V(ee){const fe=new Map;ee.path.substring(ee.path.indexOf(";")+1,ee.path.lastIndexOf(";")).split(";").forEach(je=>{const[Xe,We]=je.split(":");Xe&&We&&fe.set(Xe,We)});const Te=ee.path.substring(0,ee.path.indexOf(";"));return Te&&fe.set(P.META_DATA_MIME,Te),fe}n(V,"parseMetaData"),P.parseMetaData=V})(b||(b={}))},3013:(Lt,Pe,E)=>{"use strict";E.d(Pe,{W:n(()=>ie,"W")});const F=globalThis.performance&&typeof globalThis.performance.now=="function",o=class o{static create(Q){return new o(Q)}constructor(Q){this._now=F&&Q===!1?Date.now:globalThis.performance.now.bind(globalThis.performance),this._startTime=this._now(),this._stopTime=-1}stop(){this._stopTime=this._now()}reset(){this._startTime=this._now(),this._stopTime=-1}elapsed(){return this._stopTime!==-1?this._stopTime-this._startTime:this._now()-this._startTime}};n(o,"StopWatch");let ie=o},6844:(Lt,Pe,E)=>{"use strict";E.d(Pe,{$X:n(()=>Ve,"$X"),AV:n(()=>o,"AV"),E_:n(()=>Z,"E_"),HG:n(()=>J,"HG"),LJ:n(()=>fe,"LJ"),LU:n(()=>nn,"LU"),NB:n(()=>ne,"NB"),OS:n(()=>z,"OS"),Q_:n(()=>b,"Q_"),Ss:n(()=>ot,"Ss"),UD:n(()=>me,"UD"),Wv:n(()=>_,"Wv"),Z5:n(()=>Te,"Z5"),_J:n(()=>He,"_J"),aC:n(()=>ye,"aC"),bm:n(()=>Y,"bm"),eY:n(()=>U,"eY"),jy:n(()=>N,"jy"),km:n(()=>We,"km"),lT:n(()=>W,"lT"),ne:n(()=>ft,"ne"),ns:n(()=>I,"ns"),pc:n(()=>ee,"pc"),r_:n(()=>kt,"r_"),tk:n(()=>Dn,"tk"),tl:n(()=>an,"tl"),uz:n(()=>v,"uz"),y_:n(()=>Rn,"y_"),z_:n(()=>ue,"z_")});var F=E(6260),ie=E(3946);function o(Oe){return!Oe||typeof Oe!="string"?!0:Oe.trim().length===0}n(o,"isFalsyOrWhitespace");const K=/{(\d+)}/g;function Q(Oe,...$e){return $e.length===0?Oe:Oe.replace(K,function(i,mt){const It=parseInt(mt,10);return isNaN(It)||It<0||It>=$e.length?i:$e[It]})}n(Q,"format");function N(Oe){return Oe.replace(/[<>"'&]/g,$e=>{switch($e){case"<":return"&lt;";case">":return"&gt;";case'"':return"&quot;";case"'":return"&apos;";case"&":return"&amp;"}return $e})}n(N,"htmlAttributeEncodeValue");function g(Oe){return Oe.replace(/[<>&]/g,function($e){switch($e){case"<":return"&lt;";case">":return"&gt;";case"&":return"&amp;";default:return $e}})}n(g,"escape");function Y(Oe){return Oe.replace(/[\\\{\}\*\+\?\|\^\$\.\[\]\(\)]/g,"\\$&")}n(Y,"escapeRegExpCharacters");function O(Oe,$e=" "){const i=ne(Oe,$e);return B(i,$e)}n(O,"trim");function ne(Oe,$e){if(!Oe||!$e)return Oe;const i=$e.length;if(i===0||Oe.length===0)return Oe;let mt=0;for(;Oe.indexOf($e,mt)===mt;)mt=mt+i;return Oe.substring(mt)}n(ne,"ltrim");function B(Oe,$e){if(!Oe||!$e)return Oe;const i=$e.length,mt=Oe.length;if(i===0||mt===0)return Oe;let It=mt,pt=-1;for(;pt=Oe.lastIndexOf($e,It-1),!(pt===-1||pt+i!==It);){if(pt===0)return"";It=pt}return Oe.substring(0,It)}n(B,"rtrim");function $(Oe){return Oe.replace(/[\-\\\{\}\+\?\|\^\$\.\,\[\]\(\)\#\s]/g,"\\$&").replace(/[\*]/g,".*")}n($,"convertSimple2RegExpPattern");function j(Oe){return Oe.replace(/\*/g,"")}n(j,"stripWildcards");function z(Oe,$e,i={}){if(!Oe)throw new Error("Cannot create regex from empty string");$e||(Oe=Y(Oe)),i.wholeWord&&(/\B/.test(Oe.charAt(0))||(Oe="\\b"+Oe),/\B/.test(Oe.charAt(Oe.length-1))||(Oe=Oe+"\\b"));let mt="";return i.global&&(mt+="g"),i.matchCase||(mt+="i"),i.multiline&&(mt+="m"),i.unicode&&(mt+="u"),new RegExp(Oe,mt)}n(z,"createRegExp");function U(Oe){return Oe.source==="^"||Oe.source==="^$"||Oe.source==="$"||Oe.source==="^\\s*$"?!1:!!(Oe.exec("")&&Oe.lastIndex===0)}n(U,"regExpLeadsToEndlessLoop");function v(Oe){return Oe.split(/\r\n|\r|\n/)}n(v,"splitLines");function ce(Oe){var mt;const $e=[],i=Oe.split(/(\r\n|\r|\n)/);for(let It=0;It<Math.ceil(i.length/2);It++)$e.push(i[2*It]+((mt=i[2*It+1])!=null?mt:""));return $e}n(ce,"splitLinesIncludeSeparators");function J(Oe){for(let $e=0,i=Oe.length;$e<i;$e++){const mt=Oe.charCodeAt($e);if(mt!==32&&mt!==9)return $e}return-1}n(J,"firstNonWhitespaceIndex");function y(Oe,$e=0,i=Oe.length){for(let mt=$e;mt<i;mt++){const It=Oe.charCodeAt(mt);if(It!==32&&It!==9)return Oe.substring($e,mt)}return Oe.substring($e,i)}n(y,"getLeadingWhitespace");function W(Oe,$e=Oe.length-1){for(let i=$e;i>=0;i--){const mt=Oe.charCodeAt(i);if(mt!==32&&mt!==9)return i}return-1}n(W,"lastNonWhitespaceIndex");function me(Oe,$e){return Oe<$e?-1:Oe>$e?1:0}n(me,"compare");function we(Oe,$e,i=0,mt=Oe.length,It=0,pt=$e.length){for(;i<mt&&It<pt;i++,It++){const dt=Oe.charCodeAt(i),ut=$e.charCodeAt(It);if(dt<ut)return-1;if(dt>ut)return 1}const at=mt-i,xt=pt-It;return at<xt?-1:at>xt?1:0}n(we,"compareSubstring");function Ue(Oe,$e){return Ce(Oe,$e,0,Oe.length,0,$e.length)}n(Ue,"compareIgnoreCase");function Ce(Oe,$e,i=0,mt=Oe.length,It=0,pt=$e.length){for(;i<mt&&It<pt;i++,It++){let dt=Oe.charCodeAt(i),ut=$e.charCodeAt(It);if(dt===ut)continue;if(dt>=128||ut>=128)return we(Oe.toLowerCase(),$e.toLowerCase(),i,mt,It,pt);m(dt)&&(dt-=32),m(ut)&&(ut-=32);const St=dt-ut;if(St!==0)return St}const at=mt-i,xt=pt-It;return at<xt?-1:at>xt?1:0}n(Ce,"compareSubstringIgnoreCase");function R(Oe){return Oe>=48&&Oe<=57}n(R,"isAsciiDigit");function m(Oe){return Oe>=97&&Oe<=122}n(m,"isLowerAsciiLetter");function _(Oe){return Oe>=65&&Oe<=90}n(_,"isUpperAsciiLetter");function b(Oe,$e){return Oe.length===$e.length&&Ce(Oe,$e)===0}n(b,"equalsIgnoreCase");function I(Oe,$e){const i=$e.length;return $e.length>Oe.length?!1:Ce(Oe,$e,0,i)===0}n(I,"startsWithIgnoreCase");function P(Oe,$e){const i=Math.min(Oe.length,$e.length);let mt;for(mt=0;mt<i;mt++)if(Oe.charCodeAt(mt)!==$e.charCodeAt(mt))return mt;return i}n(P,"commonPrefixLength");function V(Oe,$e){const i=Math.min(Oe.length,$e.length);let mt;const It=Oe.length-1,pt=$e.length-1;for(mt=0;mt<i;mt++)if(Oe.charCodeAt(It-mt)!==$e.charCodeAt(pt-mt))return mt;return i}n(V,"commonSuffixLength");function ee(Oe){return 55296<=Oe&&Oe<=56319}n(ee,"isHighSurrogate");function fe(Oe){return 56320<=Oe&&Oe<=57343}n(fe,"isLowSurrogate");function ue(Oe,$e){return(Oe-55296<<10)+($e-56320)+65536}n(ue,"computeCodePoint");function Te(Oe,$e,i){const mt=Oe.charCodeAt(i);if(ee(mt)&&i+1<$e){const It=Oe.charCodeAt(i+1);if(fe(It))return ue(mt,It)}return mt}n(Te,"getNextCodePoint");function je(Oe,$e){const i=Oe.charCodeAt($e-1);if(fe(i)&&$e>1){const mt=Oe.charCodeAt($e-2);if(ee(mt))return ue(mt,i)}return i}n(je,"getPrevCodePoint");const wn=class wn{get offset(){return this._offset}constructor($e,i=0){this._str=$e,this._len=$e.length,this._offset=i}setOffset($e){this._offset=$e}prevCodePoint(){const $e=je(this._str,this._offset);return this._offset-=$e>=65536?2:1,$e}nextCodePoint(){const $e=Te(this._str,this._len,this._offset);return this._offset+=$e>=65536?2:1,$e}eol(){return this._offset>=this._len}};n(wn,"CodePointIterator");let Xe=wn;const Fn=class Fn{get offset(){return this._iterator.offset}constructor($e,i=0){this._iterator=new Xe($e,i)}nextGraphemeLength(){const $e=_n.getInstance(),i=this._iterator,mt=i.offset;let It=$e.getGraphemeBreakType(i.nextCodePoint());for(;!i.eol();){const pt=i.offset,at=$e.getGraphemeBreakType(i.nextCodePoint());if(En(It,at)){i.setOffset(pt);break}It=at}return i.offset-mt}prevGraphemeLength(){const $e=_n.getInstance(),i=this._iterator,mt=i.offset;let It=$e.getGraphemeBreakType(i.prevCodePoint());for(;i.offset>0;){const pt=i.offset,at=$e.getGraphemeBreakType(i.prevCodePoint());if(En(at,It)){i.setOffset(pt);break}It=at}return mt-i.offset}eol(){return this._iterator.eol()}};n(Fn,"GraphemeIterator");let We=Fn;function A(Oe,$e){return new We(Oe,$e).nextGraphemeLength()}n(A,"nextCharLength");function M(Oe,$e){return new We(Oe,$e).prevGraphemeLength()}n(M,"prevCharLength");function G(Oe,$e){$e>0&&fe(Oe.charCodeAt($e))&&$e--;const i=$e+A(Oe,$e);return[i-M(Oe,i),i]}n(G,"getCharContainingOffset");let w;function D(){return/(?:[\u05BE\u05C0\u05C3\u05C6\u05D0-\u05F4\u0608\u060B\u060D\u061B-\u064A\u066D-\u066F\u0671-\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u0710\u0712-\u072F\u074D-\u07A5\u07B1-\u07EA\u07F4\u07F5\u07FA\u07FE-\u0815\u081A\u0824\u0828\u0830-\u0858\u085E-\u088E\u08A0-\u08C9\u200F\uFB1D\uFB1F-\uFB28\uFB2A-\uFD3D\uFD50-\uFDC7\uFDF0-\uFDFC\uFE70-\uFEFC]|\uD802[\uDC00-\uDD1B\uDD20-\uDE00\uDE10-\uDE35\uDE40-\uDEE4\uDEEB-\uDF35\uDF40-\uDFFF]|\uD803[\uDC00-\uDD23\uDE80-\uDEA9\uDEAD-\uDF45\uDF51-\uDF81\uDF86-\uDFF6]|\uD83A[\uDC00-\uDCCF\uDD00-\uDD43\uDD4B-\uDFFF]|\uD83B[\uDC00-\uDEBB])/}n(D,"makeContainsRtl");function Z(Oe){return w||(w=D()),w.test(Oe)}n(Z,"containsRTL");const he=/^[\t\n\r\x20-\x7E]*$/;function ye(Oe){return he.test(Oe)}n(ye,"isBasicASCII");const He=/[\u2028\u2029]/;function Ve(Oe){return He.test(Oe)}n(Ve,"containsUnusualLineTerminators");function ft(Oe){return Oe>=11904&&Oe<=55215||Oe>=63744&&Oe<=64255||Oe>=65281&&Oe<=65374}n(ft,"isFullWidthCharacter");function ot(Oe){return Oe>=127462&&Oe<=127487||Oe===8986||Oe===8987||Oe===9200||Oe===9203||Oe>=9728&&Oe<=10175||Oe===11088||Oe===11093||Oe>=127744&&Oe<=128591||Oe>=128640&&Oe<=128764||Oe>=128992&&Oe<=129008||Oe>=129280&&Oe<=129535||Oe>=129648&&Oe<=129782}n(ot,"isEmojiImprecise");const kt="\uFEFF";function nn(Oe){return!!(Oe&&Oe.length>0&&Oe.charCodeAt(0)===65279)}n(nn,"startsWithUTF8BOM");function Ut(Oe,$e=!1){return Oe?($e&&(Oe=Oe.replace(/\\./g,"")),Oe.toLowerCase()!==Oe):!1}n(Ut,"containsUppercaseCharacter");function Dn(Oe){return Oe=Oe%52,Oe<26?String.fromCharCode(97+Oe):String.fromCharCode(65+Oe-26)}n(Dn,"singleLetterHash");function En(Oe,$e){return Oe===0?$e!==5&&$e!==7:Oe===2&&$e===3?!1:Oe===4||Oe===2||Oe===3||$e===4||$e===2||$e===3?!0:!(Oe===8&&($e===8||$e===9||$e===11||$e===12)||(Oe===11||Oe===9)&&($e===9||$e===10)||(Oe===12||Oe===10)&&$e===10||$e===5||$e===13||$e===7||Oe===1||Oe===13&&$e===14||Oe===6&&$e===6)}n(En,"breakBetweenGraphemeBreakType");const An=class An{static getInstance(){return An._INSTANCE||(An._INSTANCE=new An),An._INSTANCE}constructor(){this._data=vn()}getGraphemeBreakType($e){if($e<32)return $e===10?3:$e===13?2:4;if($e<127)return 0;const i=this._data,mt=i.length/3;let It=1;for(;It<=mt;)if($e<i[3*It])It=2*It;else if($e>i[3*It+1])It=2*It+1;else return i[3*It+2];return 0}};n(An,"GraphemeBreakTree"),An._INSTANCE=null;let _n=An;function vn(){return JSON.parse("[0,0,0,51229,51255,12,44061,44087,12,127462,127487,6,7083,7085,5,47645,47671,12,54813,54839,12,128678,128678,14,3270,3270,5,9919,9923,14,45853,45879,12,49437,49463,12,53021,53047,12,71216,71218,7,128398,128399,14,129360,129374,14,2519,2519,5,4448,4519,9,9742,9742,14,12336,12336,14,44957,44983,12,46749,46775,12,48541,48567,12,50333,50359,12,52125,52151,12,53917,53943,12,69888,69890,5,73018,73018,5,127990,127990,14,128558,128559,14,128759,128760,14,129653,129655,14,2027,2035,5,2891,2892,7,3761,3761,5,6683,6683,5,8293,8293,4,9825,9826,14,9999,9999,14,43452,43453,5,44509,44535,12,45405,45431,12,46301,46327,12,47197,47223,12,48093,48119,12,48989,49015,12,49885,49911,12,50781,50807,12,51677,51703,12,52573,52599,12,53469,53495,12,54365,54391,12,65279,65279,4,70471,70472,7,72145,72147,7,119173,119179,5,127799,127818,14,128240,128244,14,128512,128512,14,128652,128652,14,128721,128722,14,129292,129292,14,129445,129450,14,129734,129743,14,1476,1477,5,2366,2368,7,2750,2752,7,3076,3076,5,3415,3415,5,4141,4144,5,6109,6109,5,6964,6964,5,7394,7400,5,9197,9198,14,9770,9770,14,9877,9877,14,9968,9969,14,10084,10084,14,43052,43052,5,43713,43713,5,44285,44311,12,44733,44759,12,45181,45207,12,45629,45655,12,46077,46103,12,46525,46551,12,46973,46999,12,47421,47447,12,47869,47895,12,48317,48343,12,48765,48791,12,49213,49239,12,49661,49687,12,50109,50135,12,50557,50583,12,51005,51031,12,51453,51479,12,51901,51927,12,52349,52375,12,52797,52823,12,53245,53271,12,53693,53719,12,54141,54167,12,54589,54615,12,55037,55063,12,69506,69509,5,70191,70193,5,70841,70841,7,71463,71467,5,72330,72342,5,94031,94031,5,123628,123631,5,127763,127765,14,127941,127941,14,128043,128062,14,128302,128317,14,128465,128467,14,128539,128539,14,128640,128640,14,128662,128662,14,128703,128703,14,128745,128745,14,129004,129007,14,129329,129330,14,129402,129402,14,129483,129483,14,129686,129704,14,130048,131069,14,173,173,4,1757,1757,1,2200,2207,5,2434,2435,7,2631,2632,5,2817,2817,5,3008,3008,5,3201,3201,5,3387,3388,5,3542,3542,5,3902,3903,7,4190,4192,5,6002,6003,5,6439,6440,5,6765,6770,7,7019,7027,5,7154,7155,7,8205,8205,13,8505,8505,14,9654,9654,14,9757,9757,14,9792,9792,14,9852,9853,14,9890,9894,14,9937,9937,14,9981,9981,14,10035,10036,14,11035,11036,14,42654,42655,5,43346,43347,7,43587,43587,5,44006,44007,7,44173,44199,12,44397,44423,12,44621,44647,12,44845,44871,12,45069,45095,12,45293,45319,12,45517,45543,12,45741,45767,12,45965,45991,12,46189,46215,12,46413,46439,12,46637,46663,12,46861,46887,12,47085,47111,12,47309,47335,12,47533,47559,12,47757,47783,12,47981,48007,12,48205,48231,12,48429,48455,12,48653,48679,12,48877,48903,12,49101,49127,12,49325,49351,12,49549,49575,12,49773,49799,12,49997,50023,12,50221,50247,12,50445,50471,12,50669,50695,12,50893,50919,12,51117,51143,12,51341,51367,12,51565,51591,12,51789,51815,12,52013,52039,12,52237,52263,12,52461,52487,12,52685,52711,12,52909,52935,12,53133,53159,12,53357,53383,12,53581,53607,12,53805,53831,12,54029,54055,12,54253,54279,12,54477,54503,12,54701,54727,12,54925,54951,12,55149,55175,12,68101,68102,5,69762,69762,7,70067,70069,7,70371,70378,5,70720,70721,7,71087,71087,5,71341,71341,5,71995,71996,5,72249,72249,7,72850,72871,5,73109,73109,5,118576,118598,5,121505,121519,5,127245,127247,14,127568,127569,14,127777,127777,14,127872,127891,14,127956,127967,14,128015,128016,14,128110,128172,14,128259,128259,14,128367,128368,14,128424,128424,14,128488,128488,14,128530,128532,14,128550,128551,14,128566,128566,14,128647,128647,14,128656,128656,14,128667,128673,14,128691,128693,14,128715,128715,14,128728,128732,14,128752,128752,14,128765,128767,14,129096,129103,14,129311,129311,14,129344,129349,14,129394,129394,14,129413,129425,14,129466,129471,14,129511,129535,14,129664,129666,14,129719,129722,14,129760,129767,14,917536,917631,5,13,13,2,1160,1161,5,1564,1564,4,1807,1807,1,2085,2087,5,2307,2307,7,2382,2383,7,2497,2500,5,2563,2563,7,2677,2677,5,2763,2764,7,2879,2879,5,2914,2915,5,3021,3021,5,3142,3144,5,3263,3263,5,3285,3286,5,3398,3400,7,3530,3530,5,3633,3633,5,3864,3865,5,3974,3975,5,4155,4156,7,4229,4230,5,5909,5909,7,6078,6085,7,6277,6278,5,6451,6456,7,6744,6750,5,6846,6846,5,6972,6972,5,7074,7077,5,7146,7148,7,7222,7223,5,7416,7417,5,8234,8238,4,8417,8417,5,9000,9000,14,9203,9203,14,9730,9731,14,9748,9749,14,9762,9763,14,9776,9783,14,9800,9811,14,9831,9831,14,9872,9873,14,9882,9882,14,9900,9903,14,9929,9933,14,9941,9960,14,9974,9974,14,9989,9989,14,10006,10006,14,10062,10062,14,10160,10160,14,11647,11647,5,12953,12953,14,43019,43019,5,43232,43249,5,43443,43443,5,43567,43568,7,43696,43696,5,43765,43765,7,44013,44013,5,44117,44143,12,44229,44255,12,44341,44367,12,44453,44479,12,44565,44591,12,44677,44703,12,44789,44815,12,44901,44927,12,45013,45039,12,45125,45151,12,45237,45263,12,45349,45375,12,45461,45487,12,45573,45599,12,45685,45711,12,45797,45823,12,45909,45935,12,46021,46047,12,46133,46159,12,46245,46271,12,46357,46383,12,46469,46495,12,46581,46607,12,46693,46719,12,46805,46831,12,46917,46943,12,47029,47055,12,47141,47167,12,47253,47279,12,47365,47391,12,47477,47503,12,47589,47615,12,47701,47727,12,47813,47839,12,47925,47951,12,48037,48063,12,48149,48175,12,48261,48287,12,48373,48399,12,48485,48511,12,48597,48623,12,48709,48735,12,48821,48847,12,48933,48959,12,49045,49071,12,49157,49183,12,49269,49295,12,49381,49407,12,49493,49519,12,49605,49631,12,49717,49743,12,49829,49855,12,49941,49967,12,50053,50079,12,50165,50191,12,50277,50303,12,50389,50415,12,50501,50527,12,50613,50639,12,50725,50751,12,50837,50863,12,50949,50975,12,51061,51087,12,51173,51199,12,51285,51311,12,51397,51423,12,51509,51535,12,51621,51647,12,51733,51759,12,51845,51871,12,51957,51983,12,52069,52095,12,52181,52207,12,52293,52319,12,52405,52431,12,52517,52543,12,52629,52655,12,52741,52767,12,52853,52879,12,52965,52991,12,53077,53103,12,53189,53215,12,53301,53327,12,53413,53439,12,53525,53551,12,53637,53663,12,53749,53775,12,53861,53887,12,53973,53999,12,54085,54111,12,54197,54223,12,54309,54335,12,54421,54447,12,54533,54559,12,54645,54671,12,54757,54783,12,54869,54895,12,54981,55007,12,55093,55119,12,55243,55291,10,66045,66045,5,68325,68326,5,69688,69702,5,69817,69818,5,69957,69958,7,70089,70092,5,70198,70199,5,70462,70462,5,70502,70508,5,70750,70750,5,70846,70846,7,71100,71101,5,71230,71230,7,71351,71351,5,71737,71738,5,72000,72000,7,72160,72160,5,72273,72278,5,72752,72758,5,72882,72883,5,73031,73031,5,73461,73462,7,94192,94193,7,119149,119149,7,121403,121452,5,122915,122916,5,126980,126980,14,127358,127359,14,127535,127535,14,127759,127759,14,127771,127771,14,127792,127793,14,127825,127867,14,127897,127899,14,127945,127945,14,127985,127986,14,128000,128007,14,128021,128021,14,128066,128100,14,128184,128235,14,128249,128252,14,128266,128276,14,128335,128335,14,128379,128390,14,128407,128419,14,128444,128444,14,128481,128481,14,128499,128499,14,128526,128526,14,128536,128536,14,128543,128543,14,128556,128556,14,128564,128564,14,128577,128580,14,128643,128645,14,128649,128649,14,128654,128654,14,128660,128660,14,128664,128664,14,128675,128675,14,128686,128689,14,128695,128696,14,128705,128709,14,128717,128719,14,128725,128725,14,128736,128741,14,128747,128748,14,128755,128755,14,128762,128762,14,128981,128991,14,129009,129023,14,129160,129167,14,129296,129304,14,129320,129327,14,129340,129342,14,129356,129356,14,129388,129392,14,129399,129400,14,129404,129407,14,129432,129442,14,129454,129455,14,129473,129474,14,129485,129487,14,129648,129651,14,129659,129660,14,129671,129679,14,129709,129711,14,129728,129730,14,129751,129753,14,129776,129782,14,917505,917505,4,917760,917999,5,10,10,3,127,159,4,768,879,5,1471,1471,5,1536,1541,1,1648,1648,5,1767,1768,5,1840,1866,5,2070,2073,5,2137,2139,5,2274,2274,1,2363,2363,7,2377,2380,7,2402,2403,5,2494,2494,5,2507,2508,7,2558,2558,5,2622,2624,7,2641,2641,5,2691,2691,7,2759,2760,5,2786,2787,5,2876,2876,5,2881,2884,5,2901,2902,5,3006,3006,5,3014,3016,7,3072,3072,5,3134,3136,5,3157,3158,5,3260,3260,5,3266,3266,5,3274,3275,7,3328,3329,5,3391,3392,7,3405,3405,5,3457,3457,5,3536,3537,7,3551,3551,5,3636,3642,5,3764,3772,5,3895,3895,5,3967,3967,7,3993,4028,5,4146,4151,5,4182,4183,7,4226,4226,5,4253,4253,5,4957,4959,5,5940,5940,7,6070,6070,7,6087,6088,7,6158,6158,4,6432,6434,5,6448,6449,7,6679,6680,5,6742,6742,5,6754,6754,5,6783,6783,5,6912,6915,5,6966,6970,5,6978,6978,5,7042,7042,7,7080,7081,5,7143,7143,7,7150,7150,7,7212,7219,5,7380,7392,5,7412,7412,5,8203,8203,4,8232,8232,4,8265,8265,14,8400,8412,5,8421,8432,5,8617,8618,14,9167,9167,14,9200,9200,14,9410,9410,14,9723,9726,14,9733,9733,14,9745,9745,14,9752,9752,14,9760,9760,14,9766,9766,14,9774,9774,14,9786,9786,14,9794,9794,14,9823,9823,14,9828,9828,14,9833,9850,14,9855,9855,14,9875,9875,14,9880,9880,14,9885,9887,14,9896,9897,14,9906,9916,14,9926,9927,14,9935,9935,14,9939,9939,14,9962,9962,14,9972,9972,14,9978,9978,14,9986,9986,14,9997,9997,14,10002,10002,14,10017,10017,14,10055,10055,14,10071,10071,14,10133,10135,14,10548,10549,14,11093,11093,14,12330,12333,5,12441,12442,5,42608,42610,5,43010,43010,5,43045,43046,5,43188,43203,7,43302,43309,5,43392,43394,5,43446,43449,5,43493,43493,5,43571,43572,7,43597,43597,7,43703,43704,5,43756,43757,5,44003,44004,7,44009,44010,7,44033,44059,12,44089,44115,12,44145,44171,12,44201,44227,12,44257,44283,12,44313,44339,12,44369,44395,12,44425,44451,12,44481,44507,12,44537,44563,12,44593,44619,12,44649,44675,12,44705,44731,12,44761,44787,12,44817,44843,12,44873,44899,12,44929,44955,12,44985,45011,12,45041,45067,12,45097,45123,12,45153,45179,12,45209,45235,12,45265,45291,12,45321,45347,12,45377,45403,12,45433,45459,12,45489,45515,12,45545,45571,12,45601,45627,12,45657,45683,12,45713,45739,12,45769,45795,12,45825,45851,12,45881,45907,12,45937,45963,12,45993,46019,12,46049,46075,12,46105,46131,12,46161,46187,12,46217,46243,12,46273,46299,12,46329,46355,12,46385,46411,12,46441,46467,12,46497,46523,12,46553,46579,12,46609,46635,12,46665,46691,12,46721,46747,12,46777,46803,12,46833,46859,12,46889,46915,12,46945,46971,12,47001,47027,12,47057,47083,12,47113,47139,12,47169,47195,12,47225,47251,12,47281,47307,12,47337,47363,12,47393,47419,12,47449,47475,12,47505,47531,12,47561,47587,12,47617,47643,12,47673,47699,12,47729,47755,12,47785,47811,12,47841,47867,12,47897,47923,12,47953,47979,12,48009,48035,12,48065,48091,12,48121,48147,12,48177,48203,12,48233,48259,12,48289,48315,12,48345,48371,12,48401,48427,12,48457,48483,12,48513,48539,12,48569,48595,12,48625,48651,12,48681,48707,12,48737,48763,12,48793,48819,12,48849,48875,12,48905,48931,12,48961,48987,12,49017,49043,12,49073,49099,12,49129,49155,12,49185,49211,12,49241,49267,12,49297,49323,12,49353,49379,12,49409,49435,12,49465,49491,12,49521,49547,12,49577,49603,12,49633,49659,12,49689,49715,12,49745,49771,12,49801,49827,12,49857,49883,12,49913,49939,12,49969,49995,12,50025,50051,12,50081,50107,12,50137,50163,12,50193,50219,12,50249,50275,12,50305,50331,12,50361,50387,12,50417,50443,12,50473,50499,12,50529,50555,12,50585,50611,12,50641,50667,12,50697,50723,12,50753,50779,12,50809,50835,12,50865,50891,12,50921,50947,12,50977,51003,12,51033,51059,12,51089,51115,12,51145,51171,12,51201,51227,12,51257,51283,12,51313,51339,12,51369,51395,12,51425,51451,12,51481,51507,12,51537,51563,12,51593,51619,12,51649,51675,12,51705,51731,12,51761,51787,12,51817,51843,12,51873,51899,12,51929,51955,12,51985,52011,12,52041,52067,12,52097,52123,12,52153,52179,12,52209,52235,12,52265,52291,12,52321,52347,12,52377,52403,12,52433,52459,12,52489,52515,12,52545,52571,12,52601,52627,12,52657,52683,12,52713,52739,12,52769,52795,12,52825,52851,12,52881,52907,12,52937,52963,12,52993,53019,12,53049,53075,12,53105,53131,12,53161,53187,12,53217,53243,12,53273,53299,12,53329,53355,12,53385,53411,12,53441,53467,12,53497,53523,12,53553,53579,12,53609,53635,12,53665,53691,12,53721,53747,12,53777,53803,12,53833,53859,12,53889,53915,12,53945,53971,12,54001,54027,12,54057,54083,12,54113,54139,12,54169,54195,12,54225,54251,12,54281,54307,12,54337,54363,12,54393,54419,12,54449,54475,12,54505,54531,12,54561,54587,12,54617,54643,12,54673,54699,12,54729,54755,12,54785,54811,12,54841,54867,12,54897,54923,12,54953,54979,12,55009,55035,12,55065,55091,12,55121,55147,12,55177,55203,12,65024,65039,5,65520,65528,4,66422,66426,5,68152,68154,5,69291,69292,5,69633,69633,5,69747,69748,5,69811,69814,5,69826,69826,5,69932,69932,7,70016,70017,5,70079,70080,7,70095,70095,5,70196,70196,5,70367,70367,5,70402,70403,7,70464,70464,5,70487,70487,5,70709,70711,7,70725,70725,7,70833,70834,7,70843,70844,7,70849,70849,7,71090,71093,5,71103,71104,5,71227,71228,7,71339,71339,5,71344,71349,5,71458,71461,5,71727,71735,5,71985,71989,7,71998,71998,5,72002,72002,7,72154,72155,5,72193,72202,5,72251,72254,5,72281,72283,5,72344,72345,5,72766,72766,7,72874,72880,5,72885,72886,5,73023,73029,5,73104,73105,5,73111,73111,5,92912,92916,5,94095,94098,5,113824,113827,4,119142,119142,7,119155,119162,4,119362,119364,5,121476,121476,5,122888,122904,5,123184,123190,5,125252,125258,5,127183,127183,14,127340,127343,14,127377,127386,14,127491,127503,14,127548,127551,14,127744,127756,14,127761,127761,14,127769,127769,14,127773,127774,14,127780,127788,14,127796,127797,14,127820,127823,14,127869,127869,14,127894,127895,14,127902,127903,14,127943,127943,14,127947,127950,14,127972,127972,14,127988,127988,14,127992,127994,14,128009,128011,14,128019,128019,14,128023,128041,14,128064,128064,14,128102,128107,14,128174,128181,14,128238,128238,14,128246,128247,14,128254,128254,14,128264,128264,14,128278,128299,14,128329,128330,14,128348,128359,14,128371,128377,14,128392,128393,14,128401,128404,14,128421,128421,14,128433,128434,14,128450,128452,14,128476,128478,14,128483,128483,14,128495,128495,14,128506,128506,14,128519,128520,14,128528,128528,14,128534,128534,14,128538,128538,14,128540,128542,14,128544,128549,14,128552,128555,14,128557,128557,14,128560,128563,14,128565,128565,14,128567,128576,14,128581,128591,14,128641,128642,14,128646,128646,14,128648,128648,14,128650,128651,14,128653,128653,14,128655,128655,14,128657,128659,14,128661,128661,14,128663,128663,14,128665,128666,14,128674,128674,14,128676,128677,14,128679,128685,14,128690,128690,14,128694,128694,14,128697,128702,14,128704,128704,14,128710,128714,14,128716,128716,14,128720,128720,14,128723,128724,14,128726,128727,14,128733,128735,14,128742,128744,14,128746,128746,14,128749,128751,14,128753,128754,14,128756,128758,14,128761,128761,14,128763,128764,14,128884,128895,14,128992,129003,14,129008,129008,14,129036,129039,14,129114,129119,14,129198,129279,14,129293,129295,14,129305,129310,14,129312,129319,14,129328,129328,14,129331,129338,14,129343,129343,14,129351,129355,14,129357,129359,14,129375,129387,14,129393,129393,14,129395,129398,14,129401,129401,14,129403,129403,14,129408,129412,14,129426,129431,14,129443,129444,14,129451,129453,14,129456,129465,14,129472,129472,14,129475,129482,14,129484,129484,14,129488,129510,14,129536,129647,14,129652,129652,14,129656,129658,14,129661,129663,14,129667,129670,14,129680,129685,14,129705,129708,14,129712,129718,14,129723,129727,14,129731,129733,14,129744,129750,14,129754,129759,14,129768,129775,14,129783,129791,14,917504,917504,4,917506,917535,4,917632,917759,4,918000,921599,4,0,9,4,11,12,4,14,31,4,169,169,14,174,174,14,1155,1159,5,1425,1469,5,1473,1474,5,1479,1479,5,1552,1562,5,1611,1631,5,1750,1756,5,1759,1764,5,1770,1773,5,1809,1809,5,1958,1968,5,2045,2045,5,2075,2083,5,2089,2093,5,2192,2193,1,2250,2273,5,2275,2306,5,2362,2362,5,2364,2364,5,2369,2376,5,2381,2381,5,2385,2391,5,2433,2433,5,2492,2492,5,2495,2496,7,2503,2504,7,2509,2509,5,2530,2531,5,2561,2562,5,2620,2620,5,2625,2626,5,2635,2637,5,2672,2673,5,2689,2690,5,2748,2748,5,2753,2757,5,2761,2761,7,2765,2765,5,2810,2815,5,2818,2819,7,2878,2878,5,2880,2880,7,2887,2888,7,2893,2893,5,2903,2903,5,2946,2946,5,3007,3007,7,3009,3010,7,3018,3020,7,3031,3031,5,3073,3075,7,3132,3132,5,3137,3140,7,3146,3149,5,3170,3171,5,3202,3203,7,3262,3262,7,3264,3265,7,3267,3268,7,3271,3272,7,3276,3277,5,3298,3299,5,3330,3331,7,3390,3390,5,3393,3396,5,3402,3404,7,3406,3406,1,3426,3427,5,3458,3459,7,3535,3535,5,3538,3540,5,3544,3550,7,3570,3571,7,3635,3635,7,3655,3662,5,3763,3763,7,3784,3789,5,3893,3893,5,3897,3897,5,3953,3966,5,3968,3972,5,3981,3991,5,4038,4038,5,4145,4145,7,4153,4154,5,4157,4158,5,4184,4185,5,4209,4212,5,4228,4228,7,4237,4237,5,4352,4447,8,4520,4607,10,5906,5908,5,5938,5939,5,5970,5971,5,6068,6069,5,6071,6077,5,6086,6086,5,6089,6099,5,6155,6157,5,6159,6159,5,6313,6313,5,6435,6438,7,6441,6443,7,6450,6450,5,6457,6459,5,6681,6682,7,6741,6741,7,6743,6743,7,6752,6752,5,6757,6764,5,6771,6780,5,6832,6845,5,6847,6862,5,6916,6916,7,6965,6965,5,6971,6971,7,6973,6977,7,6979,6980,7,7040,7041,5,7073,7073,7,7078,7079,7,7082,7082,7,7142,7142,5,7144,7145,5,7149,7149,5,7151,7153,5,7204,7211,7,7220,7221,7,7376,7378,5,7393,7393,7,7405,7405,5,7415,7415,7,7616,7679,5,8204,8204,5,8206,8207,4,8233,8233,4,8252,8252,14,8288,8292,4,8294,8303,4,8413,8416,5,8418,8420,5,8482,8482,14,8596,8601,14,8986,8987,14,9096,9096,14,9193,9196,14,9199,9199,14,9201,9202,14,9208,9210,14,9642,9643,14,9664,9664,14,9728,9729,14,9732,9732,14,9735,9741,14,9743,9744,14,9746,9746,14,9750,9751,14,9753,9756,14,9758,9759,14,9761,9761,14,9764,9765,14,9767,9769,14,9771,9773,14,9775,9775,14,9784,9785,14,9787,9791,14,9793,9793,14,9795,9799,14,9812,9822,14,9824,9824,14,9827,9827,14,9829,9830,14,9832,9832,14,9851,9851,14,9854,9854,14,9856,9861,14,9874,9874,14,9876,9876,14,9878,9879,14,9881,9881,14,9883,9884,14,9888,9889,14,9895,9895,14,9898,9899,14,9904,9905,14,9917,9918,14,9924,9925,14,9928,9928,14,9934,9934,14,9936,9936,14,9938,9938,14,9940,9940,14,9961,9961,14,9963,9967,14,9970,9971,14,9973,9973,14,9975,9977,14,9979,9980,14,9982,9985,14,9987,9988,14,9992,9996,14,9998,9998,14,10000,10001,14,10004,10004,14,10013,10013,14,10024,10024,14,10052,10052,14,10060,10060,14,10067,10069,14,10083,10083,14,10085,10087,14,10145,10145,14,10175,10175,14,11013,11015,14,11088,11088,14,11503,11505,5,11744,11775,5,12334,12335,5,12349,12349,14,12951,12951,14,42607,42607,5,42612,42621,5,42736,42737,5,43014,43014,5,43043,43044,7,43047,43047,7,43136,43137,7,43204,43205,5,43263,43263,5,43335,43345,5,43360,43388,8,43395,43395,7,43444,43445,7,43450,43451,7,43454,43456,7,43561,43566,5,43569,43570,5,43573,43574,5,43596,43596,5,43644,43644,5,43698,43700,5,43710,43711,5,43755,43755,7,43758,43759,7,43766,43766,5,44005,44005,5,44008,44008,5,44012,44012,7,44032,44032,11,44060,44060,11,44088,44088,11,44116,44116,11,44144,44144,11,44172,44172,11,44200,44200,11,44228,44228,11,44256,44256,11,44284,44284,11,44312,44312,11,44340,44340,11,44368,44368,11,44396,44396,11,44424,44424,11,44452,44452,11,44480,44480,11,44508,44508,11,44536,44536,11,44564,44564,11,44592,44592,11,44620,44620,11,44648,44648,11,44676,44676,11,44704,44704,11,44732,44732,11,44760,44760,11,44788,44788,11,44816,44816,11,44844,44844,11,44872,44872,11,44900,44900,11,44928,44928,11,44956,44956,11,44984,44984,11,45012,45012,11,45040,45040,11,45068,45068,11,45096,45096,11,45124,45124,11,45152,45152,11,45180,45180,11,45208,45208,11,45236,45236,11,45264,45264,11,45292,45292,11,45320,45320,11,45348,45348,11,45376,45376,11,45404,45404,11,45432,45432,11,45460,45460,11,45488,45488,11,45516,45516,11,45544,45544,11,45572,45572,11,45600,45600,11,45628,45628,11,45656,45656,11,45684,45684,11,45712,45712,11,45740,45740,11,45768,45768,11,45796,45796,11,45824,45824,11,45852,45852,11,45880,45880,11,45908,45908,11,45936,45936,11,45964,45964,11,45992,45992,11,46020,46020,11,46048,46048,11,46076,46076,11,46104,46104,11,46132,46132,11,46160,46160,11,46188,46188,11,46216,46216,11,46244,46244,11,46272,46272,11,46300,46300,11,46328,46328,11,46356,46356,11,46384,46384,11,46412,46412,11,46440,46440,11,46468,46468,11,46496,46496,11,46524,46524,11,46552,46552,11,46580,46580,11,46608,46608,11,46636,46636,11,46664,46664,11,46692,46692,11,46720,46720,11,46748,46748,11,46776,46776,11,46804,46804,11,46832,46832,11,46860,46860,11,46888,46888,11,46916,46916,11,46944,46944,11,46972,46972,11,47000,47000,11,47028,47028,11,47056,47056,11,47084,47084,11,47112,47112,11,47140,47140,11,47168,47168,11,47196,47196,11,47224,47224,11,47252,47252,11,47280,47280,11,47308,47308,11,47336,47336,11,47364,47364,11,47392,47392,11,47420,47420,11,47448,47448,11,47476,47476,11,47504,47504,11,47532,47532,11,47560,47560,11,47588,47588,11,47616,47616,11,47644,47644,11,47672,47672,11,47700,47700,11,47728,47728,11,47756,47756,11,47784,47784,11,47812,47812,11,47840,47840,11,47868,47868,11,47896,47896,11,47924,47924,11,47952,47952,11,47980,47980,11,48008,48008,11,48036,48036,11,48064,48064,11,48092,48092,11,48120,48120,11,48148,48148,11,48176,48176,11,48204,48204,11,48232,48232,11,48260,48260,11,48288,48288,11,48316,48316,11,48344,48344,11,48372,48372,11,48400,48400,11,48428,48428,11,48456,48456,11,48484,48484,11,48512,48512,11,48540,48540,11,48568,48568,11,48596,48596,11,48624,48624,11,48652,48652,11,48680,48680,11,48708,48708,11,48736,48736,11,48764,48764,11,48792,48792,11,48820,48820,11,48848,48848,11,48876,48876,11,48904,48904,11,48932,48932,11,48960,48960,11,48988,48988,11,49016,49016,11,49044,49044,11,49072,49072,11,49100,49100,11,49128,49128,11,49156,49156,11,49184,49184,11,49212,49212,11,49240,49240,11,49268,49268,11,49296,49296,11,49324,49324,11,49352,49352,11,49380,49380,11,49408,49408,11,49436,49436,11,49464,49464,11,49492,49492,11,49520,49520,11,49548,49548,11,49576,49576,11,49604,49604,11,49632,49632,11,49660,49660,11,49688,49688,11,49716,49716,11,49744,49744,11,49772,49772,11,49800,49800,11,49828,49828,11,49856,49856,11,49884,49884,11,49912,49912,11,49940,49940,11,49968,49968,11,49996,49996,11,50024,50024,11,50052,50052,11,50080,50080,11,50108,50108,11,50136,50136,11,50164,50164,11,50192,50192,11,50220,50220,11,50248,50248,11,50276,50276,11,50304,50304,11,50332,50332,11,50360,50360,11,50388,50388,11,50416,50416,11,50444,50444,11,50472,50472,11,50500,50500,11,50528,50528,11,50556,50556,11,50584,50584,11,50612,50612,11,50640,50640,11,50668,50668,11,50696,50696,11,50724,50724,11,50752,50752,11,50780,50780,11,50808,50808,11,50836,50836,11,50864,50864,11,50892,50892,11,50920,50920,11,50948,50948,11,50976,50976,11,51004,51004,11,51032,51032,11,51060,51060,11,51088,51088,11,51116,51116,11,51144,51144,11,51172,51172,11,51200,51200,11,51228,51228,11,51256,51256,11,51284,51284,11,51312,51312,11,51340,51340,11,51368,51368,11,51396,51396,11,51424,51424,11,51452,51452,11,51480,51480,11,51508,51508,11,51536,51536,11,51564,51564,11,51592,51592,11,51620,51620,11,51648,51648,11,51676,51676,11,51704,51704,11,51732,51732,11,51760,51760,11,51788,51788,11,51816,51816,11,51844,51844,11,51872,51872,11,51900,51900,11,51928,51928,11,51956,51956,11,51984,51984,11,52012,52012,11,52040,52040,11,52068,52068,11,52096,52096,11,52124,52124,11,52152,52152,11,52180,52180,11,52208,52208,11,52236,52236,11,52264,52264,11,52292,52292,11,52320,52320,11,52348,52348,11,52376,52376,11,52404,52404,11,52432,52432,11,52460,52460,11,52488,52488,11,52516,52516,11,52544,52544,11,52572,52572,11,52600,52600,11,52628,52628,11,52656,52656,11,52684,52684,11,52712,52712,11,52740,52740,11,52768,52768,11,52796,52796,11,52824,52824,11,52852,52852,11,52880,52880,11,52908,52908,11,52936,52936,11,52964,52964,11,52992,52992,11,53020,53020,11,53048,53048,11,53076,53076,11,53104,53104,11,53132,53132,11,53160,53160,11,53188,53188,11,53216,53216,11,53244,53244,11,53272,53272,11,53300,53300,11,53328,53328,11,53356,53356,11,53384,53384,11,53412,53412,11,53440,53440,11,53468,53468,11,53496,53496,11,53524,53524,11,53552,53552,11,53580,53580,11,53608,53608,11,53636,53636,11,53664,53664,11,53692,53692,11,53720,53720,11,53748,53748,11,53776,53776,11,53804,53804,11,53832,53832,11,53860,53860,11,53888,53888,11,53916,53916,11,53944,53944,11,53972,53972,11,54000,54000,11,54028,54028,11,54056,54056,11,54084,54084,11,54112,54112,11,54140,54140,11,54168,54168,11,54196,54196,11,54224,54224,11,54252,54252,11,54280,54280,11,54308,54308,11,54336,54336,11,54364,54364,11,54392,54392,11,54420,54420,11,54448,54448,11,54476,54476,11,54504,54504,11,54532,54532,11,54560,54560,11,54588,54588,11,54616,54616,11,54644,54644,11,54672,54672,11,54700,54700,11,54728,54728,11,54756,54756,11,54784,54784,11,54812,54812,11,54840,54840,11,54868,54868,11,54896,54896,11,54924,54924,11,54952,54952,11,54980,54980,11,55008,55008,11,55036,55036,11,55064,55064,11,55092,55092,11,55120,55120,11,55148,55148,11,55176,55176,11,55216,55238,9,64286,64286,5,65056,65071,5,65438,65439,5,65529,65531,4,66272,66272,5,68097,68099,5,68108,68111,5,68159,68159,5,68900,68903,5,69446,69456,5,69632,69632,7,69634,69634,7,69744,69744,5,69759,69761,5,69808,69810,7,69815,69816,7,69821,69821,1,69837,69837,1,69927,69931,5,69933,69940,5,70003,70003,5,70018,70018,7,70070,70078,5,70082,70083,1,70094,70094,7,70188,70190,7,70194,70195,7,70197,70197,7,70206,70206,5,70368,70370,7,70400,70401,5,70459,70460,5,70463,70463,7,70465,70468,7,70475,70477,7,70498,70499,7,70512,70516,5,70712,70719,5,70722,70724,5,70726,70726,5,70832,70832,5,70835,70840,5,70842,70842,5,70845,70845,5,70847,70848,5,70850,70851,5,71088,71089,7,71096,71099,7,71102,71102,7,71132,71133,5,71219,71226,5,71229,71229,5,71231,71232,5,71340,71340,7,71342,71343,7,71350,71350,7,71453,71455,5,71462,71462,7,71724,71726,7,71736,71736,7,71984,71984,5,71991,71992,7,71997,71997,7,71999,71999,1,72001,72001,1,72003,72003,5,72148,72151,5,72156,72159,7,72164,72164,7,72243,72248,5,72250,72250,1,72263,72263,5,72279,72280,7,72324,72329,1,72343,72343,7,72751,72751,7,72760,72765,5,72767,72767,5,72873,72873,7,72881,72881,7,72884,72884,7,73009,73014,5,73020,73021,5,73030,73030,1,73098,73102,7,73107,73108,7,73110,73110,7,73459,73460,5,78896,78904,4,92976,92982,5,94033,94087,7,94180,94180,5,113821,113822,5,118528,118573,5,119141,119141,5,119143,119145,5,119150,119154,5,119163,119170,5,119210,119213,5,121344,121398,5,121461,121461,5,121499,121503,5,122880,122886,5,122907,122913,5,122918,122922,5,123566,123566,5,125136,125142,5,126976,126979,14,126981,127182,14,127184,127231,14,127279,127279,14,127344,127345,14,127374,127374,14,127405,127461,14,127489,127490,14,127514,127514,14,127538,127546,14,127561,127567,14,127570,127743,14,127757,127758,14,127760,127760,14,127762,127762,14,127766,127768,14,127770,127770,14,127772,127772,14,127775,127776,14,127778,127779,14,127789,127791,14,127794,127795,14,127798,127798,14,127819,127819,14,127824,127824,14,127868,127868,14,127870,127871,14,127892,127893,14,127896,127896,14,127900,127901,14,127904,127940,14,127942,127942,14,127944,127944,14,127946,127946,14,127951,127955,14,127968,127971,14,127973,127984,14,127987,127987,14,127989,127989,14,127991,127991,14,127995,127999,5,128008,128008,14,128012,128014,14,128017,128018,14,128020,128020,14,128022,128022,14,128042,128042,14,128063,128063,14,128065,128065,14,128101,128101,14,128108,128109,14,128173,128173,14,128182,128183,14,128236,128237,14,128239,128239,14,128245,128245,14,128248,128248,14,128253,128253,14,128255,128258,14,128260,128263,14,128265,128265,14,128277,128277,14,128300,128301,14,128326,128328,14,128331,128334,14,128336,128347,14,128360,128366,14,128369,128370,14,128378,128378,14,128391,128391,14,128394,128397,14,128400,128400,14,128405,128406,14,128420,128420,14,128422,128423,14,128425,128432,14,128435,128443,14,128445,128449,14,128453,128464,14,128468,128475,14,128479,128480,14,128482,128482,14,128484,128487,14,128489,128494,14,128496,128498,14,128500,128505,14,128507,128511,14,128513,128518,14,128521,128525,14,128527,128527,14,128529,128529,14,128533,128533,14,128535,128535,14,128537,128537,14]")}n(vn,"getGraphemeBreakRawData");function mn(Oe,$e){if(Oe===0)return 0;const i=pn(Oe,$e);if(i!==void 0)return i;const mt=new Xe($e,Oe);return mt.prevCodePoint(),mt.offset}n(mn,"getLeftDeleteOffset");function pn(Oe,$e){const i=new Xe($e,Oe);let mt=i.prevCodePoint();for(;dn(mt)||mt===65039||mt===8419;){if(i.offset===0)return;mt=i.prevCodePoint()}if(!ot(mt))return;let It=i.offset;return It>0&&i.prevCodePoint()===8205&&(It=i.offset),It}n(pn,"getOffsetBeforeLastEmojiComponent");function dn(Oe){return 127995<=Oe&&Oe<=127999}n(dn,"isEmojiModifier");const xn="\xA0",gn=class gn{static getInstance($e){return gn.cache.get(Array.from($e))}static getLocales(){return gn._locales.value}constructor($e){this.confusableDictionary=$e}isAmbiguous($e){return this.confusableDictionary.has($e)}getPrimaryConfusable($e){return this.confusableDictionary.get($e)}getConfusableCodePoints(){return new Set(this.confusableDictionary.keys())}};n(gn,"AmbiguousCharacters"),gn.ambiguousCharacterData=new ie.d(()=>JSON.parse('{"_common":[8232,32,8233,32,5760,32,8192,32,8193,32,8194,32,8195,32,8196,32,8197,32,8198,32,8200,32,8201,32,8202,32,8287,32,8199,32,8239,32,2042,95,65101,95,65102,95,65103,95,8208,45,8209,45,8210,45,65112,45,1748,45,8259,45,727,45,8722,45,10134,45,11450,45,1549,44,1643,44,8218,44,184,44,42233,44,894,59,2307,58,2691,58,1417,58,1795,58,1796,58,5868,58,65072,58,6147,58,6153,58,8282,58,1475,58,760,58,42889,58,8758,58,720,58,42237,58,451,33,11601,33,660,63,577,63,2429,63,5038,63,42731,63,119149,46,8228,46,1793,46,1794,46,42510,46,68176,46,1632,46,1776,46,42232,46,1373,96,65287,96,8219,96,8242,96,1370,96,1523,96,8175,96,65344,96,900,96,8189,96,8125,96,8127,96,8190,96,697,96,884,96,712,96,714,96,715,96,756,96,699,96,701,96,700,96,702,96,42892,96,1497,96,2036,96,2037,96,5194,96,5836,96,94033,96,94034,96,65339,91,10088,40,10098,40,12308,40,64830,40,65341,93,10089,41,10099,41,12309,41,64831,41,10100,123,119060,123,10101,125,65342,94,8270,42,1645,42,8727,42,66335,42,5941,47,8257,47,8725,47,8260,47,9585,47,10187,47,10744,47,119354,47,12755,47,12339,47,11462,47,20031,47,12035,47,65340,92,65128,92,8726,92,10189,92,10741,92,10745,92,119311,92,119355,92,12756,92,20022,92,12034,92,42872,38,708,94,710,94,5869,43,10133,43,66203,43,8249,60,10094,60,706,60,119350,60,5176,60,5810,60,5120,61,11840,61,12448,61,42239,61,8250,62,10095,62,707,62,119351,62,5171,62,94015,62,8275,126,732,126,8128,126,8764,126,65372,124,65293,45,120784,50,120794,50,120804,50,120814,50,120824,50,130034,50,42842,50,423,50,1000,50,42564,50,5311,50,42735,50,119302,51,120785,51,120795,51,120805,51,120815,51,120825,51,130035,51,42923,51,540,51,439,51,42858,51,11468,51,1248,51,94011,51,71882,51,120786,52,120796,52,120806,52,120816,52,120826,52,130036,52,5070,52,71855,52,120787,53,120797,53,120807,53,120817,53,120827,53,130037,53,444,53,71867,53,120788,54,120798,54,120808,54,120818,54,120828,54,130038,54,11474,54,5102,54,71893,54,119314,55,120789,55,120799,55,120809,55,120819,55,120829,55,130039,55,66770,55,71878,55,2819,56,2538,56,2666,56,125131,56,120790,56,120800,56,120810,56,120820,56,120830,56,130040,56,547,56,546,56,66330,56,2663,57,2920,57,2541,57,3437,57,120791,57,120801,57,120811,57,120821,57,120831,57,130041,57,42862,57,11466,57,71884,57,71852,57,71894,57,9082,97,65345,97,119834,97,119886,97,119938,97,119990,97,120042,97,120094,97,120146,97,120198,97,120250,97,120302,97,120354,97,120406,97,120458,97,593,97,945,97,120514,97,120572,97,120630,97,120688,97,120746,97,65313,65,119808,65,119860,65,119912,65,119964,65,120016,65,120068,65,120120,65,120172,65,120224,65,120276,65,120328,65,120380,65,120432,65,913,65,120488,65,120546,65,120604,65,120662,65,120720,65,5034,65,5573,65,42222,65,94016,65,66208,65,119835,98,119887,98,119939,98,119991,98,120043,98,120095,98,120147,98,120199,98,120251,98,120303,98,120355,98,120407,98,120459,98,388,98,5071,98,5234,98,5551,98,65314,66,8492,66,119809,66,119861,66,119913,66,120017,66,120069,66,120121,66,120173,66,120225,66,120277,66,120329,66,120381,66,120433,66,42932,66,914,66,120489,66,120547,66,120605,66,120663,66,120721,66,5108,66,5623,66,42192,66,66178,66,66209,66,66305,66,65347,99,8573,99,119836,99,119888,99,119940,99,119992,99,120044,99,120096,99,120148,99,120200,99,120252,99,120304,99,120356,99,120408,99,120460,99,7428,99,1010,99,11429,99,43951,99,66621,99,128844,67,71922,67,71913,67,65315,67,8557,67,8450,67,8493,67,119810,67,119862,67,119914,67,119966,67,120018,67,120174,67,120226,67,120278,67,120330,67,120382,67,120434,67,1017,67,11428,67,5087,67,42202,67,66210,67,66306,67,66581,67,66844,67,8574,100,8518,100,119837,100,119889,100,119941,100,119993,100,120045,100,120097,100,120149,100,120201,100,120253,100,120305,100,120357,100,120409,100,120461,100,1281,100,5095,100,5231,100,42194,100,8558,68,8517,68,119811,68,119863,68,119915,68,119967,68,120019,68,120071,68,120123,68,120175,68,120227,68,120279,68,120331,68,120383,68,120435,68,5024,68,5598,68,5610,68,42195,68,8494,101,65349,101,8495,101,8519,101,119838,101,119890,101,119942,101,120046,101,120098,101,120150,101,120202,101,120254,101,120306,101,120358,101,120410,101,120462,101,43826,101,1213,101,8959,69,65317,69,8496,69,119812,69,119864,69,119916,69,120020,69,120072,69,120124,69,120176,69,120228,69,120280,69,120332,69,120384,69,120436,69,917,69,120492,69,120550,69,120608,69,120666,69,120724,69,11577,69,5036,69,42224,69,71846,69,71854,69,66182,69,119839,102,119891,102,119943,102,119995,102,120047,102,120099,102,120151,102,120203,102,120255,102,120307,102,120359,102,120411,102,120463,102,43829,102,42905,102,383,102,7837,102,1412,102,119315,70,8497,70,119813,70,119865,70,119917,70,120021,70,120073,70,120125,70,120177,70,120229,70,120281,70,120333,70,120385,70,120437,70,42904,70,988,70,120778,70,5556,70,42205,70,71874,70,71842,70,66183,70,66213,70,66853,70,65351,103,8458,103,119840,103,119892,103,119944,103,120048,103,120100,103,120152,103,120204,103,120256,103,120308,103,120360,103,120412,103,120464,103,609,103,7555,103,397,103,1409,103,119814,71,119866,71,119918,71,119970,71,120022,71,120074,71,120126,71,120178,71,120230,71,120282,71,120334,71,120386,71,120438,71,1292,71,5056,71,5107,71,42198,71,65352,104,8462,104,119841,104,119945,104,119997,104,120049,104,120101,104,120153,104,120205,104,120257,104,120309,104,120361,104,120413,104,120465,104,1211,104,1392,104,5058,104,65320,72,8459,72,8460,72,8461,72,119815,72,119867,72,119919,72,120023,72,120179,72,120231,72,120283,72,120335,72,120387,72,120439,72,919,72,120494,72,120552,72,120610,72,120668,72,120726,72,11406,72,5051,72,5500,72,42215,72,66255,72,731,105,9075,105,65353,105,8560,105,8505,105,8520,105,119842,105,119894,105,119946,105,119998,105,120050,105,120102,105,120154,105,120206,105,120258,105,120310,105,120362,105,120414,105,120466,105,120484,105,618,105,617,105,953,105,8126,105,890,105,120522,105,120580,105,120638,105,120696,105,120754,105,1110,105,42567,105,1231,105,43893,105,5029,105,71875,105,65354,106,8521,106,119843,106,119895,106,119947,106,119999,106,120051,106,120103,106,120155,106,120207,106,120259,106,120311,106,120363,106,120415,106,120467,106,1011,106,1112,106,65322,74,119817,74,119869,74,119921,74,119973,74,120025,74,120077,74,120129,74,120181,74,120233,74,120285,74,120337,74,120389,74,120441,74,42930,74,895,74,1032,74,5035,74,5261,74,42201,74,119844,107,119896,107,119948,107,120000,107,120052,107,120104,107,120156,107,120208,107,120260,107,120312,107,120364,107,120416,107,120468,107,8490,75,65323,75,119818,75,119870,75,119922,75,119974,75,120026,75,120078,75,120130,75,120182,75,120234,75,120286,75,120338,75,120390,75,120442,75,922,75,120497,75,120555,75,120613,75,120671,75,120729,75,11412,75,5094,75,5845,75,42199,75,66840,75,1472,108,8739,73,9213,73,65512,73,1633,108,1777,73,66336,108,125127,108,120783,73,120793,73,120803,73,120813,73,120823,73,130033,73,65321,73,8544,73,8464,73,8465,73,119816,73,119868,73,119920,73,120024,73,120128,73,120180,73,120232,73,120284,73,120336,73,120388,73,120440,73,65356,108,8572,73,8467,108,119845,108,119897,108,119949,108,120001,108,120053,108,120105,73,120157,73,120209,73,120261,73,120313,73,120365,73,120417,73,120469,73,448,73,120496,73,120554,73,120612,73,120670,73,120728,73,11410,73,1030,73,1216,73,1493,108,1503,108,1575,108,126464,108,126592,108,65166,108,65165,108,1994,108,11599,73,5825,73,42226,73,93992,73,66186,124,66313,124,119338,76,8556,76,8466,76,119819,76,119871,76,119923,76,120027,76,120079,76,120131,76,120183,76,120235,76,120287,76,120339,76,120391,76,120443,76,11472,76,5086,76,5290,76,42209,76,93974,76,71843,76,71858,76,66587,76,66854,76,65325,77,8559,77,8499,77,119820,77,119872,77,119924,77,120028,77,120080,77,120132,77,120184,77,120236,77,120288,77,120340,77,120392,77,120444,77,924,77,120499,77,120557,77,120615,77,120673,77,120731,77,1018,77,11416,77,5047,77,5616,77,5846,77,42207,77,66224,77,66321,77,119847,110,119899,110,119951,110,120003,110,120055,110,120107,110,120159,110,120211,110,120263,110,120315,110,120367,110,120419,110,120471,110,1400,110,1404,110,65326,78,8469,78,119821,78,119873,78,119925,78,119977,78,120029,78,120081,78,120185,78,120237,78,120289,78,120341,78,120393,78,120445,78,925,78,120500,78,120558,78,120616,78,120674,78,120732,78,11418,78,42208,78,66835,78,3074,111,3202,111,3330,111,3458,111,2406,111,2662,111,2790,111,3046,111,3174,111,3302,111,3430,111,3664,111,3792,111,4160,111,1637,111,1781,111,65359,111,8500,111,119848,111,119900,111,119952,111,120056,111,120108,111,120160,111,120212,111,120264,111,120316,111,120368,111,120420,111,120472,111,7439,111,7441,111,43837,111,959,111,120528,111,120586,111,120644,111,120702,111,120760,111,963,111,120532,111,120590,111,120648,111,120706,111,120764,111,11423,111,4351,111,1413,111,1505,111,1607,111,126500,111,126564,111,126596,111,65259,111,65260,111,65258,111,65257,111,1726,111,64428,111,64429,111,64427,111,64426,111,1729,111,64424,111,64425,111,64423,111,64422,111,1749,111,3360,111,4125,111,66794,111,71880,111,71895,111,66604,111,1984,79,2534,79,2918,79,12295,79,70864,79,71904,79,120782,79,120792,79,120802,79,120812,79,120822,79,130032,79,65327,79,119822,79,119874,79,119926,79,119978,79,120030,79,120082,79,120134,79,120186,79,120238,79,120290,79,120342,79,120394,79,120446,79,927,79,120502,79,120560,79,120618,79,120676,79,120734,79,11422,79,1365,79,11604,79,4816,79,2848,79,66754,79,42227,79,71861,79,66194,79,66219,79,66564,79,66838,79,9076,112,65360,112,119849,112,119901,112,119953,112,120005,112,120057,112,120109,112,120161,112,120213,112,120265,112,120317,112,120369,112,120421,112,120473,112,961,112,120530,112,120544,112,120588,112,120602,112,120646,112,120660,112,120704,112,120718,112,120762,112,120776,112,11427,112,65328,80,8473,80,119823,80,119875,80,119927,80,119979,80,120031,80,120083,80,120187,80,120239,80,120291,80,120343,80,120395,80,120447,80,929,80,120504,80,120562,80,120620,80,120678,80,120736,80,11426,80,5090,80,5229,80,42193,80,66197,80,119850,113,119902,113,119954,113,120006,113,120058,113,120110,113,120162,113,120214,113,120266,113,120318,113,120370,113,120422,113,120474,113,1307,113,1379,113,1382,113,8474,81,119824,81,119876,81,119928,81,119980,81,120032,81,120084,81,120188,81,120240,81,120292,81,120344,81,120396,81,120448,81,11605,81,119851,114,119903,114,119955,114,120007,114,120059,114,120111,114,120163,114,120215,114,120267,114,120319,114,120371,114,120423,114,120475,114,43847,114,43848,114,7462,114,11397,114,43905,114,119318,82,8475,82,8476,82,8477,82,119825,82,119877,82,119929,82,120033,82,120189,82,120241,82,120293,82,120345,82,120397,82,120449,82,422,82,5025,82,5074,82,66740,82,5511,82,42211,82,94005,82,65363,115,119852,115,119904,115,119956,115,120008,115,120060,115,120112,115,120164,115,120216,115,120268,115,120320,115,120372,115,120424,115,120476,115,42801,115,445,115,1109,115,43946,115,71873,115,66632,115,65331,83,119826,83,119878,83,119930,83,119982,83,120034,83,120086,83,120138,83,120190,83,120242,83,120294,83,120346,83,120398,83,120450,83,1029,83,1359,83,5077,83,5082,83,42210,83,94010,83,66198,83,66592,83,119853,116,119905,116,119957,116,120009,116,120061,116,120113,116,120165,116,120217,116,120269,116,120321,116,120373,116,120425,116,120477,116,8868,84,10201,84,128872,84,65332,84,119827,84,119879,84,119931,84,119983,84,120035,84,120087,84,120139,84,120191,84,120243,84,120295,84,120347,84,120399,84,120451,84,932,84,120507,84,120565,84,120623,84,120681,84,120739,84,11430,84,5026,84,42196,84,93962,84,71868,84,66199,84,66225,84,66325,84,119854,117,119906,117,119958,117,120010,117,120062,117,120114,117,120166,117,120218,117,120270,117,120322,117,120374,117,120426,117,120478,117,42911,117,7452,117,43854,117,43858,117,651,117,965,117,120534,117,120592,117,120650,117,120708,117,120766,117,1405,117,66806,117,71896,117,8746,85,8899,85,119828,85,119880,85,119932,85,119984,85,120036,85,120088,85,120140,85,120192,85,120244,85,120296,85,120348,85,120400,85,120452,85,1357,85,4608,85,66766,85,5196,85,42228,85,94018,85,71864,85,8744,118,8897,118,65366,118,8564,118,119855,118,119907,118,119959,118,120011,118,120063,118,120115,118,120167,118,120219,118,120271,118,120323,118,120375,118,120427,118,120479,118,7456,118,957,118,120526,118,120584,118,120642,118,120700,118,120758,118,1141,118,1496,118,71430,118,43945,118,71872,118,119309,86,1639,86,1783,86,8548,86,119829,86,119881,86,119933,86,119985,86,120037,86,120089,86,120141,86,120193,86,120245,86,120297,86,120349,86,120401,86,120453,86,1140,86,11576,86,5081,86,5167,86,42719,86,42214,86,93960,86,71840,86,66845,86,623,119,119856,119,119908,119,119960,119,120012,119,120064,119,120116,119,120168,119,120220,119,120272,119,120324,119,120376,119,120428,119,120480,119,7457,119,1121,119,1309,119,1377,119,71434,119,71438,119,71439,119,43907,119,71919,87,71910,87,119830,87,119882,87,119934,87,119986,87,120038,87,120090,87,120142,87,120194,87,120246,87,120298,87,120350,87,120402,87,120454,87,1308,87,5043,87,5076,87,42218,87,5742,120,10539,120,10540,120,10799,120,65368,120,8569,120,119857,120,119909,120,119961,120,120013,120,120065,120,120117,120,120169,120,120221,120,120273,120,120325,120,120377,120,120429,120,120481,120,5441,120,5501,120,5741,88,9587,88,66338,88,71916,88,65336,88,8553,88,119831,88,119883,88,119935,88,119987,88,120039,88,120091,88,120143,88,120195,88,120247,88,120299,88,120351,88,120403,88,120455,88,42931,88,935,88,120510,88,120568,88,120626,88,120684,88,120742,88,11436,88,11613,88,5815,88,42219,88,66192,88,66228,88,66327,88,66855,88,611,121,7564,121,65369,121,119858,121,119910,121,119962,121,120014,121,120066,121,120118,121,120170,121,120222,121,120274,121,120326,121,120378,121,120430,121,120482,121,655,121,7935,121,43866,121,947,121,8509,121,120516,121,120574,121,120632,121,120690,121,120748,121,1199,121,4327,121,71900,121,65337,89,119832,89,119884,89,119936,89,119988,89,120040,89,120092,89,120144,89,120196,89,120248,89,120300,89,120352,89,120404,89,120456,89,933,89,978,89,120508,89,120566,89,120624,89,120682,89,120740,89,11432,89,1198,89,5033,89,5053,89,42220,89,94019,89,71844,89,66226,89,119859,122,119911,122,119963,122,120015,122,120067,122,120119,122,120171,122,120223,122,120275,122,120327,122,120379,122,120431,122,120483,122,7458,122,43923,122,71876,122,66293,90,71909,90,65338,90,8484,90,8488,90,119833,90,119885,90,119937,90,119989,90,120041,90,120197,90,120249,90,120301,90,120353,90,120405,90,120457,90,918,90,120493,90,120551,90,120609,90,120667,90,120725,90,5059,90,42204,90,71849,90,65282,34,65284,36,65285,37,65286,38,65290,42,65291,43,65294,46,65295,47,65296,48,65297,49,65298,50,65299,51,65300,52,65301,53,65302,54,65303,55,65304,56,65305,57,65308,60,65309,61,65310,62,65312,64,65316,68,65318,70,65319,71,65324,76,65329,81,65330,82,65333,85,65334,86,65335,87,65343,95,65346,98,65348,100,65350,102,65355,107,65357,109,65358,110,65361,113,65362,114,65364,116,65365,117,65367,119,65370,122,65371,123,65373,125,119846,109],"_default":[160,32,8211,45,65374,126,65306,58,65281,33,8216,96,8217,96,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"cs":[65374,126,65306,58,65281,33,8216,96,8217,96,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"de":[65374,126,65306,58,65281,33,8216,96,8217,96,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"es":[8211,45,65374,126,65306,58,65281,33,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"fr":[65374,126,65306,58,65281,33,8216,96,8245,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"it":[160,32,8211,45,65374,126,65306,58,65281,33,8216,96,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"ja":[8211,45,65306,58,65281,33,8216,96,8217,96,8245,96,180,96,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65292,44,65307,59],"ko":[8211,45,65374,126,65306,58,65281,33,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"pl":[65374,126,65306,58,65281,33,8216,96,8217,96,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"pt-BR":[65374,126,65306,58,65281,33,8216,96,8217,96,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"qps-ploc":[160,32,8211,45,65374,126,65306,58,65281,33,8216,96,8217,96,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"ru":[65374,126,65306,58,65281,33,8216,96,8217,96,8245,96,180,96,12494,47,305,105,921,73,1009,112,215,120,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"tr":[160,32,8211,45,65374,126,65306,58,65281,33,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"zh-hans":[65374,126,65306,58,65281,33,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65288,40,65289,41],"zh-hant":[8211,45,65374,126,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65307,59]}')),gn.cache=new F.o5({getCacheKey:JSON.stringify},$e=>{function i(St){const $t=new Map;for(let Zt=0;Zt<St.length;Zt+=2)$t.set(St[Zt],St[Zt+1]);return $t}n(i,"arrayToMap");function mt(St,$t){const Zt=new Map(St);for(const[cn,Nt]of $t)Zt.set(cn,Nt);return Zt}n(mt,"mergeMaps");function It(St,$t){if(!St)return $t;const Zt=new Map;for(const[cn,Nt]of St)$t.has(cn)&&Zt.set(cn,Nt);return Zt}n(It,"intersectMaps");const pt=gn.ambiguousCharacterData.value;let at=$e.filter(St=>!St.startsWith("_")&&St in pt);at.length===0&&(at=["_default"]);let xt;for(const St of at){const $t=i(pt[St]);xt=It(xt,$t)}const dt=i(pt._common),ut=mt(dt,xt);return new gn(ut)}),gn._locales=new ie.d(()=>Object.keys(gn.ambiguousCharacterData.value).filter($e=>!$e.startsWith("_")));let an=gn;const Tn=class Tn{static getRawData(){return JSON.parse("[9,10,11,12,13,32,127,160,173,847,1564,4447,4448,6068,6069,6155,6156,6157,6158,7355,7356,8192,8193,8194,8195,8196,8197,8198,8199,8200,8201,8202,8203,8204,8205,8206,8207,8234,8235,8236,8237,8238,8239,8287,8288,8289,8290,8291,8292,8293,8294,8295,8296,8297,8298,8299,8300,8301,8302,8303,10240,12288,12644,65024,65025,65026,65027,65028,65029,65030,65031,65032,65033,65034,65035,65036,65037,65038,65039,65279,65440,65520,65521,65522,65523,65524,65525,65526,65527,65528,65532,78844,119155,119156,119157,119158,119159,119160,119161,119162,917504,917505,917506,917507,917508,917509,917510,917511,917512,917513,917514,917515,917516,917517,917518,917519,917520,917521,917522,917523,917524,917525,917526,917527,917528,917529,917530,917531,917532,917533,917534,917535,917536,917537,917538,917539,917540,917541,917542,917543,917544,917545,917546,917547,917548,917549,917550,917551,917552,917553,917554,917555,917556,917557,917558,917559,917560,917561,917562,917563,917564,917565,917566,917567,917568,917569,917570,917571,917572,917573,917574,917575,917576,917577,917578,917579,917580,917581,917582,917583,917584,917585,917586,917587,917588,917589,917590,917591,917592,917593,917594,917595,917596,917597,917598,917599,917600,917601,917602,917603,917604,917605,917606,917607,917608,917609,917610,917611,917612,917613,917614,917615,917616,917617,917618,917619,917620,917621,917622,917623,917624,917625,917626,917627,917628,917629,917630,917631,917760,917761,917762,917763,917764,917765,917766,917767,917768,917769,917770,917771,917772,917773,917774,917775,917776,917777,917778,917779,917780,917781,917782,917783,917784,917785,917786,917787,917788,917789,917790,917791,917792,917793,917794,917795,917796,917797,917798,917799,917800,917801,917802,917803,917804,917805,917806,917807,917808,917809,917810,917811,917812,917813,917814,917815,917816,917817,917818,917819,917820,917821,917822,917823,917824,917825,917826,917827,917828,917829,917830,917831,917832,917833,917834,917835,917836,917837,917838,917839,917840,917841,917842,917843,917844,917845,917846,917847,917848,917849,917850,917851,917852,917853,917854,917855,917856,917857,917858,917859,917860,917861,917862,917863,917864,917865,917866,917867,917868,917869,917870,917871,917872,917873,917874,917875,917876,917877,917878,917879,917880,917881,917882,917883,917884,917885,917886,917887,917888,917889,917890,917891,917892,917893,917894,917895,917896,917897,917898,917899,917900,917901,917902,917903,917904,917905,917906,917907,917908,917909,917910,917911,917912,917913,917914,917915,917916,917917,917918,917919,917920,917921,917922,917923,917924,917925,917926,917927,917928,917929,917930,917931,917932,917933,917934,917935,917936,917937,917938,917939,917940,917941,917942,917943,917944,917945,917946,917947,917948,917949,917950,917951,917952,917953,917954,917955,917956,917957,917958,917959,917960,917961,917962,917963,917964,917965,917966,917967,917968,917969,917970,917971,917972,917973,917974,917975,917976,917977,917978,917979,917980,917981,917982,917983,917984,917985,917986,917987,917988,917989,917990,917991,917992,917993,917994,917995,917996,917997,917998,917999]")}static getData(){return this._data||(this._data=new Set(Tn.getRawData())),this._data}static isInvisibleCharacter($e){return Tn.getData().has($e)}static get codePoints(){return Tn.getData()}};n(Tn,"InvisibleCharacters"),Tn._data=void 0;let Rn=Tn},9359:(Lt,Pe,E)=>{"use strict";E.d(Pe,{Gv:n(()=>ie,"Gv"),Kg:n(()=>F,"Kg"),b0:n(()=>g,"b0"),z:n(()=>O,"z")});function F(U){return typeof U=="string"}n(F,"isString");function ie(U){return typeof U=="object"&&U!==null&&!Array.isArray(U)&&!(U instanceof RegExp)&&!(U instanceof Date)}n(ie,"isObject");function o(U){const v=Object.getPrototypeOf(Uint8Array);return typeof U=="object"&&U instanceof v}n(o,"isTypedArray");function K(U){return typeof U=="number"&&!isNaN(U)}n(K,"isNumber");function Q(U){return!!U&&typeof U[Symbol.iterator]=="function"}n(Q,"isIterable");function N(U){return U===!0||U===!1}n(N,"isBoolean");function g(U){return typeof U=="undefined"}n(g,"isUndefined");function Y(U){return!O(U)}n(Y,"isDefined");function O(U){return g(U)||U===null}n(O,"isUndefinedOrNull");function ne(U,v){if(!U)throw new Error(v?`Unexpected type, expected '${v}'`:"Unexpected type")}n(ne,"assertType");function B(U){if(O(U))throw new Error("Assertion Failed: argument is undefined or null");return U}n(B,"assertIsDefined");function $(U){return typeof U=="function"}n($,"isFunction");function j(U,v){const ce=Math.min(U.length,v.length);for(let J=0;J<ce;J++)z(U[J],v[J])}n(j,"validateConstraints");function z(U,v){if(F(v)){if(typeof U!==v)throw new Error(`argument does not match constraint: typeof ${v}`)}else if($(v)){try{if(U instanceof v)return}catch{}if(!O(U)&&U.constructor===v||v.length===1&&v.call(void 0,U)===!0)return;throw new Error("argument does not match one of these constraints: arg instanceof constraint, arg.constructor === constraint, nor constraint(arg) === true")}}n(z,"validateConstraint")},7512:(Lt,Pe,E)=>{"use strict";E.d(Pe,{W:n(()=>F,"W"),j:n(()=>ie,"j")});function F(o){return o<0?0:o>255?255:o|0}n(F,"toUint8");function ie(o){return o<0?0:o>4294967295?4294967295:o|0}n(ie,"toUint32")},7264:(Lt,Pe,E)=>{"use strict";E.d(Pe,{I:n(()=>J,"I"),r:n(()=>$,"r")});var F=E(4033),ie=E(3339);const o=/^\w[\w\d+.-]*$/,K=/^\//,Q=/^\/\//;function N(R,m){if(!R.scheme&&m)throw new Error(`[UriError]: Scheme is missing: {scheme: "", authority: "${R.authority}", path: "${R.path}", query: "${R.query}", fragment: "${R.fragment}"}`);if(R.scheme&&!o.test(R.scheme))throw new Error("[UriError]: Scheme contains illegal characters.");if(R.path){if(R.authority){if(!K.test(R.path))throw new Error('[UriError]: If a URI contains an authority component, then the path component must either be empty or begin with a slash ("/") character')}else if(Q.test(R.path))throw new Error('[UriError]: If a URI does not contain an authority component, then the path cannot begin with two slash characters ("//")')}}n(N,"_validateUri");function g(R,m){return!R&&!m?"file":R}n(g,"_schemeFix");function Y(R,m){switch(R){case"https":case"http":case"file":m?m[0]!==ne&&(m=ne+m):m=ne;break}return m}n(Y,"_referenceResolution");const O="",ne="/",B=/^(([^:/?#]+?):)?(\/\/([^/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?/,Ue=class Ue{static isUri(m){return m instanceof Ue?!0:m?typeof m.authority=="string"&&typeof m.fragment=="string"&&typeof m.path=="string"&&typeof m.query=="string"&&typeof m.scheme=="string"&&typeof m.fsPath=="string"&&typeof m.with=="function"&&typeof m.toString=="function":!1}constructor(m,_,b,I,P,V=!1){typeof m=="object"?(this.scheme=m.scheme||O,this.authority=m.authority||O,this.path=m.path||O,this.query=m.query||O,this.fragment=m.fragment||O):(this.scheme=g(m,V),this.authority=_||O,this.path=Y(this.scheme,b||O),this.query=I||O,this.fragment=P||O,N(this,V))}get fsPath(){return J(this,!1)}with(m){if(!m)return this;let{scheme:_,authority:b,path:I,query:P,fragment:V}=m;return _===void 0?_=this.scheme:_===null&&(_=O),b===void 0?b=this.authority:b===null&&(b=O),I===void 0?I=this.path:I===null&&(I=O),P===void 0?P=this.query:P===null&&(P=O),V===void 0?V=this.fragment:V===null&&(V=O),_===this.scheme&&b===this.authority&&I===this.path&&P===this.query&&V===this.fragment?this:new z(_,b,I,P,V)}static parse(m,_=!1){const b=B.exec(m);return b?new z(b[2]||O,we(b[4]||O),we(b[5]||O),we(b[7]||O),we(b[9]||O),_):new z(O,O,O,O,O)}static file(m){let _=O;if(ie.uF&&(m=m.replace(/\\/g,ne)),m[0]===ne&&m[1]===ne){const b=m.indexOf(ne,2);b===-1?(_=m.substring(2),m=ne):(_=m.substring(2,b),m=m.substring(b)||ne)}return new z("file",_,m,O,O)}static from(m,_){return new z(m.scheme,m.authority,m.path,m.query,m.fragment,_)}static joinPath(m,..._){if(!m.path)throw new Error("[UriError]: cannot call joinPath on URI without path");let b;return ie.uF&&m.scheme==="file"?b=Ue.file(F.IN.join(J(m,!0),..._)).path:b=F.SA.join(m.path,..._),m.with({path:b})}toString(m=!1){return y(this,m)}toJSON(){return this}static revive(m){var _,b;if(m){if(m instanceof Ue)return m;{const I=new z(m);return I._formatted=(_=m.external)!=null?_:null,I._fsPath=m._sep===j&&(b=m.fsPath)!=null?b:null,I}}else return m}};n(Ue,"URI");let $=Ue;const j=ie.uF?1:void 0,Ce=class Ce extends ${constructor(){super(...arguments),this._formatted=null,this._fsPath=null}get fsPath(){return this._fsPath||(this._fsPath=J(this,!1)),this._fsPath}toString(m=!1){return m?y(this,!0):(this._formatted||(this._formatted=y(this,!1)),this._formatted)}toJSON(){const m={$mid:1};return this._fsPath&&(m.fsPath=this._fsPath,m._sep=j),this._formatted&&(m.external=this._formatted),this.path&&(m.path=this.path),this.scheme&&(m.scheme=this.scheme),this.authority&&(m.authority=this.authority),this.query&&(m.query=this.query),this.fragment&&(m.fragment=this.fragment),m}};n(Ce,"Uri");let z=Ce;const U={58:"%3A",47:"%2F",63:"%3F",35:"%23",91:"%5B",93:"%5D",64:"%40",33:"%21",36:"%24",38:"%26",39:"%27",40:"%28",41:"%29",42:"%2A",43:"%2B",44:"%2C",59:"%3B",61:"%3D",32:"%20"};function v(R,m,_){let b,I=-1;for(let P=0;P<R.length;P++){const V=R.charCodeAt(P);if(V>=97&&V<=122||V>=65&&V<=90||V>=48&&V<=57||V===45||V===46||V===95||V===126||m&&V===47||_&&V===91||_&&V===93||_&&V===58)I!==-1&&(b+=encodeURIComponent(R.substring(I,P)),I=-1),b!==void 0&&(b+=R.charAt(P));else{b===void 0&&(b=R.substr(0,P));const ee=U[V];ee!==void 0?(I!==-1&&(b+=encodeURIComponent(R.substring(I,P)),I=-1),b+=ee):I===-1&&(I=P)}}return I!==-1&&(b+=encodeURIComponent(R.substring(I))),b!==void 0?b:R}n(v,"encodeURIComponentFast");function ce(R){let m;for(let _=0;_<R.length;_++){const b=R.charCodeAt(_);b===35||b===63?(m===void 0&&(m=R.substr(0,_)),m+=U[b]):m!==void 0&&(m+=R[_])}return m!==void 0?m:R}n(ce,"encodeURIComponentMinimal");function J(R,m){let _;return R.authority&&R.path.length>1&&R.scheme==="file"?_=`//${R.authority}${R.path}`:R.path.charCodeAt(0)===47&&(R.path.charCodeAt(1)>=65&&R.path.charCodeAt(1)<=90||R.path.charCodeAt(1)>=97&&R.path.charCodeAt(1)<=122)&&R.path.charCodeAt(2)===58?m?_=R.path.substr(1):_=R.path[1].toLowerCase()+R.path.substr(2):_=R.path,ie.uF&&(_=_.replace(/\//g,"\\")),_}n(J,"uriToFsPath");function y(R,m){const _=m?ce:v;let b="",{scheme:I,authority:P,path:V,query:ee,fragment:fe}=R;if(I&&(b+=I,b+=":"),(P||I==="file")&&(b+=ne,b+=ne),P){let ue=P.indexOf("@");if(ue!==-1){const Te=P.substr(0,ue);P=P.substr(ue+1),ue=Te.lastIndexOf(":"),ue===-1?b+=_(Te,!1,!1):(b+=_(Te.substr(0,ue),!1,!1),b+=":",b+=_(Te.substr(ue+1),!1,!0)),b+="@"}P=P.toLowerCase(),ue=P.lastIndexOf(":"),ue===-1?b+=_(P,!1,!0):(b+=_(P.substr(0,ue),!1,!0),b+=P.substr(ue))}if(V){if(V.length>=3&&V.charCodeAt(0)===47&&V.charCodeAt(2)===58){const ue=V.charCodeAt(1);ue>=65&&ue<=90&&(V=`/${String.fromCharCode(ue+32)}:${V.substr(3)}`)}else if(V.length>=2&&V.charCodeAt(1)===58){const ue=V.charCodeAt(0);ue>=65&&ue<=90&&(V=`${String.fromCharCode(ue+32)}:${V.substr(2)}`)}b+=_(V,!0,!1)}return ee&&(b+="?",b+=_(ee,!1,!1)),fe&&(b+="#",b+=m?fe:v(fe,!1,!1)),b}n(y,"_asFormatted");function W(R){try{return decodeURIComponent(R)}catch{return R.length>3?R.substr(0,3)+W(R.substr(3)):R}}n(W,"decodeURIComponentGraceful");const me=/(%[0-9A-Za-z][0-9A-Za-z])+/g;function we(R){return R.match(me)?R.replace(me,m=>W(m)):R}n(we,"percentDecode")},5585:(Lt,Pe,E)=>{"use strict";E.r(Pe),E.d(Pe,{SimpleWorkerClient:n(()=>J,"SimpleWorkerClient"),SimpleWorkerServer:n(()=>me,"SimpleWorkerServer"),create:n(()=>we,"create"),logOnceWebWorkerWarning:n(()=>B,"logOnceWebWorkerWarning")});var F=E(4327),ie=E(2106),o=E(9235),K=E(3072),Q=E(3339),N=E(6844);const g=!0,Y="default",O="$initialize";let ne=!1;function B(V){Q.HZ&&(ne||(ne=!0,console.warn("Could not create web worker(s). Falling back to loading web worker code in main thread, which might cause UI freezes. Please see https://github.com/microsoft/monaco-editor#faq")),console.warn(V.message))}n(B,"logOnceWebWorkerWarning");const Ue=class Ue{constructor(ee,fe,ue,Te,je){this.vsWorker=ee,this.req=fe,this.channel=ue,this.method=Te,this.args=je,this.type=0}};n(Ue,"RequestMessage");let $=Ue;const Ce=class Ce{constructor(ee,fe,ue,Te){this.vsWorker=ee,this.seq=fe,this.res=ue,this.err=Te,this.type=1}};n(Ce,"ReplyMessage");let j=Ce;const R=class R{constructor(ee,fe,ue,Te,je){this.vsWorker=ee,this.req=fe,this.channel=ue,this.eventName=Te,this.arg=je,this.type=2}};n(R,"SubscribeEventMessage");let z=R;const m=class m{constructor(ee,fe,ue){this.vsWorker=ee,this.req=fe,this.event=ue,this.type=3}};n(m,"EventMessage");let U=m;const _=class _{constructor(ee,fe){this.vsWorker=ee,this.req=fe,this.type=4}};n(_,"UnsubscribeEventMessage");let v=_;const b=class b{constructor(ee){this._workerId=-1,this._handler=ee,this._lastSentReq=0,this._pendingReplies=Object.create(null),this._pendingEmitters=new Map,this._pendingEvents=new Map}setWorkerId(ee){this._workerId=ee}sendMessage(ee,fe,ue){const Te=String(++this._lastSentReq);return new Promise((je,Xe)=>{this._pendingReplies[Te]={resolve:je,reject:Xe},this._send(new $(this._workerId,Te,ee,fe,ue))})}listen(ee,fe,ue){let Te=null;const je=new ie.vl({onWillAddFirstListener:n(()=>{Te=String(++this._lastSentReq),this._pendingEmitters.set(Te,je),this._send(new z(this._workerId,Te,ee,fe,ue))},"onWillAddFirstListener"),onDidRemoveLastListener:n(()=>{this._pendingEmitters.delete(Te),this._send(new v(this._workerId,Te)),Te=null},"onDidRemoveLastListener")});return je.event}handleMessage(ee){!ee||!ee.vsWorker||this._workerId!==-1&&ee.vsWorker!==this._workerId||this._handleMessage(ee)}createProxyToRemoteChannel(ee,fe){const ue={get:n((Te,je)=>(typeof je=="string"&&!Te[je]&&(W(je)?Te[je]=Xe=>this.listen(ee,je,Xe):y(je)?Te[je]=this.listen(ee,je,void 0):je.charCodeAt(0)===36&&(Te[je]=async(...Xe)=>(await(fe==null?void 0:fe()),this.sendMessage(ee,je,Xe)))),Te[je]),"get")};return new Proxy(Object.create(null),ue)}_handleMessage(ee){switch(ee.type){case 1:return this._handleReplyMessage(ee);case 0:return this._handleRequestMessage(ee);case 2:return this._handleSubscribeEventMessage(ee);case 3:return this._handleEventMessage(ee);case 4:return this._handleUnsubscribeEventMessage(ee)}}_handleReplyMessage(ee){if(!this._pendingReplies[ee.seq]){console.warn("Got reply to unknown seq");return}const fe=this._pendingReplies[ee.seq];if(delete this._pendingReplies[ee.seq],ee.err){let ue=ee.err;ee.err.$isError&&(ue=new Error,ue.name=ee.err.name,ue.message=ee.err.message,ue.stack=ee.err.stack),fe.reject(ue);return}fe.resolve(ee.res)}_handleRequestMessage(ee){const fe=ee.req;this._handler.handleMessage(ee.channel,ee.method,ee.args).then(Te=>{this._send(new j(this._workerId,fe,Te,void 0))},Te=>{Te.detail instanceof Error&&(Te.detail=(0,F.cU)(Te.detail)),this._send(new j(this._workerId,fe,void 0,(0,F.cU)(Te)))})}_handleSubscribeEventMessage(ee){const fe=ee.req,ue=this._handler.handleEvent(ee.channel,ee.eventName,ee.arg)(Te=>{this._send(new U(this._workerId,fe,Te))});this._pendingEvents.set(fe,ue)}_handleEventMessage(ee){if(!this._pendingEmitters.has(ee.req)){console.warn("Got event for unknown req");return}this._pendingEmitters.get(ee.req).fire(ee.event)}_handleUnsubscribeEventMessage(ee){if(!this._pendingEvents.has(ee.req)){console.warn("Got unsubscribe for unknown req");return}this._pendingEvents.get(ee.req).dispose(),this._pendingEvents.delete(ee.req)}_send(ee){const fe=[];if(ee.type===0)for(let ue=0;ue<ee.args.length;ue++)ee.args[ue]instanceof ArrayBuffer&&fe.push(ee.args[ue]);else ee.type===1&&ee.res instanceof ArrayBuffer&&fe.push(ee.res);this._handler.sendMessage(ee,fe)}};n(b,"SimpleWorkerProtocol");let ce=b;const I=class I extends o.jG{constructor(ee,fe){super(),this._localChannels=new Map,this._worker=this._register(ee.create({amdModuleId:"vs/base/common/worker/simpleWorker",esmModuleLocation:fe.esmModuleLocation,label:fe.label},je=>{this._protocol.handleMessage(je)},je=>{(0,F.dz)(je)})),this._protocol=new ce({sendMessage:n((je,Xe)=>{this._worker.postMessage(je,Xe)},"sendMessage"),handleMessage:n((je,Xe,We)=>this._handleMessage(je,Xe,We),"handleMessage"),handleEvent:n((je,Xe,We)=>this._handleEvent(je,Xe,We),"handleEvent")}),this._protocol.setWorkerId(this._worker.getId());let ue=null;const Te=globalThis.require;typeof Te!="undefined"&&typeof Te.getConfig=="function"?ue=Te.getConfig():typeof globalThis.requirejs!="undefined"&&(ue=globalThis.requirejs.s.contexts._.config),this._onModuleLoaded=this._protocol.sendMessage(Y,O,[this._worker.getId(),JSON.parse(JSON.stringify(ue)),fe.amdModuleId]),this.proxy=this._protocol.createProxyToRemoteChannel(Y,async()=>{await this._onModuleLoaded}),this._onModuleLoaded.catch(je=>{this._onError("Worker failed to load "+fe.amdModuleId,je)})}_handleMessage(ee,fe,ue){const Te=this._localChannels.get(ee);if(!Te)return Promise.reject(new Error(`Missing channel ${ee} on main thread`));if(typeof Te[fe]!="function")return Promise.reject(new Error(`Missing method ${fe} on main thread channel ${ee}`));try{return Promise.resolve(Te[fe].apply(Te,ue))}catch(je){return Promise.reject(je)}}_handleEvent(ee,fe,ue){const Te=this._localChannels.get(ee);if(!Te)throw new Error(`Missing channel ${ee} on main thread`);if(W(fe)){const je=Te[fe].call(Te,ue);if(typeof je!="function")throw new Error(`Missing dynamic event ${fe} on main thread channel ${ee}.`);return je}if(y(fe)){const je=Te[fe];if(typeof je!="function")throw new Error(`Missing event ${fe} on main thread channel ${ee}.`);return je}throw new Error(`Malformed event name ${fe}`)}setChannel(ee,fe){this._localChannels.set(ee,fe)}_onError(ee,fe){console.error(ee),console.info(fe)}};n(I,"SimpleWorkerClient");let J=I;function y(V){return V[0]==="o"&&V[1]==="n"&&N.Wv(V.charCodeAt(2))}n(y,"propertyIsEvent");function W(V){return/^onDynamic/.test(V)&&N.Wv(V.charCodeAt(9))}n(W,"propertyIsDynamicEvent");const P=class P{constructor(ee,fe){this._localChannels=new Map,this._remoteChannels=new Map,this._requestHandlerFactory=fe,this._requestHandler=null,this._protocol=new ce({sendMessage:n((ue,Te)=>{ee(ue,Te)},"sendMessage"),handleMessage:n((ue,Te,je)=>this._handleMessage(ue,Te,je),"handleMessage"),handleEvent:n((ue,Te,je)=>this._handleEvent(ue,Te,je),"handleEvent")})}onmessage(ee){this._protocol.handleMessage(ee)}_handleMessage(ee,fe,ue){if(ee===Y&&fe===O)return this.initialize(ue[0],ue[1],ue[2]);const Te=ee===Y?this._requestHandler:this._localChannels.get(ee);if(!Te)return Promise.reject(new Error(`Missing channel ${ee} on worker thread`));if(typeof Te[fe]!="function")return Promise.reject(new Error(`Missing method ${fe} on worker thread channel ${ee}`));try{return Promise.resolve(Te[fe].apply(Te,ue))}catch(je){return Promise.reject(je)}}_handleEvent(ee,fe,ue){const Te=ee===Y?this._requestHandler:this._localChannels.get(ee);if(!Te)throw new Error(`Missing channel ${ee} on worker thread`);if(W(fe)){const je=Te[fe].call(Te,ue);if(typeof je!="function")throw new Error(`Missing dynamic event ${fe} on request handler.`);return je}if(y(fe)){const je=Te[fe];if(typeof je!="function")throw new Error(`Missing event ${fe} on request handler.`);return je}throw new Error(`Malformed event name ${fe}`)}getChannel(ee){if(!this._remoteChannels.has(ee)){const fe=this._protocol.createProxyToRemoteChannel(ee);this._remoteChannels.set(ee,fe)}return this._remoteChannels.get(ee)}async initialize(ee,fe,ue){if(this._protocol.setWorkerId(ee),this._requestHandlerFactory){this._requestHandler=this._requestHandlerFactory(this);return}if(fe&&(typeof fe.baseUrl!="undefined"&&delete fe.baseUrl,typeof fe.paths!="undefined"&&typeof fe.paths.vs!="undefined"&&delete fe.paths.vs,typeof fe.trustedTypesPolicy!="undefined"&&delete fe.trustedTypesPolicy,fe.catchError=!0,globalThis.require.config(fe)),g){const Te=K.zl.asBrowserUri(`${ue}.js`).toString(!0);return E(5890)(`${Te}`).then(je=>{if(this._requestHandler=je.create(this),!this._requestHandler)throw new Error("No RequestHandler!")})}return new Promise((Te,je)=>{const Xe=globalThis.require;Xe([ue],We=>{if(this._requestHandler=We.create(this),!this._requestHandler){je(new Error("No RequestHandler!"));return}Te()},je)})}};n(P,"SimpleWorkerServer");let me=P;function we(V){return new me(V,null)}n(we,"create")},5890:(Lt,Pe,E)=>{var F={"./simpleWorker":5585,"./simpleWorker.js":5585};function ie(o){return Promise.resolve().then(()=>{if(!E.o(F,o)){var K=new Error("Cannot find module '"+o+"'");throw K.code="MODULE_NOT_FOUND",K}var Q=F[o];return E(Q)})}n(ie,"webpackAsyncContext"),ie.keys=()=>Object.keys(F),ie.id=5890,Lt.exports=ie},7454:(Lt,Pe,E)=>{"use strict";E.d(Pe,{V:n(()=>ie,"V")});var F=E(7512);const K=class K{constructor(g){const Y=(0,F.W)(g);this._defaultValue=Y,this._asciiMap=K._createAsciiMap(Y),this._map=new Map}static _createAsciiMap(g){const Y=new Uint8Array(256);return Y.fill(g),Y}set(g,Y){const O=(0,F.W)(Y);g>=0&&g<256?this._asciiMap[g]=O:this._map.set(g,O)}get(g){return g>=0&&g<256?this._asciiMap[g]:this._map.get(g)||this._defaultValue}clear(){this._asciiMap.fill(this._defaultValue),this._map.clear()}};n(K,"CharacterClassifier");let ie=K;const Q=class Q{constructor(){this._actual=new ie(0)}add(g){this._actual.set(g,1)}has(g){return this._actual.get(g)===1}clear(){return this._actual.clear()}};n(Q,"CharacterSet");let o=Q},8295:(Lt,Pe,E)=>{"use strict";E.d(Pe,{AQ:n(()=>nn,"AQ"),aZ:n(()=>kt,"aZ"),l5:n(()=>_n,"l5"),lQ:n(()=>Dn,"lQ"),s7:n(()=>pn,"s7"),sH:n(()=>vn,"sH"),sN:n(()=>Ut,"sN"),ss:n(()=>En,"ss"),yI:n(()=>ot,"yI"),zp:n(()=>mn,"zp")});var F=E(9746),ie=E(4901),o=E(61),K=E(5295);const Q=(0,o.x1A)("editor.lineHighlightBackground",null,F.kg("lineHighlight","Background color for the highlight of line at the cursor position.")),N=(0,o.x1A)("editor.lineHighlightBorder",{dark:"#282828",light:"#eeeeee",hcDark:"#f38518",hcLight:o.b1q},F.kg("lineHighlightBorderBox","Background color for the border around the line at the cursor position.")),g=(0,o.x1A)("editor.rangeHighlightBackground",{dark:"#ffffff0b",light:"#fdff0033",hcDark:null,hcLight:null},F.kg("rangeHighlight","Background color of highlighted ranges, like by quick open and find features. The color must not be opaque so as not to hide underlying decorations."),!0),Y=(0,o.x1A)("editor.rangeHighlightBorder",{dark:null,light:null,hcDark:o.buw,hcLight:o.buw},F.kg("rangeHighlightBorder","Background color of the border around highlighted ranges.")),O=(0,o.x1A)("editor.symbolHighlightBackground",{dark:o.Ubg,light:o.Ubg,hcDark:null,hcLight:null},F.kg("symbolHighlight","Background color of highlighted symbol, like for go to definition or go next/previous symbol. The color must not be opaque so as not to hide underlying decorations."),!0),ne=(0,o.x1A)("editor.symbolHighlightBorder",{dark:null,light:null,hcDark:o.buw,hcLight:o.buw},F.kg("symbolHighlightBorder","Background color of the border around highlighted symbols.")),B=(0,o.x1A)("editorCursor.foreground",{dark:"#AEAFAD",light:ie.Q1.black,hcDark:ie.Q1.white,hcLight:"#0F4A85"},F.kg("caret","Color of the editor cursor.")),$=(0,o.x1A)("editorCursor.background",null,F.kg("editorCursorBackground","The background color of the editor cursor. Allows customizing the color of a character overlapped by a block cursor.")),j=(0,o.x1A)("editorMultiCursor.primary.foreground",B,F.kg("editorMultiCursorPrimaryForeground","Color of the primary editor cursor when multiple cursors are present.")),z=(0,o.x1A)("editorMultiCursor.primary.background",$,F.kg("editorMultiCursorPrimaryBackground","The background color of the primary editor cursor when multiple cursors are present. Allows customizing the color of a character overlapped by a block cursor.")),U=(0,o.x1A)("editorMultiCursor.secondary.foreground",B,F.kg("editorMultiCursorSecondaryForeground","Color of secondary editor cursors when multiple cursors are present.")),v=(0,o.x1A)("editorMultiCursor.secondary.background",$,F.kg("editorMultiCursorSecondaryBackground","The background color of secondary editor cursors when multiple cursors are present. Allows customizing the color of a character overlapped by a block cursor.")),ce=(0,o.x1A)("editorWhitespace.foreground",{dark:"#e3e4e229",light:"#33333333",hcDark:"#e3e4e229",hcLight:"#CCCCCC"},F.kg("editorWhitespaces","Color of whitespace characters in the editor.")),J=(0,o.x1A)("editorLineNumber.foreground",{dark:"#858585",light:"#237893",hcDark:ie.Q1.white,hcLight:"#292929"},F.kg("editorLineNumbers","Color of editor line numbers.")),y=(0,o.x1A)("editorIndentGuide.background",ce,F.kg("editorIndentGuides","Color of the editor indentation guides."),!1,F.kg("deprecatedEditorIndentGuides","'editorIndentGuide.background' is deprecated. Use 'editorIndentGuide.background1' instead.")),W=(0,o.x1A)("editorIndentGuide.activeBackground",ce,F.kg("editorActiveIndentGuide","Color of the active editor indentation guides."),!1,F.kg("deprecatedEditorActiveIndentGuide","'editorIndentGuide.activeBackground' is deprecated. Use 'editorIndentGuide.activeBackground1' instead.")),me=(0,o.x1A)("editorIndentGuide.background1",y,F.kg("editorIndentGuides1","Color of the editor indentation guides (1).")),we=(0,o.x1A)("editorIndentGuide.background2","#00000000",F.kg("editorIndentGuides2","Color of the editor indentation guides (2).")),Ue=(0,o.x1A)("editorIndentGuide.background3","#00000000",F.kg("editorIndentGuides3","Color of the editor indentation guides (3).")),Ce=(0,o.x1A)("editorIndentGuide.background4","#00000000",F.kg("editorIndentGuides4","Color of the editor indentation guides (4).")),R=(0,o.x1A)("editorIndentGuide.background5","#00000000",F.kg("editorIndentGuides5","Color of the editor indentation guides (5).")),m=(0,o.x1A)("editorIndentGuide.background6","#00000000",F.kg("editorIndentGuides6","Color of the editor indentation guides (6).")),_=(0,o.x1A)("editorIndentGuide.activeBackground1",W,F.kg("editorActiveIndentGuide1","Color of the active editor indentation guides (1).")),b=(0,o.x1A)("editorIndentGuide.activeBackground2","#00000000",F.kg("editorActiveIndentGuide2","Color of the active editor indentation guides (2).")),I=(0,o.x1A)("editorIndentGuide.activeBackground3","#00000000",F.kg("editorActiveIndentGuide3","Color of the active editor indentation guides (3).")),P=(0,o.x1A)("editorIndentGuide.activeBackground4","#00000000",F.kg("editorActiveIndentGuide4","Color of the active editor indentation guides (4).")),V=(0,o.x1A)("editorIndentGuide.activeBackground5","#00000000",F.kg("editorActiveIndentGuide5","Color of the active editor indentation guides (5).")),ee=(0,o.x1A)("editorIndentGuide.activeBackground6","#00000000",F.kg("editorActiveIndentGuide6","Color of the active editor indentation guides (6).")),fe=(0,o.x1A)("editorActiveLineNumber.foreground",{dark:"#c6c6c6",light:"#0B216F",hcDark:o.buw,hcLight:o.buw},F.kg("editorActiveLineNumber","Color of editor active line number"),!1,F.kg("deprecatedEditorActiveLineNumber","Id is deprecated. Use 'editorLineNumber.activeForeground' instead.")),ue=(0,o.x1A)("editorLineNumber.activeForeground",fe,F.kg("editorActiveLineNumber","Color of editor active line number")),Te=(0,o.x1A)("editorLineNumber.dimmedForeground",null,F.kg("editorDimmedLineNumber","Color of the final editor line when editor.renderFinalNewline is set to dimmed.")),je=(0,o.x1A)("editorRuler.foreground",{dark:"#5A5A5A",light:ie.Q1.lightgrey,hcDark:ie.Q1.white,hcLight:"#292929"},F.kg("editorRuler","Color of the editor rulers.")),Xe=(0,o.x1A)("editorCodeLens.foreground",{dark:"#999999",light:"#919191",hcDark:"#999999",hcLight:"#292929"},F.kg("editorCodeLensForeground","Foreground color of editor CodeLens")),We=(0,o.x1A)("editorBracketMatch.background",{dark:"#0064001a",light:"#0064001a",hcDark:"#0064001a",hcLight:"#0000"},F.kg("editorBracketMatchBackground","Background color behind matching brackets")),A=(0,o.x1A)("editorBracketMatch.border",{dark:"#888",light:"#B9B9B9",hcDark:o.b1q,hcLight:o.b1q},F.kg("editorBracketMatchBorder","Color for matching brackets boxes")),M=(0,o.x1A)("editorOverviewRuler.border",{dark:"#7f7f7f4d",light:"#7f7f7f4d",hcDark:"#7f7f7f4d",hcLight:"#666666"},F.kg("editorOverviewRulerBorder","Color of the overview ruler border.")),G=(0,o.x1A)("editorOverviewRuler.background",null,F.kg("editorOverviewRulerBackground","Background color of the editor overview ruler.")),w=(0,o.x1A)("editorGutter.background",o.YtV,F.kg("editorGutter","Background color of the editor gutter. The gutter contains the glyph margins and the line numbers.")),D=(0,o.x1A)("editorUnnecessaryCode.border",{dark:null,light:null,hcDark:ie.Q1.fromHex("#fff").transparent(.8),hcLight:o.b1q},F.kg("unnecessaryCodeBorder","Border color of unnecessary (unused) source code in the editor.")),Z=(0,o.x1A)("editorUnnecessaryCode.opacity",{dark:ie.Q1.fromHex("#000a"),light:ie.Q1.fromHex("#0007"),hcDark:null,hcLight:null},F.kg("unnecessaryCodeOpacity",`Opacity of unnecessary (unused) source code in the editor. For example, "#000000c0" will render the code with 75% opacity. For high contrast themes, use the  'editorUnnecessaryCode.border' theme color to underline unnecessary code instead of fading it out.`)),he=(0,o.x1A)("editorGhostText.border",{dark:null,light:null,hcDark:ie.Q1.fromHex("#fff").transparent(.8),hcLight:ie.Q1.fromHex("#292929").transparent(.8)},F.kg("editorGhostTextBorder","Border color of ghost text in the editor.")),ye=(0,o.x1A)("editorGhostText.foreground",{dark:ie.Q1.fromHex("#ffffff56"),light:ie.Q1.fromHex("#0007"),hcDark:null,hcLight:null},F.kg("editorGhostTextForeground","Foreground color of the ghost text in the editor.")),He=(0,o.x1A)("editorGhostText.background",null,F.kg("editorGhostTextBackground","Background color of the ghost text in the editor.")),Ve=new ie.Q1(new ie.bU(0,122,204,.6)),ft=(0,o.x1A)("editorOverviewRuler.rangeHighlightForeground",Ve,F.kg("overviewRulerRangeHighlight","Overview ruler marker color for range highlights. The color must not be opaque so as not to hide underlying decorations."),!0),ot=(0,o.x1A)("editorOverviewRuler.errorForeground",{dark:new ie.Q1(new ie.bU(255,18,18,.7)),light:new ie.Q1(new ie.bU(255,18,18,.7)),hcDark:new ie.Q1(new ie.bU(255,50,50,1)),hcLight:"#B5200D"},F.kg("overviewRuleError","Overview ruler marker color for errors.")),kt=(0,o.x1A)("editorOverviewRuler.warningForeground",{dark:o.Hng,light:o.Hng,hcDark:o.Stt,hcLight:o.Stt},F.kg("overviewRuleWarning","Overview ruler marker color for warnings.")),nn=(0,o.x1A)("editorOverviewRuler.infoForeground",{dark:o.pOz,light:o.pOz,hcDark:o.IIb,hcLight:o.IIb},F.kg("overviewRuleInfo","Overview ruler marker color for infos.")),Ut=(0,o.x1A)("editorBracketHighlight.foreground1",{dark:"#FFD700",light:"#0431FAFF",hcDark:"#FFD700",hcLight:"#0431FAFF"},F.kg("editorBracketHighlightForeground1","Foreground color of brackets (1). Requires enabling bracket pair colorization.")),Dn=(0,o.x1A)("editorBracketHighlight.foreground2",{dark:"#DA70D6",light:"#319331FF",hcDark:"#DA70D6",hcLight:"#319331FF"},F.kg("editorBracketHighlightForeground2","Foreground color of brackets (2). Requires enabling bracket pair colorization.")),En=(0,o.x1A)("editorBracketHighlight.foreground3",{dark:"#179FFF",light:"#7B3814FF",hcDark:"#87CEFA",hcLight:"#7B3814FF"},F.kg("editorBracketHighlightForeground3","Foreground color of brackets (3). Requires enabling bracket pair colorization.")),_n=(0,o.x1A)("editorBracketHighlight.foreground4","#00000000",F.kg("editorBracketHighlightForeground4","Foreground color of brackets (4). Requires enabling bracket pair colorization.")),vn=(0,o.x1A)("editorBracketHighlight.foreground5","#00000000",F.kg("editorBracketHighlightForeground5","Foreground color of brackets (5). Requires enabling bracket pair colorization.")),mn=(0,o.x1A)("editorBracketHighlight.foreground6","#00000000",F.kg("editorBracketHighlightForeground6","Foreground color of brackets (6). Requires enabling bracket pair colorization.")),pn=(0,o.x1A)("editorBracketHighlight.unexpectedBracket.foreground",{dark:new ie.Q1(new ie.bU(255,18,18,.8)),light:new ie.Q1(new ie.bU(255,18,18,.8)),hcDark:"new Color(new RGBA(255, 50, 50, 1))",hcLight:"#B5200D"},F.kg("editorBracketHighlightUnexpectedBracketForeground","Foreground color of unexpected brackets.")),dn=(0,o.x1A)("editorBracketPairGuide.background1","#00000000",F.kg("editorBracketPairGuide.background1","Background color of inactive bracket pair guides (1). Requires enabling bracket pair guides.")),xn=(0,o.x1A)("editorBracketPairGuide.background2","#00000000",F.kg("editorBracketPairGuide.background2","Background color of inactive bracket pair guides (2). Requires enabling bracket pair guides.")),an=(0,o.x1A)("editorBracketPairGuide.background3","#00000000",F.kg("editorBracketPairGuide.background3","Background color of inactive bracket pair guides (3). Requires enabling bracket pair guides.")),Rn=(0,o.x1A)("editorBracketPairGuide.background4","#00000000",F.kg("editorBracketPairGuide.background4","Background color of inactive bracket pair guides (4). Requires enabling bracket pair guides.")),wn=(0,o.x1A)("editorBracketPairGuide.background5","#00000000",F.kg("editorBracketPairGuide.background5","Background color of inactive bracket pair guides (5). Requires enabling bracket pair guides.")),Fn=(0,o.x1A)("editorBracketPairGuide.background6","#00000000",F.kg("editorBracketPairGuide.background6","Background color of inactive bracket pair guides (6). Requires enabling bracket pair guides.")),An=(0,o.x1A)("editorBracketPairGuide.activeBackground1","#00000000",F.kg("editorBracketPairGuide.activeBackground1","Background color of active bracket pair guides (1). Requires enabling bracket pair guides.")),gn=(0,o.x1A)("editorBracketPairGuide.activeBackground2","#00000000",F.kg("editorBracketPairGuide.activeBackground2","Background color of active bracket pair guides (2). Requires enabling bracket pair guides.")),Tn=(0,o.x1A)("editorBracketPairGuide.activeBackground3","#00000000",F.kg("editorBracketPairGuide.activeBackground3","Background color of active bracket pair guides (3). Requires enabling bracket pair guides.")),Oe=(0,o.x1A)("editorBracketPairGuide.activeBackground4","#00000000",F.kg("editorBracketPairGuide.activeBackground4","Background color of active bracket pair guides (4). Requires enabling bracket pair guides.")),$e=(0,o.x1A)("editorBracketPairGuide.activeBackground5","#00000000",F.kg("editorBracketPairGuide.activeBackground5","Background color of active bracket pair guides (5). Requires enabling bracket pair guides.")),i=(0,o.x1A)("editorBracketPairGuide.activeBackground6","#00000000",F.kg("editorBracketPairGuide.activeBackground6","Background color of active bracket pair guides (6). Requires enabling bracket pair guides.")),mt=(0,o.x1A)("editorUnicodeHighlight.border",o.Hng,F.kg("editorUnicodeHighlight.border","Border color used to highlight unicode characters.")),It=(0,o.x1A)("editorUnicodeHighlight.background",o.whs,F.kg("editorUnicodeHighlight.background","Background color used to highlight unicode characters."));(0,K.zy)((pt,at)=>{const xt=pt.getColor(o.YtV),dt=pt.getColor(Q),ut=dt&&!dt.isTransparent()?dt:xt;ut&&at.addRule(`.monaco-editor .inputarea.ime-input { background-color: ${ut}; }`)})},3902:(Lt,Pe,E)=>{"use strict";E.d(Pe,{W:n(()=>F,"W")});function F(ie){let o=0,K=0,Q=0,N=0;for(let g=0,Y=ie.length;g<Y;g++){const O=ie.charCodeAt(g);O===13?(o===0&&(K=g),o++,g+1<Y&&ie.charCodeAt(g+1)===10?(N|=2,g++):N|=3,Q=g+1):O===10&&(N|=1,o===0&&(K=g),o++,Q=g+1)}return o===0&&(K=ie.length),[o,K,ie.length-Q,N]}n(F,"countEOL")},9955:(Lt,Pe,E)=>{"use strict";E.d(Pe,{M:n(()=>Q,"M"),S:n(()=>N,"S")});var F=E(4327),ie=E(2532),o=E(8061),K=E(7393);const g=class g{static fromRangeInclusive(ne){return new g(ne.startLineNumber,ne.endLineNumber+1)}static joinMany(ne){if(ne.length===0)return[];let B=new N(ne[0].slice());for(let $=1;$<ne.length;$++)B=B.getUnion(new N(ne[$].slice()));return B.ranges}static join(ne){if(ne.length===0)throw new F.D7("lineRanges cannot be empty");let B=ne[0].startLineNumber,$=ne[0].endLineNumberExclusive;for(let j=1;j<ne.length;j++)B=Math.min(B,ne[j].startLineNumber),$=Math.max($,ne[j].endLineNumberExclusive);return new g(B,$)}static ofLength(ne,B){return new g(ne,ne+B)}static deserialize(ne){return new g(ne[0],ne[1])}constructor(ne,B){if(ne>B)throw new F.D7(`startLineNumber ${ne} cannot be after endLineNumberExclusive ${B}`);this.startLineNumber=ne,this.endLineNumberExclusive=B}contains(ne){return this.startLineNumber<=ne&&ne<this.endLineNumberExclusive}get isEmpty(){return this.startLineNumber===this.endLineNumberExclusive}delta(ne){return new g(this.startLineNumber+ne,this.endLineNumberExclusive+ne)}deltaLength(ne){return new g(this.startLineNumber,this.endLineNumberExclusive+ne)}get length(){return this.endLineNumberExclusive-this.startLineNumber}join(ne){return new g(Math.min(this.startLineNumber,ne.startLineNumber),Math.max(this.endLineNumberExclusive,ne.endLineNumberExclusive))}toString(){return`[${this.startLineNumber},${this.endLineNumberExclusive})`}intersect(ne){const B=Math.max(this.startLineNumber,ne.startLineNumber),$=Math.min(this.endLineNumberExclusive,ne.endLineNumberExclusive);if(B<=$)return new g(B,$)}intersectsStrict(ne){return this.startLineNumber<ne.endLineNumberExclusive&&ne.startLineNumber<this.endLineNumberExclusive}overlapOrTouch(ne){return this.startLineNumber<=ne.endLineNumberExclusive&&ne.startLineNumber<=this.endLineNumberExclusive}equals(ne){return this.startLineNumber===ne.startLineNumber&&this.endLineNumberExclusive===ne.endLineNumberExclusive}toInclusiveRange(){return this.isEmpty?null:new o.Q(this.startLineNumber,1,this.endLineNumberExclusive-1,Number.MAX_SAFE_INTEGER)}toExclusiveRange(){return new o.Q(this.startLineNumber,1,this.endLineNumberExclusive,1)}mapToLineArray(ne){const B=[];for(let $=this.startLineNumber;$<this.endLineNumberExclusive;$++)B.push(ne($));return B}forEach(ne){for(let B=this.startLineNumber;B<this.endLineNumberExclusive;B++)ne(B)}serialize(){return[this.startLineNumber,this.endLineNumberExclusive]}includes(ne){return this.startLineNumber<=ne&&ne<this.endLineNumberExclusive}toOffsetRange(){return new ie.L(this.startLineNumber-1,this.endLineNumberExclusive-1)}};n(g,"LineRange");let Q=g;const Y=class Y{constructor(ne=[]){this._normalizedRanges=ne}get ranges(){return this._normalizedRanges}addRange(ne){if(ne.length===0)return;const B=(0,K.hw)(this._normalizedRanges,j=>j.endLineNumberExclusive>=ne.startLineNumber),$=(0,K.iM)(this._normalizedRanges,j=>j.startLineNumber<=ne.endLineNumberExclusive)+1;if(B===$)this._normalizedRanges.splice(B,0,ne);else if(B===$-1){const j=this._normalizedRanges[B];this._normalizedRanges[B]=j.join(ne)}else{const j=this._normalizedRanges[B].join(this._normalizedRanges[$-1]).join(ne);this._normalizedRanges.splice(B,$-B,j)}}contains(ne){const B=(0,K.lx)(this._normalizedRanges,$=>$.startLineNumber<=ne);return!!B&&B.endLineNumberExclusive>ne}intersects(ne){const B=(0,K.lx)(this._normalizedRanges,$=>$.startLineNumber<ne.endLineNumberExclusive);return!!B&&B.endLineNumberExclusive>ne.startLineNumber}getUnion(ne){if(this._normalizedRanges.length===0)return ne;if(ne._normalizedRanges.length===0)return this;const B=[];let $=0,j=0,z=null;for(;$<this._normalizedRanges.length||j<ne._normalizedRanges.length;){let U=null;if($<this._normalizedRanges.length&&j<ne._normalizedRanges.length){const v=this._normalizedRanges[$],ce=ne._normalizedRanges[j];v.startLineNumber<ce.startLineNumber?(U=v,$++):(U=ce,j++)}else $<this._normalizedRanges.length?(U=this._normalizedRanges[$],$++):(U=ne._normalizedRanges[j],j++);z===null?z=U:z.endLineNumberExclusive>=U.startLineNumber?z=new Q(z.startLineNumber,Math.max(z.endLineNumberExclusive,U.endLineNumberExclusive)):(B.push(z),z=U)}return z!==null&&B.push(z),new Y(B)}subtractFrom(ne){const B=(0,K.hw)(this._normalizedRanges,U=>U.endLineNumberExclusive>=ne.startLineNumber),$=(0,K.iM)(this._normalizedRanges,U=>U.startLineNumber<=ne.endLineNumberExclusive)+1;if(B===$)return new Y([ne]);const j=[];let z=ne.startLineNumber;for(let U=B;U<$;U++){const v=this._normalizedRanges[U];v.startLineNumber>z&&j.push(new Q(z,v.startLineNumber)),z=v.endLineNumberExclusive}return z<ne.endLineNumberExclusive&&j.push(new Q(z,ne.endLineNumberExclusive)),new Y(j)}toString(){return this._normalizedRanges.map(ne=>ne.toString()).join(", ")}getIntersection(ne){const B=[];let $=0,j=0;for(;$<this._normalizedRanges.length&&j<ne._normalizedRanges.length;){const z=this._normalizedRanges[$],U=ne._normalizedRanges[j],v=z.intersect(U);v&&!v.isEmpty&&B.push(v),z.endLineNumberExclusive<U.endLineNumberExclusive?$++:j++}return new Y(B)}getWithDelta(ne){return new Y(this._normalizedRanges.map(B=>B.delta(ne)))}};n(Y,"LineRangeSet");let N=Y},2532:(Lt,Pe,E)=>{"use strict";E.d(Pe,{L:n(()=>ie,"L")});var F=E(4327);const K=class K{static addRange(g,Y){let O=0;for(;O<Y.length&&Y[O].endExclusive<g.start;)O++;let ne=O;for(;ne<Y.length&&Y[ne].start<=g.endExclusive;)ne++;if(O===ne)Y.splice(O,0,g);else{const B=Math.min(g.start,Y[O].start),$=Math.max(g.endExclusive,Y[ne-1].endExclusive);Y.splice(O,ne-O,new K(B,$))}}static tryCreate(g,Y){if(!(g>Y))return new K(g,Y)}static ofLength(g){return new K(0,g)}static ofStartAndLength(g,Y){return new K(g,g+Y)}constructor(g,Y){if(this.start=g,this.endExclusive=Y,g>Y)throw new F.D7(`Invalid range: ${this.toString()}`)}get isEmpty(){return this.start===this.endExclusive}delta(g){return new K(this.start+g,this.endExclusive+g)}deltaStart(g){return new K(this.start+g,this.endExclusive)}deltaEnd(g){return new K(this.start,this.endExclusive+g)}get length(){return this.endExclusive-this.start}toString(){return`[${this.start}, ${this.endExclusive})`}contains(g){return this.start<=g&&g<this.endExclusive}join(g){return new K(Math.min(this.start,g.start),Math.max(this.endExclusive,g.endExclusive))}intersect(g){const Y=Math.max(this.start,g.start),O=Math.min(this.endExclusive,g.endExclusive);if(Y<=O)return new K(Y,O)}intersects(g){const Y=Math.max(this.start,g.start),O=Math.min(this.endExclusive,g.endExclusive);return Y<O}isBefore(g){return this.endExclusive<=g.start}isAfter(g){return this.start>=g.endExclusive}slice(g){return g.slice(this.start,this.endExclusive)}substring(g){return g.substring(this.start,this.endExclusive)}clip(g){if(this.isEmpty)throw new F.D7(`Invalid clipping range: ${this.toString()}`);return Math.max(this.start,Math.min(this.endExclusive-1,g))}clipCyclic(g){if(this.isEmpty)throw new F.D7(`Invalid clipping range: ${this.toString()}`);return g<this.start?this.endExclusive-(this.start-g)%this.length:g>=this.endExclusive?this.start+(g-this.start)%this.length:g}forEach(g){for(let Y=this.start;Y<this.endExclusive;Y++)g(Y)}};n(K,"OffsetRange");let ie=K;const Q=class Q{constructor(){this._sortedRanges=[]}addRange(g){let Y=0;for(;Y<this._sortedRanges.length&&this._sortedRanges[Y].endExclusive<g.start;)Y++;let O=Y;for(;O<this._sortedRanges.length&&this._sortedRanges[O].start<=g.endExclusive;)O++;if(Y===O)this._sortedRanges.splice(Y,0,g);else{const ne=Math.min(g.start,this._sortedRanges[Y].start),B=Math.max(g.endExclusive,this._sortedRanges[O-1].endExclusive);this._sortedRanges.splice(Y,O-Y,new ie(ne,B))}}toString(){return this._sortedRanges.map(g=>g.toString()).join(", ")}intersectsStrict(g){let Y=0;for(;Y<this._sortedRanges.length&&this._sortedRanges[Y].endExclusive<=g.start;)Y++;return Y<this._sortedRanges.length&&this._sortedRanges[Y].start<g.endExclusive}intersectWithRange(g){const Y=new Q;for(const O of this._sortedRanges){const ne=O.intersect(g);ne&&Y.addRange(ne)}return Y}intersectWithRangeLength(g){return this.intersectWithRange(g).length}get length(){return this._sortedRanges.reduce((g,Y)=>g+Y.length,0)}};n(Q,"OffsetRangeSet");let o=Q},5365:(Lt,Pe,E)=>{"use strict";E.d(Pe,{y:n(()=>F,"y")});const ie=class ie{constructor(K,Q){this.lineNumber=K,this.column=Q}with(K=this.lineNumber,Q=this.column){return K===this.lineNumber&&Q===this.column?this:new ie(K,Q)}delta(K=0,Q=0){return this.with(this.lineNumber+K,this.column+Q)}equals(K){return ie.equals(this,K)}static equals(K,Q){return!K&&!Q?!0:!!K&&!!Q&&K.lineNumber===Q.lineNumber&&K.column===Q.column}isBefore(K){return ie.isBefore(this,K)}static isBefore(K,Q){return K.lineNumber<Q.lineNumber?!0:Q.lineNumber<K.lineNumber?!1:K.column<Q.column}isBeforeOrEqual(K){return ie.isBeforeOrEqual(this,K)}static isBeforeOrEqual(K,Q){return K.lineNumber<Q.lineNumber?!0:Q.lineNumber<K.lineNumber?!1:K.column<=Q.column}static compare(K,Q){const N=K.lineNumber|0,g=Q.lineNumber|0;if(N===g){const Y=K.column|0,O=Q.column|0;return Y-O}return N-g}clone(){return new ie(this.lineNumber,this.column)}toString(){return"("+this.lineNumber+","+this.column+")"}static lift(K){return new ie(K.lineNumber,K.column)}static isIPosition(K){return K&&typeof K.lineNumber=="number"&&typeof K.column=="number"}toJSON(){return{lineNumber:this.lineNumber,column:this.column}}};n(ie,"Position");let F=ie},8061:(Lt,Pe,E)=>{"use strict";E.d(Pe,{Q:n(()=>ie,"Q")});var F=E(5365);const o=class o{constructor(Q,N,g,Y){Q>g||Q===g&&N>Y?(this.startLineNumber=g,this.startColumn=Y,this.endLineNumber=Q,this.endColumn=N):(this.startLineNumber=Q,this.startColumn=N,this.endLineNumber=g,this.endColumn=Y)}isEmpty(){return o.isEmpty(this)}static isEmpty(Q){return Q.startLineNumber===Q.endLineNumber&&Q.startColumn===Q.endColumn}containsPosition(Q){return o.containsPosition(this,Q)}static containsPosition(Q,N){return!(N.lineNumber<Q.startLineNumber||N.lineNumber>Q.endLineNumber||N.lineNumber===Q.startLineNumber&&N.column<Q.startColumn||N.lineNumber===Q.endLineNumber&&N.column>Q.endColumn)}static strictContainsPosition(Q,N){return!(N.lineNumber<Q.startLineNumber||N.lineNumber>Q.endLineNumber||N.lineNumber===Q.startLineNumber&&N.column<=Q.startColumn||N.lineNumber===Q.endLineNumber&&N.column>=Q.endColumn)}containsRange(Q){return o.containsRange(this,Q)}static containsRange(Q,N){return!(N.startLineNumber<Q.startLineNumber||N.endLineNumber<Q.startLineNumber||N.startLineNumber>Q.endLineNumber||N.endLineNumber>Q.endLineNumber||N.startLineNumber===Q.startLineNumber&&N.startColumn<Q.startColumn||N.endLineNumber===Q.endLineNumber&&N.endColumn>Q.endColumn)}strictContainsRange(Q){return o.strictContainsRange(this,Q)}static strictContainsRange(Q,N){return!(N.startLineNumber<Q.startLineNumber||N.endLineNumber<Q.startLineNumber||N.startLineNumber>Q.endLineNumber||N.endLineNumber>Q.endLineNumber||N.startLineNumber===Q.startLineNumber&&N.startColumn<=Q.startColumn||N.endLineNumber===Q.endLineNumber&&N.endColumn>=Q.endColumn)}plusRange(Q){return o.plusRange(this,Q)}static plusRange(Q,N){let g,Y,O,ne;return N.startLineNumber<Q.startLineNumber?(g=N.startLineNumber,Y=N.startColumn):N.startLineNumber===Q.startLineNumber?(g=N.startLineNumber,Y=Math.min(N.startColumn,Q.startColumn)):(g=Q.startLineNumber,Y=Q.startColumn),N.endLineNumber>Q.endLineNumber?(O=N.endLineNumber,ne=N.endColumn):N.endLineNumber===Q.endLineNumber?(O=N.endLineNumber,ne=Math.max(N.endColumn,Q.endColumn)):(O=Q.endLineNumber,ne=Q.endColumn),new o(g,Y,O,ne)}intersectRanges(Q){return o.intersectRanges(this,Q)}static intersectRanges(Q,N){let g=Q.startLineNumber,Y=Q.startColumn,O=Q.endLineNumber,ne=Q.endColumn;const B=N.startLineNumber,$=N.startColumn,j=N.endLineNumber,z=N.endColumn;return g<B?(g=B,Y=$):g===B&&(Y=Math.max(Y,$)),O>j?(O=j,ne=z):O===j&&(ne=Math.min(ne,z)),g>O||g===O&&Y>ne?null:new o(g,Y,O,ne)}equalsRange(Q){return o.equalsRange(this,Q)}static equalsRange(Q,N){return!Q&&!N?!0:!!Q&&!!N&&Q.startLineNumber===N.startLineNumber&&Q.startColumn===N.startColumn&&Q.endLineNumber===N.endLineNumber&&Q.endColumn===N.endColumn}getEndPosition(){return o.getEndPosition(this)}static getEndPosition(Q){return new F.y(Q.endLineNumber,Q.endColumn)}getStartPosition(){return o.getStartPosition(this)}static getStartPosition(Q){return new F.y(Q.startLineNumber,Q.startColumn)}toString(){return"["+this.startLineNumber+","+this.startColumn+" -> "+this.endLineNumber+","+this.endColumn+"]"}setEndPosition(Q,N){return new o(this.startLineNumber,this.startColumn,Q,N)}setStartPosition(Q,N){return new o(Q,N,this.endLineNumber,this.endColumn)}collapseToStart(){return o.collapseToStart(this)}static collapseToStart(Q){return new o(Q.startLineNumber,Q.startColumn,Q.startLineNumber,Q.startColumn)}collapseToEnd(){return o.collapseToEnd(this)}static collapseToEnd(Q){return new o(Q.endLineNumber,Q.endColumn,Q.endLineNumber,Q.endColumn)}delta(Q){return new o(this.startLineNumber+Q,this.startColumn,this.endLineNumber+Q,this.endColumn)}static fromPositions(Q,N=Q){return new o(Q.lineNumber,Q.column,N.lineNumber,N.column)}static lift(Q){return Q?new o(Q.startLineNumber,Q.startColumn,Q.endLineNumber,Q.endColumn):null}static isIRange(Q){return Q&&typeof Q.startLineNumber=="number"&&typeof Q.startColumn=="number"&&typeof Q.endLineNumber=="number"&&typeof Q.endColumn=="number"}static areIntersectingOrTouching(Q,N){return!(Q.endLineNumber<N.startLineNumber||Q.endLineNumber===N.startLineNumber&&Q.endColumn<N.startColumn||N.endLineNumber<Q.startLineNumber||N.endLineNumber===Q.startLineNumber&&N.endColumn<Q.startColumn)}static areIntersecting(Q,N){return!(Q.endLineNumber<N.startLineNumber||Q.endLineNumber===N.startLineNumber&&Q.endColumn<=N.startColumn||N.endLineNumber<Q.startLineNumber||N.endLineNumber===Q.startLineNumber&&N.endColumn<=Q.startColumn)}static compareRangesUsingStarts(Q,N){if(Q&&N){const O=Q.startLineNumber|0,ne=N.startLineNumber|0;if(O===ne){const B=Q.startColumn|0,$=N.startColumn|0;if(B===$){const j=Q.endLineNumber|0,z=N.endLineNumber|0;if(j===z){const U=Q.endColumn|0,v=N.endColumn|0;return U-v}return j-z}return B-$}return O-ne}return(Q?1:0)-(N?1:0)}static compareRangesUsingEnds(Q,N){return Q.endLineNumber===N.endLineNumber?Q.endColumn===N.endColumn?Q.startLineNumber===N.startLineNumber?Q.startColumn-N.startColumn:Q.startLineNumber-N.startLineNumber:Q.endColumn-N.endColumn:Q.endLineNumber-N.endLineNumber}static spansMultipleLines(Q){return Q.endLineNumber>Q.startLineNumber}toJSON(){return this}};n(o,"Range");let ie=o},3702:(Lt,Pe,E)=>{"use strict";E.d(Pe,{L:n(()=>o,"L")});var F=E(5365),ie=E(8061);const K=class K extends ie.Q{constructor(N,g,Y,O){super(N,g,Y,O),this.selectionStartLineNumber=N,this.selectionStartColumn=g,this.positionLineNumber=Y,this.positionColumn=O}toString(){return"["+this.selectionStartLineNumber+","+this.selectionStartColumn+" -> "+this.positionLineNumber+","+this.positionColumn+"]"}equalsSelection(N){return K.selectionsEqual(this,N)}static selectionsEqual(N,g){return N.selectionStartLineNumber===g.selectionStartLineNumber&&N.selectionStartColumn===g.selectionStartColumn&&N.positionLineNumber===g.positionLineNumber&&N.positionColumn===g.positionColumn}getDirection(){return this.selectionStartLineNumber===this.startLineNumber&&this.selectionStartColumn===this.startColumn?0:1}setEndPosition(N,g){return this.getDirection()===0?new K(this.startLineNumber,this.startColumn,N,g):new K(N,g,this.startLineNumber,this.startColumn)}getPosition(){return new F.y(this.positionLineNumber,this.positionColumn)}getSelectionStart(){return new F.y(this.selectionStartLineNumber,this.selectionStartColumn)}setStartPosition(N,g){return this.getDirection()===0?new K(N,g,this.endLineNumber,this.endColumn):new K(this.endLineNumber,this.endColumn,N,g)}static fromPositions(N,g=N){return new K(N.lineNumber,N.column,g.lineNumber,g.column)}static fromRange(N,g){return g===0?new K(N.startLineNumber,N.startColumn,N.endLineNumber,N.endColumn):new K(N.endLineNumber,N.endColumn,N.startLineNumber,N.startColumn)}static liftSelection(N){return new K(N.selectionStartLineNumber,N.selectionStartColumn,N.positionLineNumber,N.positionColumn)}static selectionsArrEqual(N,g){if(N&&!g||!N&&g)return!1;if(!N&&!g)return!0;if(N.length!==g.length)return!1;for(let Y=0,O=N.length;Y<O;Y++)if(!this.selectionsEqual(N[Y],g[Y]))return!1;return!0}static isISelection(N){return N&&typeof N.selectionStartLineNumber=="number"&&typeof N.selectionStartColumn=="number"&&typeof N.positionLineNumber=="number"&&typeof N.positionColumn=="number"}static createWithDirection(N,g,Y,O,ne){return ne===0?new K(N,g,Y,O):new K(Y,O,N,g)}};n(K,"Selection");let o=K},8357:(Lt,Pe,E)=>{"use strict";E.d(Pe,{W:n(()=>o,"W")});var F=E(5365),ie=E(8061);const K=class K{static betweenPositions(N,g){return N.lineNumber===g.lineNumber?new K(0,g.column-N.column):new K(g.lineNumber-N.lineNumber,g.column-1)}static ofRange(N){return K.betweenPositions(N.getStartPosition(),N.getEndPosition())}static ofText(N){let g=0,Y=0;for(const O of N)O===`
`?(g++,Y=0):Y++;return new K(g,Y)}constructor(N,g){this.lineCount=N,this.columnCount=g}isGreaterThanOrEqualTo(N){return this.lineCount!==N.lineCount?this.lineCount>N.lineCount:this.columnCount>=N.columnCount}createRange(N){return this.lineCount===0?new ie.Q(N.lineNumber,N.column,N.lineNumber,N.column+this.columnCount):new ie.Q(N.lineNumber,N.column,N.lineNumber+this.lineCount,this.columnCount+1)}addToPosition(N){return this.lineCount===0?new F.y(N.lineNumber,N.column+this.columnCount):new F.y(N.lineNumber+this.lineCount,this.columnCount+1)}toString(){return`${this.lineCount},${this.columnCount}`}};n(K,"TextLength"),K.zero=new K(0,0);let o=K},8782:(Lt,Pe,E)=>{"use strict";E.d(Pe,{Io:n(()=>N,"Io"),Ld:n(()=>Q,"Ld"),Th:n(()=>Y,"Th")});var F=E(7954),ie=E(5525);const o="`~!@#$%^&*()-=+[{]}\\|;:'\",.<>/?";function K(ne=""){let B="(-?\\d*\\.\\d\\w*)|([^";for(const $ of o)ne.indexOf($)>=0||(B+="\\"+$);return B+="\\s]+)",new RegExp(B,"g")}n(K,"createWordRegExp");const Q=K();function N(ne){let B=Q;if(ne&&ne instanceof RegExp)if(ne.global)B=ne;else{let $="g";ne.ignoreCase&&($+="i"),ne.multiline&&($+="m"),ne.unicode&&($+="u"),B=new RegExp(ne.source,$)}return B.lastIndex=0,B}n(N,"ensureValidWordDefinition");const g=new ie.w;g.unshift({maxLen:1e3,windowSize:15,timeBudget:150});function Y(ne,B,$,j,z){if(B=N(B),z||(z=F.f.first(g)),$.length>z.maxLen){let y=ne-z.maxLen/2;return y<0?y=0:j+=y,$=$.substring(y,ne+z.maxLen/2),Y(ne,B,$,j,z)}const U=Date.now(),v=ne-1-j;let ce=-1,J=null;for(let y=1;!(Date.now()-U>=z.timeBudget);y++){const W=v-z.windowSize*y;B.lastIndex=Math.max(0,W);const me=O(B,$,v,ce);if(!me&&J||(J=me,W<=0))break;ce=W}if(J){const y={word:J[0],startColumn:j+1+J.index,endColumn:j+1+J.index+J[0].length};return B.lastIndex=0,y}return null}n(Y,"getWordAtText");function O(ne,B,$,j){let z;for(;z=ne.exec(B);){const U=z.index||0;if(U<=$&&ne.lastIndex>=$)return z;if(j>0&&U>j)return null}return null}n(O,"_findRegexMatchEnclosingPosition")},5910:(Lt,Pe,E)=>{"use strict";E.d(Pe,{x:n(()=>F,"x")});const ie=class ie{static getLanguageId(K){return(K&255)>>>0}static getTokenType(K){return(K&768)>>>8}static containsBalancedBrackets(K){return(K&1024)!==0}static getFontStyle(K){return(K&30720)>>>11}static getForeground(K){return(K&16744448)>>>15}static getBackground(K){return(K&4278190080)>>>24}static getClassNameFromMetadata(K){let N="mtk"+this.getForeground(K);const g=this.getFontStyle(K);return g&1&&(N+=" mtki"),g&2&&(N+=" mtkb"),g&4&&(N+=" mtku"),g&8&&(N+=" mtks"),N}static getInlineStyleFromMetadata(K,Q){const N=this.getForeground(K),g=this.getFontStyle(K);let Y=`color: ${Q[N]};`;g&1&&(Y+="font-style: italic;"),g&2&&(Y+="font-weight: bold;");let O="";return g&4&&(O+=" underline"),g&8&&(O+=" line-through"),O&&(Y+=`text-decoration:${O};`),Y}static getPresentationFromMetadata(K){const Q=this.getForeground(K),N=this.getFontStyle(K);return{foreground:Q,italic:!!(N&1),bold:!!(N&2),underline:!!(N&4),strikethrough:!!(N&8)}}};n(ie,"TokenMetadata");let F=ie},4364:(Lt,Pe,E)=>{"use strict";E.d(Pe,{rY:n(()=>ne,"rY"),ou:n(()=>Y,"ou"),dG:n(()=>I,"dG"),OB:n(()=>P,"OB")});var F=E(1869),ie=E(7264),o=E(2106),K=E(9235);const ee=class ee{constructor(){this._tokenizationSupports=new Map,this._factories=new Map,this._onDidChange=new o.vl,this.onDidChange=this._onDidChange.event,this._colorMap=null}handleChange(w){this._onDidChange.fire({changedLanguages:w,changedColorMap:!1})}register(w,D){return this._tokenizationSupports.set(w,D),this.handleChange([w]),(0,K.s)(()=>{this._tokenizationSupports.get(w)===D&&(this._tokenizationSupports.delete(w),this.handleChange([w]))})}get(w){return this._tokenizationSupports.get(w)||null}registerFactory(w,D){var he;(he=this._factories.get(w))==null||he.dispose();const Z=new N(this,w,D);return this._factories.set(w,Z),(0,K.s)(()=>{const ye=this._factories.get(w);!ye||ye!==Z||(this._factories.delete(w),ye.dispose())})}async getOrCreate(w){const D=this.get(w);if(D)return D;const Z=this._factories.get(w);return!Z||Z.isResolved?null:(await Z.resolve(),this.get(w))}isResolved(w){if(this.get(w))return!0;const Z=this._factories.get(w);return!!(!Z||Z.isResolved)}setColorMap(w){this._colorMap=w,this._onDidChange.fire({changedLanguages:Array.from(this._tokenizationSupports.keys()),changedColorMap:!0})}getColorMap(){return this._colorMap}getDefaultBackground(){return this._colorMap&&this._colorMap.length>2?this._colorMap[2]:null}};n(ee,"TokenizationRegistry");let Q=ee;const fe=class fe extends K.jG{get isResolved(){return this._isResolved}constructor(w,D,Z){super(),this._registry=w,this._languageId=D,this._factory=Z,this._isDisposed=!1,this._resolvePromise=null,this._isResolved=!1}dispose(){this._isDisposed=!0,super.dispose()}async resolve(){return this._resolvePromise||(this._resolvePromise=this._create()),this._resolvePromise}async _create(){const w=await this._factory.tokenizationSupport;this._isResolved=!0,w&&!this._isDisposed&&this._register(this._registry.register(this._languageId,w))}};n(fe,"TokenizationSupportFactoryData");let N=fe;var g=E(9746);const ue=class ue{constructor(w,D,Z){this.offset=w,this.type=D,this.language=Z,this._tokenBrand=void 0}toString(){return"("+this.offset+", "+this.type+")"}};n(ue,"Token");let Y=ue;const Te=class Te{constructor(w,D){this.tokens=w,this.endState=D,this._tokenizationResultBrand=void 0}};n(Te,"TokenizationResult");let O=Te;const je=class je{constructor(w,D){this.tokens=w,this.endState=D,this._encodedTokenizationResultBrand=void 0}};n(je,"EncodedTokenizationResult");let ne=je;var B;(function(G){G[G.Increase=0]="Increase",G[G.Decrease=1]="Decrease"})(B||(B={}));var $;(function(G){const w=new Map;w.set(0,F.W.symbolMethod),w.set(1,F.W.symbolFunction),w.set(2,F.W.symbolConstructor),w.set(3,F.W.symbolField),w.set(4,F.W.symbolVariable),w.set(5,F.W.symbolClass),w.set(6,F.W.symbolStruct),w.set(7,F.W.symbolInterface),w.set(8,F.W.symbolModule),w.set(9,F.W.symbolProperty),w.set(10,F.W.symbolEvent),w.set(11,F.W.symbolOperator),w.set(12,F.W.symbolUnit),w.set(13,F.W.symbolValue),w.set(15,F.W.symbolEnum),w.set(14,F.W.symbolConstant),w.set(15,F.W.symbolEnum),w.set(16,F.W.symbolEnumMember),w.set(17,F.W.symbolKeyword),w.set(27,F.W.symbolSnippet),w.set(18,F.W.symbolText),w.set(19,F.W.symbolColor),w.set(20,F.W.symbolFile),w.set(21,F.W.symbolReference),w.set(22,F.W.symbolCustomColor),w.set(23,F.W.symbolFolder),w.set(24,F.W.symbolTypeParameter),w.set(25,F.W.account),w.set(26,F.W.issues);function D(ye){let He=w.get(ye);return He||(console.info("No codicon found for CompletionItemKind "+ye),He=F.W.symbolProperty),He}n(D,"toIcon"),G.toIcon=D;const Z=new Map;Z.set("method",0),Z.set("function",1),Z.set("constructor",2),Z.set("field",3),Z.set("variable",4),Z.set("class",5),Z.set("struct",6),Z.set("interface",7),Z.set("module",8),Z.set("property",9),Z.set("event",10),Z.set("operator",11),Z.set("unit",12),Z.set("value",13),Z.set("constant",14),Z.set("enum",15),Z.set("enum-member",16),Z.set("enumMember",16),Z.set("keyword",17),Z.set("snippet",27),Z.set("text",18),Z.set("color",19),Z.set("file",20),Z.set("reference",21),Z.set("customcolor",22),Z.set("folder",23),Z.set("type-parameter",24),Z.set("typeParameter",24),Z.set("account",25),Z.set("issue",26);function he(ye,He){let Ve=Z.get(ye);return typeof Ve=="undefined"&&!He&&(Ve=9),Ve}n(he,"fromString"),G.fromString=he})($||($={}));var j;(function(G){G[G.Automatic=0]="Automatic",G[G.Explicit=1]="Explicit"})(j||(j={}));const Xe=class Xe{constructor(w,D,Z,he){this.range=w,this.text=D,this.completionKind=Z,this.isSnippetText=he}equals(w){return Range.lift(this.range).equalsRange(w.range)&&this.text===w.text&&this.completionKind===w.completionKind&&this.isSnippetText===w.isSnippetText}};n(Xe,"SelectedSuggestionInfo");let z=Xe;var U;(function(G){G[G.Automatic=0]="Automatic",G[G.PasteAs=1]="PasteAs"})(U||(U={}));var v;(function(G){G[G.Invoke=1]="Invoke",G[G.TriggerCharacter=2]="TriggerCharacter",G[G.ContentChange=3]="ContentChange"})(v||(v={}));var ce;(function(G){G[G.Text=0]="Text",G[G.Read=1]="Read",G[G.Write=2]="Write"})(ce||(ce={}));function J(G){return G&&URI.isUri(G.uri)&&Range.isIRange(G.range)&&(Range.isIRange(G.originSelectionRange)||Range.isIRange(G.targetSelectionRange))}n(J,"isLocationLink");const y={17:(0,g.kg)("Array","array"),16:(0,g.kg)("Boolean","boolean"),4:(0,g.kg)("Class","class"),13:(0,g.kg)("Constant","constant"),8:(0,g.kg)("Constructor","constructor"),9:(0,g.kg)("Enum","enumeration"),21:(0,g.kg)("EnumMember","enumeration member"),23:(0,g.kg)("Event","event"),7:(0,g.kg)("Field","field"),0:(0,g.kg)("File","file"),11:(0,g.kg)("Function","function"),10:(0,g.kg)("Interface","interface"),19:(0,g.kg)("Key","key"),5:(0,g.kg)("Method","method"),1:(0,g.kg)("Module","module"),2:(0,g.kg)("Namespace","namespace"),20:(0,g.kg)("Null","null"),15:(0,g.kg)("Number","number"),18:(0,g.kg)("Object","object"),24:(0,g.kg)("Operator","operator"),3:(0,g.kg)("Package","package"),6:(0,g.kg)("Property","property"),14:(0,g.kg)("String","string"),22:(0,g.kg)("Struct","struct"),25:(0,g.kg)("TypeParameter","type parameter"),12:(0,g.kg)("Variable","variable")};function W(G,w){return localize("symbolAriaLabel","{0} ({1})",G,y[w])}n(W,"getAriaLabelForSymbol");var me;(function(G){const w=new Map;w.set(0,F.W.symbolFile),w.set(1,F.W.symbolModule),w.set(2,F.W.symbolNamespace),w.set(3,F.W.symbolPackage),w.set(4,F.W.symbolClass),w.set(5,F.W.symbolMethod),w.set(6,F.W.symbolProperty),w.set(7,F.W.symbolField),w.set(8,F.W.symbolConstructor),w.set(9,F.W.symbolEnum),w.set(10,F.W.symbolInterface),w.set(11,F.W.symbolFunction),w.set(12,F.W.symbolVariable),w.set(13,F.W.symbolConstant),w.set(14,F.W.symbolString),w.set(15,F.W.symbolNumber),w.set(16,F.W.symbolBoolean),w.set(17,F.W.symbolArray),w.set(18,F.W.symbolObject),w.set(19,F.W.symbolKey),w.set(20,F.W.symbolNull),w.set(21,F.W.symbolEnumMember),w.set(22,F.W.symbolStruct),w.set(23,F.W.symbolEvent),w.set(24,F.W.symbolOperator),w.set(25,F.W.symbolTypeParameter);function D(Z){let he=w.get(Z);return he||(console.info("No codicon found for SymbolKind "+Z),he=F.W.symbolProperty),he}n(D,"toIcon"),G.toIcon=D})(me||(me={}));const We=class We{};n(We,"TextEdit");let we=We;const A=class A{static fromValue(w){switch(w){case"comment":return A.Comment;case"imports":return A.Imports;case"region":return A.Region}return new A(w)}constructor(w){this.value=w}};n(A,"FoldingRangeKind"),A.Comment=new A("comment"),A.Imports=new A("imports"),A.Region=new A("region");let Ue=A;var Ce;(function(G){G[G.AIGenerated=1]="AIGenerated"})(Ce||(Ce={}));var R;(function(G){G[G.Invoke=0]="Invoke",G[G.Automatic=1]="Automatic"})(R||(R={}));var m;(function(G){function w(D){return!D||typeof D!="object"?!1:typeof D.id=="string"&&typeof D.title=="string"}n(w,"is"),G.is=w})(m||(m={}));var _;(function(G){G[G.Type=1]="Type",G[G.Parameter=2]="Parameter"})(_||(_={}));const M=class M{constructor(w){this.createSupport=w,this._tokenizationSupport=null}dispose(){this._tokenizationSupport&&this._tokenizationSupport.then(w=>{w&&w.dispose()})}get tokenizationSupport(){return this._tokenizationSupport||(this._tokenizationSupport=this.createSupport()),this._tokenizationSupport}};n(M,"LazyTokenizationSupport");let b=M;const I=new Q,P=new Q;var V;(function(G){G[G.Invoke=0]="Invoke",G[G.Automatic=1]="Automatic"})(V||(V={}))},7922:(Lt,Pe,E)=>{"use strict";E.d(Pe,{L:n(()=>ie,"L")});var F=E(2399);const ie=(0,F.u1)("languageService")},4957:(Lt,Pe,E)=>{"use strict";E.d(Pe,{W6:n(()=>Y,"W6"),vH:n(()=>O,"vH")});var F=E(9746),ie=E(2106),o=E(7167),K=E(3720),Q=E(7142);const N={ModesRegistry:"editor.modesRegistry"},B=class B{constructor(){this._onDidChangeLanguages=new ie.vl,this.onDidChangeLanguages=this._onDidChangeLanguages.event,this._languages=[]}registerLanguage(j){return this._languages.push(j),this._onDidChangeLanguages.fire(void 0),{dispose:n(()=>{for(let z=0,U=this._languages.length;z<U;z++)if(this._languages[z]===j){this._languages.splice(z,1);return}},"dispose")}}getLanguages(){return this._languages}};n(B,"EditorModesRegistry");let g=B;const Y=new g;o.O.add(N.ModesRegistry,Y);const O="plaintext";Y.registerLanguage({id:O,extensions:[".txt"],aliases:[F.kg("plainText.alias","Plain Text"),"text"],mimetypes:[K.K.text]}),o.O.as(Q.Fd.Configuration).registerDefaultConfigurations([{overrides:{"[plaintext]":{"editor.unicodeHighlight.ambiguousCharacters":!1,"editor.unicodeHighlight.invisibleCharacters":!1}}}])},6055:(Lt,Pe,E)=>{"use strict";E.d(Pe,{A5:n(()=>ie,"A5"),Dg:n(()=>N,"Dg"),F4:n(()=>ne,"F4"),L5:n(()=>O,"L5"),Wo:n(()=>Y,"Wo"),X2:n(()=>Q,"X2"),ZS:n(()=>o,"ZS"),nk:n(()=>g,"nk"),vd:n(()=>B,"vd")});var F=E(1386),ie;(function(ce){ce[ce.Left=1]="Left",ce[ce.Center=2]="Center",ce[ce.Right=4]="Right",ce[ce.Full=7]="Full"})(ie||(ie={}));var o;(function(ce){ce[ce.Left=1]="Left",ce[ce.Center=2]="Center",ce[ce.Right=3]="Right"})(o||(o={}));var K;(function(ce){ce[ce.Both=0]="Both",ce[ce.Right=1]="Right",ce[ce.Left=2]="Left",ce[ce.None=3]="None"})(K||(K={}));const $=class ${get originalIndentSize(){return this._indentSizeIsTabSize?"tabSize":this.indentSize}constructor(J){this._textModelResolvedOptionsBrand=void 0,this.tabSize=Math.max(1,J.tabSize|0),J.indentSize==="tabSize"?(this.indentSize=this.tabSize,this._indentSizeIsTabSize=!0):(this.indentSize=Math.max(1,J.indentSize|0),this._indentSizeIsTabSize=!1),this.insertSpaces=!!J.insertSpaces,this.defaultEOL=J.defaultEOL|0,this.trimAutoWhitespace=!!J.trimAutoWhitespace,this.bracketPairColorizationOptions=J.bracketPairColorizationOptions}equals(J){return this.tabSize===J.tabSize&&this._indentSizeIsTabSize===J._indentSizeIsTabSize&&this.indentSize===J.indentSize&&this.insertSpaces===J.insertSpaces&&this.defaultEOL===J.defaultEOL&&this.trimAutoWhitespace===J.trimAutoWhitespace&&(0,F.aI)(this.bracketPairColorizationOptions,J.bracketPairColorizationOptions)}createChangeEvent(J){return{tabSize:this.tabSize!==J.tabSize,indentSize:this.indentSize!==J.indentSize,insertSpaces:this.insertSpaces!==J.insertSpaces,trimAutoWhitespace:this.trimAutoWhitespace!==J.trimAutoWhitespace}}};n($,"TextModelResolvedOptions");let Q=$;const j=class j{constructor(J,y){this._findMatchBrand=void 0,this.range=J,this.matches=y}};n(j,"FindMatch");let N=j;function g(ce){return ce&&typeof ce.read=="function"}n(g,"isITextSnapshot");const z=class z{constructor(J,y,W,me,we,Ue){this.identifier=J,this.range=y,this.text=W,this.forceMoveMarkers=me,this.isAutoWhitespaceEdit=we,this._isTracked=Ue}};n(z,"ValidAnnotatedEditOperation");let Y=z;const U=class U{constructor(J,y,W){this.regex=J,this.wordSeparators=y,this.simpleSearch=W}};n(U,"SearchData");let O=U;const v=class v{constructor(J,y,W){this.reverseEdits=J,this.changes=y,this.trimAutoWhitespaceLineNumbers=W}};n(v,"ApplyEditsResult");let ne=v;function B(ce){return!ce.isTooLargeForSyncing()&&!ce.isForSimpleWidget}n(B,"shouldSynchronizeModel")},2007:(Lt,Pe,E)=>{"use strict";E.d(Pe,{lt:n(()=>B,"lt"),W5:n(()=>y,"W5"),hB:n(()=>U,"hB"),dr:n(()=>j,"dr"),wC:n(()=>J,"wC")});var F=E(6844),ie=E(7992),o=E(7454);const W=class W extends o.V{constructor(m,_){super(0),this._segmenter=null,this._cachedLine=null,this._cachedSegments=[],this.intlSegmenterLocales=_,this.intlSegmenterLocales.length>0?this._segmenter=new Intl.Segmenter(this.intlSegmenterLocales,{granularity:"word"}):this._segmenter=null;for(let b=0,I=m.length;b<I;b++)this.set(m.charCodeAt(b),2);this.set(32,1),this.set(9,1)}findPrevIntlWordBeforeOrAtOffset(m,_){let b=null;for(const I of this._getIntlSegmenterWordsOnLine(m)){if(I.index>_)break;b=I}return b}findNextIntlWordAtOrAfterOffset(m,_){for(const b of this._getIntlSegmenterWordsOnLine(m))if(!(b.index<_))return b;return null}_getIntlSegmenterWordsOnLine(m){return this._segmenter?this._cachedLine===m?this._cachedSegments:(this._cachedLine=m,this._cachedSegments=this._filterWordSegments(this._segmenter.segment(m)),this._cachedSegments):[]}_filterWordSegments(m){const _=[];for(const b of m)this._isWordLike(b)&&_.push(b);return _}_isWordLike(m){return!!m.isWordLike}};n(W,"WordCharacterClassifier");let K=W;const Q=new ie.qK(10);function N(R,m){const _=`${R}/${m.join(",")}`;let b=Q.get(_);return b||(b=new K(R,m),Q.set(_,b)),b}n(N,"getMapForWordSeparators");var g=E(5365),Y=E(8061),O=E(6055);const ne=999,me=class me{constructor(m,_,b,I){this.searchString=m,this.isRegex=_,this.matchCase=b,this.wordSeparators=I}parseSearchRequest(){if(this.searchString==="")return null;let m;this.isRegex?m=$(this.searchString):m=this.searchString.indexOf(`
`)>=0;let _=null;try{_=F.OS(this.searchString,this.isRegex,{matchCase:this.matchCase,wholeWord:!1,multiline:m,global:!0,unicode:!0})}catch{return null}if(!_)return null;let b=!this.isRegex&&!m;return b&&this.searchString.toLowerCase()!==this.searchString.toUpperCase()&&(b=this.matchCase),new O.L5(_,this.wordSeparators?N(this.wordSeparators,[]):null,b?this.searchString:null)}};n(me,"SearchParams");let B=me;function $(R){if(!R||R.length===0)return!1;for(let m=0,_=R.length;m<_;m++){const b=R.charCodeAt(m);if(b===10)return!0;if(b===92){if(m++,m>=_)break;const I=R.charCodeAt(m);if(I===110||I===114||I===87)return!0}}return!1}n($,"isMultilineRegexSource");function j(R,m,_){if(!_)return new O.Dg(R,null);const b=[];for(let I=0,P=m.length;I<P;I++)b[I]=m[I];return new O.Dg(R,b)}n(j,"createFindMatch");const we=class we{constructor(m){const _=[];let b=0;for(let I=0,P=m.length;I<P;I++)m.charCodeAt(I)===10&&(_[b++]=I);this._lineFeedsOffsets=_}findLineFeedCountBeforeOffset(m){const _=this._lineFeedsOffsets;let b=0,I=_.length-1;if(I===-1||m<=_[0])return 0;for(;b<I;){const P=b+((I-b)/2>>0);_[P]>=m?I=P-1:_[P+1]>=m?(b=P,I=P):b=P+1}return b+1}};n(we,"LineFeedCounter");let z=we;const Ue=class Ue{static findMatches(m,_,b,I,P){const V=_.parseSearchRequest();return V?V.regex.multiline?this._doFindMatchesMultiline(m,b,new y(V.wordSeparators,V.regex),I,P):this._doFindMatchesLineByLine(m,b,V,I,P):[]}static _getMultilineMatchRange(m,_,b,I,P,V){let ee,fe=0;I?(fe=I.findLineFeedCountBeforeOffset(P),ee=_+P+fe):ee=_+P;let ue;if(I){const We=I.findLineFeedCountBeforeOffset(P+V.length)-fe;ue=ee+V.length+We}else ue=ee+V.length;const Te=m.getPositionAt(ee),je=m.getPositionAt(ue);return new Y.Q(Te.lineNumber,Te.column,je.lineNumber,je.column)}static _doFindMatchesMultiline(m,_,b,I,P){const V=m.getOffsetAt(_.getStartPosition()),ee=m.getValueInRange(_,1),fe=m.getEOL()===`\r
`?new z(ee):null,ue=[];let Te=0,je;for(b.reset(0);je=b.next(ee);)if(ue[Te++]=j(this._getMultilineMatchRange(m,V,ee,fe,je.index,je[0]),je,I),Te>=P)return ue;return ue}static _doFindMatchesLineByLine(m,_,b,I,P){const V=[];let ee=0;if(_.startLineNumber===_.endLineNumber){const ue=m.getLineContent(_.startLineNumber).substring(_.startColumn-1,_.endColumn-1);return ee=this._findMatchesInLine(b,ue,_.startLineNumber,_.startColumn-1,ee,V,I,P),V}const fe=m.getLineContent(_.startLineNumber).substring(_.startColumn-1);ee=this._findMatchesInLine(b,fe,_.startLineNumber,_.startColumn-1,ee,V,I,P);for(let ue=_.startLineNumber+1;ue<_.endLineNumber&&ee<P;ue++)ee=this._findMatchesInLine(b,m.getLineContent(ue),ue,0,ee,V,I,P);if(ee<P){const ue=m.getLineContent(_.endLineNumber).substring(0,_.endColumn-1);ee=this._findMatchesInLine(b,ue,_.endLineNumber,0,ee,V,I,P)}return V}static _findMatchesInLine(m,_,b,I,P,V,ee,fe){const ue=m.wordSeparators;if(!ee&&m.simpleSearch){const Xe=m.simpleSearch,We=Xe.length,A=_.length;let M=-We;for(;(M=_.indexOf(Xe,M+We))!==-1;)if((!ue||J(ue,_,A,M,We))&&(V[P++]=new O.Dg(new Y.Q(b,M+1+I,b,M+1+We+I),null),P>=fe))return P;return P}const Te=new y(m.wordSeparators,m.regex);let je;Te.reset(0);do if(je=Te.next(_),je&&(V[P++]=j(new Y.Q(b,je.index+1+I,b,je.index+1+je[0].length+I),je,ee),P>=fe))return P;while(je);return P}static findNextMatch(m,_,b,I){const P=_.parseSearchRequest();if(!P)return null;const V=new y(P.wordSeparators,P.regex);return P.regex.multiline?this._doFindNextMatchMultiline(m,b,V,I):this._doFindNextMatchLineByLine(m,b,V,I)}static _doFindNextMatchMultiline(m,_,b,I){const P=new g.y(_.lineNumber,1),V=m.getOffsetAt(P),ee=m.getLineCount(),fe=m.getValueInRange(new Y.Q(P.lineNumber,P.column,ee,m.getLineMaxColumn(ee)),1),ue=m.getEOL()===`\r
`?new z(fe):null;b.reset(_.column-1);const Te=b.next(fe);return Te?j(this._getMultilineMatchRange(m,V,fe,ue,Te.index,Te[0]),Te,I):_.lineNumber!==1||_.column!==1?this._doFindNextMatchMultiline(m,new g.y(1,1),b,I):null}static _doFindNextMatchLineByLine(m,_,b,I){const P=m.getLineCount(),V=_.lineNumber,ee=m.getLineContent(V),fe=this._findFirstMatchInLine(b,ee,V,_.column,I);if(fe)return fe;for(let ue=1;ue<=P;ue++){const Te=(V+ue-1)%P,je=m.getLineContent(Te+1),Xe=this._findFirstMatchInLine(b,je,Te+1,1,I);if(Xe)return Xe}return null}static _findFirstMatchInLine(m,_,b,I,P){m.reset(I-1);const V=m.next(_);return V?j(new Y.Q(b,V.index+1,b,V.index+1+V[0].length),V,P):null}static findPreviousMatch(m,_,b,I){const P=_.parseSearchRequest();if(!P)return null;const V=new y(P.wordSeparators,P.regex);return P.regex.multiline?this._doFindPreviousMatchMultiline(m,b,V,I):this._doFindPreviousMatchLineByLine(m,b,V,I)}static _doFindPreviousMatchMultiline(m,_,b,I){const P=this._doFindMatchesMultiline(m,new Y.Q(1,1,_.lineNumber,_.column),b,I,10*ne);if(P.length>0)return P[P.length-1];const V=m.getLineCount();return _.lineNumber!==V||_.column!==m.getLineMaxColumn(V)?this._doFindPreviousMatchMultiline(m,new g.y(V,m.getLineMaxColumn(V)),b,I):null}static _doFindPreviousMatchLineByLine(m,_,b,I){const P=m.getLineCount(),V=_.lineNumber,ee=m.getLineContent(V).substring(0,_.column-1),fe=this._findLastMatchInLine(b,ee,V,I);if(fe)return fe;for(let ue=1;ue<=P;ue++){const Te=(P+V-ue-1)%P,je=m.getLineContent(Te+1),Xe=this._findLastMatchInLine(b,je,Te+1,I);if(Xe)return Xe}return null}static _findLastMatchInLine(m,_,b,I){let P=null,V;for(m.reset(0);V=m.next(_);)P=j(new Y.Q(b,V.index+1,b,V.index+1+V[0].length),V,I);return P}};n(Ue,"TextModelSearch");let U=Ue;function v(R,m,_,b,I){if(b===0)return!0;const P=m.charCodeAt(b-1);if(R.get(P)!==0||P===13||P===10)return!0;if(I>0){const V=m.charCodeAt(b);if(R.get(V)!==0)return!0}return!1}n(v,"leftIsWordBounday");function ce(R,m,_,b,I){if(b+I===_)return!0;const P=m.charCodeAt(b+I);if(R.get(P)!==0||P===13||P===10)return!0;if(I>0){const V=m.charCodeAt(b+I-1);if(R.get(V)!==0)return!0}return!1}n(ce,"rightIsWordBounday");function J(R,m,_,b,I){return v(R,m,_,b,I)&&ce(R,m,_,b,I)}n(J,"isValidMatch");const Ce=class Ce{constructor(m,_){this._wordSeparators=m,this._searchRegex=_,this._prevMatchStartIndex=-1,this._prevMatchLength=0}reset(m){this._searchRegex.lastIndex=m,this._prevMatchStartIndex=-1,this._prevMatchLength=0}next(m){const _=m.length;let b;do{if(this._prevMatchStartIndex+this._prevMatchLength===_||(b=this._searchRegex.exec(m),!b))return null;const I=b.index,P=b[0].length;if(I===this._prevMatchStartIndex&&P===this._prevMatchLength){if(P===0){F.Z5(m,_,this._searchRegex.lastIndex)>65535?this._searchRegex.lastIndex+=2:this._searchRegex.lastIndex+=1;continue}return null}if(this._prevMatchStartIndex=I,this._prevMatchLength=P,!this._wordSeparators||J(this._wordSeparators,m,_,I,P))return b}while(b);return null}};n(Ce,"Searcher");let y=Ce},4858:(Lt,Pe,E)=>{"use strict";E.r(Pe),E.d(Pe,{KeyMod:n(()=>gn,"KeyMod"),createMonacoBaseAPI:n(()=>Tn,"createMonacoBaseAPI")});var F=E(8903),ie=E(2106);const Oe=class Oe{constructor(){this._keyCodeToStr=[],this._strToKeyCode=Object.create(null)}define(mt,It){this._keyCodeToStr[mt]=It,this._strToKeyCode[It.toLowerCase()]=mt}keyCodeToStr(mt){return this._keyCodeToStr[mt]}strToKeyCode(mt){return this._strToKeyCode[mt.toLowerCase()]||0}};n(Oe,"KeyCodeStrMap");let o=Oe;const K=new o,Q=new o,N=new o,g=new Array(230),Y={},O=[],ne=Object.create(null),B=Object.create(null),$=[],j=[];for(let i=0;i<=193;i++)$[i]=-1;for(let i=0;i<=132;i++)j[i]=-1;(function(){const i="",mt=[[1,0,"None",0,"unknown",0,"VK_UNKNOWN",i,i],[1,1,"Hyper",0,i,0,i,i,i],[1,2,"Super",0,i,0,i,i,i],[1,3,"Fn",0,i,0,i,i,i],[1,4,"FnLock",0,i,0,i,i,i],[1,5,"Suspend",0,i,0,i,i,i],[1,6,"Resume",0,i,0,i,i,i],[1,7,"Turbo",0,i,0,i,i,i],[1,8,"Sleep",0,i,0,"VK_SLEEP",i,i],[1,9,"WakeUp",0,i,0,i,i,i],[0,10,"KeyA",31,"A",65,"VK_A",i,i],[0,11,"KeyB",32,"B",66,"VK_B",i,i],[0,12,"KeyC",33,"C",67,"VK_C",i,i],[0,13,"KeyD",34,"D",68,"VK_D",i,i],[0,14,"KeyE",35,"E",69,"VK_E",i,i],[0,15,"KeyF",36,"F",70,"VK_F",i,i],[0,16,"KeyG",37,"G",71,"VK_G",i,i],[0,17,"KeyH",38,"H",72,"VK_H",i,i],[0,18,"KeyI",39,"I",73,"VK_I",i,i],[0,19,"KeyJ",40,"J",74,"VK_J",i,i],[0,20,"KeyK",41,"K",75,"VK_K",i,i],[0,21,"KeyL",42,"L",76,"VK_L",i,i],[0,22,"KeyM",43,"M",77,"VK_M",i,i],[0,23,"KeyN",44,"N",78,"VK_N",i,i],[0,24,"KeyO",45,"O",79,"VK_O",i,i],[0,25,"KeyP",46,"P",80,"VK_P",i,i],[0,26,"KeyQ",47,"Q",81,"VK_Q",i,i],[0,27,"KeyR",48,"R",82,"VK_R",i,i],[0,28,"KeyS",49,"S",83,"VK_S",i,i],[0,29,"KeyT",50,"T",84,"VK_T",i,i],[0,30,"KeyU",51,"U",85,"VK_U",i,i],[0,31,"KeyV",52,"V",86,"VK_V",i,i],[0,32,"KeyW",53,"W",87,"VK_W",i,i],[0,33,"KeyX",54,"X",88,"VK_X",i,i],[0,34,"KeyY",55,"Y",89,"VK_Y",i,i],[0,35,"KeyZ",56,"Z",90,"VK_Z",i,i],[0,36,"Digit1",22,"1",49,"VK_1",i,i],[0,37,"Digit2",23,"2",50,"VK_2",i,i],[0,38,"Digit3",24,"3",51,"VK_3",i,i],[0,39,"Digit4",25,"4",52,"VK_4",i,i],[0,40,"Digit5",26,"5",53,"VK_5",i,i],[0,41,"Digit6",27,"6",54,"VK_6",i,i],[0,42,"Digit7",28,"7",55,"VK_7",i,i],[0,43,"Digit8",29,"8",56,"VK_8",i,i],[0,44,"Digit9",30,"9",57,"VK_9",i,i],[0,45,"Digit0",21,"0",48,"VK_0",i,i],[1,46,"Enter",3,"Enter",13,"VK_RETURN",i,i],[1,47,"Escape",9,"Escape",27,"VK_ESCAPE",i,i],[1,48,"Backspace",1,"Backspace",8,"VK_BACK",i,i],[1,49,"Tab",2,"Tab",9,"VK_TAB",i,i],[1,50,"Space",10,"Space",32,"VK_SPACE",i,i],[0,51,"Minus",88,"-",189,"VK_OEM_MINUS","-","OEM_MINUS"],[0,52,"Equal",86,"=",187,"VK_OEM_PLUS","=","OEM_PLUS"],[0,53,"BracketLeft",92,"[",219,"VK_OEM_4","[","OEM_4"],[0,54,"BracketRight",94,"]",221,"VK_OEM_6","]","OEM_6"],[0,55,"Backslash",93,"\\",220,"VK_OEM_5","\\","OEM_5"],[0,56,"IntlHash",0,i,0,i,i,i],[0,57,"Semicolon",85,";",186,"VK_OEM_1",";","OEM_1"],[0,58,"Quote",95,"'",222,"VK_OEM_7","'","OEM_7"],[0,59,"Backquote",91,"`",192,"VK_OEM_3","`","OEM_3"],[0,60,"Comma",87,",",188,"VK_OEM_COMMA",",","OEM_COMMA"],[0,61,"Period",89,".",190,"VK_OEM_PERIOD",".","OEM_PERIOD"],[0,62,"Slash",90,"/",191,"VK_OEM_2","/","OEM_2"],[1,63,"CapsLock",8,"CapsLock",20,"VK_CAPITAL",i,i],[1,64,"F1",59,"F1",112,"VK_F1",i,i],[1,65,"F2",60,"F2",113,"VK_F2",i,i],[1,66,"F3",61,"F3",114,"VK_F3",i,i],[1,67,"F4",62,"F4",115,"VK_F4",i,i],[1,68,"F5",63,"F5",116,"VK_F5",i,i],[1,69,"F6",64,"F6",117,"VK_F6",i,i],[1,70,"F7",65,"F7",118,"VK_F7",i,i],[1,71,"F8",66,"F8",119,"VK_F8",i,i],[1,72,"F9",67,"F9",120,"VK_F9",i,i],[1,73,"F10",68,"F10",121,"VK_F10",i,i],[1,74,"F11",69,"F11",122,"VK_F11",i,i],[1,75,"F12",70,"F12",123,"VK_F12",i,i],[1,76,"PrintScreen",0,i,0,i,i,i],[1,77,"ScrollLock",84,"ScrollLock",145,"VK_SCROLL",i,i],[1,78,"Pause",7,"PauseBreak",19,"VK_PAUSE",i,i],[1,79,"Insert",19,"Insert",45,"VK_INSERT",i,i],[1,80,"Home",14,"Home",36,"VK_HOME",i,i],[1,81,"PageUp",11,"PageUp",33,"VK_PRIOR",i,i],[1,82,"Delete",20,"Delete",46,"VK_DELETE",i,i],[1,83,"End",13,"End",35,"VK_END",i,i],[1,84,"PageDown",12,"PageDown",34,"VK_NEXT",i,i],[1,85,"ArrowRight",17,"RightArrow",39,"VK_RIGHT","Right",i],[1,86,"ArrowLeft",15,"LeftArrow",37,"VK_LEFT","Left",i],[1,87,"ArrowDown",18,"DownArrow",40,"VK_DOWN","Down",i],[1,88,"ArrowUp",16,"UpArrow",38,"VK_UP","Up",i],[1,89,"NumLock",83,"NumLock",144,"VK_NUMLOCK",i,i],[1,90,"NumpadDivide",113,"NumPad_Divide",111,"VK_DIVIDE",i,i],[1,91,"NumpadMultiply",108,"NumPad_Multiply",106,"VK_MULTIPLY",i,i],[1,92,"NumpadSubtract",111,"NumPad_Subtract",109,"VK_SUBTRACT",i,i],[1,93,"NumpadAdd",109,"NumPad_Add",107,"VK_ADD",i,i],[1,94,"NumpadEnter",3,i,0,i,i,i],[1,95,"Numpad1",99,"NumPad1",97,"VK_NUMPAD1",i,i],[1,96,"Numpad2",100,"NumPad2",98,"VK_NUMPAD2",i,i],[1,97,"Numpad3",101,"NumPad3",99,"VK_NUMPAD3",i,i],[1,98,"Numpad4",102,"NumPad4",100,"VK_NUMPAD4",i,i],[1,99,"Numpad5",103,"NumPad5",101,"VK_NUMPAD5",i,i],[1,100,"Numpad6",104,"NumPad6",102,"VK_NUMPAD6",i,i],[1,101,"Numpad7",105,"NumPad7",103,"VK_NUMPAD7",i,i],[1,102,"Numpad8",106,"NumPad8",104,"VK_NUMPAD8",i,i],[1,103,"Numpad9",107,"NumPad9",105,"VK_NUMPAD9",i,i],[1,104,"Numpad0",98,"NumPad0",96,"VK_NUMPAD0",i,i],[1,105,"NumpadDecimal",112,"NumPad_Decimal",110,"VK_DECIMAL",i,i],[0,106,"IntlBackslash",97,"OEM_102",226,"VK_OEM_102",i,i],[1,107,"ContextMenu",58,"ContextMenu",93,i,i,i],[1,108,"Power",0,i,0,i,i,i],[1,109,"NumpadEqual",0,i,0,i,i,i],[1,110,"F13",71,"F13",124,"VK_F13",i,i],[1,111,"F14",72,"F14",125,"VK_F14",i,i],[1,112,"F15",73,"F15",126,"VK_F15",i,i],[1,113,"F16",74,"F16",127,"VK_F16",i,i],[1,114,"F17",75,"F17",128,"VK_F17",i,i],[1,115,"F18",76,"F18",129,"VK_F18",i,i],[1,116,"F19",77,"F19",130,"VK_F19",i,i],[1,117,"F20",78,"F20",131,"VK_F20",i,i],[1,118,"F21",79,"F21",132,"VK_F21",i,i],[1,119,"F22",80,"F22",133,"VK_F22",i,i],[1,120,"F23",81,"F23",134,"VK_F23",i,i],[1,121,"F24",82,"F24",135,"VK_F24",i,i],[1,122,"Open",0,i,0,i,i,i],[1,123,"Help",0,i,0,i,i,i],[1,124,"Select",0,i,0,i,i,i],[1,125,"Again",0,i,0,i,i,i],[1,126,"Undo",0,i,0,i,i,i],[1,127,"Cut",0,i,0,i,i,i],[1,128,"Copy",0,i,0,i,i,i],[1,129,"Paste",0,i,0,i,i,i],[1,130,"Find",0,i,0,i,i,i],[1,131,"AudioVolumeMute",117,"AudioVolumeMute",173,"VK_VOLUME_MUTE",i,i],[1,132,"AudioVolumeUp",118,"AudioVolumeUp",175,"VK_VOLUME_UP",i,i],[1,133,"AudioVolumeDown",119,"AudioVolumeDown",174,"VK_VOLUME_DOWN",i,i],[1,134,"NumpadComma",110,"NumPad_Separator",108,"VK_SEPARATOR",i,i],[0,135,"IntlRo",115,"ABNT_C1",193,"VK_ABNT_C1",i,i],[1,136,"KanaMode",0,i,0,i,i,i],[0,137,"IntlYen",0,i,0,i,i,i],[1,138,"Convert",0,i,0,i,i,i],[1,139,"NonConvert",0,i,0,i,i,i],[1,140,"Lang1",0,i,0,i,i,i],[1,141,"Lang2",0,i,0,i,i,i],[1,142,"Lang3",0,i,0,i,i,i],[1,143,"Lang4",0,i,0,i,i,i],[1,144,"Lang5",0,i,0,i,i,i],[1,145,"Abort",0,i,0,i,i,i],[1,146,"Props",0,i,0,i,i,i],[1,147,"NumpadParenLeft",0,i,0,i,i,i],[1,148,"NumpadParenRight",0,i,0,i,i,i],[1,149,"NumpadBackspace",0,i,0,i,i,i],[1,150,"NumpadMemoryStore",0,i,0,i,i,i],[1,151,"NumpadMemoryRecall",0,i,0,i,i,i],[1,152,"NumpadMemoryClear",0,i,0,i,i,i],[1,153,"NumpadMemoryAdd",0,i,0,i,i,i],[1,154,"NumpadMemorySubtract",0,i,0,i,i,i],[1,155,"NumpadClear",131,"Clear",12,"VK_CLEAR",i,i],[1,156,"NumpadClearEntry",0,i,0,i,i,i],[1,0,i,5,"Ctrl",17,"VK_CONTROL",i,i],[1,0,i,4,"Shift",16,"VK_SHIFT",i,i],[1,0,i,6,"Alt",18,"VK_MENU",i,i],[1,0,i,57,"Meta",91,"VK_COMMAND",i,i],[1,157,"ControlLeft",5,i,0,"VK_LCONTROL",i,i],[1,158,"ShiftLeft",4,i,0,"VK_LSHIFT",i,i],[1,159,"AltLeft",6,i,0,"VK_LMENU",i,i],[1,160,"MetaLeft",57,i,0,"VK_LWIN",i,i],[1,161,"ControlRight",5,i,0,"VK_RCONTROL",i,i],[1,162,"ShiftRight",4,i,0,"VK_RSHIFT",i,i],[1,163,"AltRight",6,i,0,"VK_RMENU",i,i],[1,164,"MetaRight",57,i,0,"VK_RWIN",i,i],[1,165,"BrightnessUp",0,i,0,i,i,i],[1,166,"BrightnessDown",0,i,0,i,i,i],[1,167,"MediaPlay",0,i,0,i,i,i],[1,168,"MediaRecord",0,i,0,i,i,i],[1,169,"MediaFastForward",0,i,0,i,i,i],[1,170,"MediaRewind",0,i,0,i,i,i],[1,171,"MediaTrackNext",124,"MediaTrackNext",176,"VK_MEDIA_NEXT_TRACK",i,i],[1,172,"MediaTrackPrevious",125,"MediaTrackPrevious",177,"VK_MEDIA_PREV_TRACK",i,i],[1,173,"MediaStop",126,"MediaStop",178,"VK_MEDIA_STOP",i,i],[1,174,"Eject",0,i,0,i,i,i],[1,175,"MediaPlayPause",127,"MediaPlayPause",179,"VK_MEDIA_PLAY_PAUSE",i,i],[1,176,"MediaSelect",128,"LaunchMediaPlayer",181,"VK_MEDIA_LAUNCH_MEDIA_SELECT",i,i],[1,177,"LaunchMail",129,"LaunchMail",180,"VK_MEDIA_LAUNCH_MAIL",i,i],[1,178,"LaunchApp2",130,"LaunchApp2",183,"VK_MEDIA_LAUNCH_APP2",i,i],[1,179,"LaunchApp1",0,i,0,"VK_MEDIA_LAUNCH_APP1",i,i],[1,180,"SelectTask",0,i,0,i,i,i],[1,181,"LaunchScreenSaver",0,i,0,i,i,i],[1,182,"BrowserSearch",120,"BrowserSearch",170,"VK_BROWSER_SEARCH",i,i],[1,183,"BrowserHome",121,"BrowserHome",172,"VK_BROWSER_HOME",i,i],[1,184,"BrowserBack",122,"BrowserBack",166,"VK_BROWSER_BACK",i,i],[1,185,"BrowserForward",123,"BrowserForward",167,"VK_BROWSER_FORWARD",i,i],[1,186,"BrowserStop",0,i,0,"VK_BROWSER_STOP",i,i],[1,187,"BrowserRefresh",0,i,0,"VK_BROWSER_REFRESH",i,i],[1,188,"BrowserFavorites",0,i,0,"VK_BROWSER_FAVORITES",i,i],[1,189,"ZoomToggle",0,i,0,i,i,i],[1,190,"MailReply",0,i,0,i,i,i],[1,191,"MailForward",0,i,0,i,i,i],[1,192,"MailSend",0,i,0,i,i,i],[1,0,i,114,"KeyInComposition",229,i,i,i],[1,0,i,116,"ABNT_C2",194,"VK_ABNT_C2",i,i],[1,0,i,96,"OEM_8",223,"VK_OEM_8",i,i],[1,0,i,0,i,0,"VK_KANA",i,i],[1,0,i,0,i,0,"VK_HANGUL",i,i],[1,0,i,0,i,0,"VK_JUNJA",i,i],[1,0,i,0,i,0,"VK_FINAL",i,i],[1,0,i,0,i,0,"VK_HANJA",i,i],[1,0,i,0,i,0,"VK_KANJI",i,i],[1,0,i,0,i,0,"VK_CONVERT",i,i],[1,0,i,0,i,0,"VK_NONCONVERT",i,i],[1,0,i,0,i,0,"VK_ACCEPT",i,i],[1,0,i,0,i,0,"VK_MODECHANGE",i,i],[1,0,i,0,i,0,"VK_SELECT",i,i],[1,0,i,0,i,0,"VK_PRINT",i,i],[1,0,i,0,i,0,"VK_EXECUTE",i,i],[1,0,i,0,i,0,"VK_SNAPSHOT",i,i],[1,0,i,0,i,0,"VK_HELP",i,i],[1,0,i,0,i,0,"VK_APPS",i,i],[1,0,i,0,i,0,"VK_PROCESSKEY",i,i],[1,0,i,0,i,0,"VK_PACKET",i,i],[1,0,i,0,i,0,"VK_DBE_SBCSCHAR",i,i],[1,0,i,0,i,0,"VK_DBE_DBCSCHAR",i,i],[1,0,i,0,i,0,"VK_ATTN",i,i],[1,0,i,0,i,0,"VK_CRSEL",i,i],[1,0,i,0,i,0,"VK_EXSEL",i,i],[1,0,i,0,i,0,"VK_EREOF",i,i],[1,0,i,0,i,0,"VK_PLAY",i,i],[1,0,i,0,i,0,"VK_ZOOM",i,i],[1,0,i,0,i,0,"VK_NONAME",i,i],[1,0,i,0,i,0,"VK_PA1",i,i],[1,0,i,0,i,0,"VK_OEM_CLEAR",i,i]],It=[],pt=[];for(const at of mt){const[xt,dt,ut,St,$t,Zt,cn,Nt,T]=at;if(pt[dt]||(pt[dt]=!0,O[dt]=ut,ne[ut]=dt,B[ut.toLowerCase()]=dt,xt&&($[dt]=St,St!==0&&St!==3&&St!==5&&St!==4&&St!==6&&St!==57&&(j[St]=dt))),!It[St]){if(It[St]=!0,!$t)throw new Error(`String representation missing for key code ${St} around scan code ${ut}`);K.define(St,$t),Q.define(St,Nt||$t),N.define(St,T||Nt||$t)}Zt&&(g[Zt]=St),cn&&(Y[cn]=St)}j[3]=46})();var z;(function(i){function mt(ut){return K.keyCodeToStr(ut)}n(mt,"toString"),i.toString=mt;function It(ut){return K.strToKeyCode(ut)}n(It,"fromString"),i.fromString=It;function pt(ut){return Q.keyCodeToStr(ut)}n(pt,"toUserSettingsUS"),i.toUserSettingsUS=pt;function at(ut){return N.keyCodeToStr(ut)}n(at,"toUserSettingsGeneral"),i.toUserSettingsGeneral=at;function xt(ut){return Q.strToKeyCode(ut)||N.strToKeyCode(ut)}n(xt,"fromUserSettings"),i.fromUserSettings=xt;function dt(ut){if(ut>=98&&ut<=113)return null;switch(ut){case 16:return"Up";case 18:return"Down";case 15:return"Left";case 17:return"Right"}return K.keyCodeToStr(ut)}n(dt,"toElectronAccelerator"),i.toElectronAccelerator=dt})(z||(z={}));function U(i,mt){const It=(mt&65535)<<16>>>0;return(i|It)>>>0}n(U,"KeyChord");var v=E(7264),ce=E(5365),J=E(8061),y=E(3702),W=E(4364),me;(function(i){i[i.Unknown=0]="Unknown",i[i.Disabled=1]="Disabled",i[i.Enabled=2]="Enabled"})(me||(me={}));var we;(function(i){i[i.Invoke=1]="Invoke",i[i.Auto=2]="Auto"})(we||(we={}));var Ue;(function(i){i[i.None=0]="None",i[i.KeepWhitespace=1]="KeepWhitespace",i[i.InsertAsSnippet=4]="InsertAsSnippet"})(Ue||(Ue={}));var Ce;(function(i){i[i.Method=0]="Method",i[i.Function=1]="Function",i[i.Constructor=2]="Constructor",i[i.Field=3]="Field",i[i.Variable=4]="Variable",i[i.Class=5]="Class",i[i.Struct=6]="Struct",i[i.Interface=7]="Interface",i[i.Module=8]="Module",i[i.Property=9]="Property",i[i.Event=10]="Event",i[i.Operator=11]="Operator",i[i.Unit=12]="Unit",i[i.Value=13]="Value",i[i.Constant=14]="Constant",i[i.Enum=15]="Enum",i[i.EnumMember=16]="EnumMember",i[i.Keyword=17]="Keyword",i[i.Text=18]="Text",i[i.Color=19]="Color",i[i.File=20]="File",i[i.Reference=21]="Reference",i[i.Customcolor=22]="Customcolor",i[i.Folder=23]="Folder",i[i.TypeParameter=24]="TypeParameter",i[i.User=25]="User",i[i.Issue=26]="Issue",i[i.Snippet=27]="Snippet"})(Ce||(Ce={}));var R;(function(i){i[i.Deprecated=1]="Deprecated"})(R||(R={}));var m;(function(i){i[i.Invoke=0]="Invoke",i[i.TriggerCharacter=1]="TriggerCharacter",i[i.TriggerForIncompleteCompletions=2]="TriggerForIncompleteCompletions"})(m||(m={}));var _;(function(i){i[i.EXACT=0]="EXACT",i[i.ABOVE=1]="ABOVE",i[i.BELOW=2]="BELOW"})(_||(_={}));var b;(function(i){i[i.NotSet=0]="NotSet",i[i.ContentFlush=1]="ContentFlush",i[i.RecoverFromMarkers=2]="RecoverFromMarkers",i[i.Explicit=3]="Explicit",i[i.Paste=4]="Paste",i[i.Undo=5]="Undo",i[i.Redo=6]="Redo"})(b||(b={}));var I;(function(i){i[i.LF=1]="LF",i[i.CRLF=2]="CRLF"})(I||(I={}));var P;(function(i){i[i.Text=0]="Text",i[i.Read=1]="Read",i[i.Write=2]="Write"})(P||(P={}));var V;(function(i){i[i.None=0]="None",i[i.Keep=1]="Keep",i[i.Brackets=2]="Brackets",i[i.Advanced=3]="Advanced",i[i.Full=4]="Full"})(V||(V={}));var ee;(function(i){i[i.acceptSuggestionOnCommitCharacter=0]="acceptSuggestionOnCommitCharacter",i[i.acceptSuggestionOnEnter=1]="acceptSuggestionOnEnter",i[i.accessibilitySupport=2]="accessibilitySupport",i[i.accessibilityPageSize=3]="accessibilityPageSize",i[i.ariaLabel=4]="ariaLabel",i[i.ariaRequired=5]="ariaRequired",i[i.autoClosingBrackets=6]="autoClosingBrackets",i[i.autoClosingComments=7]="autoClosingComments",i[i.screenReaderAnnounceInlineSuggestion=8]="screenReaderAnnounceInlineSuggestion",i[i.autoClosingDelete=9]="autoClosingDelete",i[i.autoClosingOvertype=10]="autoClosingOvertype",i[i.autoClosingQuotes=11]="autoClosingQuotes",i[i.autoIndent=12]="autoIndent",i[i.automaticLayout=13]="automaticLayout",i[i.autoSurround=14]="autoSurround",i[i.bracketPairColorization=15]="bracketPairColorization",i[i.guides=16]="guides",i[i.codeLens=17]="codeLens",i[i.codeLensFontFamily=18]="codeLensFontFamily",i[i.codeLensFontSize=19]="codeLensFontSize",i[i.colorDecorators=20]="colorDecorators",i[i.colorDecoratorsLimit=21]="colorDecoratorsLimit",i[i.columnSelection=22]="columnSelection",i[i.comments=23]="comments",i[i.contextmenu=24]="contextmenu",i[i.copyWithSyntaxHighlighting=25]="copyWithSyntaxHighlighting",i[i.cursorBlinking=26]="cursorBlinking",i[i.cursorSmoothCaretAnimation=27]="cursorSmoothCaretAnimation",i[i.cursorStyle=28]="cursorStyle",i[i.cursorSurroundingLines=29]="cursorSurroundingLines",i[i.cursorSurroundingLinesStyle=30]="cursorSurroundingLinesStyle",i[i.cursorWidth=31]="cursorWidth",i[i.disableLayerHinting=32]="disableLayerHinting",i[i.disableMonospaceOptimizations=33]="disableMonospaceOptimizations",i[i.domReadOnly=34]="domReadOnly",i[i.dragAndDrop=35]="dragAndDrop",i[i.dropIntoEditor=36]="dropIntoEditor",i[i.emptySelectionClipboard=37]="emptySelectionClipboard",i[i.experimentalWhitespaceRendering=38]="experimentalWhitespaceRendering",i[i.extraEditorClassName=39]="extraEditorClassName",i[i.fastScrollSensitivity=40]="fastScrollSensitivity",i[i.find=41]="find",i[i.fixedOverflowWidgets=42]="fixedOverflowWidgets",i[i.folding=43]="folding",i[i.foldingStrategy=44]="foldingStrategy",i[i.foldingHighlight=45]="foldingHighlight",i[i.foldingImportsByDefault=46]="foldingImportsByDefault",i[i.foldingMaximumRegions=47]="foldingMaximumRegions",i[i.unfoldOnClickAfterEndOfLine=48]="unfoldOnClickAfterEndOfLine",i[i.fontFamily=49]="fontFamily",i[i.fontInfo=50]="fontInfo",i[i.fontLigatures=51]="fontLigatures",i[i.fontSize=52]="fontSize",i[i.fontWeight=53]="fontWeight",i[i.fontVariations=54]="fontVariations",i[i.formatOnPaste=55]="formatOnPaste",i[i.formatOnType=56]="formatOnType",i[i.glyphMargin=57]="glyphMargin",i[i.gotoLocation=58]="gotoLocation",i[i.hideCursorInOverviewRuler=59]="hideCursorInOverviewRuler",i[i.hover=60]="hover",i[i.inDiffEditor=61]="inDiffEditor",i[i.inlineSuggest=62]="inlineSuggest",i[i.inlineEdit=63]="inlineEdit",i[i.letterSpacing=64]="letterSpacing",i[i.lightbulb=65]="lightbulb",i[i.lineDecorationsWidth=66]="lineDecorationsWidth",i[i.lineHeight=67]="lineHeight",i[i.lineNumbers=68]="lineNumbers",i[i.lineNumbersMinChars=69]="lineNumbersMinChars",i[i.linkedEditing=70]="linkedEditing",i[i.links=71]="links",i[i.matchBrackets=72]="matchBrackets",i[i.minimap=73]="minimap",i[i.mouseStyle=74]="mouseStyle",i[i.mouseWheelScrollSensitivity=75]="mouseWheelScrollSensitivity",i[i.mouseWheelZoom=76]="mouseWheelZoom",i[i.multiCursorMergeOverlapping=77]="multiCursorMergeOverlapping",i[i.multiCursorModifier=78]="multiCursorModifier",i[i.multiCursorPaste=79]="multiCursorPaste",i[i.multiCursorLimit=80]="multiCursorLimit",i[i.occurrencesHighlight=81]="occurrencesHighlight",i[i.overviewRulerBorder=82]="overviewRulerBorder",i[i.overviewRulerLanes=83]="overviewRulerLanes",i[i.padding=84]="padding",i[i.pasteAs=85]="pasteAs",i[i.parameterHints=86]="parameterHints",i[i.peekWidgetDefaultFocus=87]="peekWidgetDefaultFocus",i[i.placeholder=88]="placeholder",i[i.definitionLinkOpensInPeek=89]="definitionLinkOpensInPeek",i[i.quickSuggestions=90]="quickSuggestions",i[i.quickSuggestionsDelay=91]="quickSuggestionsDelay",i[i.readOnly=92]="readOnly",i[i.readOnlyMessage=93]="readOnlyMessage",i[i.renameOnType=94]="renameOnType",i[i.renderControlCharacters=95]="renderControlCharacters",i[i.renderFinalNewline=96]="renderFinalNewline",i[i.renderLineHighlight=97]="renderLineHighlight",i[i.renderLineHighlightOnlyWhenFocus=98]="renderLineHighlightOnlyWhenFocus",i[i.renderValidationDecorations=99]="renderValidationDecorations",i[i.renderWhitespace=100]="renderWhitespace",i[i.revealHorizontalRightPadding=101]="revealHorizontalRightPadding",i[i.roundedSelection=102]="roundedSelection",i[i.rulers=103]="rulers",i[i.scrollbar=104]="scrollbar",i[i.scrollBeyondLastColumn=105]="scrollBeyondLastColumn",i[i.scrollBeyondLastLine=106]="scrollBeyondLastLine",i[i.scrollPredominantAxis=107]="scrollPredominantAxis",i[i.selectionClipboard=108]="selectionClipboard",i[i.selectionHighlight=109]="selectionHighlight",i[i.selectOnLineNumbers=110]="selectOnLineNumbers",i[i.showFoldingControls=111]="showFoldingControls",i[i.showUnused=112]="showUnused",i[i.snippetSuggestions=113]="snippetSuggestions",i[i.smartSelect=114]="smartSelect",i[i.smoothScrolling=115]="smoothScrolling",i[i.stickyScroll=116]="stickyScroll",i[i.stickyTabStops=117]="stickyTabStops",i[i.stopRenderingLineAfter=118]="stopRenderingLineAfter",i[i.suggest=119]="suggest",i[i.suggestFontSize=120]="suggestFontSize",i[i.suggestLineHeight=121]="suggestLineHeight",i[i.suggestOnTriggerCharacters=122]="suggestOnTriggerCharacters",i[i.suggestSelection=123]="suggestSelection",i[i.tabCompletion=124]="tabCompletion",i[i.tabIndex=125]="tabIndex",i[i.unicodeHighlighting=126]="unicodeHighlighting",i[i.unusualLineTerminators=127]="unusualLineTerminators",i[i.useShadowDOM=128]="useShadowDOM",i[i.useTabStops=129]="useTabStops",i[i.wordBreak=130]="wordBreak",i[i.wordSegmenterLocales=131]="wordSegmenterLocales",i[i.wordSeparators=132]="wordSeparators",i[i.wordWrap=133]="wordWrap",i[i.wordWrapBreakAfterCharacters=134]="wordWrapBreakAfterCharacters",i[i.wordWrapBreakBeforeCharacters=135]="wordWrapBreakBeforeCharacters",i[i.wordWrapColumn=136]="wordWrapColumn",i[i.wordWrapOverride1=137]="wordWrapOverride1",i[i.wordWrapOverride2=138]="wordWrapOverride2",i[i.wrappingIndent=139]="wrappingIndent",i[i.wrappingStrategy=140]="wrappingStrategy",i[i.showDeprecated=141]="showDeprecated",i[i.inlayHints=142]="inlayHints",i[i.editorClassName=143]="editorClassName",i[i.pixelRatio=144]="pixelRatio",i[i.tabFocusMode=145]="tabFocusMode",i[i.layoutInfo=146]="layoutInfo",i[i.wrappingInfo=147]="wrappingInfo",i[i.defaultColorDecorators=148]="defaultColorDecorators",i[i.colorDecoratorsActivatedOn=149]="colorDecoratorsActivatedOn",i[i.inlineCompletionsAccessibilityVerbose=150]="inlineCompletionsAccessibilityVerbose"})(ee||(ee={}));var fe;(function(i){i[i.TextDefined=0]="TextDefined",i[i.LF=1]="LF",i[i.CRLF=2]="CRLF"})(fe||(fe={}));var ue;(function(i){i[i.LF=0]="LF",i[i.CRLF=1]="CRLF"})(ue||(ue={}));var Te;(function(i){i[i.Left=1]="Left",i[i.Center=2]="Center",i[i.Right=3]="Right"})(Te||(Te={}));var je;(function(i){i[i.Increase=0]="Increase",i[i.Decrease=1]="Decrease"})(je||(je={}));var Xe;(function(i){i[i.None=0]="None",i[i.Indent=1]="Indent",i[i.IndentOutdent=2]="IndentOutdent",i[i.Outdent=3]="Outdent"})(Xe||(Xe={}));var We;(function(i){i[i.Both=0]="Both",i[i.Right=1]="Right",i[i.Left=2]="Left",i[i.None=3]="None"})(We||(We={}));var A;(function(i){i[i.Type=1]="Type",i[i.Parameter=2]="Parameter"})(A||(A={}));var M;(function(i){i[i.Automatic=0]="Automatic",i[i.Explicit=1]="Explicit"})(M||(M={}));var G;(function(i){i[i.Invoke=0]="Invoke",i[i.Automatic=1]="Automatic"})(G||(G={}));var w;(function(i){i[i.DependsOnKbLayout=-1]="DependsOnKbLayout",i[i.Unknown=0]="Unknown",i[i.Backspace=1]="Backspace",i[i.Tab=2]="Tab",i[i.Enter=3]="Enter",i[i.Shift=4]="Shift",i[i.Ctrl=5]="Ctrl",i[i.Alt=6]="Alt",i[i.PauseBreak=7]="PauseBreak",i[i.CapsLock=8]="CapsLock",i[i.Escape=9]="Escape",i[i.Space=10]="Space",i[i.PageUp=11]="PageUp",i[i.PageDown=12]="PageDown",i[i.End=13]="End",i[i.Home=14]="Home",i[i.LeftArrow=15]="LeftArrow",i[i.UpArrow=16]="UpArrow",i[i.RightArrow=17]="RightArrow",i[i.DownArrow=18]="DownArrow",i[i.Insert=19]="Insert",i[i.Delete=20]="Delete",i[i.Digit0=21]="Digit0",i[i.Digit1=22]="Digit1",i[i.Digit2=23]="Digit2",i[i.Digit3=24]="Digit3",i[i.Digit4=25]="Digit4",i[i.Digit5=26]="Digit5",i[i.Digit6=27]="Digit6",i[i.Digit7=28]="Digit7",i[i.Digit8=29]="Digit8",i[i.Digit9=30]="Digit9",i[i.KeyA=31]="KeyA",i[i.KeyB=32]="KeyB",i[i.KeyC=33]="KeyC",i[i.KeyD=34]="KeyD",i[i.KeyE=35]="KeyE",i[i.KeyF=36]="KeyF",i[i.KeyG=37]="KeyG",i[i.KeyH=38]="KeyH",i[i.KeyI=39]="KeyI",i[i.KeyJ=40]="KeyJ",i[i.KeyK=41]="KeyK",i[i.KeyL=42]="KeyL",i[i.KeyM=43]="KeyM",i[i.KeyN=44]="KeyN",i[i.KeyO=45]="KeyO",i[i.KeyP=46]="KeyP",i[i.KeyQ=47]="KeyQ",i[i.KeyR=48]="KeyR",i[i.KeyS=49]="KeyS",i[i.KeyT=50]="KeyT",i[i.KeyU=51]="KeyU",i[i.KeyV=52]="KeyV",i[i.KeyW=53]="KeyW",i[i.KeyX=54]="KeyX",i[i.KeyY=55]="KeyY",i[i.KeyZ=56]="KeyZ",i[i.Meta=57]="Meta",i[i.ContextMenu=58]="ContextMenu",i[i.F1=59]="F1",i[i.F2=60]="F2",i[i.F3=61]="F3",i[i.F4=62]="F4",i[i.F5=63]="F5",i[i.F6=64]="F6",i[i.F7=65]="F7",i[i.F8=66]="F8",i[i.F9=67]="F9",i[i.F10=68]="F10",i[i.F11=69]="F11",i[i.F12=70]="F12",i[i.F13=71]="F13",i[i.F14=72]="F14",i[i.F15=73]="F15",i[i.F16=74]="F16",i[i.F17=75]="F17",i[i.F18=76]="F18",i[i.F19=77]="F19",i[i.F20=78]="F20",i[i.F21=79]="F21",i[i.F22=80]="F22",i[i.F23=81]="F23",i[i.F24=82]="F24",i[i.NumLock=83]="NumLock",i[i.ScrollLock=84]="ScrollLock",i[i.Semicolon=85]="Semicolon",i[i.Equal=86]="Equal",i[i.Comma=87]="Comma",i[i.Minus=88]="Minus",i[i.Period=89]="Period",i[i.Slash=90]="Slash",i[i.Backquote=91]="Backquote",i[i.BracketLeft=92]="BracketLeft",i[i.Backslash=93]="Backslash",i[i.BracketRight=94]="BracketRight",i[i.Quote=95]="Quote",i[i.OEM_8=96]="OEM_8",i[i.IntlBackslash=97]="IntlBackslash",i[i.Numpad0=98]="Numpad0",i[i.Numpad1=99]="Numpad1",i[i.Numpad2=100]="Numpad2",i[i.Numpad3=101]="Numpad3",i[i.Numpad4=102]="Numpad4",i[i.Numpad5=103]="Numpad5",i[i.Numpad6=104]="Numpad6",i[i.Numpad7=105]="Numpad7",i[i.Numpad8=106]="Numpad8",i[i.Numpad9=107]="Numpad9",i[i.NumpadMultiply=108]="NumpadMultiply",i[i.NumpadAdd=109]="NumpadAdd",i[i.NUMPAD_SEPARATOR=110]="NUMPAD_SEPARATOR",i[i.NumpadSubtract=111]="NumpadSubtract",i[i.NumpadDecimal=112]="NumpadDecimal",i[i.NumpadDivide=113]="NumpadDivide",i[i.KEY_IN_COMPOSITION=114]="KEY_IN_COMPOSITION",i[i.ABNT_C1=115]="ABNT_C1",i[i.ABNT_C2=116]="ABNT_C2",i[i.AudioVolumeMute=117]="AudioVolumeMute",i[i.AudioVolumeUp=118]="AudioVolumeUp",i[i.AudioVolumeDown=119]="AudioVolumeDown",i[i.BrowserSearch=120]="BrowserSearch",i[i.BrowserHome=121]="BrowserHome",i[i.BrowserBack=122]="BrowserBack",i[i.BrowserForward=123]="BrowserForward",i[i.MediaTrackNext=124]="MediaTrackNext",i[i.MediaTrackPrevious=125]="MediaTrackPrevious",i[i.MediaStop=126]="MediaStop",i[i.MediaPlayPause=127]="MediaPlayPause",i[i.LaunchMediaPlayer=128]="LaunchMediaPlayer",i[i.LaunchMail=129]="LaunchMail",i[i.LaunchApp2=130]="LaunchApp2",i[i.Clear=131]="Clear",i[i.MAX_VALUE=132]="MAX_VALUE"})(w||(w={}));var D;(function(i){i[i.Hint=1]="Hint",i[i.Info=2]="Info",i[i.Warning=4]="Warning",i[i.Error=8]="Error"})(D||(D={}));var Z;(function(i){i[i.Unnecessary=1]="Unnecessary",i[i.Deprecated=2]="Deprecated"})(Z||(Z={}));var he;(function(i){i[i.Inline=1]="Inline",i[i.Gutter=2]="Gutter"})(he||(he={}));var ye;(function(i){i[i.Normal=1]="Normal",i[i.Underlined=2]="Underlined"})(ye||(ye={}));var He;(function(i){i[i.UNKNOWN=0]="UNKNOWN",i[i.TEXTAREA=1]="TEXTAREA",i[i.GUTTER_GLYPH_MARGIN=2]="GUTTER_GLYPH_MARGIN",i[i.GUTTER_LINE_NUMBERS=3]="GUTTER_LINE_NUMBERS",i[i.GUTTER_LINE_DECORATIONS=4]="GUTTER_LINE_DECORATIONS",i[i.GUTTER_VIEW_ZONE=5]="GUTTER_VIEW_ZONE",i[i.CONTENT_TEXT=6]="CONTENT_TEXT",i[i.CONTENT_EMPTY=7]="CONTENT_EMPTY",i[i.CONTENT_VIEW_ZONE=8]="CONTENT_VIEW_ZONE",i[i.CONTENT_WIDGET=9]="CONTENT_WIDGET",i[i.OVERVIEW_RULER=10]="OVERVIEW_RULER",i[i.SCROLLBAR=11]="SCROLLBAR",i[i.OVERLAY_WIDGET=12]="OVERLAY_WIDGET",i[i.OUTSIDE_EDITOR=13]="OUTSIDE_EDITOR"})(He||(He={}));var Ve;(function(i){i[i.AIGenerated=1]="AIGenerated"})(Ve||(Ve={}));var ft;(function(i){i[i.Invoke=0]="Invoke",i[i.Automatic=1]="Automatic"})(ft||(ft={}));var ot;(function(i){i[i.TOP_RIGHT_CORNER=0]="TOP_RIGHT_CORNER",i[i.BOTTOM_RIGHT_CORNER=1]="BOTTOM_RIGHT_CORNER",i[i.TOP_CENTER=2]="TOP_CENTER"})(ot||(ot={}));var kt;(function(i){i[i.Left=1]="Left",i[i.Center=2]="Center",i[i.Right=4]="Right",i[i.Full=7]="Full"})(kt||(kt={}));var nn;(function(i){i[i.Word=0]="Word",i[i.Line=1]="Line",i[i.Suggest=2]="Suggest"})(nn||(nn={}));var Ut;(function(i){i[i.Left=0]="Left",i[i.Right=1]="Right",i[i.None=2]="None",i[i.LeftOfInjectedText=3]="LeftOfInjectedText",i[i.RightOfInjectedText=4]="RightOfInjectedText"})(Ut||(Ut={}));var Dn;(function(i){i[i.Off=0]="Off",i[i.On=1]="On",i[i.Relative=2]="Relative",i[i.Interval=3]="Interval",i[i.Custom=4]="Custom"})(Dn||(Dn={}));var En;(function(i){i[i.None=0]="None",i[i.Text=1]="Text",i[i.Blocks=2]="Blocks"})(En||(En={}));var _n;(function(i){i[i.Smooth=0]="Smooth",i[i.Immediate=1]="Immediate"})(_n||(_n={}));var vn;(function(i){i[i.Auto=1]="Auto",i[i.Hidden=2]="Hidden",i[i.Visible=3]="Visible"})(vn||(vn={}));var mn;(function(i){i[i.LTR=0]="LTR",i[i.RTL=1]="RTL"})(mn||(mn={}));var pn;(function(i){i.Off="off",i.OnCode="onCode",i.On="on"})(pn||(pn={}));var dn;(function(i){i[i.Invoke=1]="Invoke",i[i.TriggerCharacter=2]="TriggerCharacter",i[i.ContentChange=3]="ContentChange"})(dn||(dn={}));var xn;(function(i){i[i.File=0]="File",i[i.Module=1]="Module",i[i.Namespace=2]="Namespace",i[i.Package=3]="Package",i[i.Class=4]="Class",i[i.Method=5]="Method",i[i.Property=6]="Property",i[i.Field=7]="Field",i[i.Constructor=8]="Constructor",i[i.Enum=9]="Enum",i[i.Interface=10]="Interface",i[i.Function=11]="Function",i[i.Variable=12]="Variable",i[i.Constant=13]="Constant",i[i.String=14]="String",i[i.Number=15]="Number",i[i.Boolean=16]="Boolean",i[i.Array=17]="Array",i[i.Object=18]="Object",i[i.Key=19]="Key",i[i.Null=20]="Null",i[i.EnumMember=21]="EnumMember",i[i.Struct=22]="Struct",i[i.Event=23]="Event",i[i.Operator=24]="Operator",i[i.TypeParameter=25]="TypeParameter"})(xn||(xn={}));var an;(function(i){i[i.Deprecated=1]="Deprecated"})(an||(an={}));var Rn;(function(i){i[i.Hidden=0]="Hidden",i[i.Blink=1]="Blink",i[i.Smooth=2]="Smooth",i[i.Phase=3]="Phase",i[i.Expand=4]="Expand",i[i.Solid=5]="Solid"})(Rn||(Rn={}));var wn;(function(i){i[i.Line=1]="Line",i[i.Block=2]="Block",i[i.Underline=3]="Underline",i[i.LineThin=4]="LineThin",i[i.BlockOutline=5]="BlockOutline",i[i.UnderlineThin=6]="UnderlineThin"})(wn||(wn={}));var Fn;(function(i){i[i.AlwaysGrowsWhenTypingAtEdges=0]="AlwaysGrowsWhenTypingAtEdges",i[i.NeverGrowsWhenTypingAtEdges=1]="NeverGrowsWhenTypingAtEdges",i[i.GrowsOnlyWhenTypingBefore=2]="GrowsOnlyWhenTypingBefore",i[i.GrowsOnlyWhenTypingAfter=3]="GrowsOnlyWhenTypingAfter"})(Fn||(Fn={}));var An;(function(i){i[i.None=0]="None",i[i.Same=1]="Same",i[i.Indent=2]="Indent",i[i.DeepIndent=3]="DeepIndent"})(An||(An={}));const $e=class $e{static chord(mt,It){return U(mt,It)}};n($e,"KeyMod"),$e.CtrlCmd=2048,$e.Shift=1024,$e.Alt=512,$e.WinCtrl=256;let gn=$e;function Tn(){return{editor:void 0,languages:void 0,CancellationTokenSource:F.Qi,Emitter:ie.vl,KeyCode:w,KeyMod:gn,Position:ce.y,Range:J.Q,Selection:y.L,SelectionDirection:mn,MarkerSeverity:D,MarkerTag:Z,Uri:v.r,Token:W.ou}}n(Tn,"createMonacoBaseAPI")},7798:(Lt,Pe,E)=>{"use strict";E.r(Pe),E.d(Pe,{BaseEditorSimpleWorker:n(()=>gi,"BaseEditorSimpleWorker"),EditorSimpleWorker:n(()=>ti,"EditorSimpleWorker"),create:n(()=>qi,"create")});const Si=class Si{constructor(p,k,H,re){this.originalStart=p,this.originalLength=k,this.modifiedStart=H,this.modifiedLength=re}getOriginalEnd(){return this.originalStart+this.originalLength}getModifiedEnd(){return this.modifiedStart+this.modifiedLength}};n(Si,"DiffChange");let F=Si;var ie=E(2344);const mi=class mi{constructor(p){this.source=p}getElements(){const p=this.source,k=new Int32Array(p.length);for(let H=0,re=p.length;H<re;H++)k[H]=p.charCodeAt(H);return k}};n(mi,"StringDiffSequence");let o=mi;function K(Me,p,k){return new Y(new o(Me),new o(p)).ComputeDiff(k).changes}n(K,"stringDiff");const Fe=class Fe{static Assert(p,k){if(!p)throw new Error(k)}};n(Fe,"Debug");let Q=Fe;const q=class q{static Copy(p,k,H,re,ae){for(let _e=0;_e<ae;_e++)H[re+_e]=p[k+_e]}static Copy2(p,k,H,re,ae){for(let _e=0;_e<ae;_e++)H[re+_e]=p[k+_e]}};n(q,"MyArray");let N=q;const xe=class xe{constructor(){this.m_changes=[],this.m_originalStart=1073741824,this.m_modifiedStart=1073741824,this.m_originalCount=0,this.m_modifiedCount=0}MarkNextChange(){(this.m_originalCount>0||this.m_modifiedCount>0)&&this.m_changes.push(new F(this.m_originalStart,this.m_originalCount,this.m_modifiedStart,this.m_modifiedCount)),this.m_originalCount=0,this.m_modifiedCount=0,this.m_originalStart=1073741824,this.m_modifiedStart=1073741824}AddOriginalElement(p,k){this.m_originalStart=Math.min(this.m_originalStart,p),this.m_modifiedStart=Math.min(this.m_modifiedStart,k),this.m_originalCount++}AddModifiedElement(p,k){this.m_originalStart=Math.min(this.m_originalStart,p),this.m_modifiedStart=Math.min(this.m_modifiedStart,k),this.m_modifiedCount++}getChanges(){return(this.m_originalCount>0||this.m_modifiedCount>0)&&this.MarkNextChange(),this.m_changes}getReverseChanges(){return(this.m_originalCount>0||this.m_modifiedCount>0)&&this.MarkNextChange(),this.m_changes.reverse(),this.m_changes}};n(xe,"DiffChangeHelper");let g=xe;const se=class se{constructor(p,k,H=null){this.ContinueProcessingPredicate=H,this._originalSequence=p,this._modifiedSequence=k;const[re,ae,_e]=se._getElements(p),[Ie,Ee,De]=se._getElements(k);this._hasStrings=_e&&De,this._originalStringElements=re,this._originalElementsOrHash=ae,this._modifiedStringElements=Ie,this._modifiedElementsOrHash=Ee,this.m_forwardHistory=[],this.m_reverseHistory=[]}static _isStringArray(p){return p.length>0&&typeof p[0]=="string"}static _getElements(p){const k=p.getElements();if(se._isStringArray(k)){const H=new Int32Array(k.length);for(let re=0,ae=k.length;re<ae;re++)H[re]=(0,ie.e2)(k[re],0);return[k,H,!0]}return k instanceof Int32Array?[[],k,!1]:[[],new Int32Array(k),!1]}ElementsAreEqual(p,k){return this._originalElementsOrHash[p]!==this._modifiedElementsOrHash[k]?!1:this._hasStrings?this._originalStringElements[p]===this._modifiedStringElements[k]:!0}ElementsAreStrictEqual(p,k){if(!this.ElementsAreEqual(p,k))return!1;const H=se._getStrictElement(this._originalSequence,p),re=se._getStrictElement(this._modifiedSequence,k);return H===re}static _getStrictElement(p,k){return typeof p.getStrictElement=="function"?p.getStrictElement(k):null}OriginalElementsAreEqual(p,k){return this._originalElementsOrHash[p]!==this._originalElementsOrHash[k]?!1:this._hasStrings?this._originalStringElements[p]===this._originalStringElements[k]:!0}ModifiedElementsAreEqual(p,k){return this._modifiedElementsOrHash[p]!==this._modifiedElementsOrHash[k]?!1:this._hasStrings?this._modifiedStringElements[p]===this._modifiedStringElements[k]:!0}ComputeDiff(p){return this._ComputeDiff(0,this._originalElementsOrHash.length-1,0,this._modifiedElementsOrHash.length-1,p)}_ComputeDiff(p,k,H,re,ae){const _e=[!1];let Ie=this.ComputeDiffRecursive(p,k,H,re,_e);return ae&&(Ie=this.PrettifyChanges(Ie)),{quitEarly:_e[0],changes:Ie}}ComputeDiffRecursive(p,k,H,re,ae){for(ae[0]=!1;p<=k&&H<=re&&this.ElementsAreEqual(p,H);)p++,H++;for(;k>=p&&re>=H&&this.ElementsAreEqual(k,re);)k--,re--;if(p>k||H>re){let Ke;return H<=re?(Q.Assert(p===k+1,"originalStart should only be one more than originalEnd"),Ke=[new F(p,0,H,re-H+1)]):p<=k?(Q.Assert(H===re+1,"modifiedStart should only be one more than modifiedEnd"),Ke=[new F(p,k-p+1,H,0)]):(Q.Assert(p===k+1,"originalStart should only be one more than originalEnd"),Q.Assert(H===re+1,"modifiedStart should only be one more than modifiedEnd"),Ke=[]),Ke}const _e=[0],Ie=[0],Ee=this.ComputeRecursionPoint(p,k,H,re,_e,Ie,ae),De=_e[0],Qe=Ie[0];if(Ee!==null)return Ee;if(!ae[0]){const Ke=this.ComputeDiffRecursive(p,De,H,Qe,ae);let et=[];return ae[0]?et=[new F(De+1,k-(De+1)+1,Qe+1,re-(Qe+1)+1)]:et=this.ComputeDiffRecursive(De+1,k,Qe+1,re,ae),this.ConcatenateChanges(Ke,et)}return[new F(p,k-p+1,H,re-H+1)]}WALKTRACE(p,k,H,re,ae,_e,Ie,Ee,De,Qe,Ke,et,st,gt,_t,Rt,Et,Xt){let Vt=null,Yt=null,zt=new g,en=k,jt=H,Dt=st[0]-Rt[0]-re,on=-1073741824,rn=this.m_forwardHistory.length-1;do{const Sn=Dt+p;Sn===en||Sn<jt&&De[Sn-1]<De[Sn+1]?(Ke=De[Sn+1],gt=Ke-Dt-re,Ke<on&&zt.MarkNextChange(),on=Ke,zt.AddModifiedElement(Ke+1,gt),Dt=Sn+1-p):(Ke=De[Sn-1]+1,gt=Ke-Dt-re,Ke<on&&zt.MarkNextChange(),on=Ke-1,zt.AddOriginalElement(Ke,gt+1),Dt=Sn-1-p),rn>=0&&(De=this.m_forwardHistory[rn],p=De[0],en=1,jt=De.length-1)}while(--rn>=-1);if(Vt=zt.getReverseChanges(),Xt[0]){let Sn=st[0]+1,hn=Rt[0]+1;if(Vt!==null&&Vt.length>0){const Mi=Vt[Vt.length-1];Sn=Math.max(Sn,Mi.getOriginalEnd()),hn=Math.max(hn,Mi.getModifiedEnd())}Yt=[new F(Sn,et-Sn+1,hn,_t-hn+1)]}else{zt=new g,en=_e,jt=Ie,Dt=st[0]-Rt[0]-Ee,on=1073741824,rn=Et?this.m_reverseHistory.length-1:this.m_reverseHistory.length-2;do{const Sn=Dt+ae;Sn===en||Sn<jt&&Qe[Sn-1]>=Qe[Sn+1]?(Ke=Qe[Sn+1]-1,gt=Ke-Dt-Ee,Ke>on&&zt.MarkNextChange(),on=Ke+1,zt.AddOriginalElement(Ke+1,gt+1),Dt=Sn+1-ae):(Ke=Qe[Sn-1],gt=Ke-Dt-Ee,Ke>on&&zt.MarkNextChange(),on=Ke,zt.AddModifiedElement(Ke+1,gt+1),Dt=Sn-1-ae),rn>=0&&(Qe=this.m_reverseHistory[rn],ae=Qe[0],en=1,jt=Qe.length-1)}while(--rn>=-1);Yt=zt.getChanges()}return this.ConcatenateChanges(Vt,Yt)}ComputeRecursionPoint(p,k,H,re,ae,_e,Ie){let Ee=0,De=0,Qe=0,Ke=0,et=0,st=0;p--,H--,ae[0]=0,_e[0]=0,this.m_forwardHistory=[],this.m_reverseHistory=[];const gt=k-p+(re-H),_t=gt+1,Rt=new Int32Array(_t),Et=new Int32Array(_t),Xt=re-H,Vt=k-p,Yt=p-H,zt=k-re,jt=(Vt-Xt)%2===0;Rt[Xt]=p,Et[Vt]=k,Ie[0]=!1;for(let Dt=1;Dt<=gt/2+1;Dt++){let on=0,rn=0;Qe=this.ClipDiagonalBound(Xt-Dt,Dt,Xt,_t),Ke=this.ClipDiagonalBound(Xt+Dt,Dt,Xt,_t);for(let hn=Qe;hn<=Ke;hn+=2){hn===Qe||hn<Ke&&Rt[hn-1]<Rt[hn+1]?Ee=Rt[hn+1]:Ee=Rt[hn-1]+1,De=Ee-(hn-Xt)-Yt;const Mi=Ee;for(;Ee<k&&De<re&&this.ElementsAreEqual(Ee+1,De+1);)Ee++,De++;if(Rt[hn]=Ee,Ee+De>on+rn&&(on=Ee,rn=De),!jt&&Math.abs(hn-Vt)<=Dt-1&&Ee>=Et[hn])return ae[0]=Ee,_e[0]=De,Mi<=Et[hn]&&Dt<=1448?this.WALKTRACE(Xt,Qe,Ke,Yt,Vt,et,st,zt,Rt,Et,Ee,k,ae,De,re,_e,jt,Ie):null}const Sn=(on-p+(rn-H)-Dt)/2;if(this.ContinueProcessingPredicate!==null&&!this.ContinueProcessingPredicate(on,Sn))return Ie[0]=!0,ae[0]=on,_e[0]=rn,Sn>0&&Dt<=1448?this.WALKTRACE(Xt,Qe,Ke,Yt,Vt,et,st,zt,Rt,Et,Ee,k,ae,De,re,_e,jt,Ie):(p++,H++,[new F(p,k-p+1,H,re-H+1)]);et=this.ClipDiagonalBound(Vt-Dt,Dt,Vt,_t),st=this.ClipDiagonalBound(Vt+Dt,Dt,Vt,_t);for(let hn=et;hn<=st;hn+=2){hn===et||hn<st&&Et[hn-1]>=Et[hn+1]?Ee=Et[hn+1]-1:Ee=Et[hn-1],De=Ee-(hn-Vt)-zt;const Mi=Ee;for(;Ee>p&&De>H&&this.ElementsAreEqual(Ee,De);)Ee--,De--;if(Et[hn]=Ee,jt&&Math.abs(hn-Xt)<=Dt&&Ee<=Rt[hn])return ae[0]=Ee,_e[0]=De,Mi>=Rt[hn]&&Dt<=1448?this.WALKTRACE(Xt,Qe,Ke,Yt,Vt,et,st,zt,Rt,Et,Ee,k,ae,De,re,_e,jt,Ie):null}if(Dt<=1447){let hn=new Int32Array(Ke-Qe+2);hn[0]=Xt-Qe+1,N.Copy2(Rt,Qe,hn,1,Ke-Qe+1),this.m_forwardHistory.push(hn),hn=new Int32Array(st-et+2),hn[0]=Vt-et+1,N.Copy2(Et,et,hn,1,st-et+1),this.m_reverseHistory.push(hn)}}return this.WALKTRACE(Xt,Qe,Ke,Yt,Vt,et,st,zt,Rt,Et,Ee,k,ae,De,re,_e,jt,Ie)}PrettifyChanges(p){for(let k=0;k<p.length;k++){const H=p[k],re=k<p.length-1?p[k+1].originalStart:this._originalElementsOrHash.length,ae=k<p.length-1?p[k+1].modifiedStart:this._modifiedElementsOrHash.length,_e=H.originalLength>0,Ie=H.modifiedLength>0;for(;H.originalStart+H.originalLength<re&&H.modifiedStart+H.modifiedLength<ae&&(!_e||this.OriginalElementsAreEqual(H.originalStart,H.originalStart+H.originalLength))&&(!Ie||this.ModifiedElementsAreEqual(H.modifiedStart,H.modifiedStart+H.modifiedLength));){const De=this.ElementsAreStrictEqual(H.originalStart,H.modifiedStart);if(this.ElementsAreStrictEqual(H.originalStart+H.originalLength,H.modifiedStart+H.modifiedLength)&&!De)break;H.originalStart++,H.modifiedStart++}const Ee=[null];if(k<p.length-1&&this.ChangesOverlap(p[k],p[k+1],Ee)){p[k]=Ee[0],p.splice(k+1,1),k--;continue}}for(let k=p.length-1;k>=0;k--){const H=p[k];let re=0,ae=0;if(k>0){const Ke=p[k-1];re=Ke.originalStart+Ke.originalLength,ae=Ke.modifiedStart+Ke.modifiedLength}const _e=H.originalLength>0,Ie=H.modifiedLength>0;let Ee=0,De=this._boundaryScore(H.originalStart,H.originalLength,H.modifiedStart,H.modifiedLength);for(let Ke=1;;Ke++){const et=H.originalStart-Ke,st=H.modifiedStart-Ke;if(et<re||st<ae||_e&&!this.OriginalElementsAreEqual(et,et+H.originalLength)||Ie&&!this.ModifiedElementsAreEqual(st,st+H.modifiedLength))break;const _t=(et===re&&st===ae?5:0)+this._boundaryScore(et,H.originalLength,st,H.modifiedLength);_t>De&&(De=_t,Ee=Ke)}H.originalStart-=Ee,H.modifiedStart-=Ee;const Qe=[null];if(k>0&&this.ChangesOverlap(p[k-1],p[k],Qe)){p[k-1]=Qe[0],p.splice(k,1),k++;continue}}if(this._hasStrings)for(let k=1,H=p.length;k<H;k++){const re=p[k-1],ae=p[k],_e=ae.originalStart-re.originalStart-re.originalLength,Ie=re.originalStart,Ee=ae.originalStart+ae.originalLength,De=Ee-Ie,Qe=re.modifiedStart,Ke=ae.modifiedStart+ae.modifiedLength,et=Ke-Qe;if(_e<5&&De<20&&et<20){const st=this._findBetterContiguousSequence(Ie,De,Qe,et,_e);if(st){const[gt,_t]=st;(gt!==re.originalStart+re.originalLength||_t!==re.modifiedStart+re.modifiedLength)&&(re.originalLength=gt-re.originalStart,re.modifiedLength=_t-re.modifiedStart,ae.originalStart=gt+_e,ae.modifiedStart=_t+_e,ae.originalLength=Ee-ae.originalStart,ae.modifiedLength=Ke-ae.modifiedStart)}}}return p}_findBetterContiguousSequence(p,k,H,re,ae){if(k<ae||re<ae)return null;const _e=p+k-ae+1,Ie=H+re-ae+1;let Ee=0,De=0,Qe=0;for(let Ke=p;Ke<_e;Ke++)for(let et=H;et<Ie;et++){const st=this._contiguousSequenceScore(Ke,et,ae);st>0&&st>Ee&&(Ee=st,De=Ke,Qe=et)}return Ee>0?[De,Qe]:null}_contiguousSequenceScore(p,k,H){let re=0;for(let ae=0;ae<H;ae++){if(!this.ElementsAreEqual(p+ae,k+ae))return 0;re+=this._originalStringElements[p+ae].length}return re}_OriginalIsBoundary(p){return p<=0||p>=this._originalElementsOrHash.length-1?!0:this._hasStrings&&/^\s*$/.test(this._originalStringElements[p])}_OriginalRegionIsBoundary(p,k){if(this._OriginalIsBoundary(p)||this._OriginalIsBoundary(p-1))return!0;if(k>0){const H=p+k;if(this._OriginalIsBoundary(H-1)||this._OriginalIsBoundary(H))return!0}return!1}_ModifiedIsBoundary(p){return p<=0||p>=this._modifiedElementsOrHash.length-1?!0:this._hasStrings&&/^\s*$/.test(this._modifiedStringElements[p])}_ModifiedRegionIsBoundary(p,k){if(this._ModifiedIsBoundary(p)||this._ModifiedIsBoundary(p-1))return!0;if(k>0){const H=p+k;if(this._ModifiedIsBoundary(H-1)||this._ModifiedIsBoundary(H))return!0}return!1}_boundaryScore(p,k,H,re){const ae=this._OriginalRegionIsBoundary(p,k)?1:0,_e=this._ModifiedRegionIsBoundary(H,re)?1:0;return ae+_e}ConcatenateChanges(p,k){const H=[];if(p.length===0||k.length===0)return k.length>0?k:p;if(this.ChangesOverlap(p[p.length-1],k[0],H)){const re=new Array(p.length+k.length-1);return N.Copy(p,0,re,0,p.length-1),re[p.length-1]=H[0],N.Copy(k,1,re,p.length,k.length-1),re}else{const re=new Array(p.length+k.length);return N.Copy(p,0,re,0,p.length),N.Copy(k,0,re,p.length,k.length),re}}ChangesOverlap(p,k,H){if(Q.Assert(p.originalStart<=k.originalStart,"Left change is not less than or equal to right change"),Q.Assert(p.modifiedStart<=k.modifiedStart,"Left change is not less than or equal to right change"),p.originalStart+p.originalLength>=k.originalStart||p.modifiedStart+p.modifiedLength>=k.modifiedStart){const re=p.originalStart;let ae=p.originalLength;const _e=p.modifiedStart;let Ie=p.modifiedLength;return p.originalStart+p.originalLength>=k.originalStart&&(ae=k.originalStart+k.originalLength-p.originalStart),p.modifiedStart+p.modifiedLength>=k.modifiedStart&&(Ie=k.modifiedStart+k.modifiedLength-p.modifiedStart),H[0]=new F(re,ae,_e,Ie),!0}else return H[0]=null,!1}ClipDiagonalBound(p,k,H,re){if(p>=0&&p<re)return p;const ae=H,_e=re-H-1,Ie=k%2===0;if(p<0){const Ee=ae%2===0;return Ie===Ee?0:1}else{const Ee=_e%2===0;return Ie===Ee?re-1:re-2}}};n(se,"LcsDiff");let Y=se;var O=E(8061),ne=E(7454);const lt=class lt{constructor(p,k,H){const re=new Uint8Array(p*k);for(let ae=0,_e=p*k;ae<_e;ae++)re[ae]=H;this._data=re,this.rows=p,this.cols=k}get(p,k){return this._data[p*this.cols+k]}set(p,k,H){this._data[p*this.cols+k]=H}};n(lt,"Uint8Matrix");let B=lt;const vt=class vt{constructor(p){let k=0,H=0;for(let ae=0,_e=p.length;ae<_e;ae++){const[Ie,Ee,De]=p[ae];Ee>k&&(k=Ee),Ie>H&&(H=Ie),De>H&&(H=De)}k++,H++;const re=new B(H,k,0);for(let ae=0,_e=p.length;ae<_e;ae++){const[Ie,Ee,De]=p[ae];re.set(Ie,Ee,De)}this._states=re,this._maxCharCode=k}nextState(p,k){return k<0||k>=this._maxCharCode?0:this._states.get(p,k)}};n(vt,"StateMachine");let $=vt,j=null;function z(){return j===null&&(j=new $([[1,104,2],[1,72,2],[1,102,6],[1,70,6],[2,116,3],[2,84,3],[3,116,4],[3,84,4],[4,112,5],[4,80,5],[5,115,9],[5,83,9],[5,58,10],[6,105,7],[6,73,7],[7,108,8],[7,76,8],[8,101,9],[8,69,9],[9,58,10],[10,47,11],[11,47,12]])),j}n(z,"getStateMachine");let U=null;function v(){if(U===null){U=new ne.V(0);const Me=` 	<>'"\u3001\u3002\uFF61\uFF64\uFF0C\uFF0E\uFF1A\uFF1B\u2018\u3008\u300C\u300E\u3014\uFF08\uFF3B\uFF5B\uFF62\uFF63\uFF5D\uFF3D\uFF09\u3015\u300F\u300D\u3009\u2019\uFF40\uFF5E\u2026`;for(let k=0;k<Me.length;k++)U.set(Me.charCodeAt(k),1);const p=".,;:";for(let k=0;k<p.length;k++)U.set(p.charCodeAt(k),2)}return U}n(v,"getClassifier");const Pt=class Pt{static _createLink(p,k,H,re,ae){let _e=ae-1;do{const Ie=k.charCodeAt(_e);if(p.get(Ie)!==2)break;_e--}while(_e>re);if(re>0){const Ie=k.charCodeAt(re-1),Ee=k.charCodeAt(_e);(Ie===40&&Ee===41||Ie===91&&Ee===93||Ie===123&&Ee===125)&&_e--}return{range:{startLineNumber:H,startColumn:re+1,endLineNumber:H,endColumn:_e+2},url:k.substring(re,_e+1)}}static computeLinks(p,k=z()){const H=v(),re=[];for(let ae=1,_e=p.getLineCount();ae<=_e;ae++){const Ie=p.getLineContent(ae),Ee=Ie.length;let De=0,Qe=0,Ke=0,et=1,st=!1,gt=!1,_t=!1,Rt=!1;for(;De<Ee;){let Et=!1;const Xt=Ie.charCodeAt(De);if(et===13){let Vt;switch(Xt){case 40:st=!0,Vt=0;break;case 41:Vt=st?0:1;break;case 91:_t=!0,gt=!0,Vt=0;break;case 93:_t=!1,Vt=gt?0:1;break;case 123:Rt=!0,Vt=0;break;case 125:Vt=Rt?0:1;break;case 39:case 34:case 96:Ke===Xt?Vt=1:Ke===39||Ke===34||Ke===96?Vt=0:Vt=1;break;case 42:Vt=Ke===42?1:0;break;case 124:Vt=Ke===124?1:0;break;case 32:Vt=_t?0:1;break;default:Vt=H.get(Xt)}Vt===1&&(re.push(Pt._createLink(H,Ie,ae,Qe,De)),Et=!0)}else if(et===12){let Vt;Xt===91?(gt=!0,Vt=0):Vt=H.get(Xt),Vt===1?Et=!0:et=13}else et=k.nextState(et,Xt),et===0&&(Et=!0);Et&&(et=1,st=!1,gt=!1,Rt=!1,Qe=De+1,Ke=Xt),De++}et===13&&re.push(Pt._createLink(H,Ie,ae,Qe,Ee))}return re}};n(Pt,"LinkComputer");let ce=Pt;function J(Me){return!Me||typeof Me.getLineCount!="function"||typeof Me.getLineContent!="function"?[]:ce.computeLinks(Me)}n(J,"computeLinks");const ln=class ln{constructor(){this._defaultValueSet=[["true","false"],["True","False"],["Private","Public","Friend","ReadOnly","Partial","Protected","WriteOnly"],["public","protected","private"]]}navigateValueSet(p,k,H,re,ae){if(p&&k){const _e=this.doNavigateValueSet(k,ae);if(_e)return{range:p,value:_e}}if(H&&re){const _e=this.doNavigateValueSet(re,ae);if(_e)return{range:H,value:_e}}return null}doNavigateValueSet(p,k){const H=this.numberReplace(p,k);return H!==null?H:this.textReplace(p,k)}numberReplace(p,k){const H=Math.pow(10,p.length-(p.lastIndexOf(".")+1));let re=Number(p);const ae=parseFloat(p);return!isNaN(re)&&!isNaN(ae)&&re===ae?re===0&&!k?null:(re=Math.floor(re*H),re+=k?H:-H,String(re/H)):null}textReplace(p,k){return this.valueSetsReplace(this._defaultValueSet,p,k)}valueSetsReplace(p,k,H){let re=null;for(let ae=0,_e=p.length;re===null&&ae<_e;ae++)re=this.valueSetReplace(p[ae],k,H);return re}valueSetReplace(p,k,H){let re=p.indexOf(k);return re>=0?(re+=H?1:-1,re<0?re=p.length-1:re%=p.length,p[re]):null}};n(ln,"BasicInplaceReplace"),ln.INSTANCE=new ln;let y=ln;var W=E(4858),me=E(6358),we=E(3013),Ue=E(9887);const Wn=class Wn{constructor(p,k,H){this.changes=p,this.moves=k,this.hitTimeout=H}};n(Wn,"LinesDiff");let Ce=Wn;const pi=class pi{constructor(p,k){this.lineRangeMapping=p,this.changes=k}};n(pi,"MovedText");let R=pi;var m=E(4327),_=E(9955),b=E(5365),I=E(7110),P=E(2532),V=E(8357);const tn=class tn{constructor(p){this.text=p,this.lineStartOffsetByLineIdx=[],this.lineStartOffsetByLineIdx.push(0);for(let k=0;k<p.length;k++)p.charAt(k)===`
`&&this.lineStartOffsetByLineIdx.push(k+1)}getOffset(p){return this.lineStartOffsetByLineIdx[p.lineNumber-1]+p.column-1}getOffsetRange(p){return new P.L(this.getOffset(p.getStartPosition()),this.getOffset(p.getEndPosition()))}get textLength(){const p=this.lineStartOffsetByLineIdx.length-1;return new V.W(p,this.text.length-this.lineStartOffsetByLineIdx[p])}};n(tn,"PositionOffsetTransformer");let ee=tn;const Hn=class Hn{constructor(p){this.edits=p,assertFn(()=>checkAdjacentItems(p,(k,H)=>k.range.getEndPosition().isBeforeOrEqual(H.range.getStartPosition())))}apply(p){let k="",H=new Position(1,1);for(const ae of this.edits){const _e=ae.range,Ie=_e.getStartPosition(),Ee=_e.getEndPosition(),De=Te(H,Ie);De.isEmpty()||(k+=p.getValueOfRange(De)),k+=ae.text,H=Ee}const re=Te(H,p.endPositionExclusive);return re.isEmpty()||(k+=p.getValueOfRange(re)),k}applyToString(p){const k=new Xe(p);return this.apply(k)}getNewRanges(){const p=[];let k=0,H=0,re=0;for(const ae of this.edits){const _e=TextLength.ofText(ae.text),Ie=Position.lift({lineNumber:ae.range.startLineNumber+H,column:ae.range.startColumn+(ae.range.startLineNumber===k?re:0)}),Ee=_e.createRange(Ie);p.push(Ee),H=Ee.endLineNumber-ae.range.endLineNumber,re=Ee.endColumn-ae.range.endColumn,k=ae.range.endLineNumber}return p}};n(Hn,"TextEdit");let fe=Hn;const Kn=class Kn{constructor(p,k){this.range=p,this.text=k}toSingleEditOperation(){return{range:this.range,text:this.text}}};n(Kn,"SingleTextEdit");let ue=Kn;function Te(Me,p){if(Me.lineNumber===p.lineNumber&&Me.column===Number.MAX_SAFE_INTEGER)return Range.fromPositions(p,p);if(!Me.isBeforeOrEqual(p))throw new BugIndicatingError("start must be before end");return new Range(Me.lineNumber,Me.column,p.lineNumber,p.column)}n(Te,"rangeFromPositions");const ii=class ii{get endPositionExclusive(){return this.length.addToPosition(new b.y(1,1))}};n(ii,"AbstractText");let je=ii;const it=class it extends je{constructor(p){super(),this.value=p,this._t=new ee(this.value)}getValueOfRange(p){return this._t.getOffsetRange(p).substring(this.value)}get length(){return this._t.textLength}};n(it,"StringText");let Xe=it;const Bi=class Bi{static inverse(p,k,H){const re=[];let ae=1,_e=1;for(const Ee of p){const De=new Bi(new _.M(ae,Ee.original.startLineNumber),new _.M(_e,Ee.modified.startLineNumber));De.modified.isEmpty||re.push(De),ae=Ee.original.endLineNumberExclusive,_e=Ee.modified.endLineNumberExclusive}const Ie=new Bi(new _.M(ae,k+1),new _.M(_e,H+1));return Ie.modified.isEmpty||re.push(Ie),re}static clip(p,k,H){const re=[];for(const ae of p){const _e=ae.original.intersect(k),Ie=ae.modified.intersect(H);_e&&!_e.isEmpty&&Ie&&!Ie.isEmpty&&re.push(new Bi(_e,Ie))}return re}constructor(p,k){this.original=p,this.modified=k}toString(){return`{${this.original.toString()}->${this.modified.toString()}}`}flip(){return new Bi(this.modified,this.original)}join(p){return new Bi(this.original.join(p.original),this.modified.join(p.modified))}toRangeMapping(){const p=this.original.toInclusiveRange(),k=this.modified.toInclusiveRange();if(p&&k)return new w(p,k);if(this.original.startLineNumber===1||this.modified.startLineNumber===1){if(!(this.modified.startLineNumber===1&&this.original.startLineNumber===1))throw new m.D7("not a valid diff");return new w(new O.Q(this.original.startLineNumber,1,this.original.endLineNumberExclusive,1),new O.Q(this.modified.startLineNumber,1,this.modified.endLineNumberExclusive,1))}else return new w(new O.Q(this.original.startLineNumber-1,Number.MAX_SAFE_INTEGER,this.original.endLineNumberExclusive-1,Number.MAX_SAFE_INTEGER),new O.Q(this.modified.startLineNumber-1,Number.MAX_SAFE_INTEGER,this.modified.endLineNumberExclusive-1,Number.MAX_SAFE_INTEGER))}toRangeMapping2(p,k){if(M(this.original.endLineNumberExclusive,p)&&M(this.modified.endLineNumberExclusive,k))return new w(new O.Q(this.original.startLineNumber,1,this.original.endLineNumberExclusive,1),new O.Q(this.modified.startLineNumber,1,this.modified.endLineNumberExclusive,1));if(!this.original.isEmpty&&!this.modified.isEmpty)return new w(O.Q.fromPositions(new b.y(this.original.startLineNumber,1),A(new b.y(this.original.endLineNumberExclusive-1,Number.MAX_SAFE_INTEGER),p)),O.Q.fromPositions(new b.y(this.modified.startLineNumber,1),A(new b.y(this.modified.endLineNumberExclusive-1,Number.MAX_SAFE_INTEGER),k)));if(this.original.startLineNumber>1&&this.modified.startLineNumber>1)return new w(O.Q.fromPositions(A(new b.y(this.original.startLineNumber-1,Number.MAX_SAFE_INTEGER),p),A(new b.y(this.original.endLineNumberExclusive-1,Number.MAX_SAFE_INTEGER),p)),O.Q.fromPositions(A(new b.y(this.modified.startLineNumber-1,Number.MAX_SAFE_INTEGER),k),A(new b.y(this.modified.endLineNumberExclusive-1,Number.MAX_SAFE_INTEGER),k)));throw new m.D7}};n(Bi,"LineRangeMapping");let We=Bi;function A(Me,p){if(Me.lineNumber<1)return new b.y(1,1);if(Me.lineNumber>p.length)return new b.y(p.length,p[p.length-1].length+1);const k=p[Me.lineNumber-1];return Me.column>k.length+1?new b.y(Me.lineNumber,k.length+1):Me}n(A,"normalizePosition");function M(Me,p){return Me>=1&&Me<=p.length}n(M,"isValidLineNumber");const Ei=class Ei extends We{static fromRangeMappings(p){const k=_.M.join(p.map(re=>_.M.fromRangeInclusive(re.originalRange))),H=_.M.join(p.map(re=>_.M.fromRangeInclusive(re.modifiedRange)));return new Ei(k,H,p)}constructor(p,k,H){super(p,k),this.innerChanges=H}flip(){var p;return new Ei(this.modified,this.original,(p=this.innerChanges)==null?void 0:p.map(k=>k.flip()))}withInnerChangesFromLineRanges(){return new Ei(this.original,this.modified,[this.toRangeMapping()])}};n(Ei,"DetailedLineRangeMapping");let G=Ei;const Pi=class Pi{static assertSorted(p){for(let k=1;k<p.length;k++){const H=p[k-1],re=p[k];if(!(H.originalRange.getEndPosition().isBeforeOrEqual(re.originalRange.getStartPosition())&&H.modifiedRange.getEndPosition().isBeforeOrEqual(re.modifiedRange.getStartPosition())))throw new m.D7("Range mappings must be sorted")}}constructor(p,k){this.originalRange=p,this.modifiedRange=k}toString(){return`{${this.originalRange.toString()}->${this.modifiedRange.toString()}}`}flip(){return new Pi(this.modifiedRange,this.originalRange)}toTextEdit(p){const k=p.getValueOfRange(this.modifiedRange);return new ue(this.originalRange,k)}};n(Pi,"RangeMapping");let w=Pi;var D=E(6844);const Z=3,Xn=class Xn{computeDiff(p,k,H){var Ee;const ae=new nn(p,k,{maxComputationTime:H.maxComputationTimeMs,shouldIgnoreTrimWhitespace:H.ignoreTrimWhitespace,shouldComputeCharChanges:!0,shouldMakePrettyDiff:!0,shouldPostProcessCharChanges:!0}).computeDiff(),_e=[];let Ie=null;for(const De of ae.changes){let Qe;De.originalEndLineNumber===0?Qe=new _.M(De.originalStartLineNumber+1,De.originalStartLineNumber+1):Qe=new _.M(De.originalStartLineNumber,De.originalEndLineNumber+1);let Ke;De.modifiedEndLineNumber===0?Ke=new _.M(De.modifiedStartLineNumber+1,De.modifiedStartLineNumber+1):Ke=new _.M(De.modifiedStartLineNumber,De.modifiedEndLineNumber+1);let et=new G(Qe,Ke,(Ee=De.charChanges)==null?void 0:Ee.map(st=>new w(new O.Q(st.originalStartLineNumber,st.originalStartColumn,st.originalEndLineNumber,st.originalEndColumn),new O.Q(st.modifiedStartLineNumber,st.modifiedStartColumn,st.modifiedEndLineNumber,st.modifiedEndColumn))));Ie&&(Ie.modified.endLineNumberExclusive===et.modified.startLineNumber||Ie.original.endLineNumberExclusive===et.original.startLineNumber)&&(et=new G(Ie.original.join(et.original),Ie.modified.join(et.modified),Ie.innerChanges&&et.innerChanges?Ie.innerChanges.concat(et.innerChanges):void 0),_e.pop()),_e.push(et),Ie=et}return(0,I.Ft)(()=>(0,I.Xo)(_e,(De,Qe)=>Qe.original.startLineNumber-De.original.endLineNumberExclusive===Qe.modified.startLineNumber-De.modified.endLineNumberExclusive&&De.original.endLineNumberExclusive<Qe.original.startLineNumber&&De.modified.endLineNumberExclusive<Qe.modified.startLineNumber)),new Ce(_e,[],ae.quitEarly)}};n(Xn,"LegacyLinesDiffComputer");let he=Xn;function ye(Me,p,k,H){return new Y(Me,p,k).ComputeDiff(H)}n(ye,"computeDiff");const Ri=class Ri{constructor(p){const k=[],H=[];for(let re=0,ae=p.length;re<ae;re++)k[re]=Ut(p[re],1),H[re]=Dn(p[re],1);this.lines=p,this._startColumns=k,this._endColumns=H}getElements(){const p=[];for(let k=0,H=this.lines.length;k<H;k++)p[k]=this.lines[k].substring(this._startColumns[k]-1,this._endColumns[k]-1);return p}getStrictElement(p){return this.lines[p]}getStartLineNumber(p){return p+1}getEndLineNumber(p){return p+1}createCharSequence(p,k,H){const re=[],ae=[],_e=[];let Ie=0;for(let Ee=k;Ee<=H;Ee++){const De=this.lines[Ee],Qe=p?this._startColumns[Ee]:1,Ke=p?this._endColumns[Ee]:De.length+1;for(let et=Qe;et<Ke;et++)re[Ie]=De.charCodeAt(et-1),ae[Ie]=Ee+1,_e[Ie]=et,Ie++;!p&&Ee<H&&(re[Ie]=10,ae[Ie]=Ee+1,_e[Ie]=De.length+1,Ie++)}return new Ve(re,ae,_e)}};n(Ri,"LineSequence");let He=Ri;const xr=class xr{constructor(p,k,H){this._charCodes=p,this._lineNumbers=k,this._columns=H}toString(){return"["+this._charCodes.map((p,k)=>(p===10?"\\n":String.fromCharCode(p))+`-(${this._lineNumbers[k]},${this._columns[k]})`).join(", ")+"]"}_assertIndex(p,k){if(p<0||p>=k.length)throw new Error("Illegal index")}getElements(){return this._charCodes}getStartLineNumber(p){return p>0&&p===this._lineNumbers.length?this.getEndLineNumber(p-1):(this._assertIndex(p,this._lineNumbers),this._lineNumbers[p])}getEndLineNumber(p){return p===-1?this.getStartLineNumber(p+1):(this._assertIndex(p,this._lineNumbers),this._charCodes[p]===10?this._lineNumbers[p]+1:this._lineNumbers[p])}getStartColumn(p){return p>0&&p===this._columns.length?this.getEndColumn(p-1):(this._assertIndex(p,this._columns),this._columns[p])}getEndColumn(p){return p===-1?this.getStartColumn(p+1):(this._assertIndex(p,this._columns),this._charCodes[p]===10?1:this._columns[p]+1)}};n(xr,"CharSequence");let Ve=xr;const Vi=class Vi{constructor(p,k,H,re,ae,_e,Ie,Ee){this.originalStartLineNumber=p,this.originalStartColumn=k,this.originalEndLineNumber=H,this.originalEndColumn=re,this.modifiedStartLineNumber=ae,this.modifiedStartColumn=_e,this.modifiedEndLineNumber=Ie,this.modifiedEndColumn=Ee}static createFromDiffChange(p,k,H){const re=k.getStartLineNumber(p.originalStart),ae=k.getStartColumn(p.originalStart),_e=k.getEndLineNumber(p.originalStart+p.originalLength-1),Ie=k.getEndColumn(p.originalStart+p.originalLength-1),Ee=H.getStartLineNumber(p.modifiedStart),De=H.getStartColumn(p.modifiedStart),Qe=H.getEndLineNumber(p.modifiedStart+p.modifiedLength-1),Ke=H.getEndColumn(p.modifiedStart+p.modifiedLength-1);return new Vi(re,ae,_e,Ie,Ee,De,Qe,Ke)}};n(Vi,"CharChange");let ft=Vi;function ot(Me){if(Me.length<=1)return Me;const p=[Me[0]];let k=p[0];for(let H=1,re=Me.length;H<re;H++){const ae=Me[H],_e=ae.originalStart-(k.originalStart+k.originalLength),Ie=ae.modifiedStart-(k.modifiedStart+k.modifiedLength);Math.min(_e,Ie)<Z?(k.originalLength=ae.originalStart+ae.originalLength-k.originalStart,k.modifiedLength=ae.modifiedStart+ae.modifiedLength-k.modifiedStart):(p.push(ae),k=ae)}return p}n(ot,"postProcessCharChanges");const wr=class wr{constructor(p,k,H,re,ae){this.originalStartLineNumber=p,this.originalEndLineNumber=k,this.modifiedStartLineNumber=H,this.modifiedEndLineNumber=re,this.charChanges=ae}static createFromDiffResult(p,k,H,re,ae,_e,Ie){let Ee,De,Qe,Ke,et;if(k.originalLength===0?(Ee=H.getStartLineNumber(k.originalStart)-1,De=0):(Ee=H.getStartLineNumber(k.originalStart),De=H.getEndLineNumber(k.originalStart+k.originalLength-1)),k.modifiedLength===0?(Qe=re.getStartLineNumber(k.modifiedStart)-1,Ke=0):(Qe=re.getStartLineNumber(k.modifiedStart),Ke=re.getEndLineNumber(k.modifiedStart+k.modifiedLength-1)),_e&&k.originalLength>0&&k.originalLength<20&&k.modifiedLength>0&&k.modifiedLength<20&&ae()){const st=H.createCharSequence(p,k.originalStart,k.originalStart+k.originalLength-1),gt=re.createCharSequence(p,k.modifiedStart,k.modifiedStart+k.modifiedLength-1);if(st.getElements().length>0&&gt.getElements().length>0){let _t=ye(st,gt,ae,!0).changes;Ie&&(_t=ot(_t)),et=[];for(let Rt=0,Et=_t.length;Rt<Et;Rt++)et.push(ft.createFromDiffChange(_t[Rt],st,gt))}}return new wr(Ee,De,Qe,Ke,et)}};n(wr,"LineChange");let kt=wr;const bi=class bi{constructor(p,k,H){this.shouldComputeCharChanges=H.shouldComputeCharChanges,this.shouldPostProcessCharChanges=H.shouldPostProcessCharChanges,this.shouldIgnoreTrimWhitespace=H.shouldIgnoreTrimWhitespace,this.shouldMakePrettyDiff=H.shouldMakePrettyDiff,this.originalLines=p,this.modifiedLines=k,this.original=new He(p),this.modified=new He(k),this.continueLineDiff=En(H.maxComputationTime),this.continueCharDiff=En(H.maxComputationTime===0?0:Math.min(H.maxComputationTime,5e3))}computeDiff(){if(this.original.lines.length===1&&this.original.lines[0].length===0)return this.modified.lines.length===1&&this.modified.lines[0].length===0?{quitEarly:!1,changes:[]}:{quitEarly:!1,changes:[{originalStartLineNumber:1,originalEndLineNumber:1,modifiedStartLineNumber:1,modifiedEndLineNumber:this.modified.lines.length,charChanges:void 0}]};if(this.modified.lines.length===1&&this.modified.lines[0].length===0)return{quitEarly:!1,changes:[{originalStartLineNumber:1,originalEndLineNumber:this.original.lines.length,modifiedStartLineNumber:1,modifiedEndLineNumber:1,charChanges:void 0}]};const p=ye(this.original,this.modified,this.continueLineDiff,this.shouldMakePrettyDiff),k=p.changes,H=p.quitEarly;if(this.shouldIgnoreTrimWhitespace){const Ie=[];for(let Ee=0,De=k.length;Ee<De;Ee++)Ie.push(kt.createFromDiffResult(this.shouldIgnoreTrimWhitespace,k[Ee],this.original,this.modified,this.continueCharDiff,this.shouldComputeCharChanges,this.shouldPostProcessCharChanges));return{quitEarly:H,changes:Ie}}const re=[];let ae=0,_e=0;for(let Ie=-1,Ee=k.length;Ie<Ee;Ie++){const De=Ie+1<Ee?k[Ie+1]:null,Qe=De?De.originalStart:this.originalLines.length,Ke=De?De.modifiedStart:this.modifiedLines.length;for(;ae<Qe&&_e<Ke;){const et=this.originalLines[ae],st=this.modifiedLines[_e];if(et!==st){{let gt=Ut(et,1),_t=Ut(st,1);for(;gt>1&&_t>1;){const Rt=et.charCodeAt(gt-2),Et=st.charCodeAt(_t-2);if(Rt!==Et)break;gt--,_t--}(gt>1||_t>1)&&this._pushTrimWhitespaceCharChange(re,ae+1,1,gt,_e+1,1,_t)}{let gt=Dn(et,1),_t=Dn(st,1);const Rt=et.length+1,Et=st.length+1;for(;gt<Rt&&_t<Et;){const Xt=et.charCodeAt(gt-1),Vt=et.charCodeAt(_t-1);if(Xt!==Vt)break;gt++,_t++}(gt<Rt||_t<Et)&&this._pushTrimWhitespaceCharChange(re,ae+1,gt,Rt,_e+1,_t,Et)}}ae++,_e++}De&&(re.push(kt.createFromDiffResult(this.shouldIgnoreTrimWhitespace,De,this.original,this.modified,this.continueCharDiff,this.shouldComputeCharChanges,this.shouldPostProcessCharChanges)),ae+=De.originalLength,_e+=De.modifiedLength)}return{quitEarly:H,changes:re}}_pushTrimWhitespaceCharChange(p,k,H,re,ae,_e,Ie){if(this._mergeTrimWhitespaceCharChange(p,k,H,re,ae,_e,Ie))return;let Ee;this.shouldComputeCharChanges&&(Ee=[new ft(k,H,k,re,ae,_e,ae,Ie)]),p.push(new kt(k,k,ae,ae,Ee))}_mergeTrimWhitespaceCharChange(p,k,H,re,ae,_e,Ie){const Ee=p.length;if(Ee===0)return!1;const De=p[Ee-1];return De.originalEndLineNumber===0||De.modifiedEndLineNumber===0?!1:De.originalEndLineNumber===k&&De.modifiedEndLineNumber===ae?(this.shouldComputeCharChanges&&De.charChanges&&De.charChanges.push(new ft(k,H,k,re,ae,_e,ae,Ie)),!0):De.originalEndLineNumber+1===k&&De.modifiedEndLineNumber+1===ae?(De.originalEndLineNumber=k,De.modifiedEndLineNumber=ae,this.shouldComputeCharChanges&&De.charChanges&&De.charChanges.push(new ft(k,H,k,re,ae,_e,ae,Ie)),!0):!1}};n(bi,"DiffComputer");let nn=bi;function Ut(Me,p){const k=D.HG(Me);return k===-1?p:k+1}n(Ut,"getFirstNonBlankColumn");function Dn(Me,p){const k=D.lT(Me);return k===-1?p:k+2}n(Dn,"getLastNonBlankColumn");function En(Me){if(Me===0)return()=>!0;const p=Date.now();return()=>Date.now()-p<Me}n(En,"createContinueProcessingPredicate");var _n=E(3338);const lr=class lr{static trivial(p,k){return new lr([new mn(P.L.ofLength(p.length),P.L.ofLength(k.length))],!1)}static trivialTimedOut(p,k){return new lr([new mn(P.L.ofLength(p.length),P.L.ofLength(k.length))],!0)}constructor(p,k){this.diffs=p,this.hitTimeout=k}};n(lr,"DiffAlgorithmResult");let vn=lr;const zn=class zn{static invert(p,k){const H=[];return(0,_n.pN)(p,(re,ae)=>{H.push(zn.fromOffsetPairs(re?re.getEndExclusives():pn.zero,ae?ae.getStarts():new pn(k,(re?re.seq2Range.endExclusive-re.seq1Range.endExclusive:0)+k)))}),H}static fromOffsetPairs(p,k){return new zn(new P.L(p.offset1,k.offset1),new P.L(p.offset2,k.offset2))}static assertSorted(p){let k;for(const H of p){if(k&&!(k.seq1Range.endExclusive<=H.seq1Range.start&&k.seq2Range.endExclusive<=H.seq2Range.start))throw new m.D7("Sequence diffs must be sorted");k=H}}constructor(p,k){this.seq1Range=p,this.seq2Range=k}swap(){return new zn(this.seq2Range,this.seq1Range)}toString(){return`${this.seq1Range} <-> ${this.seq2Range}`}join(p){return new zn(this.seq1Range.join(p.seq1Range),this.seq2Range.join(p.seq2Range))}delta(p){return p===0?this:new zn(this.seq1Range.delta(p),this.seq2Range.delta(p))}deltaStart(p){return p===0?this:new zn(this.seq1Range.deltaStart(p),this.seq2Range.deltaStart(p))}deltaEnd(p){return p===0?this:new zn(this.seq1Range.deltaEnd(p),this.seq2Range.deltaEnd(p))}intersect(p){const k=this.seq1Range.intersect(p.seq1Range),H=this.seq2Range.intersect(p.seq2Range);if(!(!k||!H))return new zn(k,H)}getStarts(){return new pn(this.seq1Range.start,this.seq2Range.start)}getEndExclusives(){return new pn(this.seq1Range.endExclusive,this.seq2Range.endExclusive)}};n(zn,"SequenceDiff");let mn=zn;const Vn=class Vn{constructor(p,k){this.offset1=p,this.offset2=k}toString(){return`${this.offset1} <-> ${this.offset2}`}delta(p){return p===0?this:new Vn(this.offset1+p,this.offset2+p)}equals(p){return this.offset1===p.offset1&&this.offset2===p.offset2}};n(Vn,"OffsetPair"),Vn.zero=new Vn(0,0),Vn.max=new Vn(Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER);let pn=Vn;const er=class er{isValid(){return!0}};n(er,"InfiniteTimeout"),er.instance=new er;let dn=er;const yr=class yr{constructor(p){if(this.timeout=p,this.startTime=Date.now(),this.valid=!0,p<=0)throw new m.D7("timeout must be positive")}isValid(){if(!(Date.now()-this.startTime<this.timeout)&&this.valid){this.valid=!1;debugger}return this.valid}};n(yr,"DateTimeout");let xn=yr;const ur=class ur{constructor(p,k){this.width=p,this.height=k,this.array=[],this.array=new Array(p*k)}get(p,k){return this.array[p+k*this.width]}set(p,k,H){this.array[p+k*this.width]=H}};n(ur,"Array2D");let an=ur;function Rn(Me){return Me===32||Me===9}n(Rn,"isSpace");const Qi=class Qi{static getKey(p){let k=this.chrKeys.get(p);return k===void 0&&(k=this.chrKeys.size,this.chrKeys.set(p,k)),k}constructor(p,k,H){this.range=p,this.lines=k,this.source=H,this.histogram=[];let re=0;for(let ae=p.startLineNumber-1;ae<p.endLineNumberExclusive-1;ae++){const _e=k[ae];for(let Ee=0;Ee<_e.length;Ee++){re++;const De=_e[Ee],Qe=Qi.getKey(De);this.histogram[Qe]=(this.histogram[Qe]||0)+1}re++;const Ie=Qi.getKey(`
`);this.histogram[Ie]=(this.histogram[Ie]||0)+1}this.totalCount=re}computeSimilarity(p){var re,ae;let k=0;const H=Math.max(this.histogram.length,p.histogram.length);for(let _e=0;_e<H;_e++)k+=Math.abs(((re=this.histogram[_e])!=null?re:0)-((ae=p.histogram[_e])!=null?ae:0));return 1-k/(this.totalCount+p.totalCount)}};n(Qi,"LineRangeFragment"),Qi.chrKeys=new Map;let wn=Qi;const Wi=class Wi{compute(p,k,H=dn.instance,re){if(p.length===0||k.length===0)return vn.trivial(p,k);const ae=new an(p.length,k.length),_e=new an(p.length,k.length),Ie=new an(p.length,k.length);for(let gt=0;gt<p.length;gt++)for(let _t=0;_t<k.length;_t++){if(!H.isValid())return vn.trivialTimedOut(p,k);const Rt=gt===0?0:ae.get(gt-1,_t),Et=_t===0?0:ae.get(gt,_t-1);let Xt;p.getElement(gt)===k.getElement(_t)?(gt===0||_t===0?Xt=0:Xt=ae.get(gt-1,_t-1),gt>0&&_t>0&&_e.get(gt-1,_t-1)===3&&(Xt+=Ie.get(gt-1,_t-1)),Xt+=re?re(gt,_t):1):Xt=-1;const Vt=Math.max(Rt,Et,Xt);if(Vt===Xt){const Yt=gt>0&&_t>0?Ie.get(gt-1,_t-1):0;Ie.set(gt,_t,Yt+1),_e.set(gt,_t,3)}else Vt===Rt?(Ie.set(gt,_t,0),_e.set(gt,_t,1)):Vt===Et&&(Ie.set(gt,_t,0),_e.set(gt,_t,2));ae.set(gt,_t,Vt)}const Ee=[];let De=p.length,Qe=k.length;function Ke(gt,_t){(gt+1!==De||_t+1!==Qe)&&Ee.push(new mn(new P.L(gt+1,De),new P.L(_t+1,Qe))),De=gt,Qe=_t}n(Ke,"reportDecreasingAligningPositions");let et=p.length-1,st=k.length-1;for(;et>=0&&st>=0;)_e.get(et,st)===3?(Ke(et,st),et--,st--):_e.get(et,st)===1?et--:st--;return Ke(-1,-1),Ee.reverse(),new vn(Ee,!1)}};n(Wi,"DynamicProgrammingDiffing");let Fn=Wi;const $n=class $n{compute(p,k,H=dn.instance){if(p.length===0||k.length===0)return vn.trivial(p,k);const re=p,ae=k;function _e(_t,Rt){for(;_t<re.length&&Rt<ae.length&&re.getElement(_t)===ae.getElement(Rt);)_t++,Rt++;return _t}n(_e,"getXAfterSnake");let Ie=0;const Ee=new Tn;Ee.set(0,_e(0,0));const De=new Oe;De.set(0,Ee.get(0)===0?null:new gn(null,0,0,Ee.get(0)));let Qe=0;e:for(;;){if(Ie++,!H.isValid())return vn.trivialTimedOut(re,ae);const _t=-Math.min(Ie,ae.length+Ie%2),Rt=Math.min(Ie,re.length+Ie%2);for(Qe=_t;Qe<=Rt;Qe+=2){let Et=0;const Xt=Qe===Rt?-1:Ee.get(Qe+1),Vt=Qe===_t?-1:Ee.get(Qe-1)+1;Et++;const Yt=Math.min(Math.max(Xt,Vt),re.length),zt=Yt-Qe;if(Et++,Yt>re.length||zt>ae.length)continue;const en=_e(Yt,zt);Ee.set(Qe,en);const jt=Yt===Xt?De.get(Qe+1):De.get(Qe-1);if(De.set(Qe,en!==Yt?new gn(jt,Yt,zt,en-Yt):jt),Ee.get(Qe)===re.length&&Ee.get(Qe)-Qe===ae.length)break e}}let Ke=De.get(Qe);const et=[];let st=re.length,gt=ae.length;for(;;){const _t=Ke?Ke.x+Ke.length:0,Rt=Ke?Ke.y+Ke.length:0;if((_t!==st||Rt!==gt)&&et.push(new mn(new P.L(_t,st),new P.L(Rt,gt))),!Ke)break;st=Ke.x,gt=Ke.y,Ke=Ke.prev}return et.reverse(),new vn(et,!1)}};n($n,"MyersDiffAlgorithm");let An=$n;const Sr=class Sr{constructor(p,k,H,re){this.prev=p,this.x=k,this.y=H,this.length=re}};n(Sr,"SnakePath");let gn=Sr;const Gn=class Gn{constructor(){this.positiveArr=new Int32Array(10),this.negativeArr=new Int32Array(10)}get(p){return p<0?(p=-p-1,this.negativeArr[p]):this.positiveArr[p]}set(p,k){if(p<0){if(p=-p-1,p>=this.negativeArr.length){const H=this.negativeArr;this.negativeArr=new Int32Array(H.length*2),this.negativeArr.set(H)}this.negativeArr[p]=k}else{if(p>=this.positiveArr.length){const H=this.positiveArr;this.positiveArr=new Int32Array(H.length*2),this.positiveArr.set(H)}this.positiveArr[p]=k}}};n(Gn,"FastInt32Array");let Tn=Gn;const Ji=class Ji{constructor(){this.positiveArr=[],this.negativeArr=[]}get(p){return p<0?(p=-p-1,this.negativeArr[p]):this.positiveArr[p]}set(p,k){p<0?(p=-p-1,this.negativeArr[p]=k):this.positiveArr[p]=k}};n(Ji,"FastArrayNegativeIndices");let Oe=Ji;var $e=E(7393),i=E(7992);const Oi=class Oi{constructor(p,k,H){this.lines=p,this.range=k,this.considerWhitespaceChanges=H,this.elements=[],this.firstElementOffsetByLineIdx=[],this.lineStartOffsets=[],this.trimmedWsLengthsByLineIdx=[],this.firstElementOffsetByLineIdx.push(0);for(let re=this.range.startLineNumber;re<=this.range.endLineNumber;re++){let ae=p[re-1],_e=0;re===this.range.startLineNumber&&this.range.startColumn>1&&(_e=this.range.startColumn-1,ae=ae.substring(_e)),this.lineStartOffsets.push(_e);let Ie=0;if(!H){const De=ae.trimStart();Ie=ae.length-De.length,ae=De.trimEnd()}this.trimmedWsLengthsByLineIdx.push(Ie);const Ee=re===this.range.endLineNumber?Math.min(this.range.endColumn-1-_e-Ie,ae.length):ae.length;for(let De=0;De<Ee;De++)this.elements.push(ae.charCodeAt(De));re<this.range.endLineNumber&&(this.elements.push(10),this.firstElementOffsetByLineIdx.push(this.elements.length))}}toString(){return`Slice: "${this.text}"`}get text(){return this.getText(new P.L(0,this.length))}getText(p){return this.elements.slice(p.start,p.endExclusive).map(k=>String.fromCharCode(k)).join("")}getElement(p){return this.elements[p]}get length(){return this.elements.length}getBoundaryScore(p){const k=xt(p>0?this.elements[p-1]:-1),H=xt(p<this.elements.length?this.elements[p]:-1);if(k===7&&H===8)return 0;if(k===8)return 150;let re=0;return k!==H&&(re+=10,k===0&&H===1&&(re+=1)),re+=at(k),re+=at(H),re}translateOffset(p,k="right"){const H=(0,$e.iM)(this.firstElementOffsetByLineIdx,ae=>ae<=p),re=p-this.firstElementOffsetByLineIdx[H];return new b.y(this.range.startLineNumber+H,1+this.lineStartOffsets[H]+re+(re===0&&k==="left"?0:this.trimmedWsLengthsByLineIdx[H]))}translateRange(p){const k=this.translateOffset(p.start,"right"),H=this.translateOffset(p.endExclusive,"left");return H.isBefore(k)?O.Q.fromPositions(H,H):O.Q.fromPositions(k,H)}findWordContaining(p){if(p<0||p>=this.elements.length||!It(this.elements[p]))return;let k=p;for(;k>0&&It(this.elements[k-1]);)k--;let H=p;for(;H<this.elements.length&&It(this.elements[H]);)H++;return new P.L(k,H)}countLinesIn(p){return this.translateOffset(p.endExclusive).lineNumber-this.translateOffset(p.start).lineNumber}isStronglyEqual(p,k){return this.elements[p]===this.elements[k]}extendToFullLines(p){var re,ae;const k=(re=(0,$e.lx)(this.firstElementOffsetByLineIdx,_e=>_e<=p.start))!=null?re:0,H=(ae=(0,$e.XP)(this.firstElementOffsetByLineIdx,_e=>p.endExclusive<=_e))!=null?ae:this.elements.length;return new P.L(k,H)}};n(Oi,"LinesSliceCharSequence");let mt=Oi;function It(Me){return Me>=97&&Me<=122||Me>=65&&Me<=90||Me>=48&&Me<=57}n(It,"isWordChar");const pt={0:0,1:0,2:0,3:10,4:2,5:30,6:3,7:10,8:10};function at(Me){return pt[Me]}n(at,"getCategoryBoundaryScore");function xt(Me){return Me===10?8:Me===13?7:Rn(Me)?6:Me>=97&&Me<=122?0:Me>=65&&Me<=90?1:Me>=48&&Me<=57?2:Me===-1?3:Me===44||Me===59?5:4}n(xt,"getCategory");function dt(Me,p,k,H,re,ae){let{moves:_e,excludedChanges:Ie}=St(Me,p,k,ae);if(!ae.isValid())return[];const Ee=Me.filter(Qe=>!Ie.has(Qe)),De=$t(Ee,H,re,p,k,ae);return(0,_n.E4)(_e,De),_e=cn(_e),_e=_e.filter(Qe=>{const Ke=Qe.original.toOffsetRange().slice(p).map(st=>st.trim());return Ke.join(`
`).length>=15&&ut(Ke,st=>st.length>=2)>=2}),_e=Nt(Me,_e),_e}n(dt,"computeMovedLines");function ut(Me,p){let k=0;for(const H of Me)p(H)&&k++;return k}n(ut,"countWhere");function St(Me,p,k,H){const re=[],ae=Me.filter(Ee=>Ee.modified.isEmpty&&Ee.original.length>=3).map(Ee=>new wn(Ee.original,p,Ee)),_e=new Set(Me.filter(Ee=>Ee.original.isEmpty&&Ee.modified.length>=3).map(Ee=>new wn(Ee.modified,k,Ee))),Ie=new Set;for(const Ee of ae){let De=-1,Qe;for(const Ke of _e){const et=Ee.computeSimilarity(Ke);et>De&&(De=et,Qe=Ke)}if(De>.9&&Qe&&(_e.delete(Qe),re.push(new We(Ee.range,Qe.range)),Ie.add(Ee.source),Ie.add(Qe.source)),!H.isValid())return{moves:re,excludedChanges:Ie}}return{moves:re,excludedChanges:Ie}}n(St,"computeMovesFromSimpleDeletionsToSimpleInsertions");function $t(Me,p,k,H,re,ae){const _e=[],Ie=new i.db;for(const et of Me)for(let st=et.original.startLineNumber;st<et.original.endLineNumberExclusive-2;st++){const gt=`${p[st-1]}:${p[st+1-1]}:${p[st+2-1]}`;Ie.add(gt,{range:new _.M(st,st+3)})}const Ee=[];Me.sort((0,_n.VE)(et=>et.modified.startLineNumber,_n.U9));for(const et of Me){let st=[];for(let gt=et.modified.startLineNumber;gt<et.modified.endLineNumberExclusive-2;gt++){const _t=`${k[gt-1]}:${k[gt+1-1]}:${k[gt+2-1]}`,Rt=new _.M(gt,gt+3),Et=[];Ie.forEach(_t,({range:Xt})=>{for(const Yt of st)if(Yt.originalLineRange.endLineNumberExclusive+1===Xt.endLineNumberExclusive&&Yt.modifiedLineRange.endLineNumberExclusive+1===Rt.endLineNumberExclusive){Yt.originalLineRange=new _.M(Yt.originalLineRange.startLineNumber,Xt.endLineNumberExclusive),Yt.modifiedLineRange=new _.M(Yt.modifiedLineRange.startLineNumber,Rt.endLineNumberExclusive),Et.push(Yt);return}const Vt={modifiedLineRange:Rt,originalLineRange:Xt};Ee.push(Vt),Et.push(Vt)}),st=Et}if(!ae.isValid())return[]}Ee.sort((0,_n.Hw)((0,_n.VE)(et=>et.modifiedLineRange.length,_n.U9)));const De=new _.S,Qe=new _.S;for(const et of Ee){const st=et.modifiedLineRange.startLineNumber-et.originalLineRange.startLineNumber,gt=De.subtractFrom(et.modifiedLineRange),_t=Qe.subtractFrom(et.originalLineRange).getWithDelta(st),Rt=gt.getIntersection(_t);for(const Et of Rt.ranges){if(Et.length<3)continue;const Xt=Et,Vt=Et.delta(-st);_e.push(new We(Vt,Xt)),De.addRange(Xt),Qe.addRange(Vt)}}_e.sort((0,_n.VE)(et=>et.original.startLineNumber,_n.U9));const Ke=new $e.vJ(Me);for(let et=0;et<_e.length;et++){const st=_e[et],gt=Ke.findLastMonotonous(en=>en.original.startLineNumber<=st.original.startLineNumber),_t=(0,$e.lx)(Me,en=>en.modified.startLineNumber<=st.modified.startLineNumber),Rt=Math.max(st.original.startLineNumber-gt.original.startLineNumber,st.modified.startLineNumber-_t.modified.startLineNumber),Et=Ke.findLastMonotonous(en=>en.original.startLineNumber<st.original.endLineNumberExclusive),Xt=(0,$e.lx)(Me,en=>en.modified.startLineNumber<st.modified.endLineNumberExclusive),Vt=Math.max(Et.original.endLineNumberExclusive-st.original.endLineNumberExclusive,Xt.modified.endLineNumberExclusive-st.modified.endLineNumberExclusive);let Yt;for(Yt=0;Yt<Rt;Yt++){const en=st.original.startLineNumber-Yt-1,jt=st.modified.startLineNumber-Yt-1;if(en>H.length||jt>re.length||De.contains(jt)||Qe.contains(en)||!Zt(H[en-1],re[jt-1],ae))break}Yt>0&&(Qe.addRange(new _.M(st.original.startLineNumber-Yt,st.original.startLineNumber)),De.addRange(new _.M(st.modified.startLineNumber-Yt,st.modified.startLineNumber)));let zt;for(zt=0;zt<Vt;zt++){const en=st.original.endLineNumberExclusive+zt,jt=st.modified.endLineNumberExclusive+zt;if(en>H.length||jt>re.length||De.contains(jt)||Qe.contains(en)||!Zt(H[en-1],re[jt-1],ae))break}zt>0&&(Qe.addRange(new _.M(st.original.endLineNumberExclusive,st.original.endLineNumberExclusive+zt)),De.addRange(new _.M(st.modified.endLineNumberExclusive,st.modified.endLineNumberExclusive+zt))),(Yt>0||zt>0)&&(_e[et]=new We(new _.M(st.original.startLineNumber-Yt,st.original.endLineNumberExclusive+zt),new _.M(st.modified.startLineNumber-Yt,st.modified.endLineNumberExclusive+zt)))}return _e}n($t,"computeUnchangedMoves");function Zt(Me,p,k){if(Me.trim()===p.trim())return!0;if(Me.length>300&&p.length>300)return!1;const re=new An().compute(new mt([Me],new O.Q(1,1,1,Me.length),!1),new mt([p],new O.Q(1,1,1,p.length),!1),k);let ae=0;const _e=mn.invert(re.diffs,Me.length);for(const Qe of _e)Qe.seq1Range.forEach(Ke=>{Rn(Me.charCodeAt(Ke))||ae++});function Ie(Qe){let Ke=0;for(let et=0;et<Me.length;et++)Rn(Qe.charCodeAt(et))||Ke++;return Ke}n(Ie,"countNonWsChars");const Ee=Ie(Me.length>p.length?Me:p);return ae/Ee>.6&&Ee>10}n(Zt,"areLinesSimilar");function cn(Me){if(Me.length===0)return Me;Me.sort((0,_n.VE)(k=>k.original.startLineNumber,_n.U9));const p=[Me[0]];for(let k=1;k<Me.length;k++){const H=p[p.length-1],re=Me[k],ae=re.original.startLineNumber-H.original.endLineNumberExclusive,_e=re.modified.startLineNumber-H.modified.endLineNumberExclusive;if(ae>=0&&_e>=0&&ae+_e<=2){p[p.length-1]=H.join(re);continue}p.push(re)}return p}n(cn,"joinCloseConsecutiveMoves");function Nt(Me,p){const k=new $e.vJ(Me);return p=p.filter(H=>{const re=k.findLastMonotonous(Ie=>Ie.original.startLineNumber<H.original.endLineNumberExclusive)||new We(new _.M(1,1),new _.M(1,1)),ae=(0,$e.lx)(Me,Ie=>Ie.modified.startLineNumber<H.modified.endLineNumberExclusive);return re!==ae}),p}n(Nt,"removeMovesInSameDiff");function T(Me,p,k){let H=k;return H=Se(Me,p,H),H=Se(Me,p,H),H=ct(Me,p,H),H}n(T,"optimizeSequenceDiffs");function Se(Me,p,k){if(k.length===0)return k;const H=[];H.push(k[0]);for(let ae=1;ae<k.length;ae++){const _e=H[H.length-1];let Ie=k[ae];if(Ie.seq1Range.isEmpty||Ie.seq2Range.isEmpty){const Ee=Ie.seq1Range.start-_e.seq1Range.endExclusive;let De;for(De=1;De<=Ee&&!(Me.getElement(Ie.seq1Range.start-De)!==Me.getElement(Ie.seq1Range.endExclusive-De)||p.getElement(Ie.seq2Range.start-De)!==p.getElement(Ie.seq2Range.endExclusive-De));De++);if(De--,De===Ee){H[H.length-1]=new mn(new P.L(_e.seq1Range.start,Ie.seq1Range.endExclusive-Ee),new P.L(_e.seq2Range.start,Ie.seq2Range.endExclusive-Ee));continue}Ie=Ie.delta(-De)}H.push(Ie)}const re=[];for(let ae=0;ae<H.length-1;ae++){const _e=H[ae+1];let Ie=H[ae];if(Ie.seq1Range.isEmpty||Ie.seq2Range.isEmpty){const Ee=_e.seq1Range.start-Ie.seq1Range.endExclusive;let De;for(De=0;De<Ee&&!(!Me.isStronglyEqual(Ie.seq1Range.start+De,Ie.seq1Range.endExclusive+De)||!p.isStronglyEqual(Ie.seq2Range.start+De,Ie.seq2Range.endExclusive+De));De++);if(De===Ee){H[ae+1]=new mn(new P.L(Ie.seq1Range.start+Ee,_e.seq1Range.endExclusive),new P.L(Ie.seq2Range.start+Ee,_e.seq2Range.endExclusive));continue}De>0&&(Ie=Ie.delta(De))}re.push(Ie)}return H.length>0&&re.push(H[H.length-1]),re}n(Se,"joinSequenceDiffsByShifting");function ct(Me,p,k){if(!Me.getBoundaryScore||!p.getBoundaryScore)return k;for(let H=0;H<k.length;H++){const re=H>0?k[H-1]:void 0,ae=k[H],_e=H+1<k.length?k[H+1]:void 0,Ie=new P.L(re?re.seq1Range.endExclusive+1:0,_e?_e.seq1Range.start-1:Me.length),Ee=new P.L(re?re.seq2Range.endExclusive+1:0,_e?_e.seq2Range.start-1:p.length);ae.seq1Range.isEmpty?k[H]=rt(ae,Me,p,Ie,Ee):ae.seq2Range.isEmpty&&(k[H]=rt(ae.swap(),p,Me,Ee,Ie).swap())}return k}n(ct,"shiftSequenceDiffs");function rt(Me,p,k,H,re){let _e=1;for(;Me.seq1Range.start-_e>=H.start&&Me.seq2Range.start-_e>=re.start&&k.isStronglyEqual(Me.seq2Range.start-_e,Me.seq2Range.endExclusive-_e)&&_e<100;)_e++;_e--;let Ie=0;for(;Me.seq1Range.start+Ie<H.endExclusive&&Me.seq2Range.endExclusive+Ie<re.endExclusive&&k.isStronglyEqual(Me.seq2Range.start+Ie,Me.seq2Range.endExclusive+Ie)&&Ie<100;)Ie++;if(_e===0&&Ie===0)return Me;let Ee=0,De=-1;for(let Qe=-_e;Qe<=Ie;Qe++){const Ke=Me.seq2Range.start+Qe,et=Me.seq2Range.endExclusive+Qe,st=Me.seq1Range.start+Qe,gt=p.getBoundaryScore(st)+k.getBoundaryScore(Ke)+k.getBoundaryScore(et);gt>De&&(De=gt,Ee=Qe)}return Me.delta(Ee)}n(rt,"shiftDiffToBetterPosition");function un(Me,p,k){const H=[];for(const re of k){const ae=H[H.length-1];if(!ae){H.push(re);continue}re.seq1Range.start-ae.seq1Range.endExclusive<=2||re.seq2Range.start-ae.seq2Range.endExclusive<=2?H[H.length-1]=new mn(ae.seq1Range.join(re.seq1Range),ae.seq2Range.join(re.seq2Range)):H.push(re)}return H}n(un,"removeShortMatches");function Bt(Me,p,k){const H=mn.invert(k,Me.length),re=[];let ae=new pn(0,0);function _e(Ee,De){if(Ee.offset1<ae.offset1||Ee.offset2<ae.offset2)return;const Qe=Me.findWordContaining(Ee.offset1),Ke=p.findWordContaining(Ee.offset2);if(!Qe||!Ke)return;let et=new mn(Qe,Ke);const st=et.intersect(De);let gt=st.seq1Range.length,_t=st.seq2Range.length;for(;H.length>0;){const Rt=H[0];if(!(Rt.seq1Range.intersects(et.seq1Range)||Rt.seq2Range.intersects(et.seq2Range)))break;const Xt=Me.findWordContaining(Rt.seq1Range.start),Vt=p.findWordContaining(Rt.seq2Range.start),Yt=new mn(Xt,Vt),zt=Yt.intersect(Rt);if(gt+=zt.seq1Range.length,_t+=zt.seq2Range.length,et=et.join(Yt),et.seq1Range.endExclusive>=Rt.seq1Range.endExclusive)H.shift();else break}gt+_t<(et.seq1Range.length+et.seq2Range.length)*2/3&&re.push(et),ae=et.getEndExclusives()}for(n(_e,"scanWord");H.length>0;){const Ee=H.shift();Ee.seq1Range.isEmpty||(_e(Ee.getStarts(),Ee),_e(Ee.getEndExclusives().delta(-1),Ee))}return qt(k,re)}n(Bt,"extendDiffsToEntireWordIfAppropriate");function qt(Me,p){const k=[];for(;Me.length>0||p.length>0;){const H=Me[0],re=p[0];let ae;H&&(!re||H.seq1Range.start<re.seq1Range.start)?ae=Me.shift():ae=p.shift(),k.length>0&&k[k.length-1].seq1Range.endExclusive>=ae.seq1Range.start?k[k.length-1]=k[k.length-1].join(ae):k.push(ae)}return k}n(qt,"mergeSequenceDiffs");function sn(Me,p,k){let H=k;if(H.length===0)return H;let re=0,ae;do{ae=!1;const _e=[H[0]];for(let Ie=1;Ie<H.length;Ie++){let Qe=function(et,st){const gt=new P.L(De.seq1Range.endExclusive,Ee.seq1Range.start);return Me.getText(gt).replace(/\s/g,"").length<=4&&(et.seq1Range.length+et.seq2Range.length>5||st.seq1Range.length+st.seq2Range.length>5)};n(Qe,"shouldJoinDiffs");const Ee=H[Ie],De=_e[_e.length-1];Qe(De,Ee)?(ae=!0,_e[_e.length-1]=_e[_e.length-1].join(Ee)):_e.push(Ee)}H=_e}while(re++<10&&ae);return H}n(sn,"removeVeryShortMatchingLinesBetweenDiffs");function oi(Me,p,k){let H=k;if(H.length===0)return H;let re=0,ae;do{ae=!1;const Ie=[H[0]];for(let Ee=1;Ee<H.length;Ee++){let Ke=function(st,gt){const _t=new P.L(Qe.seq1Range.endExclusive,De.seq1Range.start);if(Me.countLinesIn(_t)>5||_t.length>500)return!1;const Et=Me.getText(_t).trim();if(Et.length>20||Et.split(/\r\n|\r|\n/).length>1)return!1;const Xt=Me.countLinesIn(st.seq1Range),Vt=st.seq1Range.length,Yt=p.countLinesIn(st.seq2Range),zt=st.seq2Range.length,en=Me.countLinesIn(gt.seq1Range),jt=gt.seq1Range.length,Dt=p.countLinesIn(gt.seq2Range),on=gt.seq2Range.length,rn=2*40+50;function Sn(hn){return Math.min(hn,rn)}return n(Sn,"cap"),Math.pow(Math.pow(Sn(Xt*40+Vt),1.5)+Math.pow(Sn(Yt*40+zt),1.5),1.5)+Math.pow(Math.pow(Sn(en*40+jt),1.5)+Math.pow(Sn(Dt*40+on),1.5),1.5)>(rn**1.5)**1.5*1.3};n(Ke,"shouldJoinDiffs");const De=H[Ee],Qe=Ie[Ie.length-1];Ke(Qe,De)?(ae=!0,Ie[Ie.length-1]=Ie[Ie.length-1].join(De)):Ie.push(De)}H=Ie}while(re++<10&&ae);const _e=[];return(0,_n.kj)(H,(Ie,Ee,De)=>{let Qe=Ee;function Ke(Et){return Et.length>0&&Et.trim().length<=3&&Ee.seq1Range.length+Ee.seq2Range.length>100}n(Ke,"shouldMarkAsChanged");const et=Me.extendToFullLines(Ee.seq1Range),st=Me.getText(new P.L(et.start,Ee.seq1Range.start));Ke(st)&&(Qe=Qe.deltaStart(-st.length));const gt=Me.getText(new P.L(Ee.seq1Range.endExclusive,et.endExclusive));Ke(gt)&&(Qe=Qe.deltaEnd(gt.length));const _t=mn.fromOffsetPairs(Ie?Ie.getEndExclusives():pn.zero,De?De.getStarts():pn.max),Rt=Qe.intersect(_t);_e.length>0&&Rt.getStarts().equals(_e[_e.length-1].getEndExclusives())?_e[_e.length-1]=_e[_e.length-1].join(Rt):_e.push(Rt)}),_e}n(oi,"removeVeryShortMatchingTextBetweenLongDiffs");const Er=class Er{constructor(p,k){this.trimmedHash=p,this.lines=k}getElement(p){return this.trimmedHash[p]}get length(){return this.trimmedHash.length}getBoundaryScore(p){const k=p===0?0:kn(this.lines[p-1]),H=p===this.lines.length?0:kn(this.lines[p]);return 1e3-(k+H)}getText(p){return this.lines.slice(p.start,p.endExclusive).join(`
`)}isStronglyEqual(p,k){return this.lines[p]===this.lines[k]}};n(Er,"lineSequence_LineSequence");let ei=Er;function kn(Me){let p=0;for(;p<Me.length&&(Me.charCodeAt(p)===32||Me.charCodeAt(p)===9);)p++;return p}n(kn,"getIndentation");const tr=class tr{constructor(){this.dynamicProgrammingDiffing=new Fn,this.myersDiffingAlgorithm=new An}computeDiff(p,k,H){if(p.length<=1&&(0,_n.aI)(p,k,(zt,en)=>zt===en))return new Ce([],[],!1);if(p.length===1&&p[0].length===0||k.length===1&&k[0].length===0)return new Ce([new G(new _.M(1,p.length+1),new _.M(1,k.length+1),[new w(new O.Q(1,1,p.length,p[p.length-1].length+1),new O.Q(1,1,k.length,k[k.length-1].length+1))])],[],!1);const re=H.maxComputationTimeMs===0?dn.instance:new xn(H.maxComputationTimeMs),ae=!H.ignoreTrimWhitespace,_e=new Map;function Ie(zt){let en=_e.get(zt);return en===void 0&&(en=_e.size,_e.set(zt,en)),en}n(Ie,"getOrCreateHash");const Ee=p.map(zt=>Ie(zt.trim())),De=k.map(zt=>Ie(zt.trim())),Qe=new ei(Ee,p),Ke=new ei(De,k),et=Qe.length+Ke.length<1700?this.dynamicProgrammingDiffing.compute(Qe,Ke,re,(zt,en)=>p[zt]===k[en]?k[en].length===0?.1:1+Math.log(1+k[en].length):.99):this.myersDiffingAlgorithm.compute(Qe,Ke,re);let st=et.diffs,gt=et.hitTimeout;st=T(Qe,Ke,st),st=sn(Qe,Ke,st);const _t=[],Rt=n(zt=>{if(ae)for(let en=0;en<zt;en++){const jt=Et+en,Dt=Xt+en;if(p[jt]!==k[Dt]){const on=this.refineDiff(p,k,new mn(new P.L(jt,jt+1),new P.L(Dt,Dt+1)),re,ae);for(const rn of on.mappings)_t.push(rn);on.hitTimeout&&(gt=!0)}}},"scanForWhitespaceChanges");let Et=0,Xt=0;for(const zt of st){(0,I.Ft)(()=>zt.seq1Range.start-Et===zt.seq2Range.start-Xt);const en=zt.seq1Range.start-Et;Rt(en),Et=zt.seq1Range.endExclusive,Xt=zt.seq2Range.endExclusive;const jt=this.refineDiff(p,k,zt,re,ae);jt.hitTimeout&&(gt=!0);for(const Dt of jt.mappings)_t.push(Dt)}Rt(p.length-Et);const Vt=$i(_t,p,k);let Yt=[];return H.computeMoves&&(Yt=this.computeMoves(Vt,p,k,Ee,De,re,ae)),(0,I.Ft)(()=>{function zt(jt,Dt){if(jt.lineNumber<1||jt.lineNumber>Dt.length)return!1;const on=Dt[jt.lineNumber-1];return!(jt.column<1||jt.column>on.length+1)}n(zt,"validatePosition");function en(jt,Dt){return!(jt.startLineNumber<1||jt.startLineNumber>Dt.length+1||jt.endLineNumberExclusive<1||jt.endLineNumberExclusive>Dt.length+1)}n(en,"validateRange");for(const jt of Vt){if(!jt.innerChanges)return!1;for(const Dt of jt.innerChanges)if(!(zt(Dt.modifiedRange.getStartPosition(),k)&&zt(Dt.modifiedRange.getEndPosition(),k)&&zt(Dt.originalRange.getStartPosition(),p)&&zt(Dt.originalRange.getEndPosition(),p)))return!1;if(!en(jt.modified,k)||!en(jt.original,p))return!1}return!0}),new Ce(Vt,Yt,gt)}computeMoves(p,k,H,re,ae,_e,Ie){return dt(p,k,H,re,ae,_e).map(Qe=>{const Ke=this.refineDiff(k,H,new mn(Qe.original.toOffsetRange(),Qe.modified.toOffsetRange()),_e,Ie),et=$i(Ke.mappings,k,H,!0);return new R(Qe,et)})}refineDiff(p,k,H,re,ae){const Ie=Ci(H).toRangeMapping2(p,k),Ee=new mt(p,Ie.originalRange,ae),De=new mt(k,Ie.modifiedRange,ae),Qe=Ee.length+De.length<500?this.dynamicProgrammingDiffing.compute(Ee,De,re):this.myersDiffingAlgorithm.compute(Ee,De,re),Ke=!1;let et=Qe.diffs;Ke&&mn.assertSorted(et),et=T(Ee,De,et),Ke&&mn.assertSorted(et),et=Bt(Ee,De,et),Ke&&mn.assertSorted(et),et=un(Ee,De,et),Ke&&mn.assertSorted(et),et=oi(Ee,De,et),Ke&&mn.assertSorted(et);const st=et.map(gt=>new w(Ee.translateRange(gt.seq1Range),De.translateRange(gt.seq2Range)));return Ke&&w.assertSorted(st),{mappings:st,hitTimeout:Qe.hitTimeout}}};n(tr,"DefaultLinesDiffComputer");let Zn=tr;function $i(Me,p,k,H=!1){const re=[];for(const ae of(0,_n.n)(Me.map(_e=>ai(_e,p,k)),(_e,Ie)=>_e.original.overlapOrTouch(Ie.original)||_e.modified.overlapOrTouch(Ie.modified))){const _e=ae[0],Ie=ae[ae.length-1];re.push(new G(_e.original.join(Ie.original),_e.modified.join(Ie.modified),ae.map(Ee=>Ee.innerChanges[0])))}return(0,I.Ft)(()=>!H&&re.length>0&&(re[0].modified.startLineNumber!==re[0].original.startLineNumber||k.length-re[re.length-1].modified.endLineNumberExclusive!==p.length-re[re.length-1].original.endLineNumberExclusive)?!1:(0,I.Xo)(re,(ae,_e)=>_e.original.startLineNumber-ae.original.endLineNumberExclusive===_e.modified.startLineNumber-ae.modified.endLineNumberExclusive&&ae.original.endLineNumberExclusive<_e.original.startLineNumber&&ae.modified.endLineNumberExclusive<_e.modified.startLineNumber)),re}n($i,"lineRangeMappingFromRangeMappings");function ai(Me,p,k){let H=0,re=0;Me.modifiedRange.endColumn===1&&Me.originalRange.endColumn===1&&Me.originalRange.startLineNumber+H<=Me.originalRange.endLineNumber&&Me.modifiedRange.startLineNumber+H<=Me.modifiedRange.endLineNumber&&(re=-1),Me.modifiedRange.startColumn-1>=k[Me.modifiedRange.startLineNumber-1].length&&Me.originalRange.startColumn-1>=p[Me.originalRange.startLineNumber-1].length&&Me.originalRange.startLineNumber<=Me.originalRange.endLineNumber+re&&Me.modifiedRange.startLineNumber<=Me.modifiedRange.endLineNumber+re&&(H=1);const ae=new _.M(Me.originalRange.startLineNumber+H,Me.originalRange.endLineNumber+1+re),_e=new _.M(Me.modifiedRange.startLineNumber+H,Me.modifiedRange.endLineNumber+1+re);return new G(ae,_e,[Me])}n(ai,"getLineRangeMapping");function Ci(Me){return new We(new _.M(Me.seq1Range.start+1,Me.seq1Range.endExclusive+1),new _.M(Me.seq2Range.start+1,Me.seq2Range.endExclusive+1))}n(Ci,"toLineRangeMapping");const li={getLegacy:n(()=>new he,"getLegacy"),getDefault:n(()=>new Zn,"getDefault")};var ci=E(1386),xi=E(3072),ni=E(4901);function Fi(Me){const p=[];for(const k of Me){const H=Number(k);(H||H===0&&k.replace(/\s/g,"")!=="")&&p.push(H)}return p}n(Fi,"_parseCaptureGroups");function hi(Me,p,k,H){return{red:Me/255,blue:k/255,green:p/255,alpha:H}}n(hi,"_toIColor");function di(Me,p){const k=p.index,H=p[0].length;if(!k)return;const re=Me.positionAt(k);return{startLineNumber:re.lineNumber,startColumn:re.column,endLineNumber:re.lineNumber,endColumn:re.column+H}}n(di,"_findRange");function Ni(Me,p){if(!Me)return;const k=ni.Q1.Format.CSS.parseHex(p);if(k)return{range:Me,color:hi(k.rgba.r,k.rgba.g,k.rgba.b,k.rgba.a)}}n(Ni,"_findHexColorInformation");function fi(Me,p,k){if(!Me||p.length!==1)return;const re=p[0].values(),ae=Fi(re);return{range:Me,color:hi(ae[0],ae[1],ae[2],k?ae[3]:1)}}n(fi,"_findRGBColorInformation");function Pn(Me,p,k){if(!Me||p.length!==1)return;const re=p[0].values(),ae=Fi(re),_e=new ni.Q1(new ni.hB(ae[0],ae[1]/100,ae[2]/100,k?ae[3]:1));return{range:Me,color:hi(_e.rgba.r,_e.rgba.g,_e.rgba.b,_e.rgba.a)}}n(Pn,"_findHSLColorInformation");function wi(Me,p){return typeof Me=="string"?[...Me.matchAll(p)]:Me.findMatches(p)}n(wi,"_findMatches");function Gi(Me){const p=[],H=wi(Me,/\b(rgb|rgba|hsl|hsla)(\([0-9\s,.\%]*\))|(#)([A-Fa-f0-9]{3})\b|(#)([A-Fa-f0-9]{4})\b|(#)([A-Fa-f0-9]{6})\b|(#)([A-Fa-f0-9]{8})\b/gm);if(H.length>0)for(const re of H){const ae=re.filter(De=>De!==void 0),_e=ae[1],Ie=ae[2];if(!Ie)continue;let Ee;if(_e==="rgb"){const De=/^\(\s*(25[0-5]|2[0-4][0-9]|1[0-9]{2}|[1-9][0-9]|[0-9])\s*,\s*(25[0-5]|2[0-4][0-9]|1[0-9]{2}|[1-9][0-9]|[0-9])\s*,\s*(25[0-5]|2[0-4][0-9]|1[0-9]{2}|[1-9][0-9]|[0-9])\s*\)$/gm;Ee=fi(di(Me,re),wi(Ie,De),!1)}else if(_e==="rgba"){const De=/^\(\s*(25[0-5]|2[0-4][0-9]|1[0-9]{2}|[1-9][0-9]|[0-9])\s*,\s*(25[0-5]|2[0-4][0-9]|1[0-9]{2}|[1-9][0-9]|[0-9])\s*,\s*(25[0-5]|2[0-4][0-9]|1[0-9]{2}|[1-9][0-9]|[0-9])\s*,\s*(0[.][0-9]+|[.][0-9]+|[01][.]|[01])\s*\)$/gm;Ee=fi(di(Me,re),wi(Ie,De),!0)}else if(_e==="hsl"){const De=/^\(\s*(36[0]|3[0-5][0-9]|[12][0-9][0-9]|[1-9]?[0-9])\s*,\s*(100|\d{1,2}[.]\d*|\d{1,2})%\s*,\s*(100|\d{1,2}[.]\d*|\d{1,2})%\s*\)$/gm;Ee=Pn(di(Me,re),wi(Ie,De),!1)}else if(_e==="hsla"){const De=/^\(\s*(36[0]|3[0-5][0-9]|[12][0-9][0-9]|[1-9]?[0-9])\s*,\s*(100|\d{1,2}[.]\d*|\d{1,2})%\s*,\s*(100|\d{1,2}[.]\d*|\d{1,2})%\s*,\s*(0[.][0-9]+|[.][0-9]+|[01][.]|[01])\s*\)$/gm;Ee=Pn(di(Me,re),wi(Ie,De),!0)}else _e==="#"&&(Ee=Ni(di(Me,re),_e+Ie));Ee&&p.push(Ee)}return p}n(Gi,"computeColors");function yi(Me){return!Me||typeof Me.getValue!="function"||typeof Me.positionAt!="function"?[]:Gi(Me)}n(yi,"computeDefaultDocumentColors");var Ti=E(9307),Jn=E(1305);const Di=!0,On=class On{constructor(){this._workerTextModelSyncServer=new Jn.WorkerTextModelSyncServer}dispose(){}_getModel(p){return this._workerTextModelSyncServer.getModel(p)}_getModels(){return this._workerTextModelSyncServer.getModels()}$acceptNewModel(p){this._workerTextModelSyncServer.$acceptNewModel(p)}$acceptModelChanged(p,k){this._workerTextModelSyncServer.$acceptModelChanged(p,k)}$acceptRemovedModel(p){this._workerTextModelSyncServer.$acceptRemovedModel(p)}async $computeUnicodeHighlights(p,k,H){const re=this._getModel(p);return re?Ue.UnicodeTextModelHighlighter.computeUnicodeHighlights(re,k,H):{ranges:[],hasMore:!1,ambiguousCharacterCount:0,invisibleCharacterCount:0,nonBasicAsciiCharacterCount:0}}async $findSectionHeaders(p,k){const H=this._getModel(p);return H?(0,Ti.findSectionHeaders)(H,k):[]}async $computeDiff(p,k,H,re){const ae=this._getModel(p),_e=this._getModel(k);return!ae||!_e?null:ti.computeDiff(ae,_e,H,re)}static computeDiff(p,k,H,re){const ae=re==="advanced"?li.getDefault():li.getLegacy(),_e=p.getLinesContent(),Ie=k.getLinesContent(),Ee=ae.computeDiff(_e,Ie,H),De=Ee.changes.length>0?!1:this._modelsAreIdentical(p,k);function Qe(Ke){return Ke.map(et=>{var st;return[et.original.startLineNumber,et.original.endLineNumberExclusive,et.modified.startLineNumber,et.modified.endLineNumberExclusive,(st=et.innerChanges)==null?void 0:st.map(gt=>[gt.originalRange.startLineNumber,gt.originalRange.startColumn,gt.originalRange.endLineNumber,gt.originalRange.endColumn,gt.modifiedRange.startLineNumber,gt.modifiedRange.startColumn,gt.modifiedRange.endLineNumber,gt.modifiedRange.endColumn])]})}return n(Qe,"getLineChanges"),{identical:De,quitEarly:Ee.hitTimeout,changes:Qe(Ee.changes),moves:Ee.moves.map(Ke=>[Ke.lineRangeMapping.original.startLineNumber,Ke.lineRangeMapping.original.endLineNumberExclusive,Ke.lineRangeMapping.modified.startLineNumber,Ke.lineRangeMapping.modified.endLineNumberExclusive,Qe(Ke.changes)])}}static _modelsAreIdentical(p,k){const H=p.getLineCount(),re=k.getLineCount();if(H!==re)return!1;for(let ae=1;ae<=H;ae++){const _e=p.getLineContent(ae),Ie=k.getLineContent(ae);if(_e!==Ie)return!1}return!0}async $computeMoreMinimalEdits(p,k,H){const re=this._getModel(p);if(!re)return k;const ae=[];let _e;k=k.slice(0).sort((Ee,De)=>{if(Ee.range&&De.range)return O.Q.compareRangesUsingStarts(Ee.range,De.range);const Qe=Ee.range?0:1,Ke=De.range?0:1;return Qe-Ke});let Ie=0;for(let Ee=1;Ee<k.length;Ee++)O.Q.getEndPosition(k[Ie].range).equals(O.Q.getStartPosition(k[Ee].range))?(k[Ie].range=O.Q.fromPositions(O.Q.getStartPosition(k[Ie].range),O.Q.getEndPosition(k[Ee].range)),k[Ie].text+=k[Ee].text):(Ie++,k[Ie]=k[Ee]);k.length=Ie+1;for(let{range:Ee,text:De,eol:Qe}of k){if(typeof Qe=="number"&&(_e=Qe),O.Q.isEmpty(Ee)&&!De)continue;const Ke=re.getValueInRange(Ee);if(De=De.replace(/\r\n|\n|\r/g,re.eol),Ke===De)continue;if(Math.max(De.length,Ke.length)>ti._diffLimit){ae.push({range:Ee,text:De});continue}const et=K(Ke,De,H),st=re.offsetAt(O.Q.lift(Ee).getStartPosition());for(const gt of et){const _t=re.positionAt(st+gt.originalStart),Rt=re.positionAt(st+gt.originalStart+gt.originalLength),Et={text:De.substr(gt.modifiedStart,gt.modifiedLength),range:{startLineNumber:_t.lineNumber,startColumn:_t.column,endLineNumber:Rt.lineNumber,endColumn:Rt.column}};re.getValueInRange(Et.range)!==Et.text&&ae.push(Et)}}return typeof _e=="number"&&ae.push({eol:_e,text:"",range:{startLineNumber:0,startColumn:0,endLineNumber:0,endColumn:0}}),ae}async $computeLinks(p){const k=this._getModel(p);return k?J(k):null}async $computeDefaultDocumentColors(p){const k=this._getModel(p);return k?yi(k):null}async $textualSuggest(p,k,H,re){const ae=new we.W,_e=new RegExp(H,re),Ie=new Set;e:for(const Ee of p){const De=this._getModel(Ee);if(De){for(const Qe of De.words(_e))if(!(Qe===k||!isNaN(Number(Qe)))&&(Ie.add(Qe),Ie.size>ti._suggestionsLimit))break e}}return{words:Array.from(Ie),duration:ae.elapsed()}}async $computeWordRanges(p,k,H,re){const ae=this._getModel(p);if(!ae)return Object.create(null);const _e=new RegExp(H,re),Ie=Object.create(null);for(let Ee=k.startLineNumber;Ee<k.endLineNumber;Ee++){const De=ae.getLineWords(Ee,_e);for(const Qe of De){if(!isNaN(Number(Qe.word)))continue;let Ke=Ie[Qe.word];Ke||(Ke=[],Ie[Qe.word]=Ke),Ke.push({startLineNumber:Ee,startColumn:Qe.startColumn,endLineNumber:Ee,endColumn:Qe.endColumn})}}return Ie}async $navigateValueSet(p,k,H,re,ae){const _e=this._getModel(p);if(!_e)return null;const Ie=new RegExp(re,ae);k.startColumn===k.endColumn&&(k={startLineNumber:k.startLineNumber,startColumn:k.startColumn,endLineNumber:k.endLineNumber,endColumn:k.endColumn+1});const Ee=_e.getValueInRange(k),De=_e.getWordAtPosition({lineNumber:k.startLineNumber,column:k.startColumn},Ie);if(!De)return null;const Qe=_e.getValueInRange(De);return y.INSTANCE.navigateValueSet(k,Ee,De,Qe,H)}};n(On,"BaseEditorSimpleWorker"),On._diffLimit=1e5,On._suggestionsLimit=1e4;let gi=On;const zr=class zr extends gi{constructor(p,k){super(),this._host=p,this._foreignModuleFactory=k,this._foreignModule=null}async $ping(){return"pong"}$loadForeignModule(p,k,H){const re=n((Ie,Ee)=>this._host.$fhr(Ie,Ee),"proxyMethodRequest"),_e={host:(0,ci.kT)(H,re),getMirrorModels:n(()=>this._getModels(),"getMirrorModels")};return this._foreignModuleFactory?(this._foreignModule=this._foreignModuleFactory(_e,k),Promise.resolve((0,ci.V0)(this._foreignModule))):new Promise((Ie,Ee)=>{const De=n(Qe=>{this._foreignModule=Qe.create(_e,k),Ie((0,ci.V0)(this._foreignModule))},"onModuleCallback");if(!Di)Promise.resolve().then(function(){var Qe=[E(7614)(`${p}`)];De.apply(null,Qe)}.bind(this)).catch(Ee.bind(this));else{const Qe=xi.zl.asBrowserUri(`${p}.js`).toString(!0);E(9204)(`${Qe}`).then(De).catch(Ee)}})}$fmr(p,k){if(!this._foreignModule||typeof this._foreignModule[p]!="function")return Promise.reject(new Error("Missing requestHandler or method: "+p));try{return Promise.resolve(this._foreignModule[p].apply(this._foreignModule,k))}catch(H){return Promise.reject(H)}}};n(zr,"EditorSimpleWorker");let ti=zr;function qi(Me){return new ti(me.EditorWorkerHost.getChannel(Me),null)}n(qi,"create"),typeof importScripts=="function"&&(globalThis.monaco=(0,W.createMonacoBaseAPI)())},304:(Lt,Pe,E)=>{"use strict";E.r(Pe),E.d(Pe,{IEditorWorkerService:n(()=>ie,"IEditorWorkerService")});var F=E(2399);const ie=(0,F.u1)("editorWorkerService")},6358:(Lt,Pe,E)=>{"use strict";E.r(Pe),E.d(Pe,{EditorWorkerHost:n(()=>F,"EditorWorkerHost")});const ie=class ie{static getChannel(K){return K.getChannel(ie.CHANNEL_NAME)}static setChannel(K,Q){K.setChannel(ie.CHANNEL_NAME,Q)}};n(ie,"EditorWorkerHost"),ie.CHANNEL_NAME="editorWorkerHost";let F=ie},9307:(Lt,Pe,E)=>{"use strict";E.r(Pe),E.d(Pe,{findSectionHeaders:n(()=>o,"findSectionHeaders")});const F=new RegExp("\\bMARK:\\s*(.*)$","d"),ie=/^-+|-+$/g;function o(Y,O){var B;let ne=[];if(O.findRegionSectionHeaders&&((B=O.foldingRules)!=null&&B.markers)){const $=K(Y,O);ne=ne.concat($)}if(O.findMarkSectionHeaders){const $=Q(Y);ne=ne.concat($)}return ne}n(o,"findSectionHeaders");function K(Y,O){const ne=[],B=Y.getLineCount();for(let $=1;$<=B;$++){const j=Y.getLineContent($),z=j.match(O.foldingRules.markers.start);if(z){const U={startLineNumber:$,startColumn:z[0].length+1,endLineNumber:$,endColumn:j.length+1};if(U.endColumn>U.startColumn){const v={range:U,...g(j.substring(z[0].length)),shouldBeInComments:!1};(v.text||v.hasSeparatorLine)&&ne.push(v)}}}return ne}n(K,"collectRegionHeaders");function Q(Y){const O=[],ne=Y.getLineCount();for(let B=1;B<=ne;B++){const $=Y.getLineContent(B);N($,B,O)}return O}n(Q,"collectMarkHeaders");function N(Y,O,ne){F.lastIndex=0;const B=F.exec(Y);if(B){const $=B.indices[1][0]+1,j=B.indices[1][1]+1,z={startLineNumber:O,startColumn:$,endLineNumber:O,endColumn:j};if(z.endColumn>z.startColumn){const U={range:z,...g(B[1]),shouldBeInComments:!0};(U.text||U.hasSeparatorLine)&&ne.push(U)}}}n(N,"addMarkHeaderIfFound");function g(Y){Y=Y.trim();const O=Y.startsWith("-");return Y=Y.replace(ie,""),{text:Y,hasSeparatorLine:O}}n(g,"getHeaderText")},7762:(Lt,Pe,E)=>{"use strict";E.r(Pe),E.d(Pe,{getIconClasses:n(()=>ne,"getIconClasses")});var F=E(3072),ie=E(2467),o=E(7264),K=E(4957),Q;(function(j){j[j.FILE=0]="FILE",j[j.FOLDER=1]="FOLDER",j[j.ROOT_FOLDER=2]="ROOT_FOLDER"})(Q||(Q={}));var N=E(1869),g;(function(j){function z(U){return U&&typeof U=="object"&&typeof U.id=="string"}n(z,"isThemeColor"),j.isThemeColor=z})(g||(g={}));var Y;(function(j){j.iconNameSegment="[A-Za-z0-9]+",j.iconNameExpression="[A-Za-z0-9-]+",j.iconModifierExpression="~[A-Za-z]+",j.iconNameCharacter="[A-Za-z0-9~-]";const z=new RegExp(`^(${j.iconNameExpression})(${j.iconModifierExpression})?$`);function U(R){const m=z.exec(R.id);if(!m)return U(N.W.error);const[,_,b]=m,I=["codicon","codicon-"+_];return b&&I.push("codicon-modifier-"+b.substring(1)),I}n(U,"asClassNameArray"),j.asClassNameArray=U;function v(R){return U(R).join(" ")}n(v,"asClassName"),j.asClassName=v;function ce(R){return"."+U(R).join(".")}n(ce,"asCSSSelector"),j.asCSSSelector=ce;function J(R){return R&&typeof R=="object"&&typeof R.id=="string"&&(typeof R.color=="undefined"||g.isThemeColor(R.color))}n(J,"isThemeIcon"),j.isThemeIcon=J;const y=new RegExp(`^\\$\\((${j.iconNameExpression}(?:${j.iconModifierExpression})?)\\)$`);function W(R){const m=y.exec(R);if(!m)return;const[,_]=m;return{id:_}}n(W,"fromString"),j.fromString=W;function me(R){return{id:R}}n(me,"fromId"),j.fromId=me;function we(R,m){let _=R.id;const b=_.lastIndexOf("~");return b!==-1&&(_=_.substring(0,b)),m&&(_=`${_}~${m}`),{id:_}}n(we,"modify"),j.modify=we;function Ue(R){const m=R.id.lastIndexOf("~");if(m!==-1)return R.id.substring(m+1)}n(Ue,"getModifier"),j.getModifier=Ue;function Ce(R,m){var _,b;return R.id===m.id&&((_=R.color)==null?void 0:_.id)===((b=m.color)==null?void 0:b.id)}n(Ce,"isEqual"),j.isEqual=Ce})(Y||(Y={}));const O=/(?:\/|^)(?:([^\/]+)\/)?([^\/]+)$/;function ne(j,z,U,v,ce){if(Y.isThemeIcon(ce))return[`codicon-${ce.id}`,"predefined-file-icon"];if(o.r.isUri(ce))return[];const J=v===Q.ROOT_FOLDER?["rootfolder-icon"]:v===Q.FOLDER?["folder-icon"]:["file-icon"];if(U){let y;if(U.scheme===F.ny.data)y=ie.B6.parseMetaData(U).get(ie.B6.META_DATA_LABEL);else{const W=U.path.match(O);W?(y=$(W[2].toLowerCase()),W[1]&&J.push(`${$(W[1].toLowerCase())}-name-dir-icon`)):y=$(U.authority.toLowerCase())}if(v===Q.ROOT_FOLDER)J.push(`${y}-root-name-folder-icon`);else if(v===Q.FOLDER)J.push(`${y}-name-folder-icon`);else{if(y){if(J.push(`${y}-name-file-icon`),J.push("name-file-icon"),y.length<=255){const me=y.split(".");for(let we=1;we<me.length;we++)J.push(`${me.slice(we).join(".")}-ext-file-icon`)}J.push("ext-file-icon")}const W=B(j,z,U);W&&J.push(`${$(W)}-lang-file-icon`)}}return J}n(ne,"getIconClasses");function B(j,z,U){if(!U)return null;let v=null;if(U.scheme===F.ny.data){const J=ie.B6.parseMetaData(U).get(ie.B6.META_DATA_MIME);J&&(v=z.getLanguageIdByMimeType(J))}else{const ce=j.getModel(U);ce&&(v=ce.getLanguageId())}return v&&v!==K.vH?v:z.guessLanguageIdByFilepathOrFirstLine(U)}n(B,"detectLanguageId");function $(j){return j.replace(/[\s]/g,"/")}n($,"cssEscape")},4791:(Lt,Pe,E)=>{"use strict";var we;E.r(Pe),E.d(Pe,{ILanguageFeatureDebounceService:n(()=>j,"ILanguageFeatureDebounceService"),LanguageFeatureDebounceService:n(()=>ce,"LanguageFeatureDebounceService")});var F=E(2344),ie=E(7992);function o(Ue,Ce,R){return Math.min(Math.max(Ue,Ce),R)}n(o,"clamp");const J=class J{constructor(){this._n=1,this._val=0}update(Ce){return this._val=this._val+(Ce-this._val)/this._n,this._n+=1,this._val}get value(){return this._val}};n(J,"MovingAverage");let K=J;const y=class y{constructor(Ce){this._n=0,this._val=0,this._values=[],this._index=0,this._sum=0,this._values=new Array(Ce),this._values.fill(0,0,Ce)}update(Ce){const R=this._values[this._index];return this._values[this._index]=Ce,this._index=(this._index+1)%this._values.length,this._sum-=R,this._sum+=Ce,this._n<this._values.length&&(this._n+=1),this._val=this._sum/this._n,this._val}get value(){return this._val}};n(y,"SlidingWindowAverage");let Q=y;var N=E(2399);const g=(0,N.u1)("environmentService");var Y=E(9031),O=E(9950),ne=E(3072),B=function(Ue,Ce,R,m){var _=arguments.length,b=_<3?Ce:m===null?m=Object.getOwnPropertyDescriptor(Ce,R):m,I;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")b=Reflect.decorate(Ue,Ce,R,m);else for(var P=Ue.length-1;P>=0;P--)(I=Ue[P])&&(b=(_<3?I(b):_>3?I(Ce,R,b):I(Ce,R))||b);return _>3&&b&&Object.defineProperty(Ce,R,b),b},$=function(Ue,Ce){return function(R,m){Ce(R,m,Ue)}};const j=(0,N.u1)("ILanguageFeatureDebounceService");var z;(function(Ue){const Ce=new WeakMap;let R=0;function m(_){let b=Ce.get(_);return b===void 0&&(b=++R,Ce.set(_,b)),b}n(m,"of"),Ue.of=m})(z||(z={}));const W=class W{constructor(Ce){this._default=Ce}get(Ce){return this._default}update(Ce,R){return this._default}default(){return this._default}};n(W,"NullDebounceInformation");let U=W;const me=class me{constructor(Ce,R,m,_,b,I){this._logService=Ce,this._name=R,this._registry=m,this._default=_,this._min=b,this._max=I,this._cache=new ie.qK(50,.7)}_key(Ce){return Ce.id+this._registry.all(Ce).reduce((R,m)=>(0,F.sN)(z.of(m),R),0)}get(Ce){const R=this._key(Ce),m=this._cache.get(R);return m?o(m.value,this._min,this._max):this.default()}update(Ce,R){const m=this._key(Ce);let _=this._cache.get(m);_||(_=new Q(6),this._cache.set(m,_));const b=o(_.update(R),this._min,this._max);return(0,ne.v$)(Ce.uri,"output")||this._logService.trace(`[DEBOUNCE: ${this._name}] for ${Ce.uri.toString()} is ${b}ms`),b}_overall(){const Ce=new K;for(const[,R]of this._cache)Ce.update(R.value);return Ce.value}default(){const Ce=this._overall()|0||this._default;return o(Ce,this._min,this._max)}};n(me,"FeatureDebounceInformation");let v=me,ce=(we=class{constructor(Ce,R){this._logService=Ce,this._data=new Map,this._isDev=R.isExtensionDevelopment||!R.isBuilt}for(Ce,R,m){var ee,fe,ue;const _=(ee=m==null?void 0:m.min)!=null?ee:50,b=(fe=m==null?void 0:m.max)!=null?fe:_**2,I=(ue=m==null?void 0:m.key)!=null?ue:void 0,P=`${z.of(Ce)},${_}${I?","+I:""}`;let V=this._data.get(P);return V||(this._isDev?(this._logService.debug(`[DEBOUNCE: ${R}] is disabled in developed mode`),V=new U(_*1.5)):V=new v(this._logService,R,Ce,this._overallAverage()|0||_*1.5,_,b),this._data.set(P,V)),V}_overallAverage(){const Ce=new K;for(const R of this._data.values())Ce.update(R.default());return Ce.value}},n(we,"LanguageFeatureDebounceService"),we);ce=B([$(0,O.rr),$(1,g)],ce),(0,Y.v)(j,ce,1)},2230:(Lt,Pe,E)=>{"use strict";E.r(Pe),E.d(Pe,{ILanguageFeaturesService:n(()=>ie,"ILanguageFeaturesService")});var F=E(2399);const ie=(0,F.u1)("ILanguageFeaturesService")},501:(Lt,Pe,E)=>{"use strict";E.r(Pe),E.d(Pe,{LanguageFeaturesService:n(()=>j,"LanguageFeaturesService")});var F=E(2106),ie=E(9235),o=E(6055),K=E(3958),Q=E(4033);function N(ce,J,y,W,me,we){if(Array.isArray(ce)){let Ue=0;for(const Ce of ce){const R=N(Ce,J,y,W,me,we);if(R===10)return R;R>Ue&&(Ue=R)}return Ue}else{if(typeof ce=="string")return W?ce==="*"?5:ce===y?10:0:0;if(ce){const{language:Ue,pattern:Ce,scheme:R,hasAccessToAllModels:m,notebookType:_}=ce;if(!W&&!m)return 0;_&&me&&(J=me);let b=0;if(R)if(R===J.scheme)b=10;else if(R==="*")b=5;else return 0;if(Ue)if(Ue===y)b=10;else if(Ue==="*")b=Math.max(b,5);else return 0;if(_)if(_===we)b=10;else if(_==="*"&&we!==void 0)b=Math.max(b,5);else return 0;if(Ce){let I;if(typeof Ce=="string"?I=Ce:I={...Ce,base:(0,Q.S8)(Ce.base)},I===J.fsPath||(0,K.YW)(I,J.fsPath))b=10;else return 0}return b}else return 0}}n(N,"score");function g(ce){return typeof ce=="string"?!1:Array.isArray(ce)?ce.every(g):!!ce.exclusive}n(g,"isExclusive");const z=class z{constructor(J,y,W,me,we){this.uri=J,this.languageId=y,this.notebookUri=W,this.notebookType=me,this.recursive=we}equals(J){var y,W;return this.notebookType===J.notebookType&&this.languageId===J.languageId&&this.uri.toString()===J.uri.toString()&&((y=this.notebookUri)==null?void 0:y.toString())===((W=J.notebookUri)==null?void 0:W.toString())&&this.recursive===J.recursive}};n(z,"MatchCandidate");let Y=z;const U=class U{constructor(J){this._notebookInfoResolver=J,this._clock=0,this._entries=[],this._onDidChange=new F.vl,this.onDidChange=this._onDidChange.event}register(J,y){let W={selector:J,provider:y,_score:-1,_time:this._clock++};return this._entries.push(W),this._lastCandidate=void 0,this._onDidChange.fire(this._entries.length),(0,ie.s)(()=>{if(W){const me=this._entries.indexOf(W);me>=0&&(this._entries.splice(me,1),this._lastCandidate=void 0,this._onDidChange.fire(this._entries.length),W=void 0)}})}has(J){return this.all(J).length>0}all(J){if(!J)return[];this._updateScores(J,!1);const y=[];for(const W of this._entries)W._score>0&&y.push(W.provider);return y}ordered(J,y=!1){const W=[];return this._orderedForEach(J,y,me=>W.push(me.provider)),W}orderedGroups(J){const y=[];let W,me;return this._orderedForEach(J,!1,we=>{W&&me===we._score?W.push(we.provider):(me=we._score,W=[we.provider],y.push(W))}),y}_orderedForEach(J,y,W){this._updateScores(J,y);for(const me of this._entries)me._score>0&&W(me)}_updateScores(J,y){var we,Ue;const W=(we=this._notebookInfoResolver)==null?void 0:we.call(this,J.uri),me=W?new Y(J.uri,J.getLanguageId(),W.uri,W.type,y):new Y(J.uri,J.getLanguageId(),void 0,void 0,y);if(!((Ue=this._lastCandidate)!=null&&Ue.equals(me))){this._lastCandidate=me;for(const Ce of this._entries)if(Ce._score=N(Ce.selector,me.uri,me.languageId,(0,o.vd)(J),me.notebookUri,me.notebookType),g(Ce.selector)&&Ce._score>0)if(y)Ce._score=0;else{for(const R of this._entries)R._score=0;Ce._score=1e3;break}this._entries.sort(U._compareByScoreAndTime)}}static _compareByScoreAndTime(J,y){return J._score<y._score?1:J._score>y._score?-1:ne(J.selector)&&!ne(y.selector)?1:!ne(J.selector)&&ne(y.selector)?-1:J._time<y._time?1:J._time>y._time?-1:0}};n(U,"LanguageFeatureRegistry");let O=U;function ne(ce){return typeof ce=="string"?!1:Array.isArray(ce)?ce.some(ne):!!ce.isBuiltin}n(ne,"isBuiltinSelector");var B=E(2230),$=E(9031);const v=class v{constructor(){this.referenceProvider=new O(this._score.bind(this)),this.renameProvider=new O(this._score.bind(this)),this.newSymbolNamesProvider=new O(this._score.bind(this)),this.codeActionProvider=new O(this._score.bind(this)),this.definitionProvider=new O(this._score.bind(this)),this.typeDefinitionProvider=new O(this._score.bind(this)),this.declarationProvider=new O(this._score.bind(this)),this.implementationProvider=new O(this._score.bind(this)),this.documentSymbolProvider=new O(this._score.bind(this)),this.inlayHintsProvider=new O(this._score.bind(this)),this.colorProvider=new O(this._score.bind(this)),this.codeLensProvider=new O(this._score.bind(this)),this.documentFormattingEditProvider=new O(this._score.bind(this)),this.documentRangeFormattingEditProvider=new O(this._score.bind(this)),this.onTypeFormattingEditProvider=new O(this._score.bind(this)),this.signatureHelpProvider=new O(this._score.bind(this)),this.hoverProvider=new O(this._score.bind(this)),this.documentHighlightProvider=new O(this._score.bind(this)),this.multiDocumentHighlightProvider=new O(this._score.bind(this)),this.selectionRangeProvider=new O(this._score.bind(this)),this.foldingRangeProvider=new O(this._score.bind(this)),this.linkProvider=new O(this._score.bind(this)),this.inlineCompletionsProvider=new O(this._score.bind(this)),this.inlineEditProvider=new O(this._score.bind(this)),this.completionProvider=new O(this._score.bind(this)),this.linkedEditingRangeProvider=new O(this._score.bind(this)),this.documentRangeSemanticTokensProvider=new O(this._score.bind(this)),this.documentSemanticTokensProvider=new O(this._score.bind(this)),this.documentDropEditProvider=new O(this._score.bind(this)),this.documentPasteEditProvider=new O(this._score.bind(this))}_score(J){var y;return(y=this._notebookTypeResolver)==null?void 0:y.call(this,J)}};n(v,"LanguageFeaturesService");let j=v;(0,$.v)(B.ILanguageFeaturesService,j,1)},6123:(Lt,Pe,E)=>{"use strict";E.r(Pe),E.d(Pe,{LanguageService:n(()=>$i,"LanguageService")});var F=E(2106),ie=E(9235),o=E(6995),K=E(3338),Q=E(4364),N=E(4957);const g=n((Fe,q)=>Fe===q,"equals_strictEquals");function Y(Fe=g){return(q,xe)=>arrays.equals(q,xe,Fe)}n(Y,"itemsEquals");function O(){return(Fe,q)=>Fe.equals(q)}n(O,"itemEquals");function ne(Fe,q,xe){if(xe!==void 0){const se=Fe;return se==null||q===void 0||q===null?q===se:xe(se,q)}else{const se=Fe;return(lt,vt)=>lt==null||vt===void 0||vt===null?vt===lt:se(lt,vt)}}n(ne,"equalsIfDefined");function B(Fe,q){if(Fe===q)return!0;if(Array.isArray(Fe)&&Array.isArray(q)){if(Fe.length!==q.length)return!1;for(let xe=0;xe<Fe.length;xe++)if(!B(Fe[xe],q[xe]))return!1;return!0}if(Fe&&typeof Fe=="object"&&q&&typeof q=="object"&&Object.getPrototypeOf(Fe)===Object.prototype&&Object.getPrototypeOf(q)===Object.prototype){const xe=Fe,se=q,lt=Object.keys(xe),vt=Object.keys(se),Pt=new Set(vt);if(lt.length!==vt.length)return!1;for(const ln of lt)if(!Pt.has(ln)||!B(xe[ln],se[ln]))return!1;return!0}return!1}n(B,"structuralEquals");const $=new WeakMap,Ci=class Ci{constructor(q,xe,se){this.owner=q,this.debugNameSource=xe,this.referenceFn=se}getDebugName(q){return v(q,this)}};n(Ci,"debugName_DebugNameData");let j=Ci;const z=new Map,U=new WeakMap;function v(Fe,q){var lt;const xe=U.get(Fe);if(xe)return xe;const se=ce(Fe,q);if(se){let vt=(lt=z.get(se))!=null?lt:0;vt++,z.set(se,vt);const Pt=vt===1?se:`${se}#${vt}`;return U.set(Fe,Pt),Pt}}n(v,"getDebugName");function ce(Fe,q){const xe=U.get(Fe);if(xe)return xe;const se=q.owner?me(q.owner)+".":"";let lt;const vt=q.debugNameSource;if(vt!==void 0)if(typeof vt=="function"){if(lt=vt(),lt!==void 0)return se+lt}else return se+vt;const Pt=q.referenceFn;if(Pt!==void 0&&(lt=Ue(Pt),lt!==void 0))return se+lt;if(q.owner!==void 0){const ln=J(q.owner,Fe);if(ln!==void 0)return se+ln}}n(ce,"computeDebugName");function J(Fe,q){for(const xe in Fe)if(Fe[xe]===q)return xe}n(J,"findKey");const y=new Map,W=new WeakMap;function me(Fe){var vt;const q=W.get(Fe);if(q)return q;const xe=we(Fe);let se=(vt=y.get(xe))!=null?vt:0;se++,y.set(xe,se);const lt=se===1?xe:`${xe}#${se}`;return W.set(Fe,lt),lt}n(me,"formatOwner");function we(Fe){const q=Fe.constructor;return q?q.name:"Object"}n(we,"getClassName");function Ue(Fe){const q=Fe.toString(),se=/\/\*\*\s*@description\s*([^*]*)\*\//.exec(q),lt=se?se[1]:void 0;return lt==null?void 0:lt.trim()}n(Ue,"getFunctionName");let Ce;function R(Fe){Ce=Fe}n(R,"setLogger");function m(){return Ce}n(m,"getLogger");const li=class li{constructor(){this.indentation=0,this.changedObservablesSets=new WeakMap}textToConsoleArgs(q){return b([I(Te("|  ",this.indentation)),q])}formatInfo(q){return q.hadValue?q.didChange?[I(" "),V(ee(q.oldValue,70),{color:"red",strikeThrough:!0}),I(" "),V(ee(q.newValue,60),{color:"green"})]:[I(" (unchanged)")]:[I(" "),V(ee(q.newValue,60),{color:"green"}),I(" (initial)")]}handleObservableChanged(q,xe){console.log(...this.textToConsoleArgs([P("observable value changed"),V(q.debugName,{color:"BlueViolet"}),...this.formatInfo(xe)]))}formatChanges(q){if(q.size!==0)return V(" (changed deps: "+[...q].map(xe=>xe.debugName).join(", ")+")",{color:"gray"})}handleDerivedCreated(q){const xe=q.handleChange;this.changedObservablesSets.set(q,new Set),q.handleChange=(se,lt)=>(this.changedObservablesSets.get(q).add(se),xe.apply(q,[se,lt]))}handleDerivedRecomputed(q,xe){var lt;const se=this.changedObservablesSets.get(q);console.log(...this.textToConsoleArgs([P("derived recomputed"),V(q.debugName,{color:"BlueViolet"}),...this.formatInfo(xe),this.formatChanges(se),{data:[{fn:(lt=q._debugNameData.referenceFn)!=null?lt:q._computeFn}]}])),se.clear()}handleFromEventObservableTriggered(q,xe){console.log(...this.textToConsoleArgs([P("observable from event triggered"),V(q.debugName,{color:"BlueViolet"}),...this.formatInfo(xe),{data:[{fn:q._getValue}]}]))}handleAutorunCreated(q){const xe=q.handleChange;this.changedObservablesSets.set(q,new Set),q.handleChange=(se,lt)=>(this.changedObservablesSets.get(q).add(se),xe.apply(q,[se,lt]))}handleAutorunTriggered(q){var se;const xe=this.changedObservablesSets.get(q);console.log(...this.textToConsoleArgs([P("autorun"),V(q.debugName,{color:"BlueViolet"}),this.formatChanges(xe),{data:[{fn:(se=q._debugNameData.referenceFn)!=null?se:q._runFn}]}])),xe.clear(),this.indentation++}handleAutorunFinished(q){this.indentation--}handleBeginTransaction(q){let xe=q.getDebugName();xe===void 0&&(xe=""),console.log(...this.textToConsoleArgs([P("transaction"),V(xe,{color:"BlueViolet"}),{data:[{fn:q._fn}]}])),this.indentation++}handleEndTransaction(){this.indentation--}};n(li,"ConsoleObservableLogger");let _=li;function b(Fe){const q=new Array,xe=[];let se="";function lt(Pt){if("length"in Pt)for(const ln of Pt)ln&&lt(ln);else"text"in Pt?(se+=`%c${Pt.text}`,q.push(Pt.style),Pt.data&&xe.push(...Pt.data)):"data"in Pt&&xe.push(...Pt.data)}n(lt,"process"),lt(Fe);const vt=[se,...q];return vt.push(...xe),vt}n(b,"consoleTextToArgs");function I(Fe){return V(Fe,{color:"black"})}n(I,"normalText");function P(Fe){return V(je(`${Fe}: `,10),{color:"black",bold:!0})}n(P,"formatKind");function V(Fe,q={color:"black"}){function xe(lt){return Object.entries(lt).reduce((vt,[Pt,ln])=>`${vt}${Pt}:${ln};`,"")}n(xe,"objToCss");const se={color:q.color};return q.strikeThrough&&(se["text-decoration"]="line-through"),q.bold&&(se["font-weight"]="bold"),{text:Fe,style:xe(se)}}n(V,"styled");function ee(Fe,q){switch(typeof Fe){case"number":return""+Fe;case"string":return Fe.length+2<=q?`"${Fe}"`:`"${Fe.substr(0,q-7)}"+...`;case"boolean":return Fe?"true":"false";case"undefined":return"undefined";case"object":return Fe===null?"null":Array.isArray(Fe)?fe(Fe,q):ue(Fe,q);case"symbol":return Fe.toString();case"function":return`[[Function${Fe.name?" "+Fe.name:""}]]`;default:return""+Fe}}n(ee,"formatValue");function fe(Fe,q){let xe="[ ",se=!0;for(const lt of Fe){if(se||(xe+=", "),xe.length-5>q){xe+="...";break}se=!1,xe+=`${ee(lt,q-xe.length)}`}return xe+=" ]",xe}n(fe,"formatArray");function ue(Fe,q){let xe="{ ",se=!0;for(const[lt,vt]of Object.entries(Fe)){if(se||(xe+=", "),xe.length-5>q){xe+="...";break}se=!1,xe+=`${lt}: ${ee(vt,q-xe.length)}`}return xe+=" }",xe}n(ue,"formatObject");function Te(Fe,q){let xe="";for(let se=1;se<=q;se++)xe+=Fe;return xe}n(Te,"repeat");function je(Fe,q){for(;Fe.length<q;)Fe+=" ";return Fe}n(je,"padStr");let Xe;function We(Fe){Xe=Fe}n(We,"_setRecomputeInitiallyAndOnChange");let A;function M(Fe){A=Fe}n(M,"_setKeepObserved");let G;function w(Fe){G=Fe}n(w,"_setDerivedOpts");const ci=class ci{get TChange(){return null}reportChanges(){this.get()}read(q){return q?q.readObservable(this):this.get()}map(q,xe){const se=xe===void 0?void 0:q,lt=xe===void 0?q:xe;return G({owner:se,debugName:n(()=>{const vt=Ue(lt);if(vt!==void 0)return vt;const ln=/^\s*\(?\s*([a-zA-Z_$][a-zA-Z_$0-9]*)\s*\)?\s*=>\s*\1(?:\??)\.([a-zA-Z_$][a-zA-Z_$0-9]*)\s*$/.exec(lt.toString());if(ln)return`${this.debugName}.${ln[2]}`;if(!se)return`${this.debugName} (mapped)`},"debugName"),debugReferenceFn:lt},vt=>lt(this.read(vt),vt))}flatten(){return G({owner:void 0,debugName:n(()=>`${this.debugName} (flattened)`,"debugName")},q=>this.read(q).read(q))}recomputeInitiallyAndOnChange(q,xe){return q.add(Xe(this,xe)),this}keepObserved(q){return q.add(A(this)),this}};n(ci,"ConvenientObservable");let D=ci;const xi=class xi extends D{constructor(){super(...arguments),this.observers=new Set}addObserver(q){const xe=this.observers.size;this.observers.add(q),xe===0&&this.onFirstObserverAdded()}removeObserver(q){this.observers.delete(q)&&this.observers.size===0&&this.onLastObserverRemoved()}onFirstObserverAdded(){}onLastObserverRemoved(){}};n(xi,"BaseObservable");let Z=xi;function he(Fe,q){const xe=new ot(Fe,q);try{Fe(xe)}finally{xe.finish()}}n(he,"base_transaction");let ye=null;function He(Fe){if(ye)Fe(ye);else{const q=new ot(Fe,void 0);ye=q;try{Fe(q)}finally{q.finish(),ye=void 0}}}n(He,"globalTransaction");async function Ve(Fe,q){const xe=new ot(Fe,q);try{await Fe(xe)}finally{xe.finish()}}n(Ve,"asyncTransaction");function ft(Fe,q,xe){Fe?q(Fe):he(q,xe)}n(ft,"subtransaction");const ni=class ni{constructor(q,xe){var se;this._fn=q,this._getDebugName=xe,this.updatingObservers=[],(se=m())==null||se.handleBeginTransaction(this)}getDebugName(){return this._getDebugName?this._getDebugName():Ue(this._fn)}updateObserver(q,xe){this.updatingObservers.push({observer:q,observable:xe}),q.beginUpdate(xe)}finish(){var xe;const q=this.updatingObservers;for(let se=0;se<q.length;se++){const{observer:lt,observable:vt}=q[se];lt.endUpdate(vt)}this.updatingObservers=null,(xe=m())==null||xe.handleEndTransaction()}};n(ni,"TransactionImpl");let ot=ni;function kt(Fe,q){let xe;return typeof Fe=="string"?xe=new DebugNameData(void 0,Fe,void 0):xe=new DebugNameData(Fe,void 0,void 0),new nn(xe,q,strictEquals)}n(kt,"base_observableValue");const Fi=class Fi extends Z{get debugName(){var q;return(q=this._debugNameData.getDebugName(this))!=null?q:"ObservableValue"}constructor(q,xe,se){super(),this._debugNameData=q,this._equalityComparator=se,this._value=xe}get(){return this._value}set(q,xe,se){var vt;if(se===void 0&&this._equalityComparator(this._value,q))return;let lt;xe||(xe=lt=new ot(()=>{},()=>`Setting ${this.debugName}`));try{const Pt=this._value;this._setValue(q),(vt=m())==null||vt.handleObservableChanged(this,{oldValue:Pt,newValue:q,change:se,didChange:!0,hadValue:!0});for(const ln of this.observers)xe.updateObserver(ln,this),ln.handleChange(this,se)}finally{lt&&lt.finish()}}toString(){return`${this.debugName}: ${this._value}`}_setValue(q){this._value=q}};n(Fi,"base_ObservableValue");let nn=Fi;function Ut(Fe,q){let xe;return typeof Fe=="string"?xe=new DebugNameData(void 0,Fe,void 0):xe=new DebugNameData(Fe,void 0,void 0),new Dn(xe,q,strictEquals)}n(Ut,"disposableObservableValue");const hi=class hi extends null{_setValue(q){this._value!==q&&(this._value&&this._value.dispose(),this._value=q)}dispose(){var q;(q=this._value)==null||q.dispose()}};n(hi,"DisposableObservableValue");let Dn=hi;var En=E(7110);function _n(Fe,q){return q!==void 0?new an(new DebugNameData(Fe,void 0,q),q,void 0,void 0,void 0,strictEquals):new an(new DebugNameData(void 0,void 0,Fe),Fe,void 0,void 0,void 0,strictEquals)}n(_n,"derived_derived");function vn(Fe,q,xe){return new Rn(new DebugNameData(Fe,void 0,q),q,void 0,void 0,void 0,strictEquals,xe)}n(vn,"derivedWithSetter");function mn(Fe,q){var xe;return new an(new j(Fe.owner,Fe.debugName,Fe.debugReferenceFn),q,void 0,void 0,Fe.onLastObserverRemoved,(xe=Fe.equalsFn)!=null?xe:g)}n(mn,"derived_derivedOpts"),w(mn);function pn(Fe,q){var xe;return new an(new DebugNameData(Fe.owner,Fe.debugName,void 0),q,Fe.createEmptyChangeSummary,Fe.handleChange,void 0,(xe=Fe.equalityComparer)!=null?xe:strictEquals)}n(pn,"derivedHandleChanges");function dn(Fe,q){let xe,se;q===void 0?(xe=Fe,se=void 0):(se=Fe,xe=q);const lt=new DisposableStore;return new an(new DebugNameData(se,void 0,xe),vt=>(lt.clear(),xe(vt,lt)),void 0,void 0,()=>lt.dispose(),strictEquals)}n(dn,"derivedWithStore");function xn(Fe,q){let xe,se;q===void 0?(xe=Fe,se=void 0):(se=Fe,xe=q);let lt;return new an(new DebugNameData(se,void 0,xe),vt=>{lt?lt.clear():lt=new DisposableStore;const Pt=xe(vt);return Pt&&lt.add(Pt),Pt},void 0,void 0,()=>{lt&&(lt.dispose(),lt=void 0)},strictEquals)}n(xn,"derivedDisposable");const di=class di extends Z{get debugName(){var q;return(q=this._debugNameData.getDebugName(this))!=null?q:"(anonymous)"}constructor(q,xe,se,lt,vt=void 0,Pt){var ln,Wn;super(),this._debugNameData=q,this._computeFn=xe,this.createChangeSummary=se,this._handleChange=lt,this._handleLastObserverRemoved=vt,this._equalityComparator=Pt,this.state=0,this.value=void 0,this.updateCount=0,this.dependencies=new Set,this.dependenciesToBeRemoved=new Set,this.changeSummary=void 0,this.changeSummary=(ln=this.createChangeSummary)==null?void 0:ln.call(this),(Wn=m())==null||Wn.handleDerivedCreated(this)}onLastObserverRemoved(){var q;this.state=0,this.value=void 0;for(const xe of this.dependencies)xe.removeObserver(this);this.dependencies.clear(),(q=this._handleLastObserverRemoved)==null||q.call(this)}get(){var q;if(this.observers.size===0){const xe=this._computeFn(this,(q=this.createChangeSummary)==null?void 0:q.call(this));return this.onLastObserverRemoved(),xe}else{do{if(this.state===1){for(const xe of this.dependencies)if(xe.reportChanges(),this.state===2)break}this.state===1&&(this.state=3),this._recomputeIfNeeded()}while(this.state!==3);return this.value}}_recomputeIfNeeded(){var Pt,ln;if(this.state===3)return;const q=this.dependenciesToBeRemoved;this.dependenciesToBeRemoved=this.dependencies,this.dependencies=q;const xe=this.state!==0,se=this.value;this.state=3;const lt=this.changeSummary;this.changeSummary=(Pt=this.createChangeSummary)==null?void 0:Pt.call(this);try{this.value=this._computeFn(this,lt)}finally{for(const Wn of this.dependenciesToBeRemoved)Wn.removeObserver(this);this.dependenciesToBeRemoved.clear()}const vt=xe&&!this._equalityComparator(se,this.value);if((ln=m())==null||ln.handleDerivedRecomputed(this,{oldValue:se,newValue:this.value,change:void 0,didChange:vt,hadValue:xe}),vt)for(const Wn of this.observers)Wn.handleChange(this,void 0)}toString(){return`LazyDerived<${this.debugName}>`}beginUpdate(q){this.updateCount++;const xe=this.updateCount===1;if(this.state===3&&(this.state=1,!xe))for(const se of this.observers)se.handlePossibleChange(this);if(xe)for(const se of this.observers)se.beginUpdate(this)}endUpdate(q){if(this.updateCount--,this.updateCount===0){const xe=[...this.observers];for(const se of xe)se.endUpdate(this)}(0,En.Ft)(()=>this.updateCount>=0)}handlePossibleChange(q){if(this.state===3&&this.dependencies.has(q)&&!this.dependenciesToBeRemoved.has(q)){this.state=1;for(const xe of this.observers)xe.handlePossibleChange(this)}}handleChange(q,xe){if(this.dependencies.has(q)&&!this.dependenciesToBeRemoved.has(q)){const se=this._handleChange?this._handleChange({changedObservable:q,change:xe,didChange:n(vt=>vt===q,"didChange")},this.changeSummary):!0,lt=this.state===3;if(se&&(this.state===1||lt)&&(this.state=2,lt))for(const vt of this.observers)vt.handlePossibleChange(this)}}readObservable(q){q.addObserver(this);const xe=q.get();return this.dependencies.add(q),this.dependenciesToBeRemoved.delete(q),xe}addObserver(q){const xe=!this.observers.has(q)&&this.updateCount>0;super.addObserver(q),xe&&q.beginUpdate(this)}removeObserver(q){const xe=this.observers.has(q)&&this.updateCount>0;super.removeObserver(q),xe&&q.endUpdate(this)}};n(di,"Derived");let an=di;const Ni=class Ni extends an{constructor(q,xe,se,lt,vt=void 0,Pt,ln){super(q,xe,se,lt,vt,Pt),this.set=ln}};n(Ni,"DerivedWithSetter");let Rn=Ni;function wn(Fe){return new Oe(new j(void 0,void 0,Fe),Fe,void 0,void 0)}n(wn,"autorun_autorun");function Fn(Fe,q){var xe;return new Oe(new DebugNameData(Fe.owner,Fe.debugName,(xe=Fe.debugReferenceFn)!=null?xe:q),q,void 0,void 0)}n(Fn,"autorunOpts");function An(Fe,q){var xe;return new Oe(new DebugNameData(Fe.owner,Fe.debugName,(xe=Fe.debugReferenceFn)!=null?xe:q),q,Fe.createEmptyChangeSummary,Fe.handleChange)}n(An,"autorunHandleChanges");function gn(Fe,q){var lt;const xe=new DisposableStore,se=An({owner:Fe.owner,debugName:Fe.debugName,debugReferenceFn:(lt=Fe.debugReferenceFn)!=null?lt:q,createEmptyChangeSummary:Fe.createEmptyChangeSummary,handleChange:Fe.handleChange},(vt,Pt)=>{xe.clear(),q(vt,Pt,xe)});return toDisposable(()=>{se.dispose(),xe.dispose()})}n(gn,"autorunWithStoreHandleChanges");function Tn(Fe){const q=new DisposableStore,xe=Fn({owner:void 0,debugName:void 0,debugReferenceFn:Fe},se=>{q.clear(),Fe(se,q)});return toDisposable(()=>{xe.dispose(),q.dispose()})}n(Tn,"autorunWithStore");const fi=class fi{get debugName(){var q;return(q=this._debugNameData.getDebugName(this))!=null?q:"(anonymous)"}constructor(q,xe,se,lt){var vt,Pt;this._debugNameData=q,this._runFn=xe,this.createChangeSummary=se,this._handleChange=lt,this.state=2,this.updateCount=0,this.disposed=!1,this.dependencies=new Set,this.dependenciesToBeRemoved=new Set,this.changeSummary=(vt=this.createChangeSummary)==null?void 0:vt.call(this),(Pt=m())==null||Pt.handleAutorunCreated(this),this._runIfNeeded(),(0,ie.Ay)(this)}dispose(){this.disposed=!0;for(const q of this.dependencies)q.removeObserver(this);this.dependencies.clear(),(0,ie.VD)(this)}_runIfNeeded(){var se,lt,vt;if(this.state===3)return;const q=this.dependenciesToBeRemoved;this.dependenciesToBeRemoved=this.dependencies,this.dependencies=q,this.state=3;const xe=this.disposed;try{if(!xe){(se=m())==null||se.handleAutorunTriggered(this);const Pt=this.changeSummary;this.changeSummary=(lt=this.createChangeSummary)==null?void 0:lt.call(this),this._runFn(this,Pt)}}finally{xe||(vt=m())==null||vt.handleAutorunFinished(this);for(const Pt of this.dependenciesToBeRemoved)Pt.removeObserver(this);this.dependenciesToBeRemoved.clear()}}toString(){return`Autorun<${this.debugName}>`}beginUpdate(){this.state===3&&(this.state=1),this.updateCount++}endUpdate(){if(this.updateCount===1)do{if(this.state===1){this.state=3;for(const q of this.dependencies)if(q.reportChanges(),this.state===2)break}this._runIfNeeded()}while(this.state!==3);this.updateCount--,(0,En.Ft)(()=>this.updateCount>=0)}handlePossibleChange(q){this.state===3&&this.dependencies.has(q)&&!this.dependenciesToBeRemoved.has(q)&&(this.state=1)}handleChange(q,xe){this.dependencies.has(q)&&!this.dependenciesToBeRemoved.has(q)&&(!this._handleChange||this._handleChange({changedObservable:q,change:xe,didChange:n(lt=>lt===q,"didChange")},this.changeSummary))&&(this.state=2)}readObservable(q){if(this.disposed)return q.get();q.addObserver(this);const xe=q.get();return this.dependencies.add(q),this.dependenciesToBeRemoved.delete(q),xe}};n(fi,"AutorunObserver");let Oe=fi;(function(Fe){Fe.Observer=Oe})(wn||(wn={}));function $e(Fe){return new i(Fe)}n($e,"constObservable");const Pn=class Pn extends D{constructor(q){super(),this.value=q}get debugName(){return this.toString()}get(){return this.value}addObserver(q){}removeObserver(q){}toString(){return`Const: ${this.value}`}};n(Pn,"ConstObservable");let i=Pn;function mt(...Fe){let q,xe,se;return Fe.length===3?[q,xe,se]=Fe:[xe,se]=Fe,new pt(new j(q,void 0,se),xe,se,()=>pt.globalTransaction,g)}n(mt,"observableFromEvent");function It(Fe,q,xe){var se,lt;return new pt(new DebugNameData(Fe.owner,Fe.debugName,(se=Fe.debugReferenceFn)!=null?se:xe),q,xe,()=>pt.globalTransaction,(lt=Fe.equalsFn)!=null?lt:strictEquals)}n(It,"observableFromEventOpts");const wi=class wi extends Z{constructor(q,xe,se,lt,vt){super(),this._debugNameData=q,this.event=xe,this._getValue=se,this._getTransaction=lt,this._equalityComparator=vt,this.hasValue=!1,this.handleEvent=Pt=>{var Hn;const ln=this._getValue(Pt),Wn=this.value,pi=!this.hasValue||!this._equalityComparator(Wn,ln);let tn=!1;pi&&(this.value=ln,this.hasValue&&(tn=!0,ft(this._getTransaction(),Kn=>{var ii;(ii=m())==null||ii.handleFromEventObservableTriggered(this,{oldValue:Wn,newValue:ln,change:void 0,didChange:pi,hadValue:this.hasValue});for(const it of this.observers)Kn.updateObserver(it,this),it.handleChange(this,void 0)},()=>{const Kn=this.getDebugName();return"Event fired"+(Kn?`: ${Kn}`:"")})),this.hasValue=!0),tn||(Hn=m())==null||Hn.handleFromEventObservableTriggered(this,{oldValue:Wn,newValue:ln,change:void 0,didChange:pi,hadValue:this.hasValue})}}getDebugName(){return this._debugNameData.getDebugName(this)}get debugName(){const q=this.getDebugName();return"From Event"+(q?`: ${q}`:"")}onFirstObserverAdded(){this.subscription=this.event(this.handleEvent)}onLastObserverRemoved(){this.subscription.dispose(),this.subscription=void 0,this.hasValue=!1,this.value=void 0}get(){return this.subscription?(this.hasValue||this.handleEvent(void 0),this.value):this._getValue(void 0)}};n(wi,"FromEventObservable");let pt=wi;(function(Fe){Fe.Observer=pt;function q(xe,se){let lt=!1;pt.globalTransaction===void 0&&(pt.globalTransaction=xe,lt=!0);try{se()}finally{lt&&(pt.globalTransaction=void 0)}}n(q,"batchEventsGlobally"),Fe.batchEventsGlobally=q})(mt||(mt={}));function at(Fe,q){return new xt(Fe,q)}n(at,"observableSignalFromEvent");const Gi=class Gi extends Z{constructor(q,xe){super(),this.debugName=q,this.event=xe,this.handleEvent=()=>{he(se=>{for(const lt of this.observers)se.updateObserver(lt,this),lt.handleChange(this,void 0)},()=>this.debugName)}}onFirstObserverAdded(){this.subscription=this.event(this.handleEvent)}onLastObserverRemoved(){this.subscription.dispose(),this.subscription=void 0}get(){}};n(Gi,"FromEventObservableSignal");let xt=Gi;function dt(Fe){return typeof Fe=="string"?new ut(Fe):new ut(void 0,Fe)}n(dt,"observableSignal");const yi=class yi extends Z{get debugName(){var q;return(q=new j(this._owner,this._debugName,void 0).getDebugName(this))!=null?q:"Observable Signal"}toString(){return this.debugName}constructor(q,xe){super(),this._debugName=q,this._owner=xe}trigger(q,xe){if(!q){he(se=>{this.trigger(se,xe)},()=>`Trigger signal ${this.debugName}`);return}for(const se of this.observers)q.updateObserver(se,this),se.handleChange(this,xe)}get(){}};n(yi,"ObservableSignal");let ut=yi;function St(Fe){const q=new Zt(!1,void 0);return Fe.addObserver(q),(0,ie.s)(()=>{Fe.removeObserver(q)})}n(St,"keepObserved"),M(St);function $t(Fe,q){const xe=new Zt(!0,q);return Fe.addObserver(xe),q?q(Fe.get()):Fe.reportChanges(),(0,ie.s)(()=>{Fe.removeObserver(xe)})}n($t,"recomputeInitiallyAndOnChange"),We($t);const Ti=class Ti{constructor(q,xe){this._forceRecompute=q,this._handleValue=xe,this._counter=0}beginUpdate(q){this._counter++}endUpdate(q){this._counter--,this._counter===0&&this._forceRecompute&&(this._handleValue?this._handleValue(q.get()):q.reportChanges())}handlePossibleChange(q){}handleChange(q,xe){}};n(Ti,"KeepAliveObserver");let Zt=Ti;function cn(Fe,q){let xe;return derivedOpts({owner:Fe,debugReferenceFn:q},lt=>(xe=q(lt,xe),xe))}n(cn,"derivedObservableWithCache");function Nt(Fe,q){let xe;const se=dt("derivedObservableWithWritableCache"),lt=derived(Fe,vt=>(se.read(vt),xe=q(vt,xe),xe));return Object.assign(lt,{clearCache:n(vt=>{xe=void 0,se.trigger(vt)},"clearCache"),setCache:n((vt,Pt)=>{xe=vt,se.trigger(Pt)},"setCache")})}n(Nt,"derivedObservableWithWritableCache");function T(Fe,q,xe,se){let lt=new Se(xe,se);return derivedOpts({debugReferenceFn:xe,owner:Fe,onLastObserverRemoved:n(()=>{lt.dispose(),lt=new Se(xe)},"onLastObserverRemoved")},Pt=>(lt.setItems(q.read(Pt)),lt.getItems()))}n(T,"mapObservableArrayCached");const Jn=class Jn{constructor(q,xe){this._map=q,this._keySelector=xe,this._cache=new Map,this._items=[]}dispose(){this._cache.forEach(q=>q.store.dispose()),this._cache.clear()}setItems(q){const xe=[],se=new Set(this._cache.keys());for(const lt of q){const vt=this._keySelector?this._keySelector(lt):lt;let Pt=this._cache.get(vt);if(Pt)se.delete(vt);else{const ln=new DisposableStore;Pt={out:this._map(lt,ln),store:ln},this._cache.set(vt,Pt)}xe.push(Pt.out)}for(const lt of se)this._cache.get(lt).store.dispose(),this._cache.delete(lt);this._items=xe}getItems(){return this._items}};n(Jn,"ArrayMap");let Se=Jn;const Di=class Di{constructor(q){this.observable=q}get onDidChange(){return Event.fromObservableLight(this.observable)}get value(){return this.observable.get()}};n(Di,"ValueWithChangeEventFromObservable");let ct=Di;function rt(Fe,q){return q instanceof ct?q.observable:mt(Fe,q.onDidChange,()=>q.value)}n(rt,"observableFromValueWithChangeEvent");function un(Fe,q){return cn(Fe,(xe,se)=>se!=null?se:q(xe))}n(un,"derivedConstOnceDefined");var Bt=E(4327);const gi=class gi{static fromFn(q){return new gi(q())}constructor(q){this._value=observableValue(this,void 0),this.promiseResult=this._value,this.promise=q.then(xe=>(transaction(se=>{this._value.set(new sn(xe,void 0),se)}),xe),xe=>{throw transaction(se=>{this._value.set(new sn(void 0,xe),se)}),xe})}};n(gi,"ObservablePromise");let qt=gi;const ti=class ti{constructor(q,xe){this.data=q,this.error=xe}};n(ti,"PromiseResult");let sn=ti;function oi(Fe,q,xe,se){return q||(q=n(lt=>lt!=null,"predicate")),new Promise((lt,vt)=>{let Pt=!0,ln=!1;const Wn=Fe.map(tn=>({isFinished:q(tn),error:xe?xe(tn):!1,state:tn})),pi=autorun(tn=>{const{isFinished:Hn,error:Kn,state:ii}=Wn.read(tn);(Hn||Kn)&&(Pt?ln=!0:pi.dispose(),Kn?vt(Kn===!0?ii:Kn):lt(ii))});if(se){const tn=se.onCancellationRequested(()=>{pi.dispose(),tn.dispose(),vt(new CancellationError)});if(se.isCancellationRequested){pi.dispose(),tn.dispose(),vt(new CancellationError);return}}Pt=!1,ln&&pi.dispose()})}n(oi,"waitForState");const qi=class qi extends Z{get debugName(){var q;return(q=this._debugNameData.getDebugName(this))!=null?q:"LazyObservableValue"}constructor(q,xe,se){super(),this._debugNameData=q,this._equalityComparator=se,this._isUpToDate=!0,this._deltas=[],this._updateCounter=0,this._value=xe}get(){return this._update(),this._value}_update(){if(!this._isUpToDate)if(this._isUpToDate=!0,this._deltas.length>0){for(const q of this.observers)for(const xe of this._deltas)q.handleChange(this,xe);this._deltas.length=0}else for(const q of this.observers)q.handleChange(this,void 0)}_beginUpdate(){if(this._updateCounter++,this._updateCounter===1)for(const q of this.observers)q.beginUpdate(this)}_endUpdate(){if(this._updateCounter--,this._updateCounter===0){this._update();const q=[...this.observers];for(const xe of q)xe.endUpdate(this)}}addObserver(q){const xe=!this.observers.has(q)&&this._updateCounter>0;super.addObserver(q),xe&&q.beginUpdate(this)}removeObserver(q){const xe=this.observers.has(q)&&this._updateCounter>0;super.removeObserver(q),xe&&q.endUpdate(this)}set(q,xe,se){if(se===void 0&&this._equalityComparator(this._value,q))return;let lt;xe||(xe=lt=new ot(()=>{},()=>`Setting ${this.debugName}`));try{if(this._isUpToDate=!1,this._setValue(q),se!==void 0&&this._deltas.push(se),xe.updateObserver({beginUpdate:n(()=>this._beginUpdate(),"beginUpdate"),endUpdate:n(()=>this._endUpdate(),"endUpdate"),handleChange:n((vt,Pt)=>{},"handleChange"),handlePossibleChange:n(vt=>{},"handlePossibleChange")},this),this._updateCounter>1)for(const vt of this.observers)vt.handlePossibleChange(this)}finally{lt&&lt.finish()}}toString(){return`${this.debugName}: ${this._value}`}_setValue(q){this._value=q}};n(qi,"lazyObservableValue_LazyObservableValue");let ei=qi;function kn(Fe,q){var xe,se;return Fe.lazy?new LazyObservableValue(new DebugNameData(Fe.owner,Fe.debugName,void 0),q,(xe=Fe.equalsFn)!=null?xe:strictEquals):new ObservableValue(new DebugNameData(Fe.owner,Fe.debugName,void 0),q,(se=Fe.equalsFn)!=null?se:strictEquals)}n(kn,"observableValueOpts"),!1&&R(new _);const Si=class Si extends ie.jG{constructor(q=!1){super(),this._onDidRequestBasicLanguageFeatures=this._register(new F.vl),this.onDidRequestBasicLanguageFeatures=this._onDidRequestBasicLanguageFeatures.event,this._onDidRequestRichLanguageFeatures=this._register(new F.vl),this.onDidRequestRichLanguageFeatures=this._onDidRequestRichLanguageFeatures.event,this._onDidChange=this._register(new F.vl({leakWarningThreshold:200})),this.onDidChange=this._onDidChange.event,this._requestedBasicLanguages=new Set,this._requestedRichLanguages=new Set,Si.instanceCount++,this._registry=this._register(new o.LanguagesRegistry(!0,q)),this.languageIdCodec=this._registry.languageIdCodec,this._register(this._registry.onDidChange(()=>this._onDidChange.fire()))}dispose(){Si.instanceCount--,super.dispose()}isRegisteredLanguageId(q){return this._registry.isRegisteredLanguageId(q)}getLanguageIdByLanguageName(q){return this._registry.getLanguageIdByLanguageName(q)}getLanguageIdByMimeType(q){return this._registry.getLanguageIdByMimeType(q)}guessLanguageIdByFilepathOrFirstLine(q,xe){const se=this._registry.guessLanguageIdByFilepathOrFirstLine(q,xe);return(0,K.Fy)(se,null)}createById(q){return new ai(this.onDidChange,()=>this._createAndGetLanguageIdentifier(q))}createByFilepathOrFirstLine(q,xe){return new ai(this.onDidChange,()=>{const se=this.guessLanguageIdByFilepathOrFirstLine(q,xe);return this._createAndGetLanguageIdentifier(se)})}_createAndGetLanguageIdentifier(q){return(!q||!this.isRegisteredLanguageId(q))&&(q=N.vH),q}requestBasicLanguageFeatures(q){this._requestedBasicLanguages.has(q)||(this._requestedBasicLanguages.add(q),this._onDidRequestBasicLanguageFeatures.fire(q))}requestRichLanguageFeatures(q){this._requestedRichLanguages.has(q)||(this._requestedRichLanguages.add(q),this.requestBasicLanguageFeatures(q),Q.dG.getOrCreate(q),this._onDidRequestRichLanguageFeatures.fire(q))}};n(Si,"LanguageService"),Si.instanceCount=0;let $i=Si;const mi=class mi{constructor(q,xe){this._value=mt(this,q,()=>xe()),this.onDidChange=F.Jh.fromObservable(this._value)}get languageId(){return this._value.get()}};n(mi,"LanguageSelection");let ai=mi},5996:(Lt,Pe,E)=>{"use strict";E.r(Pe),E.d(Pe,{clearPlatformLanguageAssociations:n(()=>z,"clearPlatformLanguageAssociations"),getLanguageIds:n(()=>U,"getLanguageIds"),registerPlatformLanguageAssociation:n(()=>B,"registerPlatformLanguageAssociation")});var F=E(3958),ie=E(3720),o=E(3072),K=E(4033),Q=E(2467),N=E(6844),g=E(4957);let Y=[],O=[],ne=[];function B(y,W=!1){$(y,!1,W)}n(B,"registerPlatformLanguageAssociation");function $(y,W,me){const we=j(y,W);Y.push(we),we.userConfigured?ne.push(we):O.push(we),me&&!we.userConfigured&&Y.forEach(Ue=>{Ue.mime===we.mime||Ue.userConfigured||(we.extension&&Ue.extension===we.extension&&console.warn(`Overwriting extension <<${we.extension}>> to now point to mime <<${we.mime}>>`),we.filename&&Ue.filename===we.filename&&console.warn(`Overwriting filename <<${we.filename}>> to now point to mime <<${we.mime}>>`),we.filepattern&&Ue.filepattern===we.filepattern&&console.warn(`Overwriting filepattern <<${we.filepattern}>> to now point to mime <<${we.mime}>>`),we.firstline&&Ue.firstline===we.firstline&&console.warn(`Overwriting firstline <<${we.firstline}>> to now point to mime <<${we.mime}>>`))})}n($,"_registerLanguageAssociation");function j(y,W){return{id:y.id,mime:y.mime,filename:y.filename,extension:y.extension,filepattern:y.filepattern,firstline:y.firstline,userConfigured:W,filenameLowercase:y.filename?y.filename.toLowerCase():void 0,extensionLowercase:y.extension?y.extension.toLowerCase():void 0,filepatternLowercase:y.filepattern?(0,F.qg)(y.filepattern.toLowerCase()):void 0,filepatternOnPath:y.filepattern?y.filepattern.indexOf(K.SA.sep)>=0:!1}}n(j,"toLanguageAssociationItem");function z(){Y=Y.filter(y=>y.userConfigured),O=[]}n(z,"clearPlatformLanguageAssociations");function U(y,W){return v(y,W).map(me=>me.id)}n(U,"getLanguageIds");function v(y,W){let me;if(y)switch(y.scheme){case o.ny.file:me=y.fsPath;break;case o.ny.data:{me=Q.B6.parseMetaData(y).get(Q.B6.META_DATA_LABEL);break}case o.ny.vscodeNotebookCell:me=void 0;break;default:me=y.path}if(!me)return[{id:"unknown",mime:ie.K.unknown}];me=me.toLowerCase();const we=(0,K.P8)(me),Ue=ce(me,we,ne);if(Ue)return[Ue,{id:g.vH,mime:ie.K.text}];const Ce=ce(me,we,O);if(Ce)return[Ce,{id:g.vH,mime:ie.K.text}];if(W){const R=J(W);if(R)return[R,{id:g.vH,mime:ie.K.text}]}return[{id:"unknown",mime:ie.K.unknown}]}n(v,"getAssociations");function ce(y,W,me){var R;let we,Ue,Ce;for(let m=me.length-1;m>=0;m--){const _=me[m];if(W===_.filenameLowercase){we=_;break}if(_.filepattern&&(!Ue||_.filepattern.length>Ue.filepattern.length)){const b=_.filepatternOnPath?y:W;(R=_.filepatternLowercase)!=null&&R.call(_,b)&&(Ue=_)}_.extension&&(!Ce||_.extension.length>Ce.extension.length)&&W.endsWith(_.extensionLowercase)&&(Ce=_)}if(we)return we;if(Ue)return Ue;if(Ce)return Ce}n(ce,"getAssociationByPath");function J(y){if((0,N.LU)(y)&&(y=y.substr(1)),y.length>0)for(let W=Y.length-1;W>=0;W--){const me=Y[W];if(!me.firstline)continue;const we=y.match(me.firstline);if(we&&we.length>0)return me}}n(J,"getAssociationByFirstline")},6995:(Lt,Pe,E)=>{"use strict";E.r(Pe),E.d(Pe,{LanguageIdCodec:n(()=>ne,"LanguageIdCodec"),LanguagesRegistry:n(()=>B,"LanguagesRegistry")});var F=E(2106),ie=E(9235),o=E(6844),K=E(5996),Q=E(4957),N=E(7142),g=E(7167);const Y=Object.prototype.hasOwnProperty,O="vs.editor.nullLanguage",$=class ${constructor(){this._languageIdToLanguage=[],this._languageToLanguageId=new Map,this._register(O,0),this._register(Q.vH,1),this._nextLanguageId=2}_register(U,v){this._languageIdToLanguage[v]=U,this._languageToLanguageId.set(U,v)}register(U){if(this._languageToLanguageId.has(U))return;const v=this._nextLanguageId++;this._register(U,v)}encodeLanguageId(U){return this._languageToLanguageId.get(U)||0}decodeLanguageId(U){return this._languageIdToLanguage[U]||O}};n($,"LanguageIdCodec");let ne=$;const j=class j extends ie.jG{constructor(U=!0,v=!1){super(),this._onDidChange=this._register(new F.vl),this.onDidChange=this._onDidChange.event,j.instanceCount++,this._warnOnOverwrite=v,this.languageIdCodec=new ne,this._dynamicLanguages=[],this._languages={},this._mimeTypesMap={},this._nameMap={},this._lowercaseNameMap={},U&&(this._initializeFromRegistry(),this._register(Q.W6.onDidChangeLanguages(ce=>{this._initializeFromRegistry()})))}dispose(){j.instanceCount--,super.dispose()}_initializeFromRegistry(){this._languages={},this._mimeTypesMap={},this._nameMap={},this._lowercaseNameMap={},(0,K.clearPlatformLanguageAssociations)();const U=[].concat(Q.W6.getLanguages()).concat(this._dynamicLanguages);this._registerLanguages(U)}_registerLanguages(U){for(const v of U)this._registerLanguage(v);this._mimeTypesMap={},this._nameMap={},this._lowercaseNameMap={},Object.keys(this._languages).forEach(v=>{const ce=this._languages[v];ce.name&&(this._nameMap[ce.name]=ce.identifier),ce.aliases.forEach(J=>{this._lowercaseNameMap[J.toLowerCase()]=ce.identifier}),ce.mimetypes.forEach(J=>{this._mimeTypesMap[J]=ce.identifier})}),g.O.as(N.Fd.Configuration).registerOverrideIdentifiers(this.getRegisteredLanguageIds()),this._onDidChange.fire()}_registerLanguage(U){const v=U.id;let ce;Y.call(this._languages,v)?ce=this._languages[v]:(this.languageIdCodec.register(v),ce={identifier:v,name:null,mimetypes:[],aliases:[],extensions:[],filenames:[],configurationFiles:[],icons:[]},this._languages[v]=ce),this._mergeLanguage(ce,U)}_mergeLanguage(U,v){const ce=v.id;let J=null;if(Array.isArray(v.mimetypes)&&v.mimetypes.length>0&&(U.mimetypes.push(...v.mimetypes),J=v.mimetypes[0]),J||(J=`text/x-${ce}`,U.mimetypes.push(J)),Array.isArray(v.extensions)){v.configuration?U.extensions=v.extensions.concat(U.extensions):U.extensions=U.extensions.concat(v.extensions);for(const me of v.extensions)(0,K.registerPlatformLanguageAssociation)({id:ce,mime:J,extension:me},this._warnOnOverwrite)}if(Array.isArray(v.filenames))for(const me of v.filenames)(0,K.registerPlatformLanguageAssociation)({id:ce,mime:J,filename:me},this._warnOnOverwrite),U.filenames.push(me);if(Array.isArray(v.filenamePatterns))for(const me of v.filenamePatterns)(0,K.registerPlatformLanguageAssociation)({id:ce,mime:J,filepattern:me},this._warnOnOverwrite);if(typeof v.firstLine=="string"&&v.firstLine.length>0){let me=v.firstLine;me.charAt(0)!=="^"&&(me="^"+me);try{const we=new RegExp(me);(0,o.eY)(we)||(0,K.registerPlatformLanguageAssociation)({id:ce,mime:J,firstline:we},this._warnOnOverwrite)}catch(we){console.warn(`[${v.id}]: Invalid regular expression \`${me}\`: `,we)}}U.aliases.push(ce);let y=null;if(typeof v.aliases!="undefined"&&Array.isArray(v.aliases)&&(v.aliases.length===0?y=[null]:y=v.aliases),y!==null)for(const me of y)!me||me.length===0||U.aliases.push(me);const W=y!==null&&y.length>0;if(!(W&&y[0]===null)){const me=(W?y[0]:null)||ce;(W||!U.name)&&(U.name=me)}v.configuration&&U.configurationFiles.push(v.configuration),v.icon&&U.icons.push(v.icon)}isRegisteredLanguageId(U){return U?Y.call(this._languages,U):!1}getRegisteredLanguageIds(){return Object.keys(this._languages)}getLanguageIdByLanguageName(U){const v=U.toLowerCase();return Y.call(this._lowercaseNameMap,v)?this._lowercaseNameMap[v]:null}getLanguageIdByMimeType(U){return U&&Y.call(this._mimeTypesMap,U)?this._mimeTypesMap[U]:null}guessLanguageIdByFilepathOrFirstLine(U,v){return!U&&!v?[]:(0,K.getLanguageIds)(U,v)}};n(j,"LanguagesRegistry"),j.instanceCount=0;let B=j},886:(Lt,Pe,E)=>{"use strict";E.r(Pe),E.d(Pe,{IMarkerDecorationsService:n(()=>ie,"IMarkerDecorationsService")});var F=E(2399);const ie=(0,F.u1)("markerDecorationsService")},453:(Lt,Pe,E)=>{"use strict";var R;E.r(Pe),E.d(Pe,{MarkerDecorationsService:n(()=>Ue,"MarkerDecorationsService")});var F=E(6844),ie;(function(_){_[_.Ignore=0]="Ignore",_[_.Info=1]="Info",_[_.Warning=2]="Warning",_[_.Error=3]="Error"})(ie||(ie={})),function(_){const b="error",I="warning",P="warn",V="info",ee="ignore";function fe(Te){return Te?F.Q_(b,Te)?_.Error:F.Q_(I,Te)||F.Q_(P,Te)?_.Warning:F.Q_(V,Te)?_.Info:_.Ignore:_.Ignore}n(fe,"fromValue"),_.fromValue=fe;function ue(Te){switch(Te){case _.Error:return b;case _.Warning:return I;case _.Info:return V;default:return ee}}n(ue,"toString"),_.toString=ue}(ie||(ie={}));const o=ie;var K=E(9746),Q=E(2399),N;(function(_){_[_.Hint=1]="Hint",_[_.Info=2]="Info",_[_.Warning=4]="Warning",_[_.Error=8]="Error"})(N||(N={})),function(_){function b(fe,ue){return ue-fe}n(b,"compare"),_.compare=b;const I=Object.create(null);I[_.Error]=(0,K.kg)("sev.error","Error"),I[_.Warning]=(0,K.kg)("sev.warning","Warning"),I[_.Info]=(0,K.kg)("sev.info","Info");function P(fe){return I[fe]||""}n(P,"toString"),_.toString=P;function V(fe){switch(fe){case o.Error:return _.Error;case o.Warning:return _.Warning;case o.Info:return _.Info;case o.Ignore:return _.Hint}}n(V,"fromSeverity"),_.fromSeverity=V;function ee(fe){switch(fe){case _.Error:return o.Error;case _.Warning:return o.Warning;case _.Info:return o.Info;case _.Hint:return o.Ignore}}n(ee,"toSeverity"),_.toSeverity=ee}(N||(N={}));var g;(function(_){const b="";function I(V){return P(V,!0)}n(I,"makeKey"),_.makeKey=I;function P(V,ee){const fe=[b];return V.source?fe.push(V.source.replace("\xA6","\\\xA6")):fe.push(b),V.code?typeof V.code=="string"?fe.push(V.code.replace("\xA6","\\\xA6")):fe.push(V.code.value.replace("\xA6","\\\xA6")):fe.push(b),V.severity!==void 0&&V.severity!==null?fe.push(N.toString(V.severity)):fe.push(b),V.message&&ee?fe.push(V.message.replace("\xA6","\\\xA6")):fe.push(b),V.startLineNumber!==void 0&&V.startLineNumber!==null?fe.push(V.startLineNumber.toString()):fe.push(b),V.startColumn!==void 0&&V.startColumn!==null?fe.push(V.startColumn.toString()):fe.push(b),V.endLineNumber!==void 0&&V.endLineNumber!==null?fe.push(V.endLineNumber.toString()):fe.push(b),V.endColumn!==void 0&&V.endColumn!==null?fe.push(V.endColumn.toString()):fe.push(b),fe.push(b),fe.join("\xA6")}n(P,"makeKeyOptionalMessage"),_.makeKeyOptionalMessage=P})(g||(g={}));const Y=(0,Q.u1)("markerService");var O=E(9235),ne=E(6055),B=E(5295),$=E(8295),j=E(4830),z=E(8061),U=E(3072),v=E(2106),ce=E(61),J=E(7992);function y(_,b){const I=[],P=[];for(const V of _)b.has(V)||I.push(V);for(const V of b)_.has(V)||P.push(V);return{removed:I,added:P}}n(y,"diffSets");function W(_,b){const I=new Set;for(const P of b)_.has(P)&&I.add(P);return I}n(W,"intersection");var me=function(_,b,I,P){var V=arguments.length,ee=V<3?b:P===null?P=Object.getOwnPropertyDescriptor(b,I):P,fe;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")ee=Reflect.decorate(_,b,I,P);else for(var ue=_.length-1;ue>=0;ue--)(fe=_[ue])&&(ee=(V<3?fe(ee):V>3?fe(b,I,ee):fe(b,I))||ee);return V>3&&ee&&Object.defineProperty(b,I,ee),ee},we=function(_,b){return function(I,P){b(I,P,_)}};let Ue=(R=class extends O.jG{constructor(b,I){super(),this._markerService=I,this._onDidChangeMarker=this._register(new v.vl),this._markerDecorations=new J.fT,b.getModels().forEach(P=>this._onModelAdded(P)),this._register(b.onModelAdded(this._onModelAdded,this)),this._register(b.onModelRemoved(this._onModelRemoved,this)),this._register(this._markerService.onMarkerChanged(this._handleMarkerChange,this))}dispose(){super.dispose(),this._markerDecorations.forEach(b=>b.dispose()),this._markerDecorations.clear()}getMarker(b,I){const P=this._markerDecorations.get(b);return P&&P.getMarker(I)||null}_handleMarkerChange(b){b.forEach(I=>{const P=this._markerDecorations.get(I);P&&this._updateDecorations(P)})}_onModelAdded(b){const I=new Ce(b);this._markerDecorations.set(b.uri,I),this._updateDecorations(I)}_onModelRemoved(b){var P;const I=this._markerDecorations.get(b.uri);I&&(I.dispose(),this._markerDecorations.delete(b.uri)),(b.uri.scheme===U.ny.inMemory||b.uri.scheme===U.ny.internal||b.uri.scheme===U.ny.vscode)&&((P=this._markerService)==null||P.read({resource:b.uri}).map(V=>V.owner).forEach(V=>this._markerService.remove(V,[b.uri])))}_updateDecorations(b){const I=this._markerService.read({resource:b.model.uri,take:500});b.update(I)&&this._onDidChangeMarker.fire(b.model)}},n(R,"MarkerDecorationsService"),R);Ue=me([we(0,j.IModelService),we(1,Y)],Ue);const m=class m extends O.jG{constructor(b){super(),this.model=b,this._map=new J.cO,this._register((0,O.s)(()=>{this.model.deltaDecorations([...this._map.values()],[]),this._map.clear()}))}update(b){const{added:I,removed:P}=y(new Set(this._map.keys()),new Set(b));if(I.length===0&&P.length===0)return!1;const V=P.map(ue=>this._map.get(ue)),ee=I.map(ue=>({range:this._createDecorationRange(this.model,ue),options:this._createDecorationOption(ue)})),fe=this.model.deltaDecorations(V,ee);for(const ue of P)this._map.delete(ue);for(let ue=0;ue<fe.length;ue++)this._map.set(I[ue],fe[ue]);return!0}getMarker(b){return this._map.getKey(b.id)}_createDecorationRange(b,I){let P=z.Q.lift(I);if(I.severity===N.Hint&&!this._hasMarkerTag(I,1)&&!this._hasMarkerTag(I,2)&&(P=P.setEndPosition(P.startLineNumber,P.startColumn+2)),P=b.validateRange(P),P.isEmpty()){const V=b.getLineLastNonWhitespaceColumn(P.startLineNumber)||b.getLineMaxColumn(P.startLineNumber);if(V===1||P.endColumn>=V)return P;const ee=b.getWordAtPosition(P.getStartPosition());ee&&(P=new z.Q(P.startLineNumber,ee.startColumn,P.endLineNumber,ee.endColumn))}else if(I.endColumn===Number.MAX_VALUE&&I.startColumn===1&&P.startLineNumber===P.endLineNumber){const V=b.getLineFirstNonWhitespaceColumn(I.startLineNumber);V<P.endColumn&&(P=new z.Q(P.startLineNumber,V,P.endLineNumber,P.endColumn),I.startColumn=V)}return P}_createDecorationOption(b){let I,P,V,ee,fe;switch(b.severity){case N.Hint:this._hasMarkerTag(b,2)?I=void 0:this._hasMarkerTag(b,1)?I="squiggly-unnecessary":I="squiggly-hint",V=0;break;case N.Info:I="squiggly-info",P=(0,B.Yf)($.AQ),V=10,fe={color:(0,B.Yf)(ce.KoI),position:1};break;case N.Warning:I="squiggly-warning",P=(0,B.Yf)($.aZ),V=20,fe={color:(0,B.Yf)(ce.uMG),position:1};break;case N.Error:default:I="squiggly-error",P=(0,B.Yf)($.yI),V=30,fe={color:(0,B.Yf)(ce.yLC),position:1};break}return b.tags&&(b.tags.indexOf(1)!==-1&&(ee="squiggly-inline-unnecessary"),b.tags.indexOf(2)!==-1&&(ee="squiggly-inline-deprecated")),{description:"marker-decoration",stickiness:1,className:I,showIfCollapsed:!0,overviewRuler:{color:P,position:ne.A5.Right},minimap:fe,zIndex:V,inlineClassName:ee}}_hasMarkerTag(b,I){return b.tags?b.tags.indexOf(I)>=0:!1}};n(m,"MarkerDecorations");let Ce=m},4830:(Lt,Pe,E)=>{"use strict";E.r(Pe),E.d(Pe,{IModelService:n(()=>ie,"IModelService")});var F=E(2399);const ie=(0,F.u1)("modelService")},125:(Lt,Pe,E)=>{"use strict";var gs,ps,ar,Jr;E.r(Pe),E.d(Pe,{DefaultModelSHA1Computer:n(()=>Js,"DefaultModelSHA1Computer"),ModelService:n(()=>vo,"ModelService")});var F=E(2106),ie=E(9235),o=E(3339),K=E(3338),Q=E(4901),N=E(4327),g=E(6844),Y=E(7264),O=E(3902);const Xs=class Xs{static _nextVisibleColumn(e,t,r){return e===9?Xs.nextRenderTabStop(t,r):g.ne(e)||g.Ss(e)?t+2:t+1}static visibleColumnFromColumn(e,t,r){const s=Math.min(t-1,e.length),l=e.substring(0,s),f=new g.km(l);let L=0;for(;!f.eol();){const S=g.Z5(l,s,f.offset);f.nextGraphemeLength(),L=this._nextVisibleColumn(S,L,r)}return L}static columnFromVisibleColumn(e,t,r){if(t<=0)return 1;const s=e.length,l=new g.km(e);let f=0,L=1;for(;!l.eol();){const S=g.Z5(e,s,l.offset);l.nextGraphemeLength();const X=this._nextVisibleColumn(S,f,r),le=l.offset+1;if(X>=t){const ge=t-f;return X-t<ge?le:L}f=X,L=le}return s+1}static nextRenderTabStop(e,t){return e+t-e%t}static nextIndentTabStop(e,t){return e+t-e%t}static prevRenderTabStop(e,t){return Math.max(0,e-1-(e-1)%t)}static prevIndentTabStop(e,t){return Math.max(0,e-1-(e-1)%t)}};n(Xs,"CursorColumns");let ne=Xs;function B(C,e,t){let r=0;for(let l=0;l<C.length;l++)C.charAt(l)==="	"?r=ne.nextIndentTabStop(r,e):r++;let s="";if(!t){const l=Math.floor(r/e);r=r%e;for(let f=0;f<l;f++)s+="	"}for(let l=0;l<r;l++)s+=" ";return s}n(B,"_normalizeIndentationFromWhitespace");function $(C,e,t){let r=g.HG(C);return r===-1&&(r=C.length),B(C.substring(0,r),e,t)+C.substring(r)}n($,"normalizeIndentation");var j=E(5365),z=E(8061),U=E(3702);const v={tabSize:4,indentSize:4,insertSpaces:!0,detectIndentation:!0,trimAutoWhitespace:!0,largeFileOptimizations:!0,bracketPairColorizationOptions:{enabled:!0,independentColorPoolPerBracketType:!1}};var ce=E(7922),J=E(8782),y;(function(C){C[C.None=0]="None",C[C.Indent=1]="Indent",C[C.IndentOutdent=2]="IndentOutdent",C[C.Outdent=3]="Outdent"})(y||(y={}));const ko=class ko{constructor(e){if(this._neutralCharacter=null,this._neutralCharacterSearched=!1,this.open=e.open,this.close=e.close,this._inString=!0,this._inComment=!0,this._inRegEx=!0,Array.isArray(e.notIn))for(let t=0,r=e.notIn.length;t<r;t++)switch(e.notIn[t]){case"string":this._inString=!1;break;case"comment":this._inComment=!1;break;case"regex":this._inRegEx=!1;break}}isOK(e){switch(e){case 0:return!0;case 1:return this._inComment;case 2:return this._inString;case 3:return this._inRegEx}}shouldAutoClose(e,t){if(e.getTokenCount()===0)return!0;const r=e.findTokenIndexAtOffset(t-2),s=e.getStandardTokenType(r);return this.isOK(s)}_findNeutralCharacterInRange(e,t){for(let r=e;r<=t;r++){const s=String.fromCharCode(r);if(!this.open.includes(s)&&!this.close.includes(s))return s}return null}findNeutralCharacter(){return this._neutralCharacterSearched||(this._neutralCharacterSearched=!0,this._neutralCharacter||(this._neutralCharacter=this._findNeutralCharacterInRange(48,57)),this._neutralCharacter||(this._neutralCharacter=this._findNeutralCharacterInRange(97,122)),this._neutralCharacter||(this._neutralCharacter=this._findNeutralCharacterInRange(65,90))),this._neutralCharacter}};n(ko,"StandardAutoClosingPairConditional");let W=ko;const Lo=class Lo{constructor(e){this.autoClosingPairsOpenByStart=new Map,this.autoClosingPairsOpenByEnd=new Map,this.autoClosingPairsCloseByStart=new Map,this.autoClosingPairsCloseByEnd=new Map,this.autoClosingPairsCloseSingleChar=new Map;for(const t of e)we(this.autoClosingPairsOpenByStart,t.open.charAt(0),t),we(this.autoClosingPairsOpenByEnd,t.open.charAt(t.open.length-1),t),we(this.autoClosingPairsCloseByStart,t.close.charAt(0),t),we(this.autoClosingPairsCloseByEnd,t.close.charAt(t.close.length-1),t),t.close.length===1&&t.open.length===1&&we(this.autoClosingPairsCloseSingleChar,t.close,t)}};n(Lo,"AutoClosingPairs");let me=Lo;function we(C,e,t){C.has(e)?C.get(e).push(t):C.set(e,[t])}n(we,"appendEntry");const is=class is{constructor(e){if(e.autoClosingPairs?this._autoClosingPairs=e.autoClosingPairs.map(t=>new W(t)):e.brackets?this._autoClosingPairs=e.brackets.map(t=>new W({open:t[0],close:t[1]})):this._autoClosingPairs=[],e.__electricCharacterSupport&&e.__electricCharacterSupport.docComment){const t=e.__electricCharacterSupport.docComment;this._autoClosingPairs.push(new W({open:t.open,close:t.close||""}))}this._autoCloseBeforeForQuotes=typeof e.autoCloseBefore=="string"?e.autoCloseBefore:is.DEFAULT_AUTOCLOSE_BEFORE_LANGUAGE_DEFINED_QUOTES,this._autoCloseBeforeForBrackets=typeof e.autoCloseBefore=="string"?e.autoCloseBefore:is.DEFAULT_AUTOCLOSE_BEFORE_LANGUAGE_DEFINED_BRACKETS,this._surroundingPairs=e.surroundingPairs||this._autoClosingPairs}getAutoClosingPairs(){return this._autoClosingPairs}getAutoCloseBeforeSet(e){return e?this._autoCloseBeforeForQuotes:this._autoCloseBeforeForBrackets}getSurroundingPairs(){return this._surroundingPairs}};n(is,"CharacterPairSupport"),is.DEFAULT_AUTOCLOSE_BEFORE_LANGUAGE_DEFINED_QUOTES=`;:.,=}])> 
	`,is.DEFAULT_AUTOCLOSE_BEFORE_LANGUAGE_DEFINED_BRACKETS=`'"\`;:.,=}])> 
	`;let Ue=is;function Ce(C,e){const t=C.getCount(),r=C.findTokenIndexAtOffset(e),s=C.getLanguageId(r);let l=r;for(;l+1<t&&C.getLanguageId(l+1)===s;)l++;let f=r;for(;f>0&&C.getLanguageId(f-1)===s;)f--;return new R(C,s,f,l+1,C.getStartOffset(f),C.getEndOffset(l))}n(Ce,"createScopedLineTokens");const Co=class Co{constructor(e,t,r,s,l,f){this._scopedLineTokensBrand=void 0,this._actual=e,this.languageId=t,this._firstTokenIndex=r,this._lastTokenIndex=s,this.firstCharOffset=l,this._lastCharOffset=f,this.languageIdCodec=e.languageIdCodec}getLineContent(){return this._actual.getLineContent().substring(this.firstCharOffset,this._lastCharOffset)}getLineLength(){return this._lastCharOffset-this.firstCharOffset}getActualLineContentBefore(e){return this._actual.getLineContent().substring(0,this.firstCharOffset+e)}getTokenCount(){return this._lastTokenIndex-this._firstTokenIndex}findTokenIndexAtOffset(e){return this._actual.findTokenIndexAtOffset(e+this.firstCharOffset)-this._firstTokenIndex}getStandardTokenType(e){return this._actual.getStandardTokenType(e+this._firstTokenIndex)}toIViewLineTokens(){return this._actual.sliceAndInflate(this.firstCharOffset,this._lastCharOffset,0)}};n(Co,"ScopedLineTokens");let R=Co;function m(C){return(C&3)!==0}n(m,"ignoreBracketsInToken");var _=E(2802);let b;function I(){return b||(b=new TextDecoder("UTF-16LE")),b}n(I,"getUTF16LE_TextDecoder");let P;function V(){return P||(P=new TextDecoder("UTF-16BE")),P}n(V,"getUTF16BE_TextDecoder");let ee;function fe(){return ee||(ee=o.cm()?I():V()),ee}n(fe,"getPlatformTextDecoder");function ue(C,e,t){const r=new Uint16Array(C.buffer,e,t);return t>0&&(r[0]===65279||r[0]===65534)?Te(C,e,t):I().decode(r)}n(ue,"decodeUTF16LE");function Te(C,e,t){const r=[];let s=0;for(let l=0;l<t;l++){const f=_.$l(C,e);e+=2,r[s++]=String.fromCharCode(f)}return r.join("")}n(Te,"compatDecodeUTF16LE");const xo=class xo{constructor(e){this._capacity=e|0,this._buffer=new Uint16Array(this._capacity),this._completedStrings=null,this._bufferLength=0}reset(){this._completedStrings=null,this._bufferLength=0}build(){return this._completedStrings!==null?(this._flushBuffer(),this._completedStrings.join("")):this._buildBuffer()}_buildBuffer(){if(this._bufferLength===0)return"";const e=new Uint16Array(this._buffer.buffer,0,this._bufferLength);return fe().decode(e)}_flushBuffer(){const e=this._buildBuffer();this._bufferLength=0,this._completedStrings===null?this._completedStrings=[e]:this._completedStrings[this._completedStrings.length]=e}appendCharCode(e){const t=this._capacity-this._bufferLength;t<=1&&(t===0||strings.isHighSurrogate(e))&&this._flushBuffer(),this._buffer[this._bufferLength++]=e}appendASCIICharCode(e){this._bufferLength===this._capacity&&this._flushBuffer(),this._buffer[this._bufferLength++]=e}appendString(e){const t=e.length;if(this._bufferLength+t>=this._capacity){this._flushBuffer(),this._completedStrings[this._completedStrings.length]=e;return}for(let r=0;r<t;r++)this._buffer[this._bufferLength++]=e.charCodeAt(r)}};n(xo,"StringBuilder");let je=xo;const ws=class ws{constructor(e,t,r,s,l,f){this._richEditBracketBrand=void 0,this.languageId=e,this.index=t,this.open=r,this.close=s,this.forwardRegex=l,this.reversedRegex=f,this._openSet=ws._toSet(this.open),this._closeSet=ws._toSet(this.close)}isOpen(e){return this._openSet.has(e)}isClose(e){return this._closeSet.has(e)}static _toSet(e){const t=new Set;for(const r of e)t.add(r);return t}};n(ws,"RichEditBracket");let Xe=ws;function We(C){const e=C.length;C=C.map(f=>[f[0].toLowerCase(),f[1].toLowerCase()]);const t=[];for(let f=0;f<e;f++)t[f]=f;const r=n((f,L)=>{const[S,X]=f,[le,ge]=L;return S===le||S===ge||X===le||X===ge},"areOverlapping"),s=n((f,L)=>{const S=Math.min(f,L),X=Math.max(f,L);for(let le=0;le<e;le++)t[le]===X&&(t[le]=S)},"mergeGroups");for(let f=0;f<e;f++){const L=C[f];for(let S=f+1;S<e;S++){const X=C[S];r(L,X)&&s(t[f],t[S])}}const l=[];for(let f=0;f<e;f++){const L=[],S=[];for(let X=0;X<e;X++)if(t[X]===f){const[le,ge]=C[X];L.push(le),S.push(ge)}L.length>0&&l.push({open:L,close:S})}return l}n(We,"groupFuzzyBrackets");const wo=class wo{constructor(e,t){this._richEditBracketsBrand=void 0;const r=We(t);this.brackets=r.map((s,l)=>new Xe(e,l,s.open,s.close,D(s.open,s.close,r,l),Z(s.open,s.close,r,l))),this.forwardRegex=he(this.brackets),this.reversedRegex=ye(this.brackets),this.textIsBracket={},this.textIsOpenBracket={},this.maxBracketLength=0;for(const s of this.brackets){for(const l of s.open)this.textIsBracket[l]=s,this.textIsOpenBracket[l]=!0,this.maxBracketLength=Math.max(this.maxBracketLength,l.length);for(const l of s.close)this.textIsBracket[l]=s,this.textIsOpenBracket[l]=!1,this.maxBracketLength=Math.max(this.maxBracketLength,l.length)}}};n(wo,"RichEditBrackets");let A=wo;function M(C,e,t,r){for(let s=0,l=e.length;s<l;s++){if(s===t)continue;const f=e[s];for(const L of f.open)L.indexOf(C)>=0&&r.push(L);for(const L of f.close)L.indexOf(C)>=0&&r.push(L)}}n(M,"collectSuperstrings");function G(C,e){return C.length-e.length}n(G,"lengthcmp");function w(C){if(C.length<=1)return C;const e=[],t=new Set;for(const r of C)t.has(r)||(e.push(r),t.add(r));return e}n(w,"unique");function D(C,e,t,r){let s=[];s=s.concat(C),s=s.concat(e);for(let l=0,f=s.length;l<f;l++)M(s[l],t,r,s);return s=w(s),s.sort(G),s.reverse(),Ve(s)}n(D,"getRegexForBracketPair");function Z(C,e,t,r){let s=[];s=s.concat(C),s=s.concat(e);for(let l=0,f=s.length;l<f;l++)M(s[l],t,r,s);return s=w(s),s.sort(G),s.reverse(),Ve(s.map(ft))}n(Z,"getReversedRegexForBracketPair");function he(C){let e=[];for(const t of C){for(const r of t.open)e.push(r);for(const r of t.close)e.push(r)}return e=w(e),Ve(e)}n(he,"getRegexForBrackets");function ye(C){let e=[];for(const t of C){for(const r of t.open)e.push(r);for(const r of t.close)e.push(r)}return e=w(e),Ve(e.map(ft))}n(ye,"getReversedRegexForBrackets");function He(C){const e=/^[\w ]+$/.test(C);return C=g.bm(C),e?`\\b${C}\\b`:C}n(He,"prepareBracketForRegExp");function Ve(C,e){const t=`(${C.map(He).join(")|(")})`;return g.OS(t,!0,e)}n(Ve,"createBracketOrRegExp");const ft=function(){function C(r){const s=new Uint16Array(r.length);let l=0;for(let f=r.length-1;f>=0;f--)s[l++]=r.charCodeAt(f);return fe().decode(s)}n(C,"reverse");let e=null,t=null;return n(function(s){return e!==s&&(e=s,t=C(e)),t},"toReversedString")}(),yo=class yo{static _findPrevBracketInText(e,t,r,s){const l=r.match(e);if(!l)return null;const f=r.length-(l.index||0),L=l[0].length,S=s+f;return new z.Q(t,S-L+1,t,S+1)}static findPrevBracketInRange(e,t,r,s,l){const L=ft(r).substring(r.length-l,r.length-s);return this._findPrevBracketInText(e,t,L,s)}static findNextBracketInText(e,t,r,s){const l=r.match(e);if(!l)return null;const f=l.index||0,L=l[0].length;if(L===0)return null;const S=s+f;return new z.Q(t,S+1,t,S+1+L)}static findNextBracketInRange(e,t,r,s,l){const f=r.substring(s,l);return this.findNextBracketInText(e,t,f,s)}};n(yo,"BracketsUtils");let ot=yo;const So=class So{constructor(e){this._richEditBrackets=e}getElectricCharacters(){const e=[];if(this._richEditBrackets)for(const t of this._richEditBrackets.brackets)for(const r of t.close){const s=r.charAt(r.length-1);e.push(s)}return(0,K.dM)(e)}onElectricCharacter(e,t,r){if(!this._richEditBrackets||this._richEditBrackets.brackets.length===0)return null;const s=t.findTokenIndexAtOffset(r-1);if(m(t.getStandardTokenType(s)))return null;const l=this._richEditBrackets.reversedRegex,f=t.getLineContent().substring(0,r-1)+e,L=ot.findPrevBracketInRange(l,1,f,0,f.length);if(!L)return null;const S=f.substring(L.startColumn-1,L.endColumn-1).toLowerCase();if(this._richEditBrackets.textIsOpenBracket[S])return null;const le=t.getActualLineContentBefore(L.startColumn-1);return/^\s*$/.test(le)?{matchOpenBracket:S}:null}};n(So,"BracketElectricCharacterSupport");let kt=So;function nn(C){return C.global&&(C.lastIndex=0),!0}n(nn,"resetGlobalRegex");const Eo=class Eo{constructor(e){this._indentationRules=e}shouldIncrease(e){return!!(this._indentationRules&&this._indentationRules.increaseIndentPattern&&nn(this._indentationRules.increaseIndentPattern)&&this._indentationRules.increaseIndentPattern.test(e))}shouldDecrease(e){return!!(this._indentationRules&&this._indentationRules.decreaseIndentPattern&&nn(this._indentationRules.decreaseIndentPattern)&&this._indentationRules.decreaseIndentPattern.test(e))}shouldIndentNextLine(e){return!!(this._indentationRules&&this._indentationRules.indentNextLinePattern&&nn(this._indentationRules.indentNextLinePattern)&&this._indentationRules.indentNextLinePattern.test(e))}shouldIgnore(e){return!!(this._indentationRules&&this._indentationRules.unIndentedLinePattern&&nn(this._indentationRules.unIndentedLinePattern)&&this._indentationRules.unIndentedLinePattern.test(e))}getIndentMetadata(e){let t=0;return this.shouldIncrease(e)&&(t+=1),this.shouldDecrease(e)&&(t+=2),this.shouldIndentNextLine(e)&&(t+=4),this.shouldIgnore(e)&&(t+=8),t}};n(Eo,"IndentRulesSupport");let Ut=Eo;const rs=class rs{constructor(e){e=e||{},e.brackets=e.brackets||[["(",")"],["{","}"],["[","]"]],this._brackets=[],e.brackets.forEach(t=>{const r=rs._createOpenBracketRegExp(t[0]),s=rs._createCloseBracketRegExp(t[1]);r&&s&&this._brackets.push({open:t[0],openRegExp:r,close:t[1],closeRegExp:s})}),this._regExpRules=e.onEnterRules||[]}onEnter(e,t,r,s){if(e>=3)for(let l=0,f=this._regExpRules.length;l<f;l++){const L=this._regExpRules[l];if([{reg:L.beforeText,text:r},{reg:L.afterText,text:s},{reg:L.previousLineText,text:t}].every(X=>X.reg?(X.reg.lastIndex=0,X.reg.test(X.text)):!0))return L.action}if(e>=2&&r.length>0&&s.length>0)for(let l=0,f=this._brackets.length;l<f;l++){const L=this._brackets[l];if(L.openRegExp.test(r)&&L.closeRegExp.test(s))return{indentAction:y.IndentOutdent}}if(e>=2&&r.length>0){for(let l=0,f=this._brackets.length;l<f;l++)if(this._brackets[l].openRegExp.test(r))return{indentAction:y.Indent}}return null}static _createOpenBracketRegExp(e){let t=g.bm(e);return/\B/.test(t.charAt(0))||(t="\\b"+t),t+="\\s*$",rs._safeRegExp(t)}static _createCloseBracketRegExp(e){let t=g.bm(e);return/\B/.test(t.charAt(t.length-1))||(t=t+"\\b"),t="^\\s*"+t,rs._safeRegExp(t)}static _safeRegExp(e){try{return new RegExp(e)}catch(t){return(0,N.dz)(t),null}}};n(rs,"OnEnterSupport");let Dn=rs;var En=E(2399),_n=E(5753),vn=E(9031),mn=E(4957),pn=E(6260);const Ao=class Ao{constructor(e,t){this.languageId=e;const r=t.brackets?xn(t.brackets):[],s=new pn.VV(L=>{const S=new Set;return{info:new Rn(this,L,S),closing:S}}),l=new pn.VV(L=>{const S=new Set,X=new Set;return{info:new wn(this,L,S,X),opening:S,openingColorized:X}});for(const[L,S]of r){const X=s.get(L),le=l.get(S);X.closing.add(le.info),le.opening.add(X.info)}const f=t.colorizedBracketPairs?xn(t.colorizedBracketPairs):r.filter(L=>!(L[0]==="<"&&L[1]===">"));for(const[L,S]of f){const X=s.get(L),le=l.get(S);X.closing.add(le.info),le.openingColorized.add(X.info),le.opening.add(X.info)}this._openingBrackets=new Map([...s.cachedValues].map(([L,S])=>[L,S.info])),this._closingBrackets=new Map([...l.cachedValues].map(([L,S])=>[L,S.info]))}get openingBrackets(){return[...this._openingBrackets.values()]}get closingBrackets(){return[...this._closingBrackets.values()]}getOpeningBracketInfo(e){return this._openingBrackets.get(e)}getClosingBracketInfo(e){return this._closingBrackets.get(e)}getBracketInfo(e){return this.getOpeningBracketInfo(e)||this.getClosingBracketInfo(e)}getBracketRegExp(e){const t=Array.from([...this._openingBrackets.keys(),...this._closingBrackets.keys()]);return Ve(t,e)}};n(Ao,"LanguageBracketsConfiguration");let dn=Ao;function xn(C){return C.filter(([e,t])=>e!==""&&t!=="")}n(xn,"filterValidBrackets");const Io=class Io{constructor(e,t){this.config=e,this.bracketText=t}get languageId(){return this.config.languageId}};n(Io,"BracketKindBase");let an=Io;const No=class No extends an{constructor(e,t,r){super(e,t),this.openedBrackets=r,this.isOpeningBracket=!0}};n(No,"OpeningBracketKind");let Rn=No;const To=class To extends an{constructor(e,t,r,s){super(e,t),this.openingBrackets=r,this.openingColorizedBrackets=s,this.isOpeningBracket=!1}closes(e){return e.config!==this.config?!1:this.openingBrackets.has(e)}closesColorized(e){return e.config!==this.config?!1:this.openingColorizedBrackets.has(e)}getOpeningBrackets(){return[...this.openingBrackets]}};n(To,"ClosingBracketKind");let wn=To;var Fn=function(C,e,t,r){var s=arguments.length,l=s<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,f;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")l=Reflect.decorate(C,e,t,r);else for(var L=C.length-1;L>=0;L--)(f=C[L])&&(l=(s<3?f(l):s>3?f(e,t,l):f(e,t))||l);return s>3&&l&&Object.defineProperty(e,t,l),l},An=function(C,e){return function(t,r){e(t,r,C)}};const Do=class Do{constructor(e){this.languageId=e}affects(e){return this.languageId?this.languageId===e:!0}};n(Do,"LanguageConfigurationServiceChangeEvent");let gn=Do;const Tn=(0,En.u1)("languageConfigurationService");let Oe=(gs=class extends ie.jG{constructor(e,t){super(),this.configurationService=e,this.languageService=t,this._registry=this._register(new St),this.onDidChangeEmitter=this._register(new F.vl),this.onDidChange=this.onDidChangeEmitter.event,this.configurations=new Map;const r=new Set(Object.values(i));this._register(this.configurationService.onDidChangeConfiguration(s=>{const l=s.change.keys.some(L=>r.has(L)),f=s.change.overrides.filter(([L,S])=>S.some(X=>r.has(X))).map(([L])=>L);if(l)this.configurations.clear(),this.onDidChangeEmitter.fire(new gn(void 0));else for(const L of f)this.languageService.isRegisteredLanguageId(L)&&(this.configurations.delete(L),this.onDidChangeEmitter.fire(new gn(L)))})),this._register(this._registry.onDidChange(s=>{this.configurations.delete(s.languageId),this.onDidChangeEmitter.fire(new gn(s.languageId))}))}register(e,t,r){return this._registry.register(e,t,r)}getLanguageConfiguration(e){let t=this.configurations.get(e);return t||(t=$e(e,this._registry,this.configurationService,this.languageService),this.configurations.set(e,t)),t}},n(gs,"LanguageConfigurationService"),gs);Oe=Fn([An(0,_n.pG),An(1,ce.L)],Oe);function $e(C,e,t,r){let s=e.getLanguageConfiguration(C);if(!s){if(!r.isRegisteredLanguageId(C))return new $t(C,{});s=new $t(C,{})}const l=mt(s.languageId,t),f=xt([s.underlyingConfig,l]);return new $t(s.languageId,f)}n($e,"computeConfig");const i={brackets:"editor.language.brackets",colorizedBracketPairs:"editor.language.colorizedBracketPairs"};function mt(C,e){const t=e.getValue(i.brackets,{overrideIdentifier:C}),r=e.getValue(i.colorizedBracketPairs,{overrideIdentifier:C});return{brackets:It(t),colorizedBracketPairs:It(r)}}n(mt,"getCustomizedLanguageConfig");function It(C){if(Array.isArray(C))return C.map(e=>{if(!(!Array.isArray(e)||e.length!==2))return[e[0],e[1]]}).filter(e=>!!e)}n(It,"validateBracketPairs");function pt(C,e,t){const r=C.getLineContent(e);let s=strings.getLeadingWhitespace(r);return s.length>t-1&&(s=s.substring(0,t-1)),s}n(pt,"getIndentationAtPosition");const Bo=class Bo{constructor(e){this.languageId=e,this._resolved=null,this._entries=[],this._order=0,this._resolved=null}register(e,t){const r=new dt(e,t,++this._order);return this._entries.push(r),this._resolved=null,(0,ie.s)(()=>{for(let s=0;s<this._entries.length;s++)if(this._entries[s]===r){this._entries.splice(s,1),this._resolved=null;break}})}getResolvedConfiguration(){if(!this._resolved){const e=this._resolve();e&&(this._resolved=new $t(this.languageId,e))}return this._resolved}_resolve(){return this._entries.length===0?null:(this._entries.sort(dt.cmp),xt(this._entries.map(e=>e.configuration)))}};n(Bo,"ComposedLanguageConfiguration");let at=Bo;function xt(C){let e={comments:void 0,brackets:void 0,wordPattern:void 0,indentationRules:void 0,onEnterRules:void 0,autoClosingPairs:void 0,surroundingPairs:void 0,autoCloseBefore:void 0,folding:void 0,colorizedBracketPairs:void 0,__electricCharacterSupport:void 0};for(const t of C)e={comments:t.comments||e.comments,brackets:t.brackets||e.brackets,wordPattern:t.wordPattern||e.wordPattern,indentationRules:t.indentationRules||e.indentationRules,onEnterRules:t.onEnterRules||e.onEnterRules,autoClosingPairs:t.autoClosingPairs||e.autoClosingPairs,surroundingPairs:t.surroundingPairs||e.surroundingPairs,autoCloseBefore:t.autoCloseBefore||e.autoCloseBefore,folding:t.folding||e.folding,colorizedBracketPairs:t.colorizedBracketPairs||e.colorizedBracketPairs,__electricCharacterSupport:t.__electricCharacterSupport||e.__electricCharacterSupport};return e}n(xt,"combineLanguageConfigurations");const Ro=class Ro{constructor(e,t,r){this.configuration=e,this.priority=t,this.order=r}static cmp(e,t){return e.priority===t.priority?e.order-t.order:e.priority-t.priority}};n(Ro,"LanguageConfigurationContribution");let dt=Ro;const Oo=class Oo{constructor(e){this.languageId=e}};n(Oo,"LanguageConfigurationChangeEvent");let ut=Oo;const Mo=class Mo extends ie.jG{constructor(){super(),this._entries=new Map,this._onDidChange=this._register(new F.vl),this.onDidChange=this._onDidChange.event,this._register(this.register(mn.vH,{brackets:[["(",")"],["[","]"],["{","}"]],surroundingPairs:[{open:"{",close:"}"},{open:"[",close:"]"},{open:"(",close:")"},{open:"<",close:">"},{open:'"',close:'"'},{open:"'",close:"'"},{open:"`",close:"`"}],colorizedBracketPairs:[],folding:{offSide:!0}},0))}register(e,t,r=0){let s=this._entries.get(e);s||(s=new at(e),this._entries.set(e,s));const l=s.register(t,r);return this._onDidChange.fire(new ut(e)),(0,ie.s)(()=>{l.dispose(),this._onDidChange.fire(new ut(e))})}getLanguageConfiguration(e){const t=this._entries.get(e);return(t==null?void 0:t.getResolvedConfiguration())||null}};n(Mo,"LanguageConfigurationRegistry");let St=Mo;const Ys=class Ys{constructor(e,t){this.languageId=e,this.underlyingConfig=t,this._brackets=null,this._electricCharacter=null,this._onEnterSupport=this.underlyingConfig.brackets||this.underlyingConfig.indentationRules||this.underlyingConfig.onEnterRules?new Dn(this.underlyingConfig):null,this.comments=Ys._handleComments(this.underlyingConfig),this.characterPair=new Ue(this.underlyingConfig),this.wordDefinition=this.underlyingConfig.wordPattern||J.Ld,this.indentationRules=this.underlyingConfig.indentationRules,this.underlyingConfig.indentationRules?this.indentRulesSupport=new Ut(this.underlyingConfig.indentationRules):this.indentRulesSupport=null,this.foldingRules=this.underlyingConfig.folding||{},this.bracketsNew=new dn(e,this.underlyingConfig)}getWordDefinition(){return(0,J.Io)(this.wordDefinition)}get brackets(){return!this._brackets&&this.underlyingConfig.brackets&&(this._brackets=new A(this.languageId,this.underlyingConfig.brackets)),this._brackets}get electricCharacter(){return this._electricCharacter||(this._electricCharacter=new kt(this.brackets)),this._electricCharacter}onEnter(e,t,r,s){return this._onEnterSupport?this._onEnterSupport.onEnter(e,t,r,s):null}getAutoClosingPairs(){return new me(this.characterPair.getAutoClosingPairs())}getAutoCloseBeforeSet(e){return this.characterPair.getAutoCloseBeforeSet(e)}getSurroundingPairs(){return this.characterPair.getSurroundingPairs()}static _handleComments(e){const t=e.comments;if(!t)return null;const r={};if(t.lineComment&&(r.lineCommentToken=t.lineComment),t.blockComment){const[s,l]=t.blockComment;r.blockCommentStartToken=s,r.blockCommentEndToken=l}return r}};n(Ys,"ResolvedLanguageConfiguration");let $t=Ys;(0,vn.v)(Tn,Oe,1);var Zt=E(6055);const Fo=class Fo{constructor(e,t,r,s){this.range=e,this.nestingLevel=t,this.nestingLevelOfEqualBracketType=r,this.isInvalid=s}};n(Fo,"BracketInfo");let cn=Fo;const Po=class Po{constructor(e,t,r,s,l,f){this.range=e,this.openingBracketRange=t,this.closingBracketRange=r,this.nestingLevel=s,this.nestingLevelOfEqualBracketType=l,this.bracketPairNode=f}get openingBracketInfo(){return this.bracketPairNode.openingBracket.bracketInfo}};n(Po,"BracketPairInfo");let Nt=Po;const Vo=class Vo extends Nt{constructor(e,t,r,s,l,f,L){super(e,t,r,s,l,f),this.minVisibleColumnIndentation=L}};n(Vo,"BracketPairWithMinIndentationInfo");let T=Vo;var Se=E(8357);function ct(C,e,t,r){return C!==t?qt(t-C,r):qt(0,r-e)}n(ct,"lengthDiff");const rt=0;function un(C){return C===0}n(un,"lengthIsZero");const Bt=2**26;function qt(C,e){return C*Bt+e}n(qt,"toLength");function sn(C){const e=C,t=Math.floor(e/Bt),r=e-t*Bt;return new Se.W(t,r)}n(sn,"lengthToObj");function oi(C){return Math.floor(C/Bt)}n(oi,"lengthGetLineCount");function ei(C){return C}n(ei,"lengthGetColumnCountIfZeroLineCount");function kn(C,e){let t=C+e;return e>=Bt&&(t=t-C%Bt),t}n(kn,"lengthAdd");function Zn(C,e){return C.reduce((t,r)=>kn(t,e(r)),rt)}n(Zn,"sumLengths");function $i(C,e){return C===e}n($i,"lengthEquals");function ai(C,e){const t=C,r=e;if(r-t<=0)return rt;const l=Math.floor(t/Bt),f=Math.floor(r/Bt),L=r-f*Bt;if(l===f){const S=t-l*Bt;return qt(0,L-S)}else return qt(f-l,L)}n(ai,"lengthDiffNonNegative");function Ci(C,e){return C<e}n(Ci,"lengthLessThan");function li(C,e){return C<=e}n(li,"lengthLessThanEqual");function ci(C,e){return C>=e}n(ci,"lengthGreaterThanEqual");function xi(C){return qt(C.lineNumber-1,C.column-1)}n(xi,"positionToLength");function ni(C,e){const t=C,r=Math.floor(t/Bt),s=t-r*Bt,l=e,f=Math.floor(l/Bt),L=l-f*Bt;return new z.Q(r+1,s+1,f+1,L+1)}n(ni,"lengthsToRange");function Fi(C){const e=(0,g.uz)(C);return qt(e.length-1,e[e.length-1].length)}n(Fi,"lengthOfString");const Zs=class Zs{static fromModelContentChanges(e){return e.map(r=>{const s=z.Q.lift(r.range);return new Zs(xi(s.getStartPosition()),xi(s.getEndPosition()),Fi(r.text))}).reverse()}constructor(e,t,r){this.startOffset=e,this.endOffset=t,this.newLength=r}toString(){return`[${sn(this.startOffset)}...${sn(this.endOffset)}) -> ${sn(this.newLength)}`}};n(Zs,"TextEditInfo");let hi=Zs;const Wo=class Wo{constructor(e){this.nextEditIdx=0,this.deltaOldToNewLineCount=0,this.deltaOldToNewColumnCount=0,this.deltaLineIdxInOld=-1,this.edits=e.map(t=>Ni.from(t))}getOffsetBeforeChange(e){return this.adjustNextEdit(e),this.translateCurToOld(e)}getDistanceToNextChange(e){this.adjustNextEdit(e);const t=this.edits[this.nextEditIdx],r=t?this.translateOldToCur(t.offsetObj):null;return r===null?null:ai(e,r)}translateOldToCur(e){return e.lineCount===this.deltaLineIdxInOld?qt(e.lineCount+this.deltaOldToNewLineCount,e.columnCount+this.deltaOldToNewColumnCount):qt(e.lineCount+this.deltaOldToNewLineCount,e.columnCount)}translateCurToOld(e){const t=sn(e);return t.lineCount-this.deltaOldToNewLineCount===this.deltaLineIdxInOld?qt(t.lineCount-this.deltaOldToNewLineCount,t.columnCount-this.deltaOldToNewColumnCount):qt(t.lineCount-this.deltaOldToNewLineCount,t.columnCount)}adjustNextEdit(e){for(;this.nextEditIdx<this.edits.length;){const t=this.edits[this.nextEditIdx],r=this.translateOldToCur(t.endOffsetAfterObj);if(li(r,e)){this.nextEditIdx++;const s=sn(r),l=sn(this.translateOldToCur(t.endOffsetBeforeObj)),f=s.lineCount-l.lineCount;this.deltaOldToNewLineCount+=f;const L=this.deltaLineIdxInOld===t.endOffsetBeforeObj.lineCount?this.deltaOldToNewColumnCount:0,S=s.columnCount-l.columnCount;this.deltaOldToNewColumnCount=L+S,this.deltaLineIdxInOld=t.endOffsetBeforeObj.lineCount}else break}}};n(Wo,"BeforeEditPositionMapper");let di=Wo;const Ks=class Ks{static from(e){return new Ks(e.startOffset,e.endOffset,e.newLength)}constructor(e,t,r){this.endOffsetBeforeObj=sn(t),this.endOffsetAfterObj=sn(kn(e,r)),this.offsetObj=sn(e)}};n(Ks,"TextEditInfoCache");let Ni=Ks;const fi=[],ji=class ji{static create(e,t){if(e<=128&&t.length===0){let r=ji.cache[e];return r||(r=new ji(e,t),ji.cache[e]=r),r}return new ji(e,t)}static getEmpty(){return this.empty}constructor(e,t){this.items=e,this.additionalItems=t}add(e,t){const r=t.getKey(e);let s=r>>5;if(s===0){const f=1<<r|this.items;return f===this.items?this:ji.create(f,this.additionalItems)}s--;const l=this.additionalItems.slice(0);for(;l.length<s;)l.push(0);return l[s]|=1<<(r&31),ji.create(this.items,l)}merge(e){const t=this.items|e.items;if(this.additionalItems===fi&&e.additionalItems===fi)return t===this.items?this:t===e.items?e:ji.create(t,fi);const r=[];for(let s=0;s<Math.max(this.additionalItems.length,e.additionalItems.length);s++){const l=this.additionalItems[s]||0,f=e.additionalItems[s]||0;r.push(l|f)}return ji.create(t,r)}intersects(e){if(this.items&e.items)return!0;for(let t=0;t<Math.min(this.additionalItems.length,e.additionalItems.length);t++)if(this.additionalItems[t]&e.additionalItems[t])return!0;return!1}};n(ji,"SmallImmutableSet"),ji.cache=new Array(129),ji.empty=ji.create(0,fi);let Pn=ji;const wi={getKey(C){return C}},Uo=class Uo{constructor(){this.items=new Map}getKey(e){let t=this.items.get(e);return t===void 0&&(t=this.items.size,this.items.set(e,t)),t}};n(Uo,"DenseKeyProvider");let Gi=Uo;const zo=class zo{get length(){return this._length}constructor(e){this._length=e}};n(zo,"BaseAstNode");let yi=zo;const ys=class ys extends yi{static create(e,t,r){let s=e.length;return t&&(s=kn(s,t.length)),r&&(s=kn(s,r.length)),new ys(s,e,t,r,t?t.missingOpeningBracketIds:Pn.getEmpty())}get kind(){return 2}get listHeight(){return 0}get childrenLength(){return 3}getChild(e){switch(e){case 0:return this.openingBracket;case 1:return this.child;case 2:return this.closingBracket}throw new Error("Invalid child index")}get children(){const e=[];return e.push(this.openingBracket),this.child&&e.push(this.child),this.closingBracket&&e.push(this.closingBracket),e}constructor(e,t,r,s,l){super(e),this.openingBracket=t,this.child=r,this.closingBracket=s,this.missingOpeningBracketIds=l}canBeReused(e){return!(this.closingBracket===null||e.intersects(this.missingOpeningBracketIds))}deepClone(){return new ys(this.length,this.openingBracket.deepClone(),this.child&&this.child.deepClone(),this.closingBracket&&this.closingBracket.deepClone(),this.missingOpeningBracketIds)}computeMinIndentation(e,t){return this.child?this.child.computeMinIndentation(kn(e,this.openingBracket.length),t):Number.MAX_SAFE_INTEGER}};n(ys,"PairAstNode");let Ti=ys;const jo=class jo extends yi{static create23(e,t,r,s=!1){let l=e.length,f=e.missingOpeningBracketIds;if(e.listHeight!==t.listHeight)throw new Error("Invalid list heights");if(l=kn(l,t.length),f=f.merge(t.missingOpeningBracketIds),r){if(e.listHeight!==r.listHeight)throw new Error("Invalid list heights");l=kn(l,r.length),f=f.merge(r.missingOpeningBracketIds)}return s?new gi(l,e.listHeight+1,e,t,r,f):new Di(l,e.listHeight+1,e,t,r,f)}static getEmpty(){return new qi(rt,0,[],Pn.getEmpty())}get kind(){return 4}get missingOpeningBracketIds(){return this._missingOpeningBracketIds}constructor(e,t,r){super(e),this.listHeight=t,this._missingOpeningBracketIds=r,this.cachedMinIndentation=-1}throwIfImmutable(){}makeLastElementMutable(){this.throwIfImmutable();const e=this.childrenLength;if(e===0)return;const t=this.getChild(e-1),r=t.kind===4?t.toMutable():t;return t!==r&&this.setChild(e-1,r),r}makeFirstElementMutable(){if(this.throwIfImmutable(),this.childrenLength===0)return;const t=this.getChild(0),r=t.kind===4?t.toMutable():t;return t!==r&&this.setChild(0,r),r}canBeReused(e){if(e.intersects(this.missingOpeningBracketIds)||this.childrenLength===0)return!1;let t=this;for(;t.kind===4;){const r=t.childrenLength;if(r===0)throw new N.D7;t=t.getChild(r-1)}return t.canBeReused(e)}handleChildrenChanged(){this.throwIfImmutable();const e=this.childrenLength;let t=this.getChild(0).length,r=this.getChild(0).missingOpeningBracketIds;for(let s=1;s<e;s++){const l=this.getChild(s);t=kn(t,l.length),r=r.merge(l.missingOpeningBracketIds)}this._length=t,this._missingOpeningBracketIds=r,this.cachedMinIndentation=-1}computeMinIndentation(e,t){if(this.cachedMinIndentation!==-1)return this.cachedMinIndentation;let r=Number.MAX_SAFE_INTEGER,s=e;for(let l=0;l<this.childrenLength;l++){const f=this.getChild(l);f&&(r=Math.min(r,f.computeMinIndentation(s,t)),s=kn(s,f.length))}return this.cachedMinIndentation=r,r}};n(jo,"ListAstNode");let Jn=jo;const eo=class eo extends Jn{get childrenLength(){return this._item3!==null?3:2}getChild(e){switch(e){case 0:return this._item1;case 1:return this._item2;case 2:return this._item3}throw new Error("Invalid child index")}setChild(e,t){switch(e){case 0:this._item1=t;return;case 1:this._item2=t;return;case 2:this._item3=t;return}throw new Error("Invalid child index")}get children(){return this._item3?[this._item1,this._item2,this._item3]:[this._item1,this._item2]}get item1(){return this._item1}get item2(){return this._item2}get item3(){return this._item3}constructor(e,t,r,s,l,f){super(e,t,f),this._item1=r,this._item2=s,this._item3=l}deepClone(){return new eo(this.length,this.listHeight,this._item1.deepClone(),this._item2.deepClone(),this._item3?this._item3.deepClone():null,this.missingOpeningBracketIds)}appendChildOfSameHeight(e){if(this._item3)throw new Error("Cannot append to a full (2,3) tree node");this.throwIfImmutable(),this._item3=e,this.handleChildrenChanged()}unappendChild(){if(!this._item3)throw new Error("Cannot remove from a non-full (2,3) tree node");this.throwIfImmutable();const e=this._item3;return this._item3=null,this.handleChildrenChanged(),e}prependChildOfSameHeight(e){if(this._item3)throw new Error("Cannot prepend to a full (2,3) tree node");this.throwIfImmutable(),this._item3=this._item2,this._item2=this._item1,this._item1=e,this.handleChildrenChanged()}unprependChild(){if(!this._item3)throw new Error("Cannot remove from a non-full (2,3) tree node");this.throwIfImmutable();const e=this._item1;return this._item1=this._item2,this._item2=this._item3,this._item3=null,this.handleChildrenChanged(),e}toMutable(){return this}};n(eo,"TwoThreeListAstNode");let Di=eo;const Ho=class Ho extends Di{toMutable(){return new Di(this.length,this.listHeight,this.item1,this.item2,this.item3,this.missingOpeningBracketIds)}throwIfImmutable(){throw new Error("this instance is immutable")}};n(Ho,"Immutable23ListAstNode");let gi=Ho;const to=class to extends Jn{get childrenLength(){return this._children.length}getChild(e){return this._children[e]}setChild(e,t){this._children[e]=t}get children(){return this._children}constructor(e,t,r,s){super(e,t,s),this._children=r}deepClone(){const e=new Array(this._children.length);for(let t=0;t<this._children.length;t++)e[t]=this._children[t].deepClone();return new to(this.length,this.listHeight,e,this.missingOpeningBracketIds)}appendChildOfSameHeight(e){this.throwIfImmutable(),this._children.push(e),this.handleChildrenChanged()}unappendChild(){this.throwIfImmutable();const e=this._children.pop();return this.handleChildrenChanged(),e}prependChildOfSameHeight(e){this.throwIfImmutable(),this._children.unshift(e),this.handleChildrenChanged()}unprependChild(){this.throwIfImmutable();const e=this._children.shift();return this.handleChildrenChanged(),e}toMutable(){return this}};n(to,"ArrayListAstNode");let ti=to;const $o=class $o extends ti{toMutable(){return new ti(this.length,this.listHeight,[...this.children],this.missingOpeningBracketIds)}throwIfImmutable(){throw new Error("this instance is immutable")}};n($o,"ImmutableArrayListAstNode");let qi=$o;const Si=[],Go=class Go extends yi{get listHeight(){return 0}get childrenLength(){return 0}getChild(e){return null}get children(){return Si}deepClone(){return this}};n(Go,"ImmutableLeafAstNode");let mi=Go;const qo=class qo extends mi{get kind(){return 0}get missingOpeningBracketIds(){return Pn.getEmpty()}canBeReused(e){return!0}computeMinIndentation(e,t){const r=sn(e),s=(r.columnCount===0?r.lineCount:r.lineCount+1)+1,l=oi(kn(e,this.length))+1;let f=Number.MAX_SAFE_INTEGER;for(let L=s;L<=l;L++){const S=t.getLineFirstNonWhitespaceColumn(L),X=t.getLineContent(L);if(S===0)continue;const le=ne.visibleColumnFromColumn(X,S,t.getOptions().tabSize);f=Math.min(f,le)}return f}};n(qo,"TextAstNode");let Fe=qo;const no=class no extends mi{static create(e,t,r){return new no(e,t,r)}get kind(){return 1}get missingOpeningBracketIds(){return Pn.getEmpty()}constructor(e,t,r){super(e),this.bracketInfo=t,this.bracketIds=r}get text(){return this.bracketInfo.bracketText}get languageId(){return this.bracketInfo.languageId}canBeReused(e){return!1}computeMinIndentation(e,t){return Number.MAX_SAFE_INTEGER}};n(no,"BracketAstNode");let q=no;const Qo=class Qo extends mi{get kind(){return 3}constructor(e,t){super(t),this.missingOpeningBracketIds=e}canBeReused(e){return!e.intersects(this.missingOpeningBracketIds)}computeMinIndentation(e,t){return Number.MAX_SAFE_INTEGER}};n(Qo,"InvalidBracketAstNode");let xe=Qo;var se=E(5910);const Jo=class Jo{constructor(e,t,r,s,l){this.length=e,this.kind=t,this.bracketId=r,this.bracketIds=s,this.astNode=l}};n(Jo,"tokenizer_Token");let lt=Jo;const Xo=class Xo{constructor(e,t){this.textModel=e,this.bracketTokens=t,this.reader=new Pt(this.textModel,this.bracketTokens),this._offset=rt,this.didPeek=!1,this.peeked=null,this.textBufferLineCount=e.getLineCount(),this.textBufferLastLineLength=e.getLineLength(this.textBufferLineCount)}get offset(){return this._offset}get length(){return qt(this.textBufferLineCount-1,this.textBufferLastLineLength)}skip(e){this.didPeek=!1,this._offset=kn(this._offset,e);const t=sn(this._offset);this.reader.setPosition(t.lineCount,t.columnCount)}read(){let e;return this.peeked?(this.didPeek=!1,e=this.peeked):e=this.reader.read(),e&&(this._offset=kn(this._offset,e.length)),e}peek(){return this.didPeek||(this.peeked=this.reader.read(),this.didPeek=!0),this.peeked}};n(Xo,"TextBufferTokenizer");let vt=Xo;const Yo=class Yo{constructor(e,t){this.textModel=e,this.bracketTokens=t,this.lineIdx=0,this.line=null,this.lineCharOffset=0,this.lineTokens=null,this.lineTokenOffset=0,this.peekedToken=null,this.textBufferLineCount=e.getLineCount(),this.textBufferLastLineLength=e.getLineLength(this.textBufferLineCount)}setPosition(e,t){e===this.lineIdx?(this.lineCharOffset=t,this.line!==null&&(this.lineTokenOffset=this.lineCharOffset===0?0:this.lineTokens.findTokenIndexAtOffset(this.lineCharOffset))):(this.lineIdx=e,this.lineCharOffset=t,this.line=null),this.peekedToken=null}read(){if(this.peekedToken){const l=this.peekedToken;return this.peekedToken=null,this.lineCharOffset+=l.length,l}if(this.lineIdx>this.textBufferLineCount-1||this.lineIdx===this.textBufferLineCount-1&&this.lineCharOffset>=this.textBufferLastLineLength)return null;this.line===null&&(this.lineTokens=this.textModel.tokenization.getLineTokens(this.lineIdx+1),this.line=this.lineTokens.getLineContent(),this.lineTokenOffset=this.lineCharOffset===0?0:this.lineTokens.findTokenIndexAtOffset(this.lineCharOffset));const e=this.lineIdx,t=this.lineCharOffset;let r=0;for(;;){const l=this.lineTokens,f=l.getCount();let L=null;if(this.lineTokenOffset<f){const S=l.getMetadata(this.lineTokenOffset);for(;this.lineTokenOffset+1<f&&S===l.getMetadata(this.lineTokenOffset+1);)this.lineTokenOffset++;const X=se.x.getTokenType(S)===0,le=se.x.containsBalancedBrackets(S),ge=l.getEndOffset(this.lineTokenOffset);if(le&&X&&this.lineCharOffset<ge){const ve=l.getLanguageId(this.lineTokenOffset),Be=this.line.substring(this.lineCharOffset,ge),ze=this.bracketTokens.getSingleLanguageBracketTokens(ve),Ye=ze.regExpGlobal;if(Ye){Ye.lastIndex=0;const tt=Ye.exec(Be);tt&&(L=ze.getToken(tt[0]),L&&(this.lineCharOffset+=tt.index))}}if(r+=ge-this.lineCharOffset,L)if(e!==this.lineIdx||t!==this.lineCharOffset){this.peekedToken=L;break}else return this.lineCharOffset+=L.length,L;else this.lineTokenOffset++,this.lineCharOffset=ge}else if(this.lineIdx===this.textBufferLineCount-1||(this.lineIdx++,this.lineTokens=this.textModel.tokenization.getLineTokens(this.lineIdx+1),this.lineTokenOffset=0,this.line=this.lineTokens.getLineContent(),this.lineCharOffset=0,r+=33,r>1e3))break;if(r>1500)break}const s=ct(e,t,this.lineIdx,this.lineCharOffset);return new lt(s,0,-1,Pn.getEmpty(),new Fe(s))}};n(Yo,"NonPeekableTextBufferTokenizer");let Pt=Yo;const Zo=class Zo{constructor(e,t){this.text=e,this._offset=rt,this.idx=0;const r=t.getRegExpStr(),s=r?new RegExp(r+`|
`,"gi"):null,l=[];let f,L=0,S=0,X=0,le=0;const ge=[];for(let ze=0;ze<60;ze++)ge.push(new lt(qt(0,ze),0,-1,Pn.getEmpty(),new Fe(qt(0,ze))));const ve=[];for(let ze=0;ze<60;ze++)ve.push(new lt(qt(1,ze),0,-1,Pn.getEmpty(),new Fe(qt(1,ze))));if(s)for(s.lastIndex=0;(f=s.exec(e))!==null;){const ze=f.index,Ye=f[0];if(Ye===`
`)L++,S=ze+1;else{if(X!==ze){let tt;if(le===L){const Ct=ze-X;if(Ct<ge.length)tt=ge[Ct];else{const Ot=qt(0,Ct);tt=new lt(Ot,0,-1,Pn.getEmpty(),new Fe(Ot))}}else{const Ct=L-le,Ot=ze-S;if(Ct===1&&Ot<ve.length)tt=ve[Ot];else{const Jt=qt(Ct,Ot);tt=new lt(Jt,0,-1,Pn.getEmpty(),new Fe(Jt))}}l.push(tt)}l.push(t.getToken(Ye)),X=ze+Ye.length,le=L}}const Be=e.length;if(X!==Be){const ze=le===L?qt(0,Be-X):qt(L-le,Be-S);l.push(new lt(ze,0,-1,Pn.getEmpty(),new Fe(ze)))}this.length=qt(L,Be-S),this.tokens=l}get offset(){return this._offset}read(){return this.tokens[this.idx++]||null}peek(){return this.tokens[this.idx]||null}skip(e){throw new N.EM}};n(Zo,"FastTokenizer");let ln=Zo;const io=class io{static createFromLanguage(e,t){function r(l){return t.getKey(`${l.languageId}:::${l.bracketText}`)}n(r,"getId");const s=new Map;for(const l of e.bracketsNew.openingBrackets){const f=qt(0,l.bracketText.length),L=r(l),S=Pn.getEmpty().add(L,wi);s.set(l.bracketText,new lt(f,1,L,S,q.create(f,l,S)))}for(const l of e.bracketsNew.closingBrackets){const f=qt(0,l.bracketText.length);let L=Pn.getEmpty();const S=l.getOpeningBrackets();for(const X of S)L=L.add(r(X),wi);s.set(l.bracketText,new lt(f,2,r(S[0]),L,q.create(f,l,L)))}return new io(s)}constructor(e){this.map=e,this.hasRegExp=!1,this._regExpGlobal=null}getRegExpStr(){if(this.isEmpty)return null;{const e=[...this.map.keys()];return e.sort(),e.reverse(),e.map(t=>pi(t)).join("|")}}get regExpGlobal(){if(!this.hasRegExp){const e=this.getRegExpStr();this._regExpGlobal=e?new RegExp(e,"gi"):null,this.hasRegExp=!0}return this._regExpGlobal}getToken(e){return this.map.get(e.toLowerCase())}findClosingTokenText(e){for(const[t,r]of this.map)if(r.kind===2&&r.bracketIds.intersects(e))return t}get isEmpty(){return this.map.size===0}};n(io,"BracketTokens");let Wn=io;function pi(C){let e=(0,g.bm)(C);return/^[\w ]+/.test(C)&&(e=`\\b${e}`),/[\w ]+$/.test(C)&&(e=`${e}\\b`),e}n(pi,"brackets_prepareBracketForRegExp");const Ko=class Ko{constructor(e,t){this.denseKeyProvider=e,this.getLanguageConfiguration=t,this.languageIdToBracketTokens=new Map}didLanguageChange(e){return this.languageIdToBracketTokens.has(e)}getSingleLanguageBracketTokens(e){let t=this.languageIdToBracketTokens.get(e);return t||(t=Wn.createFromLanguage(this.getLanguageConfiguration(e),this.denseKeyProvider),this.languageIdToBracketTokens.set(e,t)),t}};n(Ko,"LanguageAgnosticBracketTokens");let tn=Ko;function Hn(C){if(C.length===0)return null;if(C.length===1)return C[0];let e=0;function t(){if(e>=C.length)return null;const f=e,L=C[f].listHeight;for(e++;e<C.length&&C[e].listHeight===L;)e++;return e-f>=2?Kn(f===0&&e===C.length?C:C.slice(f,e),!1):C[f]}n(t,"readNode");let r=t(),s=t();if(!s)return r;for(let f=t();f;f=t())ii(r,s)<=ii(s,f)?(r=it(r,s),s=f):s=it(s,f);return it(r,s)}n(Hn,"concat23Trees");function Kn(C,e=!1){if(C.length===0)return null;if(C.length===1)return C[0];let t=C.length;for(;t>3;){const r=t>>1;for(let s=0;s<r;s++){const l=s<<1;C[s]=Jn.create23(C[l],C[l+1],l+3===t?C[l+2]:null,e)}t=r}return Jn.create23(C[0],C[1],t>=3?C[2]:null,e)}n(Kn,"concat23TreesOfSameHeight");function ii(C,e){return Math.abs(C.listHeight-e.listHeight)}n(ii,"heightDiff");function it(C,e){return C.listHeight===e.listHeight?Jn.create23(C,e,null,!1):C.listHeight>e.listHeight?Bi(C,e):Ei(e,C)}n(it,"concat");function Bi(C,e){C=C.toMutable();let t=C;const r=[];let s;for(;;){if(e.listHeight===t.listHeight){s=e;break}if(t.kind!==4)throw new Error("unexpected");r.push(t),t=t.makeLastElementMutable()}for(let l=r.length-1;l>=0;l--){const f=r[l];s?f.childrenLength>=3?s=Jn.create23(f.unappendChild(),s,null,!1):(f.appendChildOfSameHeight(s),s=void 0):f.handleChildrenChanged()}return s?Jn.create23(C,s,null,!1):C}n(Bi,"append");function Ei(C,e){C=C.toMutable();let t=C;const r=[];for(;e.listHeight!==t.listHeight;){if(t.kind!==4)throw new Error("unexpected");r.push(t),t=t.makeFirstElementMutable()}let s=e;for(let l=r.length-1;l>=0;l--){const f=r[l];s?f.childrenLength>=3?s=Jn.create23(s,f.unprependChild(),null,!1):(f.prependChildOfSameHeight(s),s=void 0):f.handleChildrenChanged()}return s?Jn.create23(s,C,null,!1):C}n(Ei,"prepend");const ea=class ea{constructor(e){this.lastOffset=rt,this.nextNodes=[e],this.offsets=[rt],this.idxs=[]}readLongestNodeAt(e,t){if(Ci(e,this.lastOffset))throw new Error("Invalid offset");for(this.lastOffset=e;;){const r=Ri(this.nextNodes);if(!r)return;const s=Ri(this.offsets);if(Ci(e,s))return;if(Ci(s,e))if(kn(s,r.length)<=e)this.nextNodeAfterCurrent();else{const l=Xn(r);l!==-1?(this.nextNodes.push(r.getChild(l)),this.offsets.push(s),this.idxs.push(l)):this.nextNodeAfterCurrent()}else{if(t(r))return this.nextNodeAfterCurrent(),r;{const l=Xn(r);if(l===-1){this.nextNodeAfterCurrent();return}else this.nextNodes.push(r.getChild(l)),this.offsets.push(s),this.idxs.push(l)}}}}nextNodeAfterCurrent(){for(;;){const e=Ri(this.offsets),t=Ri(this.nextNodes);if(this.nextNodes.pop(),this.offsets.pop(),this.idxs.length===0)break;const r=Ri(this.nextNodes),s=Xn(r,this.idxs[this.idxs.length-1]);if(s!==-1){this.nextNodes.push(r.getChild(s)),this.offsets.push(kn(e,t.length)),this.idxs[this.idxs.length-1]=s;break}else this.idxs.pop()}}};n(ea,"NodeReader");let Pi=ea;function Xn(C,e=-1){for(;;){if(e++,e>=C.childrenLength)return-1;if(C.getChild(e))return e}}n(Xn,"getNextChildIdx");function Ri(C){return C.length>0?C[C.length-1]:void 0}n(Ri,"lastOrUndefined");function xr(C,e,t,r){return new Vi(C,e,t,r).parseDocument()}n(xr,"parseDocument");const ta=class ta{constructor(e,t,r,s){if(this.tokenizer=e,this.createImmutableLists=s,this._itemsConstructed=0,this._itemsFromCache=0,r&&s)throw new Error("Not supported");this.oldNodeReader=r?new Pi(r):void 0,this.positionMapper=new di(t)}parseDocument(){this._itemsConstructed=0,this._itemsFromCache=0;let e=this.parseList(Pn.getEmpty(),0);return e||(e=Jn.getEmpty()),e}parseList(e,t){const r=[];for(;;){let l=this.tryReadChildFromCache(e);if(!l){const f=this.tokenizer.peek();if(!f||f.kind===2&&f.bracketIds.intersects(e))break;l=this.parseChild(e,t+1)}l.kind===4&&l.childrenLength===0||r.push(l)}return this.oldNodeReader?Hn(r):Kn(r,this.createImmutableLists)}tryReadChildFromCache(e){if(this.oldNodeReader){const t=this.positionMapper.getDistanceToNextChange(this.tokenizer.offset);if(t===null||!un(t)){const r=this.oldNodeReader.readLongestNodeAt(this.positionMapper.getOffsetBeforeChange(this.tokenizer.offset),s=>t!==null&&!Ci(s.length,t)?!1:s.canBeReused(e));if(r)return this._itemsFromCache++,this.tokenizer.skip(r.length),r}}}parseChild(e,t){this._itemsConstructed++;const r=this.tokenizer.read();switch(r.kind){case 2:return new xe(r.bracketIds,r.length);case 0:return r.astNode;case 1:{if(t>300)return new Fe(r.length);const s=e.merge(r.bracketIds),l=this.parseList(s,t+1),f=this.tokenizer.peek();return f&&f.kind===2&&(f.bracketId===r.bracketId||f.bracketIds.intersects(r.bracketIds))?(this.tokenizer.read(),Ti.create(r.astNode,l,f.astNode)):Ti.create(r.astNode,l,null)}default:throw new Error("unexpected")}}};n(ta,"Parser");let Vi=ta;function wr(C,e){if(C.length===0)return e;if(e.length===0)return C;const t=new K.j3(lr(C)),r=lr(e);r.push({modified:!1,lengthBefore:void 0,lengthAfter:void 0});let s=t.dequeue();function l(X){if(X===void 0){const ge=t.takeWhile(ve=>!0)||[];return s&&ge.unshift(s),ge}const le=[];for(;s&&!un(X);){const[ge,ve]=s.splitAt(X);le.push(ge),X=ai(ge.lengthAfter,X),s=ve!=null?ve:t.dequeue()}return un(X)||le.push(new bi(!1,X,X)),le}n(l,"nextS0ToS1MapWithS1LengthOf");const f=[];function L(X,le,ge){if(f.length>0&&$i(f[f.length-1].endOffset,X)){const ve=f[f.length-1];f[f.length-1]=new hi(ve.startOffset,le,kn(ve.newLength,ge))}else f.push({startOffset:X,endOffset:le,newLength:ge})}n(L,"pushEdit");let S=rt;for(const X of r){const le=l(X.lengthBefore);if(X.modified){const ge=Zn(le,Be=>Be.lengthBefore),ve=kn(S,ge);L(S,ve,X.lengthAfter),S=ve}else for(const ge of le){const ve=S;S=kn(S,ge.lengthBefore),ge.modified&&L(ve,S,ge.lengthAfter)}}return f}n(wr,"combineTextEditInfos");const ss=class ss{constructor(e,t,r){this.modified=e,this.lengthBefore=t,this.lengthAfter=r}splitAt(e){const t=ai(e,this.lengthAfter);return $i(t,rt)?[this,void 0]:this.modified?[new ss(this.modified,this.lengthBefore,e),new ss(this.modified,rt,t)]:[new ss(this.modified,e,e),new ss(this.modified,t,t)]}toString(){return`${this.modified?"M":"U"}:${sn(this.lengthBefore)} -> ${sn(this.lengthAfter)}`}};n(ss,"LengthMapping");let bi=ss;function lr(C){const e=[];let t=rt;for(const r of C){const s=ai(t,r.startOffset);un(s)||e.push(new bi(!1,s,s));const l=ai(r.startOffset,r.endOffset);e.push(new bi(!0,l,r.newLength)),t=r.endOffset}return e}n(lr,"toLengthMapping");const na=class na extends ie.jG{didLanguageChange(e){return this.brackets.didLanguageChange(e)}constructor(e,t){if(super(),this.textModel=e,this.getLanguageConfiguration=t,this.didChangeEmitter=new F.vl,this.denseKeyProvider=new Gi,this.brackets=new tn(this.denseKeyProvider,this.getLanguageConfiguration),this.onDidChange=this.didChangeEmitter.event,this.queuedTextEditsForInitialAstWithoutTokens=[],this.queuedTextEdits=[],e.tokenization.hasTokens)e.tokenization.backgroundTokenizationState===2?(this.initialAstWithoutTokens=void 0,this.astWithTokens=this.parseDocumentFromTextBuffer([],void 0,!1)):(this.initialAstWithoutTokens=this.parseDocumentFromTextBuffer([],void 0,!0),this.astWithTokens=this.initialAstWithoutTokens);else{const r=this.brackets.getSingleLanguageBracketTokens(this.textModel.getLanguageId()),s=new ln(this.textModel.getValue(),r);this.initialAstWithoutTokens=xr(s,[],void 0,!0),this.astWithTokens=this.initialAstWithoutTokens}}handleDidChangeBackgroundTokenizationState(){if(this.textModel.tokenization.backgroundTokenizationState===2){const e=this.initialAstWithoutTokens===void 0;this.initialAstWithoutTokens=void 0,e||this.didChangeEmitter.fire()}}handleDidChangeTokens({ranges:e}){const t=e.map(r=>new hi(qt(r.fromLineNumber-1,0),qt(r.toLineNumber,0),qt(r.toLineNumber-r.fromLineNumber+1,0)));this.handleEdits(t,!0),this.initialAstWithoutTokens||this.didChangeEmitter.fire()}handleContentChanged(e){const t=hi.fromModelContentChanges(e.changes);this.handleEdits(t,!1)}handleEdits(e,t){const r=wr(this.queuedTextEdits,e);this.queuedTextEdits=r,this.initialAstWithoutTokens&&!t&&(this.queuedTextEditsForInitialAstWithoutTokens=wr(this.queuedTextEditsForInitialAstWithoutTokens,e))}flushQueue(){this.queuedTextEdits.length>0&&(this.astWithTokens=this.parseDocumentFromTextBuffer(this.queuedTextEdits,this.astWithTokens,!1),this.queuedTextEdits=[]),this.queuedTextEditsForInitialAstWithoutTokens.length>0&&(this.initialAstWithoutTokens&&(this.initialAstWithoutTokens=this.parseDocumentFromTextBuffer(this.queuedTextEditsForInitialAstWithoutTokens,this.initialAstWithoutTokens,!1)),this.queuedTextEditsForInitialAstWithoutTokens=[])}parseDocumentFromTextBuffer(e,t,r){const l=t,f=new vt(this.textModel,this.brackets);return xr(f,e,l,r)}getBracketsInRange(e,t){this.flushQueue();const r=qt(e.startLineNumber-1,e.startColumn-1),s=qt(e.endLineNumber-1,e.endColumn-1);return new K.c1(l=>{const f=this.initialAstWithoutTokens||this.astWithTokens;yr(f,rt,f.length,r,s,l,0,0,new Map,t)})}getBracketPairsInRange(e,t){this.flushQueue();const r=xi(e.getStartPosition()),s=xi(e.getEndPosition());return new K.c1(l=>{const f=this.initialAstWithoutTokens||this.astWithTokens,L=new ur(l,t,this.textModel);Qi(f,rt,f.length,r,s,L,0,new Map)})}getFirstBracketAfter(e){this.flushQueue();const t=this.initialAstWithoutTokens||this.astWithTokens;return er(t,rt,t.length,xi(e))}getFirstBracketBefore(e){this.flushQueue();const t=this.initialAstWithoutTokens||this.astWithTokens;return Vn(t,rt,t.length,xi(e))}};n(na,"BracketPairsTree");let zn=na;function Vn(C,e,t,r){if(C.kind===4||C.kind===2){const s=[];for(const l of C.children)t=kn(e,l.length),s.push({nodeOffsetStart:e,nodeOffsetEnd:t}),e=t;for(let l=s.length-1;l>=0;l--){const{nodeOffsetStart:f,nodeOffsetEnd:L}=s[l];if(Ci(f,r)){const S=Vn(C.children[l],f,L,r);if(S)return S}}return null}else{if(C.kind===3)return null;if(C.kind===1){const s=ni(e,t);return{bracketInfo:C.bracketInfo,range:s}}}return null}n(Vn,"getFirstBracketBefore");function er(C,e,t,r){if(C.kind===4||C.kind===2){for(const s of C.children){if(t=kn(e,s.length),Ci(r,t)){const l=er(s,e,t,r);if(l)return l}e=t}return null}else{if(C.kind===3)return null;if(C.kind===1){const s=ni(e,t);return{bracketInfo:C.bracketInfo,range:s}}}return null}n(er,"getFirstBracketAfter");function yr(C,e,t,r,s,l,f,L,S,X,le=!1){if(f>200)return!0;e:for(;;)switch(C.kind){case 4:{const ge=C.childrenLength;for(let ve=0;ve<ge;ve++){const Be=C.getChild(ve);if(Be){if(t=kn(e,Be.length),li(e,s)&&ci(t,r)){if(ci(t,s)){C=Be;continue e}if(!yr(Be,e,t,r,s,l,f,0,S,X))return!1}e=t}}return!0}case 2:{const ge=!X||!C.closingBracket||C.closingBracket.bracketInfo.closesColorized(C.openingBracket.bracketInfo);let ve=0;if(S){let ze=S.get(C.openingBracket.text);ze===void 0&&(ze=0),ve=ze,ge&&(ze++,S.set(C.openingBracket.text,ze))}const Be=C.childrenLength;for(let ze=0;ze<Be;ze++){const Ye=C.getChild(ze);if(Ye){if(t=kn(e,Ye.length),li(e,s)&&ci(t,r)){if(ci(t,s)&&Ye.kind!==1){C=Ye,ge?(f++,L=ve+1):L=ve;continue e}if((ge||Ye.kind!==1||!C.closingBracket)&&!yr(Ye,e,t,r,s,l,ge?f+1:f,ge?ve+1:ve,S,X,!C.closingBracket))return!1}e=t}}return S==null||S.set(C.openingBracket.text,ve),!0}case 3:{const ge=ni(e,t);return l(new cn(ge,f-1,0,!0))}case 1:{const ge=ni(e,t);return l(new cn(ge,f-1,L-1,le))}case 0:return!0}}n(yr,"collectBrackets");const ia=class ia{constructor(e,t,r){this.push=e,this.includeMinIndentation=t,this.textModel=r}};n(ia,"CollectBracketPairsContext");let ur=ia;function Qi(C,e,t,r,s,l,f,L){var X;if(f>200)return!0;let S=!0;if(C.kind===2){let le=0;if(L){let Be=L.get(C.openingBracket.text);Be===void 0&&(Be=0),le=Be,Be++,L.set(C.openingBracket.text,Be)}const ge=kn(e,C.openingBracket.length);let ve=-1;if(l.includeMinIndentation&&(ve=C.computeMinIndentation(e,l.textModel)),S=l.push(new T(ni(e,t),ni(e,ge),C.closingBracket?ni(kn(ge,((X=C.child)==null?void 0:X.length)||rt),t):void 0,f,le,C,ve)),e=ge,S&&C.child){const Be=C.child;if(t=kn(e,Be.length),li(e,s)&&ci(t,r)&&(S=Qi(Be,e,t,r,s,l,f+1,L),!S))return!1}L==null||L.set(C.openingBracket.text,le)}else{let le=e;for(const ge of C.children){const ve=le;if(le=kn(le,ge.length),li(ve,s)&&li(r,le)&&(S=Qi(ge,ve,le,r,s,l,f,L),!S))return!1}}return S}n(Qi,"collectBracketPairs");const ra=class ra extends ie.jG{get canBuildAST(){return this.textModel.getValueLength()<=5e6}constructor(e,t){super(),this.textModel=e,this.languageConfigurationService=t,this.bracketPairsTree=this._register(new ie.HE),this.onDidChangeEmitter=new F.vl,this.onDidChange=this.onDidChangeEmitter.event,this.bracketsRequested=!1}handleLanguageConfigurationServiceChange(e){var t;(!e.languageId||(t=this.bracketPairsTree.value)!=null&&t.object.didLanguageChange(e.languageId))&&(this.bracketPairsTree.clear(),this.updateBracketPairsTree())}handleDidChangeOptions(e){this.bracketPairsTree.clear(),this.updateBracketPairsTree()}handleDidChangeLanguage(e){this.bracketPairsTree.clear(),this.updateBracketPairsTree()}handleDidChangeContent(e){var t;(t=this.bracketPairsTree.value)==null||t.object.handleContentChanged(e)}handleDidChangeBackgroundTokenizationState(){var e;(e=this.bracketPairsTree.value)==null||e.object.handleDidChangeBackgroundTokenizationState()}handleDidChangeTokens(e){var t;(t=this.bracketPairsTree.value)==null||t.object.handleDidChangeTokens(e)}updateBracketPairsTree(){if(this.bracketsRequested&&this.canBuildAST){if(!this.bracketPairsTree.value){const e=new ie.Cm;this.bracketPairsTree.value=$n(e.add(new zn(this.textModel,t=>this.languageConfigurationService.getLanguageConfiguration(t))),e),e.add(this.bracketPairsTree.value.object.onDidChange(t=>this.onDidChangeEmitter.fire(t))),this.onDidChangeEmitter.fire()}}else this.bracketPairsTree.value&&(this.bracketPairsTree.clear(),this.onDidChangeEmitter.fire())}getBracketPairsInRange(e){var t;return this.bracketsRequested=!0,this.updateBracketPairsTree(),((t=this.bracketPairsTree.value)==null?void 0:t.object.getBracketPairsInRange(e,!1))||K.c1.empty}getBracketPairsInRangeWithMinIndentation(e){var t;return this.bracketsRequested=!0,this.updateBracketPairsTree(),((t=this.bracketPairsTree.value)==null?void 0:t.object.getBracketPairsInRange(e,!0))||K.c1.empty}getBracketsInRange(e,t=!1){var r;return this.bracketsRequested=!0,this.updateBracketPairsTree(),((r=this.bracketPairsTree.value)==null?void 0:r.object.getBracketsInRange(e,t))||K.c1.empty}findMatchingBracketUp(e,t,r){const s=this.textModel.validatePosition(t),l=this.textModel.getLanguageIdAtPosition(s.lineNumber,s.column);if(this.canBuildAST){const f=this.languageConfigurationService.getLanguageConfiguration(l).bracketsNew.getClosingBracketInfo(e);if(!f)return null;const L=this.getBracketPairsInRange(z.Q.fromPositions(t,t)).findLast(S=>f.closes(S.openingBracketInfo));return L?L.openingBracketRange:null}else{const f=e.toLowerCase(),L=this.languageConfigurationService.getLanguageConfiguration(l).brackets;if(!L)return null;const S=L.textIsBracket[f];return S?Ji(this._findMatchingBracketUp(S,s,Sr(r))):null}}matchBracket(e,t){if(this.canBuildAST){const r=this.getBracketPairsInRange(z.Q.fromPositions(e,e)).filter(s=>s.closingBracketRange!==void 0&&(s.openingBracketRange.containsPosition(e)||s.closingBracketRange.containsPosition(e))).findLastMaxBy((0,K.VE)(s=>s.openingBracketRange.containsPosition(e)?s.openingBracketRange:s.closingBracketRange,z.Q.compareRangesUsingStarts));return r?[r.openingBracketRange,r.closingBracketRange]:null}else{const r=Sr(t);return this._matchBracket(this.textModel.validatePosition(e),r)}}_establishBracketSearchOffsets(e,t,r,s){const l=t.getCount(),f=t.getLanguageId(s);let L=Math.max(0,e.column-1-r.maxBracketLength);for(let X=s-1;X>=0;X--){const le=t.getEndOffset(X);if(le<=L)break;if(m(t.getStandardTokenType(X))||t.getLanguageId(X)!==f){L=le;break}}let S=Math.min(t.getLineContent().length,e.column-1+r.maxBracketLength);for(let X=s+1;X<l;X++){const le=t.getStartOffset(X);if(le>=S)break;if(m(t.getStandardTokenType(X))||t.getLanguageId(X)!==f){S=le;break}}return{searchStartOffset:L,searchEndOffset:S}}_matchBracket(e,t){const r=e.lineNumber,s=this.textModel.tokenization.getLineTokens(r),l=this.textModel.getLineContent(r),f=s.findTokenIndexAtOffset(e.column-1);if(f<0)return null;const L=this.languageConfigurationService.getLanguageConfiguration(s.getLanguageId(f)).brackets;if(L&&!m(s.getStandardTokenType(f))){let{searchStartOffset:S,searchEndOffset:X}=this._establishBracketSearchOffsets(e,s,L,f),le=null;for(;;){const ge=ot.findNextBracketInRange(L.forwardRegex,r,l,S,X);if(!ge)break;if(ge.startColumn<=e.column&&e.column<=ge.endColumn){const ve=l.substring(ge.startColumn-1,ge.endColumn-1).toLowerCase(),Be=this._matchFoundBracket(ge,L.textIsBracket[ve],L.textIsOpenBracket[ve],t);if(Be){if(Be instanceof Gn)return null;le=Be}}S=ge.endColumn-1}if(le)return le}if(f>0&&s.getStartOffset(f)===e.column-1){const S=f-1,X=this.languageConfigurationService.getLanguageConfiguration(s.getLanguageId(S)).brackets;if(X&&!m(s.getStandardTokenType(S))){const{searchStartOffset:le,searchEndOffset:ge}=this._establishBracketSearchOffsets(e,s,X,S),ve=ot.findPrevBracketInRange(X.reversedRegex,r,l,le,ge);if(ve&&ve.startColumn<=e.column&&e.column<=ve.endColumn){const Be=l.substring(ve.startColumn-1,ve.endColumn-1).toLowerCase(),ze=this._matchFoundBracket(ve,X.textIsBracket[Be],X.textIsOpenBracket[Be],t);if(ze)return ze instanceof Gn?null:ze}}}return null}_matchFoundBracket(e,t,r,s){if(!t)return null;const l=r?this._findMatchingBracketDown(t,e.getEndPosition(),s):this._findMatchingBracketUp(t,e.getStartPosition(),s);return l?l instanceof Gn?l:[e,l]:null}_findMatchingBracketUp(e,t,r){const s=e.languageId,l=e.reversedRegex;let f=-1,L=0;const S=n((X,le,ge,ve)=>{for(;;){if(r&&++L%100===0&&!r())return Gn.INSTANCE;const Be=ot.findPrevBracketInRange(l,X,le,ge,ve);if(!Be)break;const ze=le.substring(Be.startColumn-1,Be.endColumn-1).toLowerCase();if(e.isOpen(ze)?f++:e.isClose(ze)&&f--,f===0)return Be;ve=Be.startColumn-1}return null},"searchPrevMatchingBracketInRange");for(let X=t.lineNumber;X>=1;X--){const le=this.textModel.tokenization.getLineTokens(X),ge=le.getCount(),ve=this.textModel.getLineContent(X);let Be=ge-1,ze=ve.length,Ye=ve.length;X===t.lineNumber&&(Be=le.findTokenIndexAtOffset(t.column-1),ze=t.column-1,Ye=t.column-1);let tt=!0;for(;Be>=0;Be--){const Ct=le.getLanguageId(Be)===s&&!m(le.getStandardTokenType(Be));if(Ct)tt?ze=le.getStartOffset(Be):(ze=le.getStartOffset(Be),Ye=le.getEndOffset(Be));else if(tt&&ze!==Ye){const Ot=S(X,ve,ze,Ye);if(Ot)return Ot}tt=Ct}if(tt&&ze!==Ye){const Ct=S(X,ve,ze,Ye);if(Ct)return Ct}}return null}_findMatchingBracketDown(e,t,r){const s=e.languageId,l=e.forwardRegex;let f=1,L=0;const S=n((le,ge,ve,Be)=>{for(;;){if(r&&++L%100===0&&!r())return Gn.INSTANCE;const ze=ot.findNextBracketInRange(l,le,ge,ve,Be);if(!ze)break;const Ye=ge.substring(ze.startColumn-1,ze.endColumn-1).toLowerCase();if(e.isOpen(Ye)?f++:e.isClose(Ye)&&f--,f===0)return ze;ve=ze.endColumn-1}return null},"searchNextMatchingBracketInRange"),X=this.textModel.getLineCount();for(let le=t.lineNumber;le<=X;le++){const ge=this.textModel.tokenization.getLineTokens(le),ve=ge.getCount(),Be=this.textModel.getLineContent(le);let ze=0,Ye=0,tt=0;le===t.lineNumber&&(ze=ge.findTokenIndexAtOffset(t.column-1),Ye=t.column-1,tt=t.column-1);let Ct=!0;for(;ze<ve;ze++){const Ot=ge.getLanguageId(ze)===s&&!m(ge.getStandardTokenType(ze));if(Ot)Ct||(Ye=ge.getStartOffset(ze)),tt=ge.getEndOffset(ze);else if(Ct&&Ye!==tt){const Jt=S(le,Be,Ye,tt);if(Jt)return Jt}Ct=Ot}if(Ct&&Ye!==tt){const Ot=S(le,Be,Ye,tt);if(Ot)return Ot}}return null}findPrevBracket(e){var f;const t=this.textModel.validatePosition(e);if(this.canBuildAST)return this.bracketsRequested=!0,this.updateBracketPairsTree(),((f=this.bracketPairsTree.value)==null?void 0:f.object.getFirstBracketBefore(t))||null;let r=null,s=null,l=null;for(let L=t.lineNumber;L>=1;L--){const S=this.textModel.tokenization.getLineTokens(L),X=S.getCount(),le=this.textModel.getLineContent(L);let ge=X-1,ve=le.length,Be=le.length;if(L===t.lineNumber){ge=S.findTokenIndexAtOffset(t.column-1),ve=t.column-1,Be=t.column-1;const Ye=S.getLanguageId(ge);r!==Ye&&(r=Ye,s=this.languageConfigurationService.getLanguageConfiguration(r).brackets,l=this.languageConfigurationService.getLanguageConfiguration(r).bracketsNew)}let ze=!0;for(;ge>=0;ge--){const Ye=S.getLanguageId(ge);if(r!==Ye){if(s&&l&&ze&&ve!==Be){const Ct=ot.findPrevBracketInRange(s.reversedRegex,L,le,ve,Be);if(Ct)return this._toFoundBracket(l,Ct);ze=!1}r=Ye,s=this.languageConfigurationService.getLanguageConfiguration(r).brackets,l=this.languageConfigurationService.getLanguageConfiguration(r).bracketsNew}const tt=!!s&&!m(S.getStandardTokenType(ge));if(tt)ze?ve=S.getStartOffset(ge):(ve=S.getStartOffset(ge),Be=S.getEndOffset(ge));else if(l&&s&&ze&&ve!==Be){const Ct=ot.findPrevBracketInRange(s.reversedRegex,L,le,ve,Be);if(Ct)return this._toFoundBracket(l,Ct)}ze=tt}if(l&&s&&ze&&ve!==Be){const Ye=ot.findPrevBracketInRange(s.reversedRegex,L,le,ve,Be);if(Ye)return this._toFoundBracket(l,Ye)}}return null}findNextBracket(e){var L;const t=this.textModel.validatePosition(e);if(this.canBuildAST)return this.bracketsRequested=!0,this.updateBracketPairsTree(),((L=this.bracketPairsTree.value)==null?void 0:L.object.getFirstBracketAfter(t))||null;const r=this.textModel.getLineCount();let s=null,l=null,f=null;for(let S=t.lineNumber;S<=r;S++){const X=this.textModel.tokenization.getLineTokens(S),le=X.getCount(),ge=this.textModel.getLineContent(S);let ve=0,Be=0,ze=0;if(S===t.lineNumber){ve=X.findTokenIndexAtOffset(t.column-1),Be=t.column-1,ze=t.column-1;const tt=X.getLanguageId(ve);s!==tt&&(s=tt,l=this.languageConfigurationService.getLanguageConfiguration(s).brackets,f=this.languageConfigurationService.getLanguageConfiguration(s).bracketsNew)}let Ye=!0;for(;ve<le;ve++){const tt=X.getLanguageId(ve);if(s!==tt){if(f&&l&&Ye&&Be!==ze){const Ot=ot.findNextBracketInRange(l.forwardRegex,S,ge,Be,ze);if(Ot)return this._toFoundBracket(f,Ot);Ye=!1}s=tt,l=this.languageConfigurationService.getLanguageConfiguration(s).brackets,f=this.languageConfigurationService.getLanguageConfiguration(s).bracketsNew}const Ct=!!l&&!m(X.getStandardTokenType(ve));if(Ct)Ye||(Be=X.getStartOffset(ve)),ze=X.getEndOffset(ve);else if(f&&l&&Ye&&Be!==ze){const Ot=ot.findNextBracketInRange(l.forwardRegex,S,ge,Be,ze);if(Ot)return this._toFoundBracket(f,Ot)}Ye=Ct}if(f&&l&&Ye&&Be!==ze){const tt=ot.findNextBracketInRange(l.forwardRegex,S,ge,Be,ze);if(tt)return this._toFoundBracket(f,tt)}}return null}findEnclosingBrackets(e,t){const r=this.textModel.validatePosition(e);if(this.canBuildAST){const Be=z.Q.fromPositions(r),ze=this.getBracketPairsInRange(z.Q.fromPositions(r,r)).findLast(Ye=>Ye.closingBracketRange!==void 0&&Ye.range.strictContainsRange(Be));return ze?[ze.openingBracketRange,ze.closingBracketRange]:null}const s=Sr(t),l=this.textModel.getLineCount(),f=new Map;let L=[];const S=n((Be,ze)=>{if(!f.has(Be)){const Ye=[];for(let tt=0,Ct=ze?ze.brackets.length:0;tt<Ct;tt++)Ye[tt]=0;f.set(Be,Ye)}L=f.get(Be)},"resetCounts");let X=0;const le=n((Be,ze,Ye,tt,Ct)=>{for(;;){if(s&&++X%100===0&&!s())return Gn.INSTANCE;const Ot=ot.findNextBracketInRange(Be.forwardRegex,ze,Ye,tt,Ct);if(!Ot)break;const Jt=Ye.substring(Ot.startColumn-1,Ot.endColumn-1).toLowerCase(),fn=Be.textIsBracket[Jt];if(fn&&(fn.isOpen(Jt)?L[fn.index]++:fn.isClose(Jt)&&L[fn.index]--,L[fn.index]===-1))return this._matchFoundBracket(Ot,fn,!1,s);tt=Ot.endColumn-1}return null},"searchInRange");let ge=null,ve=null;for(let Be=r.lineNumber;Be<=l;Be++){const ze=this.textModel.tokenization.getLineTokens(Be),Ye=ze.getCount(),tt=this.textModel.getLineContent(Be);let Ct=0,Ot=0,Jt=0;if(Be===r.lineNumber){Ct=ze.findTokenIndexAtOffset(r.column-1),Ot=r.column-1,Jt=r.column-1;const Bn=ze.getLanguageId(Ct);ge!==Bn&&(ge=Bn,ve=this.languageConfigurationService.getLanguageConfiguration(ge).brackets,S(ge,ve))}let fn=!0;for(;Ct<Ye;Ct++){const Bn=ze.getLanguageId(Ct);if(ge!==Bn){if(ve&&fn&&Ot!==Jt){const Nn=le(ve,Be,tt,Ot,Jt);if(Nn)return Ji(Nn);fn=!1}ge=Bn,ve=this.languageConfigurationService.getLanguageConfiguration(ge).brackets,S(ge,ve)}const jn=!!ve&&!m(ze.getStandardTokenType(Ct));if(jn)fn||(Ot=ze.getStartOffset(Ct)),Jt=ze.getEndOffset(Ct);else if(ve&&fn&&Ot!==Jt){const Nn=le(ve,Be,tt,Ot,Jt);if(Nn)return Ji(Nn)}fn=jn}if(ve&&fn&&Ot!==Jt){const Bn=le(ve,Be,tt,Ot,Jt);if(Bn)return Ji(Bn)}}return null}_toFoundBracket(e,t){if(!t)return null;let r=this.textModel.getValueInRange(t);r=r.toLowerCase();const s=e.getBracketInfo(r);return s?{range:t,bracketInfo:s}:null}};n(ra,"BracketPairsTextModelPart");let Wi=ra;function $n(C,e){return{object:C,dispose:n(()=>e==null?void 0:e.dispose(),"dispose")}}n($n,"createDisposableRef");function Sr(C){if(typeof C=="undefined")return()=>!0;{const e=Date.now();return()=>Date.now()-e<=C}}n(Sr,"createTimeBasedContinueBracketSearchPredicate");const Ss=class Ss{constructor(){this._searchCanceledBrand=void 0}};n(Ss,"BracketSearchCanceled"),Ss.INSTANCE=new Ss;let Gn=Ss;function Ji(C){return C instanceof Gn?null:C}n(Ji,"stripBracketSearchCanceled");var Oi=E(8295),Er=E(5295);const sa=class sa extends ie.jG{constructor(e){super(),this.textModel=e,this.colorProvider=new On,this.onDidChangeEmitter=new F.vl,this.onDidChange=this.onDidChangeEmitter.event,this.colorizationOptions=e.getOptions().bracketPairColorizationOptions,this._register(e.bracketPairs.onDidChange(t=>{this.onDidChangeEmitter.fire()}))}handleDidChangeOptions(e){this.colorizationOptions=this.textModel.getOptions().bracketPairColorizationOptions}getDecorationsInRange(e,t,r,s){return s?[]:t===void 0?[]:this.colorizationOptions.enabled?this.textModel.bracketPairs.getBracketsInRange(e,!0).map(f=>({id:`bracket${f.range.toString()}-${f.nestingLevel}`,options:{description:"BracketPairColorization",inlineClassName:this.colorProvider.getInlineClassName(f,this.colorizationOptions.independentColorPoolPerBracketType)},ownerId:0,range:f.range})).toArray():[]}getAllDecorations(e,t){return e===void 0?[]:this.colorizationOptions.enabled?this.getDecorationsInRange(new z.Q(1,1,this.textModel.getLineCount(),1),e,t):[]}};n(sa,"ColorizedBracketPairsDecorationProvider");let tr=sa;const oa=class oa{constructor(){this.unexpectedClosingBracketClassName="unexpected-closing-bracket"}getInlineClassName(e,t){return e.isInvalid?this.unexpectedClosingBracketClassName:this.getInlineClassNameOfLevel(t?e.nestingLevelOfEqualBracketType:e.nestingLevel)}getInlineClassNameOfLevel(e){return`bracket-highlighting-${e%30}`}};n(oa,"ColorProvider");let On=oa;(0,Er.zy)((C,e)=>{const t=[Oi.sN,Oi.lQ,Oi.ss,Oi.l5,Oi.sH,Oi.zp],r=new On;e.addRule(`.monaco-editor .${r.unexpectedClosingBracketClassName} { color: ${C.getColor(Oi.s7)}; }`);const s=t.map(l=>C.getColor(l)).filter(l=>!!l).filter(l=>!l.isTransparent());for(let l=0;l<30;l++){const f=s[l%s.length];e.addRule(`.monaco-editor .${r.getInlineClassNameOfLevel(l)} { color: ${f}; }`)}});var zr=E(9746);function Me(C){return C.replace(/\n/g,"\\n").replace(/\r/g,"\\r")}n(Me,"escapeNewLine");const or=class or{get oldLength(){return this.oldText.length}get oldEnd(){return this.oldPosition+this.oldText.length}get newLength(){return this.newText.length}get newEnd(){return this.newPosition+this.newText.length}constructor(e,t,r,s){this.oldPosition=e,this.oldText=t,this.newPosition=r,this.newText=s}toString(){return this.oldText.length===0?`(insert@${this.oldPosition} "${Me(this.newText)}")`:this.newText.length===0?`(delete@${this.oldPosition} "${Me(this.oldText)}")`:`(replace@${this.oldPosition} "${Me(this.oldText)}" with "${Me(this.newText)}")`}static _writeStringSize(e){return 4+2*e.length}static _writeString(e,t,r){const s=t.length;_.Sw(e,s,r),r+=4;for(let l=0;l<s;l++)_.gN(e,t.charCodeAt(l),r),r+=2;return r}static _readString(e,t){const r=_.bb(e,t);return t+=4,ue(e,t,r)}writeSize(){return 8+or._writeStringSize(this.oldText)+or._writeStringSize(this.newText)}write(e,t){return _.Sw(e,this.oldPosition,t),t+=4,_.Sw(e,this.newPosition,t),t+=4,t=or._writeString(e,this.oldText,t),t=or._writeString(e,this.newText,t),t}static read(e,t,r){const s=_.bb(e,t);t+=4;const l=_.bb(e,t);t+=4;const f=or._readString(e,t);t+=or._writeStringSize(f);const L=or._readString(e,t);return t+=or._writeStringSize(L),r.push(new or(s,f,l,L)),t}};n(or,"TextChange");let p=or;function k(C,e){return C===null||C.length===0?e:new H(C,e).compress()}n(k,"compressConsecutiveTextChanges");const kr=class kr{constructor(e,t){this._prevEdits=e,this._currEdits=t,this._result=[],this._resultLen=0,this._prevLen=this._prevEdits.length,this._prevDeltaOffset=0,this._currLen=this._currEdits.length,this._currDeltaOffset=0}compress(){let e=0,t=0,r=this._getPrev(e),s=this._getCurr(t);for(;e<this._prevLen||t<this._currLen;){if(r===null){this._acceptCurr(s),s=this._getCurr(++t);continue}if(s===null){this._acceptPrev(r),r=this._getPrev(++e);continue}if(s.oldEnd<=r.newPosition){this._acceptCurr(s),s=this._getCurr(++t);continue}if(r.newEnd<=s.oldPosition){this._acceptPrev(r),r=this._getPrev(++e);continue}if(s.oldPosition<r.newPosition){const[X,le]=kr._splitCurr(s,r.newPosition-s.oldPosition);this._acceptCurr(X),s=le;continue}if(r.newPosition<s.oldPosition){const[X,le]=kr._splitPrev(r,s.oldPosition-r.newPosition);this._acceptPrev(X),r=le;continue}let L,S;if(s.oldEnd===r.newEnd)L=r,S=s,r=this._getPrev(++e),s=this._getCurr(++t);else if(s.oldEnd<r.newEnd){const[X,le]=kr._splitPrev(r,s.oldLength);L=X,S=s,r=le,s=this._getCurr(++t)}else{const[X,le]=kr._splitCurr(s,r.newLength);L=r,S=X,r=this._getPrev(++e),s=le}this._result[this._resultLen++]=new p(L.oldPosition,L.oldText,S.newPosition,S.newText),this._prevDeltaOffset+=L.newLength-L.oldLength,this._currDeltaOffset+=S.newLength-S.oldLength}const l=kr._merge(this._result);return kr._removeNoOps(l)}_acceptCurr(e){this._result[this._resultLen++]=kr._rebaseCurr(this._prevDeltaOffset,e),this._currDeltaOffset+=e.newLength-e.oldLength}_getCurr(e){return e<this._currLen?this._currEdits[e]:null}_acceptPrev(e){this._result[this._resultLen++]=kr._rebasePrev(this._currDeltaOffset,e),this._prevDeltaOffset+=e.newLength-e.oldLength}_getPrev(e){return e<this._prevLen?this._prevEdits[e]:null}static _rebaseCurr(e,t){return new p(t.oldPosition-e,t.oldText,t.newPosition,t.newText)}static _rebasePrev(e,t){return new p(t.oldPosition,t.oldText,t.newPosition+e,t.newText)}static _splitPrev(e,t){const r=e.newText.substr(0,t),s=e.newText.substr(t);return[new p(e.oldPosition,e.oldText,e.newPosition,r),new p(e.oldEnd,"",e.newPosition+t,s)]}static _splitCurr(e,t){const r=e.oldText.substr(0,t),s=e.oldText.substr(t);return[new p(e.oldPosition,r,e.newPosition,e.newText),new p(e.oldPosition+t,s,e.newEnd,"")]}static _merge(e){if(e.length===0)return e;const t=[];let r=0,s=e[0];for(let l=1;l<e.length;l++){const f=e[l];s.oldEnd===f.oldPosition?s=new p(s.oldPosition,s.oldText+f.oldText,s.newPosition,s.newText+f.newText):(t[r++]=s,s=f)}return t[r++]=s,t}static _removeNoOps(e){if(e.length===0)return e;const t=[];let r=0;for(let s=0;s<e.length;s++){const l=e[s];l.oldText!==l.newText&&(t[r++]=l)}return t}};n(kr,"TextChangeCompressor");let H=kr;var re=E(2467);function ae(C){return C.toString()}n(ae,"uriGetComparisonKey");const Lr=class Lr{static create(e,t){const r=e.getAlternativeVersionId(),s=De(e);return new Lr(r,r,s,s,t,t,[])}constructor(e,t,r,s,l,f,L){this.beforeVersionId=e,this.afterVersionId=t,this.beforeEOL=r,this.afterEOL=s,this.beforeCursorState=l,this.afterCursorState=f,this.changes=L}append(e,t,r,s,l){t.length>0&&(this.changes=k(this.changes,t)),this.afterEOL=r,this.afterVersionId=s,this.afterCursorState=l}static _writeSelectionsSize(e){return 4+16*(e?e.length:0)}static _writeSelections(e,t,r){if(_.Sw(e,t?t.length:0,r),r+=4,t)for(const s of t)_.Sw(e,s.selectionStartLineNumber,r),r+=4,_.Sw(e,s.selectionStartColumn,r),r+=4,_.Sw(e,s.positionLineNumber,r),r+=4,_.Sw(e,s.positionColumn,r),r+=4;return r}static _readSelections(e,t,r){const s=_.bb(e,t);t+=4;for(let l=0;l<s;l++){const f=_.bb(e,t);t+=4;const L=_.bb(e,t);t+=4;const S=_.bb(e,t);t+=4;const X=_.bb(e,t);t+=4,r.push(new U.L(f,L,S,X))}return t}serialize(){let e=10+Lr._writeSelectionsSize(this.beforeCursorState)+Lr._writeSelectionsSize(this.afterCursorState)+4;for(const s of this.changes)e+=s.writeSize();const t=new Uint8Array(e);let r=0;_.Sw(t,this.beforeVersionId,r),r+=4,_.Sw(t,this.afterVersionId,r),r+=4,_.Gs(t,this.beforeEOL,r),r+=1,_.Gs(t,this.afterEOL,r),r+=1,r=Lr._writeSelections(t,this.beforeCursorState,r),r=Lr._writeSelections(t,this.afterCursorState,r),_.Sw(t,this.changes.length,r),r+=4;for(const s of this.changes)r=s.write(t,r);return t.buffer}static deserialize(e){const t=new Uint8Array(e);let r=0;const s=_.bb(t,r);r+=4;const l=_.bb(t,r);r+=4;const f=_.pJ(t,r);r+=1;const L=_.pJ(t,r);r+=1;const S=[];r=Lr._readSelections(t,r,S);const X=[];r=Lr._readSelections(t,r,X);const le=_.bb(t,r);r+=4;const ge=[];for(let ve=0;ve<le;ve++)r=p.read(t,r,ge);return new Lr(s,l,f,L,S,X,ge)}};n(Lr,"SingleModelEditStackData");let _e=Lr;const aa=class aa{get type(){return 0}get resource(){return Y.r.isUri(this.model)?this.model:this.model.uri}constructor(e,t,r,s){this.label=e,this.code=t,this.model=r,this._data=_e.create(r,s)}toString(){return(this._data instanceof _e?this._data:_e.deserialize(this._data)).changes.map(t=>t.toString()).join(", ")}matchesResource(e){return(Y.r.isUri(this.model)?this.model:this.model.uri).toString()===e.toString()}setModel(e){this.model=e}canAppend(e){return this.model===e&&this._data instanceof _e}append(e,t,r,s,l){this._data instanceof _e&&this._data.append(e,t,r,s,l)}close(){this._data instanceof _e&&(this._data=this._data.serialize())}open(){this._data instanceof _e||(this._data=_e.deserialize(this._data))}undo(){if(Y.r.isUri(this.model))throw new Error("Invalid SingleModelEditStackElement");this._data instanceof _e&&(this._data=this._data.serialize());const e=_e.deserialize(this._data);this.model._applyUndo(e.changes,e.beforeEOL,e.beforeVersionId,e.beforeCursorState)}redo(){if(Y.r.isUri(this.model))throw new Error("Invalid SingleModelEditStackElement");this._data instanceof _e&&(this._data=this._data.serialize());const e=_e.deserialize(this._data);this.model._applyRedo(e.changes,e.afterEOL,e.afterVersionId,e.afterCursorState)}heapSize(){return this._data instanceof _e&&(this._data=this._data.serialize()),this._data.byteLength+168}};n(aa,"SingleModelEditStackElement");let Ie=aa;const la=class la{get resources(){return this._editStackElementsArr.map(e=>e.resource)}constructor(e,t,r){this.label=e,this.code=t,this.type=1,this._isOpen=!0,this._editStackElementsArr=r.slice(0),this._editStackElementsMap=new Map;for(const s of this._editStackElementsArr){const l=ae(s.resource);this._editStackElementsMap.set(l,s)}this._delegate=null}prepareUndoRedo(){if(this._delegate)return this._delegate.prepareUndoRedo(this)}matchesResource(e){const t=ae(e);return this._editStackElementsMap.has(t)}setModel(e){const t=ae(Y.r.isUri(e)?e:e.uri);this._editStackElementsMap.has(t)&&this._editStackElementsMap.get(t).setModel(e)}canAppend(e){if(!this._isOpen)return!1;const t=ae(e.uri);return this._editStackElementsMap.has(t)?this._editStackElementsMap.get(t).canAppend(e):!1}append(e,t,r,s,l){const f=ae(e.uri);this._editStackElementsMap.get(f).append(e,t,r,s,l)}close(){this._isOpen=!1}open(){}undo(){this._isOpen=!1;for(const e of this._editStackElementsArr)e.undo()}redo(){for(const e of this._editStackElementsArr)e.redo()}heapSize(e){const t=ae(e);return this._editStackElementsMap.has(t)?this._editStackElementsMap.get(t).heapSize():0}split(){return this._editStackElementsArr}toString(){const e=[];for(const t of this._editStackElementsArr)e.push(`${(0,re.P8)(t.resource)}: ${t}`);return`{${e.join(", ")}}`}};n(la,"MultiModelEditStackElement");let Ee=la;function De(C){return C.getEOL()===`
`?0:1}n(De,"getModelEOL");function Qe(C){return C?C instanceof Ie||C instanceof Ee:!1}n(Qe,"isEditStackElement");const ro=class ro{constructor(e,t){this._model=e,this._undoRedoService=t}pushStackElement(){const e=this._undoRedoService.getLastElement(this._model.uri);Qe(e)&&e.close()}popStackElement(){const e=this._undoRedoService.getLastElement(this._model.uri);Qe(e)&&e.open()}clear(){this._undoRedoService.removeElements(this._model.uri)}_getOrCreateEditStackElement(e,t){const r=this._undoRedoService.getLastElement(this._model.uri);if(Qe(r)&&r.canAppend(this._model))return r;const s=new Ie(zr.kg("edit","Typing"),"undoredo.textBufferEdit",this._model,e);return this._undoRedoService.pushElement(s,t),s}pushEOL(e){const t=this._getOrCreateEditStackElement(null,void 0);this._model.setEOL(e),t.append(this._model,[],De(this._model),this._model.getAlternativeVersionId(),null)}pushEditOperation(e,t,r,s){const l=this._getOrCreateEditStackElement(e,s),f=this._model.applyEdits(t,!0),L=ro._computeCursorState(r,f),S=f.map((X,le)=>({index:le,textChange:X.textChange}));return S.sort((X,le)=>X.textChange.oldPosition===le.textChange.oldPosition?X.index-le.index:X.textChange.oldPosition-le.textChange.oldPosition),l.append(this._model,S.map(X=>X.textChange),De(this._model),this._model.getAlternativeVersionId(),L),L}static _computeCursorState(e,t){try{return e?e(t):null}catch(r){return(0,N.dz)(r),null}}};n(ro,"EditStack");let Ke=ro;var et=E(7393);const ua=class ua extends ie.jG{constructor(){super(...arguments),this._isDisposed=!1}dispose(){super.dispose(),this._isDisposed=!0}assertNotDisposed(){if(this._isDisposed)throw new Error("TextModelPart is disposed!")}};n(ua,"TextModelPart");let st=ua;function gt(C,e){let t=0,r=0;const s=C.length;for(;r<s;){const l=C.charCodeAt(r);if(l===32)t++;else if(l===9)t=t-t%e+e;else break;r++}return r===s?-1:t}n(gt,"computeIndentLevel");var _t;(function(C){C[C.Disabled=0]="Disabled",C[C.EnabledForActive=1]="EnabledForActive",C[C.Enabled=2]="Enabled"})(_t||(_t={}));const ca=class ca{constructor(e,t,r,s,l,f){if(this.visibleColumn=e,this.column=t,this.className=r,this.horizontalLine=s,this.forWrappedLinesAfterColumn=l,this.forWrappedLinesBeforeOrAtColumn=f,e!==-1==(t!==-1))throw new Error}};n(ca,"IndentGuide");let Rt=ca;const ha=class ha{constructor(e,t){this.top=e,this.endColumn=t}};n(ha,"IndentGuideHorizontalLine");let Et=ha;const da=class da extends st{constructor(e,t){super(),this.textModel=e,this.languageConfigurationService=t}getLanguageConfiguration(e){return this.languageConfigurationService.getLanguageConfiguration(e)}_computeIndentLevel(e){return gt(this.textModel.getLineContent(e+1),this.textModel.getOptions().tabSize)}getActiveIndentGuide(e,t,r){this.assertNotDisposed();const s=this.textModel.getLineCount();if(e<1||e>s)throw new N.D7("Illegal value for lineNumber");const l=this.getLanguageConfiguration(this.textModel.getLanguageId()).foldingRules,f=!!(l&&l.offSide);let L=-2,S=-1,X=-2,le=-1;const ge=n(Nn=>{if(L!==-1&&(L===-2||L>Nn-1)){L=-1,S=-1;for(let Cn=Nn-2;Cn>=0;Cn--){const yn=this._computeIndentLevel(Cn);if(yn>=0){L=Cn,S=yn;break}}}if(X===-2){X=-1,le=-1;for(let Cn=Nn;Cn<s;Cn++){const yn=this._computeIndentLevel(Cn);if(yn>=0){X=Cn,le=yn;break}}}},"up_resolveIndents");let ve=-2,Be=-1,ze=-2,Ye=-1;const tt=n(Nn=>{if(ve===-2){ve=-1,Be=-1;for(let Cn=Nn-2;Cn>=0;Cn--){const yn=this._computeIndentLevel(Cn);if(yn>=0){ve=Cn,Be=yn;break}}}if(ze!==-1&&(ze===-2||ze<Nn-1)){ze=-1,Ye=-1;for(let Cn=Nn;Cn<s;Cn++){const yn=this._computeIndentLevel(Cn);if(yn>=0){ze=Cn,Ye=yn;break}}}},"down_resolveIndents");let Ct=0,Ot=!0,Jt=0,fn=!0,Bn=0,jn=0;for(let Nn=0;Ot||fn;Nn++){const Cn=e-Nn,yn=e+Nn;Nn>1&&(Cn<1||Cn<t)&&(Ot=!1),Nn>1&&(yn>s||yn>r)&&(fn=!1),Nn>5e4&&(Ot=!1,fn=!1);let Hi=-1;if(Ot&&Cn>=1){const Cr=this._computeIndentLevel(Cn-1);Cr>=0?(X=Cn-1,le=Cr,Hi=Math.ceil(Cr/this.textModel.getOptions().indentSize)):(ge(Cn),Hi=this._getIndentLevelForWhitespaceLine(f,S,le))}let si=-1;if(fn&&yn<=s){const Cr=this._computeIndentLevel(yn-1);Cr>=0?(ve=yn-1,Be=Cr,si=Math.ceil(Cr/this.textModel.getOptions().indentSize)):(tt(yn),si=this._getIndentLevelForWhitespaceLine(f,Be,Ye))}if(Nn===0){jn=Hi;continue}if(Nn===1){if(yn<=s&&si>=0&&jn+1===si){Ot=!1,Ct=yn,Jt=yn,Bn=si;continue}if(Cn>=1&&Hi>=0&&Hi-1===jn){fn=!1,Ct=Cn,Jt=Cn,Bn=Hi;continue}if(Ct=e,Jt=e,Bn=jn,Bn===0)return{startLineNumber:Ct,endLineNumber:Jt,indent:Bn}}Ot&&(Hi>=Bn?Ct=Cn:Ot=!1),fn&&(si>=Bn?Jt=yn:fn=!1)}return{startLineNumber:Ct,endLineNumber:Jt,indent:Bn}}getLinesBracketGuides(e,t,r,s){var ge;const l=[];for(let ve=e;ve<=t;ve++)l.push([]);const f=!0,L=this.textModel.bracketPairs.getBracketPairsInRangeWithMinIndentation(new z.Q(e,1,t,this.textModel.getLineMaxColumn(t))).toArray();let S;if(r&&L.length>0){const ve=(e<=r.lineNumber&&r.lineNumber<=t?L:this.textModel.bracketPairs.getBracketPairsInRange(z.Q.fromPositions(r)).toArray()).filter(Be=>z.Q.strictContainsPosition(Be.range,r));S=(ge=(0,et.Uk)(ve,Be=>f||Be.range.startLineNumber!==Be.range.endLineNumber))==null?void 0:ge.range}const X=this.textModel.getOptions().bracketPairColorizationOptions.independentColorPoolPerBracketType,le=new Vt;for(const ve of L){if(!ve.closingBracketRange)continue;const Be=S&&ve.range.equalsRange(S);if(!Be&&!s.includeInactive)continue;const ze=le.getInlineClassName(ve.nestingLevel,ve.nestingLevelOfEqualBracketType,X)+(s.highlightActive&&Be?" "+le.activeClassName:""),Ye=ve.openingBracketRange.getStartPosition(),tt=ve.closingBracketRange.getStartPosition(),Ct=s.horizontalGuides===_t.Enabled||s.horizontalGuides===_t.EnabledForActive&&Be;if(ve.range.startLineNumber===ve.range.endLineNumber){f&&Ct&&l[ve.range.startLineNumber-e].push(new Rt(-1,ve.openingBracketRange.getEndPosition().column,ze,new Et(!1,tt.column),-1,-1));continue}const Ot=this.getVisibleColumnFromPosition(tt),Jt=this.getVisibleColumnFromPosition(ve.openingBracketRange.getStartPosition()),fn=Math.min(Jt,Ot,ve.minVisibleColumnIndentation+1);let Bn=!1;g.HG(this.textModel.getLineContent(ve.closingBracketRange.startLineNumber))<ve.closingBracketRange.startColumn-1&&(Bn=!0);const Cn=Math.max(Ye.lineNumber,e),yn=Math.min(tt.lineNumber,t),Hi=Bn?1:0;for(let si=Cn;si<yn+Hi;si++)l[si-e].push(new Rt(fn,-1,ze,null,si===Ye.lineNumber?Ye.column:-1,si===tt.lineNumber?tt.column:-1));Ct&&(Ye.lineNumber>=e&&Jt>fn&&l[Ye.lineNumber-e].push(new Rt(fn,-1,ze,new Et(!1,Ye.column),-1,-1)),tt.lineNumber<=t&&Ot>fn&&l[tt.lineNumber-e].push(new Rt(fn,-1,ze,new Et(!Bn,tt.column),-1,-1)))}for(const ve of l)ve.sort((Be,ze)=>Be.visibleColumn-ze.visibleColumn);return l}getVisibleColumnFromPosition(e){return ne.visibleColumnFromColumn(this.textModel.getLineContent(e.lineNumber),e.column,this.textModel.getOptions().tabSize)+1}getLinesIndentGuides(e,t){this.assertNotDisposed();const r=this.textModel.getLineCount();if(e<1||e>r)throw new Error("Illegal value for startLineNumber");if(t<1||t>r)throw new Error("Illegal value for endLineNumber");const s=this.textModel.getOptions(),l=this.getLanguageConfiguration(this.textModel.getLanguageId()).foldingRules,f=!!(l&&l.offSide),L=new Array(t-e+1);let S=-2,X=-1,le=-2,ge=-1;for(let ve=e;ve<=t;ve++){const Be=ve-e,ze=this._computeIndentLevel(ve-1);if(ze>=0){S=ve-1,X=ze,L[Be]=Math.ceil(ze/s.indentSize);continue}if(S===-2){S=-1,X=-1;for(let Ye=ve-2;Ye>=0;Ye--){const tt=this._computeIndentLevel(Ye);if(tt>=0){S=Ye,X=tt;break}}}if(le!==-1&&(le===-2||le<ve-1)){le=-1,ge=-1;for(let Ye=ve;Ye<r;Ye++){const tt=this._computeIndentLevel(Ye);if(tt>=0){le=Ye,ge=tt;break}}}L[Be]=this._getIndentLevelForWhitespaceLine(f,X,ge)}return L}_getIndentLevelForWhitespaceLine(e,t,r){const s=this.textModel.getOptions();return t===-1||r===-1?0:t<r?1+Math.floor(t/s.indentSize):t===r||e?Math.ceil(r/s.indentSize):1+Math.floor(r/s.indentSize)}};n(da,"GuidesTextModelPart");let Xt=da;const fa=class fa{constructor(){this.activeClassName="indent-active"}getInlineClassName(e,t,r){return this.getInlineClassNameOfLevel(r?t:e)}getInlineClassNameOfLevel(e){return`bracket-indent-guide lvl-${e%30}`}};n(fa,"BracketPairGuidesClassNames");let Vt=fa;const ga=class ga{constructor(){this.spacesDiff=0,this.looksLikeAlignment=!1}};n(ga,"SpacesDiffResult");let Yt=ga;function zt(C,e,t,r,s){s.spacesDiff=0,s.looksLikeAlignment=!1;let l;for(l=0;l<e&&l<r;l++){const ve=C.charCodeAt(l),Be=t.charCodeAt(l);if(ve!==Be)break}let f=0,L=0;for(let ve=l;ve<e;ve++)C.charCodeAt(ve)===32?f++:L++;let S=0,X=0;for(let ve=l;ve<r;ve++)t.charCodeAt(ve)===32?S++:X++;if(f>0&&L>0||S>0&&X>0)return;const le=Math.abs(L-X),ge=Math.abs(f-S);if(le===0){s.spacesDiff=ge,ge>0&&0<=S-1&&S-1<C.length&&S<t.length&&t.charCodeAt(S)!==32&&C.charCodeAt(S-1)===32&&C.charCodeAt(C.length-1)===44&&(s.looksLikeAlignment=!0);return}if(ge%le===0){s.spacesDiff=ge/le;return}}n(zt,"spacesDiff");function en(C,e,t){const r=Math.min(C.getLineCount(),1e4);let s=0,l=0,f="",L=0;const S=[2,4,6,8,3,5,7],X=8,le=[0,0,0,0,0,0,0,0,0],ge=new Yt;for(let ze=1;ze<=r;ze++){const Ye=C.getLineLength(ze),tt=C.getLineContent(ze),Ct=Ye<=65536;let Ot=!1,Jt=0,fn=0,Bn=0;for(let Nn=0,Cn=Ye;Nn<Cn;Nn++){const yn=Ct?tt.charCodeAt(Nn):C.getLineCharCode(ze,Nn);if(yn===9)Bn++;else if(yn===32)fn++;else{Ot=!0,Jt=Nn;break}}if(!Ot||(Bn>0?s++:fn>1&&l++,zt(f,L,tt,Jt,ge),ge.looksLikeAlignment&&!(t&&e===ge.spacesDiff)))continue;const jn=ge.spacesDiff;jn<=X&&le[jn]++,f=tt,L=Jt}let ve=t;s!==l&&(ve=s<l);let Be=e;if(ve){let ze=ve?0:.1*r;S.forEach(Ye=>{const tt=le[Ye];tt>ze&&(ze=tt,Be=Ye)}),Be===4&&le[4]>0&&le[2]>0&&le[2]>=le[4]/2&&(Be=2)}return{insertSpaces:ve,tabSize:Be}}n(en,"guessIndentation");function jt(C){return(C.metadata&1)>>>0}n(jt,"getNodeColor");function Dt(C,e){C.metadata=C.metadata&254|e<<0}n(Dt,"setNodeColor");function on(C){return(C.metadata&2)>>>1===1}n(on,"getNodeIsVisited");function rn(C,e){C.metadata=C.metadata&253|(e?1:0)<<1}n(rn,"setNodeIsVisited");function Sn(C){return(C.metadata&4)>>>2===1}n(Sn,"getNodeIsForValidation");function hn(C,e){C.metadata=C.metadata&251|(e?1:0)<<2}n(hn,"setNodeIsForValidation");function Mi(C){return(C.metadata&64)>>>6===1}n(Mi,"getNodeIsInGlyphMargin");function _s(C,e){C.metadata=C.metadata&191|(e?1:0)<<6}n(_s,"setNodeIsInGlyphMargin");function ls(C){return(C.metadata&24)>>>3}n(ls,"getNodeStickiness");function Ar(C,e){C.metadata=C.metadata&231|e<<3}n(Ar,"_setNodeStickiness");function us(C){return(C.metadata&32)>>>5===1}n(us,"getCollapseOnReplaceEdit");function vs(C,e){C.metadata=C.metadata&223|(e?1:0)<<5}n(vs,"setCollapseOnReplaceEdit");const ma=class ma{constructor(e,t,r){this.metadata=0,this.parent=this,this.left=this,this.right=this,Dt(this,1),this.start=t,this.end=r,this.delta=0,this.maxEnd=r,this.id=e,this.ownerId=0,this.options=null,hn(this,!1),_s(this,!1),Ar(this,1),vs(this,!1),this.cachedVersionId=0,this.cachedAbsoluteStart=t,this.cachedAbsoluteEnd=r,this.range=null,rn(this,!1)}reset(e,t,r,s){this.start=t,this.end=r,this.maxEnd=r,this.cachedVersionId=e,this.cachedAbsoluteStart=t,this.cachedAbsoluteEnd=r,this.range=s}setOptions(e){this.options=e;const t=this.options.className;hn(this,t==="squiggly-error"||t==="squiggly-warning"||t==="squiggly-info"),_s(this,this.options.glyphMarginClassName!==null),Ar(this,this.options.stickiness),vs(this,this.options.collapseOnReplaceEdit)}setCachedOffsets(e,t,r){this.cachedVersionId!==r&&(this.range=null),this.cachedVersionId=r,this.cachedAbsoluteStart=e,this.cachedAbsoluteEnd=t}detach(){this.parent=null,this.left=null,this.right=null}};n(ma,"IntervalNode");let cr=ma;const Ht=new cr(null,0,0);Ht.parent=Ht,Ht.left=Ht,Ht.right=Ht,Dt(Ht,0);const pa=class pa{constructor(){this.root=Ht,this.requestNormalizeDelta=!1}intervalSearch(e,t,r,s,l,f){return this.root===Ht?[]:Ps(this,e,t,r,s,l,f)}search(e,t,r,s){return this.root===Ht?[]:Fs(this,e,t,r,s)}collectNodesFromOwner(e){return Yr(this,e)}collectNodesPostOrder(){return Ms(this)}insert(e){ks(this,e),this._normalizeDeltaIfNecessary()}delete(e){cs(this,e),this._normalizeDeltaIfNecessary()}resolveNode(e,t){const r=e;let s=0;for(;e!==this.root;)e===e.parent.right&&(s+=e.parent.delta),e=e.parent;const l=r.start+s,f=r.end+s;r.setCachedOffsets(l,f,t)}acceptReplace(e,t,r,s){const l=Ir(this,e,e+t);for(let f=0,L=l.length;f<L;f++){const S=l[f];cs(this,S)}this._normalizeDeltaIfNecessary(),qn(this,e,e+t,r),this._normalizeDeltaIfNecessary();for(let f=0,L=l.length;f<L;f++){const S=l[f];S.start=S.cachedAbsoluteStart,S.end=S.cachedAbsoluteEnd,Os(S,e,e+t,r,s),S.maxEnd=S.end,ks(this,S)}this._normalizeDeltaIfNecessary()}_normalizeDeltaIfNecessary(){this.requestNormalizeDelta&&(this.requestNormalizeDelta=!1,jr(this))}};n(pa,"IntervalTree");let Mr=pa;function jr(C){let e=C.root,t=0;for(;e!==Ht;){if(e.left!==Ht&&!on(e.left)){e=e.left;continue}if(e.right!==Ht&&!on(e.right)){t+=e.delta,e=e.right;continue}e.start=t+e.start,e.end=t+e.end,e.delta=0,Xi(e),rn(e,!0),rn(e.left,!1),rn(e.right,!1),e===e.parent.right&&(t-=e.parent.delta),e=e.parent}rn(C.root,!1)}n(jr,"normalizeDelta");function hr(C,e,t,r){return C<t?!0:C>t||r===1?!1:r===2?!0:e}n(hr,"adjustMarkerBeforeColumn");function Os(C,e,t,r,s){const l=ls(C),f=l===0||l===2,L=l===1||l===2,S=t-e,X=r,le=Math.min(S,X),ge=C.start;let ve=!1;const Be=C.end;let ze=!1;e<=ge&&Be<=t&&us(C)&&(C.start=e,ve=!0,C.end=e,ze=!0);{const tt=s?1:S>0?2:0;!ve&&hr(ge,f,e,tt)&&(ve=!0),!ze&&hr(Be,L,e,tt)&&(ze=!0)}if(le>0&&!s){const tt=S>X?2:0;!ve&&hr(ge,f,e+le,tt)&&(ve=!0),!ze&&hr(Be,L,e+le,tt)&&(ze=!0)}{const tt=s?1:0;!ve&&hr(ge,f,t,tt)&&(C.start=e+X,ve=!0),!ze&&hr(Be,L,t,tt)&&(C.end=e+X,ze=!0)}const Ye=X-S;ve||(C.start=Math.max(0,ge+Ye)),ze||(C.end=Math.max(0,Be+Ye)),C.start>C.end&&(C.end=C.start)}n(Os,"nodeAcceptEdit");function Ir(C,e,t){let r=C.root,s=0,l=0,f=0,L=0;const S=[];let X=0;for(;r!==Ht;){if(on(r)){rn(r.left,!1),rn(r.right,!1),r===r.parent.right&&(s-=r.parent.delta),r=r.parent;continue}if(!on(r.left)){if(l=s+r.maxEnd,l<e){rn(r,!0);continue}if(r.left!==Ht){r=r.left;continue}}if(f=s+r.start,f>t){rn(r,!0);continue}if(L=s+r.end,L>=e&&(r.setCachedOffsets(f,L,0),S[X++]=r),rn(r,!0),r.right!==Ht&&!on(r.right)){s+=r.delta,r=r.right;continue}}return rn(C.root,!1),S}n(Ir,"searchForEditing");function qn(C,e,t,r){let s=C.root,l=0,f=0,L=0;const S=r-(t-e);for(;s!==Ht;){if(on(s)){rn(s.left,!1),rn(s.right,!1),s===s.parent.right&&(l-=s.parent.delta),Xi(s),s=s.parent;continue}if(!on(s.left)){if(f=l+s.maxEnd,f<e){rn(s,!0);continue}if(s.left!==Ht){s=s.left;continue}}if(L=l+s.start,L>t){s.start+=S,s.end+=S,s.delta+=S,(s.delta<-1073741824||s.delta>1073741824)&&(C.requestNormalizeDelta=!0),rn(s,!0);continue}if(rn(s,!0),s.right!==Ht&&!on(s.right)){l+=s.delta,s=s.right;continue}}rn(C.root,!1)}n(qn,"noOverlapReplace");function Yr(C,e){let t=C.root;const r=[];let s=0;for(;t!==Ht;){if(on(t)){rn(t.left,!1),rn(t.right,!1),t=t.parent;continue}if(t.left!==Ht&&!on(t.left)){t=t.left;continue}if(t.ownerId===e&&(r[s++]=t),rn(t,!0),t.right!==Ht&&!on(t.right)){t=t.right;continue}}return rn(C.root,!1),r}n(Yr,"collectNodesFromOwner");function Ms(C){let e=C.root;const t=[];let r=0;for(;e!==Ht;){if(on(e)){rn(e.left,!1),rn(e.right,!1),e=e.parent;continue}if(e.left!==Ht&&!on(e.left)){e=e.left;continue}if(e.right!==Ht&&!on(e.right)){e=e.right;continue}t[r++]=e,rn(e,!0)}return rn(C.root,!1),t}n(Ms,"collectNodesPostOrder");function Fs(C,e,t,r,s){let l=C.root,f=0,L=0,S=0;const X=[];let le=0;for(;l!==Ht;){if(on(l)){rn(l.left,!1),rn(l.right,!1),l===l.parent.right&&(f-=l.parent.delta),l=l.parent;continue}if(l.left!==Ht&&!on(l.left)){l=l.left;continue}L=f+l.start,S=f+l.end,l.setCachedOffsets(L,S,r);let ge=!0;if(e&&l.ownerId&&l.ownerId!==e&&(ge=!1),t&&Sn(l)&&(ge=!1),s&&!Mi(l)&&(ge=!1),ge&&(X[le++]=l),rn(l,!0),l.right!==Ht&&!on(l.right)){f+=l.delta,l=l.right;continue}}return rn(C.root,!1),X}n(Fs,"search");function Ps(C,e,t,r,s,l,f){let L=C.root,S=0,X=0,le=0,ge=0;const ve=[];let Be=0;for(;L!==Ht;){if(on(L)){rn(L.left,!1),rn(L.right,!1),L===L.parent.right&&(S-=L.parent.delta),L=L.parent;continue}if(!on(L.left)){if(X=S+L.maxEnd,X<e){rn(L,!0);continue}if(L.left!==Ht){L=L.left;continue}}if(le=S+L.start,le>t){rn(L,!0);continue}if(ge=S+L.end,ge>=e){L.setCachedOffsets(le,ge,l);let ze=!0;r&&L.ownerId&&L.ownerId!==r&&(ze=!1),s&&Sn(L)&&(ze=!1),f&&!Mi(L)&&(ze=!1),ze&&(ve[Be++]=L)}if(rn(L,!0),L.right!==Ht&&!on(L.right)){S+=L.delta,L=L.right;continue}}return rn(C.root,!1),ve}n(Ps,"intervalSearch");function ks(C,e){if(C.root===Ht)return e.parent=Ht,e.left=Ht,e.right=Ht,Dt(e,0),C.root=e,C.root;Vs(C,e),dr(e.parent);let t=e;for(;t!==C.root&&jt(t.parent)===1;)if(t.parent===t.parent.parent.left){const r=t.parent.parent.right;jt(r)===1?(Dt(t.parent,0),Dt(r,0),Dt(t.parent.parent,1),t=t.parent.parent):(t===t.parent.right&&(t=t.parent,Hr(C,t)),Dt(t.parent,0),Dt(t.parent.parent,1),$r(C,t.parent.parent))}else{const r=t.parent.parent.left;jt(r)===1?(Dt(t.parent,0),Dt(r,0),Dt(t.parent.parent,1),t=t.parent.parent):(t===t.parent.left&&(t=t.parent,$r(C,t)),Dt(t.parent,0),Dt(t.parent.parent,1),Hr(C,t.parent.parent))}return Dt(C.root,0),e}n(ks,"rbTreeInsert");function Vs(C,e){let t=0,r=C.root;const s=e.start,l=e.end;for(;;)if(Ws(s,l,r.start+t,r.end+t)<0)if(r.left===Ht){e.start-=t,e.end-=t,e.maxEnd-=t,r.left=e;break}else r=r.left;else if(r.right===Ht){e.start-=t+r.delta,e.end-=t+r.delta,e.maxEnd-=t+r.delta,r.right=e;break}else t+=r.delta,r=r.right;e.parent=r,e.left=Ht,e.right=Ht,Dt(e,1)}n(Vs,"treeInsert");function cs(C,e){let t,r;if(e.left===Ht?(t=e.right,r=e,t.delta+=e.delta,(t.delta<-1073741824||t.delta>1073741824)&&(C.requestNormalizeDelta=!0),t.start+=e.delta,t.end+=e.delta):e.right===Ht?(t=e.left,r=e):(r=Ls(e.right),t=r.right,t.start+=r.delta,t.end+=r.delta,t.delta+=r.delta,(t.delta<-1073741824||t.delta>1073741824)&&(C.requestNormalizeDelta=!0),r.start+=e.delta,r.end+=e.delta,r.delta=e.delta,(r.delta<-1073741824||r.delta>1073741824)&&(C.requestNormalizeDelta=!0)),r===C.root){C.root=t,Dt(t,0),e.detach(),Zr(),Xi(t),C.root.parent=Ht;return}const s=jt(r)===1;if(r===r.parent.left?r.parent.left=t:r.parent.right=t,r===e?t.parent=r.parent:(r.parent===e?t.parent=r:t.parent=r.parent,r.left=e.left,r.right=e.right,r.parent=e.parent,Dt(r,jt(e)),e===C.root?C.root=r:e===e.parent.left?e.parent.left=r:e.parent.right=r,r.left!==Ht&&(r.left.parent=r),r.right!==Ht&&(r.right.parent=r)),e.detach(),s){dr(t.parent),r!==e&&(dr(r),dr(r.parent)),Zr();return}dr(t),dr(t.parent),r!==e&&(dr(r),dr(r.parent));let l;for(;t!==C.root&&jt(t)===0;)t===t.parent.left?(l=t.parent.right,jt(l)===1&&(Dt(l,0),Dt(t.parent,1),Hr(C,t.parent),l=t.parent.right),jt(l.left)===0&&jt(l.right)===0?(Dt(l,1),t=t.parent):(jt(l.right)===0&&(Dt(l.left,0),Dt(l,1),$r(C,l),l=t.parent.right),Dt(l,jt(t.parent)),Dt(t.parent,0),Dt(l.right,0),Hr(C,t.parent),t=C.root)):(l=t.parent.left,jt(l)===1&&(Dt(l,0),Dt(t.parent,1),$r(C,t.parent),l=t.parent.left),jt(l.left)===0&&jt(l.right)===0?(Dt(l,1),t=t.parent):(jt(l.left)===0&&(Dt(l.right,0),Dt(l,1),Hr(C,l),l=t.parent.left),Dt(l,jt(t.parent)),Dt(t.parent,0),Dt(l.left,0),$r(C,t.parent),t=C.root));Dt(t,0),Zr()}n(cs,"rbTreeDelete");function Ls(C){for(;C.left!==Ht;)C=C.left;return C}n(Ls,"leftest");function Zr(){Ht.parent=Ht,Ht.delta=0,Ht.start=0,Ht.end=0}n(Zr,"resetSentinel");function Hr(C,e){const t=e.right;t.delta+=e.delta,(t.delta<-1073741824||t.delta>1073741824)&&(C.requestNormalizeDelta=!0),t.start+=e.delta,t.end+=e.delta,e.right=t.left,t.left!==Ht&&(t.left.parent=e),t.parent=e.parent,e.parent===Ht?C.root=t:e===e.parent.left?e.parent.left=t:e.parent.right=t,t.left=e,e.parent=t,Xi(e),Xi(t)}n(Hr,"leftRotate");function $r(C,e){const t=e.left;e.delta-=t.delta,(e.delta<-1073741824||e.delta>1073741824)&&(C.requestNormalizeDelta=!0),e.start-=t.delta,e.end-=t.delta,e.left=t.right,t.right!==Ht&&(t.right.parent=e),t.parent=e.parent,e.parent===Ht?C.root=t:e===e.parent.right?e.parent.right=t:e.parent.left=t,t.right=e,e.parent=t,Xi(e),Xi(t)}n($r,"rightRotate");function Cs(C){let e=C.end;if(C.left!==Ht){const t=C.left.maxEnd;t>e&&(e=t)}if(C.right!==Ht){const t=C.right.maxEnd+C.delta;t>e&&(e=t)}return e}n(Cs,"computeMaxEnd");function Xi(C){C.maxEnd=Cs(C)}n(Xi,"recomputeMaxEnd");function dr(C){for(;C!==Ht;){const e=Cs(C);if(C.maxEnd===e)return;C.maxEnd=e,C=C.parent}}n(dr,"recomputeMaxEndWalkToRoot");function Ws(C,e,t,r){return C===t?e-r:C-t}n(Ws,"intervalCompare");const ba=class ba{constructor(e,t){this.piece=e,this.color=t,this.size_left=0,this.lf_left=0,this.parent=this,this.left=this,this.right=this}next(){if(this.right!==Wt)return hs(this.right);let e=this;for(;e.parent!==Wt&&e.parent.left!==e;)e=e.parent;return e.parent===Wt?Wt:e.parent}prev(){if(this.left!==Wt)return Nr(this.left);let e=this;for(;e.parent!==Wt&&e.parent.right!==e;)e=e.parent;return e.parent===Wt?Wt:e.parent}detach(){this.parent=null,this.left=null,this.right=null}};n(ba,"TreeNode");let Gr=ba;const Wt=new Gr(null,0);Wt.parent=Wt,Wt.left=Wt,Wt.right=Wt,Wt.color=0;function hs(C){for(;C.left!==Wt;)C=C.left;return C}n(hs,"rbTreeBase_leftest");function Nr(C){for(;C.right!==Wt;)C=C.right;return C}n(Nr,"righttest");function fr(C){return C===Wt?0:C.size_left+C.piece.length+fr(C.right)}n(fr,"calculateSize");function Kr(C){return C===Wt?0:C.lf_left+C.piece.lineFeedCnt+Kr(C.right)}n(Kr,"calculateLF");function ds(){Wt.parent=Wt}n(ds,"rbTreeBase_resetSentinel");function Fr(C,e){const t=e.right;t.size_left+=e.size_left+(e.piece?e.piece.length:0),t.lf_left+=e.lf_left+(e.piece?e.piece.lineFeedCnt:0),e.right=t.left,t.left!==Wt&&(t.left.parent=e),t.parent=e.parent,e.parent===Wt?C.root=t:e.parent.left===e?e.parent.left=t:e.parent.right=t,t.left=e,e.parent=t}n(Fr,"rbTreeBase_leftRotate");function qr(C,e){const t=e.left;e.left=t.right,t.right!==Wt&&(t.right.parent=e),t.parent=e.parent,e.size_left-=t.size_left+(t.piece?t.piece.length:0),e.lf_left-=t.lf_left+(t.piece?t.piece.lineFeedCnt:0),e.parent===Wt?C.root=t:e===e.parent.right?e.parent.right=t:e.parent.left=t,t.right=e,e.parent=t}n(qr,"rbTreeBase_rightRotate");function nr(C,e){let t,r;if(e.left===Wt?(r=e,t=r.right):e.right===Wt?(r=e,t=r.left):(r=hs(e.right),t=r.right),r===C.root){C.root=t,t.color=0,e.detach(),ds(),C.root.parent=Wt;return}const s=r.color===1;if(r===r.parent.left?r.parent.left=t:r.parent.right=t,r===e?(t.parent=r.parent,Yi(C,t)):(r.parent===e?t.parent=r:t.parent=r.parent,Yi(C,t),r.left=e.left,r.right=e.right,r.parent=e.parent,r.color=e.color,e===C.root?C.root=r:e===e.parent.left?e.parent.left=r:e.parent.right=r,r.left!==Wt&&(r.left.parent=r),r.right!==Wt&&(r.right.parent=r),r.size_left=e.size_left,r.lf_left=e.lf_left,Yi(C,r)),e.detach(),t.parent.left===t){const f=fr(t),L=Kr(t);if(f!==t.parent.size_left||L!==t.parent.lf_left){const S=f-t.parent.size_left,X=L-t.parent.lf_left;t.parent.size_left=f,t.parent.lf_left=L,_i(C,t.parent,S,X)}}if(Yi(C,t.parent),s){ds();return}let l;for(;t!==C.root&&t.color===0;)t===t.parent.left?(l=t.parent.right,l.color===1&&(l.color=0,t.parent.color=1,Fr(C,t.parent),l=t.parent.right),l.left.color===0&&l.right.color===0?(l.color=1,t=t.parent):(l.right.color===0&&(l.left.color=0,l.color=1,qr(C,l),l=t.parent.right),l.color=t.parent.color,t.parent.color=0,l.right.color=0,Fr(C,t.parent),t=C.root)):(l=t.parent.left,l.color===1&&(l.color=0,t.parent.color=1,qr(C,t.parent),l=t.parent.left),l.left.color===0&&l.right.color===0?(l.color=1,t=t.parent):(l.left.color===0&&(l.right.color=0,l.color=1,Fr(C,l),l=t.parent.left),l.color=t.parent.color,t.parent.color=0,l.left.color=0,qr(C,t.parent),t=C.root));t.color=0,ds()}n(nr,"rbDelete");function ir(C,e){for(Yi(C,e);e!==C.root&&e.parent.color===1;)if(e.parent===e.parent.parent.left){const t=e.parent.parent.right;t.color===1?(e.parent.color=0,t.color=0,e.parent.parent.color=1,e=e.parent.parent):(e===e.parent.right&&(e=e.parent,Fr(C,e)),e.parent.color=0,e.parent.parent.color=1,qr(C,e.parent.parent))}else{const t=e.parent.parent.left;t.color===1?(e.parent.color=0,t.color=0,e.parent.parent.color=1,e=e.parent.parent):(e===e.parent.left&&(e=e.parent,qr(C,e)),e.parent.color=0,e.parent.parent.color=1,Fr(C,e.parent.parent))}C.root.color=0}n(ir,"fixInsert");function _i(C,e,t,r){for(;e!==C.root&&e!==Wt;)e.parent.left===e&&(e.parent.size_left+=t,e.parent.lf_left+=r),e=e.parent}n(_i,"updateTreeMetadata");function Yi(C,e){let t=0,r=0;if(e!==C.root){for(;e!==C.root&&e===e.parent.right;)e=e.parent;if(e!==C.root)for(e=e.parent,t=fr(e.left)-e.size_left,r=Kr(e.left)-e.lf_left,e.size_left+=t,e.lf_left+=r;e!==C.root&&(t!==0||r!==0);)e.parent.left===e&&(e.parent.size_left+=t,e.parent.lf_left+=r),e=e.parent}}n(Yi,"recomputeTreeMetadata");var Yn=E(2007);const vi=65535;function Ui(C){let e;return C[C.length-1]<65536?e=new Uint16Array(C.length):e=new Uint32Array(C.length),e.set(C,0),e}n(Ui,"createUintArray");const _a=class _a{constructor(e,t,r,s,l){this.lineStarts=e,this.cr=t,this.lf=r,this.crlf=s,this.isBasicASCII=l}};n(_a,"LineStarts");let gr=_a;function ki(C,e=!0){const t=[0];let r=1;for(let s=0,l=C.length;s<l;s++){const f=C.charCodeAt(s);f===13?s+1<l&&C.charCodeAt(s+1)===10?(t[r++]=s+2,s++):t[r++]=s+1:f===10&&(t[r++]=s+1)}return e?Ui(t):t}n(ki,"createLineStartsFast");function Pr(C,e){C.length=0,C[0]=0;let t=1,r=0,s=0,l=0,f=!0;for(let S=0,X=e.length;S<X;S++){const le=e.charCodeAt(S);le===13?S+1<X&&e.charCodeAt(S+1)===10?(l++,C[t++]=S+2,S++):(r++,C[t++]=S+1):le===10?(s++,C[t++]=S+1):f&&le!==9&&(le<32||le>126)&&(f=!1)}const L=new gr(Ui(C),r,s,l,f);return C.length=0,L}n(Pr,"createLineStarts");const va=class va{constructor(e,t,r,s,l){this.bufferIndex=e,this.start=t,this.end=r,this.lineFeedCnt=s,this.length=l}};n(va,"Piece");let Un=va;const ka=class ka{constructor(e,t){this.buffer=e,this.lineStarts=t}};n(ka,"StringBuffer");let ui=ka;const La=class La{constructor(e,t){this._pieces=[],this._tree=e,this._BOM=t,this._index=0,e.root!==Wt&&e.iterate(e.root,r=>(r!==Wt&&this._pieces.push(r.piece),!0))}read(){return this._pieces.length===0?this._index===0?(this._index++,this._BOM):null:this._index>this._pieces.length-1?null:this._index===0?this._BOM+this._tree.getPieceContent(this._pieces[this._index++]):this._tree.getPieceContent(this._pieces[this._index++])}};n(La,"PieceTreeSnapshot");let mr=La;const Ca=class Ca{constructor(e){this._limit=e,this._cache=[]}get(e){for(let t=this._cache.length-1;t>=0;t--){const r=this._cache[t];if(r.nodeStartOffset<=e&&r.nodeStartOffset+r.node.piece.length>=e)return r}return null}get2(e){for(let t=this._cache.length-1;t>=0;t--){const r=this._cache[t];if(r.nodeStartLineNumber&&r.nodeStartLineNumber<e&&r.nodeStartLineNumber+r.node.piece.lineFeedCnt>=e)return r}return null}set(e){this._cache.length>=this._limit&&this._cache.shift(),this._cache.push(e)}validate(e){let t=!1;const r=this._cache;for(let s=0;s<r.length;s++){const l=r[s];if(l.node.parent===null||l.nodeStartOffset>=e){r[s]=null,t=!0;continue}}if(t){const s=[];for(const l of r)l!==null&&s.push(l);this._cache=s}}};n(Ca,"PieceTreeSearchCache");let pr=Ca;const xa=class xa{constructor(e,t,r){this.create(e,t,r)}create(e,t,r){this._buffers=[new ui("",[0])],this._lastChangeBufferPos={line:0,column:0},this.root=Wt,this._lineCnt=1,this._length=0,this._EOL=t,this._EOLLength=t.length,this._EOLNormalized=r;let s=null;for(let l=0,f=e.length;l<f;l++)if(e[l].buffer.length>0){e[l].lineStarts||(e[l].lineStarts=ki(e[l].buffer));const L=new Un(l+1,{line:0,column:0},{line:e[l].lineStarts.length-1,column:e[l].buffer.length-e[l].lineStarts[e[l].lineStarts.length-1]},e[l].lineStarts.length-1,e[l].buffer.length);this._buffers.push(e[l]),s=this.rbInsertRight(s,L)}this._searchCache=new pr(1),this._lastVisitedLine={lineNumber:0,value:""},this.computeBufferMetadata()}normalizeEOL(e){const t=vi,r=t-Math.floor(t/3),s=r*2;let l="",f=0;const L=[];if(this.iterate(this.root,S=>{const X=this.getNodeContent(S),le=X.length;if(f<=r||f+le<s)return l+=X,f+=le,!0;const ge=l.replace(/\r\n|\r|\n/g,e);return L.push(new ui(ge,ki(ge))),l=X,f=le,!0}),f>0){const S=l.replace(/\r\n|\r|\n/g,e);L.push(new ui(S,ki(S)))}this.create(L,e,!0)}getEOL(){return this._EOL}setEOL(e){this._EOL=e,this._EOLLength=this._EOL.length,this.normalizeEOL(e)}createSnapshot(e){return new mr(this,e)}getOffsetAt(e,t){let r=0,s=this.root;for(;s!==Wt;)if(s.left!==Wt&&s.lf_left+1>=e)s=s.left;else if(s.lf_left+s.piece.lineFeedCnt+1>=e){r+=s.size_left;const l=this.getAccumulatedValue(s,e-s.lf_left-2);return r+=l+t-1}else e-=s.lf_left+s.piece.lineFeedCnt,r+=s.size_left+s.piece.length,s=s.right;return r}getPositionAt(e){e=Math.floor(e),e=Math.max(0,e);let t=this.root,r=0;const s=e;for(;t!==Wt;)if(t.size_left!==0&&t.size_left>=e)t=t.left;else if(t.size_left+t.piece.length>=e){const l=this.getIndexOf(t,e-t.size_left);if(r+=t.lf_left+l.index,l.index===0){const f=this.getOffsetAt(r+1,1),L=s-f;return new j.y(r+1,L+1)}return new j.y(r+1,l.remainder+1)}else if(e-=t.size_left+t.piece.length,r+=t.lf_left+t.piece.lineFeedCnt,t.right===Wt){const l=this.getOffsetAt(r+1,1),f=s-e-l;return new j.y(r+1,f+1)}else t=t.right;return new j.y(1,1)}getValueInRange(e,t){if(e.startLineNumber===e.endLineNumber&&e.startColumn===e.endColumn)return"";const r=this.nodeAt2(e.startLineNumber,e.startColumn),s=this.nodeAt2(e.endLineNumber,e.endColumn),l=this.getValueInRange2(r,s);return t?t!==this._EOL||!this._EOLNormalized?l.replace(/\r\n|\r|\n/g,t):t===this.getEOL()&&this._EOLNormalized?l:l.replace(/\r\n|\r|\n/g,t):l}getValueInRange2(e,t){if(e.node===t.node){const L=e.node,S=this._buffers[L.piece.bufferIndex].buffer,X=this.offsetInBuffer(L.piece.bufferIndex,L.piece.start);return S.substring(X+e.remainder,X+t.remainder)}let r=e.node;const s=this._buffers[r.piece.bufferIndex].buffer,l=this.offsetInBuffer(r.piece.bufferIndex,r.piece.start);let f=s.substring(l+e.remainder,l+r.piece.length);for(r=r.next();r!==Wt;){const L=this._buffers[r.piece.bufferIndex].buffer,S=this.offsetInBuffer(r.piece.bufferIndex,r.piece.start);if(r===t.node){f+=L.substring(S,S+t.remainder);break}else f+=L.substr(S,r.piece.length);r=r.next()}return f}getLinesContent(){const e=[];let t=0,r="",s=!1;return this.iterate(this.root,l=>{if(l===Wt)return!0;const f=l.piece;let L=f.length;if(L===0)return!0;const S=this._buffers[f.bufferIndex].buffer,X=this._buffers[f.bufferIndex].lineStarts,le=f.start.line,ge=f.end.line;let ve=X[le]+f.start.column;if(s&&(S.charCodeAt(ve)===10&&(ve++,L--),e[t++]=r,r="",s=!1,L===0))return!0;if(le===ge)return!this._EOLNormalized&&S.charCodeAt(ve+L-1)===13?(s=!0,r+=S.substr(ve,L-1)):r+=S.substr(ve,L),!0;r+=this._EOLNormalized?S.substring(ve,Math.max(ve,X[le+1]-this._EOLLength)):S.substring(ve,X[le+1]).replace(/(\r\n|\r|\n)$/,""),e[t++]=r;for(let Be=le+1;Be<ge;Be++)r=this._EOLNormalized?S.substring(X[Be],X[Be+1]-this._EOLLength):S.substring(X[Be],X[Be+1]).replace(/(\r\n|\r|\n)$/,""),e[t++]=r;return!this._EOLNormalized&&S.charCodeAt(X[ge]+f.end.column-1)===13?(s=!0,f.end.column===0?t--:r=S.substr(X[ge],f.end.column-1)):r=S.substr(X[ge],f.end.column),!0}),s&&(e[t++]=r,r=""),e[t++]=r,e}getLength(){return this._length}getLineCount(){return this._lineCnt}getLineContent(e){return this._lastVisitedLine.lineNumber===e?this._lastVisitedLine.value:(this._lastVisitedLine.lineNumber=e,e===this._lineCnt?this._lastVisitedLine.value=this.getLineRawContent(e):this._EOLNormalized?this._lastVisitedLine.value=this.getLineRawContent(e,this._EOLLength):this._lastVisitedLine.value=this.getLineRawContent(e).replace(/(\r\n|\r|\n)$/,""),this._lastVisitedLine.value)}_getCharCode(e){if(e.remainder===e.node.piece.length){const t=e.node.next();if(!t)return 0;const r=this._buffers[t.piece.bufferIndex],s=this.offsetInBuffer(t.piece.bufferIndex,t.piece.start);return r.buffer.charCodeAt(s)}else{const t=this._buffers[e.node.piece.bufferIndex],s=this.offsetInBuffer(e.node.piece.bufferIndex,e.node.piece.start)+e.remainder;return t.buffer.charCodeAt(s)}}getLineCharCode(e,t){const r=this.nodeAt2(e,t+1);return this._getCharCode(r)}getLineLength(e){if(e===this.getLineCount()){const t=this.getOffsetAt(e,1);return this.getLength()-t}return this.getOffsetAt(e+1,1)-this.getOffsetAt(e,1)-this._EOLLength}findMatchesInNode(e,t,r,s,l,f,L,S,X,le,ge){const ve=this._buffers[e.piece.bufferIndex],Be=this.offsetInBuffer(e.piece.bufferIndex,e.piece.start),ze=this.offsetInBuffer(e.piece.bufferIndex,l),Ye=this.offsetInBuffer(e.piece.bufferIndex,f);let tt;const Ct={line:0,column:0};let Ot,Jt;t._wordSeparators?(Ot=ve.buffer.substring(ze,Ye),Jt=n(fn=>fn+ze,"offsetInBuffer"),t.reset(0)):(Ot=ve.buffer,Jt=n(fn=>fn,"offsetInBuffer"),t.reset(ze));do if(tt=t.next(Ot),tt){if(Jt(tt.index)>=Ye)return le;this.positionInBuffer(e,Jt(tt.index)-Be,Ct);const fn=this.getLineFeedCnt(e.piece.bufferIndex,l,Ct),Bn=Ct.line===l.line?Ct.column-l.column+s:Ct.column+1,jn=Bn+tt[0].length;if(ge[le++]=(0,Yn.dr)(new z.Q(r+fn,Bn,r+fn,jn),tt,S),Jt(tt.index)+tt[0].length>=Ye||le>=X)return le}while(tt);return le}findMatchesLineByLine(e,t,r,s){const l=[];let f=0;const L=new Yn.W5(t.wordSeparators,t.regex);let S=this.nodeAt2(e.startLineNumber,e.startColumn);if(S===null)return[];const X=this.nodeAt2(e.endLineNumber,e.endColumn);if(X===null)return[];let le=this.positionInBuffer(S.node,S.remainder);const ge=this.positionInBuffer(X.node,X.remainder);if(S.node===X.node)return this.findMatchesInNode(S.node,L,e.startLineNumber,e.startColumn,le,ge,t,r,s,f,l),l;let ve=e.startLineNumber,Be=S.node;for(;Be!==X.node;){const Ye=this.getLineFeedCnt(Be.piece.bufferIndex,le,Be.piece.end);if(Ye>=1){const Ct=this._buffers[Be.piece.bufferIndex].lineStarts,Ot=this.offsetInBuffer(Be.piece.bufferIndex,Be.piece.start),Jt=Ct[le.line+Ye],fn=ve===e.startLineNumber?e.startColumn:1;if(f=this.findMatchesInNode(Be,L,ve,fn,le,this.positionInBuffer(Be,Jt-Ot),t,r,s,f,l),f>=s)return l;ve+=Ye}const tt=ve===e.startLineNumber?e.startColumn-1:0;if(ve===e.endLineNumber){const Ct=this.getLineContent(ve).substring(tt,e.endColumn-1);return f=this._findMatchesInLine(t,L,Ct,e.endLineNumber,tt,f,l,r,s),l}if(f=this._findMatchesInLine(t,L,this.getLineContent(ve).substr(tt),ve,tt,f,l,r,s),f>=s)return l;ve++,S=this.nodeAt2(ve,1),Be=S.node,le=this.positionInBuffer(S.node,S.remainder)}if(ve===e.endLineNumber){const Ye=ve===e.startLineNumber?e.startColumn-1:0,tt=this.getLineContent(ve).substring(Ye,e.endColumn-1);return f=this._findMatchesInLine(t,L,tt,e.endLineNumber,Ye,f,l,r,s),l}const ze=ve===e.startLineNumber?e.startColumn:1;return f=this.findMatchesInNode(X.node,L,ve,ze,le,ge,t,r,s,f,l),l}_findMatchesInLine(e,t,r,s,l,f,L,S,X){const le=e.wordSeparators;if(!S&&e.simpleSearch){const ve=e.simpleSearch,Be=ve.length,ze=r.length;let Ye=-Be;for(;(Ye=r.indexOf(ve,Ye+Be))!==-1;)if((!le||(0,Yn.wC)(le,r,ze,Ye,Be))&&(L[f++]=new Zt.Dg(new z.Q(s,Ye+1+l,s,Ye+1+Be+l),null),f>=X))return f;return f}let ge;t.reset(0);do if(ge=t.next(r),ge&&(L[f++]=(0,Yn.dr)(new z.Q(s,ge.index+1+l,s,ge.index+1+ge[0].length+l),ge,S),f>=X))return f;while(ge);return f}insert(e,t,r=!1){if(this._EOLNormalized=this._EOLNormalized&&r,this._lastVisitedLine.lineNumber=0,this._lastVisitedLine.value="",this.root!==Wt){const{node:s,remainder:l,nodeStartOffset:f}=this.nodeAt(e),L=s.piece,S=L.bufferIndex,X=this.positionInBuffer(s,l);if(s.piece.bufferIndex===0&&L.end.line===this._lastChangeBufferPos.line&&L.end.column===this._lastChangeBufferPos.column&&f+L.length===e&&t.length<vi){this.appendToNode(s,t),this.computeBufferMetadata();return}if(f===e)this.insertContentToNodeLeft(t,s),this._searchCache.validate(e);else if(f+s.piece.length>e){const le=[];let ge=new Un(L.bufferIndex,X,L.end,this.getLineFeedCnt(L.bufferIndex,X,L.end),this.offsetInBuffer(S,L.end)-this.offsetInBuffer(S,X));if(this.shouldCheckCRLF()&&this.endWithCR(t)&&this.nodeCharCodeAt(s,l)===10){const Ye={line:ge.start.line+1,column:0};ge=new Un(ge.bufferIndex,Ye,ge.end,this.getLineFeedCnt(ge.bufferIndex,Ye,ge.end),ge.length-1),t+=`
`}if(this.shouldCheckCRLF()&&this.startWithLF(t))if(this.nodeCharCodeAt(s,l-1)===13){const Ye=this.positionInBuffer(s,l-1);this.deleteNodeTail(s,Ye),t="\r"+t,s.piece.length===0&&le.push(s)}else this.deleteNodeTail(s,X);else this.deleteNodeTail(s,X);const ve=this.createNewPieces(t);ge.length>0&&this.rbInsertRight(s,ge);let Be=s;for(let ze=0;ze<ve.length;ze++)Be=this.rbInsertRight(Be,ve[ze]);this.deleteNodes(le)}else this.insertContentToNodeRight(t,s)}else{const s=this.createNewPieces(t);let l=this.rbInsertLeft(null,s[0]);for(let f=1;f<s.length;f++)l=this.rbInsertRight(l,s[f])}this.computeBufferMetadata()}delete(e,t){if(this._lastVisitedLine.lineNumber=0,this._lastVisitedLine.value="",t<=0||this.root===Wt)return;const r=this.nodeAt(e),s=this.nodeAt(e+t),l=r.node,f=s.node;if(l===f){const ve=this.positionInBuffer(l,r.remainder),Be=this.positionInBuffer(l,s.remainder);if(r.nodeStartOffset===e){if(t===l.piece.length){const ze=l.next();nr(this,l),this.validateCRLFWithPrevNode(ze),this.computeBufferMetadata();return}this.deleteNodeHead(l,Be),this._searchCache.validate(e),this.validateCRLFWithPrevNode(l),this.computeBufferMetadata();return}if(r.nodeStartOffset+l.piece.length===e+t){this.deleteNodeTail(l,ve),this.validateCRLFWithNextNode(l),this.computeBufferMetadata();return}this.shrinkNode(l,ve,Be),this.computeBufferMetadata();return}const L=[],S=this.positionInBuffer(l,r.remainder);this.deleteNodeTail(l,S),this._searchCache.validate(e),l.piece.length===0&&L.push(l);const X=this.positionInBuffer(f,s.remainder);this.deleteNodeHead(f,X),f.piece.length===0&&L.push(f);const le=l.next();for(let ve=le;ve!==Wt&&ve!==f;ve=ve.next())L.push(ve);const ge=l.piece.length===0?l.prev():l;this.deleteNodes(L),this.validateCRLFWithNextNode(ge),this.computeBufferMetadata()}insertContentToNodeLeft(e,t){const r=[];if(this.shouldCheckCRLF()&&this.endWithCR(e)&&this.startWithLF(t)){const f=t.piece,L={line:f.start.line+1,column:0},S=new Un(f.bufferIndex,L,f.end,this.getLineFeedCnt(f.bufferIndex,L,f.end),f.length-1);t.piece=S,e+=`
`,_i(this,t,-1,-1),t.piece.length===0&&r.push(t)}const s=this.createNewPieces(e);let l=this.rbInsertLeft(t,s[s.length-1]);for(let f=s.length-2;f>=0;f--)l=this.rbInsertLeft(l,s[f]);this.validateCRLFWithPrevNode(l),this.deleteNodes(r)}insertContentToNodeRight(e,t){this.adjustCarriageReturnFromNext(e,t)&&(e+=`
`);const r=this.createNewPieces(e),s=this.rbInsertRight(t,r[0]);let l=s;for(let f=1;f<r.length;f++)l=this.rbInsertRight(l,r[f]);this.validateCRLFWithPrevNode(s)}positionInBuffer(e,t,r){const s=e.piece,l=e.piece.bufferIndex,f=this._buffers[l].lineStarts,S=f[s.start.line]+s.start.column+t;let X=s.start.line,le=s.end.line,ge=0,ve=0,Be=0;for(;X<=le&&(ge=X+(le-X)/2|0,Be=f[ge],ge!==le);)if(ve=f[ge+1],S<Be)le=ge-1;else if(S>=ve)X=ge+1;else break;return r?(r.line=ge,r.column=S-Be,null):{line:ge,column:S-Be}}getLineFeedCnt(e,t,r){if(r.column===0)return r.line-t.line;const s=this._buffers[e].lineStarts;if(r.line===s.length-1)return r.line-t.line;const l=s[r.line+1],f=s[r.line]+r.column;if(l>f+1)return r.line-t.line;const L=f-1;return this._buffers[e].buffer.charCodeAt(L)===13?r.line-t.line+1:r.line-t.line}offsetInBuffer(e,t){return this._buffers[e].lineStarts[t.line]+t.column}deleteNodes(e){for(let t=0;t<e.length;t++)nr(this,e[t])}createNewPieces(e){if(e.length>vi){const le=[];for(;e.length>vi;){const ve=e.charCodeAt(vi-1);let Be;ve===13||ve>=55296&&ve<=56319?(Be=e.substring(0,vi-1),e=e.substring(vi-1)):(Be=e.substring(0,vi),e=e.substring(vi));const ze=ki(Be);le.push(new Un(this._buffers.length,{line:0,column:0},{line:ze.length-1,column:Be.length-ze[ze.length-1]},ze.length-1,Be.length)),this._buffers.push(new ui(Be,ze))}const ge=ki(e);return le.push(new Un(this._buffers.length,{line:0,column:0},{line:ge.length-1,column:e.length-ge[ge.length-1]},ge.length-1,e.length)),this._buffers.push(new ui(e,ge)),le}let t=this._buffers[0].buffer.length;const r=ki(e,!1);let s=this._lastChangeBufferPos;if(this._buffers[0].lineStarts[this._buffers[0].lineStarts.length-1]===t&&t!==0&&this.startWithLF(e)&&this.endWithCR(this._buffers[0].buffer)){this._lastChangeBufferPos={line:this._lastChangeBufferPos.line,column:this._lastChangeBufferPos.column+1},s=this._lastChangeBufferPos;for(let le=0;le<r.length;le++)r[le]+=t+1;this._buffers[0].lineStarts=this._buffers[0].lineStarts.concat(r.slice(1)),this._buffers[0].buffer+="_"+e,t+=1}else{if(t!==0)for(let le=0;le<r.length;le++)r[le]+=t;this._buffers[0].lineStarts=this._buffers[0].lineStarts.concat(r.slice(1)),this._buffers[0].buffer+=e}const l=this._buffers[0].buffer.length,f=this._buffers[0].lineStarts.length-1,L=l-this._buffers[0].lineStarts[f],S={line:f,column:L},X=new Un(0,s,S,this.getLineFeedCnt(0,s,S),l-t);return this._lastChangeBufferPos=S,[X]}getLineRawContent(e,t=0){let r=this.root,s="";const l=this._searchCache.get2(e);if(l){r=l.node;const f=this.getAccumulatedValue(r,e-l.nodeStartLineNumber-1),L=this._buffers[r.piece.bufferIndex].buffer,S=this.offsetInBuffer(r.piece.bufferIndex,r.piece.start);if(l.nodeStartLineNumber+r.piece.lineFeedCnt===e)s=L.substring(S+f,S+r.piece.length);else{const X=this.getAccumulatedValue(r,e-l.nodeStartLineNumber);return L.substring(S+f,S+X-t)}}else{let f=0;const L=e;for(;r!==Wt;)if(r.left!==Wt&&r.lf_left>=e-1)r=r.left;else if(r.lf_left+r.piece.lineFeedCnt>e-1){const S=this.getAccumulatedValue(r,e-r.lf_left-2),X=this.getAccumulatedValue(r,e-r.lf_left-1),le=this._buffers[r.piece.bufferIndex].buffer,ge=this.offsetInBuffer(r.piece.bufferIndex,r.piece.start);return f+=r.size_left,this._searchCache.set({node:r,nodeStartOffset:f,nodeStartLineNumber:L-(e-1-r.lf_left)}),le.substring(ge+S,ge+X-t)}else if(r.lf_left+r.piece.lineFeedCnt===e-1){const S=this.getAccumulatedValue(r,e-r.lf_left-2),X=this._buffers[r.piece.bufferIndex].buffer,le=this.offsetInBuffer(r.piece.bufferIndex,r.piece.start);s=X.substring(le+S,le+r.piece.length);break}else e-=r.lf_left+r.piece.lineFeedCnt,f+=r.size_left+r.piece.length,r=r.right}for(r=r.next();r!==Wt;){const f=this._buffers[r.piece.bufferIndex].buffer;if(r.piece.lineFeedCnt>0){const L=this.getAccumulatedValue(r,0),S=this.offsetInBuffer(r.piece.bufferIndex,r.piece.start);return s+=f.substring(S,S+L-t),s}else{const L=this.offsetInBuffer(r.piece.bufferIndex,r.piece.start);s+=f.substr(L,r.piece.length)}r=r.next()}return s}computeBufferMetadata(){let e=this.root,t=1,r=0;for(;e!==Wt;)t+=e.lf_left+e.piece.lineFeedCnt,r+=e.size_left+e.piece.length,e=e.right;this._lineCnt=t,this._length=r,this._searchCache.validate(this._length)}getIndexOf(e,t){const r=e.piece,s=this.positionInBuffer(e,t),l=s.line-r.start.line;if(this.offsetInBuffer(r.bufferIndex,r.end)-this.offsetInBuffer(r.bufferIndex,r.start)===t){const f=this.getLineFeedCnt(e.piece.bufferIndex,r.start,s);if(f!==l)return{index:f,remainder:0}}return{index:l,remainder:s.column}}getAccumulatedValue(e,t){if(t<0)return 0;const r=e.piece,s=this._buffers[r.bufferIndex].lineStarts,l=r.start.line+t+1;return l>r.end.line?s[r.end.line]+r.end.column-s[r.start.line]-r.start.column:s[l]-s[r.start.line]-r.start.column}deleteNodeTail(e,t){const r=e.piece,s=r.lineFeedCnt,l=this.offsetInBuffer(r.bufferIndex,r.end),f=t,L=this.offsetInBuffer(r.bufferIndex,f),S=this.getLineFeedCnt(r.bufferIndex,r.start,f),X=S-s,le=L-l,ge=r.length+le;e.piece=new Un(r.bufferIndex,r.start,f,S,ge),_i(this,e,le,X)}deleteNodeHead(e,t){const r=e.piece,s=r.lineFeedCnt,l=this.offsetInBuffer(r.bufferIndex,r.start),f=t,L=this.getLineFeedCnt(r.bufferIndex,f,r.end),S=this.offsetInBuffer(r.bufferIndex,f),X=L-s,le=l-S,ge=r.length+le;e.piece=new Un(r.bufferIndex,f,r.end,L,ge),_i(this,e,le,X)}shrinkNode(e,t,r){const s=e.piece,l=s.start,f=s.end,L=s.length,S=s.lineFeedCnt,X=t,le=this.getLineFeedCnt(s.bufferIndex,s.start,X),ge=this.offsetInBuffer(s.bufferIndex,t)-this.offsetInBuffer(s.bufferIndex,l);e.piece=new Un(s.bufferIndex,s.start,X,le,ge),_i(this,e,ge-L,le-S);const ve=new Un(s.bufferIndex,r,f,this.getLineFeedCnt(s.bufferIndex,r,f),this.offsetInBuffer(s.bufferIndex,f)-this.offsetInBuffer(s.bufferIndex,r)),Be=this.rbInsertRight(e,ve);this.validateCRLFWithPrevNode(Be)}appendToNode(e,t){this.adjustCarriageReturnFromNext(t,e)&&(t+=`
`);const r=this.shouldCheckCRLF()&&this.startWithLF(t)&&this.endWithCR(e),s=this._buffers[0].buffer.length;this._buffers[0].buffer+=t;const l=ki(t,!1);for(let Be=0;Be<l.length;Be++)l[Be]+=s;if(r){const Be=this._buffers[0].lineStarts[this._buffers[0].lineStarts.length-2];this._buffers[0].lineStarts.pop(),this._lastChangeBufferPos={line:this._lastChangeBufferPos.line-1,column:s-Be}}this._buffers[0].lineStarts=this._buffers[0].lineStarts.concat(l.slice(1));const f=this._buffers[0].lineStarts.length-1,L=this._buffers[0].buffer.length-this._buffers[0].lineStarts[f],S={line:f,column:L},X=e.piece.length+t.length,le=e.piece.lineFeedCnt,ge=this.getLineFeedCnt(0,e.piece.start,S),ve=ge-le;e.piece=new Un(e.piece.bufferIndex,e.piece.start,S,ge,X),this._lastChangeBufferPos=S,_i(this,e,t.length,ve)}nodeAt(e){let t=this.root;const r=this._searchCache.get(e);if(r)return{node:r.node,nodeStartOffset:r.nodeStartOffset,remainder:e-r.nodeStartOffset};let s=0;for(;t!==Wt;)if(t.size_left>e)t=t.left;else if(t.size_left+t.piece.length>=e){s+=t.size_left;const l={node:t,remainder:e-t.size_left,nodeStartOffset:s};return this._searchCache.set(l),l}else e-=t.size_left+t.piece.length,s+=t.size_left+t.piece.length,t=t.right;return null}nodeAt2(e,t){let r=this.root,s=0;for(;r!==Wt;)if(r.left!==Wt&&r.lf_left>=e-1)r=r.left;else if(r.lf_left+r.piece.lineFeedCnt>e-1){const l=this.getAccumulatedValue(r,e-r.lf_left-2),f=this.getAccumulatedValue(r,e-r.lf_left-1);return s+=r.size_left,{node:r,remainder:Math.min(l+t-1,f),nodeStartOffset:s}}else if(r.lf_left+r.piece.lineFeedCnt===e-1){const l=this.getAccumulatedValue(r,e-r.lf_left-2);if(l+t-1<=r.piece.length)return{node:r,remainder:l+t-1,nodeStartOffset:s};t-=r.piece.length-l;break}else e-=r.lf_left+r.piece.lineFeedCnt,s+=r.size_left+r.piece.length,r=r.right;for(r=r.next();r!==Wt;){if(r.piece.lineFeedCnt>0){const l=this.getAccumulatedValue(r,0),f=this.offsetOfNode(r);return{node:r,remainder:Math.min(t-1,l),nodeStartOffset:f}}else if(r.piece.length>=t-1){const l=this.offsetOfNode(r);return{node:r,remainder:t-1,nodeStartOffset:l}}else t-=r.piece.length;r=r.next()}return null}nodeCharCodeAt(e,t){if(e.piece.lineFeedCnt<1)return-1;const r=this._buffers[e.piece.bufferIndex],s=this.offsetInBuffer(e.piece.bufferIndex,e.piece.start)+t;return r.buffer.charCodeAt(s)}offsetOfNode(e){if(!e)return 0;let t=e.size_left;for(;e!==this.root;)e.parent.right===e&&(t+=e.parent.size_left+e.parent.piece.length),e=e.parent;return t}shouldCheckCRLF(){return!(this._EOLNormalized&&this._EOL===`
`)}startWithLF(e){if(typeof e=="string")return e.charCodeAt(0)===10;if(e===Wt||e.piece.lineFeedCnt===0)return!1;const t=e.piece,r=this._buffers[t.bufferIndex].lineStarts,s=t.start.line,l=r[s]+t.start.column;return s===r.length-1||r[s+1]>l+1?!1:this._buffers[t.bufferIndex].buffer.charCodeAt(l)===10}endWithCR(e){return typeof e=="string"?e.charCodeAt(e.length-1)===13:e===Wt||e.piece.lineFeedCnt===0?!1:this.nodeCharCodeAt(e,e.piece.length-1)===13}validateCRLFWithPrevNode(e){if(this.shouldCheckCRLF()&&this.startWithLF(e)){const t=e.prev();this.endWithCR(t)&&this.fixCRLF(t,e)}}validateCRLFWithNextNode(e){if(this.shouldCheckCRLF()&&this.endWithCR(e)){const t=e.next();this.startWithLF(t)&&this.fixCRLF(e,t)}}fixCRLF(e,t){const r=[],s=this._buffers[e.piece.bufferIndex].lineStarts;let l;e.piece.end.column===0?l={line:e.piece.end.line-1,column:s[e.piece.end.line]-s[e.piece.end.line-1]-1}:l={line:e.piece.end.line,column:e.piece.end.column-1};const f=e.piece.length-1,L=e.piece.lineFeedCnt-1;e.piece=new Un(e.piece.bufferIndex,e.piece.start,l,L,f),_i(this,e,-1,-1),e.piece.length===0&&r.push(e);const S={line:t.piece.start.line+1,column:0},X=t.piece.length-1,le=this.getLineFeedCnt(t.piece.bufferIndex,S,t.piece.end);t.piece=new Un(t.piece.bufferIndex,S,t.piece.end,le,X),_i(this,t,-1,-1),t.piece.length===0&&r.push(t);const ge=this.createNewPieces(`\r
`);this.rbInsertRight(e,ge[0]);for(let ve=0;ve<r.length;ve++)nr(this,r[ve])}adjustCarriageReturnFromNext(e,t){if(this.shouldCheckCRLF()&&this.endWithCR(e)){const r=t.next();if(this.startWithLF(r)){if(e+=`
`,r.piece.length===1)nr(this,r);else{const s=r.piece,l={line:s.start.line+1,column:0},f=s.length-1,L=this.getLineFeedCnt(s.bufferIndex,l,s.end);r.piece=new Un(s.bufferIndex,l,s.end,L,f),_i(this,r,-1,-1)}return!0}}return!1}iterate(e,t){if(e===Wt)return t(Wt);const r=this.iterate(e.left,t);return r&&t(e)&&this.iterate(e.right,t)}getNodeContent(e){if(e===Wt)return"";const t=this._buffers[e.piece.bufferIndex],r=e.piece,s=this.offsetInBuffer(r.bufferIndex,r.start),l=this.offsetInBuffer(r.bufferIndex,r.end);return t.buffer.substring(s,l)}getPieceContent(e){const t=this._buffers[e.bufferIndex],r=this.offsetInBuffer(e.bufferIndex,e.start),s=this.offsetInBuffer(e.bufferIndex,e.end);return t.buffer.substring(r,s)}rbInsertRight(e,t){const r=new Gr(t,1);if(r.left=Wt,r.right=Wt,r.parent=Wt,r.size_left=0,r.lf_left=0,this.root===Wt)this.root=r,r.color=0;else if(e.right===Wt)e.right=r,r.parent=e;else{const l=hs(e.right);l.left=r,r.parent=l}return ir(this,r),r}rbInsertLeft(e,t){const r=new Gr(t,1);if(r.left=Wt,r.right=Wt,r.parent=Wt,r.size_left=0,r.lf_left=0,this.root===Wt)this.root=r,r.color=0;else if(e.left===Wt)e.left=r,r.parent=e;else{const s=Nr(e.left);s.right=r,r.parent=s}return ir(this,r),r}};n(xa,"PieceTreeBase");let br=xa;const ms=class ms extends ie.jG{constructor(e,t,r,s,l,f,L){super(),this._onDidChangeContent=this._register(new F.vl),this._BOM=t,this._mightContainNonBasicASCII=!f,this._mightContainRTL=s,this._mightContainUnusualLineTerminators=l,this._pieceTree=new br(e,r,L)}mightContainRTL(){return this._mightContainRTL}mightContainUnusualLineTerminators(){return this._mightContainUnusualLineTerminators}resetMightContainUnusualLineTerminators(){this._mightContainUnusualLineTerminators=!1}mightContainNonBasicASCII(){return this._mightContainNonBasicASCII}getBOM(){return this._BOM}getEOL(){return this._pieceTree.getEOL()}createSnapshot(e){return this._pieceTree.createSnapshot(e?this._BOM:"")}getOffsetAt(e,t){return this._pieceTree.getOffsetAt(e,t)}getPositionAt(e){return this._pieceTree.getPositionAt(e)}getRangeAt(e,t){const r=e+t,s=this.getPositionAt(e),l=this.getPositionAt(r);return new z.Q(s.lineNumber,s.column,l.lineNumber,l.column)}getValueInRange(e,t=0){if(e.isEmpty())return"";const r=this._getEndOfLine(t);return this._pieceTree.getValueInRange(e,r)}getValueLengthInRange(e,t=0){if(e.isEmpty())return 0;if(e.startLineNumber===e.endLineNumber)return e.endColumn-e.startColumn;const r=this.getOffsetAt(e.startLineNumber,e.startColumn),s=this.getOffsetAt(e.endLineNumber,e.endColumn);let l=0;const f=this._getEndOfLine(t),L=this.getEOL();if(f.length!==L.length){const S=f.length-L.length,X=e.endLineNumber-e.startLineNumber;l=S*X}return s-r+l}getCharacterCountInRange(e,t=0){if(this._mightContainNonBasicASCII){let r=0;const s=e.startLineNumber,l=e.endLineNumber;for(let f=s;f<=l;f++){const L=this.getLineContent(f),S=f===s?e.startColumn-1:0,X=f===l?e.endColumn-1:L.length;for(let le=S;le<X;le++)g.pc(L.charCodeAt(le))?(r=r+1,le=le+1):r=r+1}return r+=this._getEndOfLine(t).length*(l-s),r}return this.getValueLengthInRange(e,t)}getLength(){return this._pieceTree.getLength()}getLineCount(){return this._pieceTree.getLineCount()}getLinesContent(){return this._pieceTree.getLinesContent()}getLineContent(e){return this._pieceTree.getLineContent(e)}getLineCharCode(e,t){return this._pieceTree.getLineCharCode(e,t)}getLineLength(e){return this._pieceTree.getLineLength(e)}getLineFirstNonWhitespaceColumn(e){const t=g.HG(this.getLineContent(e));return t===-1?0:t+1}getLineLastNonWhitespaceColumn(e){const t=g.lT(this.getLineContent(e));return t===-1?0:t+2}_getEndOfLine(e){switch(e){case 1:return`
`;case 2:return`\r
`;case 0:return this.getEOL();default:throw new Error("Unknown EOL preference")}}setEOL(e){this._pieceTree.setEOL(e)}applyEdits(e,t,r){let s=this._mightContainRTL,l=this._mightContainUnusualLineTerminators,f=this._mightContainNonBasicASCII,L=!0,S=[];for(let Ye=0;Ye<e.length;Ye++){const tt=e[Ye];L&&tt._isTracked&&(L=!1);const Ct=tt.range;if(tt.text){let jn=!0;f||(jn=!g.aC(tt.text),f=jn),!s&&jn&&(s=g.E_(tt.text)),!l&&jn&&(l=g.$X(tt.text))}let Ot="",Jt=0,fn=0,Bn=0;if(tt.text){let jn;[Jt,fn,Bn,jn]=(0,O.W)(tt.text);const Nn=this.getEOL();jn===0||jn===(Nn===`\r
`?2:1)?Ot=tt.text:Ot=tt.text.replace(/\r\n|\r|\n/g,Nn)}S[Ye]={sortIndex:Ye,identifier:tt.identifier||null,range:Ct,rangeOffset:this.getOffsetAt(Ct.startLineNumber,Ct.startColumn),rangeLength:this.getValueLengthInRange(Ct),text:Ot,eolCount:Jt,firstLineLength:fn,lastLineLength:Bn,forceMoveMarkers:!!tt.forceMoveMarkers,isAutoWhitespaceEdit:tt.isAutoWhitespaceEdit||!1}}S.sort(ms._sortOpsAscending);let X=!1;for(let Ye=0,tt=S.length-1;Ye<tt;Ye++){const Ct=S[Ye].range.getEndPosition(),Ot=S[Ye+1].range.getStartPosition();if(Ot.isBeforeOrEqual(Ct)){if(Ot.isBefore(Ct))throw new Error("Overlapping ranges are not allowed!");X=!0}}L&&(S=this._reduceOperations(S));const le=r||t?ms._getInverseEditRanges(S):[],ge=[];if(t)for(let Ye=0;Ye<S.length;Ye++){const tt=S[Ye],Ct=le[Ye];if(tt.isAutoWhitespaceEdit&&tt.range.isEmpty())for(let Ot=Ct.startLineNumber;Ot<=Ct.endLineNumber;Ot++){let Jt="";Ot===Ct.startLineNumber&&(Jt=this.getLineContent(tt.range.startLineNumber),g.HG(Jt)!==-1)||ge.push({lineNumber:Ot,oldContent:Jt})}}let ve=null;if(r){let Ye=0;ve=[];for(let tt=0;tt<S.length;tt++){const Ct=S[tt],Ot=le[tt],Jt=this.getValueInRange(Ct.range),fn=Ct.rangeOffset+Ye;Ye+=Ct.text.length-Jt.length,ve[tt]={sortIndex:Ct.sortIndex,identifier:Ct.identifier,range:Ot,text:Jt,textChange:new p(Ct.rangeOffset,Jt,fn,Ct.text)}}X||ve.sort((tt,Ct)=>tt.sortIndex-Ct.sortIndex)}this._mightContainRTL=s,this._mightContainUnusualLineTerminators=l,this._mightContainNonBasicASCII=f;const Be=this._doApplyEdits(S);let ze=null;if(t&&ge.length>0){ge.sort((Ye,tt)=>tt.lineNumber-Ye.lineNumber),ze=[];for(let Ye=0,tt=ge.length;Ye<tt;Ye++){const Ct=ge[Ye].lineNumber;if(Ye>0&&ge[Ye-1].lineNumber===Ct)continue;const Ot=ge[Ye].oldContent,Jt=this.getLineContent(Ct);Jt.length===0||Jt===Ot||g.HG(Jt)!==-1||ze.push(Ct)}}return this._onDidChangeContent.fire(),new Zt.F4(ve,Be,ze)}_reduceOperations(e){return e.length<1e3?e:[this._toSingleEditOperation(e)]}_toSingleEditOperation(e){let t=!1;const r=e[0].range,s=e[e.length-1].range,l=new z.Q(r.startLineNumber,r.startColumn,s.endLineNumber,s.endColumn);let f=r.startLineNumber,L=r.startColumn;const S=[];for(let Be=0,ze=e.length;Be<ze;Be++){const Ye=e[Be],tt=Ye.range;t=t||Ye.forceMoveMarkers,S.push(this.getValueInRange(new z.Q(f,L,tt.startLineNumber,tt.startColumn))),Ye.text.length>0&&S.push(Ye.text),f=tt.endLineNumber,L=tt.endColumn}const X=S.join(""),[le,ge,ve]=(0,O.W)(X);return{sortIndex:0,identifier:e[0].identifier,range:l,rangeOffset:this.getOffsetAt(l.startLineNumber,l.startColumn),rangeLength:this.getValueLengthInRange(l,0),text:X,eolCount:le,firstLineLength:ge,lastLineLength:ve,forceMoveMarkers:t,isAutoWhitespaceEdit:!1}}_doApplyEdits(e){e.sort(ms._sortOpsDescending);const t=[];for(let r=0;r<e.length;r++){const s=e[r],l=s.range.startLineNumber,f=s.range.startColumn,L=s.range.endLineNumber,S=s.range.endColumn;if(l===L&&f===S&&s.text.length===0)continue;s.text?(this._pieceTree.delete(s.rangeOffset,s.rangeLength),this._pieceTree.insert(s.rangeOffset,s.text,!0)):this._pieceTree.delete(s.rangeOffset,s.rangeLength);const X=new z.Q(l,f,L,S);t.push({range:X,rangeLength:s.rangeLength,text:s.text,rangeOffset:s.rangeOffset,forceMoveMarkers:s.forceMoveMarkers})}return t}findMatchesLineByLine(e,t,r,s){return this._pieceTree.findMatchesLineByLine(e,t,r,s)}static _getInverseEditRanges(e){const t=[];let r=0,s=0,l=null;for(let f=0,L=e.length;f<L;f++){const S=e[f];let X,le;l?l.range.endLineNumber===S.range.startLineNumber?(X=r,le=s+(S.range.startColumn-l.range.endColumn)):(X=r+(S.range.startLineNumber-l.range.endLineNumber),le=S.range.startColumn):(X=S.range.startLineNumber,le=S.range.startColumn);let ge;if(S.text.length>0){const ve=S.eolCount+1;ve===1?ge=new z.Q(X,le,X,le+S.firstLineLength):ge=new z.Q(X,le,X+ve-1,S.lastLineLength+1)}else ge=new z.Q(X,le,X,le);r=ge.endLineNumber,s=ge.endColumn,t.push(ge),l=S}return t}static _sortOpsAscending(e,t){const r=z.Q.compareRangesUsingEnds(e.range,t.range);return r===0?e.sortIndex-t.sortIndex:r}static _sortOpsDescending(e,t){const r=z.Q.compareRangesUsingEnds(e.range,t.range);return r===0?t.sortIndex-e.sortIndex:-r}};n(ms,"PieceTreeTextBuffer");let rr=ms;const wa=class wa{constructor(e,t,r,s,l,f,L,S,X){this._chunks=e,this._bom=t,this._cr=r,this._lf=s,this._crlf=l,this._containsRTL=f,this._containsUnusualLineTerminators=L,this._isBasicASCII=S,this._normalizeEOL=X}_getEOL(e){const t=this._cr+this._lf+this._crlf,r=this._cr+this._crlf;return t===0?e===1?`
`:`\r
`:r>t/2?`\r
`:`
`}create(e){const t=this._getEOL(e),r=this._chunks;if(this._normalizeEOL&&(t===`\r
`&&(this._cr>0||this._lf>0)||t===`
`&&(this._cr>0||this._crlf>0)))for(let l=0,f=r.length;l<f;l++){const L=r[l].buffer.replace(/\r\n|\r|\n/g,t),S=ki(L);r[l]=new ui(L,S)}const s=new rr(r,this._bom,t,this._containsRTL,this._containsUnusualLineTerminators,this._isBasicASCII,this._normalizeEOL);return{textBuffer:s,disposable:s}}};n(wa,"PieceTreeTextBufferFactory");let _r=wa;const ya=class ya{constructor(){this.chunks=[],this.BOM="",this._hasPreviousChar=!1,this._previousChar=0,this._tmpLineStarts=[],this.cr=0,this.lf=0,this.crlf=0,this.containsRTL=!1,this.containsUnusualLineTerminators=!1,this.isBasicASCII=!0}acceptChunk(e){if(e.length===0)return;this.chunks.length===0&&g.LU(e)&&(this.BOM=g.r_,e=e.substr(1));const t=e.charCodeAt(e.length-1);t===13||t>=55296&&t<=56319?(this._acceptChunk1(e.substr(0,e.length-1),!1),this._hasPreviousChar=!0,this._previousChar=t):(this._acceptChunk1(e,!1),this._hasPreviousChar=!1,this._previousChar=t)}_acceptChunk1(e,t){!t&&e.length===0||(this._hasPreviousChar?this._acceptChunk2(String.fromCharCode(this._previousChar)+e):this._acceptChunk2(e))}_acceptChunk2(e){const t=Pr(this._tmpLineStarts,e);this.chunks.push(new ui(e,t.lineStarts)),this.cr+=t.cr,this.lf+=t.lf,this.crlf+=t.crlf,t.isBasicASCII||(this.isBasicASCII=!1,this.containsRTL||(this.containsRTL=g.E_(e)),this.containsUnusualLineTerminators||(this.containsUnusualLineTerminators=g.$X(e)))}finish(e=!0){return this._finish(),new _r(this.chunks,this.BOM,this.cr,this.lf,this.crlf,this.containsRTL,this.containsUnusualLineTerminators,this.isBasicASCII,e)}_finish(){if(this.chunks.length===0&&this._acceptChunk1("",!0),this._hasPreviousChar){this._hasPreviousChar=!1;const e=this.chunks[this.chunks.length-1];e.buffer+=String.fromCharCode(this._previousChar);const t=ki(e.buffer);e.lineStarts=t,this._previousChar===13&&this.cr++}}};n(ya,"PieceTreeTextBufferBuilder");let sr=ya;var Zi=E(9955),zi=E(4364),Tr=E(1946),Vr=E(3013),ri=E(2532);const Wr=new class{clone(){return this}equals(C){return this===C}};function Qr(C,e){return new TokenizationResult([new Token(0,"",C)],e)}n(Qr,"nullTokenize");function Ur(C,e){const t=new Uint32Array(2);return t[0]=0,t[1]=(C<<0|0|0|32768|33554432)>>>0,new zi.rY(t,e===null?Wr:e)}n(Ur,"nullTokenizeEncoded");const Sa=class Sa{constructor(e){this._default=e,this._store=[]}get(e){return e<this._store.length?this._store[e]:this._default}set(e,t){for(;e>=this._store.length;)this._store[this._store.length]=this._default;this._store[e]=t}replace(e,t,r){if(e>=this._store.length)return;if(t===0){this.insert(e,r);return}else if(r===0){this.delete(e,t);return}const s=this._store.slice(0,e),l=this._store.slice(e+t),f=a(r,this._default);this._store=s.concat(f,l)}delete(e,t){t===0||e>=this._store.length||this._store.splice(e,t)}insert(e,t){if(t===0||e>=this._store.length)return;const r=[];for(let s=0;s<t;s++)r[s]=this._default;this._store=(0,K.nK)(this._store,e,r)}};n(Sa,"FixedArray");let vr=Sa;function a(C,e){const t=[];for(let r=0;r<C;r++)t[r]=e;return t}n(a,"arrayFill");const Ea=class Ea{get startLineNumber(){return this._startLineNumber}get endLineNumber(){return this._startLineNumber+this._tokens.length-1}constructor(e,t){this._startLineNumber=e,this._tokens=t}getLineTokens(e){return this._tokens[e-this._startLineNumber]}appendLineTokens(e){this._tokens.push(e)}};n(Ea,"ContiguousMultilineTokens");let u=Ea;const Aa=class Aa{constructor(){this._tokens=[]}add(e,t){if(this._tokens.length>0){const r=this._tokens[this._tokens.length-1];if(r.endLineNumber+1===e){r.appendLineTokens(t);return}}this._tokens.push(new u(e,[t]))}finalize(){return this._tokens}};n(Aa,"ContiguousMultilineTokensBuilder");let h=Aa;const Rr=class Rr{static createEmpty(e,t){const r=Rr.defaultTokenMetadata,s=new Uint32Array(2);return s[0]=e.length,s[1]=r,new Rr(s,e,t)}static createFromTextAndMetadata(e,t){let r=0,s="";const l=new Array;for(const{text:f,metadata:L}of e)l.push(r+f.length,L),r+=f.length,s+=f;return new Rr(new Uint32Array(l),s,t)}constructor(e,t,r){this._lineTokensBrand=void 0,this._tokens=e,this._tokensCount=this._tokens.length>>>1,this._text=t,this.languageIdCodec=r}equals(e){return e instanceof Rr?this.slicedEquals(e,0,this._tokensCount):!1}slicedEquals(e,t,r){if(this._text!==e._text||this._tokensCount!==e._tokensCount)return!1;const s=t<<1,l=s+(r<<1);for(let f=s;f<l;f++)if(this._tokens[f]!==e._tokens[f])return!1;return!0}getLineContent(){return this._text}getCount(){return this._tokensCount}getStartOffset(e){return e>0?this._tokens[e-1<<1]:0}getMetadata(e){return this._tokens[(e<<1)+1]}getLanguageId(e){const t=this._tokens[(e<<1)+1],r=se.x.getLanguageId(t);return this.languageIdCodec.decodeLanguageId(r)}getStandardTokenType(e){const t=this._tokens[(e<<1)+1];return se.x.getTokenType(t)}getForeground(e){const t=this._tokens[(e<<1)+1];return se.x.getForeground(t)}getClassName(e){const t=this._tokens[(e<<1)+1];return se.x.getClassNameFromMetadata(t)}getInlineStyle(e,t){const r=this._tokens[(e<<1)+1];return se.x.getInlineStyleFromMetadata(r,t)}getPresentation(e){const t=this._tokens[(e<<1)+1];return se.x.getPresentationFromMetadata(t)}getEndOffset(e){return this._tokens[e<<1]}findTokenIndexAtOffset(e){return Rr.findIndexInTokensArray(this._tokens,e)}inflate(){return this}sliceAndInflate(e,t,r){return new d(this,e,t,r)}static convertToEndOffset(e,t){const s=(e.length>>>1)-1;for(let l=0;l<s;l++)e[l<<1]=e[l+1<<1];e[s<<1]=t}static findIndexInTokensArray(e,t){if(e.length<=2)return 0;let r=0,s=(e.length>>>1)-1;for(;r<s;){const l=r+Math.floor((s-r)/2),f=e[l<<1];if(f===t)return l+1;f<t?r=l+1:f>t&&(s=l)}return r}withInserted(e){if(e.length===0)return this;let t=0,r=0,s="";const l=new Array;let f=0;for(;;){const L=t<this._tokensCount?this._tokens[t<<1]:-1,S=r<e.length?e[r]:null;if(L!==-1&&(S===null||L<=S.offset)){s+=this._text.substring(f,L);const X=this._tokens[(t<<1)+1];l.push(s.length,X),t++,f=L}else if(S){if(S.offset>f){s+=this._text.substring(f,S.offset);const X=this._tokens[(t<<1)+1];l.push(s.length,X),f=S.offset}s+=S.text,l.push(s.length,S.tokenMetadata),r++}else break}return new Rr(new Uint32Array(l),s,this.languageIdCodec)}getTokenText(e){const t=this.getStartOffset(e),r=this.getEndOffset(e);return this._text.substring(t,r)}forEach(e){const t=this.getCount();for(let r=0;r<t;r++)e(r)}};n(Rr,"LineTokens"),Rr.defaultTokenMetadata=33587200;let c=Rr;const so=class so{constructor(e,t,r,s){this._source=e,this._startOffset=t,this._endOffset=r,this._deltaOffset=s,this._firstTokenIndex=e.findTokenIndexAtOffset(t),this.languageIdCodec=e.languageIdCodec,this._tokensCount=0;for(let l=this._firstTokenIndex,f=e.getCount();l<f&&!(e.getStartOffset(l)>=r);l++)this._tokensCount++}getMetadata(e){return this._source.getMetadata(this._firstTokenIndex+e)}getLanguageId(e){return this._source.getLanguageId(this._firstTokenIndex+e)}getLineContent(){return this._source.getLineContent().substring(this._startOffset,this._endOffset)}equals(e){return e instanceof so?this._startOffset===e._startOffset&&this._endOffset===e._endOffset&&this._deltaOffset===e._deltaOffset&&this._source.slicedEquals(e._source,this._firstTokenIndex,this._tokensCount):!1}getCount(){return this._tokensCount}getStandardTokenType(e){return this._source.getStandardTokenType(this._firstTokenIndex+e)}getForeground(e){return this._source.getForeground(this._firstTokenIndex+e)}getEndOffset(e){const t=this._source.getEndOffset(this._firstTokenIndex+e);return Math.min(this._endOffset,t)-this._startOffset+this._deltaOffset}getClassName(e){return this._source.getClassName(this._firstTokenIndex+e)}getInlineStyle(e,t){return this._source.getInlineStyle(this._firstTokenIndex+e,t)}getPresentation(e){return this._source.getPresentation(this._firstTokenIndex+e)}findTokenIndexAtOffset(e){return this._source.findTokenIndexAtOffset(e+this._startOffset-this._deltaOffset)-this._firstTokenIndex}getTokenText(e){const t=this._firstTokenIndex+e,r=this._source.getStartOffset(t),s=this._source.getEndOffset(t);let l=this._source.getTokenText(t);return r<this._startOffset&&(l=l.substring(this._startOffset-r)),s>this._endOffset&&(l=l.substring(0,l.length-(s-this._endOffset))),l}forEach(e){for(let t=0;t<this.getCount();t++)e(t)}};n(so,"SliceLineTokens");let d=so;function x(C,e){const t=e.lineNumber;if(!C.tokenization.isCheapToTokenize(t))return;C.tokenization.forceTokenization(t);const r=C.tokenization.getLineTokens(t),s=r.findTokenIndexAtOffset(e.column-1);return r.getStandardTokenType(s)}n(x,"getStandardTokenTypeAtPosition");const Ia=class Ia{constructor(e,t){this.tokenizationSupport=t,this.initialState=this.tokenizationSupport.getInitialState(),this.store=new de(e)}getStartState(e){return this.store.getStartState(e,this.initialState)}getFirstInvalidLine(){return this.store.getFirstInvalidLine(this.initialState)}};n(Ia,"TokenizerWithStateStore");let te=Ia;const Na=class Na extends te{constructor(e,t,r,s){super(e,t),this._textModel=r,this._languageIdCodec=s}updateTokensUntilLine(e,t){const r=this._textModel.getLanguageId();for(;;){const s=this.getFirstInvalidLine();if(!s||s.lineNumber>t)break;const l=this._textModel.getLineContent(s.lineNumber),f=be(this._languageIdCodec,r,this.tokenizationSupport,l,!0,s.startState);e.add(s.lineNumber,f.tokens),this.store.setEndState(s.lineNumber,f.endState)}}getTokenTypeIfInsertingCharacter(e,t){const r=this.getStartState(e.lineNumber);if(!r)return 0;const s=this._textModel.getLanguageId(),l=this._textModel.getLineContent(e.lineNumber),f=l.substring(0,e.column-1)+t+l.substring(e.column-1),L=be(this._languageIdCodec,s,this.tokenizationSupport,f,!0,r),S=new c(L.tokens,f,this._languageIdCodec);if(S.getCount()===0)return 0;const X=S.findTokenIndexAtOffset(e.column-1);return S.getStandardTokenType(X)}tokenizeLineWithEdit(e,t,r){const s=e.lineNumber,l=e.column,f=this.getStartState(s);if(!f)return null;const L=this._textModel.getLineContent(s),S=L.substring(0,l-1)+r+L.substring(l-1+t),X=this._textModel.getLanguageIdAtPosition(s,0),le=be(this._languageIdCodec,X,this.tokenizationSupport,S,!0,f);return new c(le.tokens,S,this._languageIdCodec)}hasAccurateTokensForLine(e){const t=this.store.getFirstInvalidEndStateLineNumberOrMax();return e<t}isCheapToTokenize(e){const t=this.store.getFirstInvalidEndStateLineNumberOrMax();return e<t||e===t&&this._textModel.getLineLength(e)<2048}tokenizeHeuristically(e,t,r){if(r<=this.store.getFirstInvalidEndStateLineNumberOrMax())return{heuristicTokens:!1};if(t<=this.store.getFirstInvalidEndStateLineNumberOrMax())return this.updateTokensUntilLine(e,r),{heuristicTokens:!1};let s=this.guessStartState(t);const l=this._textModel.getLanguageId();for(let f=t;f<=r;f++){const L=this._textModel.getLineContent(f),S=be(this._languageIdCodec,l,this.tokenizationSupport,L,!0,s);e.add(f,S.tokens),s=S.endState}return{heuristicTokens:!0}}guessStartState(e){let t=this._textModel.getLineFirstNonWhitespaceColumn(e);const r=[];let s=null;for(let L=e-1;t>1&&L>=1;L--){const S=this._textModel.getLineFirstNonWhitespaceColumn(L);if(S!==0&&S<t&&(r.push(this._textModel.getLineContent(L)),t=S,s=this.getStartState(L),s))break}s||(s=this.tokenizationSupport.getInitialState()),r.reverse();const l=this._textModel.getLanguageId();let f=s;for(const L of r)f=be(this._languageIdCodec,l,this.tokenizationSupport,L,!1,f).endState;return f}};n(Na,"TokenizerWithStateStoreAndTextModel");let pe=Na;const Ta=class Ta{constructor(e){this.lineCount=e,this._tokenizationStateStore=new oe,this._invalidEndStatesLineNumbers=new ke,this._invalidEndStatesLineNumbers.addRange(new ri.L(1,e+1))}getEndState(e){return this._tokenizationStateStore.getEndState(e)}setEndState(e,t){if(!t)throw new N.D7("Cannot set null/undefined state");this._invalidEndStatesLineNumbers.delete(e);const r=this._tokenizationStateStore.setEndState(e,t);return r&&e<this.lineCount&&this._invalidEndStatesLineNumbers.addRange(new ri.L(e+1,e+2)),r}acceptChange(e,t){this.lineCount+=t-e.length,this._tokenizationStateStore.acceptChange(e,t),this._invalidEndStatesLineNumbers.addRangeAndResize(new ri.L(e.startLineNumber,e.endLineNumberExclusive),t)}acceptChanges(e){for(const t of e){const[r]=(0,O.W)(t.text);this.acceptChange(new Zi.M(t.range.startLineNumber,t.range.endLineNumber+1),r+1)}}invalidateEndStateRange(e){this._invalidEndStatesLineNumbers.addRange(new ri.L(e.startLineNumber,e.endLineNumberExclusive))}getFirstInvalidEndStateLineNumber(){return this._invalidEndStatesLineNumbers.min}getFirstInvalidEndStateLineNumberOrMax(){return this.getFirstInvalidEndStateLineNumber()||Number.MAX_SAFE_INTEGER}allStatesValid(){return this._invalidEndStatesLineNumbers.min===null}getStartState(e,t){return e===1?t:this.getEndState(e-1)}getFirstInvalidLine(e){const t=this.getFirstInvalidEndStateLineNumber();if(t===null)return null;const r=this.getStartState(t,e);if(!r)throw new N.D7("Start state must be defined");return{lineNumber:t,startState:r}}};n(Ta,"TrackingTokenizationStateStore");let de=Ta;const Da=class Da{constructor(){this._lineEndStates=new vr(null)}getEndState(e){return this._lineEndStates.get(e)}setEndState(e,t){const r=this._lineEndStates.get(e);return r&&r.equals(t)?!1:(this._lineEndStates.set(e,t),!0)}acceptChange(e,t){let r=e.length;t>0&&r>0&&(r--,t--),this._lineEndStates.replace(e.startLineNumber,r,t)}};n(Da,"TokenizationStateStore");let oe=Da;const Ba=class Ba{constructor(){this._ranges=[]}get min(){return this._ranges.length===0?null:this._ranges[0].start}delete(e){const t=this._ranges.findIndex(r=>r.contains(e));if(t!==-1){const r=this._ranges[t];r.start===e?r.endExclusive===e+1?this._ranges.splice(t,1):this._ranges[t]=new ri.L(e+1,r.endExclusive):r.endExclusive===e+1?this._ranges[t]=new ri.L(r.start,e):this._ranges.splice(t,1,new ri.L(r.start,e),new ri.L(e+1,r.endExclusive))}}addRange(e){ri.L.addRange(e,this._ranges)}addRangeAndResize(e,t){let r=0;for(;!(r>=this._ranges.length||e.start<=this._ranges[r].endExclusive);)r++;let s=r;for(;!(s>=this._ranges.length||e.endExclusive<this._ranges[s].start);)s++;const l=t-e.length;for(let f=s;f<this._ranges.length;f++)this._ranges[f]=this._ranges[f].delta(l);if(r===s){const f=new ri.L(e.start,e.start+t);f.isEmpty||this._ranges.splice(r,0,f)}else{const f=Math.min(e.start,this._ranges[r].start),L=Math.max(e.endExclusive,this._ranges[s-1].endExclusive),S=new ri.L(f,L+l);S.isEmpty?this._ranges.splice(r,s-r):this._ranges.splice(r,s-r,S)}}toString(){return this._ranges.map(e=>e.toString()).join(" + ")}};n(Ba,"RangePriorityQueueImpl");let ke=Ba;function be(C,e,t,r,s,l){let f=null;if(t)try{f=t.tokenizeEncoded(r,s,l.clone())}catch(L){(0,N.dz)(L)}return f||(f=Ur(C.encodeLanguageId(e),l)),c.convertToEndOffset(f.tokens,r.length),f}n(be,"safeTokenize");const Ra=class Ra{constructor(e,t){this._tokenizerWithStateStore=e,this._backgroundTokenStore=t,this._isDisposed=!1,this._isScheduled=!1}dispose(){this._isDisposed=!0}handleChanges(){this._beginBackgroundTokenization()}_beginBackgroundTokenization(){this._isScheduled||!this._tokenizerWithStateStore._textModel.isAttachedToEditor()||!this._hasLinesToTokenize()||(this._isScheduled=!0,(0,Tr.$6)(e=>{this._isScheduled=!1,this._backgroundTokenizeWithDeadline(e)}))}_backgroundTokenizeWithDeadline(e){const t=Date.now()+e.timeRemaining(),r=n(()=>{this._isDisposed||!this._tokenizerWithStateStore._textModel.isAttachedToEditor()||!this._hasLinesToTokenize()||(this._backgroundTokenizeForAtLeast1ms(),Date.now()<t?(0,o._p)(r):this._beginBackgroundTokenization())},"execute");r()}_backgroundTokenizeForAtLeast1ms(){const e=this._tokenizerWithStateStore._textModel.getLineCount(),t=new h,r=Vr.W.create(!1);do if(r.elapsed()>1||this._tokenizeOneInvalidLine(t)>=e)break;while(this._hasLinesToTokenize());this._backgroundTokenStore.setTokens(t.finalize()),this.checkFinished()}_hasLinesToTokenize(){return this._tokenizerWithStateStore?!this._tokenizerWithStateStore.store.allStatesValid():!1}_tokenizeOneInvalidLine(e){var r;const t=(r=this._tokenizerWithStateStore)==null?void 0:r.getFirstInvalidLine();return t?(this._tokenizerWithStateStore.updateTokensUntilLine(e,t.lineNumber),t.lineNumber):this._tokenizerWithStateStore._textModel.getLineCount()+1}checkFinished(){this._isDisposed||this._tokenizerWithStateStore.store.allStatesValid()&&this._backgroundTokenStore.backgroundTokenizationFinished()}requestTokens(e,t){this._tokenizerWithStateStore.store.invalidateEndStateRange(new Zi.M(e,t))}};n(Ra,"DefaultBackgroundTokenizer");let Ae=Ra;const Oa=class Oa{constructor(){this._onDidChangeVisibleRanges=new F.vl,this.onDidChangeVisibleRanges=this._onDidChangeVisibleRanges.event,this._views=new Set}attachView(){const e=new Re(t=>{this._onDidChangeVisibleRanges.fire({view:e,state:t})});return this._views.add(e),e}detachView(e){this._views.delete(e),this._onDidChangeVisibleRanges.fire({view:e,state:void 0})}};n(Oa,"AttachedViews");let Ne=Oa;const Ma=class Ma{constructor(e){this.handleStateChange=e}setVisibleLines(e,t){const r=e.map(s=>new Zi.M(s.startLineNumber,s.endLineNumber+1));this.handleStateChange({visibleLineRanges:r,stabilized:t})}};n(Ma,"AttachedViewImpl");let Re=Ma;const Fa=class Fa extends ie.jG{get lineRanges(){return this._lineRanges}constructor(e){super(),this._refreshTokens=e,this.runner=this._register(new Tr.uC(()=>this.update(),50)),this._computedLineRanges=[],this._lineRanges=[]}update(){(0,K.aI)(this._computedLineRanges,this._lineRanges,(e,t)=>e.equals(t))||(this._computedLineRanges=this._lineRanges,this._refreshTokens())}handleStateChange(e){this._lineRanges=e.visibleLineRanges,e.stabilized?(this.runner.cancel(),this.update()):this.runner.schedule()}};n(Fa,"AttachedViewHandler");let Ge=Fa;const Pa=class Pa extends ie.jG{get backgroundTokenizationState(){return this._backgroundTokenizationState}constructor(e,t,r){super(),this._languageIdCodec=e,this._textModel=t,this.getLanguageId=r,this._backgroundTokenizationState=1,this._onDidChangeBackgroundTokenizationState=this._register(new F.vl),this.onDidChangeBackgroundTokenizationState=this._onDidChangeBackgroundTokenizationState.event,this._onDidChangeTokens=this._register(new F.vl),this.onDidChangeTokens=this._onDidChangeTokens.event}tokenizeIfCheap(e){this.isCheapToTokenize(e)&&this.forceTokenization(e)}};n(Pa,"AbstractTokens");let Je=Pa;const Va=class Va extends Je{constructor(e,t,r,s){super(t,r,s),this._treeSitterService=e,this._tokenizationSupport=null,this._initialize()}_initialize(){const e=this.getLanguageId();(!this._tokenizationSupport||this._lastLanguageId!==e)&&(this._lastLanguageId=e,this._tokenizationSupport=zi.OB.get(e))}getLineTokens(e){const t=this._textModel.getLineContent(e);if(this._tokenizationSupport){const r=this._tokenizationSupport.tokenizeEncoded(e,this._textModel);if(r)return new c(r,t,this._languageIdCodec)}return c.createEmpty(t,this._languageIdCodec)}resetTokenization(e=!0){e&&this._onDidChangeTokens.fire({semanticTokensApplied:!1,ranges:[{fromLineNumber:1,toLineNumber:this._textModel.getLineCount()}]}),this._initialize()}handleDidChangeAttached(){}handleDidChangeContent(e){e.isFlush&&this.resetTokenization(!1)}forceTokenization(e){}hasAccurateTokensForLine(e){return!0}isCheapToTokenize(e){return!0}getTokenTypeIfInsertingCharacter(e,t,r){return 0}tokenizeLineWithEdit(e,t,r){return null}get hasTokens(){return this._treeSitterService.getParseResult(this._textModel)!==void 0}};n(Va,"TreeSitterTokens");let nt=Va;var yt=E(5320);const Le=new Uint32Array(0).buffer,Es=class Es{static deleteBeginning(e,t){return e===null||e===Le?e:Es.delete(e,0,t)}static deleteEnding(e,t){if(e===null||e===Le)return e;const r=Ze(e),s=r[r.length-2];return Es.delete(e,t,s)}static delete(e,t,r){if(e===null||e===Le||t===r)return e;const s=Ze(e),l=s.length>>>1;if(t===0&&s[s.length-2]===r)return Le;const f=c.findIndexInTokensArray(s,t),L=f>0?s[f-1<<1]:0,S=s[f<<1];if(r<S){const Be=r-t;for(let ze=f;ze<l;ze++)s[ze<<1]-=Be;return e}let X,le;L!==t?(s[f<<1]=t,X=f+1<<1,le=t):(X=f<<1,le=L);const ge=r-t;for(let Be=f+1;Be<l;Be++){const ze=s[Be<<1]-ge;ze>le&&(s[X++]=ze,s[X++]=s[(Be<<1)+1],le=ze)}if(X===s.length)return e;const ve=new Uint32Array(X);return ve.set(s.subarray(0,X),0),ve.buffer}static append(e,t){if(t===Le)return e;if(e===Le)return t;if(e===null)return e;if(t===null)return null;const r=Ze(e),s=Ze(t),l=s.length>>>1,f=new Uint32Array(r.length+s.length);f.set(r,0);let L=r.length;const S=r[r.length-2];for(let X=0;X<l;X++)f[L++]=s[X<<1]+S,f[L++]=s[(X<<1)+1];return f.buffer}static insert(e,t,r){if(e===null||e===Le)return e;const s=Ze(e),l=s.length>>>1;let f=c.findIndexInTokensArray(s,t);f>0&&s[f-1<<1]===t&&f--;for(let L=f;L<l;L++)s[L<<1]+=r;return e}};n(Es,"ContiguousTokensEditing");let qe=Es;function Ze(C){return C instanceof Uint32Array?C:new Uint32Array(C)}n(Ze,"toUint32Array");const As=class As{constructor(e){this._lineTokens=[],this._len=0,this._languageIdCodec=e}flush(){this._lineTokens=[],this._len=0}get hasTokens(){return this._lineTokens.length>0}getTokens(e,t,r){let s=null;if(t<this._len&&(s=this._lineTokens[t]),s!==null&&s!==Le)return new c(Ze(s),r,this._languageIdCodec);const l=new Uint32Array(2);return l[0]=r.length,l[1]=bt(this._languageIdCodec.encodeLanguageId(e)),new c(l,r,this._languageIdCodec)}static _massageTokens(e,t,r){const s=r?Ze(r):null;if(t===0){let l=!1;if(s&&s.length>1&&(l=se.x.getLanguageId(s[1])!==e),!l)return Le}if(!s||s.length===0){const l=new Uint32Array(2);return l[0]=t,l[1]=bt(e),l.buffer}return s[s.length-2]=t,s.byteOffset===0&&s.byteLength===s.buffer.byteLength?s.buffer:s}_ensureLine(e){for(;e>=this._len;)this._lineTokens[this._len]=null,this._len++}_deleteLines(e,t){t!==0&&(e+t>this._len&&(t=this._len-e),this._lineTokens.splice(e,t),this._len-=t)}_insertLines(e,t){if(t===0)return;const r=[];for(let s=0;s<t;s++)r[s]=null;this._lineTokens=K.nK(this._lineTokens,e,r),this._len+=t}setTokens(e,t,r,s,l){const f=As._massageTokens(this._languageIdCodec.encodeLanguageId(e),r,s);this._ensureLine(t);const L=this._lineTokens[t];return this._lineTokens[t]=f,l?!As._equals(L,f):!1}static _equals(e,t){if(!e||!t)return!e&&!t;const r=Ze(e),s=Ze(t);if(r.length!==s.length)return!1;for(let l=0,f=r.length;l<f;l++)if(r[l]!==s[l])return!1;return!0}acceptEdit(e,t,r){this._acceptDeleteRange(e),this._acceptInsertText(new j.y(e.startLineNumber,e.startColumn),t,r)}_acceptDeleteRange(e){const t=e.startLineNumber-1;if(t>=this._len)return;if(e.startLineNumber===e.endLineNumber){if(e.startColumn===e.endColumn)return;this._lineTokens[t]=qe.delete(this._lineTokens[t],e.startColumn-1,e.endColumn-1);return}this._lineTokens[t]=qe.deleteEnding(this._lineTokens[t],e.startColumn-1);const r=e.endLineNumber-1;let s=null;r<this._len&&(s=qe.deleteBeginning(this._lineTokens[r],e.endColumn-1)),this._lineTokens[t]=qe.append(this._lineTokens[t],s),this._deleteLines(e.startLineNumber,e.endLineNumber-e.startLineNumber)}_acceptInsertText(e,t,r){if(t===0&&r===0)return;const s=e.lineNumber-1;if(!(s>=this._len)){if(t===0){this._lineTokens[s]=qe.insert(this._lineTokens[s],e.column-1,r);return}this._lineTokens[s]=qe.deleteEnding(this._lineTokens[s],e.column-1),this._lineTokens[s]=qe.insert(this._lineTokens[s],e.column-1,r),this._insertLines(e.lineNumber,t)}}setMultilineTokens(e,t){if(e.length===0)return{changes:[]};const r=[];for(let s=0,l=e.length;s<l;s++){const f=e[s];let L=0,S=0,X=!1;for(let le=f.startLineNumber;le<=f.endLineNumber;le++)X?(this.setTokens(t.getLanguageId(),le-1,t.getLineLength(le),f.getLineTokens(le),!1),S=le):this.setTokens(t.getLanguageId(),le-1,t.getLineLength(le),f.getLineTokens(le),!0)&&(X=!0,L=le,S=le);X&&r.push({fromLineNumber:L,toLineNumber:S})}return{changes:r}}};n(As,"ContiguousTokensStore");let ht=As;function bt(C){return(C<<0|0|0|32768|33554432|1024)>>>0}n(bt,"getDefaultMetadata");const oo=class oo{constructor(e){this._pieces=[],this._isComplete=!1,this._languageIdCodec=e}flush(){this._pieces=[],this._isComplete=!1}isEmpty(){return this._pieces.length===0}set(e,t){this._pieces=e||[],this._isComplete=t}setPartial(e,t){let r=e;if(t.length>0){const l=t[0].getRange(),f=t[t.length-1].getRange();if(!l||!f)return e;r=e.plusRange(l).plusRange(f)}let s=null;for(let l=0,f=this._pieces.length;l<f;l++){const L=this._pieces[l];if(L.endLineNumber<r.startLineNumber)continue;if(L.startLineNumber>r.endLineNumber){s=s||{index:l};break}if(L.removeTokens(r),L.isEmpty()){this._pieces.splice(l,1),l--,f--;continue}if(L.endLineNumber<r.startLineNumber)continue;if(L.startLineNumber>r.endLineNumber){s=s||{index:l};continue}const[S,X]=L.split(r);if(S.isEmpty()){s=s||{index:l};continue}X.isEmpty()||(this._pieces.splice(l,1,S,X),l++,f++,s=s||{index:l})}return s=s||{index:this._pieces.length},t.length>0&&(this._pieces=K.nK(this._pieces,s.index,t)),r}isComplete(){return this._isComplete}addSparseTokens(e,t){if(t.getLineContent().length===0)return t;const r=this._pieces;if(r.length===0)return t;const s=oo._findFirstPieceWithLine(r,e),l=r[s].getLineTokens(e);if(!l)return t;const f=t.getCount(),L=l.getCount();let S=0;const X=[];let le=0,ge=0;const ve=n((Be,ze)=>{Be!==ge&&(ge=Be,X[le++]=Be,X[le++]=ze)},"emitToken");for(let Be=0;Be<L;Be++){const ze=l.getStartCharacter(Be),Ye=l.getEndCharacter(Be),tt=l.getMetadata(Be),Ct=((tt&1?2048:0)|(tt&2?4096:0)|(tt&4?8192:0)|(tt&8?16384:0)|(tt&16?16744448:0)|(tt&32?4278190080:0))>>>0,Ot=~Ct>>>0;for(;S<f&&t.getEndOffset(S)<=ze;)ve(t.getEndOffset(S),t.getMetadata(S)),S++;for(S<f&&t.getStartOffset(S)<ze&&ve(ze,t.getMetadata(S));S<f&&t.getEndOffset(S)<Ye;)ve(t.getEndOffset(S),t.getMetadata(S)&Ot|tt&Ct),S++;if(S<f)ve(Ye,t.getMetadata(S)&Ot|tt&Ct),t.getEndOffset(S)===Ye&&S++;else{const Jt=Math.min(Math.max(0,S-1),f-1);ve(Ye,t.getMetadata(Jt)&Ot|tt&Ct)}}for(;S<f;)ve(t.getEndOffset(S),t.getMetadata(S)),S++;return new c(new Uint32Array(X),t.getLineContent(),this._languageIdCodec)}static _findFirstPieceWithLine(e,t){let r=0,s=e.length-1;for(;r<s;){let l=r+Math.floor((s-r)/2);if(e[l].endLineNumber<t)r=l+1;else if(e[l].startLineNumber>t)s=l-1;else{for(;l>r&&e[l-1].startLineNumber<=t&&t<=e[l-1].endLineNumber;)l--;return l}}return r}acceptEdit(e,t,r,s,l){for(const f of this._pieces)f.acceptEdit(e,t,r,s,l)}};n(oo,"SparseTokensStore");let At=oo;var Mt=function(C,e,t,r){var s=arguments.length,l=s<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,f;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")l=Reflect.decorate(C,e,t,r);else for(var L=C.length-1;L>=0;L--)(f=C[L])&&(l=(s<3?f(l):s>3?f(e,t,l):f(e,t))||l);return s>3&&l&&Object.defineProperty(e,t,l),l},Kt=function(C,e){return function(t,r){e(t,r,C)}},In;let Qt=In=(ps=class extends st{constructor(e,t,r,s,l,f,L){super(),this._textModel=e,this._bracketPairsTextModelPart=t,this._languageId=r,this._attachedViews=s,this._languageService=l,this._languageConfigurationService=f,this._treeSitterService=L,this._semanticTokens=new At(this._languageService.languageIdCodec),this._onDidChangeLanguage=this._register(new F.vl),this.onDidChangeLanguage=this._onDidChangeLanguage.event,this._onDidChangeLanguageConfiguration=this._register(new F.vl),this.onDidChangeLanguageConfiguration=this._onDidChangeLanguageConfiguration.event,this._onDidChangeTokens=this._register(new F.vl),this.onDidChangeTokens=this._onDidChangeTokens.event,this._tokensDisposables=this._register(new ie.Cm),this._register(this._languageConfigurationService.onDidChange(S=>{S.affects(this._languageId)&&this._onDidChangeLanguageConfiguration.fire({})})),this._register(F.Jh.filter(zi.OB.onDidChange,S=>S.changedLanguages.includes(this._languageId))(()=>{this.createPreferredTokenProvider()})),this.createPreferredTokenProvider()}createGrammarTokens(){return this._register(new Tt(this._languageService.languageIdCodec,this._textModel,()=>this._languageId,this._attachedViews))}createTreeSitterTokens(){return this._register(new nt(this._treeSitterService,this._languageService.languageIdCodec,this._textModel,()=>this._languageId))}createTokens(e){var r;const t=this._tokens!==void 0;(r=this._tokens)==null||r.dispose(),this._tokens=e?this.createTreeSitterTokens():this.createGrammarTokens(),this._tokensDisposables.clear(),this._tokensDisposables.add(this._tokens.onDidChangeTokens(s=>{this._emitModelTokensChangedEvent(s)})),this._tokensDisposables.add(this._tokens.onDidChangeBackgroundTokenizationState(s=>{this._bracketPairsTextModelPart.handleDidChangeBackgroundTokenizationState()})),t&&this._tokens.resetTokenization()}createPreferredTokenProvider(){zi.OB.get(this._languageId)?this._tokens instanceof nt||this.createTokens(!0):this._tokens instanceof Tt||this.createTokens(!1)}handleLanguageConfigurationServiceChange(e){e.affects(this._languageId)&&this._onDidChangeLanguageConfiguration.fire({})}handleDidChangeContent(e){if(e.isFlush)this._semanticTokens.flush();else if(!e.isEolChange)for(const t of e.changes){const[r,s,l]=(0,O.W)(t.text);this._semanticTokens.acceptEdit(t.range,r,s,l,t.text.length>0?t.text.charCodeAt(0):0)}this._tokens.handleDidChangeContent(e)}handleDidChangeAttached(){this._tokens.handleDidChangeAttached()}getLineTokens(e){this.validateLineNumber(e);const t=this._tokens.getLineTokens(e);return this._semanticTokens.addSparseTokens(e,t)}_emitModelTokensChangedEvent(e){this._textModel._isDisposing()||(this._bracketPairsTextModelPart.handleDidChangeTokens(e),this._onDidChangeTokens.fire(e))}validateLineNumber(e){if(e<1||e>this._textModel.getLineCount())throw new N.D7("Illegal value for lineNumber")}get hasTokens(){return this._tokens.hasTokens}resetTokenization(){this._tokens.resetTokenization()}get backgroundTokenizationState(){return this._tokens.backgroundTokenizationState}forceTokenization(e){this.validateLineNumber(e),this._tokens.forceTokenization(e)}hasAccurateTokensForLine(e){return this.validateLineNumber(e),this._tokens.hasAccurateTokensForLine(e)}isCheapToTokenize(e){return this.validateLineNumber(e),this._tokens.isCheapToTokenize(e)}tokenizeIfCheap(e){this.validateLineNumber(e),this._tokens.tokenizeIfCheap(e)}getTokenTypeIfInsertingCharacter(e,t,r){return this._tokens.getTokenTypeIfInsertingCharacter(e,t,r)}tokenizeLineWithEdit(e,t,r){return this._tokens.tokenizeLineWithEdit(e,t,r)}setSemanticTokens(e,t){this._semanticTokens.set(e,t),this._emitModelTokensChangedEvent({semanticTokensApplied:e!==null,ranges:[{fromLineNumber:1,toLineNumber:this._textModel.getLineCount()}]})}hasCompleteSemanticTokens(){return this._semanticTokens.isComplete()}hasSomeSemanticTokens(){return!this._semanticTokens.isEmpty()}setPartialSemanticTokens(e,t){if(this.hasCompleteSemanticTokens())return;const r=this._textModel.validateRange(this._semanticTokens.setPartial(e,t));this._emitModelTokensChangedEvent({semanticTokensApplied:!0,ranges:[{fromLineNumber:r.startLineNumber,toLineNumber:r.endLineNumber}]})}getWordAtPosition(e){this.assertNotDisposed();const t=this._textModel.validatePosition(e),r=this._textModel.getLineContent(t.lineNumber),s=this.getLineTokens(t.lineNumber),l=s.findTokenIndexAtOffset(t.column-1),[f,L]=In._findLanguageBoundaries(s,l),S=(0,J.Th)(t.column,this.getLanguageConfiguration(s.getLanguageId(l)).getWordDefinition(),r.substring(f,L),f);if(S&&S.startColumn<=e.column&&e.column<=S.endColumn)return S;if(l>0&&f===t.column-1){const[X,le]=In._findLanguageBoundaries(s,l-1),ge=(0,J.Th)(t.column,this.getLanguageConfiguration(s.getLanguageId(l-1)).getWordDefinition(),r.substring(X,le),X);if(ge&&ge.startColumn<=e.column&&e.column<=ge.endColumn)return ge}return null}getLanguageConfiguration(e){return this._languageConfigurationService.getLanguageConfiguration(e)}static _findLanguageBoundaries(e,t){const r=e.getLanguageId(t);let s=0;for(let f=t;f>=0&&e.getLanguageId(f)===r;f--)s=e.getStartOffset(f);let l=e.getLineContent().length;for(let f=t,L=e.getCount();f<L&&e.getLanguageId(f)===r;f++)l=e.getEndOffset(f);return[s,l]}getWordUntilPosition(e){const t=this.getWordAtPosition(e);return t?{word:t.word.substr(0,e.column-t.startColumn),startColumn:t.startColumn,endColumn:e.column}:{word:"",startColumn:e.column,endColumn:e.column}}getLanguageId(){return this._languageId}getLanguageIdAtPosition(e,t){const r=this._textModel.validatePosition(new j.y(e,t)),s=this.getLineTokens(r.lineNumber);return s.getLanguageId(s.findTokenIndexAtOffset(r.column-1))}setLanguageId(e,t="api"){if(this._languageId===e)return;const r={oldLanguage:this._languageId,newLanguage:e,source:t};this._languageId=e,this._bracketPairsTextModelPart.handleDidChangeLanguage(r),this._tokens.resetTokenization(),this.createPreferredTokenProvider(),this._onDidChangeLanguage.fire(r),this._onDidChangeLanguageConfiguration.fire({})}},n(ps,"TokenizationTextModelPart"),ps);Qt=In=Mt([Kt(4,ce.L),Kt(5,Tn),Kt(6,yt.ITreeSitterParserService)],Qt);const Wa=class Wa extends Je{constructor(e,t,r,s){super(e,t,r),this._tokenizer=null,this._defaultBackgroundTokenizer=null,this._backgroundTokenizer=this._register(new ie.HE),this._tokens=new ht(this._languageIdCodec),this._debugBackgroundTokenizer=this._register(new ie.HE),this._attachedViewStates=this._register(new ie.$w),this._register(zi.dG.onDidChange(l=>{const f=this.getLanguageId();l.changedLanguages.indexOf(f)!==-1&&this.resetTokenization()})),this.resetTokenization(),this._register(s.onDidChangeVisibleRanges(({view:l,state:f})=>{if(f){let L=this._attachedViewStates.get(l);L||(L=new Ge(()=>this.refreshRanges(L.lineRanges)),this._attachedViewStates.set(l,L)),L.handleStateChange(f)}else this._attachedViewStates.deleteAndDispose(l)}))}resetTokenization(e=!0){var l;this._tokens.flush(),(l=this._debugBackgroundTokens)==null||l.flush(),this._debugBackgroundStates&&(this._debugBackgroundStates=new de(this._textModel.getLineCount())),e&&this._onDidChangeTokens.fire({semanticTokensApplied:!1,ranges:[{fromLineNumber:1,toLineNumber:this._textModel.getLineCount()}]});const t=n(()=>{if(this._textModel.isTooLargeForTokenization())return[null,null];const f=zi.dG.get(this.getLanguageId());if(!f)return[null,null];let L;try{L=f.getInitialState()}catch(S){return(0,N.dz)(S),[null,null]}return[f,L]},"initializeTokenization"),[r,s]=t();if(r&&s?this._tokenizer=new pe(this._textModel.getLineCount(),r,this._textModel,this._languageIdCodec):this._tokenizer=null,this._backgroundTokenizer.clear(),this._defaultBackgroundTokenizer=null,this._tokenizer){const f={setTokens:n(L=>{this.setTokens(L)},"setTokens"),backgroundTokenizationFinished:n(()=>{if(this._backgroundTokenizationState===2)return;const L=2;this._backgroundTokenizationState=L,this._onDidChangeBackgroundTokenizationState.fire()},"backgroundTokenizationFinished"),setEndState:n((L,S)=>{var le;if(!this._tokenizer)return;const X=this._tokenizer.store.getFirstInvalidEndStateLineNumber();X!==null&&L>=X&&((le=this._tokenizer)==null||le.store.setEndState(L,S))},"setEndState")};r&&r.createBackgroundTokenizer&&!r.backgroundTokenizerShouldOnlyVerifyTokens&&(this._backgroundTokenizer.value=r.createBackgroundTokenizer(this._textModel,f)),!this._backgroundTokenizer.value&&!this._textModel.isTooLargeForTokenization()&&(this._backgroundTokenizer.value=this._defaultBackgroundTokenizer=new Ae(this._tokenizer,f),this._defaultBackgroundTokenizer.handleChanges()),r!=null&&r.backgroundTokenizerShouldOnlyVerifyTokens&&r.createBackgroundTokenizer?(this._debugBackgroundTokens=new ht(this._languageIdCodec),this._debugBackgroundStates=new de(this._textModel.getLineCount()),this._debugBackgroundTokenizer.clear(),this._debugBackgroundTokenizer.value=r.createBackgroundTokenizer(this._textModel,{setTokens:n(L=>{var S;(S=this._debugBackgroundTokens)==null||S.setMultilineTokens(L,this._textModel)},"setTokens"),backgroundTokenizationFinished(){},setEndState:n((L,S)=>{var X;(X=this._debugBackgroundStates)==null||X.setEndState(L,S)},"setEndState")})):(this._debugBackgroundTokens=void 0,this._debugBackgroundStates=void 0,this._debugBackgroundTokenizer.value=void 0)}this.refreshAllVisibleLineTokens()}handleDidChangeAttached(){var e;(e=this._defaultBackgroundTokenizer)==null||e.handleChanges()}handleDidChangeContent(e){var t,r,s;if(e.isFlush)this.resetTokenization(!1);else if(!e.isEolChange){for(const l of e.changes){const[f,L]=(0,O.W)(l.text);this._tokens.acceptEdit(l.range,f,L),(t=this._debugBackgroundTokens)==null||t.acceptEdit(l.range,f,L)}(r=this._debugBackgroundStates)==null||r.acceptChanges(e.changes),this._tokenizer&&this._tokenizer.store.acceptChanges(e.changes),(s=this._defaultBackgroundTokenizer)==null||s.handleChanges()}}setTokens(e){const{changes:t}=this._tokens.setMultilineTokens(e,this._textModel);return t.length>0&&this._onDidChangeTokens.fire({semanticTokensApplied:!1,ranges:t}),{changes:t}}refreshAllVisibleLineTokens(){const e=Zi.M.joinMany([...this._attachedViewStates].map(([t,r])=>r.lineRanges));this.refreshRanges(e)}refreshRanges(e){for(const t of e)this.refreshRange(t.startLineNumber,t.endLineNumberExclusive-1)}refreshRange(e,t){var f,L;if(!this._tokenizer)return;e=Math.max(1,Math.min(this._textModel.getLineCount(),e)),t=Math.min(this._textModel.getLineCount(),t);const r=new h,{heuristicTokens:s}=this._tokenizer.tokenizeHeuristically(r,e,t),l=this.setTokens(r.finalize());if(s)for(const S of l.changes)(f=this._backgroundTokenizer.value)==null||f.requestTokens(S.fromLineNumber,S.toLineNumber+1);(L=this._defaultBackgroundTokenizer)==null||L.checkFinished()}forceTokenization(e){var r,s;const t=new h;(r=this._tokenizer)==null||r.updateTokensUntilLine(t,e),this.setTokens(t.finalize()),(s=this._defaultBackgroundTokenizer)==null||s.checkFinished()}hasAccurateTokensForLine(e){return this._tokenizer?this._tokenizer.hasAccurateTokensForLine(e):!0}isCheapToTokenize(e){return this._tokenizer?this._tokenizer.isCheapToTokenize(e):!0}getLineTokens(e){var s;const t=this._textModel.getLineContent(e),r=this._tokens.getTokens(this._textModel.getLanguageId(),e-1,t);if(this._debugBackgroundTokens&&this._debugBackgroundStates&&this._tokenizer&&this._debugBackgroundStates.getFirstInvalidEndStateLineNumberOrMax()>e&&this._tokenizer.store.getFirstInvalidEndStateLineNumberOrMax()>e){const l=this._debugBackgroundTokens.getTokens(this._textModel.getLanguageId(),e-1,t);!r.equals(l)&&((s=this._debugBackgroundTokenizer.value)!=null&&s.reportMismatchingTokens)&&this._debugBackgroundTokenizer.value.reportMismatchingTokens(e)}return r}getTokenTypeIfInsertingCharacter(e,t,r){if(!this._tokenizer)return 0;const s=this._textModel.validatePosition(new j.y(e,t));return this.forceTokenization(s.lineNumber),this._tokenizer.getTokenTypeIfInsertingCharacter(s,r)}tokenizeLineWithEdit(e,t,r){if(!this._tokenizer)return null;const s=this._textModel.validatePosition(e);return this.forceTokenization(s.lineNumber),this._tokenizer.tokenizeLineWithEdit(s,t,r)}get hasTokens(){return this._tokens.hasTokens}};n(Wa,"GrammarTokens");let Tt=Wa;const Ua=class Ua{constructor(){this.changeType=1}};n(Ua,"ModelRawFlush");let wt=Ua;const Is=class Is{static applyInjectedText(e,t){if(!t||t.length===0)return e;let r="",s=0;for(const l of t)r+=e.substring(s,l.column-1),s=l.column-1,r+=l.options.content;return r+=e.substring(s),r}static fromDecorations(e){const t=[];for(const r of e)r.options.before&&r.options.before.content.length>0&&t.push(new Is(r.ownerId,r.range.startLineNumber,r.range.startColumn,r.options.before,0)),r.options.after&&r.options.after.content.length>0&&t.push(new Is(r.ownerId,r.range.endLineNumber,r.range.endColumn,r.options.after,1));return t.sort((r,s)=>r.lineNumber===s.lineNumber?r.column===s.column?r.order-s.order:r.column-s.column:r.lineNumber-s.lineNumber),t}constructor(e,t,r,s,l){this.ownerId=e,this.lineNumber=t,this.column=r,this.options=s,this.order=l}};n(Is,"LineInjectedText");let Ft=Is;const za=class za{constructor(e,t,r){this.changeType=2,this.lineNumber=e,this.detail=t,this.injectedText=r}};n(za,"ModelRawLineChanged");let Gt=za;const ja=class ja{constructor(e,t){this.changeType=3,this.fromLineNumber=e,this.toLineNumber=t}};n(ja,"ModelRawLinesDeleted");let Mn=ja;const Ha=class Ha{constructor(e,t,r,s){this.changeType=4,this.injectedTexts=s,this.fromLineNumber=e,this.toLineNumber=t,this.detail=r}};n(Ha,"ModelRawLinesInserted");let Ln=Ha;const $a=class $a{constructor(){this.changeType=5}};n($a,"ModelRawEOLChanged");let bn=$a;const ao=class ao{constructor(e,t,r,s){this.changes=e,this.versionId=t,this.isUndoing=r,this.isRedoing=s,this.resultingSelection=null}containsEvent(e){for(let t=0,r=this.changes.length;t<r;t++)if(this.changes[t].changeType===e)return!0;return!1}static merge(e,t){const r=[].concat(e.changes).concat(t.changes),s=t.versionId,l=e.isUndoing||t.isUndoing,f=e.isRedoing||t.isRedoing;return new ao(r,s,l,f)}};n(ao,"ModelRawContentChangedEvent");let Li=ao;const Ga=class Ga{constructor(e){this.changes=e}};n(Ga,"ModelInjectedTextChangedEvent");let Ai=Ga;const Ns=class Ns{constructor(e,t){this.rawContentChangedEvent=e,this.contentChangedEvent=t}merge(e){const t=Li.merge(this.rawContentChangedEvent,e.rawContentChangedEvent),r=Ns._mergeChangeEvents(this.contentChangedEvent,e.contentChangedEvent);return new Ns(t,r)}static _mergeChangeEvents(e,t){const r=[].concat(e.changes).concat(t.changes),s=t.eol,l=t.versionId,f=e.isUndoing||t.isUndoing,L=e.isRedoing||t.isRedoing,S=e.isFlush||t.isFlush,X=e.isEolChange&&t.isEolChange;return{changes:r,eol:s,isEolChange:X,versionId:l,isUndoing:f,isRedoing:L,isFlush:S}}};n(Ns,"InternalModelContentChangeEvent");let Qn=Ns;const es=(0,En.u1)("undoRedoService"),qa=class qa{constructor(e,t){this.resource=e,this.elements=t}};n(qa,"ResourceEditStackSnapshot");let ol=qa;const os=class os{constructor(){this.id=os._ID++,this.order=1}nextOrder(){return this.id===0?0:this.order++}};n(os,"UndoRedoGroup"),os._ID=0,os.None=new os;let al=os;const as=class as{constructor(){this.id=as._ID++,this.order=1}nextOrder(){return this.id===0?0:this.order++}};n(as,"UndoRedoSource"),as._ID=0,as.None=new as;let ll=as;var gl=function(C,e,t,r){var s=arguments.length,l=s<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,f;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")l=Reflect.decorate(C,e,t,r);else for(var L=C.length-1;L>=0;L--)(f=C[L])&&(l=(s<3?f(l):s>3?f(e,t,l):f(e,t))||l);return s>3&&l&&Object.defineProperty(e,t,l),l},Us=function(C,e){return function(t,r){e(t,r,C)}},ts;function ml(C){const e=new sr;return e.acceptChunk(C),e.finish()}n(ml,"createTextBufferFactory");function pl(C){const e=new sr;let t;for(;typeof(t=C.read())=="string";)e.acceptChunk(t);return e.finish()}n(pl,"createTextBufferFactoryFromSnapshot");function ul(C,e){let t;return typeof C=="string"?t=ml(C):Zt.nk(C)?t=pl(C):t=C,t.create(e)}n(ul,"createTextBuffer");let zs=0;const bl=999,_l=1e4,Qa=class Qa{constructor(e){this._source=e,this._eos=!1}read(){if(this._eos)return null;const e=[];let t=0,r=0;do{const s=this._source.read();if(s===null)return this._eos=!0,t===0?null:e.join("");if(s.length>0&&(e[t++]=s,r+=s.length),r>=65536)return e.join("")}while(!0)}};n(Qa,"TextModelSnapshot");let lo=Qa;const xs=n(()=>{throw new Error("Invalid change accessor")},"invalidFunc");let uo=(ar=class extends ie.jG{static resolveOptions(e,t){if(t.detectIndentation){const r=en(e,t.tabSize,t.insertSpaces);return new Zt.X2({tabSize:r.tabSize,indentSize:"tabSize",insertSpaces:r.insertSpaces,trimAutoWhitespace:t.trimAutoWhitespace,defaultEOL:t.defaultEOL,bracketPairColorizationOptions:t.bracketPairColorizationOptions})}return new Zt.X2(t)}get onDidChangeLanguage(){return this._tokenizationTextModelPart.onDidChangeLanguage}get onDidChangeLanguageConfiguration(){return this._tokenizationTextModelPart.onDidChangeLanguageConfiguration}get onDidChangeTokens(){return this._tokenizationTextModelPart.onDidChangeTokens}onDidChangeContent(e){return this._eventEmitter.slowEvent(t=>e(t.contentChangedEvent))}onDidChangeContentOrInjectedText(e){return(0,ie.qE)(this._eventEmitter.fastEvent(t=>e(t)),this._onDidChangeInjectedText.event(t=>e(t)))}_isDisposing(){return this.__isDisposing}get tokenization(){return this._tokenizationTextModelPart}get bracketPairs(){return this._bracketPairs}get guides(){return this._guidesTextModelPart}constructor(e,t,r,s=null,l,f,L,S){super(),this._undoRedoService=l,this._languageService=f,this._languageConfigurationService=L,this.instantiationService=S,this._onWillDispose=this._register(new F.vl),this.onWillDispose=this._onWillDispose.event,this._onDidChangeDecorations=this._register(new mo(ze=>this.handleBeforeFireDecorationsChangedEvent(ze))),this.onDidChangeDecorations=this._onDidChangeDecorations.event,this._onDidChangeOptions=this._register(new F.vl),this.onDidChangeOptions=this._onDidChangeOptions.event,this._onDidChangeAttached=this._register(new F.vl),this.onDidChangeAttached=this._onDidChangeAttached.event,this._onDidChangeInjectedText=this._register(new F.vl),this._eventEmitter=this._register(new po),this._languageSelectionListener=this._register(new ie.HE),this._deltaDecorationCallCnt=0,this._attachedViews=new Ne,zs++,this.id="$model"+zs,this.isForSimpleWidget=r.isForSimpleWidget,typeof s=="undefined"||s===null?this._associatedResource=Y.r.parse("inmemory://model/"+zs):this._associatedResource=s,this._attachedEditorCount=0;const{textBuffer:X,disposable:le}=ul(e,r.defaultEOL);this._buffer=X,this._bufferDisposable=le,this._options=ts.resolveOptions(this._buffer,r);const ge=typeof t=="string"?t:t.languageId;typeof t!="string"&&(this._languageSelectionListener.value=t.onDidChange(()=>this._setLanguage(t.languageId))),this._bracketPairs=this._register(new Wi(this,this._languageConfigurationService)),this._guidesTextModelPart=this._register(new Xt(this,this._languageConfigurationService)),this._decorationProvider=this._register(new tr(this)),this._tokenizationTextModelPart=this.instantiationService.createInstance(Qt,this,this._bracketPairs,ge,this._attachedViews);const ve=this._buffer.getLineCount(),Be=this._buffer.getValueLengthInRange(new z.Q(1,1,ve,this._buffer.getLineLength(ve)+1),0);r.largeFileOptimizations?(this._isTooLargeForTokenization=Be>ts.LARGE_FILE_SIZE_THRESHOLD||ve>ts.LARGE_FILE_LINE_COUNT_THRESHOLD,this._isTooLargeForHeapOperation=Be>ts.LARGE_FILE_HEAP_OPERATION_THRESHOLD):(this._isTooLargeForTokenization=!1,this._isTooLargeForHeapOperation=!1),this._isTooLargeForSyncing=Be>ts._MODEL_SYNC_LIMIT,this._versionId=1,this._alternativeVersionId=1,this._initialUndoRedoSnapshot=null,this._isDisposed=!1,this.__isDisposing=!1,this._instanceId=g.tk(zs),this._lastDecorationId=0,this._decorations=Object.create(null),this._decorationsTree=new Hs,this._commandManager=new Ke(this,this._undoRedoService),this._isUndoing=!1,this._isRedoing=!1,this._trimAutoWhitespaceLines=null,this._register(this._decorationProvider.onDidChange(()=>{this._onDidChangeDecorations.beginDeferredEmit(),this._onDidChangeDecorations.fire(),this._onDidChangeDecorations.endDeferredEmit()})),this._languageService.requestRichLanguageFeatures(ge),this._register(this._languageConfigurationService.onDidChange(ze=>{this._bracketPairs.handleLanguageConfigurationServiceChange(ze),this._tokenizationTextModelPart.handleLanguageConfigurationServiceChange(ze)}))}dispose(){this.__isDisposing=!0,this._onWillDispose.fire(),this._tokenizationTextModelPart.dispose(),this._isDisposed=!0,super.dispose(),this._bufferDisposable.dispose(),this.__isDisposing=!1;const e=new rr([],"",`
`,!1,!1,!0,!0);e.dispose(),this._buffer=e,this._bufferDisposable=ie.jG.None}_assertNotDisposed(){if(this._isDisposed)throw new N.D7("Model is disposed!")}_emitContentChangedEvent(e,t){this.__isDisposing||(this._tokenizationTextModelPart.handleDidChangeContent(t),this._bracketPairs.handleDidChangeContent(t),this._eventEmitter.fire(new Qn(e,t)))}setValue(e){if(this._assertNotDisposed(),e==null)throw(0,N.Qg)();const{textBuffer:t,disposable:r}=ul(e,this._options.defaultEOL);this._setValueFromTextBuffer(t,r)}_createContentChanged2(e,t,r,s,l,f,L,S){return{changes:[{range:e,rangeOffset:t,rangeLength:r,text:s}],eol:this._buffer.getEOL(),isEolChange:S,versionId:this.getVersionId(),isUndoing:l,isRedoing:f,isFlush:L}}_setValueFromTextBuffer(e,t){this._assertNotDisposed();const r=this.getFullModelRange(),s=this.getValueLengthInRange(r),l=this.getLineCount(),f=this.getLineMaxColumn(l);this._buffer=e,this._bufferDisposable.dispose(),this._bufferDisposable=t,this._increaseVersionId(),this._decorations=Object.create(null),this._decorationsTree=new Hs,this._commandManager.clear(),this._trimAutoWhitespaceLines=null,this._emitContentChangedEvent(new Li([new wt],this._versionId,!1,!1),this._createContentChanged2(new z.Q(1,1,l,f),0,s,this.getValue(),!1,!1,!0,!1))}setEOL(e){this._assertNotDisposed();const t=e===1?`\r
`:`
`;if(this._buffer.getEOL()===t)return;const r=this.getFullModelRange(),s=this.getValueLengthInRange(r),l=this.getLineCount(),f=this.getLineMaxColumn(l);this._onBeforeEOLChange(),this._buffer.setEOL(t),this._increaseVersionId(),this._onAfterEOLChange(),this._emitContentChangedEvent(new Li([new bn],this._versionId,!1,!1),this._createContentChanged2(new z.Q(1,1,l,f),0,s,this.getValue(),!1,!1,!1,!0))}_onBeforeEOLChange(){this._decorationsTree.ensureAllNodesHaveRanges(this)}_onAfterEOLChange(){const e=this.getVersionId(),t=this._decorationsTree.collectNodesPostOrder();for(let r=0,s=t.length;r<s;r++){const l=t[r],f=l.range,L=l.cachedAbsoluteStart-l.start,S=this._buffer.getOffsetAt(f.startLineNumber,f.startColumn),X=this._buffer.getOffsetAt(f.endLineNumber,f.endColumn);l.cachedAbsoluteStart=S,l.cachedAbsoluteEnd=X,l.cachedVersionId=e,l.start=S-L,l.end=X-L,Xi(l)}}onBeforeAttached(){return this._attachedEditorCount++,this._attachedEditorCount===1&&(this._tokenizationTextModelPart.handleDidChangeAttached(),this._onDidChangeAttached.fire(void 0)),this._attachedViews.attachView()}onBeforeDetached(e){this._attachedEditorCount--,this._attachedEditorCount===0&&(this._tokenizationTextModelPart.handleDidChangeAttached(),this._onDidChangeAttached.fire(void 0)),this._attachedViews.detachView(e)}isAttachedToEditor(){return this._attachedEditorCount>0}getAttachedEditorCount(){return this._attachedEditorCount}isTooLargeForSyncing(){return this._isTooLargeForSyncing}isTooLargeForTokenization(){return this._isTooLargeForTokenization}isTooLargeForHeapOperation(){return this._isTooLargeForHeapOperation}isDisposed(){return this._isDisposed}isDominatedByLongLines(){if(this._assertNotDisposed(),this.isTooLargeForTokenization())return!1;let e=0,t=0;const r=this._buffer.getLineCount();for(let s=1;s<=r;s++){const l=this._buffer.getLineLength(s);l>=_l?t+=l:e+=l}return t>e}get uri(){return this._associatedResource}getOptions(){return this._assertNotDisposed(),this._options}getFormattingOptions(){return{tabSize:this._options.indentSize,insertSpaces:this._options.insertSpaces}}updateOptions(e){this._assertNotDisposed();const t=typeof e.tabSize!="undefined"?e.tabSize:this._options.tabSize,r=typeof e.indentSize!="undefined"?e.indentSize:this._options.originalIndentSize,s=typeof e.insertSpaces!="undefined"?e.insertSpaces:this._options.insertSpaces,l=typeof e.trimAutoWhitespace!="undefined"?e.trimAutoWhitespace:this._options.trimAutoWhitespace,f=typeof e.bracketColorizationOptions!="undefined"?e.bracketColorizationOptions:this._options.bracketPairColorizationOptions,L=new Zt.X2({tabSize:t,indentSize:r,insertSpaces:s,defaultEOL:this._options.defaultEOL,trimAutoWhitespace:l,bracketPairColorizationOptions:f});if(this._options.equals(L))return;const S=this._options.createChangeEvent(L);this._options=L,this._bracketPairs.handleDidChangeOptions(S),this._decorationProvider.handleDidChangeOptions(S),this._onDidChangeOptions.fire(S)}detectIndentation(e,t){this._assertNotDisposed();const r=en(this._buffer,t,e);this.updateOptions({insertSpaces:r.insertSpaces,tabSize:r.tabSize,indentSize:r.tabSize})}normalizeIndentation(e){return this._assertNotDisposed(),$(e,this._options.indentSize,this._options.insertSpaces)}getVersionId(){return this._assertNotDisposed(),this._versionId}mightContainRTL(){return this._buffer.mightContainRTL()}mightContainUnusualLineTerminators(){return this._buffer.mightContainUnusualLineTerminators()}removeUnusualLineTerminators(e=null){const t=this.findMatches(g._J.source,!1,!0,!1,null,!1,1073741824);this._buffer.resetMightContainUnusualLineTerminators(),this.pushEditOperations(e,t.map(r=>({range:r.range,text:null})),()=>null)}mightContainNonBasicASCII(){return this._buffer.mightContainNonBasicASCII()}getAlternativeVersionId(){return this._assertNotDisposed(),this._alternativeVersionId}getInitialUndoRedoSnapshot(){return this._assertNotDisposed(),this._initialUndoRedoSnapshot}getOffsetAt(e){this._assertNotDisposed();const t=this._validatePosition(e.lineNumber,e.column,0);return this._buffer.getOffsetAt(t.lineNumber,t.column)}getPositionAt(e){this._assertNotDisposed();const t=Math.min(this._buffer.getLength(),Math.max(0,e));return this._buffer.getPositionAt(t)}_increaseVersionId(){this._versionId=this._versionId+1,this._alternativeVersionId=this._versionId}_overwriteVersionId(e){this._versionId=e}_overwriteAlternativeVersionId(e){this._alternativeVersionId=e}_overwriteInitialUndoRedoSnapshot(e){this._initialUndoRedoSnapshot=e}getValue(e,t=!1){if(this._assertNotDisposed(),this.isTooLargeForHeapOperation())throw new N.D7("Operation would exceed heap memory limits");const r=this.getFullModelRange(),s=this.getValueInRange(r,e);return t?this._buffer.getBOM()+s:s}createSnapshot(e=!1){return new lo(this._buffer.createSnapshot(e))}getValueLength(e,t=!1){this._assertNotDisposed();const r=this.getFullModelRange(),s=this.getValueLengthInRange(r,e);return t?this._buffer.getBOM().length+s:s}getValueInRange(e,t=0){return this._assertNotDisposed(),this._buffer.getValueInRange(this.validateRange(e),t)}getValueLengthInRange(e,t=0){return this._assertNotDisposed(),this._buffer.getValueLengthInRange(this.validateRange(e),t)}getCharacterCountInRange(e,t=0){return this._assertNotDisposed(),this._buffer.getCharacterCountInRange(this.validateRange(e),t)}getLineCount(){return this._assertNotDisposed(),this._buffer.getLineCount()}getLineContent(e){if(this._assertNotDisposed(),e<1||e>this.getLineCount())throw new N.D7("Illegal value for lineNumber");return this._buffer.getLineContent(e)}getLineLength(e){if(this._assertNotDisposed(),e<1||e>this.getLineCount())throw new N.D7("Illegal value for lineNumber");return this._buffer.getLineLength(e)}getLinesContent(){if(this._assertNotDisposed(),this.isTooLargeForHeapOperation())throw new N.D7("Operation would exceed heap memory limits");return this._buffer.getLinesContent()}getEOL(){return this._assertNotDisposed(),this._buffer.getEOL()}getEndOfLineSequence(){return this._assertNotDisposed(),this._buffer.getEOL()===`
`?0:1}getLineMinColumn(e){return this._assertNotDisposed(),1}getLineMaxColumn(e){if(this._assertNotDisposed(),e<1||e>this.getLineCount())throw new N.D7("Illegal value for lineNumber");return this._buffer.getLineLength(e)+1}getLineFirstNonWhitespaceColumn(e){if(this._assertNotDisposed(),e<1||e>this.getLineCount())throw new N.D7("Illegal value for lineNumber");return this._buffer.getLineFirstNonWhitespaceColumn(e)}getLineLastNonWhitespaceColumn(e){if(this._assertNotDisposed(),e<1||e>this.getLineCount())throw new N.D7("Illegal value for lineNumber");return this._buffer.getLineLastNonWhitespaceColumn(e)}_validateRangeRelaxedNoAllocations(e){const t=this._buffer.getLineCount(),r=e.startLineNumber,s=e.startColumn;let l=Math.floor(typeof r=="number"&&!isNaN(r)?r:1),f=Math.floor(typeof s=="number"&&!isNaN(s)?s:1);if(l<1)l=1,f=1;else if(l>t)l=t,f=this.getLineMaxColumn(l);else if(f<=1)f=1;else{const ge=this.getLineMaxColumn(l);f>=ge&&(f=ge)}const L=e.endLineNumber,S=e.endColumn;let X=Math.floor(typeof L=="number"&&!isNaN(L)?L:1),le=Math.floor(typeof S=="number"&&!isNaN(S)?S:1);if(X<1)X=1,le=1;else if(X>t)X=t,le=this.getLineMaxColumn(X);else if(le<=1)le=1;else{const ge=this.getLineMaxColumn(X);le>=ge&&(le=ge)}return r===l&&s===f&&L===X&&S===le&&e instanceof z.Q&&!(e instanceof U.L)?e:new z.Q(l,f,X,le)}_isValidPosition(e,t,r){if(typeof e!="number"||typeof t!="number"||isNaN(e)||isNaN(t)||e<1||t<1||(e|0)!==e||(t|0)!==t)return!1;const s=this._buffer.getLineCount();if(e>s)return!1;if(t===1)return!0;const l=this.getLineMaxColumn(e);if(t>l)return!1;if(r===1){const f=this._buffer.getLineCharCode(e,t-2);if(g.pc(f))return!1}return!0}_validatePosition(e,t,r){const s=Math.floor(typeof e=="number"&&!isNaN(e)?e:1),l=Math.floor(typeof t=="number"&&!isNaN(t)?t:1),f=this._buffer.getLineCount();if(s<1)return new j.y(1,1);if(s>f)return new j.y(f,this.getLineMaxColumn(f));if(l<=1)return new j.y(s,1);const L=this.getLineMaxColumn(s);if(l>=L)return new j.y(s,L);if(r===1){const S=this._buffer.getLineCharCode(s,l-2);if(g.pc(S))return new j.y(s,l-1)}return new j.y(s,l)}validatePosition(e){return this._assertNotDisposed(),e instanceof j.y&&this._isValidPosition(e.lineNumber,e.column,1)?e:this._validatePosition(e.lineNumber,e.column,1)}_isValidRange(e,t){const r=e.startLineNumber,s=e.startColumn,l=e.endLineNumber,f=e.endColumn;if(!this._isValidPosition(r,s,0)||!this._isValidPosition(l,f,0))return!1;if(t===1){const L=s>1?this._buffer.getLineCharCode(r,s-2):0,S=f>1&&f<=this._buffer.getLineLength(l)?this._buffer.getLineCharCode(l,f-2):0,X=g.pc(L),le=g.pc(S);return!X&&!le}return!0}validateRange(e){if(this._assertNotDisposed(),e instanceof z.Q&&!(e instanceof U.L)&&this._isValidRange(e,1))return e;const r=this._validatePosition(e.startLineNumber,e.startColumn,0),s=this._validatePosition(e.endLineNumber,e.endColumn,0),l=r.lineNumber,f=r.column,L=s.lineNumber,S=s.column;{const X=f>1?this._buffer.getLineCharCode(l,f-2):0,le=S>1&&S<=this._buffer.getLineLength(L)?this._buffer.getLineCharCode(L,S-2):0,ge=g.pc(X),ve=g.pc(le);return!ge&&!ve?new z.Q(l,f,L,S):l===L&&f===S?new z.Q(l,f-1,L,S-1):ge&&ve?new z.Q(l,f-1,L,S+1):ge?new z.Q(l,f-1,L,S):new z.Q(l,f,L,S+1)}return new z.Q(l,f,L,S)}modifyPosition(e,t){this._assertNotDisposed();const r=this.getOffsetAt(e)+t;return this.getPositionAt(Math.min(this._buffer.getLength(),Math.max(0,r)))}getFullModelRange(){this._assertNotDisposed();const e=this.getLineCount();return new z.Q(1,1,e,this.getLineMaxColumn(e))}findMatchesLineByLine(e,t,r,s){return this._buffer.findMatchesLineByLine(e,t,r,s)}findMatches(e,t,r,s,l,f,L=bl){this._assertNotDisposed();let S=null;t!==null&&(Array.isArray(t)||(t=[t]),t.every(ge=>z.Q.isIRange(ge))&&(S=t.map(ge=>this.validateRange(ge)))),S===null&&(S=[this.getFullModelRange()]),S=S.sort((ge,ve)=>ge.startLineNumber-ve.startLineNumber||ge.startColumn-ve.startColumn);const X=[];X.push(S.reduce((ge,ve)=>z.Q.areIntersecting(ge,ve)?ge.plusRange(ve):(X.push(ge),ve)));let le;if(!r&&e.indexOf(`
`)<0){const ve=new Yn.lt(e,r,s,l).parseSearchRequest();if(!ve)return[];le=n(Be=>this.findMatchesLineByLine(Be,ve,f,L),"matchMapper")}else le=n(ge=>Yn.hB.findMatches(this,new Yn.lt(e,r,s,l),ge,f,L),"matchMapper");return X.map(le).reduce((ge,ve)=>ge.concat(ve),[])}findNextMatch(e,t,r,s,l,f){this._assertNotDisposed();const L=this.validatePosition(t);if(!r&&e.indexOf(`
`)<0){const X=new Yn.lt(e,r,s,l).parseSearchRequest();if(!X)return null;const le=this.getLineCount();let ge=new z.Q(L.lineNumber,L.column,le,this.getLineMaxColumn(le)),ve=this.findMatchesLineByLine(ge,X,f,1);return Yn.hB.findNextMatch(this,new Yn.lt(e,r,s,l),L,f),ve.length>0||(ge=new z.Q(1,1,L.lineNumber,this.getLineMaxColumn(L.lineNumber)),ve=this.findMatchesLineByLine(ge,X,f,1),ve.length>0)?ve[0]:null}return Yn.hB.findNextMatch(this,new Yn.lt(e,r,s,l),L,f)}findPreviousMatch(e,t,r,s,l,f){this._assertNotDisposed();const L=this.validatePosition(t);return Yn.hB.findPreviousMatch(this,new Yn.lt(e,r,s,l),L,f)}pushStackElement(){this._commandManager.pushStackElement()}popStackElement(){this._commandManager.popStackElement()}pushEOL(e){if((this.getEOL()===`
`?0:1)!==e)try{this._onDidChangeDecorations.beginDeferredEmit(),this._eventEmitter.beginDeferredEmit(),this._initialUndoRedoSnapshot===null&&(this._initialUndoRedoSnapshot=this._undoRedoService.createSnapshot(this.uri)),this._commandManager.pushEOL(e)}finally{this._eventEmitter.endDeferredEmit(),this._onDidChangeDecorations.endDeferredEmit()}}_validateEditOperation(e){return e instanceof Zt.Wo?e:new Zt.Wo(e.identifier||null,this.validateRange(e.range),e.text,e.forceMoveMarkers||!1,e.isAutoWhitespaceEdit||!1,e._isTracked||!1)}_validateEditOperations(e){const t=[];for(let r=0,s=e.length;r<s;r++)t[r]=this._validateEditOperation(e[r]);return t}pushEditOperations(e,t,r,s){try{return this._onDidChangeDecorations.beginDeferredEmit(),this._eventEmitter.beginDeferredEmit(),this._pushEditOperations(e,this._validateEditOperations(t),r,s)}finally{this._eventEmitter.endDeferredEmit(),this._onDidChangeDecorations.endDeferredEmit()}}_pushEditOperations(e,t,r,s){if(this._options.trimAutoWhitespace&&this._trimAutoWhitespaceLines){const l=t.map(L=>({range:this.validateRange(L.range),text:L.text}));let f=!0;if(e)for(let L=0,S=e.length;L<S;L++){const X=e[L];let le=!1;for(let ge=0,ve=l.length;ge<ve;ge++){const Be=l[ge].range,ze=Be.startLineNumber>X.endLineNumber,Ye=X.startLineNumber>Be.endLineNumber;if(!ze&&!Ye){le=!0;break}}if(!le){f=!1;break}}if(f)for(let L=0,S=this._trimAutoWhitespaceLines.length;L<S;L++){const X=this._trimAutoWhitespaceLines[L],le=this.getLineMaxColumn(X);let ge=!0;for(let ve=0,Be=l.length;ve<Be;ve++){const ze=l[ve].range,Ye=l[ve].text;if(!(X<ze.startLineNumber||X>ze.endLineNumber)&&!(X===ze.startLineNumber&&ze.startColumn===le&&ze.isEmpty()&&Ye&&Ye.length>0&&Ye.charAt(0)===`
`)&&!(X===ze.startLineNumber&&ze.startColumn===1&&ze.isEmpty()&&Ye&&Ye.length>0&&Ye.charAt(Ye.length-1)===`
`)){ge=!1;break}}if(ge){const ve=new z.Q(X,1,X,le);t.push(new Zt.Wo(null,ve,null,!1,!1,!1))}}this._trimAutoWhitespaceLines=null}return this._initialUndoRedoSnapshot===null&&(this._initialUndoRedoSnapshot=this._undoRedoService.createSnapshot(this.uri)),this._commandManager.pushEditOperation(e,t,r,s)}_applyUndo(e,t,r,s){const l=e.map(f=>{const L=this.getPositionAt(f.newPosition),S=this.getPositionAt(f.newEnd);return{range:new z.Q(L.lineNumber,L.column,S.lineNumber,S.column),text:f.oldText}});this._applyUndoRedoEdits(l,t,!0,!1,r,s)}_applyRedo(e,t,r,s){const l=e.map(f=>{const L=this.getPositionAt(f.oldPosition),S=this.getPositionAt(f.oldEnd);return{range:new z.Q(L.lineNumber,L.column,S.lineNumber,S.column),text:f.newText}});this._applyUndoRedoEdits(l,t,!1,!0,r,s)}_applyUndoRedoEdits(e,t,r,s,l,f){try{this._onDidChangeDecorations.beginDeferredEmit(),this._eventEmitter.beginDeferredEmit(),this._isUndoing=r,this._isRedoing=s,this.applyEdits(e,!1),this.setEOL(t),this._overwriteAlternativeVersionId(l)}finally{this._isUndoing=!1,this._isRedoing=!1,this._eventEmitter.endDeferredEmit(f),this._onDidChangeDecorations.endDeferredEmit()}}applyEdits(e,t=!1){try{this._onDidChangeDecorations.beginDeferredEmit(),this._eventEmitter.beginDeferredEmit();const r=this._validateEditOperations(e);return this._doApplyEdits(r,t)}finally{this._eventEmitter.endDeferredEmit(),this._onDidChangeDecorations.endDeferredEmit()}}_doApplyEdits(e,t){const r=this._buffer.getLineCount(),s=this._buffer.applyEdits(e,this._options.trimAutoWhitespace,t),l=this._buffer.getLineCount(),f=s.changes;if(this._trimAutoWhitespaceLines=s.trimAutoWhitespaceLineNumbers,f.length!==0){for(let X=0,le=f.length;X<le;X++){const ge=f[X];this._decorationsTree.acceptReplace(ge.rangeOffset,ge.rangeLength,ge.text.length,ge.forceMoveMarkers)}const L=[];this._increaseVersionId();let S=r;for(let X=0,le=f.length;X<le;X++){const ge=f[X],[ve]=(0,O.W)(ge.text);this._onDidChangeDecorations.fire();const Be=ge.range.startLineNumber,ze=ge.range.endLineNumber,Ye=ze-Be,tt=ve,Ct=Math.min(Ye,tt),Ot=tt-Ye,Jt=l-S-Ot+Be,fn=Jt,Bn=Jt+tt,jn=this._decorationsTree.getInjectedTextInInterval(this,this.getOffsetAt(new j.y(fn,1)),this.getOffsetAt(new j.y(Bn,this.getLineMaxColumn(Bn))),0),Nn=Ft.fromDecorations(jn),Cn=new K.j3(Nn);for(let yn=Ct;yn>=0;yn--){const Hi=Be+yn,si=Jt+yn;Cn.takeFromEndWhile(bs=>bs.lineNumber>si);const Cr=Cn.takeFromEndWhile(bs=>bs.lineNumber===si);L.push(new Gt(Hi,this.getLineContent(si),Cr))}if(Ct<Ye){const yn=Be+Ct;L.push(new Mn(yn+1,ze))}if(Ct<tt){const yn=new K.j3(Nn),Hi=Be+Ct,si=tt-Ct,Cr=l-S-si+Hi+1,bs=[],dl=[];for(let Rs=0;Rs<si;Rs++){const rl=Cr+Rs;dl[Rs]=this.getLineContent(rl),yn.takeWhile(sl=>sl.lineNumber<rl),bs[Rs]=yn.takeWhile(sl=>sl.lineNumber===rl)}L.push(new Ln(Hi+1,Be+tt,dl,bs))}S+=Ot}this._emitContentChangedEvent(new Li(L,this.getVersionId(),this._isUndoing,this._isRedoing),{changes:f,eol:this._buffer.getEOL(),isEolChange:!1,versionId:this.getVersionId(),isUndoing:this._isUndoing,isRedoing:this._isRedoing,isFlush:!1})}return s.reverseEdits===null?void 0:s.reverseEdits}undo(){return this._undoRedoService.undo(this.uri)}canUndo(){return this._undoRedoService.canUndo(this.uri)}redo(){return this._undoRedoService.redo(this.uri)}canRedo(){return this._undoRedoService.canRedo(this.uri)}handleBeforeFireDecorationsChangedEvent(e){if(e===null||e.size===0)return;const r=Array.from(e).map(s=>new Gt(s,this.getLineContent(s),this._getInjectedTextInLine(s)));this._onDidChangeInjectedText.fire(new Ai(r))}changeDecorations(e,t=0){this._assertNotDisposed();try{return this._onDidChangeDecorations.beginDeferredEmit(),this._changeDecorations(t,e)}finally{this._onDidChangeDecorations.endDeferredEmit()}}_changeDecorations(e,t){const r={addDecoration:n((l,f)=>this._deltaDecorationsImpl(e,[],[{range:l,options:f}])[0],"addDecoration"),changeDecoration:n((l,f)=>{this._changeDecorationImpl(l,f)},"changeDecoration"),changeDecorationOptions:n((l,f)=>{this._changeDecorationOptionsImpl(l,hl(f))},"changeDecorationOptions"),removeDecoration:n(l=>{this._deltaDecorationsImpl(e,[l],[])},"removeDecoration"),deltaDecorations:n((l,f)=>l.length===0&&f.length===0?[]:this._deltaDecorationsImpl(e,l,f),"deltaDecorations")};let s=null;try{s=t(r)}catch(l){(0,N.dz)(l)}return r.addDecoration=xs,r.changeDecoration=xs,r.changeDecorationOptions=xs,r.removeDecoration=xs,r.deltaDecorations=xs,s}deltaDecorations(e,t,r=0){if(this._assertNotDisposed(),e||(e=[]),e.length===0&&t.length===0)return[];try{return this._deltaDecorationCallCnt++,this._deltaDecorationCallCnt>1&&(console.warn("Invoking deltaDecorations recursively could lead to leaking decorations."),(0,N.dz)(new Error("Invoking deltaDecorations recursively could lead to leaking decorations."))),this._onDidChangeDecorations.beginDeferredEmit(),this._deltaDecorationsImpl(r,e,t)}finally{this._onDidChangeDecorations.endDeferredEmit(),this._deltaDecorationCallCnt--}}_getTrackedRange(e){return this.getDecorationRange(e)}_setTrackedRange(e,t,r){const s=e?this._decorations[e]:null;if(!s)return t?this._deltaDecorationsImpl(0,[],[{range:t,options:cl[r]}],!0)[0]:null;if(!t)return this._decorationsTree.delete(s),delete this._decorations[s.id],null;const l=this._validateRangeRelaxedNoAllocations(t),f=this._buffer.getOffsetAt(l.startLineNumber,l.startColumn),L=this._buffer.getOffsetAt(l.endLineNumber,l.endColumn);return this._decorationsTree.delete(s),s.reset(this.getVersionId(),f,L,l),s.setOptions(cl[r]),this._decorationsTree.insert(s),s.id}removeAllDecorationsWithOwnerId(e){if(this._isDisposed)return;const t=this._decorationsTree.collectNodesFromOwner(e);for(let r=0,s=t.length;r<s;r++){const l=t[r];this._decorationsTree.delete(l),delete this._decorations[l.id]}}getDecorationOptions(e){const t=this._decorations[e];return t?t.options:null}getDecorationRange(e){const t=this._decorations[e];return t?this._decorationsTree.getNodeRange(this,t):null}getLineDecorations(e,t=0,r=!1){return e<1||e>this.getLineCount()?[]:this.getLinesDecorations(e,e,t,r)}getLinesDecorations(e,t,r=0,s=!1,l=!1){const f=this.getLineCount(),L=Math.min(f,Math.max(1,e)),S=Math.min(f,Math.max(1,t)),X=this.getLineMaxColumn(S),le=new z.Q(L,1,S,X),ge=this._getDecorationsInRange(le,r,s,l);return(0,K.E4)(ge,this._decorationProvider.getDecorationsInRange(le,r,s)),ge}getDecorationsInRange(e,t=0,r=!1,s=!1,l=!1){const f=this.validateRange(e),L=this._getDecorationsInRange(f,t,r,l);return(0,K.E4)(L,this._decorationProvider.getDecorationsInRange(f,t,r,s)),L}getOverviewRulerDecorations(e=0,t=!1){return this._decorationsTree.getAll(this,e,t,!0,!1)}getInjectedTextDecorations(e=0){return this._decorationsTree.getAllInjectedText(this,e)}_getInjectedTextInLine(e){const t=this._buffer.getOffsetAt(e,1),r=t+this._buffer.getLineLength(e),s=this._decorationsTree.getInjectedTextInInterval(this,t,r,0);return Ft.fromDecorations(s).filter(l=>l.lineNumber===e)}getAllDecorations(e=0,t=!1){let r=this._decorationsTree.getAll(this,e,t,!1,!1);return r=r.concat(this._decorationProvider.getAllDecorations(e,t)),r}getAllMarginDecorations(e=0){return this._decorationsTree.getAll(this,e,!1,!1,!0)}_getDecorationsInRange(e,t,r,s){const l=this._buffer.getOffsetAt(e.startLineNumber,e.startColumn),f=this._buffer.getOffsetAt(e.endLineNumber,e.endColumn);return this._decorationsTree.getAllInInterval(this,l,f,t,r,s)}getRangeAt(e,t){return this._buffer.getRangeAt(e,t-e)}_changeDecorationImpl(e,t){const r=this._decorations[e];if(!r)return;if(r.options.after){const L=this.getDecorationRange(e);this._onDidChangeDecorations.recordLineAffectedByInjectedText(L.endLineNumber)}if(r.options.before){const L=this.getDecorationRange(e);this._onDidChangeDecorations.recordLineAffectedByInjectedText(L.startLineNumber)}const s=this._validateRangeRelaxedNoAllocations(t),l=this._buffer.getOffsetAt(s.startLineNumber,s.startColumn),f=this._buffer.getOffsetAt(s.endLineNumber,s.endColumn);this._decorationsTree.delete(r),r.reset(this.getVersionId(),l,f,s),this._decorationsTree.insert(r),this._onDidChangeDecorations.checkAffectedAndFire(r.options),r.options.after&&this._onDidChangeDecorations.recordLineAffectedByInjectedText(s.endLineNumber),r.options.before&&this._onDidChangeDecorations.recordLineAffectedByInjectedText(s.startLineNumber)}_changeDecorationOptionsImpl(e,t){const r=this._decorations[e];if(!r)return;const s=!!(r.options.overviewRuler&&r.options.overviewRuler.color),l=!!(t.overviewRuler&&t.overviewRuler.color);if(this._onDidChangeDecorations.checkAffectedAndFire(r.options),this._onDidChangeDecorations.checkAffectedAndFire(t),r.options.after||t.after){const S=this._decorationsTree.getNodeRange(this,r);this._onDidChangeDecorations.recordLineAffectedByInjectedText(S.endLineNumber)}if(r.options.before||t.before){const S=this._decorationsTree.getNodeRange(this,r);this._onDidChangeDecorations.recordLineAffectedByInjectedText(S.startLineNumber)}const f=s!==l,L=kl(t)!==js(r);f||L?(this._decorationsTree.delete(r),r.setOptions(t),this._decorationsTree.insert(r)):r.setOptions(t)}_deltaDecorationsImpl(e,t,r,s=!1){const l=this.getVersionId(),f=t.length;let L=0;const S=r.length;let X=0;this._onDidChangeDecorations.beginDeferredEmit();try{const le=new Array(S);for(;L<f||X<S;){let ge=null;if(L<f){do ge=this._decorations[t[L++]];while(!ge&&L<f);if(ge){if(ge.options.after){const ve=this._decorationsTree.getNodeRange(this,ge);this._onDidChangeDecorations.recordLineAffectedByInjectedText(ve.endLineNumber)}if(ge.options.before){const ve=this._decorationsTree.getNodeRange(this,ge);this._onDidChangeDecorations.recordLineAffectedByInjectedText(ve.startLineNumber)}this._decorationsTree.delete(ge),s||this._onDidChangeDecorations.checkAffectedAndFire(ge.options)}}if(X<S){if(!ge){const Ct=++this._lastDecorationId,Ot=`${this._instanceId};${Ct}`;ge=new cr(Ot,0,0),this._decorations[Ot]=ge}const ve=r[X],Be=this._validateRangeRelaxedNoAllocations(ve.range),ze=hl(ve.options),Ye=this._buffer.getOffsetAt(Be.startLineNumber,Be.startColumn),tt=this._buffer.getOffsetAt(Be.endLineNumber,Be.endColumn);ge.ownerId=e,ge.reset(l,Ye,tt,Be),ge.setOptions(ze),ge.options.after&&this._onDidChangeDecorations.recordLineAffectedByInjectedText(Be.endLineNumber),ge.options.before&&this._onDidChangeDecorations.recordLineAffectedByInjectedText(Be.startLineNumber),s||this._onDidChangeDecorations.checkAffectedAndFire(ze),this._decorationsTree.insert(ge),le[X]=ge.id,X++}else ge&&delete this._decorations[ge.id]}return le}finally{this._onDidChangeDecorations.endDeferredEmit()}}getLanguageId(){return this.tokenization.getLanguageId()}setLanguage(e,t){typeof e=="string"?(this._languageSelectionListener.clear(),this._setLanguage(e,t)):(this._languageSelectionListener.value=e.onDidChange(()=>this._setLanguage(e.languageId,t)),this._setLanguage(e.languageId,t))}_setLanguage(e,t){this.tokenization.setLanguageId(e,t),this._languageService.requestRichLanguageFeatures(e)}getLanguageIdAtPosition(e,t){return this.tokenization.getLanguageIdAtPosition(e,t)}getWordAtPosition(e){return this._tokenizationTextModelPart.getWordAtPosition(e)}getWordUntilPosition(e){return this._tokenizationTextModelPart.getWordUntilPosition(e)}normalizePosition(e,t){return e}getLineIndentColumn(e){return vl(this.getLineContent(e))+1}},n(ar,"TextModel"),ts=ar,ar._MODEL_SYNC_LIMIT=50*1024*1024,ar.LARGE_FILE_SIZE_THRESHOLD=20*1024*1024,ar.LARGE_FILE_LINE_COUNT_THRESHOLD=300*1e3,ar.LARGE_FILE_HEAP_OPERATION_THRESHOLD=256*1024*1024,ar.DEFAULT_CREATION_OPTIONS={isForSimpleWidget:!1,tabSize:v.tabSize,indentSize:v.indentSize,insertSpaces:v.insertSpaces,detectIndentation:!1,defaultEOL:1,trimAutoWhitespace:v.trimAutoWhitespace,largeFileOptimizations:v.largeFileOptimizations,bracketPairColorizationOptions:v.bracketPairColorizationOptions},ar);uo=ts=gl([Us(4,es),Us(5,ce.L),Us(6,Tn),Us(7,En._Y)],uo);function vl(C){let e=0;for(const t of C)if(t===" "||t==="	")e++;else break;return e}n(vl,"indentOfLine");function co(C){return!!(C.options.overviewRuler&&C.options.overviewRuler.color)}n(co,"isNodeInOverviewRuler");function kl(C){return!!C.after||!!C.before}n(kl,"isOptionsInjectedText");function js(C){return!!C.options.after||!!C.options.before}n(js,"isNodeInjectedText");const Ja=class Ja{constructor(){this._decorationsTree0=new Mr,this._decorationsTree1=new Mr,this._injectedTextDecorationsTree=new Mr}ensureAllNodesHaveRanges(e){this.getAll(e,0,!1,!1,!1)}_ensureNodesHaveRanges(e,t){for(const r of t)r.range===null&&(r.range=e.getRangeAt(r.cachedAbsoluteStart,r.cachedAbsoluteEnd));return t}getAllInInterval(e,t,r,s,l,f){const L=e.getVersionId(),S=this._intervalSearch(t,r,s,l,L,f);return this._ensureNodesHaveRanges(e,S)}_intervalSearch(e,t,r,s,l,f){const L=this._decorationsTree0.intervalSearch(e,t,r,s,l,f),S=this._decorationsTree1.intervalSearch(e,t,r,s,l,f),X=this._injectedTextDecorationsTree.intervalSearch(e,t,r,s,l,f);return L.concat(S).concat(X)}getInjectedTextInInterval(e,t,r,s){const l=e.getVersionId(),f=this._injectedTextDecorationsTree.intervalSearch(t,r,s,!1,l,!1);return this._ensureNodesHaveRanges(e,f).filter(L=>L.options.showIfCollapsed||!L.range.isEmpty())}getAllInjectedText(e,t){const r=e.getVersionId(),s=this._injectedTextDecorationsTree.search(t,!1,r,!1);return this._ensureNodesHaveRanges(e,s).filter(l=>l.options.showIfCollapsed||!l.range.isEmpty())}getAll(e,t,r,s,l){const f=e.getVersionId(),L=this._search(t,r,s,f,l);return this._ensureNodesHaveRanges(e,L)}_search(e,t,r,s,l){if(r)return this._decorationsTree1.search(e,t,s,l);{const f=this._decorationsTree0.search(e,t,s,l),L=this._decorationsTree1.search(e,t,s,l),S=this._injectedTextDecorationsTree.search(e,t,s,l);return f.concat(L).concat(S)}}collectNodesFromOwner(e){const t=this._decorationsTree0.collectNodesFromOwner(e),r=this._decorationsTree1.collectNodesFromOwner(e),s=this._injectedTextDecorationsTree.collectNodesFromOwner(e);return t.concat(r).concat(s)}collectNodesPostOrder(){const e=this._decorationsTree0.collectNodesPostOrder(),t=this._decorationsTree1.collectNodesPostOrder(),r=this._injectedTextDecorationsTree.collectNodesPostOrder();return e.concat(t).concat(r)}insert(e){js(e)?this._injectedTextDecorationsTree.insert(e):co(e)?this._decorationsTree1.insert(e):this._decorationsTree0.insert(e)}delete(e){js(e)?this._injectedTextDecorationsTree.delete(e):co(e)?this._decorationsTree1.delete(e):this._decorationsTree0.delete(e)}getNodeRange(e,t){const r=e.getVersionId();return t.cachedVersionId!==r&&this._resolveNode(t,r),t.range===null&&(t.range=e.getRangeAt(t.cachedAbsoluteStart,t.cachedAbsoluteEnd)),t.range}_resolveNode(e,t){js(e)?this._injectedTextDecorationsTree.resolveNode(e,t):co(e)?this._decorationsTree1.resolveNode(e,t):this._decorationsTree0.resolveNode(e,t)}acceptReplace(e,t,r,s){this._decorationsTree0.acceptReplace(e,t,r,s),this._decorationsTree1.acceptReplace(e,t,r,s),this._injectedTextDecorationsTree.acceptReplace(e,t,r,s)}};n(Ja,"DecorationsTrees");let Hs=Ja;function Dr(C){return C.replace(/[^a-z0-9\-_]/gi," ")}n(Dr,"cleanClassName");const Xa=class Xa{constructor(e){this.color=e.color||"",this.darkColor=e.darkColor||""}};n(Xa,"DecorationOptions");let $s=Xa;const Ya=class Ya extends $s{constructor(e){super(e),this._resolvedColor=null,this.position=typeof e.position=="number"?e.position:Zt.A5.Center}getColor(e){return this._resolvedColor||(e.type!=="light"&&this.darkColor?this._resolvedColor=this._resolveColor(this.darkColor,e):this._resolvedColor=this._resolveColor(this.color,e)),this._resolvedColor}invalidateCachedColor(){this._resolvedColor=null}_resolveColor(e,t){if(typeof e=="string")return e;const r=e?t.getColor(e.id):null;return r?r.toString():""}};n(Ya,"ModelDecorationOverviewRulerOptions");let ho=Ya;const Za=class Za{constructor(e){var t;this.position=(t=e==null?void 0:e.position)!=null?t:Zt.ZS.Center,this.persistLane=e==null?void 0:e.persistLane}};n(Za,"ModelDecorationGlyphMarginOptions");let fo=Za;const Ka=class Ka extends $s{constructor(e){var t,r;super(e),this.position=e.position,this.sectionHeaderStyle=(t=e.sectionHeaderStyle)!=null?t:null,this.sectionHeaderText=(r=e.sectionHeaderText)!=null?r:null}getColor(e){return this._resolvedColor||(e.type!=="light"&&this.darkColor?this._resolvedColor=this._resolveColor(this.darkColor,e):this._resolvedColor=this._resolveColor(this.color,e)),this._resolvedColor}invalidateCachedColor(){this._resolvedColor=void 0}_resolveColor(e,t){return typeof e=="string"?Q.Q1.fromHex(e):t.getColor(e.id)}};n(Ka,"ModelDecorationMinimapOptions");let go=Ka;const Ts=class Ts{static from(e){return e instanceof Ts?e:new Ts(e)}constructor(e){this.content=e.content||"",this.inlineClassName=e.inlineClassName||null,this.inlineClassNameAffectsLetterSpacing=e.inlineClassNameAffectsLetterSpacing||!1,this.attachedData=e.attachedData||null,this.cursorStops=e.cursorStops||null}};n(Ts,"ModelDecorationInjectedTextOptions");let Gs=Ts;const Ds=class Ds{static register(e){return new Ds(e)}static createDynamic(e){return new Ds(e)}constructor(e){var t,r,s,l,f,L;this.description=e.description,this.blockClassName=e.blockClassName?Dr(e.blockClassName):null,this.blockDoesNotCollapse=(t=e.blockDoesNotCollapse)!=null?t:null,this.blockIsAfterEnd=(r=e.blockIsAfterEnd)!=null?r:null,this.blockPadding=(s=e.blockPadding)!=null?s:null,this.stickiness=e.stickiness||0,this.zIndex=e.zIndex||0,this.className=e.className?Dr(e.className):null,this.shouldFillLineOnLineBreak=(l=e.shouldFillLineOnLineBreak)!=null?l:null,this.hoverMessage=e.hoverMessage||null,this.glyphMarginHoverMessage=e.glyphMarginHoverMessage||null,this.lineNumberHoverMessage=e.lineNumberHoverMessage||null,this.isWholeLine=e.isWholeLine||!1,this.showIfCollapsed=e.showIfCollapsed||!1,this.collapseOnReplaceEdit=e.collapseOnReplaceEdit||!1,this.overviewRuler=e.overviewRuler?new ho(e.overviewRuler):null,this.minimap=e.minimap?new go(e.minimap):null,this.glyphMargin=e.glyphMarginClassName?new fo(e.glyphMargin):null,this.glyphMarginClassName=e.glyphMarginClassName?Dr(e.glyphMarginClassName):null,this.linesDecorationsClassName=e.linesDecorationsClassName?Dr(e.linesDecorationsClassName):null,this.lineNumberClassName=e.lineNumberClassName?Dr(e.lineNumberClassName):null,this.linesDecorationsTooltip=e.linesDecorationsTooltip?g.jy(e.linesDecorationsTooltip):null,this.firstLineDecorationClassName=e.firstLineDecorationClassName?Dr(e.firstLineDecorationClassName):null,this.marginClassName=e.marginClassName?Dr(e.marginClassName):null,this.inlineClassName=e.inlineClassName?Dr(e.inlineClassName):null,this.inlineClassNameAffectsLetterSpacing=e.inlineClassNameAffectsLetterSpacing||!1,this.beforeContentClassName=e.beforeContentClassName?Dr(e.beforeContentClassName):null,this.afterContentClassName=e.afterContentClassName?Dr(e.afterContentClassName):null,this.after=e.after?Gs.from(e.after):null,this.before=e.before?Gs.from(e.before):null,this.hideInCommentTokens=(f=e.hideInCommentTokens)!=null?f:!1,this.hideInStringTokens=(L=e.hideInStringTokens)!=null?L:!1}};n(Ds,"ModelDecorationOptions");let Br=Ds;Br.EMPTY=Br.register({description:"empty"});const cl=[Br.register({description:"tracked-range-always-grows-when-typing-at-edges",stickiness:0}),Br.register({description:"tracked-range-never-grows-when-typing-at-edges",stickiness:1}),Br.register({description:"tracked-range-grows-only-when-typing-before",stickiness:2}),Br.register({description:"tracked-range-grows-only-when-typing-after",stickiness:3})];function hl(C){return C instanceof Br?C:Br.createDynamic(C)}n(hl,"_normalizeOptions");const el=class el extends ie.jG{constructor(e){super(),this.handleBeforeFire=e,this._actual=this._register(new F.vl),this.event=this._actual.event,this._affectedInjectedTextLines=null,this._deferredCnt=0,this._shouldFireDeferred=!1,this._affectsMinimap=!1,this._affectsOverviewRuler=!1,this._affectsGlyphMargin=!1,this._affectsLineNumber=!1}beginDeferredEmit(){this._deferredCnt++}endDeferredEmit(){var e;this._deferredCnt--,this._deferredCnt===0&&(this._shouldFireDeferred&&this.doFire(),(e=this._affectedInjectedTextLines)==null||e.clear(),this._affectedInjectedTextLines=null)}recordLineAffectedByInjectedText(e){this._affectedInjectedTextLines||(this._affectedInjectedTextLines=new Set),this._affectedInjectedTextLines.add(e)}checkAffectedAndFire(e){var t,r;this._affectsMinimap||(this._affectsMinimap=!!((t=e.minimap)!=null&&t.position)),this._affectsOverviewRuler||(this._affectsOverviewRuler=!!((r=e.overviewRuler)!=null&&r.color)),this._affectsGlyphMargin||(this._affectsGlyphMargin=!!e.glyphMarginClassName),this._affectsLineNumber||(this._affectsLineNumber=!!e.lineNumberClassName),this.tryFire()}fire(){this._affectsMinimap=!0,this._affectsOverviewRuler=!0,this._affectsGlyphMargin=!0,this.tryFire()}tryFire(){this._deferredCnt===0?this.doFire():this._shouldFireDeferred=!0}doFire(){this.handleBeforeFire(this._affectedInjectedTextLines);const e={affectsMinimap:this._affectsMinimap,affectsOverviewRuler:this._affectsOverviewRuler,affectsGlyphMargin:this._affectsGlyphMargin,affectsLineNumber:this._affectsLineNumber};this._shouldFireDeferred=!1,this._affectsMinimap=!1,this._affectsOverviewRuler=!1,this._affectsGlyphMargin=!1,this._actual.fire(e)}};n(el,"DidChangeDecorationsEmitter");let mo=el;const tl=class tl extends ie.jG{constructor(){super(),this._fastEmitter=this._register(new F.vl),this.fastEvent=this._fastEmitter.event,this._slowEmitter=this._register(new F.vl),this.slowEvent=this._slowEmitter.event,this._deferredCnt=0,this._deferredEvent=null}beginDeferredEmit(){this._deferredCnt++}endDeferredEmit(e=null){if(this._deferredCnt--,this._deferredCnt===0&&this._deferredEvent!==null){this._deferredEvent.rawContentChangedEvent.resultingSelection=e;const t=this._deferredEvent;this._deferredEvent=null,this._fastEmitter.fire(t),this._slowEmitter.fire(t)}}fire(e){if(this._deferredCnt>0){this._deferredEvent?this._deferredEvent=this._deferredEvent.merge(e):this._deferredEvent=e;return}this._fastEmitter.fire(e),this._slowEmitter.fire(e)}};n(tl,"DidChangeContentEmitter");let po=tl;var Ll=E(1504),Cl=E(2344),qs=E(3072),xl=E(1386),wl=function(C,e,t,r){var s=arguments.length,l=s<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,f;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")l=Reflect.decorate(C,e,t,r);else for(var L=C.length-1;L>=0;L--)(f=C[L])&&(l=(s<3?f(l):s>3?f(e,t,l):f(e,t))||l);return s>3&&l&&Object.defineProperty(e,t,l),l},Qs=function(C,e){return function(t,r){e(t,r,C)}},fs;function ns(C){return C.toString()}n(ns,"modelService_MODEL_ID");const nl=class nl{constructor(e,t,r){this.model=e,this._modelEventListeners=new ie.Cm,this.model=e,this._modelEventListeners.add(e.onWillDispose(()=>t(e))),this._modelEventListeners.add(e.onDidChangeLanguage(s=>r(e,s)))}dispose(){this._modelEventListeners.dispose()}};n(nl,"ModelData");let bo=nl;const yl=o.j9||o.zx?1:2,il=class il{constructor(e,t,r,s,l,f,L,S){this.uri=e,this.initialUndoRedoSnapshot=t,this.time=r,this.sharesUndoRedoStack=s,this.heapSize=l,this.sha1=f,this.versionId=L,this.alternativeVersionId=S}};n(il,"DisposedModelInfo");let _o=il,vo=(Jr=class extends ie.jG{constructor(e,t,r,s){super(),this._configurationService=e,this._resourcePropertiesService=t,this._undoRedoService=r,this._instantiationService=s,this._onModelAdded=this._register(new F.vl),this.onModelAdded=this._onModelAdded.event,this._onModelRemoved=this._register(new F.vl),this.onModelRemoved=this._onModelRemoved.event,this._onModelModeChanged=this._register(new F.vl),this.onModelLanguageChanged=this._onModelModeChanged.event,this._modelCreationOptionsByLanguageAndResource=Object.create(null),this._models={},this._disposedModels=new Map,this._disposedModelsHeapSize=0,this._register(this._configurationService.onDidChangeConfiguration(l=>this._updateModelOptions(l))),this._updateModelOptions(void 0)}static _readModelOptions(e,t){var ve;let r=v.tabSize;if(e.editor&&typeof e.editor.tabSize!="undefined"){const Be=parseInt(e.editor.tabSize,10);isNaN(Be)||(r=Be),r<1&&(r=1)}let s="tabSize";if(e.editor&&typeof e.editor.indentSize!="undefined"&&e.editor.indentSize!=="tabSize"){const Be=parseInt(e.editor.indentSize,10);isNaN(Be)||(s=Math.max(Be,1))}let l=v.insertSpaces;e.editor&&typeof e.editor.insertSpaces!="undefined"&&(l=e.editor.insertSpaces==="false"?!1:!!e.editor.insertSpaces);let f=yl;const L=e.eol;L===`\r
`?f=2:L===`
`&&(f=1);let S=v.trimAutoWhitespace;e.editor&&typeof e.editor.trimAutoWhitespace!="undefined"&&(S=e.editor.trimAutoWhitespace==="false"?!1:!!e.editor.trimAutoWhitespace);let X=v.detectIndentation;e.editor&&typeof e.editor.detectIndentation!="undefined"&&(X=e.editor.detectIndentation==="false"?!1:!!e.editor.detectIndentation);let le=v.largeFileOptimizations;e.editor&&typeof e.editor.largeFileOptimizations!="undefined"&&(le=e.editor.largeFileOptimizations==="false"?!1:!!e.editor.largeFileOptimizations);let ge=v.bracketPairColorizationOptions;return(ve=e.editor)!=null&&ve.bracketPairColorization&&typeof e.editor.bracketPairColorization=="object"&&(ge={enabled:!!e.editor.bracketPairColorization.enabled,independentColorPoolPerBracketType:!!e.editor.bracketPairColorization.independentColorPoolPerBracketType}),{isForSimpleWidget:t,tabSize:r,indentSize:s,insertSpaces:l,detectIndentation:X,defaultEOL:f,trimAutoWhitespace:S,largeFileOptimizations:le,bracketPairColorizationOptions:ge}}_getEOL(e,t){if(e)return this._resourcePropertiesService.getEOL(e,t);const r=this._configurationService.getValue("files.eol",{overrideIdentifier:t});return r&&typeof r=="string"&&r!=="auto"?r:o.OS===3||o.OS===2?`
`:`\r
`}_shouldRestoreUndoStack(){const e=this._configurationService.getValue("files.restoreUndoStack");return typeof e=="boolean"?e:!0}getCreationOptions(e,t,r){const s=typeof e=="string"?e:e.languageId;let l=this._modelCreationOptionsByLanguageAndResource[s+t];if(!l){const f=this._configurationService.getValue("editor",{overrideIdentifier:s,resource:t}),L=this._getEOL(t,s);l=fs._readModelOptions({editor:f,eol:L},r),this._modelCreationOptionsByLanguageAndResource[s+t]=l}return l}_updateModelOptions(e){const t=this._modelCreationOptionsByLanguageAndResource;this._modelCreationOptionsByLanguageAndResource=Object.create(null);const r=Object.keys(this._models);for(let s=0,l=r.length;s<l;s++){const f=r[s],L=this._models[f],S=L.model.getLanguageId(),X=L.model.uri;if(e&&!e.affectsConfiguration("editor",{overrideIdentifier:S,resource:X})&&!e.affectsConfiguration("files.eol",{overrideIdentifier:S,resource:X}))continue;const le=t[S+X],ge=this.getCreationOptions(S,X,L.model.isForSimpleWidget);fs._setModelOptionsForModel(L.model,ge,le)}}static _setModelOptionsForModel(e,t,r){r&&r.defaultEOL!==t.defaultEOL&&e.getLineCount()===1&&e.setEOL(t.defaultEOL===1?0:1),!(r&&r.detectIndentation===t.detectIndentation&&r.insertSpaces===t.insertSpaces&&r.tabSize===t.tabSize&&r.indentSize===t.indentSize&&r.trimAutoWhitespace===t.trimAutoWhitespace&&(0,xl.aI)(r.bracketPairColorizationOptions,t.bracketPairColorizationOptions))&&(t.detectIndentation?(e.detectIndentation(t.insertSpaces,t.tabSize),e.updateOptions({trimAutoWhitespace:t.trimAutoWhitespace,bracketColorizationOptions:t.bracketPairColorizationOptions})):e.updateOptions({insertSpaces:t.insertSpaces,tabSize:t.tabSize,indentSize:t.indentSize,trimAutoWhitespace:t.trimAutoWhitespace,bracketColorizationOptions:t.bracketPairColorizationOptions}))}_insertDisposedModel(e){this._disposedModels.set(ns(e.uri),e),this._disposedModelsHeapSize+=e.heapSize}_removeDisposedModel(e){const t=this._disposedModels.get(ns(e));return t&&(this._disposedModelsHeapSize-=t.heapSize),this._disposedModels.delete(ns(e)),t}_ensureDisposedModelsHeapSize(e){if(this._disposedModelsHeapSize>e){const t=[];for(this._disposedModels.forEach(r=>{r.sharesUndoRedoStack||t.push(r)}),t.sort((r,s)=>r.time-s.time);t.length>0&&this._disposedModelsHeapSize>e;){const r=t.shift();this._removeDisposedModel(r.uri),r.initialUndoRedoSnapshot!==null&&this._undoRedoService.restoreSnapshot(r.initialUndoRedoSnapshot)}}}_createModelData(e,t,r,s){const l=this.getCreationOptions(t,r,s),f=this._instantiationService.createInstance(uo,e,t,l,r);if(r&&this._disposedModels.has(ns(r))){const X=this._removeDisposedModel(r),le=this._undoRedoService.getElements(r),ge=this._getSHA1Computer(),ve=ge.canComputeSHA1(f)?ge.computeSHA1(f)===X.sha1:!1;if(ve||X.sharesUndoRedoStack){for(const Be of le.past)Qe(Be)&&Be.matchesResource(r)&&Be.setModel(f);for(const Be of le.future)Qe(Be)&&Be.matchesResource(r)&&Be.setModel(f);this._undoRedoService.setElementsValidFlag(r,!0,Be=>Qe(Be)&&Be.matchesResource(r)),ve&&(f._overwriteVersionId(X.versionId),f._overwriteAlternativeVersionId(X.alternativeVersionId),f._overwriteInitialUndoRedoSnapshot(X.initialUndoRedoSnapshot))}else X.initialUndoRedoSnapshot!==null&&this._undoRedoService.restoreSnapshot(X.initialUndoRedoSnapshot)}const L=ns(f.uri);if(this._models[L])throw new Error("ModelService: Cannot add model because it already exists!");const S=new bo(f,X=>this._onWillDispose(X),(X,le)=>this._onDidChangeLanguage(X,le));return this._models[L]=S,S}createModel(e,t,r,s=!1){let l;return t?l=this._createModelData(e,t,r,s):l=this._createModelData(e,mn.vH,r,s),this._onModelAdded.fire(l.model),l.model}getModels(){const e=[],t=Object.keys(this._models);for(let r=0,s=t.length;r<s;r++){const l=t[r];e.push(this._models[l].model)}return e}getModel(e){const t=ns(e),r=this._models[t];return r?r.model:null}_schemaShouldMaintainUndoRedoElements(e){return e.scheme===qs.ny.file||e.scheme===qs.ny.vscodeRemote||e.scheme===qs.ny.vscodeUserData||e.scheme===qs.ny.vscodeNotebookCell||e.scheme==="fake-fs"}_onWillDispose(e){const t=ns(e.uri),r=this._models[t],s=this._undoRedoService.getUriComparisonKey(e.uri)!==e.uri.toString();let l=!1,f=0;if(s||this._shouldRestoreUndoStack()&&this._schemaShouldMaintainUndoRedoElements(e.uri)){const X=this._undoRedoService.getElements(e.uri);if(X.past.length>0||X.future.length>0){for(const le of X.past)Qe(le)&&le.matchesResource(e.uri)&&(l=!0,f+=le.heapSize(e.uri),le.setModel(e.uri));for(const le of X.future)Qe(le)&&le.matchesResource(e.uri)&&(l=!0,f+=le.heapSize(e.uri),le.setModel(e.uri))}}const L=fs.MAX_MEMORY_FOR_CLOSED_FILES_UNDO_STACK,S=this._getSHA1Computer();if(l)if(!s&&(f>L||!S.canComputeSHA1(e))){const X=r.model.getInitialUndoRedoSnapshot();X!==null&&this._undoRedoService.restoreSnapshot(X)}else this._ensureDisposedModelsHeapSize(L-f),this._undoRedoService.setElementsValidFlag(e.uri,!1,X=>Qe(X)&&X.matchesResource(e.uri)),this._insertDisposedModel(new _o(e.uri,r.model.getInitialUndoRedoSnapshot(),Date.now(),s,f,S.computeSHA1(e),e.getVersionId(),e.getAlternativeVersionId()));else if(!s){const X=r.model.getInitialUndoRedoSnapshot();X!==null&&this._undoRedoService.restoreSnapshot(X)}delete this._models[t],r.dispose(),delete this._modelCreationOptionsByLanguageAndResource[e.getLanguageId()+e.uri],this._onModelRemoved.fire(e)}_onDidChangeLanguage(e,t){const r=t.oldLanguage,s=e.getLanguageId(),l=this.getCreationOptions(r,e.uri,e.isForSimpleWidget),f=this.getCreationOptions(s,e.uri,e.isForSimpleWidget);fs._setModelOptionsForModel(e,f,l),this._onModelModeChanged.fire({model:e,oldLanguageId:r})}_getSHA1Computer(){return new Js}},n(Jr,"ModelService"),fs=Jr,Jr.MAX_MEMORY_FOR_CLOSED_FILES_UNDO_STACK=20*1024*1024,Jr);vo=fs=wl([Qs(0,_n.pG),Qs(1,Ll.ITextResourcePropertiesService),Qs(2,es),Qs(3,En._Y)],vo);const Bs=class Bs{canComputeSHA1(e){return e.getValueLength()<=Bs.MAX_MODEL_SIZE}computeSHA1(e){const t=new Cl.v7,r=e.createSnapshot();let s;for(;s=r.read();)t.update(s);return t.digest()}};n(Bs,"DefaultModelSHA1Computer"),Bs.MAX_MODEL_SIZE=10485760;let Js=Bs},7042:(Lt,Pe,E)=>{"use strict";E.r(Pe),E.d(Pe,{ITextModelService:n(()=>ie,"ITextModelService")});var F=E(2399);const ie=(0,F.u1)("textModelService")},9376:(Lt,Pe,E)=>{"use strict";E.r(Pe),E.d(Pe,{encodeSemanticTokensDto:n(()=>Q,"encodeSemanticTokensDto")});var F=E(2802),ie=E(3339);function o(g){for(let Y=0,O=g.length;Y<O;Y+=4){const ne=g[Y+0],B=g[Y+1],$=g[Y+2],j=g[Y+3];g[Y+0]=j,g[Y+1]=$,g[Y+2]=B,g[Y+3]=ne}}n(o,"reverseEndianness");function K(g){const Y=new Uint8Array(g.buffer,g.byteOffset,g.length*4);return ie.cm()||o(Y),F.MB.wrap(Y)}n(K,"toLittleEndianBuffer");function Q(g){const Y=new Uint32Array(N(g));let O=0;if(Y[O++]=g.id,g.type==="full")Y[O++]=1,Y[O++]=g.data.length,Y.set(g.data,O),O+=g.data.length;else{Y[O++]=2,Y[O++]=g.deltas.length;for(const ne of g.deltas)Y[O++]=ne.start,Y[O++]=ne.deleteCount,ne.data?(Y[O++]=ne.data.length,Y.set(ne.data,O),O+=ne.data.length):Y[O++]=0}return K(Y)}n(Q,"encodeSemanticTokensDto");function N(g){let Y=0;if(Y+=2,g.type==="full")Y+=1+g.data.length;else{Y+=1,Y+=3*g.deltas.length;for(const O of g.deltas)O.data&&(Y+=O.data.length)}return Y}n(N,"encodeSemanticTokensDtoSize")},9520:(Lt,Pe,E)=>{"use strict";var me;E.r(Pe),E.d(Pe,{SemanticTokensProviderStyling:n(()=>z,"SemanticTokensProviderStyling"),toMultilineTokens2:n(()=>U,"toMultilineTokens2")});var F=E(5910),ie=E(5295),o=E(9950),K=E(5365),Q=E(8061),N=E(3902);const J=class J{static create(R,m){return new J(R,new Y(m))}get startLineNumber(){return this._startLineNumber}get endLineNumber(){return this._endLineNumber}constructor(R,m){this._startLineNumber=R,this._tokens=m,this._endLineNumber=this._startLineNumber+this._tokens.getMaxDeltaLine()}toString(){return this._tokens.toString(this._startLineNumber)}_updateEndLineNumber(){this._endLineNumber=this._startLineNumber+this._tokens.getMaxDeltaLine()}isEmpty(){return this._tokens.isEmpty()}getLineTokens(R){return this._startLineNumber<=R&&R<=this._endLineNumber?this._tokens.getLineTokens(R-this._startLineNumber):null}getRange(){const R=this._tokens.getRange();return R&&new Q.Q(this._startLineNumber+R.startLineNumber,R.startColumn,this._startLineNumber+R.endLineNumber,R.endColumn)}removeTokens(R){const m=R.startLineNumber-this._startLineNumber,_=R.endLineNumber-this._startLineNumber;this._startLineNumber+=this._tokens.removeTokens(m,R.startColumn-1,_,R.endColumn-1),this._updateEndLineNumber()}split(R){const m=R.startLineNumber-this._startLineNumber,_=R.endLineNumber-this._startLineNumber,[b,I,P]=this._tokens.split(m,R.startColumn-1,_,R.endColumn-1);return[new J(this._startLineNumber,b),new J(this._startLineNumber+P,I)]}applyEdit(R,m){const[_,b,I]=(0,N.W)(m);this.acceptEdit(R,_,b,I,m.length>0?m.charCodeAt(0):0)}acceptEdit(R,m,_,b,I){this._acceptDeleteRange(R),this._acceptInsertText(new K.y(R.startLineNumber,R.startColumn),m,_,b,I),this._updateEndLineNumber()}_acceptDeleteRange(R){if(R.startLineNumber===R.endLineNumber&&R.startColumn===R.endColumn)return;const m=R.startLineNumber-this._startLineNumber,_=R.endLineNumber-this._startLineNumber;if(_<0){const I=_-m;this._startLineNumber-=I;return}const b=this._tokens.getMaxDeltaLine();if(!(m>=b+1)){if(m<0&&_>=b+1){this._startLineNumber=0,this._tokens.clear();return}if(m<0){const I=-m;this._startLineNumber-=I,this._tokens.acceptDeleteRange(R.startColumn-1,0,0,_,R.endColumn-1)}else this._tokens.acceptDeleteRange(0,m,R.startColumn-1,_,R.endColumn-1)}}_acceptInsertText(R,m,_,b,I){if(m===0&&_===0)return;const P=R.lineNumber-this._startLineNumber;if(P<0){this._startLineNumber+=m;return}const V=this._tokens.getMaxDeltaLine();P>=V+1||this._tokens.acceptInsertText(P,R.column-1,m,_,b,I)}};n(J,"SparseMultilineTokens");let g=J;const y=class y{constructor(R){this._tokens=R,this._tokenCount=R.length/4}toString(R){const m=[];for(let _=0;_<this._tokenCount;_++)m.push(`(${this._getDeltaLine(_)+R},${this._getStartCharacter(_)}-${this._getEndCharacter(_)})`);return`[${m.join(",")}]`}getMaxDeltaLine(){const R=this._getTokenCount();return R===0?-1:this._getDeltaLine(R-1)}getRange(){const R=this._getTokenCount();if(R===0)return null;const m=this._getStartCharacter(0),_=this._getDeltaLine(R-1),b=this._getEndCharacter(R-1);return new Q.Q(0,m+1,_,b+1)}_getTokenCount(){return this._tokenCount}_getDeltaLine(R){return this._tokens[4*R]}_getStartCharacter(R){return this._tokens[4*R+1]}_getEndCharacter(R){return this._tokens[4*R+2]}isEmpty(){return this._getTokenCount()===0}getLineTokens(R){let m=0,_=this._getTokenCount()-1;for(;m<_;){const b=m+Math.floor((_-m)/2),I=this._getDeltaLine(b);if(I<R)m=b+1;else if(I>R)_=b-1;else{let P=b;for(;P>m&&this._getDeltaLine(P-1)===R;)P--;let V=b;for(;V<_&&this._getDeltaLine(V+1)===R;)V++;return new O(this._tokens.subarray(4*P,4*V+4))}}return this._getDeltaLine(m)===R?new O(this._tokens.subarray(4*m,4*m+4)):null}clear(){this._tokenCount=0}removeTokens(R,m,_,b){const I=this._tokens,P=this._tokenCount;let V=0,ee=!1,fe=0;for(let ue=0;ue<P;ue++){const Te=4*ue,je=I[Te],Xe=I[Te+1],We=I[Te+2],A=I[Te+3];if((je>R||je===R&&We>=m)&&(je<_||je===_&&Xe<=b))ee=!0;else{if(V===0&&(fe=je),ee){const M=4*V;I[M]=je-fe,I[M+1]=Xe,I[M+2]=We,I[M+3]=A}V++}}return this._tokenCount=V,fe}split(R,m,_,b){const I=this._tokens,P=this._tokenCount,V=[],ee=[];let fe=V,ue=0,Te=0;for(let je=0;je<P;je++){const Xe=4*je,We=I[Xe],A=I[Xe+1],M=I[Xe+2],G=I[Xe+3];if(We>R||We===R&&M>=m){if(We<_||We===_&&A<=b)continue;fe!==ee&&(fe=ee,ue=0,Te=We)}fe[ue++]=We-Te,fe[ue++]=A,fe[ue++]=M,fe[ue++]=G}return[new y(new Uint32Array(V)),new y(new Uint32Array(ee)),Te]}acceptDeleteRange(R,m,_,b,I){const P=this._tokens,V=this._tokenCount,ee=b-m;let fe=0,ue=!1;for(let Te=0;Te<V;Te++){const je=4*Te;let Xe=P[je],We=P[je+1],A=P[je+2];const M=P[je+3];if(Xe<m||Xe===m&&A<=_){fe++;continue}else if(Xe===m&&We<_)Xe===b&&A>I?A-=I-_:A=_;else if(Xe===m&&We===_)if(Xe===b&&A>I)A-=I-_;else{ue=!0;continue}else if(Xe<b||Xe===b&&We<I)if(Xe===b&&A>I)Xe=m,We=_,A=We+(A-I);else{ue=!0;continue}else if(Xe>b){if(ee===0&&!ue){fe=V;break}Xe-=ee}else if(Xe===b&&We>=I)R&&Xe===0&&(We+=R,A+=R),Xe-=ee,We-=I-_,A-=I-_;else throw new Error("Not possible!");const G=4*fe;P[G]=Xe,P[G+1]=We,P[G+2]=A,P[G+3]=M,fe++}this._tokenCount=fe}acceptInsertText(R,m,_,b,I,P){const V=_===0&&b===1&&(P>=48&&P<=57||P>=65&&P<=90||P>=97&&P<=122),ee=this._tokens,fe=this._tokenCount;for(let ue=0;ue<fe;ue++){const Te=4*ue;let je=ee[Te],Xe=ee[Te+1],We=ee[Te+2];if(!(je<R||je===R&&We<m)){if(je===R&&We===m)if(V)We+=1;else continue;else if(je===R&&Xe<m&&m<We)_===0?We+=b:We=m;else{if(je===R&&Xe===m&&V)continue;if(je===R)if(je+=_,_===0)Xe+=b,We+=b;else{const A=We-Xe;Xe=I+(Xe-m),We=Xe+A}else je+=_}ee[Te]=je,ee[Te+1]=Xe,ee[Te+2]=We}}}};n(y,"SparseMultilineTokensStorage");let Y=y;const W=class W{constructor(R){this._tokens=R}getCount(){return this._tokens.length/4}getStartCharacter(R){return this._tokens[4*R+1]}getEndCharacter(R){return this._tokens[4*R+2]}getMetadata(R){return this._tokens[4*R+3]}};n(W,"SparseLineTokens");let O=W;var ne=E(7922),B=function(Ce,R,m,_){var b=arguments.length,I=b<3?R:_===null?_=Object.getOwnPropertyDescriptor(R,m):_,P;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")I=Reflect.decorate(Ce,R,m,_);else for(var V=Ce.length-1;V>=0;V--)(P=Ce[V])&&(I=(b<3?P(I):b>3?P(R,m,I):P(R,m))||I);return b>3&&I&&Object.defineProperty(R,m,I),I},$=function(Ce,R){return function(m,_){R(m,_,Ce)}};const j=!1;let z=(me=class{constructor(R,m,_,b){this._legend=R,this._themeService=m,this._languageService=_,this._logService=b,this._hasWarnedOverlappingTokens=!1,this._hasWarnedInvalidLengthTokens=!1,this._hasWarnedInvalidEditStart=!1,this._hashTable=new ce}getMetadata(R,m,_){const b=this._languageService.languageIdCodec.encodeLanguageId(_),I=this._hashTable.get(R,m,b);let P;if(I)P=I.metadata,j&&this._logService.getLevel()===o.$b.Trace&&this._logService.trace(`SemanticTokensProviderStyling [CACHED] ${R} / ${m}: foreground ${F.x.getForeground(P)}, fontStyle ${F.x.getFontStyle(P).toString(2)}`);else{let V=this._legend.tokenTypes[R];const ee=[];if(V){let fe=m;for(let Te=0;fe>0&&Te<this._legend.tokenModifiers.length;Te++)fe&1&&ee.push(this._legend.tokenModifiers[Te]),fe=fe>>1;j&&fe>0&&this._logService.getLevel()===o.$b.Trace&&(this._logService.trace(`SemanticTokensProviderStyling: unknown token modifier index: ${m.toString(2)} for legend: ${JSON.stringify(this._legend.tokenModifiers)}`),ee.push("not-in-legend"));const ue=this._themeService.getColorTheme().getTokenStyleMetadata(V,ee,_);if(typeof ue=="undefined")P=2147483647;else{if(P=0,typeof ue.italic!="undefined"){const Te=(ue.italic?1:0)<<11;P|=Te|1}if(typeof ue.bold!="undefined"){const Te=(ue.bold?2:0)<<11;P|=Te|2}if(typeof ue.underline!="undefined"){const Te=(ue.underline?4:0)<<11;P|=Te|4}if(typeof ue.strikethrough!="undefined"){const Te=(ue.strikethrough?8:0)<<11;P|=Te|8}if(ue.foreground){const Te=ue.foreground<<15;P|=Te|16}P===0&&(P=2147483647)}}else j&&this._logService.getLevel()===o.$b.Trace&&this._logService.trace(`SemanticTokensProviderStyling: unknown token type index: ${R} for legend: ${JSON.stringify(this._legend.tokenTypes)}`),P=2147483647,V="not-in-legend";this._hashTable.add(R,m,b,P),j&&this._logService.getLevel()===o.$b.Trace&&this._logService.trace(`SemanticTokensProviderStyling ${R} (${V}) / ${m} (${ee.join(" ")}): foreground ${F.x.getForeground(P)}, fontStyle ${F.x.getFontStyle(P).toString(2)}`)}return P}warnOverlappingSemanticTokens(R,m){this._hasWarnedOverlappingTokens||(this._hasWarnedOverlappingTokens=!0,this._logService.warn(`Overlapping semantic tokens detected at lineNumber ${R}, column ${m}`))}warnInvalidLengthSemanticTokens(R,m){this._hasWarnedInvalidLengthTokens||(this._hasWarnedInvalidLengthTokens=!0,this._logService.warn(`Semantic token with invalid length detected at lineNumber ${R}, column ${m}`))}warnInvalidEditStart(R,m,_,b,I){this._hasWarnedInvalidEditStart||(this._hasWarnedInvalidEditStart=!0,this._logService.warn(`Invalid semantic tokens edit detected (previousResultId: ${R}, resultId: ${m}) at edit #${_}: The provided start offset ${b} is outside the previous data (length ${I}).`))}},n(me,"SemanticTokensProviderStyling"),me);z=B([$(1,ie.Gy),$(2,ne.L),$(3,o.rr)],z);function U(Ce,R,m){const _=Ce.data,b=Ce.data.length/5|0,I=Math.max(Math.ceil(b/1024),400),P=[];let V=0,ee=1,fe=0;for(;V<b;){const ue=V;let Te=Math.min(ue+I,b);if(Te<b){let w=Te;for(;w-1>ue&&_[5*w]===0;)w--;if(w-1===ue){let D=Te;for(;D+1<b&&_[5*D]===0;)D++;Te=D}else Te=w}let je=new Uint32Array((Te-ue)*4),Xe=0,We=0,A=0,M=0;for(;V<Te;){const w=5*V,D=_[w],Z=_[w+1],he=ee+D|0,ye=D===0?fe+Z|0:Z,He=_[w+2],Ve=ye+He|0,ft=_[w+3],ot=_[w+4];if(Ve<=ye)R.warnInvalidLengthSemanticTokens(he,ye+1);else if(A===he&&M>ye)R.warnOverlappingSemanticTokens(he,ye+1);else{const kt=R.getMetadata(ft,ot,m);kt!==2147483647&&(We===0&&(We=he),je[Xe]=he-We,je[Xe+1]=ye,je[Xe+2]=Ve,je[Xe+3]=kt,Xe+=4,A=he,M=Ve)}ee=he,fe=ye,V++}Xe!==je.length&&(je=je.subarray(0,Xe));const G=g.create(We,je);P.push(G)}return P}n(U,"toMultilineTokens2");const we=class we{constructor(R,m,_,b){this.tokenTypeIndex=R,this.tokenModifierSet=m,this.languageId=_,this.metadata=b,this.next=null}};n(we,"HashTableEntry");let v=we;const Ue=class Ue{constructor(){this._elementsCount=0,this._currentLengthIndex=0,this._currentLength=Ue._SIZES[this._currentLengthIndex],this._growCount=Math.round(this._currentLengthIndex+1<Ue._SIZES.length?.6666666666666666*this._currentLength:0),this._elements=[],Ue._nullOutEntries(this._elements,this._currentLength)}static _nullOutEntries(R,m){for(let _=0;_<m;_++)R[_]=null}_hash2(R,m){return(R<<5)-R+m|0}_hashFunc(R,m,_){return this._hash2(this._hash2(R,m),_)%this._currentLength}get(R,m,_){const b=this._hashFunc(R,m,_);let I=this._elements[b];for(;I;){if(I.tokenTypeIndex===R&&I.tokenModifierSet===m&&I.languageId===_)return I;I=I.next}return null}add(R,m,_,b){if(this._elementsCount++,this._growCount!==0&&this._elementsCount>=this._growCount){const I=this._elements;this._currentLengthIndex++,this._currentLength=Ue._SIZES[this._currentLengthIndex],this._growCount=Math.round(this._currentLengthIndex+1<Ue._SIZES.length?.6666666666666666*this._currentLength:0),this._elements=[],Ue._nullOutEntries(this._elements,this._currentLength);for(const P of I){let V=P;for(;V;){const ee=V.next;V.next=null,this._add(V),V=ee}}}this._add(new v(R,m,_,b))}_add(R){const m=this._hashFunc(R.tokenTypeIndex,R.tokenModifierSet,R.languageId);R.next=this._elements[m],this._elements[m]=R}};n(Ue,"HashTable"),Ue._SIZES=[3,7,13,31,61,127,251,509,1021,2039,4093,8191,16381,32749,65521,131071,262139,524287,1048573,2097143];let ce=Ue},2891:(Lt,Pe,E)=>{"use strict";E.r(Pe),E.d(Pe,{ISemanticTokensStylingService:n(()=>ie,"ISemanticTokensStylingService")});var F=E(2399);const ie=(0,F.u1)("semanticTokensStylingService")},8148:(Lt,Pe,E)=>{"use strict";var B;E.r(Pe),E.d(Pe,{SemanticTokensStylingService:n(()=>ne,"SemanticTokensStylingService")});var F=E(9235),ie=E(7922),o=E(5295),K=E(9950),Q=E(9520),N=E(2891),g=E(9031),Y=function($,j,z,U){var v=arguments.length,ce=v<3?j:U===null?U=Object.getOwnPropertyDescriptor(j,z):U,J;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")ce=Reflect.decorate($,j,z,U);else for(var y=$.length-1;y>=0;y--)(J=$[y])&&(ce=(v<3?J(ce):v>3?J(j,z,ce):J(j,z))||ce);return v>3&&ce&&Object.defineProperty(j,z,ce),ce},O=function($,j){return function(z,U){j(z,U,$)}};let ne=(B=class extends F.jG{constructor(j,z,U){super(),this._themeService=j,this._logService=z,this._languageService=U,this._caches=new WeakMap,this._register(this._themeService.onDidColorThemeChange(()=>{this._caches=new WeakMap}))}getStyling(j){return this._caches.has(j)||this._caches.set(j,new Q.SemanticTokensProviderStyling(j.getLegend(),this._themeService,this._languageService,this._logService)),this._caches.get(j)}},n(B,"SemanticTokensStylingService"),B);ne=Y([O(0,o.Gy),O(1,K.rr),O(2,ie.L)],ne),(0,g.v)(N.ISemanticTokensStylingService,ne,1)},1305:(Lt,Pe,E)=>{"use strict";E.r(Pe),E.d(Pe,{MirrorModel:n(()=>ce,"MirrorModel"),STOP_SYNC_MODEL_DELTA_TIME_MS:n(()=>z,"STOP_SYNC_MODEL_DELTA_TIME_MS"),WorkerTextModelSyncClient:n(()=>U,"WorkerTextModelSyncClient"),WorkerTextModelSyncServer:n(()=>v,"WorkerTextModelSyncServer")});var F=E(1946),ie=E(9235),o=E(7264),K=E(5365),Q=E(8061),N=E(8782),g=E(6844),Y=E(3338),O=E(7512);const J=class J{constructor(m){this.values=m,this.prefixSum=new Uint32Array(m.length),this.prefixSumValidIndex=new Int32Array(1),this.prefixSumValidIndex[0]=-1}insertValues(m,_){m=(0,O.j)(m);const b=this.values,I=this.prefixSum,P=_.length;return P===0?!1:(this.values=new Uint32Array(b.length+P),this.values.set(b.subarray(0,m),0),this.values.set(b.subarray(m),m+P),this.values.set(_,m),m-1<this.prefixSumValidIndex[0]&&(this.prefixSumValidIndex[0]=m-1),this.prefixSum=new Uint32Array(this.values.length),this.prefixSumValidIndex[0]>=0&&this.prefixSum.set(I.subarray(0,this.prefixSumValidIndex[0]+1)),!0)}setValue(m,_){return m=(0,O.j)(m),_=(0,O.j)(_),this.values[m]===_?!1:(this.values[m]=_,m-1<this.prefixSumValidIndex[0]&&(this.prefixSumValidIndex[0]=m-1),!0)}removeValues(m,_){m=(0,O.j)(m),_=(0,O.j)(_);const b=this.values,I=this.prefixSum;if(m>=b.length)return!1;const P=b.length-m;return _>=P&&(_=P),_===0?!1:(this.values=new Uint32Array(b.length-_),this.values.set(b.subarray(0,m),0),this.values.set(b.subarray(m+_),m),this.prefixSum=new Uint32Array(this.values.length),m-1<this.prefixSumValidIndex[0]&&(this.prefixSumValidIndex[0]=m-1),this.prefixSumValidIndex[0]>=0&&this.prefixSum.set(I.subarray(0,this.prefixSumValidIndex[0]+1)),!0)}getTotalSum(){return this.values.length===0?0:this._getPrefixSum(this.values.length-1)}getPrefixSum(m){return m<0?0:(m=(0,O.j)(m),this._getPrefixSum(m))}_getPrefixSum(m){if(m<=this.prefixSumValidIndex[0])return this.prefixSum[m];let _=this.prefixSumValidIndex[0]+1;_===0&&(this.prefixSum[0]=this.values[0],_++),m>=this.values.length&&(m=this.values.length-1);for(let b=_;b<=m;b++)this.prefixSum[b]=this.prefixSum[b-1]+this.values[b];return this.prefixSumValidIndex[0]=Math.max(this.prefixSumValidIndex[0],m),this.prefixSum[m]}getIndexOf(m){m=Math.floor(m),this.getTotalSum();let _=0,b=this.values.length-1,I=0,P=0,V=0;for(;_<=b;)if(I=_+(b-_)/2|0,P=this.prefixSum[I],V=P-this.values[I],m<V)b=I-1;else if(m>=P)_=I+1;else break;return new $(I,m-V)}};n(J,"PrefixSumComputer");let ne=J;const y=class y{constructor(m){this._values=m,this._isValid=!1,this._validEndIndex=-1,this._prefixSum=[],this._indexBySum=[]}getTotalSum(){return this._ensureValid(),this._indexBySum.length}getPrefixSum(m){return this._ensureValid(),m===0?0:this._prefixSum[m-1]}getIndexOf(m){this._ensureValid();const _=this._indexBySum[m],b=_>0?this._prefixSum[_-1]:0;return new $(_,m-b)}removeValues(m,_){this._values.splice(m,_),this._invalidate(m)}insertValues(m,_){this._values=arrayInsert(this._values,m,_),this._invalidate(m)}_invalidate(m){this._isValid=!1,this._validEndIndex=Math.min(this._validEndIndex,m-1)}_ensureValid(){if(!this._isValid){for(let m=this._validEndIndex+1,_=this._values.length;m<_;m++){const b=this._values[m],I=m>0?this._prefixSum[m-1]:0;this._prefixSum[m]=I+b;for(let P=0;P<b;P++)this._indexBySum[I+P]=m}this._prefixSum.length=this._values.length,this._indexBySum.length=this._prefixSum[this._prefixSum.length-1],this._isValid=!0,this._validEndIndex=this._values.length-1}}setValue(m,_){this._values[m]!==_&&(this._values[m]=_,this._invalidate(m))}};n(y,"ConstantTimePrefixSumComputer");let B=y;const W=class W{constructor(m,_){this.index=m,this.remainder=_,this._prefixSumIndexOfResultBrand=void 0,this.index=m,this.remainder=_}};n(W,"PrefixSumIndexOfResult");let $=W;const me=class me{constructor(m,_,b,I){this._uri=m,this._lines=_,this._eol=b,this._versionId=I,this._lineStarts=null,this._cachedTextValue=null}dispose(){this._lines.length=0}get version(){return this._versionId}getText(){return this._cachedTextValue===null&&(this._cachedTextValue=this._lines.join(this._eol)),this._cachedTextValue}onEvents(m){m.eol&&m.eol!==this._eol&&(this._eol=m.eol,this._lineStarts=null);const _=m.changes;for(const b of _)this._acceptDeleteRange(b.range),this._acceptInsertText(new K.y(b.range.startLineNumber,b.range.startColumn),b.text);this._versionId=m.versionId,this._cachedTextValue=null}_ensureLineStarts(){if(!this._lineStarts){const m=this._eol.length,_=this._lines.length,b=new Uint32Array(_);for(let I=0;I<_;I++)b[I]=this._lines[I].length+m;this._lineStarts=new ne(b)}}_setLineText(m,_){this._lines[m]=_,this._lineStarts&&this._lineStarts.setValue(m,this._lines[m].length+this._eol.length)}_acceptDeleteRange(m){if(m.startLineNumber===m.endLineNumber){if(m.startColumn===m.endColumn)return;this._setLineText(m.startLineNumber-1,this._lines[m.startLineNumber-1].substring(0,m.startColumn-1)+this._lines[m.startLineNumber-1].substring(m.endColumn-1));return}this._setLineText(m.startLineNumber-1,this._lines[m.startLineNumber-1].substring(0,m.startColumn-1)+this._lines[m.endLineNumber-1].substring(m.endColumn-1)),this._lines.splice(m.startLineNumber,m.endLineNumber-m.startLineNumber),this._lineStarts&&this._lineStarts.removeValues(m.startLineNumber,m.endLineNumber-m.startLineNumber)}_acceptInsertText(m,_){if(_.length===0)return;const b=(0,g.uz)(_);if(b.length===1){this._setLineText(m.lineNumber-1,this._lines[m.lineNumber-1].substring(0,m.column-1)+b[0]+this._lines[m.lineNumber-1].substring(m.column-1));return}b[b.length-1]+=this._lines[m.lineNumber-1].substring(m.column-1),this._setLineText(m.lineNumber-1,this._lines[m.lineNumber-1].substring(0,m.column-1)+b[0]);const I=new Uint32Array(b.length-1);for(let P=1;P<b.length;P++)this._lines.splice(m.lineNumber+P-1,0,b[P]),I[P-1]=b[P].length+this._eol.length;this._lineStarts&&this._lineStarts.insertValues(m.lineNumber,I)}};n(me,"MirrorTextModel");let j=me;const z=60*1e3,we=class we extends ie.jG{constructor(m,_,b=!1){if(super(),this._syncedModels=Object.create(null),this._syncedModelsLastUsedTime=Object.create(null),this._proxy=m,this._modelService=_,!b){const I=new F.vb;I.cancelAndSet(()=>this._checkStopModelSync(),Math.round(z/2)),this._register(I)}}dispose(){for(const m in this._syncedModels)(0,ie.AS)(this._syncedModels[m]);this._syncedModels=Object.create(null),this._syncedModelsLastUsedTime=Object.create(null),super.dispose()}ensureSyncedResources(m,_=!1){for(const b of m){const I=b.toString();this._syncedModels[I]||this._beginModelSync(b,_),this._syncedModels[I]&&(this._syncedModelsLastUsedTime[I]=new Date().getTime())}}_checkStopModelSync(){const m=new Date().getTime(),_=[];for(const b in this._syncedModelsLastUsedTime)m-this._syncedModelsLastUsedTime[b]>z&&_.push(b);for(const b of _)this._stopModelSync(b)}_beginModelSync(m,_){const b=this._modelService.getModel(m);if(!b||!_&&b.isTooLargeForSyncing())return;const I=m.toString();this._proxy.$acceptNewModel({url:b.uri.toString(),lines:b.getLinesContent(),EOL:b.getEOL(),versionId:b.getVersionId()});const P=new ie.Cm;P.add(b.onDidChangeContent(V=>{this._proxy.$acceptModelChanged(I.toString(),V)})),P.add(b.onWillDispose(()=>{this._stopModelSync(I)})),P.add((0,ie.s)(()=>{this._proxy.$acceptRemovedModel(I)})),this._syncedModels[I]=P}_stopModelSync(m){const _=this._syncedModels[m];delete this._syncedModels[m],delete this._syncedModelsLastUsedTime[m],(0,ie.AS)(_)}};n(we,"WorkerTextModelSyncClient");let U=we;const Ue=class Ue{constructor(){this._models=Object.create(null)}getModel(m){return this._models[m]}getModels(){const m=[];return Object.keys(this._models).forEach(_=>m.push(this._models[_])),m}$acceptNewModel(m){this._models[m.url]=new ce(o.r.parse(m.url),m.lines,m.EOL,m.versionId)}$acceptModelChanged(m,_){if(!this._models[m])return;this._models[m].onEvents(_)}$acceptRemovedModel(m){this._models[m]&&delete this._models[m]}};n(Ue,"WorkerTextModelSyncServer");let v=Ue;const Ce=class Ce extends j{get uri(){return this._uri}get eol(){return this._eol}getValue(){return this.getText()}findMatches(m){const _=[];for(let b=0;b<this._lines.length;b++){const I=this._lines[b],P=this.offsetAt(new K.y(b+1,1)),V=I.matchAll(m);for(const ee of V)(ee.index||ee.index===0)&&(ee.index=ee.index+P),_.push(ee)}return _}getLinesContent(){return this._lines.slice(0)}getLineCount(){return this._lines.length}getLineContent(m){return this._lines[m-1]}getWordAtPosition(m,_){const b=(0,N.Th)(m.column,(0,N.Io)(_),this._lines[m.lineNumber-1],0);return b?new Q.Q(m.lineNumber,b.startColumn,m.lineNumber,b.endColumn):null}words(m){const _=this._lines,b=this._wordenize.bind(this);let I=0,P="",V=0,ee=[];return{*[Symbol.iterator](){for(;;)if(V<ee.length){const fe=P.substring(ee[V].start,ee[V].end);V+=1,yield fe}else if(I<_.length)P=_[I],ee=b(P,m),V=0,I+=1;else break}}}getLineWords(m,_){const b=this._lines[m-1],I=this._wordenize(b,_),P=[];for(const V of I)P.push({word:b.substring(V.start,V.end),startColumn:V.start+1,endColumn:V.end+1});return P}_wordenize(m,_){const b=[];let I;for(_.lastIndex=0;(I=_.exec(m))&&I[0].length!==0;)b.push({start:I.index,end:I.index+I[0].length});return b}getValueInRange(m){if(m=this._validateRange(m),m.startLineNumber===m.endLineNumber)return this._lines[m.startLineNumber-1].substring(m.startColumn-1,m.endColumn-1);const _=this._eol,b=m.startLineNumber-1,I=m.endLineNumber-1,P=[];P.push(this._lines[b].substring(m.startColumn-1));for(let V=b+1;V<I;V++)P.push(this._lines[V]);return P.push(this._lines[I].substring(0,m.endColumn-1)),P.join(_)}offsetAt(m){return m=this._validatePosition(m),this._ensureLineStarts(),this._lineStarts.getPrefixSum(m.lineNumber-2)+(m.column-1)}positionAt(m){m=Math.floor(m),m=Math.max(0,m),this._ensureLineStarts();const _=this._lineStarts.getIndexOf(m),b=this._lines[_.index].length;return{lineNumber:1+_.index,column:1+Math.min(_.remainder,b)}}_validateRange(m){const _=this._validatePosition({lineNumber:m.startLineNumber,column:m.startColumn}),b=this._validatePosition({lineNumber:m.endLineNumber,column:m.endColumn});return _.lineNumber!==m.startLineNumber||_.column!==m.startColumn||b.lineNumber!==m.endLineNumber||b.column!==m.endColumn?{startLineNumber:_.lineNumber,startColumn:_.column,endLineNumber:b.lineNumber,endColumn:b.column}:m}_validatePosition(m){if(!K.y.isIPosition(m))throw new Error("bad position");let{lineNumber:_,column:b}=m,I=!1;if(_<1)_=1,b=1,I=!0;else if(_>this._lines.length)_=this._lines.length,b=this._lines[_-1].length+1,I=!0;else{const P=this._lines[_-1].length+1;b<1?(b=1,I=!0):b>P&&(b=P,I=!0)}return I?{lineNumber:_,column:b}:m}};n(Ce,"MirrorModel");let ce=Ce},5628:(Lt,Pe,E)=>{"use strict";E.r(Pe)},1504:(Lt,Pe,E)=>{"use strict";E.r(Pe),E.d(Pe,{ITextResourceConfigurationService:n(()=>ie,"ITextResourceConfigurationService"),ITextResourcePropertiesService:n(()=>o,"ITextResourcePropertiesService")});var F=E(2399);const ie=(0,F.u1)("textResourceConfigurationService"),o=(0,F.u1)("textResourcePropertiesService")},5320:(Lt,Pe,E)=>{"use strict";E.r(Pe),E.d(Pe,{ITreeSitterParserService:n(()=>ie,"ITreeSitterParserService")});var F=E(2399);const ie=(0,F.u1)("treeSitterParserService")},2603:(Lt,Pe,E)=>{"use strict";E.r(Pe),E.d(Pe,{DraggedTreeItemsIdentifier:n(()=>ie,"DraggedTreeItemsIdentifier"),TreeViewsDnDService:n(()=>F,"TreeViewsDnDService")});const o=class o{constructor(){this._dragOperations=new Map}removeDragOperationTransfer(N){if(N&&this._dragOperations.has(N)){const g=this._dragOperations.get(N);return this._dragOperations.delete(N),g}}};n(o,"TreeViewsDnDService");let F=o;const K=class K{constructor(N){this.identifier=N}};n(K,"DraggedTreeItemsIdentifier");let ie=K},6756:(Lt,Pe,E)=>{"use strict";E.r(Pe),E.d(Pe,{ITreeViewsDnDService:n(()=>K,"ITreeViewsDnDService")});var F=E(9031),ie=E(2399),o=E(2603);const K=(0,ie.u1)("treeViewsDndService");(0,F.v)(K,o.TreeViewsDnDService,1)},9887:(Lt,Pe,E)=>{"use strict";E.r(Pe),E.d(Pe,{UnicodeTextModelHighlighter:n(()=>N,"UnicodeTextModelHighlighter")});var F=E(8061),ie=E(2007),o=E(6844),K=E(7110),Q=E(8782);const ne=class ne{static computeUnicodeHighlights(j,z,U){const v=U?U.startLineNumber:1,ce=U?U.endLineNumber:j.getLineCount(),J=new Y(z),y=J.getCandidateCodePoints();let W;y==="allNonBasicAscii"?W=new RegExp("[^\\t\\n\\r\\x20-\\x7E]","g"):W=new RegExp(`${g(Array.from(y))}`,"g");const me=new ie.W5(null,W),we=[];let Ue=!1,Ce,R=0,m=0,_=0;e:for(let b=v,I=ce;b<=I;b++){const P=j.getLineContent(b),V=P.length;me.reset(0);do if(Ce=me.next(P),Ce){let ee=Ce.index,fe=Ce.index+Ce[0].length;if(ee>0){const Xe=P.charCodeAt(ee-1);o.pc(Xe)&&ee--}if(fe+1<V){const Xe=P.charCodeAt(fe-1);o.pc(Xe)&&fe++}const ue=P.substring(ee,fe);let Te=(0,Q.Th)(ee+1,Q.Ld,P,0);Te&&Te.endColumn<=ee+1&&(Te=null);const je=J.shouldHighlightNonBasicASCII(ue,Te?Te.word:null);if(je!==0){if(je===3?R++:je===2?m++:je===1?_++:(0,K.xb)(je),we.length>=1e3){Ue=!0;break e}we.push(new F.Q(b,ee+1,b,fe+1))}}while(Ce)}return{ranges:we,hasMore:Ue,ambiguousCharacterCount:R,invisibleCharacterCount:m,nonBasicAsciiCharacterCount:_}}static computeUnicodeHighlightReason(j,z){const U=new Y(z);switch(U.shouldHighlightNonBasicASCII(j,null)){case 0:return null;case 2:return{kind:1};case 3:{const ce=j.codePointAt(0),J=U.ambiguousCharacters.getPrimaryConfusable(ce),y=o.tl.getLocales().filter(W=>!o.tl.getInstance(new Set([...z.allowedLocales,W])).isAmbiguous(ce));return{kind:0,confusableWith:String.fromCodePoint(J),notAmbiguousInLocales:y}}case 1:return{kind:2}}}};n(ne,"UnicodeTextModelHighlighter");let N=ne;function g($,j){return`[${o.bm($.map(U=>String.fromCodePoint(U)).join(""))}]`}n(g,"buildRegExpCharClassExpr");const B=class B{constructor(j){this.options=j,this.allowedCodePoints=new Set(j.allowedCodePoints),this.ambiguousCharacters=o.tl.getInstance(new Set(j.allowedLocales))}getCandidateCodePoints(){if(this.options.nonBasicASCII)return"allNonBasicAscii";const j=new Set;if(this.options.invisibleCharacters)for(const z of o.y_.codePoints)O(String.fromCodePoint(z))||j.add(z);if(this.options.ambiguousCharacters)for(const z of this.ambiguousCharacters.getConfusableCodePoints())j.add(z);for(const z of this.allowedCodePoints)j.delete(z);return j}shouldHighlightNonBasicASCII(j,z){const U=j.codePointAt(0);if(this.allowedCodePoints.has(U))return 0;if(this.options.nonBasicASCII)return 1;let v=!1,ce=!1;if(z)for(const J of z){const y=J.codePointAt(0),W=o.aC(J);v=v||W,!W&&!this.ambiguousCharacters.isAmbiguous(y)&&!o.y_.isInvisibleCharacter(y)&&(ce=!0)}return!v&&ce?0:this.options.invisibleCharacters&&!O(j)&&o.y_.isInvisibleCharacter(U)?2:this.options.ambiguousCharacters&&this.ambiguousCharacters.isAmbiguous(U)?3:0}};n(B,"CodePointHighlighter");let Y=B;function O($){return $===" "||$===`
`||$==="	"}n(O,"isAllowedInvisibleCharacter")},9204:(Lt,Pe,E)=>{var F={"./editorBaseApi":[4858],"./editorBaseApi.js":[4858],"./editorSimpleWorker":[7798],"./editorSimpleWorker.js":[7798],"./editorWorker":[304,792],"./editorWorker.js":[304,792],"./editorWorkerHost":[6358],"./editorWorkerHost.js":[6358],"./findSectionHeaders":[9307],"./findSectionHeaders.js":[9307],"./getIconClasses":[7762,792],"./getIconClasses.js":[7762,792],"./languageFeatureDebounce":[4791,792],"./languageFeatureDebounce.js":[4791,792],"./languageFeatures":[2230,792],"./languageFeatures.js":[2230,792],"./languageFeaturesService":[501,792],"./languageFeaturesService.js":[501,792],"./languageService":[6123,792],"./languageService.js":[6123,792],"./languagesAssociations":[5996,792],"./languagesAssociations.js":[5996,792],"./languagesRegistry":[6995,792],"./languagesRegistry.js":[6995,792],"./markerDecorations":[886,792],"./markerDecorations.js":[886,792],"./markerDecorationsService":[453,792],"./markerDecorationsService.js":[453,792],"./model":[4830,792],"./model.js":[4830,792],"./modelService":[125,792],"./modelService.js":[125,792],"./resolverService":[7042,792],"./resolverService.js":[7042,792],"./semanticTokensDto":[9376,792],"./semanticTokensDto.js":[9376,792],"./semanticTokensProviderStyling":[9520,792],"./semanticTokensProviderStyling.js":[9520,792],"./semanticTokensStyling":[2891,792],"./semanticTokensStyling.js":[2891,792],"./semanticTokensStylingService":[8148,792],"./semanticTokensStylingService.js":[8148,792],"./textModelSync/textModelSync.impl":[1305],"./textModelSync/textModelSync.impl.js":[1305],"./textModelSync/textModelSync.protocol":[5628,792],"./textModelSync/textModelSync.protocol.js":[5628,792],"./textResourceConfiguration":[1504,792],"./textResourceConfiguration.js":[1504,792],"./treeSitterParserService":[5320,792],"./treeSitterParserService.js":[5320,792],"./treeViewsDnd":[2603,792],"./treeViewsDnd.js":[2603,792],"./treeViewsDndService":[6756,792],"./treeViewsDndService.js":[6756,792],"./unicodeTextModelHighlighter":[9887],"./unicodeTextModelHighlighter.js":[9887]};function ie(o){if(!E.o(F,o))return Promise.resolve().then(()=>{var N=new Error("Cannot find module '"+o+"'");throw N.code="MODULE_NOT_FOUND",N});var K=F[o],Q=K[0];return Promise.all(K.slice(1).map(E.e)).then(()=>E(Q))}n(ie,"webpackAsyncContext"),ie.keys=()=>Object.keys(F),ie.id=9204,Lt.exports=ie},7614:(Lt,Pe,E)=>{var F={"./editorBaseApi":4858,"./editorBaseApi.js":4858,"./editorSimpleWorker":7798,"./editorSimpleWorker.js":7798,"./editorWorker":304,"./editorWorker.js":304,"./editorWorkerHost":6358,"./editorWorkerHost.js":6358,"./findSectionHeaders":9307,"./findSectionHeaders.js":9307,"./getIconClasses":7762,"./getIconClasses.js":7762,"./languageFeatureDebounce":4791,"./languageFeatureDebounce.js":4791,"./languageFeatures":2230,"./languageFeatures.js":2230,"./languageFeaturesService":501,"./languageFeaturesService.js":501,"./languageService":6123,"./languageService.js":6123,"./languagesAssociations":5996,"./languagesAssociations.js":5996,"./languagesRegistry":6995,"./languagesRegistry.js":6995,"./markerDecorations":886,"./markerDecorations.js":886,"./markerDecorationsService":453,"./markerDecorationsService.js":453,"./model":4830,"./model.js":4830,"./modelService":125,"./modelService.js":125,"./resolverService":7042,"./resolverService.js":7042,"./semanticTokensDto":9376,"./semanticTokensDto.js":9376,"./semanticTokensProviderStyling":9520,"./semanticTokensProviderStyling.js":9520,"./semanticTokensStyling":2891,"./semanticTokensStyling.js":2891,"./semanticTokensStylingService":8148,"./semanticTokensStylingService.js":8148,"./textModelSync/textModelSync.impl":1305,"./textModelSync/textModelSync.impl.js":1305,"./textModelSync/textModelSync.protocol":5628,"./textModelSync/textModelSync.protocol.js":5628,"./textResourceConfiguration":1504,"./textResourceConfiguration.js":1504,"./treeSitterParserService":5320,"./treeSitterParserService.js":5320,"./treeViewsDnd":2603,"./treeViewsDnd.js":2603,"./treeViewsDndService":6756,"./treeViewsDndService.js":6756,"./unicodeTextModelHighlighter":9887,"./unicodeTextModelHighlighter.js":9887};function ie(K){var Q=o(K);return E(Q)}n(ie,"webpackContext");function o(K){if(!E.o(F,K)){var Q=new Error("Cannot find module '"+K+"'");throw Q.code="MODULE_NOT_FOUND",Q}return F[K]}n(o,"webpackContextResolve"),ie.keys=n(function(){return Object.keys(F)},"webpackContextKeys"),ie.resolve=o,Lt.exports=ie,ie.id=7614},9746:(Lt,Pe,E)=>{"use strict";E.d(Pe,{i8:n(()=>ie,"i8"),kg:n(()=>Q,"kg")});function F(){return globalThis._VSCODE_NLS_MESSAGES}n(F,"getNLSMessages");function ie(){return globalThis._VSCODE_NLS_LANGUAGE}n(ie,"getNLSLanguage");const o=ie()==="pseudo"||typeof document!="undefined"&&document.location&&document.location.hash.indexOf("pseudo=true")>=0;function K(Y,O){let ne;return O.length===0?ne=Y:ne=Y.replace(/\{(\d+)\}/g,(B,$)=>{const j=$[0],z=O[j];let U=B;return typeof z=="string"?U=z:(typeof z=="number"||typeof z=="boolean"||z===void 0||z===null)&&(U=String(z)),U}),o&&(ne="\uFF3B"+ne.replace(/[aouei]/g,"$&$&")+"\uFF3D"),ne}n(K,"_format");function Q(Y,O,...ne){return K(typeof Y=="number"?N(Y,O):O,ne)}n(Q,"localize");function N(Y,O){var B;const ne=(B=F())==null?void 0:B[Y];if(typeof ne!="string"){if(typeof O=="string")return O;throw new Error(`!!! NLS MISSING: ${Y} !!!`)}return ne}n(N,"lookupMessage");function g(Y,O,...ne){let B;typeof Y=="number"?B=N(Y,O):B=O;const $=K(B,ne);return{value:$,original:O===B?$:K(O,ne)}}n(g,"localize2")},5753:(Lt,Pe,E)=>{"use strict";E.d(Pe,{Mo:n(()=>Y,"Mo"),pG:n(()=>ie,"pG")});var F=E(2399);const ie=(0,F.u1)("configurationService");function o(O,ne){const B=Object.create(null);for(const $ in O)K(B,$,O[$],ne);return B}n(o,"toValuesTree");function K(O,ne,B,$){const j=ne.split("."),z=j.pop();let U=O;for(let v=0;v<j.length;v++){const ce=j[v];let J=U[ce];switch(typeof J){case"undefined":J=U[ce]=Object.create(null);break;case"object":if(J===null){$(`Ignoring ${ne} as ${j.slice(0,v+1).join(".")} is null`);return}break;default:$(`Ignoring ${ne} as ${j.slice(0,v+1).join(".")} is ${JSON.stringify(J)}`);return}U=J}if(typeof U=="object"&&U!==null)try{U[z]=B}catch{$(`Ignoring ${ne} as ${j.join(".")} is ${JSON.stringify(U)}`)}else $(`Ignoring ${ne} as ${j.join(".")} is ${JSON.stringify(U)}`)}n(K,"addToValueTree");function Q(O,ne){const B=ne.split(".");N(O,B)}n(Q,"removeFromValueTree");function N(O,ne){const B=ne.shift();if(ne.length===0){delete O[B];return}if(Object.keys(O).indexOf(B)!==-1){const $=O[B];typeof $=="object"&&!Array.isArray($)&&(N($,ne),Object.keys($).length===0&&delete O[B])}}n(N,"doRemoveFromValueTree");function g(O,ne,B){function $(U,v){let ce=U;for(const J of v){if(typeof ce!="object"||ce===null)return;ce=ce[J]}return ce}n($,"accessSetting");const j=ne.split("."),z=$(O,j);return typeof z=="undefined"?B:z}n(g,"getConfigurationValue");function Y(O){return O.replace(/[\[\]]/g,"")}n(Y,"getLanguageTagSettingPlainKey")},7142:(Lt,Pe,E)=>{"use strict";E.d(Pe,{Fd:n(()=>Y,"Fd")});var F=E(3338),ie=E(2106),o=E(9359),K=E(9746),Q=E(5753),N=E(1460),g=E(7167);const Y={Configuration:"base.contributions.configuration"},O={properties:{},patternProperties:{}},ne={properties:{},patternProperties:{}},B={properties:{},patternProperties:{}},$={properties:{},patternProperties:{}},j={properties:{},patternProperties:{}},z={properties:{},patternProperties:{}},U="vscode://schemas/settings/resourceLanguage",v=g.O.as(N.F.JSONContribution),m=class m{constructor(){this.registeredConfigurationDefaults=[],this.overrideIdentifiers=new Set,this._onDidSchemaChange=new ie.vl,this._onDidUpdateConfiguration=new ie.vl,this.configurationDefaultsOverrides=new Map,this.defaultLanguageConfigurationOverridesNode={id:"defaultOverrides",title:K.kg("defaultLanguageConfigurationOverrides.title","Default Language Configuration Overrides"),properties:{}},this.configurationContributors=[this.defaultLanguageConfigurationOverridesNode],this.resourceLanguageSettingsSchema={properties:{},patternProperties:{},additionalProperties:!0,allowTrailingCommas:!0,allowComments:!0},this.configurationProperties={},this.policyConfigurations=new Map,this.excludedConfigurationProperties={},v.registerSchema(U,this.resourceLanguageSettingsSchema),this.registerOverridePropertyPatternKey()}registerConfiguration(b,I=!0){this.registerConfigurations([b],I)}registerConfigurations(b,I=!0){const P=new Set;this.doRegisterConfigurations(b,I,P),v.registerSchema(U,this.resourceLanguageSettingsSchema),this._onDidSchemaChange.fire(),this._onDidUpdateConfiguration.fire({properties:P})}registerDefaultConfigurations(b){const I=new Set;this.doRegisterDefaultConfigurations(b,I),this._onDidSchemaChange.fire(),this._onDidUpdateConfiguration.fire({properties:I,defaultsOverrides:!0})}doRegisterDefaultConfigurations(b,I){var V;this.registeredConfigurationDefaults.push(...b);const P=[];for(const{overrides:ee,source:fe}of b)for(const ue in ee){I.add(ue);const Te=(V=this.configurationDefaultsOverrides.get(ue))!=null?V:this.configurationDefaultsOverrides.set(ue,{configurationDefaultOverrides:[]}).get(ue),je=ee[ue];if(Te.configurationDefaultOverrides.push({value:je,source:fe}),me.test(ue)){const Xe=this.mergeDefaultConfigurationsForOverrideIdentifier(ue,je,fe,Te.configurationDefaultOverrideValue);if(!Xe)continue;Te.configurationDefaultOverrideValue=Xe,this.updateDefaultOverrideProperty(ue,Xe,fe),P.push(...we(ue))}else{const Xe=this.mergeDefaultConfigurationsForConfigurationProperty(ue,je,fe,Te.configurationDefaultOverrideValue);if(!Xe)continue;Te.configurationDefaultOverrideValue=Xe;const We=this.configurationProperties[ue];We&&(this.updatePropertyDefaultValue(ue,We),this.updateSchema(ue,We))}}this.doRegisterOverrideIdentifiers(P)}updateDefaultOverrideProperty(b,I,P){const V={type:"object",default:I.value,description:K.kg("defaultLanguageConfiguration.description","Configure settings to be overridden for the {0} language.",(0,Q.Mo)(b)),$ref:U,defaultDefaultValue:I.value,source:P,defaultValueSource:P};this.configurationProperties[b]=V,this.defaultLanguageConfigurationOverridesNode.properties[b]=V}mergeDefaultConfigurationsForOverrideIdentifier(b,I,P,V){var ue,Te;const ee=(V==null?void 0:V.value)||{},fe=(ue=V==null?void 0:V.source)!=null?ue:new Map;if(!(fe instanceof Map)){console.error("objectConfigurationSources is not a Map");return}for(const je of Object.keys(I)){const Xe=I[je];if(o.Gv(Xe)&&(o.b0(ee[je])||o.Gv(ee[je]))){if(ee[je]={...(Te=ee[je])!=null?Te:{},...Xe},P)for(const A in Xe)fe.set(`${je}.${A}`,P)}else ee[je]=Xe,P?fe.set(je,P):fe.delete(je)}return{value:ee,source:fe}}mergeDefaultConfigurationsForConfigurationProperty(b,I,P,V){var je,Xe;const ee=this.configurationProperties[b],fe=(je=V==null?void 0:V.value)!=null?je:ee==null?void 0:ee.defaultDefaultValue;let ue=P;if(o.Gv(I)&&(ee!==void 0&&ee.type==="object"||ee===void 0&&(o.b0(fe)||o.Gv(fe)))){if(ue=(Xe=V==null?void 0:V.source)!=null?Xe:new Map,!(ue instanceof Map)){console.error("defaultValueSource is not a Map");return}for(const We in I)P&&ue.set(`${b}.${We}`,P);I={...o.Gv(fe)?fe:{},...I}}return{value:I,source:ue}}registerOverrideIdentifiers(b){this.doRegisterOverrideIdentifiers(b),this._onDidSchemaChange.fire()}doRegisterOverrideIdentifiers(b){for(const I of b)this.overrideIdentifiers.add(I);this.updateOverridePropertyPatternKey()}doRegisterConfigurations(b,I,P){b.forEach(V=>{this.validateAndRegisterProperties(V,I,V.extensionInfo,V.restrictedProperties,void 0,P),this.configurationContributors.push(V),this.registerJSONConfiguration(V)})}validateAndRegisterProperties(b,I=!0,P,V,ee=3,fe){var je;ee=o.z(b.scope)?ee:b.scope;const ue=b.properties;if(ue)for(const Xe in ue){const We=ue[Xe];if(I&&R(Xe,We)){delete ue[Xe];continue}if(We.source=P,We.defaultDefaultValue=ue[Xe].default,this.updatePropertyDefaultValue(Xe,We),me.test(Xe)?We.scope=void 0:(We.scope=o.z(We.scope)?ee:We.scope,We.restricted=o.z(We.restricted)?!!(V!=null&&V.includes(Xe)):We.restricted),ue[Xe].hasOwnProperty("included")&&!ue[Xe].included){this.excludedConfigurationProperties[Xe]=ue[Xe],delete ue[Xe];continue}else this.configurationProperties[Xe]=ue[Xe],(je=ue[Xe].policy)!=null&&je.name&&this.policyConfigurations.set(ue[Xe].policy.name,Xe);!ue[Xe].deprecationMessage&&ue[Xe].markdownDeprecationMessage&&(ue[Xe].deprecationMessage=ue[Xe].markdownDeprecationMessage),fe.add(Xe)}const Te=b.allOf;if(Te)for(const Xe of Te)this.validateAndRegisterProperties(Xe,I,P,V,ee,fe)}getConfigurationProperties(){return this.configurationProperties}getPolicyConfigurations(){return this.policyConfigurations}registerJSONConfiguration(b){const I=n(P=>{const V=P.properties;if(V)for(const fe in V)this.updateSchema(fe,V[fe]);const ee=P.allOf;ee==null||ee.forEach(I)},"register");I(b)}updateSchema(b,I){switch(O.properties[b]=I,I.scope){case 1:ne.properties[b]=I;break;case 2:B.properties[b]=I;break;case 6:$.properties[b]=I;break;case 3:j.properties[b]=I;break;case 4:z.properties[b]=I;break;case 5:z.properties[b]=I,this.resourceLanguageSettingsSchema.properties[b]=I;break}}updateOverridePropertyPatternKey(){for(const b of this.overrideIdentifiers.values()){const I=`[${b}]`,P={type:"object",description:K.kg("overrideSettings.defaultDescription","Configure editor settings to be overridden for a language."),errorMessage:K.kg("overrideSettings.errorMessage","This setting does not support per-language configuration."),$ref:U};this.updatePropertyDefaultValue(I,P),O.properties[I]=P,ne.properties[I]=P,B.properties[I]=P,$.properties[I]=P,j.properties[I]=P,z.properties[I]=P}}registerOverridePropertyPatternKey(){const b={type:"object",description:K.kg("overrideSettings.defaultDescription","Configure editor settings to be overridden for a language."),errorMessage:K.kg("overrideSettings.errorMessage","This setting does not support per-language configuration."),$ref:U};O.patternProperties[W]=b,ne.patternProperties[W]=b,B.patternProperties[W]=b,$.patternProperties[W]=b,j.patternProperties[W]=b,z.patternProperties[W]=b,this._onDidSchemaChange.fire()}updatePropertyDefaultValue(b,I){var fe;const P=(fe=this.configurationDefaultsOverrides.get(b))==null?void 0:fe.configurationDefaultOverrideValue;let V,ee;P&&(!I.disallowConfigurationDefault||!P.source)&&(V=P.value,ee=P.source),o.b0(V)&&(V=I.defaultDefaultValue,ee=void 0),o.b0(V)&&(V=Ue(I.type)),I.default=V,I.defaultValueSource=ee}};n(m,"ConfigurationRegistry");let ce=m;const J="\\[([^\\]]+)\\]",y=new RegExp(J,"g"),W=`^(${J})+$`,me=new RegExp(W);function we(_){const b=[];if(me.test(_)){let I=y.exec(_);for(;I!=null&&I.length;){const P=I[1].trim();P&&b.push(P),I=y.exec(_)}}return(0,F.dM)(b)}n(we,"overrideIdentifiersFromKey");function Ue(_){switch(Array.isArray(_)?_[0]:_){case"boolean":return!1;case"integer":case"number":return 0;case"string":return"";case"array":return[];case"object":return{};default:return null}}n(Ue,"getDefaultValue");const Ce=new ce;g.O.add(Y.Configuration,Ce);function R(_,b){var I,P,V,ee;return _.trim()?me.test(_)?K.kg("config.property.languageDefault","Cannot register '{0}'. This matches property pattern '\\\\[.*\\\\]$' for describing language specific editor settings. Use 'configurationDefaults' contribution.",_):Ce.getConfigurationProperties()[_]!==void 0?K.kg("config.property.duplicate","Cannot register '{0}'. This property is already registered.",_):(I=b.policy)!=null&&I.name&&Ce.getPolicyConfigurations().get((P=b.policy)==null?void 0:P.name)!==void 0?K.kg("config.policy.duplicate","Cannot register '{0}'. The associated policy {1} is already registered with {2}.",_,(V=b.policy)==null?void 0:V.name,Ce.getPolicyConfigurations().get((ee=b.policy)==null?void 0:ee.name)):null:K.kg("config.property.empty","Cannot register an empty property")}n(R,"validateProperty")},9031:(Lt,Pe,E)=>{"use strict";E.d(Pe,{v:n(()=>o,"v")});const Q=class Q{constructor(g,Y=[],O=!1){this.ctor=g,this.staticArguments=Y,this.supportsDelayedInstantiation=O}};n(Q,"SyncDescriptor");let F=Q;const ie=[];function o(N,g,Y){g instanceof F||(g=new F(g,[],!!Y)),ie.push([N,g])}n(o,"registerSingleton");function K(){return ie}n(K,"getSingletonServiceDescriptors")},2399:(Lt,Pe,E)=>{"use strict";E.d(Pe,{_Y:n(()=>ie,"_Y"),u1:n(()=>K,"u1")});var F;(function(Q){Q.serviceIds=new Map,Q.DI_TARGET="$di$target",Q.DI_DEPENDENCIES="$di$dependencies";function N(g){return g[Q.DI_DEPENDENCIES]||[]}n(N,"getServiceDependencies"),Q.getServiceDependencies=N})(F||(F={}));const ie=K("instantiationService");function o(Q,N,g){N[F.DI_TARGET]===N?N[F.DI_DEPENDENCIES].push({id:Q,index:g}):(N[F.DI_DEPENDENCIES]=[{id:Q,index:g}],N[F.DI_TARGET]=N)}n(o,"storeServiceDependency");function K(Q){if(F.serviceIds.has(Q))return F.serviceIds.get(Q);const N=n(function(g,Y,O){if(arguments.length!==3)throw new Error("@IServiceName-decorator can only be used to decorate a parameter");o(N,g,O)},"id");return N.toString=()=>Q,F.serviceIds.set(Q,N),N}n(K,"createDecorator")},1460:(Lt,Pe,E)=>{"use strict";E.d(Pe,{F:n(()=>o,"F")});var F=E(2106),ie=E(7167);const o={JSONContribution:"base.contributions.json"};function K(Y){return Y.length>0&&Y.charAt(Y.length-1)==="#"?Y.substring(0,Y.length-1):Y}n(K,"normalizeId");const g=class g{constructor(){this._onDidChangeSchema=new F.vl,this.schemasById={}}registerSchema(O,ne){this.schemasById[K(O)]=ne,this._onDidChangeSchema.fire(O)}notifySchemaChanged(O){this._onDidChangeSchema.fire(O)}};n(g,"JSONContributionRegistry");let Q=g;const N=new Q;ie.O.add(o.JSONContribution,N)},9950:(Lt,Pe,E)=>{"use strict";E.d(Pe,{rr:n(()=>nn,"rr"),$b:n(()=>Ut,"$b")});var F=E(2106),ie=E(9235),o=E(3339),K=E(6844),Q=E(4327),N=E(9746);function g(...Nt){switch(Nt.length){case 1:return(0,N.kg)("contextkey.scanner.hint.didYouMean1","Did you mean {0}?",Nt[0]);case 2:return(0,N.kg)("contextkey.scanner.hint.didYouMean2","Did you mean {0} or {1}?",Nt[0],Nt[1]);case 3:return(0,N.kg)("contextkey.scanner.hint.didYouMean3","Did you mean {0}, {1} or {2}?",Nt[0],Nt[1],Nt[2]);default:return}}n(g,"hintDidYouMean");const Y=(0,N.kg)("contextkey.scanner.hint.didYouForgetToOpenOrCloseQuote","Did you forget to open or close the quote?"),O=(0,N.kg)("contextkey.scanner.hint.didYouForgetToEscapeSlash","Did you forget to escape the '/' (slash) character? Put two backslashes before it to escape, e.g., '\\\\/'."),dn=class dn{constructor(){this._input="",this._start=0,this._current=0,this._tokens=[],this._errors=[],this.stringRe=/[a-zA-Z0-9_<>\-\./\\:\*\?\+\[\]\^,#@;"%\$\p{L}-]+/uy}static getLexeme(T){switch(T.type){case 0:return"(";case 1:return")";case 2:return"!";case 3:return T.isTripleEq?"===":"==";case 4:return T.isTripleEq?"!==":"!=";case 5:return"<";case 6:return"<=";case 7:return">=";case 8:return">=";case 9:return"=~";case 10:return T.lexeme;case 11:return"true";case 12:return"false";case 13:return"in";case 14:return"not";case 15:return"&&";case 16:return"||";case 17:return T.lexeme;case 18:return T.lexeme;case 19:return T.lexeme;case 20:return"EOF";default:throw(0,Q.iH)(`unhandled token type: ${JSON.stringify(T)}; have you forgotten to add a case?`)}}reset(T){return this._input=T,this._start=0,this._current=0,this._tokens=[],this._errors=[],this}scan(){for(;!this._isAtEnd();)switch(this._start=this._current,this._advance()){case 40:this._addToken(0);break;case 41:this._addToken(1);break;case 33:if(this._match(61)){const Se=this._match(61);this._tokens.push({type:4,offset:this._start,isTripleEq:Se})}else this._addToken(2);break;case 39:this._quotedString();break;case 47:this._regex();break;case 61:if(this._match(61)){const Se=this._match(61);this._tokens.push({type:3,offset:this._start,isTripleEq:Se})}else this._match(126)?this._addToken(9):this._error(g("==","=~"));break;case 60:this._addToken(this._match(61)?6:5);break;case 62:this._addToken(this._match(61)?8:7);break;case 38:this._match(38)?this._addToken(15):this._error(g("&&"));break;case 124:this._match(124)?this._addToken(16):this._error(g("||"));break;case 32:case 13:case 9:case 10:case 160:break;default:this._string()}return this._start=this._current,this._addToken(20),Array.from(this._tokens)}_match(T){return this._isAtEnd()||this._input.charCodeAt(this._current)!==T?!1:(this._current++,!0)}_advance(){return this._input.charCodeAt(this._current++)}_peek(){return this._isAtEnd()?0:this._input.charCodeAt(this._current)}_addToken(T){this._tokens.push({type:T,offset:this._start})}_error(T){const Se=this._start,ct=this._input.substring(this._start,this._current),rt={type:19,offset:this._start,lexeme:ct};this._errors.push({offset:Se,lexeme:ct,additionalInfo:T}),this._tokens.push(rt)}_string(){this.stringRe.lastIndex=this._start;const T=this.stringRe.exec(this._input);if(T){this._current=this._start+T[0].length;const Se=this._input.substring(this._start,this._current),ct=dn._keywords.get(Se);ct?this._addToken(ct):this._tokens.push({type:17,lexeme:Se,offset:this._start})}}_quotedString(){for(;this._peek()!==39&&!this._isAtEnd();)this._advance();if(this._isAtEnd()){this._error(Y);return}this._advance(),this._tokens.push({type:18,lexeme:this._input.substring(this._start+1,this._current-1),offset:this._start+1})}_regex(){let T=this._current,Se=!1,ct=!1;for(;;){if(T>=this._input.length){this._current=T,this._error(O);return}const un=this._input.charCodeAt(T);if(Se)Se=!1;else if(un===47&&!ct){T++;break}else un===91?ct=!0:un===92?Se=!0:un===93&&(ct=!1);T++}for(;T<this._input.length&&dn._regexFlags.has(this._input.charCodeAt(T));)T++;this._current=T;const rt=this._input.substring(this._start,this._current);this._tokens.push({type:10,lexeme:rt,offset:this._start})}_isAtEnd(){return this._current>=this._input.length}};n(dn,"Scanner"),dn._regexFlags=new Set(["i","g","s","m","y","u"].map(T=>T.charCodeAt(0))),dn._keywords=new Map([["not",14],["in",13],["false",12],["true",11]]);let ne=dn;var B=E(2399);const $=new Map;$.set("false",!1),$.set("true",!0),$.set("isMac",o.zx),$.set("isLinux",o.j9),$.set("isWindows",o.uF),$.set("isWeb",o.HZ),$.set("isMacNative",o.zx&&!o.HZ),$.set("isEdge",o.UP),$.set("isFirefox",o.gm),$.set("isChrome",o.H8),$.set("isSafari",o.nr);const j=Object.prototype.hasOwnProperty,z={regexParsingWithErrorRecovery:!0},U=(0,N.kg)("contextkey.parser.error.emptyString","Empty context key expression"),v=(0,N.kg)("contextkey.parser.error.emptyString.hint","Did you forget to write an expression? You can also put 'false' or 'true' to always evaluate to false or true, respectively."),ce=(0,N.kg)("contextkey.parser.error.noInAfterNot","'in' after 'not'."),J=(0,N.kg)("contextkey.parser.error.closingParenthesis","closing parenthesis ')'"),y=(0,N.kg)("contextkey.parser.error.unexpectedToken","Unexpected token"),W=(0,N.kg)("contextkey.parser.error.unexpectedToken.hint","Did you forget to put && or || before the token?"),me=(0,N.kg)("contextkey.parser.error.unexpectedEOF","Unexpected end of expression"),we=(0,N.kg)("contextkey.parser.error.unexpectedEOF.hint","Did you forget to put a context key?"),xn=class xn{constructor(T=z){this._config=T,this._scanner=new ne,this._tokens=[],this._current=0,this._parsingErrors=[],this._flagsGYRe=/g|y/g}parse(T){if(T===""){this._parsingErrors.push({message:U,offset:0,lexeme:"",additionalInfo:v});return}this._tokens=this._scanner.reset(T).scan(),this._current=0,this._parsingErrors=[];try{const Se=this._expr();if(!this._isAtEnd()){const ct=this._peek(),rt=ct.type===17?W:void 0;throw this._parsingErrors.push({message:y,offset:ct.offset,lexeme:ne.getLexeme(ct),additionalInfo:rt}),xn._parseError}return Se}catch(Se){if(Se!==xn._parseError)throw Se;return}}_expr(){return this._or()}_or(){const T=[this._and()];for(;this._matchOne(16);){const Se=this._and();T.push(Se)}return T.length===1?T[0]:Ce.or(...T)}_and(){const T=[this._term()];for(;this._matchOne(15);){const Se=this._term();T.push(Se)}return T.length===1?T[0]:Ce.and(...T)}_term(){if(this._matchOne(2)){const T=this._peek();switch(T.type){case 11:return this._advance(),_.INSTANCE;case 12:return this._advance(),b.INSTANCE;case 0:{this._advance();const Se=this._expr();return this._consume(1,J),Se==null?void 0:Se.negate()}case 17:return this._advance(),ue.create(T.lexeme);default:throw this._errExpectedButGot("KEY | true | false | '(' expression ')'",T)}}return this._primary()}_primary(){const T=this._peek();switch(T.type){case 11:return this._advance(),Ce.true();case 12:return this._advance(),Ce.false();case 0:{this._advance();const Se=this._expr();return this._consume(1,J),Se}case 17:{const Se=T.lexeme;if(this._advance(),this._matchOne(9)){const rt=this._peek();if(!this._config.regexParsingWithErrorRecovery){if(this._advance(),rt.type!==10)throw this._errExpectedButGot("REGEX",rt);const un=rt.lexeme,Bt=un.lastIndexOf("/"),qt=Bt===un.length-1?void 0:this._removeFlagsGY(un.substring(Bt+1));let sn;try{sn=new RegExp(un.substring(1,Bt),qt)}catch{throw this._errExpectedButGot("REGEX",rt)}return M.create(Se,sn)}switch(rt.type){case 10:case 19:{const un=[rt.lexeme];this._advance();let Bt=this._peek(),qt=0;for(let Zn=0;Zn<rt.lexeme.length;Zn++)rt.lexeme.charCodeAt(Zn)===40?qt++:rt.lexeme.charCodeAt(Zn)===41&&qt--;for(;!this._isAtEnd()&&Bt.type!==15&&Bt.type!==16;){switch(Bt.type){case 0:qt++;break;case 1:qt--;break;case 10:case 18:for(let Zn=0;Zn<Bt.lexeme.length;Zn++)Bt.lexeme.charCodeAt(Zn)===40?qt++:rt.lexeme.charCodeAt(Zn)===41&&qt--}if(qt<0)break;un.push(ne.getLexeme(Bt)),this._advance(),Bt=this._peek()}const sn=un.join(""),oi=sn.lastIndexOf("/"),ei=oi===sn.length-1?void 0:this._removeFlagsGY(sn.substring(oi+1));let kn;try{kn=new RegExp(sn.substring(1,oi),ei)}catch{throw this._errExpectedButGot("REGEX",rt)}return Ce.regex(Se,kn)}case 18:{const un=rt.lexeme;this._advance();let Bt=null;if(!(0,K.AV)(un)){const qt=un.indexOf("/"),sn=un.lastIndexOf("/");if(qt!==sn&&qt>=0){const oi=un.slice(qt+1,sn),ei=un[sn+1]==="i"?"i":"";try{Bt=new RegExp(oi,ei)}catch{throw this._errExpectedButGot("REGEX",rt)}}}if(Bt===null)throw this._errExpectedButGot("REGEX",rt);return M.create(Se,Bt)}default:throw this._errExpectedButGot("REGEX",this._peek())}}if(this._matchOne(14)){this._consume(13,ce);const rt=this._value();return Ce.notIn(Se,rt)}switch(this._peek().type){case 3:{this._advance();const rt=this._value();if(this._previous().type===18)return Ce.equals(Se,rt);switch(rt){case"true":return Ce.has(Se);case"false":return Ce.not(Se);default:return Ce.equals(Se,rt)}}case 4:{this._advance();const rt=this._value();if(this._previous().type===18)return Ce.notEquals(Se,rt);switch(rt){case"true":return Ce.not(Se);case"false":return Ce.has(Se);default:return Ce.notEquals(Se,rt)}}case 5:return this._advance(),We.create(Se,this._value());case 6:return this._advance(),A.create(Se,this._value());case 7:return this._advance(),je.create(Se,this._value());case 8:return this._advance(),Xe.create(Se,this._value());case 13:return this._advance(),Ce.in(Se,this._value());default:return Ce.has(Se)}}case 20:throw this._parsingErrors.push({message:me,offset:T.offset,lexeme:"",additionalInfo:we}),xn._parseError;default:throw this._errExpectedButGot(`true | false | KEY 
	| KEY '=~' REGEX 
	| KEY ('==' | '!=' | '<' | '<=' | '>' | '>=' | 'in' | 'not' 'in') value`,this._peek())}}_value(){const T=this._peek();switch(T.type){case 17:case 18:return this._advance(),T.lexeme;case 11:return this._advance(),"true";case 12:return this._advance(),"false";case 13:return this._advance(),"in";default:return""}}_removeFlagsGY(T){return T.replaceAll(this._flagsGYRe,"")}_previous(){return this._tokens[this._current-1]}_matchOne(T){return this._check(T)?(this._advance(),!0):!1}_advance(){return this._isAtEnd()||this._current++,this._previous()}_consume(T,Se){if(this._check(T))return this._advance();throw this._errExpectedButGot(Se,this._peek())}_errExpectedButGot(T,Se,ct){const rt=(0,N.kg)("contextkey.parser.error.expectedButGot",`Expected: {0}
Received: '{1}'.`,T,ne.getLexeme(Se)),un=Se.offset,Bt=ne.getLexeme(Se);return this._parsingErrors.push({message:rt,offset:un,lexeme:Bt,additionalInfo:ct}),xn._parseError}_check(T){return this._peek().type===T}_peek(){return this._tokens[this._current]}_isAtEnd(){return this._peek().type===20}};n(xn,"Parser"),xn._parseError=new Error;let Ue=xn;const an=class an{static false(){return _.INSTANCE}static true(){return b.INSTANCE}static has(T){return I.create(T)}static equals(T,Se){return P.create(T,Se)}static notEquals(T,Se){return fe.create(T,Se)}static regex(T,Se){return M.create(T,Se)}static in(T,Se){return V.create(T,Se)}static notIn(T,Se){return ee.create(T,Se)}static not(T){return ue.create(T)}static and(...T){return D.create(T,null,!0)}static or(...T){return Z.create(T,null,!0)}static deserialize(T){return T==null?void 0:this._parser.parse(T)}};n(an,"ContextKeyExpr"),an._parser=new Ue({regexParsingWithErrorRecovery:!1});let Ce=an;function R(Nt,T){const Se=Nt?Nt.substituteConstants():void 0,ct=T?T.substituteConstants():void 0;return!Se&&!ct?!0:!Se||!ct?!1:Se.equals(ct)}n(R,"expressionsAreEqualWithConstantSubstitution");function m(Nt,T){return Nt.cmp(T)}n(m,"cmp");const Rn=class Rn{constructor(){this.type=0}cmp(T){return this.type-T.type}equals(T){return T.type===this.type}substituteConstants(){return this}evaluate(T){return!1}serialize(){return"false"}keys(){return[]}negate(){return b.INSTANCE}};n(Rn,"ContextKeyFalseExpr"),Rn.INSTANCE=new Rn;let _=Rn;const wn=class wn{constructor(){this.type=1}cmp(T){return this.type-T.type}equals(T){return T.type===this.type}substituteConstants(){return this}evaluate(T){return!0}serialize(){return"true"}keys(){return[]}negate(){return _.INSTANCE}};n(wn,"ContextKeyTrueExpr"),wn.INSTANCE=new wn;let b=wn;const Fn=class Fn{static create(T,Se=null){const ct=$.get(T);return typeof ct=="boolean"?ct?b.INSTANCE:_.INSTANCE:new Fn(T,Se)}constructor(T,Se){this.key=T,this.negated=Se,this.type=2}cmp(T){return T.type!==this.type?this.type-T.type:He(this.key,T.key)}equals(T){return T.type===this.type?this.key===T.key:!1}substituteConstants(){const T=$.get(this.key);return typeof T=="boolean"?T?b.INSTANCE:_.INSTANCE:this}evaluate(T){return!!T.getValue(this.key)}serialize(){return this.key}keys(){return[this.key]}negate(){return this.negated||(this.negated=ue.create(this.key,this)),this.negated}};n(Fn,"ContextKeyDefinedExpr");let I=Fn;const An=class An{static create(T,Se,ct=null){if(typeof Se=="boolean")return Se?I.create(T,ct):ue.create(T,ct);const rt=$.get(T);return typeof rt=="boolean"?Se===(rt?"true":"false")?b.INSTANCE:_.INSTANCE:new An(T,Se,ct)}constructor(T,Se,ct){this.key=T,this.value=Se,this.negated=ct,this.type=4}cmp(T){return T.type!==this.type?this.type-T.type:Ve(this.key,this.value,T.key,T.value)}equals(T){return T.type===this.type?this.key===T.key&&this.value===T.value:!1}substituteConstants(){const T=$.get(this.key);if(typeof T=="boolean"){const Se=T?"true":"false";return this.value===Se?b.INSTANCE:_.INSTANCE}return this}evaluate(T){return T.getValue(this.key)==this.value}serialize(){return`${this.key} == '${this.value}'`}keys(){return[this.key]}negate(){return this.negated||(this.negated=fe.create(this.key,this.value,this)),this.negated}};n(An,"ContextKeyEqualsExpr");let P=An;const gn=class gn{static create(T,Se){return new gn(T,Se)}constructor(T,Se){this.key=T,this.valueKey=Se,this.type=10,this.negated=null}cmp(T){return T.type!==this.type?this.type-T.type:Ve(this.key,this.valueKey,T.key,T.valueKey)}equals(T){return T.type===this.type?this.key===T.key&&this.valueKey===T.valueKey:!1}substituteConstants(){return this}evaluate(T){const Se=T.getValue(this.valueKey),ct=T.getValue(this.key);return Array.isArray(Se)?Se.includes(ct):typeof ct=="string"&&typeof Se=="object"&&Se!==null?j.call(Se,ct):!1}serialize(){return`${this.key} in '${this.valueKey}'`}keys(){return[this.key,this.valueKey]}negate(){return this.negated||(this.negated=ee.create(this.key,this.valueKey)),this.negated}};n(gn,"ContextKeyInExpr");let V=gn;const Tn=class Tn{static create(T,Se){return new Tn(T,Se)}constructor(T,Se){this.key=T,this.valueKey=Se,this.type=11,this._negated=V.create(T,Se)}cmp(T){return T.type!==this.type?this.type-T.type:this._negated.cmp(T._negated)}equals(T){return T.type===this.type?this._negated.equals(T._negated):!1}substituteConstants(){return this}evaluate(T){return!this._negated.evaluate(T)}serialize(){return`${this.key} not in '${this.valueKey}'`}keys(){return this._negated.keys()}negate(){return this._negated}};n(Tn,"ContextKeyNotInExpr");let ee=Tn;const Oe=class Oe{static create(T,Se,ct=null){if(typeof Se=="boolean")return Se?ue.create(T,ct):I.create(T,ct);const rt=$.get(T);return typeof rt=="boolean"?Se===(rt?"true":"false")?_.INSTANCE:b.INSTANCE:new Oe(T,Se,ct)}constructor(T,Se,ct){this.key=T,this.value=Se,this.negated=ct,this.type=5}cmp(T){return T.type!==this.type?this.type-T.type:Ve(this.key,this.value,T.key,T.value)}equals(T){return T.type===this.type?this.key===T.key&&this.value===T.value:!1}substituteConstants(){const T=$.get(this.key);if(typeof T=="boolean"){const Se=T?"true":"false";return this.value===Se?_.INSTANCE:b.INSTANCE}return this}evaluate(T){return T.getValue(this.key)!=this.value}serialize(){return`${this.key} != '${this.value}'`}keys(){return[this.key]}negate(){return this.negated||(this.negated=P.create(this.key,this.value,this)),this.negated}};n(Oe,"ContextKeyNotEqualsExpr");let fe=Oe;const $e=class $e{static create(T,Se=null){const ct=$.get(T);return typeof ct=="boolean"?ct?_.INSTANCE:b.INSTANCE:new $e(T,Se)}constructor(T,Se){this.key=T,this.negated=Se,this.type=3}cmp(T){return T.type!==this.type?this.type-T.type:He(this.key,T.key)}equals(T){return T.type===this.type?this.key===T.key:!1}substituteConstants(){const T=$.get(this.key);return typeof T=="boolean"?T?_.INSTANCE:b.INSTANCE:this}evaluate(T){return!T.getValue(this.key)}serialize(){return`!${this.key}`}keys(){return[this.key]}negate(){return this.negated||(this.negated=I.create(this.key,this)),this.negated}};n($e,"ContextKeyNotExpr");let ue=$e;function Te(Nt,T){if(typeof Nt=="string"){const Se=parseFloat(Nt);isNaN(Se)||(Nt=Se)}return typeof Nt=="string"||typeof Nt=="number"?T(Nt):_.INSTANCE}n(Te,"withFloatOrStr");const i=class i{static create(T,Se,ct=null){return Te(Se,rt=>new i(T,rt,ct))}constructor(T,Se,ct){this.key=T,this.value=Se,this.negated=ct,this.type=12}cmp(T){return T.type!==this.type?this.type-T.type:Ve(this.key,this.value,T.key,T.value)}equals(T){return T.type===this.type?this.key===T.key&&this.value===T.value:!1}substituteConstants(){return this}evaluate(T){return typeof this.value=="string"?!1:parseFloat(T.getValue(this.key))>this.value}serialize(){return`${this.key} > ${this.value}`}keys(){return[this.key]}negate(){return this.negated||(this.negated=A.create(this.key,this.value,this)),this.negated}};n(i,"ContextKeyGreaterExpr");let je=i;const mt=class mt{static create(T,Se,ct=null){return Te(Se,rt=>new mt(T,rt,ct))}constructor(T,Se,ct){this.key=T,this.value=Se,this.negated=ct,this.type=13}cmp(T){return T.type!==this.type?this.type-T.type:Ve(this.key,this.value,T.key,T.value)}equals(T){return T.type===this.type?this.key===T.key&&this.value===T.value:!1}substituteConstants(){return this}evaluate(T){return typeof this.value=="string"?!1:parseFloat(T.getValue(this.key))>=this.value}serialize(){return`${this.key} >= ${this.value}`}keys(){return[this.key]}negate(){return this.negated||(this.negated=We.create(this.key,this.value,this)),this.negated}};n(mt,"ContextKeyGreaterEqualsExpr");let Xe=mt;const It=class It{static create(T,Se,ct=null){return Te(Se,rt=>new It(T,rt,ct))}constructor(T,Se,ct){this.key=T,this.value=Se,this.negated=ct,this.type=14}cmp(T){return T.type!==this.type?this.type-T.type:Ve(this.key,this.value,T.key,T.value)}equals(T){return T.type===this.type?this.key===T.key&&this.value===T.value:!1}substituteConstants(){return this}evaluate(T){return typeof this.value=="string"?!1:parseFloat(T.getValue(this.key))<this.value}serialize(){return`${this.key} < ${this.value}`}keys(){return[this.key]}negate(){return this.negated||(this.negated=Xe.create(this.key,this.value,this)),this.negated}};n(It,"ContextKeySmallerExpr");let We=It;const pt=class pt{static create(T,Se,ct=null){return Te(Se,rt=>new pt(T,rt,ct))}constructor(T,Se,ct){this.key=T,this.value=Se,this.negated=ct,this.type=15}cmp(T){return T.type!==this.type?this.type-T.type:Ve(this.key,this.value,T.key,T.value)}equals(T){return T.type===this.type?this.key===T.key&&this.value===T.value:!1}substituteConstants(){return this}evaluate(T){return typeof this.value=="string"?!1:parseFloat(T.getValue(this.key))<=this.value}serialize(){return`${this.key} <= ${this.value}`}keys(){return[this.key]}negate(){return this.negated||(this.negated=je.create(this.key,this.value,this)),this.negated}};n(pt,"ContextKeySmallerEqualsExpr");let A=pt;const at=class at{static create(T,Se){return new at(T,Se)}constructor(T,Se){this.key=T,this.regexp=Se,this.type=7,this.negated=null}cmp(T){if(T.type!==this.type)return this.type-T.type;if(this.key<T.key)return-1;if(this.key>T.key)return 1;const Se=this.regexp?this.regexp.source:"",ct=T.regexp?T.regexp.source:"";return Se<ct?-1:Se>ct?1:0}equals(T){if(T.type===this.type){const Se=this.regexp?this.regexp.source:"",ct=T.regexp?T.regexp.source:"";return this.key===T.key&&Se===ct}return!1}substituteConstants(){return this}evaluate(T){const Se=T.getValue(this.key);return this.regexp?this.regexp.test(Se):!1}serialize(){const T=this.regexp?`/${this.regexp.source}/${this.regexp.flags}`:"/invalid/";return`${this.key} =~ ${T}`}keys(){return[this.key]}negate(){return this.negated||(this.negated=G.create(this)),this.negated}};n(at,"ContextKeyRegexExpr");let M=at;const xt=class xt{static create(T){return new xt(T)}constructor(T){this._actual=T,this.type=8}cmp(T){return T.type!==this.type?this.type-T.type:this._actual.cmp(T._actual)}equals(T){return T.type===this.type?this._actual.equals(T._actual):!1}substituteConstants(){return this}evaluate(T){return!this._actual.evaluate(T)}serialize(){return`!(${this._actual.serialize()})`}keys(){return this._actual.keys()}negate(){return this._actual}};n(xt,"ContextKeyNotRegexExpr");let G=xt;function w(Nt){let T=null;for(let Se=0,ct=Nt.length;Se<ct;Se++){const rt=Nt[Se].substituteConstants();if(Nt[Se]!==rt&&T===null){T=[];for(let un=0;un<Se;un++)T[un]=Nt[un]}T!==null&&(T[Se]=rt)}return T===null?Nt:T}n(w,"eliminateConstantsInArray");const dt=class dt{static create(T,Se,ct){return dt._normalizeArr(T,Se,ct)}constructor(T,Se){this.expr=T,this.negated=Se,this.type=6}cmp(T){if(T.type!==this.type)return this.type-T.type;if(this.expr.length<T.expr.length)return-1;if(this.expr.length>T.expr.length)return 1;for(let Se=0,ct=this.expr.length;Se<ct;Se++){const rt=m(this.expr[Se],T.expr[Se]);if(rt!==0)return rt}return 0}equals(T){if(T.type===this.type){if(this.expr.length!==T.expr.length)return!1;for(let Se=0,ct=this.expr.length;Se<ct;Se++)if(!this.expr[Se].equals(T.expr[Se]))return!1;return!0}return!1}substituteConstants(){const T=w(this.expr);return T===this.expr?this:dt.create(T,this.negated,!1)}evaluate(T){for(let Se=0,ct=this.expr.length;Se<ct;Se++)if(!this.expr[Se].evaluate(T))return!1;return!0}static _normalizeArr(T,Se,ct){const rt=[];let un=!1;for(const Bt of T)if(Bt){if(Bt.type===1){un=!0;continue}if(Bt.type===0)return _.INSTANCE;if(Bt.type===6){rt.push(...Bt.expr);continue}rt.push(Bt)}if(rt.length===0&&un)return b.INSTANCE;if(rt.length!==0){if(rt.length===1)return rt[0];rt.sort(m);for(let Bt=1;Bt<rt.length;Bt++)rt[Bt-1].equals(rt[Bt])&&(rt.splice(Bt,1),Bt--);if(rt.length===1)return rt[0];for(;rt.length>1;){const Bt=rt[rt.length-1];if(Bt.type!==9)break;rt.pop();const qt=rt.pop(),sn=rt.length===0,oi=Z.create(Bt.expr.map(ei=>dt.create([ei,qt],null,ct)),null,sn);oi&&(rt.push(oi),rt.sort(m))}if(rt.length===1)return rt[0];if(ct){for(let Bt=0;Bt<rt.length;Bt++)for(let qt=Bt+1;qt<rt.length;qt++)if(rt[Bt].negate().equals(rt[qt]))return _.INSTANCE;if(rt.length===1)return rt[0]}return new dt(rt,Se)}}serialize(){return this.expr.map(T=>T.serialize()).join(" && ")}keys(){const T=[];for(const Se of this.expr)T.push(...Se.keys());return T}negate(){if(!this.negated){const T=[];for(const Se of this.expr)T.push(Se.negate());this.negated=Z.create(T,this,!0)}return this.negated}};n(dt,"ContextKeyAndExpr");let D=dt;const ut=class ut{static create(T,Se,ct){return ut._normalizeArr(T,Se,ct)}constructor(T,Se){this.expr=T,this.negated=Se,this.type=9}cmp(T){if(T.type!==this.type)return this.type-T.type;if(this.expr.length<T.expr.length)return-1;if(this.expr.length>T.expr.length)return 1;for(let Se=0,ct=this.expr.length;Se<ct;Se++){const rt=m(this.expr[Se],T.expr[Se]);if(rt!==0)return rt}return 0}equals(T){if(T.type===this.type){if(this.expr.length!==T.expr.length)return!1;for(let Se=0,ct=this.expr.length;Se<ct;Se++)if(!this.expr[Se].equals(T.expr[Se]))return!1;return!0}return!1}substituteConstants(){const T=w(this.expr);return T===this.expr?this:ut.create(T,this.negated,!1)}evaluate(T){for(let Se=0,ct=this.expr.length;Se<ct;Se++)if(this.expr[Se].evaluate(T))return!0;return!1}static _normalizeArr(T,Se,ct){let rt=[],un=!1;if(T){for(let Bt=0,qt=T.length;Bt<qt;Bt++){const sn=T[Bt];if(sn){if(sn.type===0){un=!0;continue}if(sn.type===1)return b.INSTANCE;if(sn.type===9){rt=rt.concat(sn.expr);continue}rt.push(sn)}}if(rt.length===0&&un)return _.INSTANCE;rt.sort(m)}if(rt.length!==0){if(rt.length===1)return rt[0];for(let Bt=1;Bt<rt.length;Bt++)rt[Bt-1].equals(rt[Bt])&&(rt.splice(Bt,1),Bt--);if(rt.length===1)return rt[0];if(ct){for(let Bt=0;Bt<rt.length;Bt++)for(let qt=Bt+1;qt<rt.length;qt++)if(rt[Bt].negate().equals(rt[qt]))return b.INSTANCE;if(rt.length===1)return rt[0]}return new ut(rt,Se)}}serialize(){return this.expr.map(T=>T.serialize()).join(" || ")}keys(){const T=[];for(const Se of this.expr)T.push(...Se.keys());return T}negate(){if(!this.negated){const T=[];for(const Se of this.expr)T.push(Se.negate());for(;T.length>1;){const Se=T.shift(),ct=T.shift(),rt=[];for(const un of kt(Se))for(const Bt of kt(ct))rt.push(D.create([un,Bt],null,!1));T.unshift(ut.create(rt,null,!1))}this.negated=ut.create(T,this,!0)}return this.negated}};n(ut,"ContextKeyOrExpr");let Z=ut;const St=class St extends I{static all(){return St._info.values()}constructor(T,Se,ct){super(T,null),this._defaultValue=Se,typeof ct=="object"?St._info.push({...ct,key:T}):ct!==!0&&St._info.push({key:T,description:ct,type:Se!=null?typeof Se:void 0})}bindTo(T){return T.createKey(this.key,this._defaultValue)}getValue(T){return T.getContextKeyValue(this.key)}toNegated(){return this.negate()}isEqualTo(T){return P.create(this.key,T)}};n(St,"RawContextKey"),St._info=[];let he=St;const ye=(0,B.u1)("contextKeyService");function He(Nt,T){return Nt<T?-1:Nt>T?1:0}n(He,"cmp1");function Ve(Nt,T,Se,ct){return Nt<Se?-1:Nt>Se?1:T<ct?-1:T>ct?1:0}n(Ve,"cmp2");function ft(Nt,T){if(Nt.type===0||T.type===1)return!0;if(Nt.type===9)return T.type===9?ot(Nt.expr,T.expr):!1;if(T.type===9){for(const Se of T.expr)if(ft(Nt,Se))return!0;return!1}if(Nt.type===6){if(T.type===6)return ot(T.expr,Nt.expr);for(const Se of Nt.expr)if(ft(Se,T))return!0;return!1}return Nt.equals(T)}n(ft,"implies");function ot(Nt,T){let Se=0,ct=0;for(;Se<Nt.length&&ct<T.length;){const rt=Nt[Se].cmp(T[ct]);if(rt<0)return!1;rt===0&&Se++,ct++}return Se===Nt.length}n(ot,"allElementsIncluded");function kt(Nt){return Nt.type===9?Nt.expr:[Nt]}n(kt,"getTerminals");const nn=(0,B.u1)("logService");var Ut;(function(Nt){Nt[Nt.Off=0]="Off",Nt[Nt.Trace=1]="Trace",Nt[Nt.Debug=2]="Debug",Nt[Nt.Info=3]="Info",Nt[Nt.Warning=4]="Warning",Nt[Nt.Error=5]="Error"})(Ut||(Ut={}));const Dn=Ut.Info,$t=class $t extends ie.jG{constructor(){super(...arguments),this.level=Dn,this._onDidChangeLogLevel=this._register(new F.vl),this.onDidChangeLogLevel=this._onDidChangeLogLevel.event}setLevel(T){this.level!==T&&(this.level=T,this._onDidChangeLogLevel.fire(this.level))}getLevel(){return this.level}checkLogLevel(T){return this.level!==Ut.Off&&this.level<=T}};n($t,"AbstractLogger");let En=$t;const Zt=class Zt extends En{constructor(T=Dn,Se=!0){super(),this.useColors=Se,this.setLevel(T)}trace(T,...Se){this.checkLogLevel(Ut.Trace)&&(this.useColors?console.log("%cTRACE","color: #888",T,...Se):console.log(T,...Se))}debug(T,...Se){this.checkLogLevel(Ut.Debug)&&(this.useColors?console.log("%cDEBUG","background: #eee; color: #888",T,...Se):console.log(T,...Se))}info(T,...Se){this.checkLogLevel(Ut.Info)&&(this.useColors?console.log("%c INFO","color: #33f",T,...Se):console.log(T,...Se))}warn(T,...Se){this.checkLogLevel(Ut.Warning)&&(this.useColors?console.log("%c WARN","color: #993",T,...Se):console.log(T,...Se))}error(T,...Se){this.checkLogLevel(Ut.Error)&&(this.useColors?console.log("%c  ERR","color: #f33",T,...Se):console.error(T,...Se))}};n(Zt,"ConsoleLogger");let _n=Zt;const cn=class cn extends En{constructor(T){super(),this.loggers=T,T.length&&this.setLevel(T[0].getLevel())}setLevel(T){for(const Se of this.loggers)Se.setLevel(T);super.setLevel(T)}trace(T,...Se){for(const ct of this.loggers)ct.trace(T,...Se)}debug(T,...Se){for(const ct of this.loggers)ct.debug(T,...Se)}info(T,...Se){for(const ct of this.loggers)ct.info(T,...Se)}warn(T,...Se){for(const ct of this.loggers)ct.warn(T,...Se)}error(T,...Se){for(const ct of this.loggers)ct.error(T,...Se)}dispose(){for(const T of this.loggers)T.dispose();super.dispose()}};n(cn,"MultiplexLogger");let vn=cn;function mn(Nt){switch(Nt){case Ut.Trace:return"trace";case Ut.Debug:return"debug";case Ut.Info:return"info";case Ut.Warning:return"warn";case Ut.Error:return"error";case Ut.Off:return"off"}}n(mn,"LogLevelToString");const pn=new he("logLevel",mn(Ut.Info))},7167:(Lt,Pe,E)=>{"use strict";E.d(Pe,{O:n(()=>K,"O")});var F=E(7110),ie=E(9359);const Q=class Q{constructor(){this.data=new Map}add(g,Y){F.ok(ie.Kg(g)),F.ok(ie.Gv(Y)),F.ok(!this.data.has(g),"There is already an extension with this id"),this.data.set(g,Y)}as(g){return this.data.get(g)||null}};n(Q,"RegistryImpl");let o=Q;const K=new o},61:(Lt,Pe,E)=>{"use strict";E.d(Pe,{buw:n(()=>Te,"buw"),b1q:n(()=>ue,"b1q"),YtV:n(()=>Ut,"YtV"),Ubg:n(()=>cn,"Ubg"),IIb:n(()=>i,"IIb"),pOz:n(()=>$e,"pOz"),whs:n(()=>An,"whs"),Stt:n(()=>Tn,"Stt"),Hng:n(()=>gn,"Hng"),yLC:n(()=>On,"yLC"),KoI:n(()=>Er,"KoI"),uMG:n(()=>tr,"uMG"),x1A:n(()=>v,"x1A")});var F=E(7110),ie=E(1946),o=E(4901),K=E(2106),Q=E(1460),N=E(7167),g=E(9746);function Y(Le){return`--vscode-${Le.replace(/\./g,"-")}`}n(Y,"asCssVariableName");function O(Le){return`var(${Y(Le)})`}n(O,"asCssVariable");function ne(Le,qe){return`var(${Y(Le)}, ${qe})`}n(ne,"asCssVariableWithDefault");function B(Le){return Le!==null&&typeof Le=="object"&&"light"in Le&&"dark"in Le}n(B,"isColorDefaults");const $={ColorContribution:"base.contributions.colors"},j="default",yt=class yt{constructor(){this._onDidChangeSchema=new K.vl,this.onDidChangeSchema=this._onDidChangeSchema.event,this.colorSchema={type:"object",properties:{}},this.colorReferenceSchema={type:"string",enum:[],enumDescriptions:[]},this.colorsById={}}registerColor(qe,Ze,ht,bt=!1,At){const Mt={id:qe,description:ht,defaults:Ze,needsTransparency:bt,deprecationMessage:At};this.colorsById[qe]=Mt;const Kt={type:"string",format:"color-hex",defaultSnippets:[{body:"${1:#ff0000}"}]};return At&&(Kt.deprecationMessage=At),bt&&(Kt.pattern="^#(?:(?<rgba>[0-9a-fA-f]{3}[0-9a-eA-E])|(?:[0-9a-fA-F]{6}(?:(?![fF]{2})(?:[0-9a-fA-F]{2}))))?$",Kt.patternErrorMessage=g.kg("transparecyRequired","This color must be transparent or it will obscure content")),this.colorSchema.properties[qe]={description:ht,oneOf:[Kt,{type:"string",const:j,description:g.kg("useDefault","Use the default color.")}]},this.colorReferenceSchema.enum.push(qe),this.colorReferenceSchema.enumDescriptions.push(ht),this._onDidChangeSchema.fire(),qe}getColors(){return Object.keys(this.colorsById).map(qe=>this.colorsById[qe])}resolveDefaultColor(qe,Ze){const ht=this.colorsById[qe];if(ht!=null&&ht.defaults){const bt=B(ht.defaults)?ht.defaults[Ze.type]:ht.defaults;return Ce(bt,Ze)}}getColorSchema(){return this.colorSchema}toString(){const qe=n((Ze,ht)=>{const bt=Ze.indexOf(".")===-1?0:1,At=ht.indexOf(".")===-1?0:1;return bt!==At?bt-At:Ze.localeCompare(ht)},"sorter");return Object.keys(this.colorsById).sort(qe).map(Ze=>`- \`${Ze}\`: ${this.colorsById[Ze].description}`).join(`
`)}};n(yt,"ColorRegistry");let z=yt;const U=new z;N.O.add($.ColorContribution,U);function v(Le,qe,Ze,ht,bt){return U.registerColor(Le,qe,Ze,ht,bt)}n(v,"registerColor");function ce(Le,qe){var Ze,ht,bt,At;switch(Le.op){case 0:return(Ze=Ce(Le.value,qe))==null?void 0:Ze.darken(Le.factor);case 1:return(ht=Ce(Le.value,qe))==null?void 0:ht.lighten(Le.factor);case 2:return(bt=Ce(Le.value,qe))==null?void 0:bt.transparent(Le.factor);case 3:{const Mt=Ce(Le.background,qe);return Mt?(At=Ce(Le.value,qe))==null?void 0:At.makeOpaque(Mt):Ce(Le.value,qe)}case 4:for(const Mt of Le.values){const Kt=Ce(Mt,qe);if(Kt)return Kt}return;case 6:return Ce(qe.defines(Le.if)?Le.then:Le.else,qe);case 5:{const Mt=Ce(Le.value,qe);if(!Mt)return;const Kt=Ce(Le.background,qe);return Kt?Mt.isDarkerThan(Kt)?o.Q1.getLighterColor(Mt,Kt,Le.factor).transparent(Le.transparency):o.Q1.getDarkerColor(Mt,Kt,Le.factor).transparent(Le.transparency):Mt.transparent(Le.factor*Le.transparency)}default:throw(0,F.xb)(Le)}}n(ce,"executeTransform");function J(Le,qe){return{op:0,value:Le,factor:qe}}n(J,"darken");function y(Le,qe){return{op:1,value:Le,factor:qe}}n(y,"lighten");function W(Le,qe){return{op:2,value:Le,factor:qe}}n(W,"transparent");function me(...Le){return{op:4,values:Le}}n(me,"oneOf");function we(Le,qe,Ze){return{op:6,if:Le,then:qe,else:Ze}}n(we,"ifDefinedThenElse");function Ue(Le,qe,Ze,ht){return{op:5,value:Le,background:qe,factor:Ze,transparency:ht}}n(Ue,"lessProminent");function Ce(Le,qe){if(Le!==null){if(typeof Le=="string")return Le[0]==="#"?o.Q1.fromHex(Le):qe.getColor(Le);if(Le instanceof o.Q1)return Le;if(typeof Le=="object")return ce(Le,qe)}}n(Ce,"resolveColorValue");const R="vscode://schemas/workbench-colors",m=N.O.as(Q.F.JSONContribution);m.registerSchema(R,U.getColorSchema());const _=new ie.uC(()=>m.notifySchemaChanged(R),200);U.onDidChangeSchema(()=>{_.isScheduled()||_.schedule()});const b=v("foreground",{dark:"#CCCCCC",light:"#616161",hcDark:"#FFFFFF",hcLight:"#292929"},g.kg("foreground","Overall foreground color. This color is only used if not overridden by a component.")),I=v("disabledForeground",{dark:"#CCCCCC80",light:"#61616180",hcDark:"#A5A5A5",hcLight:"#7F7F7F"},g.kg("disabledForeground","Overall foreground for disabled elements. This color is only used if not overridden by a component.")),P=v("errorForeground",{dark:"#F48771",light:"#A1260D",hcDark:"#F48771",hcLight:"#B5200D"},g.kg("errorForeground","Overall foreground color for error messages. This color is only used if not overridden by a component.")),V=v("descriptionForeground",{light:"#717171",dark:W(b,.7),hcDark:W(b,.7),hcLight:W(b,.7)},g.kg("descriptionForeground","Foreground color for description text providing additional information, for example for a label.")),ee=v("icon.foreground",{dark:"#C5C5C5",light:"#424242",hcDark:"#FFFFFF",hcLight:"#292929"},g.kg("iconForeground","The default color for icons in the workbench.")),fe=v("focusBorder",{dark:"#007FD4",light:"#0090F1",hcDark:"#F38518",hcLight:"#006BBD"},g.kg("focusBorder","Overall border color for focused elements. This color is only used if not overridden by a component.")),ue=v("contrastBorder",{light:null,dark:null,hcDark:"#6FC3DF",hcLight:"#0F4A85"},g.kg("contrastBorder","An extra border around elements to separate them from others for greater contrast.")),Te=v("contrastActiveBorder",{light:null,dark:null,hcDark:fe,hcLight:fe},g.kg("activeContrastBorder","An extra border around active elements to separate them from others for greater contrast.")),je=v("selection.background",null,g.kg("selectionBackground","The background color of text selections in the workbench (e.g. for input fields or text areas). Note that this does not apply to selections within the editor.")),Xe=v("textLink.foreground",{light:"#006AB1",dark:"#3794FF",hcDark:"#21A6FF",hcLight:"#0F4A85"},g.kg("textLinkForeground","Foreground color for links in text.")),We=v("textLink.activeForeground",{light:"#006AB1",dark:"#3794FF",hcDark:"#21A6FF",hcLight:"#0F4A85"},g.kg("textLinkActiveForeground","Foreground color for links in text when clicked on and on mouse hover.")),A=v("textSeparator.foreground",{light:"#0000002e",dark:"#ffffff2e",hcDark:o.Q1.black,hcLight:"#292929"},g.kg("textSeparatorForeground","Color for text separators.")),M=v("textPreformat.foreground",{light:"#A31515",dark:"#D7BA7D",hcDark:"#000000",hcLight:"#FFFFFF"},g.kg("textPreformatForeground","Foreground color for preformatted text segments.")),G=v("textPreformat.background",{light:"#0000001A",dark:"#FFFFFF1A",hcDark:"#FFFFFF",hcLight:"#09345f"},g.kg("textPreformatBackground","Background color for preformatted text segments.")),w=v("textBlockQuote.background",{light:"#f2f2f2",dark:"#222222",hcDark:null,hcLight:"#F2F2F2"},g.kg("textBlockQuoteBackground","Background color for block quotes in text.")),D=v("textBlockQuote.border",{light:"#007acc80",dark:"#007acc80",hcDark:o.Q1.white,hcLight:"#292929"},g.kg("textBlockQuoteBorder","Border color for block quotes in text.")),Z=v("textCodeBlock.background",{light:"#dcdcdc66",dark:"#0a0a0a66",hcDark:o.Q1.black,hcLight:"#F2F2F2"},g.kg("textCodeBlockBackground","Background color for code blocks in text.")),he=v("sash.hoverBorder",fe,g.kg("sashActiveBorder","Border color of active sashes.")),ye=v("badge.background",{dark:"#4D4D4D",light:"#C4C4C4",hcDark:o.Q1.black,hcLight:"#0F4A85"},g.kg("badgeBackground","Badge background color. Badges are small information labels, e.g. for search results count.")),He=v("badge.foreground",{dark:o.Q1.white,light:"#333",hcDark:o.Q1.white,hcLight:o.Q1.white},g.kg("badgeForeground","Badge foreground color. Badges are small information labels, e.g. for search results count.")),Ve=v("scrollbar.shadow",{dark:"#000000",light:"#DDDDDD",hcDark:null,hcLight:null},g.kg("scrollbarShadow","Scrollbar shadow to indicate that the view is scrolled.")),ft=v("scrollbarSlider.background",{dark:o.Q1.fromHex("#797979").transparent(.4),light:o.Q1.fromHex("#646464").transparent(.4),hcDark:W(ue,.6),hcLight:W(ue,.4)},g.kg("scrollbarSliderBackground","Scrollbar slider background color.")),ot=v("scrollbarSlider.hoverBackground",{dark:o.Q1.fromHex("#646464").transparent(.7),light:o.Q1.fromHex("#646464").transparent(.7),hcDark:W(ue,.8),hcLight:W(ue,.8)},g.kg("scrollbarSliderHoverBackground","Scrollbar slider background color when hovering.")),kt=v("scrollbarSlider.activeBackground",{dark:o.Q1.fromHex("#BFBFBF").transparent(.4),light:o.Q1.fromHex("#000000").transparent(.6),hcDark:ue,hcLight:ue},g.kg("scrollbarSliderActiveBackground","Scrollbar slider background color when clicked on.")),nn=v("progressBar.background",{dark:o.Q1.fromHex("#0E70C0"),light:o.Q1.fromHex("#0E70C0"),hcDark:ue,hcLight:ue},g.kg("progressBarBackground","Background color of the progress bar that can show for long running operations.")),Ut=v("editor.background",{light:"#ffffff",dark:"#1E1E1E",hcDark:o.Q1.black,hcLight:o.Q1.white},g.kg("editorBackground","Editor background color.")),Dn=v("editor.foreground",{light:"#333333",dark:"#BBBBBB",hcDark:o.Q1.white,hcLight:b},g.kg("editorForeground","Editor default foreground color.")),En=v("editorStickyScroll.background",Ut,g.kg("editorStickyScrollBackground","Background color of sticky scroll in the editor")),_n=v("editorStickyScrollHover.background",{dark:"#2A2D2E",light:"#F0F0F0",hcDark:null,hcLight:o.Q1.fromHex("#0F4A85").transparent(.1)},g.kg("editorStickyScrollHoverBackground","Background color of sticky scroll on hover in the editor")),vn=v("editorStickyScroll.border",{dark:null,light:null,hcDark:ue,hcLight:ue},g.kg("editorStickyScrollBorder","Border color of sticky scroll in the editor")),mn=v("editorStickyScroll.shadow",Ve,g.kg("editorStickyScrollShadow"," Shadow color of sticky scroll in the editor")),pn=v("editorWidget.background",{dark:"#252526",light:"#F3F3F3",hcDark:"#0C141F",hcLight:o.Q1.white},g.kg("editorWidgetBackground","Background color of editor widgets, such as find/replace.")),dn=v("editorWidget.foreground",b,g.kg("editorWidgetForeground","Foreground color of editor widgets, such as find/replace.")),xn=v("editorWidget.border",{dark:"#454545",light:"#C8C8C8",hcDark:ue,hcLight:ue},g.kg("editorWidgetBorder","Border color of editor widgets. The color is only used if the widget chooses to have a border and if the color is not overridden by a widget.")),an=v("editorWidget.resizeBorder",null,g.kg("editorWidgetResizeBorder","Border color of the resize bar of editor widgets. The color is only used if the widget chooses to have a resize border and if the color is not overridden by a widget.")),Rn=v("editorError.background",null,g.kg("editorError.background","Background color of error text in the editor. The color must not be opaque so as not to hide underlying decorations."),!0),wn=v("editorError.foreground",{dark:"#F14C4C",light:"#E51400",hcDark:"#F48771",hcLight:"#B5200D"},g.kg("editorError.foreground","Foreground color of error squigglies in the editor.")),Fn=v("editorError.border",{dark:null,light:null,hcDark:o.Q1.fromHex("#E47777").transparent(.8),hcLight:"#B5200D"},g.kg("errorBorder","If set, color of double underlines for errors in the editor.")),An=v("editorWarning.background",null,g.kg("editorWarning.background","Background color of warning text in the editor. The color must not be opaque so as not to hide underlying decorations."),!0),gn=v("editorWarning.foreground",{dark:"#CCA700",light:"#BF8803",hcDark:"#FFD370",hcLight:"#895503"},g.kg("editorWarning.foreground","Foreground color of warning squigglies in the editor.")),Tn=v("editorWarning.border",{dark:null,light:null,hcDark:o.Q1.fromHex("#FFCC00").transparent(.8),hcLight:o.Q1.fromHex("#FFCC00").transparent(.8)},g.kg("warningBorder","If set, color of double underlines for warnings in the editor.")),Oe=v("editorInfo.background",null,g.kg("editorInfo.background","Background color of info text in the editor. The color must not be opaque so as not to hide underlying decorations."),!0),$e=v("editorInfo.foreground",{dark:"#3794FF",light:"#1a85ff",hcDark:"#3794FF",hcLight:"#1a85ff"},g.kg("editorInfo.foreground","Foreground color of info squigglies in the editor.")),i=v("editorInfo.border",{dark:null,light:null,hcDark:o.Q1.fromHex("#3794FF").transparent(.8),hcLight:"#292929"},g.kg("infoBorder","If set, color of double underlines for infos in the editor.")),mt=v("editorHint.foreground",{dark:o.Q1.fromHex("#eeeeee").transparent(.7),light:"#6c6c6c",hcDark:null,hcLight:null},g.kg("editorHint.foreground","Foreground color of hint squigglies in the editor.")),It=v("editorHint.border",{dark:null,light:null,hcDark:o.Q1.fromHex("#eeeeee").transparent(.8),hcLight:"#292929"},g.kg("hintBorder","If set, color of double underlines for hints in the editor.")),pt=v("editorLink.activeForeground",{dark:"#4E94CE",light:o.Q1.blue,hcDark:o.Q1.cyan,hcLight:"#292929"},g.kg("activeLinkForeground","Color of active links.")),at=v("editor.selectionBackground",{light:"#ADD6FF",dark:"#264F78",hcDark:"#f3f518",hcLight:"#0F4A85"},g.kg("editorSelectionBackground","Color of the editor selection.")),xt=v("editor.selectionForeground",{light:null,dark:null,hcDark:"#000000",hcLight:o.Q1.white},g.kg("editorSelectionForeground","Color of the selected text for high contrast.")),dt=v("editor.inactiveSelectionBackground",{light:W(at,.5),dark:W(at,.5),hcDark:W(at,.7),hcLight:W(at,.5)},g.kg("editorInactiveSelection","Color of the selection in an inactive editor. The color must not be opaque so as not to hide underlying decorations."),!0),ut=v("editor.selectionHighlightBackground",{light:Ue(at,Ut,.3,.6),dark:Ue(at,Ut,.3,.6),hcDark:null,hcLight:null},g.kg("editorSelectionHighlight","Color for regions with the same content as the selection. The color must not be opaque so as not to hide underlying decorations."),!0),St=v("editor.selectionHighlightBorder",{light:null,dark:null,hcDark:Te,hcLight:Te},g.kg("editorSelectionHighlightBorder","Border color for regions with the same content as the selection.")),$t=v("editor.findMatchBackground",{light:"#A8AC94",dark:"#515C6A",hcDark:null,hcLight:null},g.kg("editorFindMatch","Color of the current search match.")),Zt=v("editor.findMatchForeground",null,g.kg("editorFindMatchForeground","Text color of the current search match.")),cn=v("editor.findMatchHighlightBackground",{light:"#EA5C0055",dark:"#EA5C0055",hcDark:null,hcLight:null},g.kg("findMatchHighlight","Color of the other search matches. The color must not be opaque so as not to hide underlying decorations."),!0),Nt=v("editor.findMatchHighlightForeground",null,g.kg("findMatchHighlightForeground","Foreground color of the other search matches."),!0),T=v("editor.findRangeHighlightBackground",{dark:"#3a3d4166",light:"#b4b4b44d",hcDark:null,hcLight:null},g.kg("findRangeHighlight","Color of the range limiting the search. The color must not be opaque so as not to hide underlying decorations."),!0),Se=v("editor.findMatchBorder",{light:null,dark:null,hcDark:Te,hcLight:Te},g.kg("editorFindMatchBorder","Border color of the current search match.")),ct=v("editor.findMatchHighlightBorder",{light:null,dark:null,hcDark:Te,hcLight:Te},g.kg("findMatchHighlightBorder","Border color of the other search matches.")),rt=v("editor.findRangeHighlightBorder",{dark:null,light:null,hcDark:W(Te,.4),hcLight:W(Te,.4)},g.kg("findRangeHighlightBorder","Border color of the range limiting the search. The color must not be opaque so as not to hide underlying decorations."),!0),un=v("editor.hoverHighlightBackground",{light:"#ADD6FF26",dark:"#264f7840",hcDark:"#ADD6FF26",hcLight:null},g.kg("hoverHighlight","Highlight below the word for which a hover is shown. The color must not be opaque so as not to hide underlying decorations."),!0),Bt=v("editorHoverWidget.background",pn,g.kg("hoverBackground","Background color of the editor hover.")),qt=v("editorHoverWidget.foreground",dn,g.kg("hoverForeground","Foreground color of the editor hover.")),sn=v("editorHoverWidget.border",xn,g.kg("hoverBorder","Border color of the editor hover.")),oi=v("editorHoverWidget.statusBarBackground",{dark:y(Bt,.2),light:J(Bt,.05),hcDark:pn,hcLight:pn},g.kg("statusBarBackground","Background color of the editor hover status bar.")),ei=v("editorInlayHint.foreground",{dark:"#969696",light:"#969696",hcDark:o.Q1.white,hcLight:o.Q1.black},g.kg("editorInlayHintForeground","Foreground color of inline hints")),kn=v("editorInlayHint.background",{dark:W(ye,.1),light:W(ye,.1),hcDark:W(o.Q1.white,.1),hcLight:W(ye,.1)},g.kg("editorInlayHintBackground","Background color of inline hints")),Zn=v("editorInlayHint.typeForeground",ei,g.kg("editorInlayHintForegroundTypes","Foreground color of inline hints for types")),$i=v("editorInlayHint.typeBackground",kn,g.kg("editorInlayHintBackgroundTypes","Background color of inline hints for types")),ai=v("editorInlayHint.parameterForeground",ei,g.kg("editorInlayHintForegroundParameter","Foreground color of inline hints for parameters")),Ci=v("editorInlayHint.parameterBackground",kn,g.kg("editorInlayHintBackgroundParameter","Background color of inline hints for parameters")),li=v("editorLightBulb.foreground",{dark:"#FFCC00",light:"#DDB100",hcDark:"#FFCC00",hcLight:"#007ACC"},g.kg("editorLightBulbForeground","The color used for the lightbulb actions icon.")),ci=v("editorLightBulbAutoFix.foreground",{dark:"#75BEFF",light:"#007ACC",hcDark:"#75BEFF",hcLight:"#007ACC"},g.kg("editorLightBulbAutoFixForeground","The color used for the lightbulb auto fix actions icon.")),xi=v("editorLightBulbAi.foreground",li,g.kg("editorLightBulbAiForeground","The color used for the lightbulb AI icon.")),ni=v("editor.snippetTabstopHighlightBackground",{dark:new o.Q1(new o.bU(124,124,124,.3)),light:new o.Q1(new o.bU(10,50,100,.2)),hcDark:new o.Q1(new o.bU(124,124,124,.3)),hcLight:new o.Q1(new o.bU(10,50,100,.2))},g.kg("snippetTabstopHighlightBackground","Highlight background color of a snippet tabstop.")),Fi=v("editor.snippetTabstopHighlightBorder",null,g.kg("snippetTabstopHighlightBorder","Highlight border color of a snippet tabstop.")),hi=v("editor.snippetFinalTabstopHighlightBackground",null,g.kg("snippetFinalTabstopHighlightBackground","Highlight background color of the final tabstop of a snippet.")),di=v("editor.snippetFinalTabstopHighlightBorder",{dark:"#525252",light:new o.Q1(new o.bU(10,50,100,.5)),hcDark:"#525252",hcLight:"#292929"},g.kg("snippetFinalTabstopHighlightBorder","Highlight border color of the final tabstop of a snippet.")),Ni=new o.Q1(new o.bU(155,185,85,.2)),fi=new o.Q1(new o.bU(255,0,0,.2)),Pn=v("diffEditor.insertedTextBackground",{dark:"#9ccc2c33",light:"#9ccc2c40",hcDark:null,hcLight:null},g.kg("diffEditorInserted","Background color for text that got inserted. The color must not be opaque so as not to hide underlying decorations."),!0),wi=v("diffEditor.removedTextBackground",{dark:"#ff000033",light:"#ff000033",hcDark:null,hcLight:null},g.kg("diffEditorRemoved","Background color for text that got removed. The color must not be opaque so as not to hide underlying decorations."),!0),Gi=v("diffEditor.insertedLineBackground",{dark:Ni,light:Ni,hcDark:null,hcLight:null},g.kg("diffEditorInsertedLines","Background color for lines that got inserted. The color must not be opaque so as not to hide underlying decorations."),!0),yi=v("diffEditor.removedLineBackground",{dark:fi,light:fi,hcDark:null,hcLight:null},g.kg("diffEditorRemovedLines","Background color for lines that got removed. The color must not be opaque so as not to hide underlying decorations."),!0),Ti=v("diffEditorGutter.insertedLineBackground",null,g.kg("diffEditorInsertedLineGutter","Background color for the margin where lines got inserted.")),Jn=v("diffEditorGutter.removedLineBackground",null,g.kg("diffEditorRemovedLineGutter","Background color for the margin where lines got removed.")),Di=v("diffEditorOverview.insertedForeground",null,g.kg("diffEditorOverviewInserted","Diff overview ruler foreground for inserted content.")),gi=v("diffEditorOverview.removedForeground",null,g.kg("diffEditorOverviewRemoved","Diff overview ruler foreground for removed content.")),ti=v("diffEditor.insertedTextBorder",{dark:null,light:null,hcDark:"#33ff2eff",hcLight:"#374E06"},g.kg("diffEditorInsertedOutline","Outline color for the text that got inserted.")),qi=v("diffEditor.removedTextBorder",{dark:null,light:null,hcDark:"#FF008F",hcLight:"#AD0707"},g.kg("diffEditorRemovedOutline","Outline color for text that got removed.")),Si=v("diffEditor.border",{dark:null,light:null,hcDark:ue,hcLight:ue},g.kg("diffEditorBorder","Border color between the two text editors.")),mi=v("diffEditor.diagonalFill",{dark:"#cccccc33",light:"#22222233",hcDark:null,hcLight:null},g.kg("diffDiagonalFill","Color of the diff editor's diagonal fill. The diagonal fill is used in side-by-side diff views.")),Fe=v("diffEditor.unchangedRegionBackground","sideBar.background",g.kg("diffEditor.unchangedRegionBackground","The background color of unchanged blocks in the diff editor.")),q=v("diffEditor.unchangedRegionForeground","foreground",g.kg("diffEditor.unchangedRegionForeground","The foreground color of unchanged blocks in the diff editor.")),xe=v("diffEditor.unchangedCodeBackground",{dark:"#74747429",light:"#b8b8b829",hcDark:null,hcLight:null},g.kg("diffEditor.unchangedCodeBackground","The background color of unchanged code in the diff editor.")),se=v("widget.shadow",{dark:W(o.Q1.black,.36),light:W(o.Q1.black,.16),hcDark:null,hcLight:null},g.kg("widgetShadow","Shadow color of widgets such as find/replace inside the editor.")),lt=v("widget.border",{dark:null,light:null,hcDark:ue,hcLight:ue},g.kg("widgetBorder","Border color of widgets such as find/replace inside the editor.")),vt=v("toolbar.hoverBackground",{dark:"#5a5d5e50",light:"#b8b8b850",hcDark:null,hcLight:null},g.kg("toolbarHoverBackground","Toolbar background when hovering over actions using the mouse")),Pt=v("toolbar.hoverOutline",{dark:null,light:null,hcDark:Te,hcLight:Te},g.kg("toolbarHoverOutline","Toolbar outline when hovering over actions using the mouse")),ln=v("toolbar.activeBackground",{dark:y(vt,.1),light:J(vt,.1),hcDark:null,hcLight:null},g.kg("toolbarActiveBackground","Toolbar background when holding the mouse over actions")),Wn=v("breadcrumb.foreground",W(b,.8),g.kg("breadcrumbsFocusForeground","Color of focused breadcrumb items.")),pi=v("breadcrumb.background",Ut,g.kg("breadcrumbsBackground","Background color of breadcrumb items.")),tn=v("breadcrumb.focusForeground",{light:J(b,.2),dark:y(b,.1),hcDark:y(b,.1),hcLight:y(b,.1)},g.kg("breadcrumbsFocusForeground","Color of focused breadcrumb items.")),Hn=v("breadcrumb.activeSelectionForeground",{light:J(b,.2),dark:y(b,.1),hcDark:y(b,.1),hcLight:y(b,.1)},g.kg("breadcrumbsSelectedForeground","Color of selected breadcrumb items.")),Kn=v("breadcrumbPicker.background",pn,g.kg("breadcrumbsSelectedBackground","Background color of breadcrumb item picker.")),ii=.5,it=o.Q1.fromHex("#40C8AE").transparent(ii),Bi=o.Q1.fromHex("#40A6FF").transparent(ii),Ei=o.Q1.fromHex("#606060").transparent(.4),Pi=.4,Xn=1,Ri=v("merge.currentHeaderBackground",{dark:it,light:it,hcDark:null,hcLight:null},g.kg("mergeCurrentHeaderBackground","Current header background in inline merge-conflicts. The color must not be opaque so as not to hide underlying decorations."),!0),xr=v("merge.currentContentBackground",W(Ri,Pi),g.kg("mergeCurrentContentBackground","Current content background in inline merge-conflicts. The color must not be opaque so as not to hide underlying decorations."),!0),Vi=v("merge.incomingHeaderBackground",{dark:Bi,light:Bi,hcDark:null,hcLight:null},g.kg("mergeIncomingHeaderBackground","Incoming header background in inline merge-conflicts. The color must not be opaque so as not to hide underlying decorations."),!0),wr=v("merge.incomingContentBackground",W(Vi,Pi),g.kg("mergeIncomingContentBackground","Incoming content background in inline merge-conflicts. The color must not be opaque so as not to hide underlying decorations."),!0),bi=v("merge.commonHeaderBackground",{dark:Ei,light:Ei,hcDark:null,hcLight:null},g.kg("mergeCommonHeaderBackground","Common ancestor header background in inline merge-conflicts. The color must not be opaque so as not to hide underlying decorations."),!0),lr=v("merge.commonContentBackground",W(bi,Pi),g.kg("mergeCommonContentBackground","Common ancestor content background in inline merge-conflicts. The color must not be opaque so as not to hide underlying decorations."),!0),zn=v("merge.border",{dark:null,light:null,hcDark:"#C3DF6F",hcLight:"#007ACC"},g.kg("mergeBorder","Border color on headers and the splitter in inline merge-conflicts.")),Vn=v("editorOverviewRuler.currentContentForeground",{dark:W(Ri,Xn),light:W(Ri,Xn),hcDark:zn,hcLight:zn},g.kg("overviewRulerCurrentContentForeground","Current overview ruler foreground for inline merge-conflicts.")),er=v("editorOverviewRuler.incomingContentForeground",{dark:W(Vi,Xn),light:W(Vi,Xn),hcDark:zn,hcLight:zn},g.kg("overviewRulerIncomingContentForeground","Incoming overview ruler foreground for inline merge-conflicts.")),yr=v("editorOverviewRuler.commonContentForeground",{dark:W(bi,Xn),light:W(bi,Xn),hcDark:zn,hcLight:zn},g.kg("overviewRulerCommonContentForeground","Common ancestor overview ruler foreground for inline merge-conflicts.")),ur=v("editorOverviewRuler.findMatchForeground",{dark:"#d186167e",light:"#d186167e",hcDark:"#AB5A00",hcLight:"#AB5A00"},g.kg("overviewRulerFindMatchForeground","Overview ruler marker color for find matches. The color must not be opaque so as not to hide underlying decorations."),!0),Qi=v("editorOverviewRuler.selectionHighlightForeground","#A0A0A0CC",g.kg("overviewRulerSelectionHighlightForeground","Overview ruler marker color for selection highlights. The color must not be opaque so as not to hide underlying decorations."),!0),Wi=v("problemsErrorIcon.foreground",wn,g.kg("problemsErrorIconForeground","The color used for the problems error icon.")),$n=v("problemsWarningIcon.foreground",gn,g.kg("problemsWarningIconForeground","The color used for the problems warning icon.")),Sr=v("problemsInfoIcon.foreground",$e,g.kg("problemsInfoIconForeground","The color used for the problems info icon.")),Gn=v("minimap.findMatchHighlight",{light:"#d18616",dark:"#d18616",hcDark:"#AB5A00",hcLight:"#0F4A85"},g.kg("minimapFindMatchHighlight","Minimap marker color for find matches."),!0),Ji=v("minimap.selectionOccurrenceHighlight",{light:"#c9c9c9",dark:"#676767",hcDark:"#ffffff",hcLight:"#0F4A85"},g.kg("minimapSelectionOccurrenceHighlight","Minimap marker color for repeating editor selections."),!0),Oi=v("minimap.selectionHighlight",{light:"#ADD6FF",dark:"#264F78",hcDark:"#ffffff",hcLight:"#0F4A85"},g.kg("minimapSelectionHighlight","Minimap marker color for the editor selection."),!0),Er=v("minimap.infoHighlight",{dark:$e,light:$e,hcDark:i,hcLight:i},g.kg("minimapInfo","Minimap marker color for infos.")),tr=v("minimap.warningHighlight",{dark:gn,light:gn,hcDark:Tn,hcLight:Tn},g.kg("overviewRuleWarning","Minimap marker color for warnings.")),On=v("minimap.errorHighlight",{dark:new o.Q1(new o.bU(255,18,18,.7)),light:new o.Q1(new o.bU(255,18,18,.7)),hcDark:new o.Q1(new o.bU(255,50,50,1)),hcLight:"#B5200D"},g.kg("minimapError","Minimap marker color for errors.")),zr=v("minimap.background",null,g.kg("minimapBackground","Minimap background color.")),Me=v("minimap.foregroundOpacity",o.Q1.fromHex("#000f"),g.kg("minimapForegroundOpacity",'Opacity of foreground elements rendered in the minimap. For example, "#000000c0" will render the elements with 75% opacity.')),p=v("minimapSlider.background",W(ft,.5),g.kg("minimapSliderBackground","Minimap slider background color.")),k=v("minimapSlider.hoverBackground",W(ot,.5),g.kg("minimapSliderHoverBackground","Minimap slider background color when hovering.")),H=v("minimapSlider.activeBackground",W(kt,.5),g.kg("minimapSliderActiveBackground","Minimap slider background color when clicked on.")),re=v("charts.foreground",b,g.kg("chartsForeground","The foreground color used in charts.")),ae=v("charts.lines",W(b,.5),g.kg("chartsLines","The color used for horizontal lines in charts.")),_e=v("charts.red",wn,g.kg("chartsRed","The red color used in chart visualizations.")),Ie=v("charts.blue",$e,g.kg("chartsBlue","The blue color used in chart visualizations.")),Ee=v("charts.yellow",gn,g.kg("chartsYellow","The yellow color used in chart visualizations.")),De=v("charts.orange",Gn,g.kg("chartsOrange","The orange color used in chart visualizations.")),Qe=v("charts.green",{dark:"#89D185",light:"#388A34",hcDark:"#89D185",hcLight:"#374e06"},g.kg("chartsGreen","The green color used in chart visualizations.")),Ke=v("charts.purple",{dark:"#B180D7",light:"#652D90",hcDark:"#B180D7",hcLight:"#652D90"},g.kg("chartsPurple","The purple color used in chart visualizations.")),et=v("input.background",{dark:"#3C3C3C",light:o.Q1.white,hcDark:o.Q1.black,hcLight:o.Q1.white},g.kg("inputBoxBackground","Input box background.")),st=v("input.foreground",b,g.kg("inputBoxForeground","Input box foreground.")),gt=v("input.border",{dark:null,light:null,hcDark:ue,hcLight:ue},g.kg("inputBoxBorder","Input box border.")),_t=v("inputOption.activeBorder",{dark:"#007ACC",light:"#007ACC",hcDark:ue,hcLight:ue},g.kg("inputBoxActiveOptionBorder","Border color of activated options in input fields.")),Rt=v("inputOption.hoverBackground",{dark:"#5a5d5e80",light:"#b8b8b850",hcDark:null,hcLight:null},g.kg("inputOption.hoverBackground","Background color of activated options in input fields.")),Et=v("inputOption.activeBackground",{dark:W(fe,.4),light:W(fe,.2),hcDark:o.Q1.transparent,hcLight:o.Q1.transparent},g.kg("inputOption.activeBackground","Background hover color of options in input fields.")),Xt=v("inputOption.activeForeground",{dark:o.Q1.white,light:o.Q1.black,hcDark:b,hcLight:b},g.kg("inputOption.activeForeground","Foreground color of activated options in input fields.")),Vt=v("input.placeholderForeground",{light:W(b,.5),dark:W(b,.5),hcDark:W(b,.7),hcLight:W(b,.7)},g.kg("inputPlaceholderForeground","Input box foreground color for placeholder text.")),Yt=v("inputValidation.infoBackground",{dark:"#063B49",light:"#D6ECF2",hcDark:o.Q1.black,hcLight:o.Q1.white},g.kg("inputValidationInfoBackground","Input validation background color for information severity.")),zt=v("inputValidation.infoForeground",{dark:null,light:null,hcDark:null,hcLight:b},g.kg("inputValidationInfoForeground","Input validation foreground color for information severity.")),en=v("inputValidation.infoBorder",{dark:"#007acc",light:"#007acc",hcDark:ue,hcLight:ue},g.kg("inputValidationInfoBorder","Input validation border color for information severity.")),jt=v("inputValidation.warningBackground",{dark:"#352A05",light:"#F6F5D2",hcDark:o.Q1.black,hcLight:o.Q1.white},g.kg("inputValidationWarningBackground","Input validation background color for warning severity.")),Dt=v("inputValidation.warningForeground",{dark:null,light:null,hcDark:null,hcLight:b},g.kg("inputValidationWarningForeground","Input validation foreground color for warning severity.")),on=v("inputValidation.warningBorder",{dark:"#B89500",light:"#B89500",hcDark:ue,hcLight:ue},g.kg("inputValidationWarningBorder","Input validation border color for warning severity.")),rn=v("inputValidation.errorBackground",{dark:"#5A1D1D",light:"#F2DEDE",hcDark:o.Q1.black,hcLight:o.Q1.white},g.kg("inputValidationErrorBackground","Input validation background color for error severity.")),Sn=v("inputValidation.errorForeground",{dark:null,light:null,hcDark:null,hcLight:b},g.kg("inputValidationErrorForeground","Input validation foreground color for error severity.")),hn=v("inputValidation.errorBorder",{dark:"#BE1100",light:"#BE1100",hcDark:ue,hcLight:ue},g.kg("inputValidationErrorBorder","Input validation border color for error severity.")),Mi=v("dropdown.background",{dark:"#3C3C3C",light:o.Q1.white,hcDark:o.Q1.black,hcLight:o.Q1.white},g.kg("dropdownBackground","Dropdown background.")),_s=v("dropdown.listBackground",{dark:null,light:null,hcDark:o.Q1.black,hcLight:o.Q1.white},g.kg("dropdownListBackground","Dropdown list background.")),ls=v("dropdown.foreground",{dark:"#F0F0F0",light:b,hcDark:o.Q1.white,hcLight:b},g.kg("dropdownForeground","Dropdown foreground.")),Ar=v("dropdown.border",{dark:Mi,light:"#CECECE",hcDark:ue,hcLight:ue},g.kg("dropdownBorder","Dropdown border.")),us=v("button.foreground",o.Q1.white,g.kg("buttonForeground","Button foreground color.")),vs=v("button.separator",W(us,.4),g.kg("buttonSeparator","Button separator color.")),cr=v("button.background",{dark:"#0E639C",light:"#007ACC",hcDark:null,hcLight:"#0F4A85"},g.kg("buttonBackground","Button background color.")),Ht=v("button.hoverBackground",{dark:y(cr,.2),light:J(cr,.2),hcDark:cr,hcLight:cr},g.kg("buttonHoverBackground","Button background color when hovering.")),Mr=v("button.border",ue,g.kg("buttonBorder","Button border color.")),jr=v("button.secondaryForeground",{dark:o.Q1.white,light:o.Q1.white,hcDark:o.Q1.white,hcLight:b},g.kg("buttonSecondaryForeground","Secondary button foreground color.")),hr=v("button.secondaryBackground",{dark:"#3A3D41",light:"#5F6A79",hcDark:null,hcLight:o.Q1.white},g.kg("buttonSecondaryBackground","Secondary button background color.")),Os=v("button.secondaryHoverBackground",{dark:y(hr,.2),light:J(hr,.2),hcDark:null,hcLight:null},g.kg("buttonSecondaryHoverBackground","Secondary button background color when hovering.")),Ir=v("radio.activeForeground",Xt,g.kg("radioActiveForeground","Foreground color of active radio option.")),qn=v("radio.activeBackground",Et,g.kg("radioBackground","Background color of active radio option.")),Yr=v("radio.activeBorder",_t,g.kg("radioActiveBorder","Border color of the active radio option.")),Ms=v("radio.inactiveForeground",null,g.kg("radioInactiveForeground","Foreground color of inactive radio option.")),Fs=v("radio.inactiveBackground",null,g.kg("radioInactiveBackground","Background color of inactive radio option.")),Ps=v("radio.inactiveBorder",{light:W(Ir,.2),dark:W(Ir,.2),hcDark:W(Ir,.4),hcLight:W(Ir,.2)},g.kg("radioInactiveBorder","Border color of the inactive radio option.")),ks=v("radio.inactiveHoverBackground",Rt,g.kg("radioHoverBackground","Background color of inactive active radio option when hovering.")),Vs=v("checkbox.background",Mi,g.kg("checkbox.background","Background color of checkbox widget.")),cs=v("checkbox.selectBackground",pn,g.kg("checkbox.select.background","Background color of checkbox widget when the element it's in is selected.")),Ls=v("checkbox.foreground",ls,g.kg("checkbox.foreground","Foreground color of checkbox widget.")),Zr=v("checkbox.border",Ar,g.kg("checkbox.border","Border color of checkbox widget.")),Hr=v("checkbox.selectBorder",ee,g.kg("checkbox.select.border","Border color of checkbox widget when the element it's in is selected.")),$r=v("keybindingLabel.background",{dark:new o.Q1(new o.bU(128,128,128,.17)),light:new o.Q1(new o.bU(221,221,221,.4)),hcDark:o.Q1.transparent,hcLight:o.Q1.transparent},g.kg("keybindingLabelBackground","Keybinding label background color. The keybinding label is used to represent a keyboard shortcut.")),Cs=v("keybindingLabel.foreground",{dark:o.Q1.fromHex("#CCCCCC"),light:o.Q1.fromHex("#555555"),hcDark:o.Q1.white,hcLight:b},g.kg("keybindingLabelForeground","Keybinding label foreground color. The keybinding label is used to represent a keyboard shortcut.")),Xi=v("keybindingLabel.border",{dark:new o.Q1(new o.bU(51,51,51,.6)),light:new o.Q1(new o.bU(204,204,204,.4)),hcDark:new o.Q1(new o.bU(111,195,223)),hcLight:ue},g.kg("keybindingLabelBorder","Keybinding label border color. The keybinding label is used to represent a keyboard shortcut.")),dr=v("keybindingLabel.bottomBorder",{dark:new o.Q1(new o.bU(68,68,68,.6)),light:new o.Q1(new o.bU(187,187,187,.4)),hcDark:new o.Q1(new o.bU(111,195,223)),hcLight:b},g.kg("keybindingLabelBottomBorder","Keybinding label border bottom color. The keybinding label is used to represent a keyboard shortcut.")),Ws=v("list.focusBackground",null,g.kg("listFocusBackground","List/Tree background color for the focused item when the list/tree is active. An active list/tree has keyboard focus, an inactive does not.")),Gr=v("list.focusForeground",null,g.kg("listFocusForeground","List/Tree foreground color for the focused item when the list/tree is active. An active list/tree has keyboard focus, an inactive does not.")),Wt=v("list.focusOutline",{dark:fe,light:fe,hcDark:Te,hcLight:Te},g.kg("listFocusOutline","List/Tree outline color for the focused item when the list/tree is active. An active list/tree has keyboard focus, an inactive does not.")),hs=v("list.focusAndSelectionOutline",null,g.kg("listFocusAndSelectionOutline","List/Tree outline color for the focused item when the list/tree is active and selected. An active list/tree has keyboard focus, an inactive does not.")),Nr=v("list.activeSelectionBackground",{dark:"#04395E",light:"#0060C0",hcDark:null,hcLight:o.Q1.fromHex("#0F4A85").transparent(.1)},g.kg("listActiveSelectionBackground","List/Tree background color for the selected item when the list/tree is active. An active list/tree has keyboard focus, an inactive does not.")),fr=v("list.activeSelectionForeground",{dark:o.Q1.white,light:o.Q1.white,hcDark:null,hcLight:null},g.kg("listActiveSelectionForeground","List/Tree foreground color for the selected item when the list/tree is active. An active list/tree has keyboard focus, an inactive does not.")),Kr=v("list.activeSelectionIconForeground",null,g.kg("listActiveSelectionIconForeground","List/Tree icon foreground color for the selected item when the list/tree is active. An active list/tree has keyboard focus, an inactive does not.")),ds=v("list.inactiveSelectionBackground",{dark:"#37373D",light:"#E4E6F1",hcDark:null,hcLight:o.Q1.fromHex("#0F4A85").transparent(.1)},g.kg("listInactiveSelectionBackground","List/Tree background color for the selected item when the list/tree is inactive. An active list/tree has keyboard focus, an inactive does not.")),Fr=v("list.inactiveSelectionForeground",null,g.kg("listInactiveSelectionForeground","List/Tree foreground color for the selected item when the list/tree is inactive. An active list/tree has keyboard focus, an inactive does not.")),qr=v("list.inactiveSelectionIconForeground",null,g.kg("listInactiveSelectionIconForeground","List/Tree icon foreground color for the selected item when the list/tree is inactive. An active list/tree has keyboard focus, an inactive does not.")),nr=v("list.inactiveFocusBackground",null,g.kg("listInactiveFocusBackground","List/Tree background color for the focused item when the list/tree is inactive. An active list/tree has keyboard focus, an inactive does not.")),ir=v("list.inactiveFocusOutline",null,g.kg("listInactiveFocusOutline","List/Tree outline color for the focused item when the list/tree is inactive. An active list/tree has keyboard focus, an inactive does not.")),_i=v("list.hoverBackground",{dark:"#2A2D2E",light:"#F0F0F0",hcDark:o.Q1.white.transparent(.1),hcLight:o.Q1.fromHex("#0F4A85").transparent(.1)},g.kg("listHoverBackground","List/Tree background when hovering over items using the mouse.")),Yi=v("list.hoverForeground",null,g.kg("listHoverForeground","List/Tree foreground when hovering over items using the mouse.")),Yn=v("list.dropBackground",{dark:"#062F4A",light:"#D6EBFF",hcDark:null,hcLight:null},g.kg("listDropBackground","List/Tree drag and drop background when moving items over other items when using the mouse.")),vi=v("list.dropBetweenBackground",{dark:ee,light:ee,hcDark:null,hcLight:null},g.kg("listDropBetweenBackground","List/Tree drag and drop border color when moving items between items when using the mouse.")),Ui=v("list.highlightForeground",{dark:"#2AAAFF",light:"#0066BF",hcDark:fe,hcLight:fe},g.kg("highlight","List/Tree foreground color of the match highlights when searching inside the list/tree.")),gr=v("list.focusHighlightForeground",{dark:Ui,light:we(Nr,Ui,"#BBE7FF"),hcDark:Ui,hcLight:Ui},g.kg("listFocusHighlightForeground","List/Tree foreground color of the match highlights on actively focused items when searching inside the list/tree.")),ki=v("list.invalidItemForeground",{dark:"#B89500",light:"#B89500",hcDark:"#B89500",hcLight:"#B5200D"},g.kg("invalidItemForeground","List/Tree foreground color for invalid items, for example an unresolved root in explorer.")),Pr=v("list.errorForeground",{dark:"#F88070",light:"#B01011",hcDark:null,hcLight:null},g.kg("listErrorForeground","Foreground color of list items containing errors.")),Un=v("list.warningForeground",{dark:"#CCA700",light:"#855F00",hcDark:null,hcLight:null},g.kg("listWarningForeground","Foreground color of list items containing warnings.")),ui=v("listFilterWidget.background",{light:J(pn,0),dark:y(pn,0),hcDark:pn,hcLight:pn},g.kg("listFilterWidgetBackground","Background color of the type filter widget in lists and trees.")),mr=v("listFilterWidget.outline",{dark:o.Q1.transparent,light:o.Q1.transparent,hcDark:"#f38518",hcLight:"#007ACC"},g.kg("listFilterWidgetOutline","Outline color of the type filter widget in lists and trees.")),pr=v("listFilterWidget.noMatchesOutline",{dark:"#BE1100",light:"#BE1100",hcDark:ue,hcLight:ue},g.kg("listFilterWidgetNoMatchesOutline","Outline color of the type filter widget in lists and trees, when there are no matches.")),br=v("listFilterWidget.shadow",se,g.kg("listFilterWidgetShadow","Shadow color of the type filter widget in lists and trees.")),rr=v("list.filterMatchBackground",{dark:cn,light:cn,hcDark:null,hcLight:null},g.kg("listFilterMatchHighlight","Background color of the filtered match.")),_r=v("list.filterMatchBorder",{dark:ct,light:ct,hcDark:ue,hcLight:Te},g.kg("listFilterMatchHighlightBorder","Border color of the filtered match.")),sr=v("list.deemphasizedForeground",{dark:"#8C8C8C",light:"#8E8E90",hcDark:"#A7A8A9",hcLight:"#666666"},g.kg("listDeemphasizedForeground","List/Tree foreground color for items that are deemphasized.")),Zi=v("tree.indentGuidesStroke",{dark:"#585858",light:"#a9a9a9",hcDark:"#a9a9a9",hcLight:"#a5a5a5"},g.kg("treeIndentGuidesStroke","Tree stroke color for the indentation guides.")),zi=v("tree.inactiveIndentGuidesStroke",W(Zi,.4),g.kg("treeInactiveIndentGuidesStroke","Tree stroke color for the indentation guides that are not active.")),Tr=v("tree.tableColumnsBorder",{dark:"#CCCCCC20",light:"#61616120",hcDark:null,hcLight:null},g.kg("tableColumnsBorder","Table border color between columns.")),Vr=v("tree.tableOddRowsBackground",{dark:W(b,.04),light:W(b,.04),hcDark:null,hcLight:null},g.kg("tableOddRowsBackgroundColor","Background color for odd table rows.")),ri=v("editorActionList.background",pn,g.kg("editorActionListBackground","Action List background color.")),Wr=v("editorActionList.foreground",dn,g.kg("editorActionListForeground","Action List foreground color.")),Qr=v("editorActionList.focusForeground",fr,g.kg("editorActionListFocusForeground","Action List foreground color for the focused item.")),Ur=v("editorActionList.focusBackground",Nr,g.kg("editorActionListFocusBackground","Action List background color for the focused item.")),vr=v("menu.border",{dark:null,light:null,hcDark:ue,hcLight:ue},g.kg("menuBorder","Border color of menus.")),a=v("menu.foreground",ls,g.kg("menuForeground","Foreground color of menu items.")),u=v("menu.background",Mi,g.kg("menuBackground","Background color of menu items.")),h=v("menu.selectionForeground",fr,g.kg("menuSelectionForeground","Foreground color of the selected menu item in menus.")),c=v("menu.selectionBackground",Nr,g.kg("menuSelectionBackground","Background color of the selected menu item in menus.")),d=v("menu.selectionBorder",{dark:null,light:null,hcDark:Te,hcLight:Te},g.kg("menuSelectionBorder","Border color of the selected menu item in menus.")),x=v("menu.separatorBackground",{dark:"#606060",light:"#D4D4D4",hcDark:ue,hcLight:ue},g.kg("menuSeparatorBackground","Color of a separator menu item in menus.")),te=v("quickInput.background",pn,g.kg("pickerBackground","Quick picker background color. The quick picker widget is the container for pickers like the command palette.")),pe=v("quickInput.foreground",dn,g.kg("pickerForeground","Quick picker foreground color. The quick picker widget is the container for pickers like the command palette.")),de=v("quickInputTitle.background",{dark:new o.Q1(new o.bU(255,255,255,.105)),light:new o.Q1(new o.bU(0,0,0,.06)),hcDark:"#000000",hcLight:o.Q1.white},g.kg("pickerTitleBackground","Quick picker title background color. The quick picker widget is the container for pickers like the command palette.")),oe=v("pickerGroup.foreground",{dark:"#3794FF",light:"#0066BF",hcDark:o.Q1.white,hcLight:"#0F4A85"},g.kg("pickerGroupForeground","Quick picker color for grouping labels.")),ke=v("pickerGroup.border",{dark:"#3F3F46",light:"#CCCEDB",hcDark:o.Q1.white,hcLight:"#0F4A85"},g.kg("pickerGroupBorder","Quick picker color for grouping borders.")),be=v("quickInput.list.focusBackground",null,"",void 0,g.kg("quickInput.list.focusBackground deprecation","Please use quickInputList.focusBackground instead")),Ae=v("quickInputList.focusForeground",fr,g.kg("quickInput.listFocusForeground","Quick picker foreground color for the focused item.")),Ne=v("quickInputList.focusIconForeground",Kr,g.kg("quickInput.listFocusIconForeground","Quick picker icon foreground color for the focused item.")),Re=v("quickInputList.focusBackground",{dark:me(be,Nr),light:me(be,Nr),hcDark:null,hcLight:null},g.kg("quickInput.listFocusBackground","Quick picker background color for the focused item.")),Ge=v("search.resultsInfoForeground",{light:b,dark:W(b,.65),hcDark:b,hcLight:b},g.kg("search.resultsInfoForeground","Color of the text in the search viewlet's completion message.")),Je=v("searchEditor.findMatchBackground",{light:W(cn,.66),dark:W(cn,.66),hcDark:cn,hcLight:cn},g.kg("searchEditor.queryMatch","Color of the Search Editor query matches.")),nt=v("searchEditor.findMatchBorder",{light:W(ct,.66),dark:W(ct,.66),hcDark:ct,hcLight:ct},g.kg("searchEditor.editorFindMatchBorder","Border color of the Search Editor query matches."))},5295:(Lt,Pe,E)=>{"use strict";E.d(Pe,{Gy:n(()=>Y,"Gy"),zy:n(()=>z,"zy"),Yf:n(()=>O,"Yf")});var F=E(2106),ie=E(9235),o=E(2399),K=E(7167),Q;(function(J){J.DARK="dark",J.LIGHT="light",J.HIGH_CONTRAST_DARK="hcDark",J.HIGH_CONTRAST_LIGHT="hcLight"})(Q||(Q={}));function N(J){return J===Q.HIGH_CONTRAST_DARK||J===Q.HIGH_CONTRAST_LIGHT}n(N,"isHighContrast");function g(J){return J===Q.DARK||J===Q.HIGH_CONTRAST_DARK}n(g,"isDark");const Y=(0,o.u1)("themeService");function O(J){return{id:J}}n(O,"themeColorFromId");function ne(J){switch(J){case ColorScheme.DARK:return"vs-dark";case ColorScheme.HIGH_CONTRAST_DARK:return"hc-black";case ColorScheme.HIGH_CONTRAST_LIGHT:return"hc-light";default:return"vs"}}n(ne,"getThemeTypeSelector");const B={ThemingContribution:"base.contributions.theming"},v=class v{constructor(){this.themingParticipants=[],this.themingParticipants=[],this.onThemingParticipantAddedEmitter=new F.vl}onColorThemeChange(y){return this.themingParticipants.push(y),this.onThemingParticipantAddedEmitter.fire(y),(0,ie.s)(()=>{const W=this.themingParticipants.indexOf(y);this.themingParticipants.splice(W,1)})}getThemingParticipants(){return this.themingParticipants}};n(v,"ThemingRegistry");let $=v;const j=new $;K.O.add(B.ThemingContribution,j);function z(J){return j.onColorThemeChange(J)}n(z,"registerThemingParticipant");const ce=class ce extends ie.jG{constructor(y){super(),this.themeService=y,this.theme=y.getColorTheme(),this._register(this.themeService.onDidColorThemeChange(W=>this.onThemeChange(W)))}onThemeChange(y){this.theme=y,this.updateStyles()}updateStyles(){}};n(ce,"Themable");let U=ce}},Ki={};function Ii(Lt){var Pe=Ki[Lt];if(Pe!==void 0)return Pe.exports;var E=Ki[Lt]={exports:{}};return Or[Lt](E,E.exports,Ii),E.exports}n(Ii,"__webpack_require__"),Ii.d=(Lt,Pe)=>{for(var E in Pe)Ii.o(Pe,E)&&!Ii.o(Lt,E)&&Object.defineProperty(Lt,E,{enumerable:!0,get:Pe[E]})},Ii.e=()=>Promise.resolve(),Ii.o=(Lt,Pe)=>Object.prototype.hasOwnProperty.call(Lt,Pe),Ii.r=Lt=>{typeof Symbol!="undefined"&&Symbol.toStringTag&&Object.defineProperty(Lt,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(Lt,"__esModule",{value:!0})};var El={};(()=>{"use strict";var nr,ir,_i,Yi,Yn,vi,Ui,gr,ki,Pr,Un,ui,mr,pr,br,rr,_r,sr,Zi,zi,Tr,Vr,ri,Wr,Qr,Ur,vr;var Lt=Ii(5585),Pe=Ii(7798),E=Ii(6358);let F=!1;function ie(a){if(F)return;F=!0;const u=new Lt.SimpleWorkerServer(h=>{globalThis.postMessage(h)},h=>new Pe.EditorSimpleWorker(E.EditorWorkerHost.getChannel(h),a));globalThis.onmessage=h=>{u.onmessage(h.data)}}n(ie,"initialize"),globalThis.onmessage=a=>{F||ie(null)};/*!-----------------------------------------------------------------------------
 * Copyright (c) Microsoft Corporation. All rights reserved.
 * Version: 0.52.2(404545bded1df6ffa41ea0af4e8ddb219018c6c1)
 * Released under the MIT license
 * https://github.com/microsoft/monaco-editor/blob/main/LICENSE.txt
 *-----------------------------------------------------------------------------*/function o(a,u=!1){const h=a.length;let c=0,d="",x=0,te=16,pe=0,de=0,oe=0,ke=0,be=0;function Ae(Le,qe){let Ze=0,ht=0;for(;Ze<Le||!qe;){let bt=a.charCodeAt(c);if(bt>=48&&bt<=57)ht=ht*16+bt-48;else if(bt>=65&&bt<=70)ht=ht*16+bt-65+10;else if(bt>=97&&bt<=102)ht=ht*16+bt-97+10;else break;c++,Ze++}return Ze<Le&&(ht=-1),ht}n(Ae,"scanHexDigits");function Ne(Le){c=Le,d="",x=0,te=16,be=0}n(Ne,"setPosition");function Re(){let Le=c;if(a.charCodeAt(c)===48)c++;else for(c++;c<a.length&&N(a.charCodeAt(c));)c++;if(c<a.length&&a.charCodeAt(c)===46)if(c++,c<a.length&&N(a.charCodeAt(c)))for(c++;c<a.length&&N(a.charCodeAt(c));)c++;else return be=3,a.substring(Le,c);let qe=c;if(c<a.length&&(a.charCodeAt(c)===69||a.charCodeAt(c)===101))if(c++,(c<a.length&&a.charCodeAt(c)===43||a.charCodeAt(c)===45)&&c++,c<a.length&&N(a.charCodeAt(c))){for(c++;c<a.length&&N(a.charCodeAt(c));)c++;qe=c}else be=3;return a.substring(Le,qe)}n(Re,"scanNumber");function Ge(){let Le="",qe=c;for(;;){if(c>=h){Le+=a.substring(qe,c),be=2;break}const Ze=a.charCodeAt(c);if(Ze===34){Le+=a.substring(qe,c),c++;break}if(Ze===92){if(Le+=a.substring(qe,c),c++,c>=h){be=2;break}switch(a.charCodeAt(c++)){case 34:Le+='"';break;case 92:Le+="\\";break;case 47:Le+="/";break;case 98:Le+="\b";break;case 102:Le+="\f";break;case 110:Le+=`
`;break;case 114:Le+="\r";break;case 116:Le+="	";break;case 117:const bt=Ae(4,!0);bt>=0?Le+=String.fromCharCode(bt):be=4;break;default:be=5}qe=c;continue}if(Ze>=0&&Ze<=31)if(Q(Ze)){Le+=a.substring(qe,c),be=2;break}else be=6;c++}return Le}n(Ge,"scanString");function Je(){if(d="",be=0,x=c,de=pe,ke=oe,c>=h)return x=h,te=17;let Le=a.charCodeAt(c);if(K(Le)){do c++,d+=String.fromCharCode(Le),Le=a.charCodeAt(c);while(K(Le));return te=15}if(Q(Le))return c++,d+=String.fromCharCode(Le),Le===13&&a.charCodeAt(c)===10&&(c++,d+=`
`),pe++,oe=c,te=14;switch(Le){case 123:return c++,te=1;case 125:return c++,te=2;case 91:return c++,te=3;case 93:return c++,te=4;case 58:return c++,te=6;case 44:return c++,te=5;case 34:return c++,d=Ge(),te=10;case 47:const qe=c-1;if(a.charCodeAt(c+1)===47){for(c+=2;c<h&&!Q(a.charCodeAt(c));)c++;return d=a.substring(qe,c),te=12}if(a.charCodeAt(c+1)===42){c+=2;const Ze=h-1;let ht=!1;for(;c<Ze;){const bt=a.charCodeAt(c);if(bt===42&&a.charCodeAt(c+1)===47){c+=2,ht=!0;break}c++,Q(bt)&&(bt===13&&a.charCodeAt(c)===10&&c++,pe++,oe=c)}return ht||(c++,be=1),d=a.substring(qe,c),te=13}return d+=String.fromCharCode(Le),c++,te=16;case 45:if(d+=String.fromCharCode(Le),c++,c===h||!N(a.charCodeAt(c)))return te=16;case 48:case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:return d+=Re(),te=11;default:for(;c<h&&nt(Le);)c++,Le=a.charCodeAt(c);if(x!==c){switch(d=a.substring(x,c),d){case"true":return te=8;case"false":return te=9;case"null":return te=7}return te=16}return d+=String.fromCharCode(Le),c++,te=16}}n(Je,"scanNext");function nt(Le){if(K(Le)||Q(Le))return!1;switch(Le){case 125:case 93:case 123:case 91:case 34:case 58:case 44:case 47:return!1}return!0}n(nt,"isUnknownContentCharacter");function yt(){let Le;do Le=Je();while(Le>=12&&Le<=15);return Le}return n(yt,"scanNextNonTrivia"),{setPosition:Ne,getPosition:n(()=>c,"getPosition"),scan:u?yt:Je,getToken:n(()=>te,"getToken"),getTokenValue:n(()=>d,"getTokenValue"),getTokenOffset:n(()=>x,"getTokenOffset"),getTokenLength:n(()=>c-x,"getTokenLength"),getTokenStartLine:n(()=>de,"getTokenStartLine"),getTokenStartCharacter:n(()=>x-ke,"getTokenStartCharacter"),getTokenError:n(()=>be,"getTokenError")}}n(o,"createScanner");function K(a){return a===32||a===9}n(K,"isWhiteSpace");function Q(a){return a===10||a===13}n(Q,"isLineBreak");function N(a){return a>=48&&a<=57}n(N,"isDigit");var g;(function(a){a[a.lineFeed=10]="lineFeed",a[a.carriageReturn=13]="carriageReturn",a[a.space=32]="space",a[a._0=48]="_0",a[a._1=49]="_1",a[a._2=50]="_2",a[a._3=51]="_3",a[a._4=52]="_4",a[a._5=53]="_5",a[a._6=54]="_6",a[a._7=55]="_7",a[a._8=56]="_8",a[a._9=57]="_9",a[a.a=97]="a",a[a.b=98]="b",a[a.c=99]="c",a[a.d=100]="d",a[a.e=101]="e",a[a.f=102]="f",a[a.g=103]="g",a[a.h=104]="h",a[a.i=105]="i",a[a.j=106]="j",a[a.k=107]="k",a[a.l=108]="l",a[a.m=109]="m",a[a.n=110]="n",a[a.o=111]="o",a[a.p=112]="p",a[a.q=113]="q",a[a.r=114]="r",a[a.s=115]="s",a[a.t=116]="t",a[a.u=117]="u",a[a.v=118]="v",a[a.w=119]="w",a[a.x=120]="x",a[a.y=121]="y",a[a.z=122]="z",a[a.A=65]="A",a[a.B=66]="B",a[a.C=67]="C",a[a.D=68]="D",a[a.E=69]="E",a[a.F=70]="F",a[a.G=71]="G",a[a.H=72]="H",a[a.I=73]="I",a[a.J=74]="J",a[a.K=75]="K",a[a.L=76]="L",a[a.M=77]="M",a[a.N=78]="N",a[a.O=79]="O",a[a.P=80]="P",a[a.Q=81]="Q",a[a.R=82]="R",a[a.S=83]="S",a[a.T=84]="T",a[a.U=85]="U",a[a.V=86]="V",a[a.W=87]="W",a[a.X=88]="X",a[a.Y=89]="Y",a[a.Z=90]="Z",a[a.asterisk=42]="asterisk",a[a.backslash=92]="backslash",a[a.closeBrace=125]="closeBrace",a[a.closeBracket=93]="closeBracket",a[a.colon=58]="colon",a[a.comma=44]="comma",a[a.dot=46]="dot",a[a.doubleQuote=34]="doubleQuote",a[a.minus=45]="minus",a[a.openBrace=123]="openBrace",a[a.openBracket=91]="openBracket",a[a.plus=43]="plus",a[a.slash=47]="slash",a[a.formFeed=12]="formFeed",a[a.tab=9]="tab"})(g||(g={}));var Y=new Array(20).fill(0).map((a,u)=>" ".repeat(u)),O=200,ne={" ":{"\n":new Array(O).fill(0).map((a,u)=>`
`+" ".repeat(u)),"\r":new Array(O).fill(0).map((a,u)=>"\r"+" ".repeat(u)),"\r\n":new Array(O).fill(0).map((a,u)=>`\r
`+" ".repeat(u))},"	":{"\n":new Array(O).fill(0).map((a,u)=>`
`+"	".repeat(u)),"\r":new Array(O).fill(0).map((a,u)=>"\r"+"	".repeat(u)),"\r\n":new Array(O).fill(0).map((a,u)=>`\r
`+"	".repeat(u))}},B=[`
`,"\r",`\r
`];function $(a,u,h){var Ze;let c,d,x,te,pe;if(u){for(te=u.offset,pe=te+u.length,x=te;x>0&&!v(a,x-1);)x--;let ht=pe;for(;ht<a.length&&!v(a,ht);)ht++;d=a.substring(x,ht),c=z(d,h)}else d=a,c=0,x=0,te=0,pe=a.length;const de=U(h,a),oe=B.includes(de);let ke=0,be=0,Ae;h.insertSpaces?Ae=(Ze=Y[h.tabSize||4])!=null?Ze:j(Y[1],h.tabSize||4):Ae="	";const Ne=Ae==="	"?"	":" ";let Re=o(d,!1),Ge=!1;function Je(){if(ke>1)return j(de,ke)+j(Ae,c+be);const ht=Ae.length*(c+be);return!oe||ht>ne[Ne][de].length?de+j(Ae,c+be):ht<=0?de:ne[Ne][de][ht]}n(Je,"newLinesAndIndent");function nt(){let ht=Re.scan();for(ke=0;ht===15||ht===14;)ht===14&&h.keepLines?ke+=1:ht===14&&(ke=1),ht=Re.scan();return Ge=ht===16||Re.getTokenError()!==0,ht}n(nt,"scanNext");const yt=[];function Le(ht,bt,At){!Ge&&(!u||bt<pe&&At>te)&&a.substring(bt,At)!==ht&&yt.push({offset:bt,length:At-bt,content:ht})}n(Le,"addEdit");let qe=nt();if(h.keepLines&&ke>0&&Le(j(de,ke),0,0),qe!==17){let ht=Re.getTokenOffset()+x,bt=Ae.length*c<20&&h.insertSpaces?Y[Ae.length*c]:j(Ae,c);Le(bt,x,ht)}for(;qe!==17;){let ht=Re.getTokenOffset()+Re.getTokenLength()+x,bt=nt(),At="",Mt=!1;for(;ke===0&&(bt===12||bt===13);){let In=Re.getTokenOffset()+x;Le(Y[1],ht,In),ht=Re.getTokenOffset()+Re.getTokenLength()+x,Mt=bt===12,At=Mt?Je():"",bt=nt()}if(bt===2)qe!==1&&be--,h.keepLines&&ke>0||!h.keepLines&&qe!==1?At=Je():h.keepLines&&(At=Y[1]);else if(bt===4)qe!==3&&be--,h.keepLines&&ke>0||!h.keepLines&&qe!==3?At=Je():h.keepLines&&(At=Y[1]);else{switch(qe){case 3:case 1:be++,h.keepLines&&ke>0||!h.keepLines?At=Je():At=Y[1];break;case 5:h.keepLines&&ke>0||!h.keepLines?At=Je():At=Y[1];break;case 12:At=Je();break;case 13:ke>0?At=Je():Mt||(At=Y[1]);break;case 6:h.keepLines&&ke>0?At=Je():Mt||(At=Y[1]);break;case 10:h.keepLines&&ke>0?At=Je():bt===6&&!Mt&&(At="");break;case 7:case 8:case 9:case 11:case 2:case 4:h.keepLines&&ke>0?At=Je():(bt===12||bt===13)&&!Mt?At=Y[1]:bt!==5&&bt!==17&&(Ge=!0);break;case 16:Ge=!0;break}ke>0&&(bt===12||bt===13)&&(At=Je())}bt===17&&(h.keepLines&&ke>0?At=Je():At=h.insertFinalNewline?de:"");const Kt=Re.getTokenOffset()+x;Le(At,ht,Kt),qe=bt}return yt}n($,"format");function j(a,u){let h="";for(let c=0;c<u;c++)h+=a;return h}n(j,"repeat");function z(a,u){let h=0,c=0;const d=u.tabSize||4;for(;h<a.length;){let x=a.charAt(h);if(x===Y[1])c++;else if(x==="	")c+=d;else break;h++}return Math.floor(c/d)}n(z,"computeIndentLevel");function U(a,u){for(let h=0;h<u.length;h++){const c=u.charAt(h);if(c==="\r")return h+1<u.length&&u.charAt(h+1)===`
`?`\r
`:"\r";if(c===`
`)return`
`}return a&&a.eol||`
`}n(U,"getEOL");function v(a,u){return`\r
`.indexOf(a.charAt(u))!==-1}n(v,"isEOL");var ce;(function(a){a.DEFAULT={allowTrailingComma:!1}})(ce||(ce={}));function J(a,u=[],h=ce.DEFAULT){let c=null,d=[];const x=[];function te(de){Array.isArray(d)?d.push(de):c!==null&&(d[c]=de)}return n(te,"onValue"),Ue(a,{onObjectBegin:n(()=>{const de={};te(de),x.push(d),d=de,c=null},"onObjectBegin"),onObjectProperty:n(de=>{c=de},"onObjectProperty"),onObjectEnd:n(()=>{d=x.pop()},"onObjectEnd"),onArrayBegin:n(()=>{const de=[];te(de),x.push(d),d=de,c=null},"onArrayBegin"),onArrayEnd:n(()=>{d=x.pop()},"onArrayEnd"),onLiteralValue:te,onError:n((de,oe,ke)=>{u.push({error:de,offset:oe,length:ke})},"onError")},h),d[0]}n(J,"parse");function y(a){if(!a.parent||!a.parent.children)return[];const u=y(a.parent);if(a.parent.type==="property"){const h=a.parent.children[0].value;u.push(h)}else if(a.parent.type==="array"){const h=a.parent.children.indexOf(a);h!==-1&&u.push(h)}return u}n(y,"getNodePath");function W(a){switch(a.type){case"array":return a.children.map(W);case"object":const u=Object.create(null);for(let h of a.children){const c=h.children[1];c&&(u[h.children[0].value]=W(c))}return u;case"null":case"string":case"number":case"boolean":return a.value;default:return}}n(W,"getNodeValue");function me(a,u,h=!1){return u>=a.offset&&u<a.offset+a.length||h&&u===a.offset+a.length}n(me,"contains");function we(a,u,h=!1){if(me(a,u,h)){const c=a.children;if(Array.isArray(c))for(let d=0;d<c.length&&c[d].offset<=u;d++){const x=we(c[d],u,h);if(x)return x}return a}}n(we,"findNodeAtOffset");function Ue(a,u,h=ce.DEFAULT){const c=o(a,!1),d=[];function x(Qt){return Qt?()=>Qt(c.getTokenOffset(),c.getTokenLength(),c.getTokenStartLine(),c.getTokenStartCharacter()):()=>!0}n(x,"toNoArgVisit");function te(Qt){return Qt?()=>Qt(c.getTokenOffset(),c.getTokenLength(),c.getTokenStartLine(),c.getTokenStartCharacter(),()=>d.slice()):()=>!0}n(te,"toNoArgVisitWithPath");function pe(Qt){return Qt?Tt=>Qt(Tt,c.getTokenOffset(),c.getTokenLength(),c.getTokenStartLine(),c.getTokenStartCharacter()):()=>!0}n(pe,"toOneArgVisit");function de(Qt){return Qt?Tt=>Qt(Tt,c.getTokenOffset(),c.getTokenLength(),c.getTokenStartLine(),c.getTokenStartCharacter(),()=>d.slice()):()=>!0}n(de,"toOneArgVisitWithPath");const oe=te(u.onObjectBegin),ke=de(u.onObjectProperty),be=x(u.onObjectEnd),Ae=te(u.onArrayBegin),Ne=x(u.onArrayEnd),Re=de(u.onLiteralValue),Ge=pe(u.onSeparator),Je=x(u.onComment),nt=pe(u.onError),yt=h&&h.disallowComments,Le=h&&h.allowTrailingComma;function qe(){for(;;){const Qt=c.scan();switch(c.getTokenError()){case 4:Ze(14);break;case 5:Ze(15);break;case 3:Ze(13);break;case 1:yt||Ze(11);break;case 2:Ze(12);break;case 6:Ze(16);break}switch(Qt){case 12:case 13:yt?Ze(10):Je();break;case 16:Ze(1);break;case 15:case 14:break;default:return Qt}}}n(qe,"scanNext");function Ze(Qt,Tt=[],wt=[]){if(nt(Qt),Tt.length+wt.length>0){let Ft=c.getToken();for(;Ft!==17;){if(Tt.indexOf(Ft)!==-1){qe();break}else if(wt.indexOf(Ft)!==-1)break;Ft=qe()}}}n(Ze,"handleError");function ht(Qt){const Tt=c.getTokenValue();return Qt?Re(Tt):(ke(Tt),d.push(Tt)),qe(),!0}n(ht,"parseString");function bt(){switch(c.getToken()){case 11:const Qt=c.getTokenValue();let Tt=Number(Qt);isNaN(Tt)&&(Ze(2),Tt=0),Re(Tt);break;case 7:Re(null);break;case 8:Re(!0);break;case 9:Re(!1);break;default:return!1}return qe(),!0}n(bt,"parseLiteral");function At(){return c.getToken()!==10?(Ze(3,[],[2,5]),!1):(ht(!1),c.getToken()===6?(Ge(":"),qe(),In()||Ze(4,[],[2,5])):Ze(5,[],[2,5]),d.pop(),!0)}n(At,"parseProperty");function Mt(){oe(),qe();let Qt=!1;for(;c.getToken()!==2&&c.getToken()!==17;){if(c.getToken()===5){if(Qt||Ze(4,[],[]),Ge(","),qe(),c.getToken()===2&&Le)break}else Qt&&Ze(6,[],[]);At()||Ze(4,[],[2,5]),Qt=!0}return be(),c.getToken()!==2?Ze(7,[2],[]):qe(),!0}n(Mt,"parseObject");function Kt(){Ae(),qe();let Qt=!0,Tt=!1;for(;c.getToken()!==4&&c.getToken()!==17;){if(c.getToken()===5){if(Tt||Ze(4,[],[]),Ge(","),qe(),c.getToken()===4&&Le)break}else Tt&&Ze(6,[],[]);Qt?(d.push(0),Qt=!1):d[d.length-1]++,In()||Ze(4,[],[4,5]),Tt=!0}return Ne(),Qt||d.pop(),c.getToken()!==4?Ze(8,[4],[]):qe(),!0}n(Kt,"parseArray");function In(){switch(c.getToken()){case 3:return Kt();case 1:return Mt();case 10:return ht(!0);default:return bt()}}return n(In,"parseValue"),qe(),c.getToken()===17?h.allowEmptyContent?!0:(Ze(4,[],[]),!1):In()?(c.getToken()!==17&&Ze(9,[],[]),!0):(Ze(4,[],[]),!1)}n(Ue,"visit");var Ce=o,R;(function(a){a[a.None=0]="None",a[a.UnexpectedEndOfComment=1]="UnexpectedEndOfComment",a[a.UnexpectedEndOfString=2]="UnexpectedEndOfString",a[a.UnexpectedEndOfNumber=3]="UnexpectedEndOfNumber",a[a.InvalidUnicode=4]="InvalidUnicode",a[a.InvalidEscapeCharacter=5]="InvalidEscapeCharacter",a[a.InvalidCharacter=6]="InvalidCharacter"})(R||(R={}));var m;(function(a){a[a.OpenBraceToken=1]="OpenBraceToken",a[a.CloseBraceToken=2]="CloseBraceToken",a[a.OpenBracketToken=3]="OpenBracketToken",a[a.CloseBracketToken=4]="CloseBracketToken",a[a.CommaToken=5]="CommaToken",a[a.ColonToken=6]="ColonToken",a[a.NullKeyword=7]="NullKeyword",a[a.TrueKeyword=8]="TrueKeyword",a[a.FalseKeyword=9]="FalseKeyword",a[a.StringLiteral=10]="StringLiteral",a[a.NumericLiteral=11]="NumericLiteral",a[a.LineCommentTrivia=12]="LineCommentTrivia",a[a.BlockCommentTrivia=13]="BlockCommentTrivia",a[a.LineBreakTrivia=14]="LineBreakTrivia",a[a.Trivia=15]="Trivia",a[a.Unknown=16]="Unknown",a[a.EOF=17]="EOF"})(m||(m={}));var _=J,b=we,I=y,P=W,V;(function(a){a[a.InvalidSymbol=1]="InvalidSymbol",a[a.InvalidNumberFormat=2]="InvalidNumberFormat",a[a.PropertyNameExpected=3]="PropertyNameExpected",a[a.ValueExpected=4]="ValueExpected",a[a.ColonExpected=5]="ColonExpected",a[a.CommaExpected=6]="CommaExpected",a[a.CloseBraceExpected=7]="CloseBraceExpected",a[a.CloseBracketExpected=8]="CloseBracketExpected",a[a.EndOfFileExpected=9]="EndOfFileExpected",a[a.InvalidCommentToken=10]="InvalidCommentToken",a[a.UnexpectedEndOfComment=11]="UnexpectedEndOfComment",a[a.UnexpectedEndOfString=12]="UnexpectedEndOfString",a[a.UnexpectedEndOfNumber=13]="UnexpectedEndOfNumber",a[a.InvalidUnicode=14]="InvalidUnicode",a[a.InvalidEscapeCharacter=15]="InvalidEscapeCharacter",a[a.InvalidCharacter=16]="InvalidCharacter"})(V||(V={}));function ee(a,u,h){return $(a,u,h)}n(ee,"format2");function fe(a,u){if(a===u)return!0;if(a==null||u===null||u===void 0||typeof a!=typeof u||typeof a!="object"||Array.isArray(a)!==Array.isArray(u))return!1;let h,c;if(Array.isArray(a)){if(a.length!==u.length)return!1;for(h=0;h<a.length;h++)if(!fe(a[h],u[h]))return!1}else{const d=[];for(c in a)d.push(c);d.sort();const x=[];for(c in u)x.push(c);if(x.sort(),!fe(d,x))return!1;for(h=0;h<d.length;h++)if(!fe(a[d[h]],u[d[h]]))return!1}return!0}n(fe,"equals");function ue(a){return typeof a=="number"}n(ue,"isNumber");function Te(a){return typeof a!="undefined"}n(Te,"isDefined");function je(a){return typeof a=="boolean"}n(je,"isBoolean");function Xe(a){return typeof a=="string"}n(Xe,"isString");function We(a){return typeof a=="object"&&a!==null&&!Array.isArray(a)}n(We,"json_worker_isObject");function A(a,u){if(a.length<u.length)return!1;for(let h=0;h<u.length;h++)if(a[h]!==u[h])return!1;return!0}n(A,"startsWith");function M(a,u){const h=a.length-u.length;return h>0?a.lastIndexOf(u)===h:h===0?a===u:!1}n(M,"endsWith");function G(a){let u="";A(a,"(?i)")&&(a=a.substring(4),u="i");try{return new RegExp(a,u+"u")}catch{try{return new RegExp(a,u)}catch{return}}}n(G,"extendedRegExp");function w(a){let u=0;for(let h=0;h<a.length;h++){u++;const c=a.charCodeAt(h);55296<=c&&c<=56319&&h++}return u}n(w,"stringLength");var D;(function(a){function u(h){return typeof h=="string"}n(u,"is"),a.is=u})(D||(D={}));var Z;(function(a){function u(h){return typeof h=="string"}n(u,"is"),a.is=u})(Z||(Z={}));var he;(function(a){a.MIN_VALUE=-2147483648,a.MAX_VALUE=2147483647;function u(h){return typeof h=="number"&&a.MIN_VALUE<=h&&h<=a.MAX_VALUE}n(u,"is"),a.is=u})(he||(he={}));var ye;(function(a){a.MIN_VALUE=0,a.MAX_VALUE=2147483647;function u(h){return typeof h=="number"&&a.MIN_VALUE<=h&&h<=a.MAX_VALUE}n(u,"is"),a.is=u})(ye||(ye={}));var He;(function(a){function u(c,d){return c===Number.MAX_VALUE&&(c=ye.MAX_VALUE),d===Number.MAX_VALUE&&(d=ye.MAX_VALUE),{line:c,character:d}}n(u,"create"),a.create=u;function h(c){let d=c;return se.objectLiteral(d)&&se.uinteger(d.line)&&se.uinteger(d.character)}n(h,"is"),a.is=h})(He||(He={}));var Ve;(function(a){function u(c,d,x,te){if(se.uinteger(c)&&se.uinteger(d)&&se.uinteger(x)&&se.uinteger(te))return{start:He.create(c,d),end:He.create(x,te)};if(He.is(c)&&He.is(d))return{start:c,end:d};throw new Error(`Range#create called with invalid arguments[${c}, ${d}, ${x}, ${te}]`)}n(u,"create"),a.create=u;function h(c){let d=c;return se.objectLiteral(d)&&He.is(d.start)&&He.is(d.end)}n(h,"is"),a.is=h})(Ve||(Ve={}));var ft;(function(a){function u(c,d){return{uri:c,range:d}}n(u,"create"),a.create=u;function h(c){let d=c;return se.objectLiteral(d)&&Ve.is(d.range)&&(se.string(d.uri)||se.undefined(d.uri))}n(h,"is"),a.is=h})(ft||(ft={}));var ot;(function(a){function u(c,d,x,te){return{targetUri:c,targetRange:d,targetSelectionRange:x,originSelectionRange:te}}n(u,"create"),a.create=u;function h(c){let d=c;return se.objectLiteral(d)&&Ve.is(d.targetRange)&&se.string(d.targetUri)&&Ve.is(d.targetSelectionRange)&&(Ve.is(d.originSelectionRange)||se.undefined(d.originSelectionRange))}n(h,"is"),a.is=h})(ot||(ot={}));var kt;(function(a){function u(c,d,x,te){return{red:c,green:d,blue:x,alpha:te}}n(u,"create"),a.create=u;function h(c){const d=c;return se.objectLiteral(d)&&se.numberRange(d.red,0,1)&&se.numberRange(d.green,0,1)&&se.numberRange(d.blue,0,1)&&se.numberRange(d.alpha,0,1)}n(h,"is"),a.is=h})(kt||(kt={}));var nn;(function(a){function u(c,d){return{range:c,color:d}}n(u,"create"),a.create=u;function h(c){const d=c;return se.objectLiteral(d)&&Ve.is(d.range)&&kt.is(d.color)}n(h,"is"),a.is=h})(nn||(nn={}));var Ut;(function(a){function u(c,d,x){return{label:c,textEdit:d,additionalTextEdits:x}}n(u,"create"),a.create=u;function h(c){const d=c;return se.objectLiteral(d)&&se.string(d.label)&&(se.undefined(d.textEdit)||an.is(d))&&(se.undefined(d.additionalTextEdits)||se.typedArray(d.additionalTextEdits,an.is))}n(h,"is"),a.is=h})(Ut||(Ut={}));var Dn;(function(a){a.Comment="comment",a.Imports="imports",a.Region="region"})(Dn||(Dn={}));var En;(function(a){function u(c,d,x,te,pe,de){const oe={startLine:c,endLine:d};return se.defined(x)&&(oe.startCharacter=x),se.defined(te)&&(oe.endCharacter=te),se.defined(pe)&&(oe.kind=pe),se.defined(de)&&(oe.collapsedText=de),oe}n(u,"create"),a.create=u;function h(c){const d=c;return se.objectLiteral(d)&&se.uinteger(d.startLine)&&se.uinteger(d.startLine)&&(se.undefined(d.startCharacter)||se.uinteger(d.startCharacter))&&(se.undefined(d.endCharacter)||se.uinteger(d.endCharacter))&&(se.undefined(d.kind)||se.string(d.kind))}n(h,"is"),a.is=h})(En||(En={}));var _n;(function(a){function u(c,d){return{location:c,message:d}}n(u,"create"),a.create=u;function h(c){let d=c;return se.defined(d)&&ft.is(d.location)&&se.string(d.message)}n(h,"is"),a.is=h})(_n||(_n={}));var vn;(function(a){a.Error=1,a.Warning=2,a.Information=3,a.Hint=4})(vn||(vn={}));var mn;(function(a){a.Unnecessary=1,a.Deprecated=2})(mn||(mn={}));var pn;(function(a){function u(h){const c=h;return se.objectLiteral(c)&&se.string(c.href)}n(u,"is"),a.is=u})(pn||(pn={}));var dn;(function(a){function u(c,d,x,te,pe,de){let oe={range:c,message:d};return se.defined(x)&&(oe.severity=x),se.defined(te)&&(oe.code=te),se.defined(pe)&&(oe.source=pe),se.defined(de)&&(oe.relatedInformation=de),oe}n(u,"create"),a.create=u;function h(c){var d;let x=c;return se.defined(x)&&Ve.is(x.range)&&se.string(x.message)&&(se.number(x.severity)||se.undefined(x.severity))&&(se.integer(x.code)||se.string(x.code)||se.undefined(x.code))&&(se.undefined(x.codeDescription)||se.string((d=x.codeDescription)===null||d===void 0?void 0:d.href))&&(se.string(x.source)||se.undefined(x.source))&&(se.undefined(x.relatedInformation)||se.typedArray(x.relatedInformation,_n.is))}n(h,"is"),a.is=h})(dn||(dn={}));var xn;(function(a){function u(c,d,...x){let te={title:c,command:d};return se.defined(x)&&x.length>0&&(te.arguments=x),te}n(u,"create"),a.create=u;function h(c){let d=c;return se.defined(d)&&se.string(d.title)&&se.string(d.command)}n(h,"is"),a.is=h})(xn||(xn={}));var an;(function(a){function u(x,te){return{range:x,newText:te}}n(u,"replace"),a.replace=u;function h(x,te){return{range:{start:x,end:x},newText:te}}n(h,"insert"),a.insert=h;function c(x){return{range:x,newText:""}}n(c,"del"),a.del=c;function d(x){const te=x;return se.objectLiteral(te)&&se.string(te.newText)&&Ve.is(te.range)}n(d,"is"),a.is=d})(an||(an={}));var Rn;(function(a){function u(c,d,x){const te={label:c};return d!==void 0&&(te.needsConfirmation=d),x!==void 0&&(te.description=x),te}n(u,"create"),a.create=u;function h(c){const d=c;return se.objectLiteral(d)&&se.string(d.label)&&(se.boolean(d.needsConfirmation)||d.needsConfirmation===void 0)&&(se.string(d.description)||d.description===void 0)}n(h,"is"),a.is=h})(Rn||(Rn={}));var wn;(function(a){function u(h){const c=h;return se.string(c)}n(u,"is"),a.is=u})(wn||(wn={}));var Fn;(function(a){function u(x,te,pe){return{range:x,newText:te,annotationId:pe}}n(u,"replace"),a.replace=u;function h(x,te,pe){return{range:{start:x,end:x},newText:te,annotationId:pe}}n(h,"insert"),a.insert=h;function c(x,te){return{range:x,newText:"",annotationId:te}}n(c,"del"),a.del=c;function d(x){const te=x;return an.is(te)&&(Rn.is(te.annotationId)||wn.is(te.annotationId))}n(d,"is"),a.is=d})(Fn||(Fn={}));var An;(function(a){function u(c,d){return{textDocument:c,edits:d}}n(u,"create"),a.create=u;function h(c){let d=c;return se.defined(d)&&It.is(d.textDocument)&&Array.isArray(d.edits)}n(h,"is"),a.is=h})(An||(An={}));var gn;(function(a){function u(c,d,x){let te={kind:"create",uri:c};return d!==void 0&&(d.overwrite!==void 0||d.ignoreIfExists!==void 0)&&(te.options=d),x!==void 0&&(te.annotationId=x),te}n(u,"create"),a.create=u;function h(c){let d=c;return d&&d.kind==="create"&&se.string(d.uri)&&(d.options===void 0||(d.options.overwrite===void 0||se.boolean(d.options.overwrite))&&(d.options.ignoreIfExists===void 0||se.boolean(d.options.ignoreIfExists)))&&(d.annotationId===void 0||wn.is(d.annotationId))}n(h,"is"),a.is=h})(gn||(gn={}));var Tn;(function(a){function u(c,d,x,te){let pe={kind:"rename",oldUri:c,newUri:d};return x!==void 0&&(x.overwrite!==void 0||x.ignoreIfExists!==void 0)&&(pe.options=x),te!==void 0&&(pe.annotationId=te),pe}n(u,"create"),a.create=u;function h(c){let d=c;return d&&d.kind==="rename"&&se.string(d.oldUri)&&se.string(d.newUri)&&(d.options===void 0||(d.options.overwrite===void 0||se.boolean(d.options.overwrite))&&(d.options.ignoreIfExists===void 0||se.boolean(d.options.ignoreIfExists)))&&(d.annotationId===void 0||wn.is(d.annotationId))}n(h,"is"),a.is=h})(Tn||(Tn={}));var Oe;(function(a){function u(c,d,x){let te={kind:"delete",uri:c};return d!==void 0&&(d.recursive!==void 0||d.ignoreIfNotExists!==void 0)&&(te.options=d),x!==void 0&&(te.annotationId=x),te}n(u,"create"),a.create=u;function h(c){let d=c;return d&&d.kind==="delete"&&se.string(d.uri)&&(d.options===void 0||(d.options.recursive===void 0||se.boolean(d.options.recursive))&&(d.options.ignoreIfNotExists===void 0||se.boolean(d.options.ignoreIfNotExists)))&&(d.annotationId===void 0||wn.is(d.annotationId))}n(h,"is"),a.is=h})(Oe||(Oe={}));var $e;(function(a){function u(h){let c=h;return c&&(c.changes!==void 0||c.documentChanges!==void 0)&&(c.documentChanges===void 0||c.documentChanges.every(d=>se.string(d.kind)?gn.is(d)||Tn.is(d)||Oe.is(d):An.is(d)))}n(u,"is"),a.is=u})($e||($e={}));var i;(function(a){function u(c){return{uri:c}}n(u,"create"),a.create=u;function h(c){let d=c;return se.defined(d)&&se.string(d.uri)}n(h,"is"),a.is=h})(i||(i={}));var mt;(function(a){function u(c,d){return{uri:c,version:d}}n(u,"create"),a.create=u;function h(c){let d=c;return se.defined(d)&&se.string(d.uri)&&se.integer(d.version)}n(h,"is"),a.is=h})(mt||(mt={}));var It;(function(a){function u(c,d){return{uri:c,version:d}}n(u,"create"),a.create=u;function h(c){let d=c;return se.defined(d)&&se.string(d.uri)&&(d.version===null||se.integer(d.version))}n(h,"is"),a.is=h})(It||(It={}));var pt;(function(a){function u(c,d,x,te){return{uri:c,languageId:d,version:x,text:te}}n(u,"create"),a.create=u;function h(c){let d=c;return se.defined(d)&&se.string(d.uri)&&se.string(d.languageId)&&se.integer(d.version)&&se.string(d.text)}n(h,"is"),a.is=h})(pt||(pt={}));var at;(function(a){a.PlainText="plaintext",a.Markdown="markdown";function u(h){const c=h;return c===a.PlainText||c===a.Markdown}n(u,"is"),a.is=u})(at||(at={}));var xt;(function(a){function u(h){const c=h;return se.objectLiteral(h)&&at.is(c.kind)&&se.string(c.value)}n(u,"is"),a.is=u})(xt||(xt={}));var dt;(function(a){a.Text=1,a.Method=2,a.Function=3,a.Constructor=4,a.Field=5,a.Variable=6,a.Class=7,a.Interface=8,a.Module=9,a.Property=10,a.Unit=11,a.Value=12,a.Enum=13,a.Keyword=14,a.Snippet=15,a.Color=16,a.File=17,a.Reference=18,a.Folder=19,a.EnumMember=20,a.Constant=21,a.Struct=22,a.Event=23,a.Operator=24,a.TypeParameter=25})(dt||(dt={}));var ut;(function(a){a.PlainText=1,a.Snippet=2})(ut||(ut={}));var St;(function(a){a.Deprecated=1})(St||(St={}));var $t;(function(a){function u(c,d,x){return{newText:c,insert:d,replace:x}}n(u,"create"),a.create=u;function h(c){const d=c;return d&&se.string(d.newText)&&Ve.is(d.insert)&&Ve.is(d.replace)}n(h,"is"),a.is=h})($t||($t={}));var Zt;(function(a){a.asIs=1,a.adjustIndentation=2})(Zt||(Zt={}));var cn;(function(a){function u(h){const c=h;return c&&(se.string(c.detail)||c.detail===void 0)&&(se.string(c.description)||c.description===void 0)}n(u,"is"),a.is=u})(cn||(cn={}));var Nt;(function(a){function u(h){return{label:h}}n(u,"create"),a.create=u})(Nt||(Nt={}));var T;(function(a){function u(h,c){return{items:h||[],isIncomplete:!!c}}n(u,"create"),a.create=u})(T||(T={}));var Se;(function(a){function u(c){return c.replace(/[\\`*_{}[\]()#+\-.!]/g,"\\$&")}n(u,"fromPlainText"),a.fromPlainText=u;function h(c){const d=c;return se.string(d)||se.objectLiteral(d)&&se.string(d.language)&&se.string(d.value)}n(h,"is"),a.is=h})(Se||(Se={}));var ct;(function(a){function u(h){let c=h;return!!c&&se.objectLiteral(c)&&(xt.is(c.contents)||Se.is(c.contents)||se.typedArray(c.contents,Se.is))&&(h.range===void 0||Ve.is(h.range))}n(u,"is"),a.is=u})(ct||(ct={}));var rt;(function(a){function u(h,c){return c?{label:h,documentation:c}:{label:h}}n(u,"create"),a.create=u})(rt||(rt={}));var un;(function(a){function u(h,c,...d){let x={label:h};return se.defined(c)&&(x.documentation=c),se.defined(d)?x.parameters=d:x.parameters=[],x}n(u,"create"),a.create=u})(un||(un={}));var Bt;(function(a){a.Text=1,a.Read=2,a.Write=3})(Bt||(Bt={}));var qt;(function(a){function u(h,c){let d={range:h};return se.number(c)&&(d.kind=c),d}n(u,"create"),a.create=u})(qt||(qt={}));var sn;(function(a){a.File=1,a.Module=2,a.Namespace=3,a.Package=4,a.Class=5,a.Method=6,a.Property=7,a.Field=8,a.Constructor=9,a.Enum=10,a.Interface=11,a.Function=12,a.Variable=13,a.Constant=14,a.String=15,a.Number=16,a.Boolean=17,a.Array=18,a.Object=19,a.Key=20,a.Null=21,a.EnumMember=22,a.Struct=23,a.Event=24,a.Operator=25,a.TypeParameter=26})(sn||(sn={}));var oi;(function(a){a.Deprecated=1})(oi||(oi={}));var ei;(function(a){function u(h,c,d,x,te){let pe={name:h,kind:c,location:{uri:x,range:d}};return te&&(pe.containerName=te),pe}n(u,"create"),a.create=u})(ei||(ei={}));var kn;(function(a){function u(h,c,d,x){return x!==void 0?{name:h,kind:c,location:{uri:d,range:x}}:{name:h,kind:c,location:{uri:d}}}n(u,"create"),a.create=u})(kn||(kn={}));var Zn;(function(a){function u(c,d,x,te,pe,de){let oe={name:c,detail:d,kind:x,range:te,selectionRange:pe};return de!==void 0&&(oe.children=de),oe}n(u,"create"),a.create=u;function h(c){let d=c;return d&&se.string(d.name)&&se.number(d.kind)&&Ve.is(d.range)&&Ve.is(d.selectionRange)&&(d.detail===void 0||se.string(d.detail))&&(d.deprecated===void 0||se.boolean(d.deprecated))&&(d.children===void 0||Array.isArray(d.children))&&(d.tags===void 0||Array.isArray(d.tags))}n(h,"is"),a.is=h})(Zn||(Zn={}));var $i;(function(a){a.Empty="",a.QuickFix="quickfix",a.Refactor="refactor",a.RefactorExtract="refactor.extract",a.RefactorInline="refactor.inline",a.RefactorRewrite="refactor.rewrite",a.Source="source",a.SourceOrganizeImports="source.organizeImports",a.SourceFixAll="source.fixAll"})($i||($i={}));var ai;(function(a){a.Invoked=1,a.Automatic=2})(ai||(ai={}));var Ci;(function(a){function u(c,d,x){let te={diagnostics:c};return d!=null&&(te.only=d),x!=null&&(te.triggerKind=x),te}n(u,"create"),a.create=u;function h(c){let d=c;return se.defined(d)&&se.typedArray(d.diagnostics,dn.is)&&(d.only===void 0||se.typedArray(d.only,se.string))&&(d.triggerKind===void 0||d.triggerKind===ai.Invoked||d.triggerKind===ai.Automatic)}n(h,"is"),a.is=h})(Ci||(Ci={}));var li;(function(a){function u(c,d,x){let te={title:c},pe=!0;return typeof d=="string"?(pe=!1,te.kind=d):xn.is(d)?te.command=d:te.edit=d,pe&&x!==void 0&&(te.kind=x),te}n(u,"create"),a.create=u;function h(c){let d=c;return d&&se.string(d.title)&&(d.diagnostics===void 0||se.typedArray(d.diagnostics,dn.is))&&(d.kind===void 0||se.string(d.kind))&&(d.edit!==void 0||d.command!==void 0)&&(d.command===void 0||xn.is(d.command))&&(d.isPreferred===void 0||se.boolean(d.isPreferred))&&(d.edit===void 0||$e.is(d.edit))}n(h,"is"),a.is=h})(li||(li={}));var ci;(function(a){function u(c,d){let x={range:c};return se.defined(d)&&(x.data=d),x}n(u,"create"),a.create=u;function h(c){let d=c;return se.defined(d)&&Ve.is(d.range)&&(se.undefined(d.command)||xn.is(d.command))}n(h,"is"),a.is=h})(ci||(ci={}));var xi;(function(a){function u(c,d){return{tabSize:c,insertSpaces:d}}n(u,"create"),a.create=u;function h(c){let d=c;return se.defined(d)&&se.uinteger(d.tabSize)&&se.boolean(d.insertSpaces)}n(h,"is"),a.is=h})(xi||(xi={}));var ni;(function(a){function u(c,d,x){return{range:c,target:d,data:x}}n(u,"create"),a.create=u;function h(c){let d=c;return se.defined(d)&&Ve.is(d.range)&&(se.undefined(d.target)||se.string(d.target))}n(h,"is"),a.is=h})(ni||(ni={}));var Fi;(function(a){function u(c,d){return{range:c,parent:d}}n(u,"create"),a.create=u;function h(c){let d=c;return se.objectLiteral(d)&&Ve.is(d.range)&&(d.parent===void 0||a.is(d.parent))}n(h,"is"),a.is=h})(Fi||(Fi={}));var hi;(function(a){a.namespace="namespace",a.type="type",a.class="class",a.enum="enum",a.interface="interface",a.struct="struct",a.typeParameter="typeParameter",a.parameter="parameter",a.variable="variable",a.property="property",a.enumMember="enumMember",a.event="event",a.function="function",a.method="method",a.macro="macro",a.keyword="keyword",a.modifier="modifier",a.comment="comment",a.string="string",a.number="number",a.regexp="regexp",a.operator="operator",a.decorator="decorator"})(hi||(hi={}));var di;(function(a){a.declaration="declaration",a.definition="definition",a.readonly="readonly",a.static="static",a.deprecated="deprecated",a.abstract="abstract",a.async="async",a.modification="modification",a.documentation="documentation",a.defaultLibrary="defaultLibrary"})(di||(di={}));var Ni;(function(a){function u(h){const c=h;return se.objectLiteral(c)&&(c.resultId===void 0||typeof c.resultId=="string")&&Array.isArray(c.data)&&(c.data.length===0||typeof c.data[0]=="number")}n(u,"is"),a.is=u})(Ni||(Ni={}));var fi;(function(a){function u(c,d){return{range:c,text:d}}n(u,"create"),a.create=u;function h(c){const d=c;return d!=null&&Ve.is(d.range)&&se.string(d.text)}n(h,"is"),a.is=h})(fi||(fi={}));var Pn;(function(a){function u(c,d,x){return{range:c,variableName:d,caseSensitiveLookup:x}}n(u,"create"),a.create=u;function h(c){const d=c;return d!=null&&Ve.is(d.range)&&se.boolean(d.caseSensitiveLookup)&&(se.string(d.variableName)||d.variableName===void 0)}n(h,"is"),a.is=h})(Pn||(Pn={}));var wi;(function(a){function u(c,d){return{range:c,expression:d}}n(u,"create"),a.create=u;function h(c){const d=c;return d!=null&&Ve.is(d.range)&&(se.string(d.expression)||d.expression===void 0)}n(h,"is"),a.is=h})(wi||(wi={}));var Gi;(function(a){function u(c,d){return{frameId:c,stoppedLocation:d}}n(u,"create"),a.create=u;function h(c){const d=c;return se.defined(d)&&Ve.is(c.stoppedLocation)}n(h,"is"),a.is=h})(Gi||(Gi={}));var yi;(function(a){a.Type=1,a.Parameter=2;function u(h){return h===1||h===2}n(u,"is"),a.is=u})(yi||(yi={}));var Ti;(function(a){function u(c){return{value:c}}n(u,"create"),a.create=u;function h(c){const d=c;return se.objectLiteral(d)&&(d.tooltip===void 0||se.string(d.tooltip)||xt.is(d.tooltip))&&(d.location===void 0||ft.is(d.location))&&(d.command===void 0||xn.is(d.command))}n(h,"is"),a.is=h})(Ti||(Ti={}));var Jn;(function(a){function u(c,d,x){const te={position:c,label:d};return x!==void 0&&(te.kind=x),te}n(u,"create"),a.create=u;function h(c){const d=c;return se.objectLiteral(d)&&He.is(d.position)&&(se.string(d.label)||se.typedArray(d.label,Ti.is))&&(d.kind===void 0||yi.is(d.kind))&&d.textEdits===void 0||se.typedArray(d.textEdits,an.is)&&(d.tooltip===void 0||se.string(d.tooltip)||xt.is(d.tooltip))&&(d.paddingLeft===void 0||se.boolean(d.paddingLeft))&&(d.paddingRight===void 0||se.boolean(d.paddingRight))}n(h,"is"),a.is=h})(Jn||(Jn={}));var Di;(function(a){function u(h){return{kind:"snippet",value:h}}n(u,"createSnippet"),a.createSnippet=u})(Di||(Di={}));var gi;(function(a){function u(h,c,d,x){return{insertText:h,filterText:c,range:d,command:x}}n(u,"create"),a.create=u})(gi||(gi={}));var ti;(function(a){function u(h){return{items:h}}n(u,"create"),a.create=u})(ti||(ti={}));var qi;(function(a){a.Invoked=0,a.Automatic=1})(qi||(qi={}));var Si;(function(a){function u(h,c){return{range:h,text:c}}n(u,"create"),a.create=u})(Si||(Si={}));var mi;(function(a){function u(h,c){return{triggerKind:h,selectedCompletionInfo:c}}n(u,"create"),a.create=u})(mi||(mi={}));var Fe;(function(a){function u(h){const c=h;return se.objectLiteral(c)&&Z.is(c.uri)&&se.string(c.name)}n(u,"is"),a.is=u})(Fe||(Fe={}));var q;(function(a){function u(x,te,pe,de){return new xe(x,te,pe,de)}n(u,"create"),a.create=u;function h(x){let te=x;return!!(se.defined(te)&&se.string(te.uri)&&(se.undefined(te.languageId)||se.string(te.languageId))&&se.uinteger(te.lineCount)&&se.func(te.getText)&&se.func(te.positionAt)&&se.func(te.offsetAt))}n(h,"is"),a.is=h;function c(x,te){let pe=x.getText(),de=d(te,(ke,be)=>{let Ae=ke.range.start.line-be.range.start.line;return Ae===0?ke.range.start.character-be.range.start.character:Ae}),oe=pe.length;for(let ke=de.length-1;ke>=0;ke--){let be=de[ke],Ae=x.offsetAt(be.range.start),Ne=x.offsetAt(be.range.end);if(Ne<=oe)pe=pe.substring(0,Ae)+be.newText+pe.substring(Ne,pe.length);else throw new Error("Overlapping edit");oe=Ae}return pe}n(c,"applyEdits"),a.applyEdits=c;function d(x,te){if(x.length<=1)return x;const pe=x.length/2|0,de=x.slice(0,pe),oe=x.slice(pe);d(de,te),d(oe,te);let ke=0,be=0,Ae=0;for(;ke<de.length&&be<oe.length;)te(de[ke],oe[be])<=0?x[Ae++]=de[ke++]:x[Ae++]=oe[be++];for(;ke<de.length;)x[Ae++]=de[ke++];for(;be<oe.length;)x[Ae++]=oe[be++];return x}n(d,"mergeSort2")})(q||(q={}));var xe=(nr=class{constructor(u,h,c,d){this._uri=u,this._languageId=h,this._version=c,this._content=d,this._lineOffsets=void 0}get uri(){return this._uri}get languageId(){return this._languageId}get version(){return this._version}getText(u){if(u){let h=this.offsetAt(u.start),c=this.offsetAt(u.end);return this._content.substring(h,c)}return this._content}update(u,h){this._content=u.text,this._version=h,this._lineOffsets=void 0}getLineOffsets(){if(this._lineOffsets===void 0){let u=[],h=this._content,c=!0;for(let d=0;d<h.length;d++){c&&(u.push(d),c=!1);let x=h.charAt(d);c=x==="\r"||x===`
`,x==="\r"&&d+1<h.length&&h.charAt(d+1)===`
`&&d++}c&&h.length>0&&u.push(h.length),this._lineOffsets=u}return this._lineOffsets}positionAt(u){u=Math.max(Math.min(u,this._content.length),0);let h=this.getLineOffsets(),c=0,d=h.length;if(d===0)return He.create(0,u);for(;c<d;){let te=Math.floor((c+d)/2);h[te]>u?d=te:c=te+1}let x=c-1;return He.create(x,u-h[x])}offsetAt(u){let h=this.getLineOffsets();if(u.line>=h.length)return this._content.length;if(u.line<0)return 0;let c=h[u.line],d=u.line+1<h.length?h[u.line+1]:this._content.length;return Math.max(Math.min(c+u.character,d),c)}get lineCount(){return this.getLineOffsets().length}},n(nr,"FullTextDocument"),nr),se;(function(a){const u=Object.prototype.toString;function h(Ne){return typeof Ne!="undefined"}n(h,"defined"),a.defined=h;function c(Ne){return typeof Ne=="undefined"}n(c,"undefined2"),a.undefined=c;function d(Ne){return Ne===!0||Ne===!1}n(d,"boolean"),a.boolean=d;function x(Ne){return u.call(Ne)==="[object String]"}n(x,"string"),a.string=x;function te(Ne){return u.call(Ne)==="[object Number]"}n(te,"number"),a.number=te;function pe(Ne,Re,Ge){return u.call(Ne)==="[object Number]"&&Re<=Ne&&Ne<=Ge}n(pe,"numberRange"),a.numberRange=pe;function de(Ne){return u.call(Ne)==="[object Number]"&&-2147483648<=Ne&&Ne<=2147483647}n(de,"integer2"),a.integer=de;function oe(Ne){return u.call(Ne)==="[object Number]"&&0<=Ne&&Ne<=2147483647}n(oe,"uinteger2"),a.uinteger=oe;function ke(Ne){return u.call(Ne)==="[object Function]"}n(ke,"func"),a.func=ke;function be(Ne){return Ne!==null&&typeof Ne=="object"}n(be,"objectLiteral"),a.objectLiteral=be;function Ae(Ne,Re){return Array.isArray(Ne)&&Ne.every(Re)}n(Ae,"typedArray"),a.typedArray=Ae})(se||(se={}));var lt=(ir=class{constructor(u,h,c,d){this._uri=u,this._languageId=h,this._version=c,this._content=d,this._lineOffsets=void 0}get uri(){return this._uri}get languageId(){return this._languageId}get version(){return this._version}getText(u){if(u){const h=this.offsetAt(u.start),c=this.offsetAt(u.end);return this._content.substring(h,c)}return this._content}update(u,h){for(let c of u)if(ir.isIncremental(c)){const d=Wn(c.range),x=this.offsetAt(d.start),te=this.offsetAt(d.end);this._content=this._content.substring(0,x)+c.text+this._content.substring(te,this._content.length);const pe=Math.max(d.start.line,0),de=Math.max(d.end.line,0);let oe=this._lineOffsets;const ke=ln(c.text,!1,x);if(de-pe===ke.length)for(let Ae=0,Ne=ke.length;Ae<Ne;Ae++)oe[Ae+pe+1]=ke[Ae];else ke.length<1e4?oe.splice(pe+1,de-pe,...ke):this._lineOffsets=oe=oe.slice(0,pe+1).concat(ke,oe.slice(de+1));const be=c.text.length-(te-x);if(be!==0)for(let Ae=pe+1+ke.length,Ne=oe.length;Ae<Ne;Ae++)oe[Ae]=oe[Ae]+be}else if(ir.isFull(c))this._content=c.text,this._lineOffsets=void 0;else throw new Error("Unknown change event received");this._version=h}getLineOffsets(){return this._lineOffsets===void 0&&(this._lineOffsets=ln(this._content,!0)),this._lineOffsets}positionAt(u){u=Math.max(Math.min(u,this._content.length),0);let h=this.getLineOffsets(),c=0,d=h.length;if(d===0)return{line:0,character:u};for(;c<d;){let te=Math.floor((c+d)/2);h[te]>u?d=te:c=te+1}let x=c-1;return{line:x,character:u-h[x]}}offsetAt(u){let h=this.getLineOffsets();if(u.line>=h.length)return this._content.length;if(u.line<0)return 0;let c=h[u.line],d=u.line+1<h.length?h[u.line+1]:this._content.length;return Math.max(Math.min(c+u.character,d),c)}get lineCount(){return this.getLineOffsets().length}static isIncremental(u){let h=u;return h!=null&&typeof h.text=="string"&&h.range!==void 0&&(h.rangeLength===void 0||typeof h.rangeLength=="number")}static isFull(u){let h=u;return h!=null&&typeof h.text=="string"&&h.range===void 0&&h.rangeLength===void 0}},n(ir,"_FullTextDocument"),ir),vt;(function(a){function u(d,x,te,pe){return new lt(d,x,te,pe)}n(u,"create"),a.create=u;function h(d,x,te){if(d instanceof lt)return d.update(x,te),d;throw new Error("TextDocument.update: document must be created by TextDocument.create")}n(h,"update"),a.update=h;function c(d,x){let te=d.getText(),pe=Pt(x.map(pi),(ke,be)=>{let Ae=ke.range.start.line-be.range.start.line;return Ae===0?ke.range.start.character-be.range.start.character:Ae}),de=0;const oe=[];for(const ke of pe){let be=d.offsetAt(ke.range.start);if(be<de)throw new Error("Overlapping edit");be>de&&oe.push(te.substring(de,be)),ke.newText.length&&oe.push(ke.newText),de=d.offsetAt(ke.range.end)}return oe.push(te.substr(de)),oe.join("")}n(c,"applyEdits"),a.applyEdits=c})(vt||(vt={}));function Pt(a,u){if(a.length<=1)return a;const h=a.length/2|0,c=a.slice(0,h),d=a.slice(h);Pt(c,u),Pt(d,u);let x=0,te=0,pe=0;for(;x<c.length&&te<d.length;)u(c[x],d[te])<=0?a[pe++]=c[x++]:a[pe++]=d[te++];for(;x<c.length;)a[pe++]=c[x++];for(;te<d.length;)a[pe++]=d[te++];return a}n(Pt,"mergeSort");function ln(a,u,h=0){const c=u?[h]:[];for(let d=0;d<a.length;d++){let x=a.charCodeAt(d);(x===13||x===10)&&(x===13&&d+1<a.length&&a.charCodeAt(d+1)===10&&d++,c.push(h+d+1))}return c}n(ln,"computeLineOffsets");function Wn(a){const u=a.start,h=a.end;return u.line>h.line||u.line===h.line&&u.character>h.character?{start:h,end:u}:a}n(Wn,"getWellformedRange");function pi(a){const u=Wn(a.range);return u!==a.range?{newText:a.newText,range:u}:a}n(pi,"getWellformedEdit");var tn;(function(a){a[a.Undefined=0]="Undefined",a[a.EnumValueMismatch=1]="EnumValueMismatch",a[a.Deprecated=2]="Deprecated",a[a.UnexpectedEndOfComment=257]="UnexpectedEndOfComment",a[a.UnexpectedEndOfString=258]="UnexpectedEndOfString",a[a.UnexpectedEndOfNumber=259]="UnexpectedEndOfNumber",a[a.InvalidUnicode=260]="InvalidUnicode",a[a.InvalidEscapeCharacter=261]="InvalidEscapeCharacter",a[a.InvalidCharacter=262]="InvalidCharacter",a[a.PropertyExpected=513]="PropertyExpected",a[a.CommaExpected=514]="CommaExpected",a[a.ColonExpected=515]="ColonExpected",a[a.ValueExpected=516]="ValueExpected",a[a.CommaOrCloseBacketExpected=517]="CommaOrCloseBacketExpected",a[a.CommaOrCloseBraceExpected=518]="CommaOrCloseBraceExpected",a[a.TrailingComma=519]="TrailingComma",a[a.DuplicateKey=520]="DuplicateKey",a[a.CommentNotPermitted=521]="CommentNotPermitted",a[a.PropertyKeysMustBeDoublequoted=528]="PropertyKeysMustBeDoublequoted",a[a.SchemaResolveError=768]="SchemaResolveError",a[a.SchemaUnsupportedFeature=769]="SchemaUnsupportedFeature"})(tn||(tn={}));var Hn;(function(a){a[a.v3=3]="v3",a[a.v4=4]="v4",a[a.v6=6]="v6",a[a.v7=7]="v7",a[a.v2019_09=19]="v2019_09",a[a.v2020_12=20]="v2020_12"})(Hn||(Hn={}));var Kn;(function(a){a.LATEST={textDocument:{completion:{completionItem:{documentationFormat:[at.Markdown,at.PlainText],commitCharactersSupport:!0,labelDetailsSupport:!0}}}}})(Kn||(Kn={}));var ii;function it(...a){var te;const u=a[0];let h,c,d;if(typeof u=="string")h=u,c=u,a.splice(0,1),d=!a||typeof a[0]!="object"?a:a[0];else if(u instanceof Array){const pe=a.slice(1);if(u.length!==pe.length+1)throw new Error("expected a string as the first argument to l10n.t");let de=u[0];for(let oe=1;oe<u.length;oe++)de+=`{${oe-1}}`+u[oe];return it(de,...pe)}else c=u.message,h=c,u.comment&&u.comment.length>0&&(h+=`/${Array.isArray(u.comment)?u.comment.join(""):u.comment}`),d=(te=u.args)!=null?te:{};const x=ii==null?void 0:ii[h];return x?typeof x=="string"?Ei(x,d):x.comment?Ei(x.message,d):Ei(c,d):Ei(c,d)}n(it,"t");var Bi=/{([^}]+)}/g;function Ei(a,u){return Object.keys(u).length===0?a:a.replace(Bi,(h,c)=>{var d;return(d=u[c])!=null?d:h})}n(Ei,"format3");var Pi={"color-hex":{errorMessage:it("Invalid color format. Use #RGB, #RGBA, #RRGGBB or #RRGGBBAA."),pattern:/^#([0-9A-Fa-f]{3,4}|([0-9A-Fa-f]{2}){3,4})$/},"date-time":{errorMessage:it("String is not a RFC3339 date-time."),pattern:/^(\d{4})-(0[1-9]|1[0-2])-(0[1-9]|[12][0-9]|3[01])T([01][0-9]|2[0-3]):([0-5][0-9]):([0-5][0-9]|60)(\.[0-9]+)?(Z|(\+|-)([01][0-9]|2[0-3]):([0-5][0-9]))$/i},date:{errorMessage:it("String is not a RFC3339 date."),pattern:/^(\d{4})-(0[1-9]|1[0-2])-(0[1-9]|[12][0-9]|3[01])$/i},time:{errorMessage:it("String is not a RFC3339 time."),pattern:/^([01][0-9]|2[0-3]):([0-5][0-9]):([0-5][0-9]|60)(\.[0-9]+)?(Z|(\+|-)([01][0-9]|2[0-3]):([0-5][0-9]))$/i},email:{errorMessage:it("String is not an e-mail address."),pattern:/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z0-9-]+\.)+[a-zA-Z]{2,}))$/},hostname:{errorMessage:it("String is not a hostname."),pattern:/^(?=.{1,253}\.?$)[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?(?:\.[a-z0-9](?:[-0-9a-z]{0,61}[0-9a-z])?)*\.?$/i},ipv4:{errorMessage:it("String is not an IPv4 address."),pattern:/^(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)\.){3}(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)$/},ipv6:{errorMessage:it("String is not an IPv6 address."),pattern:/^((([0-9a-f]{1,4}:){7}([0-9a-f]{1,4}|:))|(([0-9a-f]{1,4}:){6}(:[0-9a-f]{1,4}|((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9a-f]{1,4}:){5}(((:[0-9a-f]{1,4}){1,2})|:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9a-f]{1,4}:){4}(((:[0-9a-f]{1,4}){1,3})|((:[0-9a-f]{1,4})?:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9a-f]{1,4}:){3}(((:[0-9a-f]{1,4}){1,4})|((:[0-9a-f]{1,4}){0,2}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9a-f]{1,4}:){2}(((:[0-9a-f]{1,4}){1,5})|((:[0-9a-f]{1,4}){0,3}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9a-f]{1,4}:){1}(((:[0-9a-f]{1,4}){1,6})|((:[0-9a-f]{1,4}){0,4}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(:(((:[0-9a-f]{1,4}){1,7})|((:[0-9a-f]{1,4}){0,5}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:)))$/i}},Xn=(_i=class{constructor(u,h,c=0){this.offset=h,this.length=c,this.parent=u}get children(){return[]}toString(){return"type: "+this.type+" ("+this.offset+"/"+this.length+")"+(this.parent?" parent: {"+this.parent.toString()+"}":"")}},n(_i,"ASTNodeImpl"),_i),Ri=(Yi=class extends Xn{constructor(u,h){super(u,h),this.type="null",this.value=null}},n(Yi,"NullASTNodeImpl"),Yi),xr=(Yn=class extends Xn{constructor(u,h,c){super(u,c),this.type="boolean",this.value=h}},n(Yn,"BooleanASTNodeImpl"),Yn),Vi=(vi=class extends Xn{constructor(u,h){super(u,h),this.type="array",this.items=[]}get children(){return this.items}},n(vi,"ArrayASTNodeImpl"),vi),wr=(Ui=class extends Xn{constructor(u,h){super(u,h),this.type="number",this.isInteger=!0,this.value=Number.NaN}},n(Ui,"NumberASTNodeImpl"),Ui),bi=(gr=class extends Xn{constructor(u,h,c){super(u,h,c),this.type="string",this.value=""}},n(gr,"StringASTNodeImpl"),gr),lr=(ki=class extends Xn{constructor(u,h,c){super(u,h),this.type="property",this.colonOffset=-1,this.keyNode=c}get children(){return this.valueNode?[this.keyNode,this.valueNode]:[this.keyNode]}},n(ki,"PropertyASTNodeImpl"),ki),zn=(Pr=class extends Xn{constructor(u,h){super(u,h),this.type="object",this.properties=[]}get children(){return this.properties}},n(Pr,"ObjectASTNodeImpl"),Pr);function Vn(a){return je(a)?a?{}:{not:{}}:a}n(Vn,"asSchema");var er;(function(a){a[a.Key=0]="Key",a[a.Enum=1]="Enum"})(er||(er={}));var yr={"http://json-schema.org/draft-03/schema#":Hn.v3,"http://json-schema.org/draft-04/schema#":Hn.v4,"http://json-schema.org/draft-06/schema#":Hn.v6,"http://json-schema.org/draft-07/schema#":Hn.v7,"https://json-schema.org/draft/2019-09/schema":Hn.v2019_09,"https://json-schema.org/draft/2020-12/schema":Hn.v2020_12},ur=(Un=class{constructor(u){this.schemaDraft=u}},n(Un,"EvaluationContext"),Un),Qi=(ui=class{constructor(u=-1,h){this.focusOffset=u,this.exclude=h,this.schemas=[]}add(u){this.schemas.push(u)}merge(u){Array.prototype.push.apply(this.schemas,u.schemas)}include(u){return(this.focusOffset===-1||Oi(u,this.focusOffset))&&u!==this.exclude}newSub(){return new ui(-1,this.exclude)}},n(ui,"_SchemaCollector"),ui),Wi=(mr=class{constructor(){}get schemas(){return[]}add(u){}merge(u){}include(u){return!0}newSub(){return this}},n(mr,"NoOpSchemaCollector"),mr);Wi.instance=new Wi;var $n=(pr=class{constructor(){this.problems=[],this.propertiesMatches=0,this.processedProperties=new Set,this.propertiesValueMatches=0,this.primaryValueMatches=0,this.enumValueMatch=!1,this.enumValues=void 0}hasProblems(){return!!this.problems.length}merge(u){this.problems=this.problems.concat(u.problems),this.propertiesMatches+=u.propertiesMatches,this.propertiesValueMatches+=u.propertiesValueMatches,this.mergeProcessedProperties(u)}mergeEnumValues(u){if(!this.enumValueMatch&&!u.enumValueMatch&&this.enumValues&&u.enumValues){this.enumValues=this.enumValues.concat(u.enumValues);for(const h of this.problems)h.code===tn.EnumValueMismatch&&(h.message=it("Value is not accepted. Valid values: {0}.",this.enumValues.map(c=>JSON.stringify(c)).join(", ")))}}mergePropertyMatch(u){this.problems=this.problems.concat(u.problems),this.propertiesMatches++,(u.enumValueMatch||!u.hasProblems()&&u.propertiesMatches)&&this.propertiesValueMatches++,u.enumValueMatch&&u.enumValues&&u.enumValues.length===1&&this.primaryValueMatches++}mergeProcessedProperties(u){u.processedProperties.forEach(h=>this.processedProperties.add(h))}compare(u){const h=this.hasProblems();return h!==u.hasProblems()?h?-1:1:this.enumValueMatch!==u.enumValueMatch?u.enumValueMatch?-1:1:this.primaryValueMatches!==u.primaryValueMatches?this.primaryValueMatches-u.primaryValueMatches:this.propertiesValueMatches!==u.propertiesValueMatches?this.propertiesValueMatches-u.propertiesValueMatches:this.propertiesMatches-u.propertiesMatches}},n(pr,"ValidationResult"),pr);function Sr(a,u=[]){return new Er(a,u,[])}n(Sr,"newJSONDocument");function Gn(a){return P(a)}n(Gn,"getNodeValue3");function Ji(a){return I(a)}n(Ji,"getNodePath3");function Oi(a,u,h=!1){return u>=a.offset&&u<a.offset+a.length||h&&u===a.offset+a.length}n(Oi,"contains2");var Er=(br=class{constructor(u,h=[],c=[]){this.root=u,this.syntaxErrors=h,this.comments=c}getNodeFromOffset(u,h=!1){if(this.root)return b(this.root,u,h)}visit(u){if(this.root){const h=n(c=>{let d=u(c);const x=c.children;if(Array.isArray(x))for(let te=0;te<x.length&&d;te++)d=h(x[te]);return d},"doVisit");h(this.root)}}validate(u,h,c=vn.Warning,d){if(this.root&&h){const x=new $n;return On(this.root,h,x,Wi.instance,new ur(d!=null?d:tr(h))),x.problems.map(te=>{var de;const pe=Ve.create(u.positionAt(te.location.offset),u.positionAt(te.location.offset+te.location.length));return dn.create(pe,te.message,(de=te.severity)!=null?de:c,te.code)})}}getMatchingSchemas(u,h=-1,c){if(this.root&&u){const d=new Qi(h,c),x=tr(u),te=new ur(x);return On(this.root,u,new $n,d,te),d.schemas}return[]}},n(br,"JSONDocument"),br);function tr(a,u=Hn.v2020_12){var c;let h=a.$schema;return h&&(c=yr[h])!=null?c:u}n(tr,"getSchemaDraft");function On(a,u,h,c,d){if(!a||!c.include(a))return;if(a.type==="property")return On(a.valueNode,u,h,c,d);const x=a;switch(te(),x.type){case"object":ke(x);break;case"array":oe(x);break;case"string":de(x);break;case"number":pe(x);break}c.add({node:x,schema:u});function te(){var yt;function be(Le){return x.type===Le||Le==="integer"&&x.type==="number"&&x.isInteger}if(n(be,"matchesType"),Array.isArray(u.type)?u.type.some(be)||h.problems.push({location:{offset:x.offset,length:x.length},message:u.errorMessage||it("Incorrect type. Expected one of {0}.",u.type.join(", "))}):u.type&&(be(u.type)||h.problems.push({location:{offset:x.offset,length:x.length},message:u.errorMessage||it('Incorrect type. Expected "{0}".',u.type)})),Array.isArray(u.allOf))for(const Le of u.allOf){const qe=new $n,Ze=c.newSub();On(x,Vn(Le),qe,Ze,d),h.merge(qe),c.merge(Ze)}const Ae=Vn(u.not);if(Ae){const Le=new $n,qe=c.newSub();On(x,Ae,Le,qe,d),Le.hasProblems()||h.problems.push({location:{offset:x.offset,length:x.length},message:u.errorMessage||it("Matches a schema that is not allowed.")});for(const Ze of qe.schemas)Ze.inverted=!Ze.inverted,c.add(Ze)}const Ne=n((Le,qe)=>{const Ze=[];let ht;for(const bt of Le){const At=Vn(bt),Mt=new $n,Kt=c.newSub();if(On(x,At,Mt,Kt,d),Mt.hasProblems()||Ze.push(At),!ht)ht={schema:At,validationResult:Mt,matchingSchemas:Kt};else if(!qe&&!Mt.hasProblems()&&!ht.validationResult.hasProblems())ht.matchingSchemas.merge(Kt),ht.validationResult.propertiesMatches+=Mt.propertiesMatches,ht.validationResult.propertiesValueMatches+=Mt.propertiesValueMatches,ht.validationResult.mergeProcessedProperties(Mt);else{const In=Mt.compare(ht.validationResult);In>0?ht={schema:At,validationResult:Mt,matchingSchemas:Kt}:In===0&&(ht.matchingSchemas.merge(Kt),ht.validationResult.mergeEnumValues(Mt))}}return Ze.length>1&&qe&&h.problems.push({location:{offset:x.offset,length:1},message:it("Matches multiple schemas when only one must validate.")}),ht&&(h.merge(ht.validationResult),c.merge(ht.matchingSchemas)),Ze.length},"testAlternatives");Array.isArray(u.anyOf)&&Ne(u.anyOf,!1),Array.isArray(u.oneOf)&&Ne(u.oneOf,!0);const Re=n(Le=>{const qe=new $n,Ze=c.newSub();On(x,Vn(Le),qe,Ze,d),h.merge(qe),c.merge(Ze)},"testBranch"),Ge=n((Le,qe,Ze)=>{const ht=Vn(Le),bt=new $n,At=c.newSub();On(x,ht,bt,At,d),c.merge(At),h.mergeProcessedProperties(bt),bt.hasProblems()?Ze&&Re(Ze):qe&&Re(qe)},"testCondition"),Je=Vn(u.if);if(Je&&Ge(Je,Vn(u.then),Vn(u.else)),Array.isArray(u.enum)){const Le=Gn(x);let qe=!1;for(const Ze of u.enum)if(fe(Le,Ze)){qe=!0;break}h.enumValues=u.enum,h.enumValueMatch=qe,qe||h.problems.push({location:{offset:x.offset,length:x.length},code:tn.EnumValueMismatch,message:u.errorMessage||it("Value is not accepted. Valid values: {0}.",u.enum.map(Ze=>JSON.stringify(Ze)).join(", "))})}if(Te(u.const)){const Le=Gn(x);fe(Le,u.const)?h.enumValueMatch=!0:(h.problems.push({location:{offset:x.offset,length:x.length},code:tn.EnumValueMismatch,message:u.errorMessage||it("Value must be {0}.",JSON.stringify(u.const))}),h.enumValueMatch=!1),h.enumValues=[u.const]}let nt=u.deprecationMessage;if(nt||u.deprecated){nt=nt||it("Value is deprecated");let Le=((yt=x.parent)==null?void 0:yt.type)==="property"?x.parent:x;h.problems.push({location:{offset:Le.offset,length:Le.length},severity:vn.Warning,message:nt,code:tn.Deprecated})}}n(te,"_validateNode");function pe(be){const Ae=be.value;function Ne(qe){var ht;const Ze=/^(-?\d+)(?:\.(\d+))?(?:e([-+]\d+))?$/.exec(qe.toString());return Ze&&{value:Number(Ze[1]+(Ze[2]||"")),multiplier:(((ht=Ze[2])==null?void 0:ht.length)||0)-(parseInt(Ze[3])||0)}}if(n(Ne,"normalizeFloats"),ue(u.multipleOf)){let qe=-1;if(Number.isInteger(u.multipleOf))qe=Ae%u.multipleOf;else{let Ze=Ne(u.multipleOf),ht=Ne(Ae);if(Ze&&ht){const bt=10**Math.abs(ht.multiplier-Ze.multiplier);ht.multiplier<Ze.multiplier?ht.value*=bt:Ze.value*=bt,qe=ht.value%Ze.value}}qe!==0&&h.problems.push({location:{offset:be.offset,length:be.length},message:it("Value is not divisible by {0}.",u.multipleOf)})}function Re(qe,Ze){if(ue(Ze))return Ze;if(je(Ze)&&Ze)return qe}n(Re,"getExclusiveLimit");function Ge(qe,Ze){if(!je(Ze)||!Ze)return qe}n(Ge,"getLimit");const Je=Re(u.minimum,u.exclusiveMinimum);ue(Je)&&Ae<=Je&&h.problems.push({location:{offset:be.offset,length:be.length},message:it("Value is below the exclusive minimum of {0}.",Je)});const nt=Re(u.maximum,u.exclusiveMaximum);ue(nt)&&Ae>=nt&&h.problems.push({location:{offset:be.offset,length:be.length},message:it("Value is above the exclusive maximum of {0}.",nt)});const yt=Ge(u.minimum,u.exclusiveMinimum);ue(yt)&&Ae<yt&&h.problems.push({location:{offset:be.offset,length:be.length},message:it("Value is below the minimum of {0}.",yt)});const Le=Ge(u.maximum,u.exclusiveMaximum);ue(Le)&&Ae>Le&&h.problems.push({location:{offset:be.offset,length:be.length},message:it("Value is above the maximum of {0}.",Le)})}n(pe,"_validateNumberNode");function de(be){if(ue(u.minLength)&&w(be.value)<u.minLength&&h.problems.push({location:{offset:be.offset,length:be.length},message:it("String is shorter than the minimum length of {0}.",u.minLength)}),ue(u.maxLength)&&w(be.value)>u.maxLength&&h.problems.push({location:{offset:be.offset,length:be.length},message:it("String is longer than the maximum length of {0}.",u.maxLength)}),Xe(u.pattern)){const Ae=G(u.pattern);Ae!=null&&Ae.test(be.value)||h.problems.push({location:{offset:be.offset,length:be.length},message:u.patternErrorMessage||u.errorMessage||it('String does not match the pattern of "{0}".',u.pattern)})}if(u.format)switch(u.format){case"uri":case"uri-reference":{let Ne;if(!be.value)Ne=it("URI expected.");else{const Re=/^(([^:/?#]+?):)?(\/\/([^/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?/.exec(be.value);Re?!Re[2]&&u.format==="uri"&&(Ne=it("URI with a scheme is expected.")):Ne=it("URI is expected.")}Ne&&h.problems.push({location:{offset:be.offset,length:be.length},message:u.patternErrorMessage||u.errorMessage||it("String is not a URI: {0}",Ne)})}break;case"color-hex":case"date-time":case"date":case"time":case"email":case"hostname":case"ipv4":case"ipv6":const Ae=Pi[u.format];(!be.value||!Ae.pattern.exec(be.value))&&h.problems.push({location:{offset:be.offset,length:be.length},message:u.patternErrorMessage||u.errorMessage||Ae.errorMessage});default:}}n(de,"_validateStringNode");function oe(be){let Ae,Ne;d.schemaDraft>=Hn.v2020_12?(Ae=u.prefixItems,Ne=Array.isArray(u.items)?void 0:u.items):(Ae=Array.isArray(u.items)?u.items:void 0,Ne=Array.isArray(u.items)?u.additionalItems:u.items);let Re=0;if(Ae!==void 0){const nt=Math.min(Ae.length,be.items.length);for(;Re<nt;Re++){const yt=Ae[Re],Le=Vn(yt),qe=new $n,Ze=be.items[Re];Ze&&(On(Ze,Le,qe,c,d),h.mergePropertyMatch(qe)),h.processedProperties.add(String(Re))}}if(Ne!==void 0&&Re<be.items.length)if(typeof Ne=="boolean")for(Ne===!1&&h.problems.push({location:{offset:be.offset,length:be.length},message:it("Array has too many items according to schema. Expected {0} or fewer.",Re)});Re<be.items.length;Re++)h.processedProperties.add(String(Re)),h.propertiesValueMatches++;else for(;Re<be.items.length;Re++){const nt=new $n;On(be.items[Re],Ne,nt,c,d),h.mergePropertyMatch(nt),h.processedProperties.add(String(Re))}const Ge=Vn(u.contains);if(Ge){let nt=0;for(let yt=0;yt<be.items.length;yt++){const Le=be.items[yt],qe=new $n;On(Le,Ge,qe,Wi.instance,d),qe.hasProblems()||(nt++,d.schemaDraft>=Hn.v2020_12&&h.processedProperties.add(String(yt)))}nt===0&&!ue(u.minContains)&&h.problems.push({location:{offset:be.offset,length:be.length},message:u.errorMessage||it("Array does not contain required item.")}),ue(u.minContains)&&nt<u.minContains&&h.problems.push({location:{offset:be.offset,length:be.length},message:u.errorMessage||it("Array has too few items that match the contains contraint. Expected {0} or more.",u.minContains)}),ue(u.maxContains)&&nt>u.maxContains&&h.problems.push({location:{offset:be.offset,length:be.length},message:u.errorMessage||it("Array has too many items that match the contains contraint. Expected {0} or less.",u.maxContains)})}const Je=u.unevaluatedItems;if(Je!==void 0)for(let nt=0;nt<be.items.length;nt++){if(!h.processedProperties.has(String(nt)))if(Je===!1)h.problems.push({location:{offset:be.offset,length:be.length},message:it("Item does not match any validation rule from the array.")});else{const yt=new $n;On(be.items[nt],u.unevaluatedItems,yt,c,d),h.mergePropertyMatch(yt)}h.processedProperties.add(String(nt)),h.propertiesValueMatches++}if(ue(u.minItems)&&be.items.length<u.minItems&&h.problems.push({location:{offset:be.offset,length:be.length},message:it("Array has too few items. Expected {0} or more.",u.minItems)}),ue(u.maxItems)&&be.items.length>u.maxItems&&h.problems.push({location:{offset:be.offset,length:be.length},message:it("Array has too many items. Expected {0} or fewer.",u.maxItems)}),u.uniqueItems===!0){let nt=n(function(){for(let Le=0;Le<yt.length-1;Le++){const qe=yt[Le];for(let Ze=Le+1;Ze<yt.length;Ze++)if(fe(qe,yt[Ze]))return!0}return!1},"hasDuplicates");const yt=Gn(be);nt()&&h.problems.push({location:{offset:be.offset,length:be.length},message:it("Array has duplicate items.")})}}n(oe,"_validateArrayNode");function ke(be){const Ae=Object.create(null),Ne=new Set;for(const Le of be.properties){const qe=Le.keyNode.value;Ae[qe]=Le.valueNode,Ne.add(qe)}if(Array.isArray(u.required)){for(const Le of u.required)if(!Ae[Le]){const qe=be.parent&&be.parent.type==="property"&&be.parent.keyNode,Ze=qe?{offset:qe.offset,length:qe.length}:{offset:be.offset,length:1};h.problems.push({location:Ze,message:it('Missing property "{0}".',Le)})}}const Re=n(Le=>{Ne.delete(Le),h.processedProperties.add(Le)},"propertyProcessed");if(u.properties)for(const Le of Object.keys(u.properties)){Re(Le);const qe=u.properties[Le],Ze=Ae[Le];if(Ze)if(je(qe))if(qe)h.propertiesMatches++,h.propertiesValueMatches++;else{const ht=Ze.parent;h.problems.push({location:{offset:ht.keyNode.offset,length:ht.keyNode.length},message:u.errorMessage||it("Property {0} is not allowed.",Le)})}else{const ht=new $n;On(Ze,qe,ht,c,d),h.mergePropertyMatch(ht)}}if(u.patternProperties)for(const Le of Object.keys(u.patternProperties)){const qe=G(Le);if(qe){const Ze=[];for(const ht of Ne)if(qe.test(ht)){Ze.push(ht);const bt=Ae[ht];if(bt){const At=u.patternProperties[Le];if(je(At))if(At)h.propertiesMatches++,h.propertiesValueMatches++;else{const Mt=bt.parent;h.problems.push({location:{offset:Mt.keyNode.offset,length:Mt.keyNode.length},message:u.errorMessage||it("Property {0} is not allowed.",ht)})}else{const Mt=new $n;On(bt,At,Mt,c,d),h.mergePropertyMatch(Mt)}}}Ze.forEach(Re)}}const Ge=u.additionalProperties;if(Ge!==void 0)for(const Le of Ne){Re(Le);const qe=Ae[Le];if(qe){if(Ge===!1){const Ze=qe.parent;h.problems.push({location:{offset:Ze.keyNode.offset,length:Ze.keyNode.length},message:u.errorMessage||it("Property {0} is not allowed.",Le)})}else if(Ge!==!0){const Ze=new $n;On(qe,Ge,Ze,c,d),h.mergePropertyMatch(Ze)}}}const Je=u.unevaluatedProperties;if(Je!==void 0){const Le=[];for(const qe of Ne)if(!h.processedProperties.has(qe)){Le.push(qe);const Ze=Ae[qe];if(Ze){if(Je===!1){const ht=Ze.parent;h.problems.push({location:{offset:ht.keyNode.offset,length:ht.keyNode.length},message:u.errorMessage||it("Property {0} is not allowed.",qe)})}else if(Je!==!0){const ht=new $n;On(Ze,Je,ht,c,d),h.mergePropertyMatch(ht)}}}Le.forEach(Re)}if(ue(u.maxProperties)&&be.properties.length>u.maxProperties&&h.problems.push({location:{offset:be.offset,length:be.length},message:it("Object has more properties than limit of {0}.",u.maxProperties)}),ue(u.minProperties)&&be.properties.length<u.minProperties&&h.problems.push({location:{offset:be.offset,length:be.length},message:it("Object has fewer properties than the required number of {0}",u.minProperties)}),u.dependentRequired)for(const Le in u.dependentRequired){const qe=Ae[Le],Ze=u.dependentRequired[Le];qe&&Array.isArray(Ze)&&yt(Le,Ze)}if(u.dependentSchemas)for(const Le in u.dependentSchemas){const qe=Ae[Le],Ze=u.dependentSchemas[Le];qe&&We(Ze)&&yt(Le,Ze)}if(u.dependencies)for(const Le in u.dependencies)Ae[Le]&&yt(Le,u.dependencies[Le]);const nt=Vn(u.propertyNames);if(nt)for(const Le of be.properties){const qe=Le.keyNode;qe&&On(qe,nt,h,Wi.instance,d)}function yt(Le,qe){if(Array.isArray(qe))for(const Ze of qe)Ae[Ze]?h.propertiesValueMatches++:h.problems.push({location:{offset:be.offset,length:be.length},message:it("Object is missing property {0} required by property {1}.",Ze,Le)});else{const Ze=Vn(qe);if(Ze){const ht=new $n;On(be,Ze,ht,c,d),h.mergePropertyMatch(ht)}}}n(yt,"_validatePropertyDependencies")}n(ke,"_validateObjectNode")}n(On,"validate");function zr(a,u){const h=[];let c=-1;const d=a.getText(),x=Ce(d,!1),te=u&&u.collectComments?[]:void 0;function pe(){for(;;){const bt=x.scan();switch(be(),bt){case 12:case 13:Array.isArray(te)&&te.push(Ve.create(a.positionAt(x.getTokenOffset()),a.positionAt(x.getTokenOffset()+x.getTokenLength())));break;case 15:case 14:break;default:return bt}}}n(pe,"_scanNext");function de(bt){return x.getToken()===bt?(pe(),!0):!1}n(de,"_accept");function oe(bt,At,Mt,Kt,In=vn.Error){if(h.length===0||Mt!==c){const Qt=Ve.create(a.positionAt(Mt),a.positionAt(Kt));h.push(dn.create(Qt,bt,In,At,a.languageId)),c=Mt}}n(oe,"_errorAtRange");function ke(bt,At,Mt=void 0,Kt=[],In=[]){let Qt=x.getTokenOffset(),Tt=x.getTokenOffset()+x.getTokenLength();if(Qt===Tt&&Qt>0){for(Qt--;Qt>0&&/\s/.test(d.charAt(Qt));)Qt--;Tt=Qt+1}if(oe(bt,At,Qt,Tt),Mt&&Ae(Mt,!1),Kt.length+In.length>0){let wt=x.getToken();for(;wt!==17;){if(Kt.indexOf(wt)!==-1){pe();break}else if(In.indexOf(wt)!==-1)break;wt=pe()}}return Mt}n(ke,"_error");function be(){switch(x.getTokenError()){case 4:return ke(it("Invalid unicode sequence in string."),tn.InvalidUnicode),!0;case 5:return ke(it("Invalid escape character in string."),tn.InvalidEscapeCharacter),!0;case 3:return ke(it("Unexpected end of number."),tn.UnexpectedEndOfNumber),!0;case 1:return ke(it("Unexpected end of comment."),tn.UnexpectedEndOfComment),!0;case 2:return ke(it("Unexpected end of string."),tn.UnexpectedEndOfString),!0;case 6:return ke(it("Invalid characters in string. Control characters must be escaped."),tn.InvalidCharacter),!0}return!1}n(be,"_checkScanError");function Ae(bt,At){return bt.length=x.getTokenOffset()+x.getTokenLength()-bt.offset,At&&pe(),bt}n(Ae,"_finalize");function Ne(bt){if(x.getToken()!==3)return;const At=new Vi(bt,x.getTokenOffset());pe();const Mt=0;let Kt=!1;for(;x.getToken()!==4&&x.getToken()!==17;){if(x.getToken()===5){Kt||ke(it("Value expected"),tn.ValueExpected);const Qt=x.getTokenOffset();if(pe(),x.getToken()===4){Kt&&oe(it("Trailing comma"),tn.TrailingComma,Qt,Qt+1);continue}}else Kt&&ke(it("Expected comma"),tn.CommaExpected);const In=qe(At);In?At.items.push(In):ke(it("Value expected"),tn.ValueExpected,void 0,[],[4,5]),Kt=!0}return x.getToken()!==4?ke(it("Expected comma or closing bracket"),tn.CommaOrCloseBacketExpected,At):Ae(At,!0)}n(Ne,"_parseArray");const Re=new bi(void 0,0,0);function Ge(bt,At){const Mt=new lr(bt,x.getTokenOffset(),Re);let Kt=nt(Mt);if(!Kt)if(x.getToken()===16){ke(it("Property keys must be doublequoted"),tn.PropertyKeysMustBeDoublequoted);const Qt=new bi(Mt,x.getTokenOffset(),x.getTokenLength());Qt.value=x.getTokenValue(),Kt=Qt,pe()}else return;if(Mt.keyNode=Kt,Kt.value!=="//"){const Qt=At[Kt.value];Qt?(oe(it("Duplicate object key"),tn.DuplicateKey,Mt.keyNode.offset,Mt.keyNode.offset+Mt.keyNode.length,vn.Warning),We(Qt)&&oe(it("Duplicate object key"),tn.DuplicateKey,Qt.keyNode.offset,Qt.keyNode.offset+Qt.keyNode.length,vn.Warning),At[Kt.value]=!0):At[Kt.value]=Mt}if(x.getToken()===6)Mt.colonOffset=x.getTokenOffset(),pe();else if(ke(it("Colon expected"),tn.ColonExpected),x.getToken()===10&&a.positionAt(Kt.offset+Kt.length).line<a.positionAt(x.getTokenOffset()).line)return Mt.length=Kt.length,Mt;const In=qe(Mt);return In?(Mt.valueNode=In,Mt.length=In.offset+In.length-Mt.offset,Mt):ke(it("Value expected"),tn.ValueExpected,Mt,[],[2,5])}n(Ge,"_parseProperty");function Je(bt){if(x.getToken()!==1)return;const At=new zn(bt,x.getTokenOffset()),Mt=Object.create(null);pe();let Kt=!1;for(;x.getToken()!==2&&x.getToken()!==17;){if(x.getToken()===5){Kt||ke(it("Property expected"),tn.PropertyExpected);const Qt=x.getTokenOffset();if(pe(),x.getToken()===2){Kt&&oe(it("Trailing comma"),tn.TrailingComma,Qt,Qt+1);continue}}else Kt&&ke(it("Expected comma"),tn.CommaExpected);const In=Ge(At,Mt);In?At.properties.push(In):ke(it("Property expected"),tn.PropertyExpected,void 0,[],[2,5]),Kt=!0}return x.getToken()!==2?ke(it("Expected comma or closing brace"),tn.CommaOrCloseBraceExpected,At):Ae(At,!0)}n(Je,"_parseObject");function nt(bt){if(x.getToken()!==10)return;const At=new bi(bt,x.getTokenOffset());return At.value=x.getTokenValue(),Ae(At,!0)}n(nt,"_parseString");function yt(bt){if(x.getToken()!==11)return;const At=new wr(bt,x.getTokenOffset());if(x.getTokenError()===0){const Mt=x.getTokenValue();try{const Kt=JSON.parse(Mt);if(!ue(Kt))return ke(it("Invalid number format."),tn.Undefined,At);At.value=Kt}catch{return ke(it("Invalid number format."),tn.Undefined,At)}At.isInteger=Mt.indexOf(".")===-1}return Ae(At,!0)}n(yt,"_parseNumber");function Le(bt){let At;switch(x.getToken()){case 7:return Ae(new Ri(bt,x.getTokenOffset()),!0);case 8:return Ae(new xr(bt,!0,x.getTokenOffset()),!0);case 9:return Ae(new xr(bt,!1,x.getTokenOffset()),!0);default:return}}n(Le,"_parseLiteral");function qe(bt){return Ne(bt)||Je(bt)||nt(bt)||yt(bt)||Le(bt)}n(qe,"_parseValue");let Ze;return pe()!==17&&(Ze=qe(Ze),Ze?x.getToken()!==17&&ke(it("End of file expected."),tn.Undefined):ke(it("Expected a JSON object, array or literal."),tn.Undefined)),new Er(Ze,h,te)}n(zr,"parse3");function Me(a,u,h){if(a!==null&&typeof a=="object"){const c=u+"	";if(Array.isArray(a)){if(a.length===0)return"[]";let d=`[
`;for(let x=0;x<a.length;x++)d+=c+Me(a[x],c,h),x<a.length-1&&(d+=","),d+=`
`;return d+=u+"]",d}else{const d=Object.keys(a);if(d.length===0)return"{}";let x=`{
`;for(let te=0;te<d.length;te++){const pe=d[te];x+=c+JSON.stringify(pe)+": "+Me(a[pe],c,h),te<d.length-1&&(x+=","),x+=`
`}return x+=u+"}",x}}return h(a)}n(Me,"stringifyObject");var p=[",","}","]"],k=[":"],H=(rr=class{constructor(u,h=[],c=Promise,d={}){this.schemaService=u,this.contributions=h,this.promiseConstructor=c,this.clientCapabilities=d}doResolve(u){for(let h=this.contributions.length-1;h>=0;h--){const c=this.contributions[h].resolveCompletion;if(c){const d=c(u);if(d)return d}}return this.promiseConstructor.resolve(u)}doComplete(u,h,c){const d={items:[],isIncomplete:!1},x=u.getText(),te=u.offsetAt(h);let pe=c.getNodeFromOffset(te,!0);if(this.isInComment(u,pe?pe.offset:0,te))return Promise.resolve(d);if(pe&&te===pe.offset+pe.length&&te>0){const Ne=x[te-1];(pe.type==="object"&&Ne==="}"||pe.type==="array"&&Ne==="]")&&(pe=pe.parent)}const de=this.getCurrentWord(u,te);let oe;if(pe&&(pe.type==="string"||pe.type==="number"||pe.type==="boolean"||pe.type==="null"))oe=Ve.create(u.positionAt(pe.offset),u.positionAt(pe.offset+pe.length));else{let Ne=te-de.length;Ne>0&&x[Ne-1]==='"'&&Ne--,oe=Ve.create(u.positionAt(Ne),h)}const ke=!1,be=new Map,Ae={add:n(Ne=>{let Re=Ne.label;const Ge=be.get(Re);if(Ge)Ge.documentation||(Ge.documentation=Ne.documentation),Ge.detail||(Ge.detail=Ne.detail),Ge.labelDetails||(Ge.labelDetails=Ne.labelDetails);else{if(Re=Re.replace(/[\n]/g,"\u21B5"),Re.length>60){const Je=Re.substr(0,57).trim()+"...";be.has(Je)||(Re=Je)}Ne.textEdit=an.replace(oe,Ne.insertText),ke&&(Ne.commitCharacters=Ne.kind===dt.Property?k:p),Ne.label=Re,be.set(Re,Ne),d.items.push(Ne)}},"add"),setAsIncomplete:n(()=>{d.isIncomplete=!0},"setAsIncomplete"),error:n(Ne=>{console.error(Ne)},"error"),getNumberOfProposals:n(()=>d.items.length,"getNumberOfProposals")};return this.schemaService.getSchemaForResource(u.uri,c).then(Ne=>{const Re=[];let Ge=!0,Je="",nt;if(pe&&pe.type==="string"){const Le=pe.parent;Le&&Le.type==="property"&&Le.keyNode===pe&&(Ge=!Le.valueNode,nt=Le,Je=x.substr(pe.offset+1,pe.length-2),Le&&(pe=Le.parent))}if(pe&&pe.type==="object"){if(pe.offset===te)return d;pe.properties.forEach(ht=>{(!nt||nt!==ht)&&be.set(ht.keyNode.value,Nt.create("__"))});let qe="";Ge&&(qe=this.evaluateSeparatorAfter(u,u.offsetAt(oe.end))),Ne?this.getPropertyCompletions(Ne,c,pe,Ge,qe,Ae):this.getSchemaLessPropertyCompletions(c,pe,Je,Ae);const Ze=Ji(pe);this.contributions.forEach(ht=>{const bt=ht.collectPropertyCompletions(u.uri,Ze,de,Ge,qe==="",Ae);bt&&Re.push(bt)}),!Ne&&de.length>0&&x.charAt(te-de.length-1)!=='"'&&(Ae.add({kind:dt.Property,label:this.getLabelForValue(de),insertText:this.getInsertTextForProperty(de,void 0,!1,qe),insertTextFormat:ut.Snippet,documentation:""}),Ae.setAsIncomplete())}const yt={};return Ne?this.getValueCompletions(Ne,c,pe,te,u,Ae,yt):this.getSchemaLessValueCompletions(c,pe,te,u,Ae),this.contributions.length>0&&this.getContributedValueCompletions(c,pe,te,u,Ae,Re),this.promiseConstructor.all(Re).then(()=>{if(Ae.getNumberOfProposals()===0){let Le=te;pe&&(pe.type==="string"||pe.type==="number"||pe.type==="boolean"||pe.type==="null")&&(Le=pe.offset+pe.length);const qe=this.evaluateSeparatorAfter(u,Le);this.addFillerValueCompletions(yt,qe,Ae)}return d})})}getPropertyCompletions(u,h,c,d,x,te){h.getMatchingSchemas(u.schema,c.offset).forEach(de=>{if(de.node===c&&!de.inverted){const oe=de.schema.properties;oe&&Object.keys(oe).forEach(be=>{const Ae=oe[be];if(typeof Ae=="object"&&!Ae.deprecationMessage&&!Ae.doNotSuggest){const Ne={kind:dt.Property,label:be,insertText:this.getInsertTextForProperty(be,Ae,d,x),insertTextFormat:ut.Snippet,filterText:this.getFilterTextForValue(be),documentation:this.fromMarkup(Ae.markdownDescription)||Ae.description||""};Ae.suggestSortText!==void 0&&(Ne.sortText=Ae.suggestSortText),Ne.insertText&&M(Ne.insertText,`$1${x}`)&&(Ne.command={title:"Suggest",command:"editor.action.triggerSuggest"}),te.add(Ne)}});const ke=de.schema.propertyNames;if(typeof ke=="object"&&!ke.deprecationMessage&&!ke.doNotSuggest){const be=n((Ae,Ne=void 0)=>{const Re={kind:dt.Property,label:Ae,insertText:this.getInsertTextForProperty(Ae,void 0,d,x),insertTextFormat:ut.Snippet,filterText:this.getFilterTextForValue(Ae),documentation:Ne||this.fromMarkup(ke.markdownDescription)||ke.description||""};ke.suggestSortText!==void 0&&(Re.sortText=ke.suggestSortText),Re.insertText&&M(Re.insertText,`$1${x}`)&&(Re.command={title:"Suggest",command:"editor.action.triggerSuggest"}),te.add(Re)},"propertyNameCompletionItem");if(ke.enum)for(let Ae=0;Ae<ke.enum.length;Ae++){let Ne;ke.markdownEnumDescriptions&&Ae<ke.markdownEnumDescriptions.length?Ne=this.fromMarkup(ke.markdownEnumDescriptions[Ae]):ke.enumDescriptions&&Ae<ke.enumDescriptions.length&&(Ne=ke.enumDescriptions[Ae]),be(ke.enum[Ae],Ne)}ke.const&&be(ke.const)}}})}getSchemaLessPropertyCompletions(u,h,c,d){const x=n(te=>{te.properties.forEach(pe=>{const de=pe.keyNode.value;d.add({kind:dt.Property,label:de,insertText:this.getInsertTextForValue(de,""),insertTextFormat:ut.Snippet,filterText:this.getFilterTextForValue(de),documentation:""})})},"collectCompletionsForSimilarObject");if(h.parent)if(h.parent.type==="property"){const te=h.parent.keyNode.value;u.visit(pe=>(pe.type==="property"&&pe!==h.parent&&pe.keyNode.value===te&&pe.valueNode&&pe.valueNode.type==="object"&&x(pe.valueNode),!0))}else h.parent.type==="array"&&h.parent.items.forEach(te=>{te.type==="object"&&te!==h&&x(te)});else h.type==="object"&&d.add({kind:dt.Property,label:"$schema",insertText:this.getInsertTextForProperty("$schema",void 0,!0,""),insertTextFormat:ut.Snippet,documentation:"",filterText:this.getFilterTextForValue("$schema")})}getSchemaLessValueCompletions(u,h,c,d,x){let te=c;if(h&&(h.type==="string"||h.type==="number"||h.type==="boolean"||h.type==="null")&&(te=h.offset+h.length,h=h.parent),!h){x.add({kind:this.getSuggestionKind("object"),label:"Empty object",insertText:this.getInsertTextForValue({},""),insertTextFormat:ut.Snippet,documentation:""}),x.add({kind:this.getSuggestionKind("array"),label:"Empty array",insertText:this.getInsertTextForValue([],""),insertTextFormat:ut.Snippet,documentation:""});return}const pe=this.evaluateSeparatorAfter(d,te),de=n(oe=>{oe.parent&&!Oi(oe.parent,c,!0)&&x.add({kind:this.getSuggestionKind(oe.type),label:this.getLabelTextForMatchingNode(oe,d),insertText:this.getInsertTextForMatchingNode(oe,d,pe),insertTextFormat:ut.Snippet,documentation:""}),oe.type==="boolean"&&this.addBooleanValueCompletion(!oe.value,pe,x)},"collectSuggestionsForValues");if(h.type==="property"&&c>(h.colonOffset||0)){const oe=h.valueNode;if(oe&&(c>oe.offset+oe.length||oe.type==="object"||oe.type==="array"))return;const ke=h.keyNode.value;u.visit(be=>(be.type==="property"&&be.keyNode.value===ke&&be.valueNode&&de(be.valueNode),!0)),ke==="$schema"&&h.parent&&!h.parent.parent&&this.addDollarSchemaCompletions(pe,x)}if(h.type==="array")if(h.parent&&h.parent.type==="property"){const oe=h.parent.keyNode.value;u.visit(ke=>(ke.type==="property"&&ke.keyNode.value===oe&&ke.valueNode&&ke.valueNode.type==="array"&&ke.valueNode.items.forEach(de),!0))}else h.items.forEach(de)}getValueCompletions(u,h,c,d,x,te,pe){let de=d,oe,ke;if(c&&(c.type==="string"||c.type==="number"||c.type==="boolean"||c.type==="null")&&(de=c.offset+c.length,ke=c,c=c.parent),!c){this.addSchemaValueCompletions(u.schema,"",te,pe);return}if(c.type==="property"&&d>(c.colonOffset||0)){const be=c.valueNode;if(be&&d>be.offset+be.length)return;oe=c.keyNode.value,c=c.parent}if(c&&(oe!==void 0||c.type==="array")){const be=this.evaluateSeparatorAfter(x,de),Ae=h.getMatchingSchemas(u.schema,c.offset,ke);for(const Ne of Ae)if(Ne.node===c&&!Ne.inverted&&Ne.schema){if(c.type==="array"&&Ne.schema.items){let Re=te;if(Ne.schema.uniqueItems){const Ge=new Set;c.children.forEach(Je=>{Je.type!=="array"&&Je.type!=="object"&&Ge.add(this.getLabelForValue(Gn(Je)))}),Re={...te,add(Je){Ge.has(Je.label)||te.add(Je)}}}if(Array.isArray(Ne.schema.items)){const Ge=this.findItemAtOffset(c,x,d);Ge<Ne.schema.items.length&&this.addSchemaValueCompletions(Ne.schema.items[Ge],be,Re,pe)}else this.addSchemaValueCompletions(Ne.schema.items,be,Re,pe)}if(oe!==void 0){let Re=!1;if(Ne.schema.properties){const Ge=Ne.schema.properties[oe];Ge&&(Re=!0,this.addSchemaValueCompletions(Ge,be,te,pe))}if(Ne.schema.patternProperties&&!Re)for(const Ge of Object.keys(Ne.schema.patternProperties)){const Je=G(Ge);if(Je!=null&&Je.test(oe)){Re=!0;const nt=Ne.schema.patternProperties[Ge];this.addSchemaValueCompletions(nt,be,te,pe)}}if(Ne.schema.additionalProperties&&!Re){const Ge=Ne.schema.additionalProperties;this.addSchemaValueCompletions(Ge,be,te,pe)}}}oe==="$schema"&&!c.parent&&this.addDollarSchemaCompletions(be,te),pe.boolean&&(this.addBooleanValueCompletion(!0,be,te),this.addBooleanValueCompletion(!1,be,te)),pe.null&&this.addNullValueCompletion(be,te)}}getContributedValueCompletions(u,h,c,d,x,te){if(!h)this.contributions.forEach(pe=>{const de=pe.collectDefaultCompletions(d.uri,x);de&&te.push(de)});else if((h.type==="string"||h.type==="number"||h.type==="boolean"||h.type==="null")&&(h=h.parent),h&&h.type==="property"&&c>(h.colonOffset||0)){const pe=h.keyNode.value,de=h.valueNode;if((!de||c<=de.offset+de.length)&&h.parent){const oe=Ji(h.parent);this.contributions.forEach(ke=>{const be=ke.collectValueCompletions(d.uri,oe,pe,x);be&&te.push(be)})}}}addSchemaValueCompletions(u,h,c,d){typeof u=="object"&&(this.addEnumValueCompletions(u,h,c),this.addDefaultValueCompletions(u,h,c),this.collectTypes(u,d),Array.isArray(u.allOf)&&u.allOf.forEach(x=>this.addSchemaValueCompletions(x,h,c,d)),Array.isArray(u.anyOf)&&u.anyOf.forEach(x=>this.addSchemaValueCompletions(x,h,c,d)),Array.isArray(u.oneOf)&&u.oneOf.forEach(x=>this.addSchemaValueCompletions(x,h,c,d)))}addDefaultValueCompletions(u,h,c,d=0){let x=!1;if(Te(u.default)){let te=u.type,pe=u.default;for(let oe=d;oe>0;oe--)pe=[pe],te="array";const de={kind:this.getSuggestionKind(te),label:this.getLabelForValue(pe),insertText:this.getInsertTextForValue(pe,h),insertTextFormat:ut.Snippet};this.doesSupportsLabelDetails()?de.labelDetails={description:it("Default value")}:de.detail=it("Default value"),c.add(de),x=!0}Array.isArray(u.examples)&&u.examples.forEach(te=>{let pe=u.type,de=te;for(let oe=d;oe>0;oe--)de=[de],pe="array";c.add({kind:this.getSuggestionKind(pe),label:this.getLabelForValue(de),insertText:this.getInsertTextForValue(de,h),insertTextFormat:ut.Snippet}),x=!0}),Array.isArray(u.defaultSnippets)&&u.defaultSnippets.forEach(te=>{let pe=u.type,de=te.body,oe=te.label,ke,be;if(Te(de)){let Ae=u.type;for(let Ne=d;Ne>0;Ne--)de=[de],Ae="array";ke=this.getInsertTextForSnippetValue(de,h),be=this.getFilterTextForSnippetValue(de),oe=oe||this.getLabelForSnippetValue(de)}else if(typeof te.bodyText=="string"){let Ae="",Ne="",Re="";for(let Ge=d;Ge>0;Ge--)Ae=Ae+Re+`[
`,Ne=Ne+`
`+Re+"]",Re+="	",pe="array";ke=Ae+Re+te.bodyText.split(`
`).join(`
`+Re)+Ne+h,oe=oe||ke,be=ke.replace(/[\n]/g,"")}else return;c.add({kind:this.getSuggestionKind(pe),label:oe,documentation:this.fromMarkup(te.markdownDescription)||te.description,insertText:ke,insertTextFormat:ut.Snippet,filterText:be}),x=!0}),!x&&typeof u.items=="object"&&!Array.isArray(u.items)&&d<5&&this.addDefaultValueCompletions(u.items,h,c,d+1)}addEnumValueCompletions(u,h,c){if(Te(u.const)&&c.add({kind:this.getSuggestionKind(u.type),label:this.getLabelForValue(u.const),insertText:this.getInsertTextForValue(u.const,h),insertTextFormat:ut.Snippet,documentation:this.fromMarkup(u.markdownDescription)||u.description}),Array.isArray(u.enum))for(let d=0,x=u.enum.length;d<x;d++){const te=u.enum[d];let pe=this.fromMarkup(u.markdownDescription)||u.description;u.markdownEnumDescriptions&&d<u.markdownEnumDescriptions.length&&this.doesSupportMarkdown()?pe=this.fromMarkup(u.markdownEnumDescriptions[d]):u.enumDescriptions&&d<u.enumDescriptions.length&&(pe=u.enumDescriptions[d]),c.add({kind:this.getSuggestionKind(u.type),label:this.getLabelForValue(te),insertText:this.getInsertTextForValue(te,h),insertTextFormat:ut.Snippet,documentation:pe})}}collectTypes(u,h){if(Array.isArray(u.enum)||Te(u.const))return;const c=u.type;Array.isArray(c)?c.forEach(d=>h[d]=!0):c&&(h[c]=!0)}addFillerValueCompletions(u,h,c){u.object&&c.add({kind:this.getSuggestionKind("object"),label:"{}",insertText:this.getInsertTextForGuessedValue({},h),insertTextFormat:ut.Snippet,detail:it("New object"),documentation:""}),u.array&&c.add({kind:this.getSuggestionKind("array"),label:"[]",insertText:this.getInsertTextForGuessedValue([],h),insertTextFormat:ut.Snippet,detail:it("New array"),documentation:""})}addBooleanValueCompletion(u,h,c){c.add({kind:this.getSuggestionKind("boolean"),label:u?"true":"false",insertText:this.getInsertTextForValue(u,h),insertTextFormat:ut.Snippet,documentation:""})}addNullValueCompletion(u,h){h.add({kind:this.getSuggestionKind("null"),label:"null",insertText:"null"+u,insertTextFormat:ut.Snippet,documentation:""})}addDollarSchemaCompletions(u,h){this.schemaService.getRegisteredSchemaIds(d=>d==="http"||d==="https").forEach(d=>{d.startsWith("http://json-schema.org/draft-")&&(d=d+"#"),h.add({kind:dt.Module,label:this.getLabelForValue(d),filterText:this.getFilterTextForValue(d),insertText:this.getInsertTextForValue(d,u),insertTextFormat:ut.Snippet,documentation:""})})}getLabelForValue(u){return JSON.stringify(u)}getValueFromLabel(u){return JSON.parse(u)}getFilterTextForValue(u){return JSON.stringify(u)}getFilterTextForSnippetValue(u){return JSON.stringify(u).replace(/\$\{\d+:([^}]+)\}|\$\d+/g,"$1")}getLabelForSnippetValue(u){return JSON.stringify(u).replace(/\$\{\d+:([^}]+)\}|\$\d+/g,"$1")}getInsertTextForPlainText(u){return u.replace(/[\\\$\}]/g,"\\$&")}getInsertTextForValue(u,h){const c=JSON.stringify(u,null,"	");return c==="{}"?"{$1}"+h:c==="[]"?"[$1]"+h:this.getInsertTextForPlainText(c+h)}getInsertTextForSnippetValue(u,h){return Me(u,"",n(d=>typeof d=="string"&&d[0]==="^"?d.substr(1):JSON.stringify(d),"replacer"))+h}getInsertTextForGuessedValue(u,h){switch(typeof u){case"object":return u===null?"${1:null}"+h:this.getInsertTextForValue(u,h);case"string":let c=JSON.stringify(u);return c=c.substr(1,c.length-2),c=this.getInsertTextForPlainText(c),'"${1:'+c+'}"'+h;case"number":case"boolean":return"${1:"+JSON.stringify(u)+"}"+h}return this.getInsertTextForValue(u,h)}getSuggestionKind(u){if(Array.isArray(u)){const h=u;u=h.length>0?h[0]:void 0}if(!u)return dt.Value;switch(u){case"string":return dt.Value;case"object":return dt.Module;case"property":return dt.Property;default:return dt.Value}}getLabelTextForMatchingNode(u,h){switch(u.type){case"array":return"[]";case"object":return"{}";default:return h.getText().substr(u.offset,u.length)}}getInsertTextForMatchingNode(u,h,c){switch(u.type){case"array":return this.getInsertTextForValue([],c);case"object":return this.getInsertTextForValue({},c);default:const d=h.getText().substr(u.offset,u.length)+c;return this.getInsertTextForPlainText(d)}}getInsertTextForProperty(u,h,c,d){const x=this.getInsertTextForValue(u,"");if(!c)return x;const te=x+": ";let pe,de=0;if(h){if(Array.isArray(h.defaultSnippets)){if(h.defaultSnippets.length===1){const oe=h.defaultSnippets[0].body;Te(oe)&&(pe=this.getInsertTextForSnippetValue(oe,""))}de+=h.defaultSnippets.length}if(h.enum&&(!pe&&h.enum.length===1&&(pe=this.getInsertTextForGuessedValue(h.enum[0],"")),de+=h.enum.length),Te(h.const)&&(pe||(pe=this.getInsertTextForGuessedValue(h.const,"")),de++),Te(h.default)&&(pe||(pe=this.getInsertTextForGuessedValue(h.default,"")),de++),Array.isArray(h.examples)&&h.examples.length&&(pe||(pe=this.getInsertTextForGuessedValue(h.examples[0],"")),de+=h.examples.length),de===0){let oe=Array.isArray(h.type)?h.type[0]:h.type;switch(oe||(h.properties?oe="object":h.items&&(oe="array")),oe){case"boolean":pe="$1";break;case"string":pe='"$1"';break;case"object":pe="{$1}";break;case"array":pe="[$1]";break;case"number":case"integer":pe="${1:0}";break;case"null":pe="${1:null}";break;default:return x}}}return(!pe||de>1)&&(pe="$1"),te+pe+d}getCurrentWord(u,h){let c=h-1;const d=u.getText();for(;c>=0&&` 	
\r\v":{[,]}`.indexOf(d.charAt(c))===-1;)c--;return d.substring(c+1,h)}evaluateSeparatorAfter(u,h){const c=Ce(u.getText(),!0);switch(c.setPosition(h),c.scan()){case 5:case 2:case 4:case 17:return"";default:return","}}findItemAtOffset(u,h,c){const d=Ce(h.getText(),!0),x=u.items;for(let te=x.length-1;te>=0;te--){const pe=x[te];if(c>pe.offset+pe.length)return d.setPosition(pe.offset+pe.length),d.scan()===5&&c>=d.getTokenOffset()+d.getTokenLength()?te+1:te;if(c>=pe.offset)return te}return 0}isInComment(u,h,c){const d=Ce(u.getText(),!1);d.setPosition(h);let x=d.scan();for(;x!==17&&d.getTokenOffset()+d.getTokenLength()<c;)x=d.scan();return(x===12||x===13)&&d.getTokenOffset()<=c}fromMarkup(u){if(u&&this.doesSupportMarkdown())return{kind:at.Markdown,value:u}}doesSupportMarkdown(){var u,h,c;if(!Te(this.supportsMarkdown)){const d=(c=(h=(u=this.clientCapabilities.textDocument)==null?void 0:u.completion)==null?void 0:h.completionItem)==null?void 0:c.documentationFormat;this.supportsMarkdown=Array.isArray(d)&&d.indexOf(at.Markdown)!==-1}return this.supportsMarkdown}doesSupportsCommitCharacters(){var u,h,c;return Te(this.supportsCommitCharacters)||(this.labelDetailsSupport=(c=(h=(u=this.clientCapabilities.textDocument)==null?void 0:u.completion)==null?void 0:h.completionItem)==null?void 0:c.commitCharactersSupport),this.supportsCommitCharacters}doesSupportsLabelDetails(){var u,h,c;return Te(this.labelDetailsSupport)||(this.labelDetailsSupport=(c=(h=(u=this.clientCapabilities.textDocument)==null?void 0:u.completion)==null?void 0:h.completionItem)==null?void 0:c.labelDetailsSupport),this.labelDetailsSupport}},n(rr,"JSONCompletion"),rr),re=(_r=class{constructor(u,h=[],c){this.schemaService=u,this.contributions=h,this.promise=c||Promise}doHover(u,h,c){const d=u.offsetAt(h);let x=c.getNodeFromOffset(d);if(!x||(x.type==="object"||x.type==="array")&&d>x.offset+1&&d<x.offset+x.length-1)return this.promise.resolve(null);const te=x;if(x.type==="string"){const ke=x.parent;if(ke&&ke.type==="property"&&ke.keyNode===x&&(x=ke.valueNode,!x))return this.promise.resolve(null)}const pe=Ve.create(u.positionAt(te.offset),u.positionAt(te.offset+te.length)),de=n(ke=>({contents:ke,range:pe}),"createHover"),oe=Ji(x);for(let ke=this.contributions.length-1;ke>=0;ke--){const Ae=this.contributions[ke].getInfoContribution(u.uri,oe);if(Ae)return Ae.then(Ne=>de(Ne))}return this.schemaService.getSchemaForResource(u.uri,c).then(ke=>{if(ke&&x){const be=c.getMatchingSchemas(ke.schema,x.offset);let Ae,Ne,Re,Ge;be.every(nt=>{if(nt.node===x&&!nt.inverted&&nt.schema&&(Ae=Ae||nt.schema.title,Ne=Ne||nt.schema.markdownDescription||ae(nt.schema.description),nt.schema.enum)){const yt=nt.schema.enum.indexOf(Gn(x));nt.schema.markdownEnumDescriptions?Re=nt.schema.markdownEnumDescriptions[yt]:nt.schema.enumDescriptions&&(Re=ae(nt.schema.enumDescriptions[yt])),Re&&(Ge=nt.schema.enum[yt],typeof Ge!="string"&&(Ge=JSON.stringify(Ge)))}return!0});let Je="";return Ae&&(Je=ae(Ae)),Ne&&(Je.length>0&&(Je+=`

`),Je+=Ne),Re&&(Je.length>0&&(Je+=`

`),Je+=`\`${_e(Ge)}\`: ${Re}`),de([Je])}return null})}},n(_r,"JSONHover"),_r);function ae(a){if(a)return a.replace(/([^\n\r])(\r?\n)([^\n\r])/gm,`$1

$3`).replace(/[\\`*_{}[\]()#+\-.!]/g,"\\$&")}n(ae,"toMarkdown");function _e(a){return a.indexOf("`")!==-1?"`` "+a+" ``":a}n(_e,"toMarkdownCodeBlock");var Ie=(sr=class{constructor(u,h){this.jsonSchemaService=u,this.promise=h,this.validationEnabled=!0}configure(u){u&&(this.validationEnabled=u.validate!==!1,this.commentSeverity=u.allowComments?void 0:vn.Error)}doValidation(u,h,c,d){if(!this.validationEnabled)return this.promise.resolve([]);const x=[],te={},pe=n(oe=>{const ke=oe.range.start.line+" "+oe.range.start.character+" "+oe.message;te[ke]||(te[ke]=!0,x.push(oe))},"addProblem"),de=n(oe=>{let ke=c!=null&&c.trailingCommas?Ke(c.trailingCommas):vn.Error,be=c!=null&&c.comments?Ke(c.comments):this.commentSeverity,Ae=c!=null&&c.schemaValidation?Ke(c.schemaValidation):vn.Warning,Ne=c!=null&&c.schemaRequest?Ke(c.schemaRequest):vn.Warning;if(oe){const Re=n((Ge,Je)=>{if(h.root&&Ne){const nt=h.root,yt=nt.type==="object"?nt.properties[0]:void 0;if(yt&&yt.keyNode.value==="$schema"){const Le=yt.valueNode||yt,qe=Ve.create(u.positionAt(Le.offset),u.positionAt(Le.offset+Le.length));pe(dn.create(qe,Ge,Ne,Je))}else{const Le=Ve.create(u.positionAt(nt.offset),u.positionAt(nt.offset+1));pe(dn.create(Le,Ge,Ne,Je))}}},"addSchemaProblem");if(oe.errors.length)Re(oe.errors[0],tn.SchemaResolveError);else if(Ae){for(const Je of oe.warnings)Re(Je,tn.SchemaUnsupportedFeature);const Ge=h.validate(u,oe.schema,Ae,c==null?void 0:c.schemaDraft);Ge&&Ge.forEach(pe)}De(oe.schema)&&(be=void 0),Qe(oe.schema)&&(ke=void 0)}for(const Re of h.syntaxErrors){if(Re.code===tn.TrailingComma){if(typeof ke!="number")continue;Re.severity=ke}pe(Re)}if(typeof be=="number"){const Re=it("Comments are not permitted in JSON.");h.comments.forEach(Ge=>{pe(dn.create(Ge,Re,be,tn.CommentNotPermitted))})}return x},"getDiagnostics");if(d){const oe=d.id||"schemaservice://untitled/"+Ee++;return this.jsonSchemaService.registerExternalSchema({uri:oe,schema:d}).getResolvedSchema().then(be=>de(be))}return this.jsonSchemaService.getSchemaForResource(u.uri,h).then(oe=>de(oe))}getLanguageStatus(u,h){return{schemas:this.jsonSchemaService.getSchemaURIsForResource(u.uri,h)}}},n(sr,"JSONValidation"),sr),Ee=0;function De(a){if(a&&typeof a=="object"){if(je(a.allowComments))return a.allowComments;if(a.allOf)for(const u of a.allOf){const h=De(u);if(je(h))return h}}}n(De,"schemaAllowsComments");function Qe(a){if(a&&typeof a=="object"){if(je(a.allowTrailingCommas))return a.allowTrailingCommas;const u=a;if(je(u.allowsTrailingCommas))return u.allowsTrailingCommas;if(a.allOf)for(const h of a.allOf){const c=Qe(h);if(je(c))return c}}}n(Qe,"schemaAllowsTrailingCommas");function Ke(a){switch(a){case"error":return vn.Error;case"warning":return vn.Warning;case"ignore":return}}n(Ke,"toDiagnosticSeverity");var et=48,st=57,gt=65,_t=97,Rt=102;function Et(a){return a<et?0:a<=st?a-et:(a<_t&&(a+=_t-gt),a>=_t&&a<=Rt?a-_t+10:0)}n(Et,"hexDigit");function Xt(a){if(a[0]==="#")switch(a.length){case 4:return{red:Et(a.charCodeAt(1))*17/255,green:Et(a.charCodeAt(2))*17/255,blue:Et(a.charCodeAt(3))*17/255,alpha:1};case 5:return{red:Et(a.charCodeAt(1))*17/255,green:Et(a.charCodeAt(2))*17/255,blue:Et(a.charCodeAt(3))*17/255,alpha:Et(a.charCodeAt(4))*17/255};case 7:return{red:(Et(a.charCodeAt(1))*16+Et(a.charCodeAt(2)))/255,green:(Et(a.charCodeAt(3))*16+Et(a.charCodeAt(4)))/255,blue:(Et(a.charCodeAt(5))*16+Et(a.charCodeAt(6)))/255,alpha:1};case 9:return{red:(Et(a.charCodeAt(1))*16+Et(a.charCodeAt(2)))/255,green:(Et(a.charCodeAt(3))*16+Et(a.charCodeAt(4)))/255,blue:(Et(a.charCodeAt(5))*16+Et(a.charCodeAt(6)))/255,alpha:(Et(a.charCodeAt(7))*16+Et(a.charCodeAt(8)))/255}}}n(Xt,"colorFromHex");var Vt=(Zi=class{constructor(u){this.schemaService=u}findDocumentSymbols(u,h,c={resultLimit:Number.MAX_VALUE}){const d=h.root;if(!d)return[];let x=c.resultLimit||Number.MAX_VALUE;const te=u.uri;if((te==="vscode://defaultsettings/keybindings.json"||M(te.toLowerCase(),"/user/keybindings.json"))&&d.type==="array"){const Ae=[];for(const Ne of d.items)if(Ne.type==="object"){for(const Re of Ne.properties)if(Re.keyNode.value==="key"&&Re.valueNode){const Ge=ft.create(u.uri,Yt(u,Ne));if(Ae.push({name:zt(Re.valueNode),kind:sn.Function,location:Ge}),x--,x<=0)return c&&c.onResultLimitExceeded&&c.onResultLimitExceeded(te),Ae}}return Ae}const pe=[{node:d,containerName:""}];let de=0,oe=!1;const ke=[],be=n((Ae,Ne)=>{Ae.type==="array"?Ae.items.forEach(Re=>{Re&&pe.push({node:Re,containerName:Ne})}):Ae.type==="object"&&Ae.properties.forEach(Re=>{const Ge=Re.valueNode;if(Ge)if(x>0){x--;const Je=ft.create(u.uri,Yt(u,Re)),nt=Ne?Ne+"."+Re.keyNode.value:Re.keyNode.value;ke.push({name:this.getKeyLabel(Re),kind:this.getSymbolKind(Ge.type),location:Je,containerName:Ne}),pe.push({node:Ge,containerName:nt})}else oe=!0})},"collectOutlineEntries");for(;de<pe.length;){const Ae=pe[de++];be(Ae.node,Ae.containerName)}return oe&&c&&c.onResultLimitExceeded&&c.onResultLimitExceeded(te),ke}findDocumentSymbols2(u,h,c={resultLimit:Number.MAX_VALUE}){const d=h.root;if(!d)return[];let x=c.resultLimit||Number.MAX_VALUE;const te=u.uri;if((te==="vscode://defaultsettings/keybindings.json"||M(te.toLowerCase(),"/user/keybindings.json"))&&d.type==="array"){const Ae=[];for(const Ne of d.items)if(Ne.type==="object"){for(const Re of Ne.properties)if(Re.keyNode.value==="key"&&Re.valueNode){const Ge=Yt(u,Ne),Je=Yt(u,Re.keyNode);if(Ae.push({name:zt(Re.valueNode),kind:sn.Function,range:Ge,selectionRange:Je}),x--,x<=0)return c&&c.onResultLimitExceeded&&c.onResultLimitExceeded(te),Ae}}return Ae}const pe=[],de=[{node:d,result:pe}];let oe=0,ke=!1;const be=n((Ae,Ne)=>{Ae.type==="array"?Ae.items.forEach((Re,Ge)=>{if(Re)if(x>0){x--;const Je=Yt(u,Re),nt=Je,Le={name:String(Ge),kind:this.getSymbolKind(Re.type),range:Je,selectionRange:nt,children:[]};Ne.push(Le),de.push({result:Le.children,node:Re})}else ke=!0}):Ae.type==="object"&&Ae.properties.forEach(Re=>{const Ge=Re.valueNode;if(Ge)if(x>0){x--;const Je=Yt(u,Re),nt=Yt(u,Re.keyNode),yt=[],Le={name:this.getKeyLabel(Re),kind:this.getSymbolKind(Ge.type),range:Je,selectionRange:nt,children:yt,detail:this.getDetail(Ge)};Ne.push(Le),de.push({result:yt,node:Ge})}else ke=!0})},"collectOutlineEntries");for(;oe<de.length;){const Ae=de[oe++];be(Ae.node,Ae.result)}return ke&&c&&c.onResultLimitExceeded&&c.onResultLimitExceeded(te),pe}getSymbolKind(u){switch(u){case"object":return sn.Module;case"string":return sn.String;case"number":return sn.Number;case"array":return sn.Array;case"boolean":return sn.Boolean;default:return sn.Variable}}getKeyLabel(u){let h=u.keyNode.value;return h&&(h=h.replace(/[\n]/g,"\u21B5")),h&&h.trim()?h:`"${h}"`}getDetail(u){if(u){if(u.type==="boolean"||u.type==="number"||u.type==="null"||u.type==="string")return String(u.value);if(u.type==="array")return u.children.length?void 0:"[]";if(u.type==="object")return u.children.length?void 0:"{}"}}findDocumentColors(u,h,c){return this.schemaService.getSchemaForResource(u.uri,h).then(d=>{const x=[];if(d){let te=c&&typeof c.resultLimit=="number"?c.resultLimit:Number.MAX_VALUE;const pe=h.getMatchingSchemas(d.schema),de={};for(const oe of pe)if(!oe.inverted&&oe.schema&&(oe.schema.format==="color"||oe.schema.format==="color-hex")&&oe.node&&oe.node.type==="string"){const ke=String(oe.node.offset);if(!de[ke]){const be=Xt(Gn(oe.node));if(be){const Ae=Yt(u,oe.node);x.push({color:be,range:Ae})}if(de[ke]=!0,te--,te<=0)return c&&c.onResultLimitExceeded&&c.onResultLimitExceeded(u.uri),x}}}return x})}getColorPresentations(u,h,c,d){const x=[],te=Math.round(c.red*255),pe=Math.round(c.green*255),de=Math.round(c.blue*255);function oe(be){const Ae=be.toString(16);return Ae.length!==2?"0"+Ae:Ae}n(oe,"toTwoDigitHex");let ke;return c.alpha===1?ke=`#${oe(te)}${oe(pe)}${oe(de)}`:ke=`#${oe(te)}${oe(pe)}${oe(de)}${oe(Math.round(c.alpha*255))}`,x.push({label:ke,textEdit:an.replace(d,JSON.stringify(ke))}),x}},n(Zi,"JSONDocumentSymbols"),Zi);function Yt(a,u){return Ve.create(a.positionAt(u.offset),a.positionAt(u.offset+u.length))}n(Yt,"getRange");function zt(a){return Gn(a)||it("<empty>")}n(zt,"getName");var en={schemaAssociations:[],schemas:{"http://json-schema.org/draft-04/schema#":{$schema:"http://json-schema.org/draft-04/schema#",definitions:{schemaArray:{type:"array",minItems:1,items:{$ref:"#"}},positiveInteger:{type:"integer",minimum:0},positiveIntegerDefault0:{allOf:[{$ref:"#/definitions/positiveInteger"},{default:0}]},simpleTypes:{type:"string",enum:["array","boolean","integer","null","number","object","string"]},stringArray:{type:"array",items:{type:"string"},minItems:1,uniqueItems:!0}},type:"object",properties:{id:{type:"string",format:"uri"},$schema:{type:"string",format:"uri"},title:{type:"string"},description:{type:"string"},default:{},multipleOf:{type:"number",minimum:0,exclusiveMinimum:!0},maximum:{type:"number"},exclusiveMaximum:{type:"boolean",default:!1},minimum:{type:"number"},exclusiveMinimum:{type:"boolean",default:!1},maxLength:{allOf:[{$ref:"#/definitions/positiveInteger"}]},minLength:{allOf:[{$ref:"#/definitions/positiveIntegerDefault0"}]},pattern:{type:"string",format:"regex"},additionalItems:{anyOf:[{type:"boolean"},{$ref:"#"}],default:{}},items:{anyOf:[{$ref:"#"},{$ref:"#/definitions/schemaArray"}],default:{}},maxItems:{allOf:[{$ref:"#/definitions/positiveInteger"}]},minItems:{allOf:[{$ref:"#/definitions/positiveIntegerDefault0"}]},uniqueItems:{type:"boolean",default:!1},maxProperties:{allOf:[{$ref:"#/definitions/positiveInteger"}]},minProperties:{allOf:[{$ref:"#/definitions/positiveIntegerDefault0"}]},required:{allOf:[{$ref:"#/definitions/stringArray"}]},additionalProperties:{anyOf:[{type:"boolean"},{$ref:"#"}],default:{}},definitions:{type:"object",additionalProperties:{$ref:"#"},default:{}},properties:{type:"object",additionalProperties:{$ref:"#"},default:{}},patternProperties:{type:"object",additionalProperties:{$ref:"#"},default:{}},dependencies:{type:"object",additionalProperties:{anyOf:[{$ref:"#"},{$ref:"#/definitions/stringArray"}]}},enum:{type:"array",minItems:1,uniqueItems:!0},type:{anyOf:[{$ref:"#/definitions/simpleTypes"},{type:"array",items:{$ref:"#/definitions/simpleTypes"},minItems:1,uniqueItems:!0}]},format:{anyOf:[{type:"string",enum:["date-time","uri","email","hostname","ipv4","ipv6","regex"]},{type:"string"}]},allOf:{allOf:[{$ref:"#/definitions/schemaArray"}]},anyOf:{allOf:[{$ref:"#/definitions/schemaArray"}]},oneOf:{allOf:[{$ref:"#/definitions/schemaArray"}]},not:{allOf:[{$ref:"#"}]}},dependencies:{exclusiveMaximum:["maximum"],exclusiveMinimum:["minimum"]},default:{}},"http://json-schema.org/draft-07/schema#":{definitions:{schemaArray:{type:"array",minItems:1,items:{$ref:"#"}},nonNegativeInteger:{type:"integer",minimum:0},nonNegativeIntegerDefault0:{allOf:[{$ref:"#/definitions/nonNegativeInteger"},{default:0}]},simpleTypes:{enum:["array","boolean","integer","null","number","object","string"]},stringArray:{type:"array",items:{type:"string"},uniqueItems:!0,default:[]}},type:["object","boolean"],properties:{$id:{type:"string",format:"uri-reference"},$schema:{type:"string",format:"uri"},$ref:{type:"string",format:"uri-reference"},$comment:{type:"string"},title:{type:"string"},description:{type:"string"},default:!0,readOnly:{type:"boolean",default:!1},examples:{type:"array",items:!0},multipleOf:{type:"number",exclusiveMinimum:0},maximum:{type:"number"},exclusiveMaximum:{type:"number"},minimum:{type:"number"},exclusiveMinimum:{type:"number"},maxLength:{$ref:"#/definitions/nonNegativeInteger"},minLength:{$ref:"#/definitions/nonNegativeIntegerDefault0"},pattern:{type:"string",format:"regex"},additionalItems:{$ref:"#"},items:{anyOf:[{$ref:"#"},{$ref:"#/definitions/schemaArray"}],default:!0},maxItems:{$ref:"#/definitions/nonNegativeInteger"},minItems:{$ref:"#/definitions/nonNegativeIntegerDefault0"},uniqueItems:{type:"boolean",default:!1},contains:{$ref:"#"},maxProperties:{$ref:"#/definitions/nonNegativeInteger"},minProperties:{$ref:"#/definitions/nonNegativeIntegerDefault0"},required:{$ref:"#/definitions/stringArray"},additionalProperties:{$ref:"#"},definitions:{type:"object",additionalProperties:{$ref:"#"},default:{}},properties:{type:"object",additionalProperties:{$ref:"#"},default:{}},patternProperties:{type:"object",additionalProperties:{$ref:"#"},propertyNames:{format:"regex"},default:{}},dependencies:{type:"object",additionalProperties:{anyOf:[{$ref:"#"},{$ref:"#/definitions/stringArray"}]}},propertyNames:{$ref:"#"},const:!0,enum:{type:"array",items:!0,minItems:1,uniqueItems:!0},type:{anyOf:[{$ref:"#/definitions/simpleTypes"},{type:"array",items:{$ref:"#/definitions/simpleTypes"},minItems:1,uniqueItems:!0}]},format:{type:"string"},contentMediaType:{type:"string"},contentEncoding:{type:"string"},if:{$ref:"#"},then:{$ref:"#"},else:{$ref:"#"},allOf:{$ref:"#/definitions/schemaArray"},anyOf:{$ref:"#/definitions/schemaArray"},oneOf:{$ref:"#/definitions/schemaArray"},not:{$ref:"#"}},default:!0}}},jt={id:it("A unique identifier for the schema."),$schema:it("The schema to verify this document against."),title:it("A descriptive title of the element."),description:it("A long description of the element. Used in hover menus and suggestions."),default:it("A default value. Used by suggestions."),multipleOf:it("A number that should cleanly divide the current value (i.e. have no remainder)."),maximum:it("The maximum numerical value, inclusive by default."),exclusiveMaximum:it("Makes the maximum property exclusive."),minimum:it("The minimum numerical value, inclusive by default."),exclusiveMinimum:it("Makes the minimum property exclusive."),maxLength:it("The maximum length of a string."),minLength:it("The minimum length of a string."),pattern:it("A regular expression to match the string against. It is not implicitly anchored."),additionalItems:it("For arrays, only when items is set as an array. If it is a schema, then this schema validates items after the ones specified by the items array. If it is false, then additional items will cause validation to fail."),items:it("For arrays. Can either be a schema to validate every element against or an array of schemas to validate each item against in order (the first schema will validate the first element, the second schema will validate the second element, and so on."),maxItems:it("The maximum number of items that can be inside an array. Inclusive."),minItems:it("The minimum number of items that can be inside an array. Inclusive."),uniqueItems:it("If all of the items in the array must be unique. Defaults to false."),maxProperties:it("The maximum number of properties an object can have. Inclusive."),minProperties:it("The minimum number of properties an object can have. Inclusive."),required:it("An array of strings that lists the names of all properties required on this object."),additionalProperties:it("Either a schema or a boolean. If a schema, then used to validate all properties not matched by 'properties' or 'patternProperties'. If false, then any properties not matched by either will cause this schema to fail."),definitions:it("Not used for validation. Place subschemas here that you wish to reference inline with $ref."),properties:it("A map of property names to schemas for each property."),patternProperties:it("A map of regular expressions on property names to schemas for matching properties."),dependencies:it("A map of property names to either an array of property names or a schema. An array of property names means the property named in the key depends on the properties in the array being present in the object in order to be valid. If the value is a schema, then the schema is only applied to the object if the property in the key exists on the object."),enum:it("The set of literal values that are valid."),type:it("Either a string of one of the basic schema types (number, integer, null, array, object, boolean, string) or an array of strings specifying a subset of those types."),format:it("Describes the format expected for the value."),allOf:it("An array of schemas, all of which must match."),anyOf:it("An array of schemas, where at least one must match."),oneOf:it("An array of schemas, exactly one of which must match."),not:it("A schema which must not match."),$id:it("A unique identifier for the schema."),$ref:it("Reference a definition hosted on any location."),$comment:it("Comments from schema authors to readers or maintainers of the schema."),readOnly:it("Indicates that the value of the instance is managed exclusively by the owning authority."),examples:it("Sample JSON values associated with a particular schema, for the purpose of illustrating usage."),contains:it('An array instance is valid against "contains" if at least one of its elements is valid against the given schema.'),propertyNames:it("If the instance is an object, this keyword validates if every property name in the instance validates against the provided schema."),const:it("An instance validates successfully against this keyword if its value is equal to the value of the keyword."),contentMediaType:it("Describes the media type of a string property."),contentEncoding:it("Describes the content encoding of a string property."),if:it('The validation outcome of the "if" subschema controls which of the "then" or "else" keywords are evaluated.'),then:it('The "if" subschema is used for validation when the "if" subschema succeeds.'),else:it('The "else" subschema is used for validation when the "if" subschema fails.')};for(const a in en.schemas){const u=en.schemas[a];for(const h in u.properties){let c=u.properties[h];typeof c=="boolean"&&(c=u.properties[h]={});const d=jt[h];d&&(c.description=d)}}var Dt;(()=>{"use strict";var a={470:d=>{function x(de){if(typeof de!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(de))}n(x,"e2");function te(de,oe){for(var ke,be="",Ae=0,Ne=-1,Re=0,Ge=0;Ge<=de.length;++Ge){if(Ge<de.length)ke=de.charCodeAt(Ge);else{if(ke===47)break;ke=47}if(ke===47){if(!(Ne===Ge-1||Re===1))if(Ne!==Ge-1&&Re===2){if(be.length<2||Ae!==2||be.charCodeAt(be.length-1)!==46||be.charCodeAt(be.length-2)!==46){if(be.length>2){var Je=be.lastIndexOf("/");if(Je!==be.length-1){Je===-1?(be="",Ae=0):Ae=(be=be.slice(0,Je)).length-1-be.lastIndexOf("/"),Ne=Ge,Re=0;continue}}else if(be.length===2||be.length===1){be="",Ae=0,Ne=Ge,Re=0;continue}}oe&&(be.length>0?be+="/..":be="..",Ae=2)}else be.length>0?be+="/"+de.slice(Ne+1,Ge):be=de.slice(Ne+1,Ge),Ae=Ge-Ne-1;Ne=Ge,Re=0}else ke===46&&Re!==-1?++Re:Re=-1}return be}n(te,"r2");var pe={resolve:n(function(){for(var de,oe="",ke=!1,be=arguments.length-1;be>=-1&&!ke;be--){var Ae;be>=0?Ae=arguments[be]:(de===void 0&&(de=process.cwd()),Ae=de),x(Ae),Ae.length!==0&&(oe=Ae+"/"+oe,ke=Ae.charCodeAt(0)===47)}return oe=te(oe,!ke),ke?oe.length>0?"/"+oe:"/":oe.length>0?oe:"."},"resolve"),normalize:n(function(de){if(x(de),de.length===0)return".";var oe=de.charCodeAt(0)===47,ke=de.charCodeAt(de.length-1)===47;return(de=te(de,!oe)).length!==0||oe||(de="."),de.length>0&&ke&&(de+="/"),oe?"/"+de:de},"normalize"),isAbsolute:n(function(de){return x(de),de.length>0&&de.charCodeAt(0)===47},"isAbsolute"),join:n(function(){if(arguments.length===0)return".";for(var de,oe=0;oe<arguments.length;++oe){var ke=arguments[oe];x(ke),ke.length>0&&(de===void 0?de=ke:de+="/"+ke)}return de===void 0?".":pe.normalize(de)},"join"),relative:n(function(de,oe){if(x(de),x(oe),de===oe||(de=pe.resolve(de))===(oe=pe.resolve(oe)))return"";for(var ke=1;ke<de.length&&de.charCodeAt(ke)===47;++ke);for(var be=de.length,Ae=be-ke,Ne=1;Ne<oe.length&&oe.charCodeAt(Ne)===47;++Ne);for(var Re=oe.length-Ne,Ge=Ae<Re?Ae:Re,Je=-1,nt=0;nt<=Ge;++nt){if(nt===Ge){if(Re>Ge){if(oe.charCodeAt(Ne+nt)===47)return oe.slice(Ne+nt+1);if(nt===0)return oe.slice(Ne+nt)}else Ae>Ge&&(de.charCodeAt(ke+nt)===47?Je=nt:nt===0&&(Je=0));break}var yt=de.charCodeAt(ke+nt);if(yt!==oe.charCodeAt(Ne+nt))break;yt===47&&(Je=nt)}var Le="";for(nt=ke+Je+1;nt<=be;++nt)nt!==be&&de.charCodeAt(nt)!==47||(Le.length===0?Le+="..":Le+="/..");return Le.length>0?Le+oe.slice(Ne+Je):(Ne+=Je,oe.charCodeAt(Ne)===47&&++Ne,oe.slice(Ne))},"relative"),_makeLong:n(function(de){return de},"_makeLong"),dirname:n(function(de){if(x(de),de.length===0)return".";for(var oe=de.charCodeAt(0),ke=oe===47,be=-1,Ae=!0,Ne=de.length-1;Ne>=1;--Ne)if((oe=de.charCodeAt(Ne))===47){if(!Ae){be=Ne;break}}else Ae=!1;return be===-1?ke?"/":".":ke&&be===1?"//":de.slice(0,be)},"dirname"),basename:n(function(de,oe){if(oe!==void 0&&typeof oe!="string")throw new TypeError('"ext" argument must be a string');x(de);var ke,be=0,Ae=-1,Ne=!0;if(oe!==void 0&&oe.length>0&&oe.length<=de.length){if(oe.length===de.length&&oe===de)return"";var Re=oe.length-1,Ge=-1;for(ke=de.length-1;ke>=0;--ke){var Je=de.charCodeAt(ke);if(Je===47){if(!Ne){be=ke+1;break}}else Ge===-1&&(Ne=!1,Ge=ke+1),Re>=0&&(Je===oe.charCodeAt(Re)?--Re==-1&&(Ae=ke):(Re=-1,Ae=Ge))}return be===Ae?Ae=Ge:Ae===-1&&(Ae=de.length),de.slice(be,Ae)}for(ke=de.length-1;ke>=0;--ke)if(de.charCodeAt(ke)===47){if(!Ne){be=ke+1;break}}else Ae===-1&&(Ne=!1,Ae=ke+1);return Ae===-1?"":de.slice(be,Ae)},"basename"),extname:n(function(de){x(de);for(var oe=-1,ke=0,be=-1,Ae=!0,Ne=0,Re=de.length-1;Re>=0;--Re){var Ge=de.charCodeAt(Re);if(Ge!==47)be===-1&&(Ae=!1,be=Re+1),Ge===46?oe===-1?oe=Re:Ne!==1&&(Ne=1):oe!==-1&&(Ne=-1);else if(!Ae){ke=Re+1;break}}return oe===-1||be===-1||Ne===0||Ne===1&&oe===be-1&&oe===ke+1?"":de.slice(oe,be)},"extname"),format:n(function(de){if(de===null||typeof de!="object")throw new TypeError('The "pathObject" argument must be of type Object. Received type '+typeof de);return function(oe,ke){var be=ke.dir||ke.root,Ae=ke.base||(ke.name||"")+(ke.ext||"");return be?be===ke.root?be+Ae:be+"/"+Ae:Ae}(0,de)},"format"),parse:n(function(de){x(de);var oe={root:"",dir:"",base:"",ext:"",name:""};if(de.length===0)return oe;var ke,be=de.charCodeAt(0),Ae=be===47;Ae?(oe.root="/",ke=1):ke=0;for(var Ne=-1,Re=0,Ge=-1,Je=!0,nt=de.length-1,yt=0;nt>=ke;--nt)if((be=de.charCodeAt(nt))!==47)Ge===-1&&(Je=!1,Ge=nt+1),be===46?Ne===-1?Ne=nt:yt!==1&&(yt=1):Ne!==-1&&(yt=-1);else if(!Je){Re=nt+1;break}return Ne===-1||Ge===-1||yt===0||yt===1&&Ne===Ge-1&&Ne===Re+1?Ge!==-1&&(oe.base=oe.name=Re===0&&Ae?de.slice(1,Ge):de.slice(Re,Ge)):(Re===0&&Ae?(oe.name=de.slice(1,Ne),oe.base=de.slice(1,Ge)):(oe.name=de.slice(Re,Ne),oe.base=de.slice(Re,Ge)),oe.ext=de.slice(Ne,Ge)),Re>0?oe.dir=de.slice(0,Re-1):Ae&&(oe.dir="/"),oe},"parse"),sep:"/",delimiter:":",win32:null,posix:null};pe.posix=pe,d.exports=pe}},u={};function h(d){var x=u[d];if(x!==void 0)return x.exports;var te=u[d]={exports:{}};return a[d](te,te.exports,h),te.exports}n(h,"r"),h.d=(d,x)=>{for(var te in x)h.o(x,te)&&!h.o(d,te)&&Object.defineProperty(d,te,{enumerable:!0,get:x[te]})},h.o=(d,x)=>Object.prototype.hasOwnProperty.call(d,x),h.r=d=>{typeof Symbol!="undefined"&&Symbol.toStringTag&&Object.defineProperty(d,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(d,"__esModule",{value:!0})};var c={};(()=>{let d;h.r(c),h.d(c,{URI:n(()=>Ae,"URI"),Utils:n(()=>Kt,"Utils")}),typeof process=="object"?d=process.platform==="win32":typeof navigator=="object"&&(d=navigator.userAgent.indexOf("Windows")>=0);const x=/^\w[\w\d+.-]*$/,te=/^\//,pe=/^\/\//;function de(Tt,wt){if(!Tt.scheme&&wt)throw new Error(`[UriError]: Scheme is missing: {scheme: "", authority: "${Tt.authority}", path: "${Tt.path}", query: "${Tt.query}", fragment: "${Tt.fragment}"}`);if(Tt.scheme&&!x.test(Tt.scheme))throw new Error("[UriError]: Scheme contains illegal characters.");if(Tt.path){if(Tt.authority){if(!te.test(Tt.path))throw new Error('[UriError]: If a URI contains an authority component, then the path component must either be empty or begin with a slash ("/") character')}else if(pe.test(Tt.path))throw new Error('[UriError]: If a URI does not contain an authority component, then the path cannot begin with two slash characters ("//")')}}n(de,"s");const oe="",ke="/",be=/^(([^:/?#]+?):)?(\/\/([^/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?/,In=class In{constructor(wt,Ft,Gt,Mn,Ln,bn=!1){Xr(this,"scheme");Xr(this,"authority");Xr(this,"path");Xr(this,"query");Xr(this,"fragment");typeof wt=="object"?(this.scheme=wt.scheme||oe,this.authority=wt.authority||oe,this.path=wt.path||oe,this.query=wt.query||oe,this.fragment=wt.fragment||oe):(this.scheme=function(Li,Ai){return Li||Ai?Li:"file"}(wt,bn),this.authority=Ft||oe,this.path=function(Li,Ai){switch(Li){case"https":case"http":case"file":Ai?Ai[0]!==ke&&(Ai=ke+Ai):Ai=ke}return Ai}(this.scheme,Gt||oe),this.query=Mn||oe,this.fragment=Ln||oe,de(this,bn))}static isUri(wt){return wt instanceof In||!!wt&&typeof wt.authority=="string"&&typeof wt.fragment=="string"&&typeof wt.path=="string"&&typeof wt.query=="string"&&typeof wt.scheme=="string"&&typeof wt.fsPath=="string"&&typeof wt.with=="function"&&typeof wt.toString=="function"}get fsPath(){return yt(this,!1)}with(wt){if(!wt)return this;let{scheme:Ft,authority:Gt,path:Mn,query:Ln,fragment:bn}=wt;return Ft===void 0?Ft=this.scheme:Ft===null&&(Ft=oe),Gt===void 0?Gt=this.authority:Gt===null&&(Gt=oe),Mn===void 0?Mn=this.path:Mn===null&&(Mn=oe),Ln===void 0?Ln=this.query:Ln===null&&(Ln=oe),bn===void 0?bn=this.fragment:bn===null&&(bn=oe),Ft===this.scheme&&Gt===this.authority&&Mn===this.path&&Ln===this.query&&bn===this.fragment?this:new Re(Ft,Gt,Mn,Ln,bn)}static parse(wt,Ft=!1){const Gt=be.exec(wt);return Gt?new Re(Gt[2]||oe,ht(Gt[4]||oe),ht(Gt[5]||oe),ht(Gt[7]||oe),ht(Gt[9]||oe),Ft):new Re(oe,oe,oe,oe,oe)}static file(wt){let Ft=oe;if(d&&(wt=wt.replace(/\\/g,ke)),wt[0]===ke&&wt[1]===ke){const Gt=wt.indexOf(ke,2);Gt===-1?(Ft=wt.substring(2),wt=ke):(Ft=wt.substring(2,Gt),wt=wt.substring(Gt)||ke)}return new Re("file",Ft,wt,oe,oe)}static from(wt){const Ft=new Re(wt.scheme,wt.authority,wt.path,wt.query,wt.fragment);return de(Ft,!0),Ft}toString(wt=!1){return Le(this,wt)}toJSON(){return this}static revive(wt){if(wt){if(wt instanceof In)return wt;{const Ft=new Re(wt);return Ft._formatted=wt.external,Ft._fsPath=wt._sep===Ne?wt.fsPath:null,Ft}}return wt}};n(In,"f2");let Ae=In;const Ne=d?1:void 0,Qt=class Qt extends Ae{constructor(){super(...arguments);Xr(this,"_formatted",null);Xr(this,"_fsPath",null)}get fsPath(){return this._fsPath||(this._fsPath=yt(this,!1)),this._fsPath}toString(Ft=!1){return Ft?Le(this,!0):(this._formatted||(this._formatted=Le(this,!1)),this._formatted)}toJSON(){const Ft={$mid:1};return this._fsPath&&(Ft.fsPath=this._fsPath,Ft._sep=Ne),this._formatted&&(Ft.external=this._formatted),this.path&&(Ft.path=this.path),this.scheme&&(Ft.scheme=this.scheme),this.authority&&(Ft.authority=this.authority),this.query&&(Ft.query=this.query),this.fragment&&(Ft.fragment=this.fragment),Ft}};n(Qt,"l");let Re=Qt;const Ge={58:"%3A",47:"%2F",63:"%3F",35:"%23",91:"%5B",93:"%5D",64:"%40",33:"%21",36:"%24",38:"%26",39:"%27",40:"%28",41:"%29",42:"%2A",43:"%2B",44:"%2C",59:"%3B",61:"%3D",32:"%20"};function Je(Tt,wt,Ft){let Gt,Mn=-1;for(let Ln=0;Ln<Tt.length;Ln++){const bn=Tt.charCodeAt(Ln);if(bn>=97&&bn<=122||bn>=65&&bn<=90||bn>=48&&bn<=57||bn===45||bn===46||bn===95||bn===126||wt&&bn===47||Ft&&bn===91||Ft&&bn===93||Ft&&bn===58)Mn!==-1&&(Gt+=encodeURIComponent(Tt.substring(Mn,Ln)),Mn=-1),Gt!==void 0&&(Gt+=Tt.charAt(Ln));else{Gt===void 0&&(Gt=Tt.substr(0,Ln));const Li=Ge[bn];Li!==void 0?(Mn!==-1&&(Gt+=encodeURIComponent(Tt.substring(Mn,Ln)),Mn=-1),Gt+=Li):Mn===-1&&(Mn=Ln)}}return Mn!==-1&&(Gt+=encodeURIComponent(Tt.substring(Mn))),Gt!==void 0?Gt:Tt}n(Je,"d");function nt(Tt){let wt;for(let Ft=0;Ft<Tt.length;Ft++){const Gt=Tt.charCodeAt(Ft);Gt===35||Gt===63?(wt===void 0&&(wt=Tt.substr(0,Ft)),wt+=Ge[Gt]):wt!==void 0&&(wt+=Tt[Ft])}return wt!==void 0?wt:Tt}n(nt,"p");function yt(Tt,wt){let Ft;return Ft=Tt.authority&&Tt.path.length>1&&Tt.scheme==="file"?`//${Tt.authority}${Tt.path}`:Tt.path.charCodeAt(0)===47&&(Tt.path.charCodeAt(1)>=65&&Tt.path.charCodeAt(1)<=90||Tt.path.charCodeAt(1)>=97&&Tt.path.charCodeAt(1)<=122)&&Tt.path.charCodeAt(2)===58?wt?Tt.path.substr(1):Tt.path[1].toLowerCase()+Tt.path.substr(2):Tt.path,d&&(Ft=Ft.replace(/\//g,"\\")),Ft}n(yt,"m");function Le(Tt,wt){const Ft=wt?nt:Je;let Gt="",{scheme:Mn,authority:Ln,path:bn,query:Li,fragment:Ai}=Tt;if(Mn&&(Gt+=Mn,Gt+=":"),(Ln||Mn==="file")&&(Gt+=ke,Gt+=ke),Ln){let Qn=Ln.indexOf("@");if(Qn!==-1){const es=Ln.substr(0,Qn);Ln=Ln.substr(Qn+1),Qn=es.lastIndexOf(":"),Qn===-1?Gt+=Ft(es,!1,!1):(Gt+=Ft(es.substr(0,Qn),!1,!1),Gt+=":",Gt+=Ft(es.substr(Qn+1),!1,!0)),Gt+="@"}Ln=Ln.toLowerCase(),Qn=Ln.lastIndexOf(":"),Qn===-1?Gt+=Ft(Ln,!1,!0):(Gt+=Ft(Ln.substr(0,Qn),!1,!0),Gt+=Ln.substr(Qn))}if(bn){if(bn.length>=3&&bn.charCodeAt(0)===47&&bn.charCodeAt(2)===58){const Qn=bn.charCodeAt(1);Qn>=65&&Qn<=90&&(bn=`/${String.fromCharCode(Qn+32)}:${bn.substr(3)}`)}else if(bn.length>=2&&bn.charCodeAt(1)===58){const Qn=bn.charCodeAt(0);Qn>=65&&Qn<=90&&(bn=`${String.fromCharCode(Qn+32)}:${bn.substr(2)}`)}Gt+=Ft(bn,!0,!1)}return Li&&(Gt+="?",Gt+=Ft(Li,!1,!1)),Ai&&(Gt+="#",Gt+=wt?Ai:Je(Ai,!1,!1)),Gt}n(Le,"y");function qe(Tt){try{return decodeURIComponent(Tt)}catch{return Tt.length>3?Tt.substr(0,3)+qe(Tt.substr(3)):Tt}}n(qe,"v");const Ze=/(%[0-9A-Za-z][0-9A-Za-z])+/g;function ht(Tt){return Tt.match(Ze)?Tt.replace(Ze,wt=>qe(wt)):Tt}n(ht,"C");var bt=h(470);const At=bt.posix||bt,Mt="/";var Kt;(function(Tt){Tt.joinPath=function(wt,...Ft){return wt.with({path:At.join(wt.path,...Ft)})},Tt.resolvePath=function(wt,...Ft){let Gt=wt.path,Mn=!1;Gt[0]!==Mt&&(Gt=Mt+Gt,Mn=!0);let Ln=At.resolve(Gt,...Ft);return Mn&&Ln[0]===Mt&&!wt.authority&&(Ln=Ln.substring(1)),wt.with({path:Ln})},Tt.dirname=function(wt){if(wt.path.length===0||wt.path===Mt)return wt;let Ft=At.dirname(wt.path);return Ft.length===1&&Ft.charCodeAt(0)===46&&(Ft=""),wt.with({path:Ft})},Tt.basename=function(wt){return At.basename(wt.path)},Tt.extname=function(wt){return At.extname(wt.path)}})(Kt||(Kt={}))})(),Dt=c})();var{URI:on,Utils:rn}=Dt;function Sn(a,u){if(typeof a!="string")throw new TypeError("Expected a string");const h=String(a);let c="";const d=u?!!u.extended:!1,x=u?!!u.globstar:!1;let te=!1;const pe=u&&typeof u.flags=="string"?u.flags:"";let de;for(let oe=0,ke=h.length;oe<ke;oe++)switch(de=h[oe],de){case"/":case"$":case"^":case"+":case".":case"(":case")":case"=":case"!":case"|":c+="\\"+de;break;case"?":if(d){c+=".";break}case"[":case"]":if(d){c+=de;break}case"{":if(d){te=!0,c+="(";break}case"}":if(d){te=!1,c+=")";break}case",":if(te){c+="|";break}c+="\\"+de;break;case"*":const be=h[oe-1];let Ae=1;for(;h[oe+1]==="*";)Ae++,oe++;const Ne=h[oe+1];x?Ae>1&&(be==="/"||be===void 0||be==="{"||be===",")&&(Ne==="/"||Ne===void 0||Ne===","||Ne==="}")?(Ne==="/"?oe++:be==="/"&&c.endsWith("\\/")&&(c=c.substr(0,c.length-2)),c+="((?:[^/]*(?:/|$))*)"):c+="([^/]*)":c+=".*";break;default:c+=de}return(!pe||!~pe.indexOf("g"))&&(c="^"+c+"$"),new RegExp(c,pe)}n(Sn,"createRegex");var hn="!",Mi="/",_s=(zi=class{constructor(u,h,c){this.folderUri=h,this.uris=c,this.globWrappers=[];try{for(let d of u){const x=d[0]!==hn;x||(d=d.substring(1)),d.length>0&&(d[0]===Mi&&(d=d.substring(1)),this.globWrappers.push({regexp:Sn("**/"+d,{extended:!0,globstar:!0}),include:x}))}h&&(h=Mr(h),h.endsWith("/")||(h=h+"/"),this.folderUri=h)}catch{this.globWrappers.length=0,this.uris=[]}}matchesPattern(u){if(this.folderUri&&!u.startsWith(this.folderUri))return!1;let h=!1;for(const{regexp:c,include:d}of this.globWrappers)c.test(u)&&(h=d);return h}getURIs(){return this.uris}},n(zi,"FilePatternAssociation"),zi),ls=(Tr=class{constructor(u,h,c){this.service=u,this.uri=h,this.dependencies=new Set,this.anchors=void 0,c&&(this.unresolvedSchema=this.service.promise.resolve(new Ar(c)))}getUnresolvedSchema(){return this.unresolvedSchema||(this.unresolvedSchema=this.service.loadSchema(this.uri)),this.unresolvedSchema}getResolvedSchema(){return this.resolvedSchema||(this.resolvedSchema=this.getUnresolvedSchema().then(u=>this.service.resolveSchemaContent(u,this))),this.resolvedSchema}clearSchema(){const u=!!this.unresolvedSchema;return this.resolvedSchema=void 0,this.unresolvedSchema=void 0,this.dependencies.clear(),this.anchors=void 0,u}},n(Tr,"SchemaHandle"),Tr),Ar=(Vr=class{constructor(u,h=[]){this.schema=u,this.errors=h}},n(Vr,"UnresolvedSchema"),Vr),us=(ri=class{constructor(u,h=[],c=[],d){this.schema=u,this.errors=h,this.warnings=c,this.schemaDraft=d}getSection(u){const h=this.getSectionRecursive(u,this.schema);if(h)return Vn(h)}getSectionRecursive(u,h){if(!h||typeof h=="boolean"||u.length===0)return h;const c=u.shift();if(h.properties&&typeof h.properties[c])return this.getSectionRecursive(u,h.properties[c]);if(h.patternProperties)for(const d of Object.keys(h.patternProperties)){const x=G(d);if(x!=null&&x.test(c))return this.getSectionRecursive(u,h.patternProperties[d])}else{if(typeof h.additionalProperties=="object")return this.getSectionRecursive(u,h.additionalProperties);if(c.match("[0-9]+")){if(Array.isArray(h.items)){const d=parseInt(c,10);if(!isNaN(d)&&h.items[d])return this.getSectionRecursive(u,h.items[d])}else if(h.items)return this.getSectionRecursive(u,h.items)}}}},n(ri,"ResolvedSchema"),ri),vs=(Wr=class{constructor(u,h,c){this.contextService=h,this.requestService=u,this.promiseConstructor=c||Promise,this.callOnDispose=[],this.contributionSchemas={},this.contributionAssociations=[],this.schemasById={},this.filePatternAssociations=[],this.registeredSchemasIds={}}getRegisteredSchemaIds(u){return Object.keys(this.registeredSchemasIds).filter(h=>{const c=on.parse(h).scheme;return c!=="schemaservice"&&(!u||u(c))})}get promise(){return this.promiseConstructor}dispose(){for(;this.callOnDispose.length>0;)this.callOnDispose.pop()()}onResourceChange(u){this.cachedSchemaForResource=void 0;let h=!1;u=Ht(u);const c=[u],d=Object.keys(this.schemasById).map(x=>this.schemasById[x]);for(;c.length;){const x=c.pop();for(let te=0;te<d.length;te++){const pe=d[te];pe&&(pe.uri===x||pe.dependencies.has(x))&&(pe.uri!==x&&c.push(pe.uri),pe.clearSchema()&&(h=!0),d[te]=void 0)}}return h}setSchemaContributions(u){if(u.schemas){const h=u.schemas;for(const c in h){const d=Ht(c);this.contributionSchemas[d]=this.addSchemaHandle(d,h[c])}}if(Array.isArray(u.schemaAssociations)){const h=u.schemaAssociations;for(let c of h){const d=c.uris.map(Ht),x=this.addFilePatternAssociation(c.pattern,c.folderUri,d);this.contributionAssociations.push(x)}}}addSchemaHandle(u,h){const c=new ls(this,u,h);return this.schemasById[u]=c,c}getOrAddSchemaHandle(u,h){return this.schemasById[u]||this.addSchemaHandle(u,h)}addFilePatternAssociation(u,h,c){const d=new _s(u,h,c);return this.filePatternAssociations.push(d),d}registerExternalSchema(u){const h=Ht(u.uri);return this.registeredSchemasIds[h]=!0,this.cachedSchemaForResource=void 0,u.fileMatch&&u.fileMatch.length&&this.addFilePatternAssociation(u.fileMatch,u.folderUri,[h]),u.schema?this.addSchemaHandle(h,u.schema):this.getOrAddSchemaHandle(h)}clearExternalSchemas(){this.schemasById={},this.filePatternAssociations=[],this.registeredSchemasIds={},this.cachedSchemaForResource=void 0;for(const u in this.contributionSchemas)this.schemasById[u]=this.contributionSchemas[u],this.registeredSchemasIds[u]=!0;for(const u of this.contributionAssociations)this.filePatternAssociations.push(u)}getResolvedSchema(u){const h=Ht(u),c=this.schemasById[h];return c?c.getResolvedSchema():this.promise.resolve(void 0)}loadSchema(u){if(!this.requestService){const h=it("Unable to load schema from '{0}'. No schema request service available",jr(u));return this.promise.resolve(new Ar({},[h]))}return u.startsWith("http://json-schema.org/")&&(u="https"+u.substring(4)),this.requestService(u).then(h=>{if(!h){const te=it("Unable to load schema from '{0}': No content.",jr(u));return new Ar({},[te])}const c=[];h.charCodeAt(0)===65279&&(c.push(it("Problem reading content from '{0}': UTF-8 with BOM detected, only UTF 8 is allowed.",jr(u))),h=h.trimStart());let d={};const x=[];return d=_(h,x),x.length&&c.push(it("Unable to parse content from '{0}': Parse error at offset {1}.",jr(u),x[0].offset)),new Ar(d,c)},h=>{let c=h.toString();const d=h.toString().split("Error: ");return d.length>1&&(c=d[1]),M(c,".")&&(c=c.substr(0,c.length-1)),new Ar({},[it("Unable to load schema from '{0}': {1}.",jr(u),c)])})}resolveSchemaContent(u,h){const c=u.errors.slice(0),d=u.schema;let x=d.$schema?Ht(d.$schema):void 0;if(x==="http://json-schema.org/draft-03/schema")return this.promise.resolve(new us({},[it("Draft-03 schemas are not supported.")],[],x));let te=new Set;const pe=this.contextService,de=n((Ge,Je)=>{Je=decodeURIComponent(Je);let nt=Ge;return Je[0]==="/"&&(Je=Je.substring(1)),Je.split("/").some(yt=>(yt=yt.replace(/~1/g,"/").replace(/~0/g,"~"),nt=nt[yt],!nt)),nt},"findSectionByJSONPointer"),oe=n((Ge,Je,nt)=>(Je.anchors||(Je.anchors=Re(Ge)),Je.anchors.get(nt)),"findSchemaById"),ke=n((Ge,Je)=>{for(const nt in Je)Je.hasOwnProperty(nt)&&nt!=="id"&&nt!=="$id"&&(Ge[nt]=Je[nt])},"merge"),be=n((Ge,Je,nt,yt)=>{let Le;yt===void 0||yt.length===0?Le=Je:yt.charAt(0)==="/"?Le=de(Je,yt):Le=oe(Je,nt,yt),Le?ke(Ge,Le):c.push(it("$ref '{0}' in '{1}' can not be resolved.",yt||"",nt.uri))},"mergeRef"),Ae=n((Ge,Je,nt,yt)=>{pe&&!/^[A-Za-z][A-Za-z0-9+\-.+]*:\/\/.*/.test(Je)&&(Je=pe.resolveRelativePath(Je,yt.uri)),Je=Ht(Je);const Le=this.getOrAddSchemaHandle(Je);return Le.getUnresolvedSchema().then(qe=>{if(yt.dependencies.add(Je),qe.errors.length){const Ze=nt?Je+"#"+nt:Je;c.push(it("Problems loading reference '{0}': {1}",Ze,qe.errors[0]))}return be(Ge,qe.schema,Le,nt),Ne(Ge,qe.schema,Le)})},"resolveExternalLink"),Ne=n((Ge,Je,nt)=>{const yt=[];return this.traverseNodes(Ge,Le=>{const qe=new Set;for(;Le.$ref;){const Ze=Le.$ref,ht=Ze.split("#",2);if(delete Le.$ref,ht[0].length>0){yt.push(Ae(Le,ht[0],ht[1],nt));return}else if(!qe.has(Ze)){const bt=ht[1];be(Le,Je,nt,bt),qe.add(Ze)}}Le.$recursiveRef&&te.add("$recursiveRef"),Le.$dynamicRef&&te.add("$dynamicRef")}),this.promise.all(yt)},"resolveRefs"),Re=n(Ge=>{const Je=new Map;return this.traverseNodes(Ge,nt=>{const yt=nt.$id||nt.id,Le=Xe(yt)&&yt.charAt(0)==="#"?yt.substring(1):nt.$anchor;Le&&(Je.has(Le)?c.push(it("Duplicate anchor declaration: '{0}'",Le)):Je.set(Le,nt)),nt.$recursiveAnchor&&te.add("$recursiveAnchor"),nt.$dynamicAnchor&&te.add("$dynamicAnchor")}),Je},"collectAnchors");return Ne(d,d,h).then(Ge=>{let Je=[];return te.size&&Je.push(it("The schema uses meta-schema features ({0}) that are not yet supported by the validator.",Array.from(te.keys()).join(", "))),new us(d,c,Je,x)})}traverseNodes(u,h){if(!u||typeof u!="object")return Promise.resolve(null);const c=new Set,d=n((...ke)=>{for(const be of ke)We(be)&&de.push(be)},"collectEntries"),x=n((...ke)=>{for(const be of ke)if(We(be))for(const Ae in be){const Re=be[Ae];We(Re)&&de.push(Re)}},"collectMapEntries"),te=n((...ke)=>{for(const be of ke)if(Array.isArray(be))for(const Ae of be)We(Ae)&&de.push(Ae)},"collectArrayEntries"),pe=n(ke=>{if(Array.isArray(ke))for(const be of ke)We(be)&&de.push(be);else We(ke)&&de.push(ke)},"collectEntryOrArrayEntries"),de=[u];let oe=de.pop();for(;oe;)c.has(oe)||(c.add(oe),h(oe),d(oe.additionalItems,oe.additionalProperties,oe.not,oe.contains,oe.propertyNames,oe.if,oe.then,oe.else,oe.unevaluatedItems,oe.unevaluatedProperties),x(oe.definitions,oe.$defs,oe.properties,oe.patternProperties,oe.dependencies,oe.dependentSchemas),te(oe.anyOf,oe.allOf,oe.oneOf,oe.prefixItems),pe(oe.items)),oe=de.pop()}getSchemaFromProperty(u,h){var c,d;if(((c=h.root)==null?void 0:c.type)==="object"){for(const x of h.root.properties)if(x.keyNode.value==="$schema"&&((d=x.valueNode)==null?void 0:d.type)==="string"){let te=x.valueNode.value;return this.contextService&&!/^\w[\w\d+.-]*:/.test(te)&&(te=this.contextService.resolveRelativePath(te,u)),te}}}getAssociatedSchemas(u){const h=Object.create(null),c=[],d=Mr(u);for(const x of this.filePatternAssociations)if(x.matchesPattern(d))for(const te of x.getURIs())h[te]||(c.push(te),h[te]=!0);return c}getSchemaURIsForResource(u,h){let c=h&&this.getSchemaFromProperty(u,h);return c?[c]:this.getAssociatedSchemas(u)}getSchemaForResource(u,h){if(h){let x=this.getSchemaFromProperty(u,h);if(x){const te=Ht(x);return this.getOrAddSchemaHandle(te).getResolvedSchema()}}if(this.cachedSchemaForResource&&this.cachedSchemaForResource.resource===u)return this.cachedSchemaForResource.resolvedSchema;const c=this.getAssociatedSchemas(u),d=c.length>0?this.createCombinedSchema(u,c).getResolvedSchema():this.promise.resolve(void 0);return this.cachedSchemaForResource={resource:u,resolvedSchema:d},d}createCombinedSchema(u,h){if(h.length===1)return this.getOrAddSchemaHandle(h[0]);{const c="schemaservice://combinedSchema/"+encodeURIComponent(u),d={allOf:h.map(x=>({$ref:x}))};return this.addSchemaHandle(c,d)}}getMatchingSchemas(u,h,c){if(c){const d=c.id||"schemaservice://untitled/matchingSchemas/"+cr++;return this.addSchemaHandle(d,c).getResolvedSchema().then(te=>h.getMatchingSchemas(te.schema).filter(pe=>!pe.inverted))}return this.getSchemaForResource(u.uri,h).then(d=>d?h.getMatchingSchemas(d.schema).filter(x=>!x.inverted):[])}},n(Wr,"JSONSchemaService"),Wr),cr=0;function Ht(a){try{return on.parse(a).toString(!0)}catch{return a}}n(Ht,"normalizeId");function Mr(a){try{return on.parse(a).with({fragment:null,query:null}).toString(!0)}catch{return a}}n(Mr,"normalizeResourceForMatching");function jr(a){try{const u=on.parse(a);if(u.scheme==="file")return u.fsPath}catch{}return a}n(jr,"toDisplayString");function hr(a,u){const h=[],c=[],d=[];let x=-1;const te=Ce(a.getText(),!1);let pe=te.scan();function de(Re){h.push(Re),c.push(d.length)}for(n(de,"addRange");pe!==17;){switch(pe){case 1:case 3:{const Re=a.positionAt(te.getTokenOffset()).line,Ge={startLine:Re,endLine:Re,kind:pe===1?"object":"array"};d.push(Ge);break}case 2:case 4:{const Re=pe===2?"object":"array";if(d.length>0&&d[d.length-1].kind===Re){const Ge=d.pop(),Je=a.positionAt(te.getTokenOffset()).line;Ge&&Je>Ge.startLine+1&&x!==Ge.startLine&&(Ge.endLine=Je-1,de(Ge),x=Ge.startLine)}break}case 13:{const Re=a.positionAt(te.getTokenOffset()).line,Ge=a.positionAt(te.getTokenOffset()+te.getTokenLength()).line;te.getTokenError()===1&&Re+1<a.lineCount?te.setPosition(a.offsetAt(He.create(Re+1,0))):Re<Ge&&(de({startLine:Re,endLine:Ge,kind:Dn.Comment}),x=Re);break}case 12:{const Ge=a.getText().substr(te.getTokenOffset(),te.getTokenLength()).match(/^\/\/\s*#(region\b)|(endregion\b)/);if(Ge){const Je=a.positionAt(te.getTokenOffset()).line;if(Ge[1]){const nt={startLine:Je,endLine:Je,kind:Dn.Region};d.push(nt)}else{let nt=d.length-1;for(;nt>=0&&d[nt].kind!==Dn.Region;)nt--;if(nt>=0){const yt=d[nt];d.length=nt,Je>yt.startLine&&x!==yt.startLine&&(yt.endLine=Je,de(yt),x=yt.startLine)}}}break}}pe=te.scan()}const oe=u&&u.rangeLimit;if(typeof oe!="number"||h.length<=oe)return h;u&&u.onRangeLimitExceeded&&u.onRangeLimitExceeded(a.uri);const ke=[];for(let Re of c)Re<30&&(ke[Re]=(ke[Re]||0)+1);let be=0,Ae=0;for(let Re=0;Re<ke.length;Re++){const Ge=ke[Re];if(Ge){if(Ge+be>oe){Ae=Re;break}be+=Ge}}const Ne=[];for(let Re=0;Re<h.length;Re++){const Ge=c[Re];typeof Ge=="number"&&(Ge<Ae||Ge===Ae&&be++<oe)&&Ne.push(h[Re])}return Ne}n(hr,"getFoldingRanges");function Os(a,u,h){function c(pe){let de=a.offsetAt(pe),oe=h.getNodeFromOffset(de,!0);const ke=[];for(;oe;){switch(oe.type){case"string":case"object":case"array":const Ae=oe.offset+1,Ne=oe.offset+oe.length-1;Ae<Ne&&de>=Ae&&de<=Ne&&ke.push(d(Ae,Ne)),ke.push(d(oe.offset,oe.offset+oe.length));break;case"number":case"boolean":case"null":case"property":ke.push(d(oe.offset,oe.offset+oe.length));break}if(oe.type==="property"||oe.parent&&oe.parent.type==="array"){const Ae=te(oe.offset+oe.length,5);Ae!==-1&&ke.push(d(oe.offset,Ae))}oe=oe.parent}let be;for(let Ae=ke.length-1;Ae>=0;Ae--)be=Fi.create(ke[Ae],be);return be||(be=Fi.create(Ve.create(pe,pe))),be}n(c,"getSelectionRange");function d(pe,de){return Ve.create(a.positionAt(pe),a.positionAt(de))}n(d,"newRange");const x=Ce(a.getText(),!0);function te(pe,de){return x.setPosition(pe),x.scan()===de?x.getTokenOffset()+x.getTokenLength():-1}return n(te,"getOffsetAfterNextToken"),u.map(c)}n(Os,"getSelectionRanges");function Ir(a,u,h){let c;if(h){const x=a.offsetAt(h.start),te=a.offsetAt(h.end)-x;c={offset:x,length:te}}const d={tabSize:u?u.tabSize:4,insertSpaces:(u==null?void 0:u.insertSpaces)===!0,insertFinalNewline:(u==null?void 0:u.insertFinalNewline)===!0,eol:`
`,keepLines:(u==null?void 0:u.keepLines)===!0};return ee(a.getText(),c,d).map(x=>an.replace(Ve.create(a.positionAt(x.offset),a.positionAt(x.offset+x.length)),x.content))}n(Ir,"format4");var qn;(function(a){a[a.Object=0]="Object",a[a.Array=1]="Array"})(qn||(qn={}));var Yr=(Qr=class{constructor(u,h){this.propertyName=u!=null?u:"",this.beginningLineNumber=h,this.childrenProperties=[],this.lastProperty=!1,this.noKeyName=!1}addChildProperty(u){if(u.parent=this,this.childrenProperties.length>0){let h=0;u.noKeyName?h=this.childrenProperties.length:h=Fs(this.childrenProperties,u,Ms),h<0&&(h=h*-1-1),this.childrenProperties.splice(h,0,u)}else this.childrenProperties.push(u);return u}},n(Qr,"PropertyTree"),Qr);function Ms(a,u){const h=a.propertyName.toLowerCase(),c=u.propertyName.toLowerCase();return h<c?-1:h>c?1:0}n(Ms,"compareProperties");function Fs(a,u,h){const c=u.propertyName.toLowerCase(),d=a[0].propertyName.toLowerCase(),x=a[a.length-1].propertyName.toLowerCase();if(c<d)return 0;if(c>x)return a.length;let te=0,pe=a.length-1;for(;te<=pe;){let de=pe+te>>1,oe=h(u,a[de]);if(oe>0)te=de+1;else if(oe<0)pe=de-1;else return de}return-te-1}n(Fs,"binarySearchOnPropertyArray");function Ps(a,u){const h={...u,keepLines:!1},c=vt.applyEdits(a,Ir(a,h,void 0)),d=vt.create("test://test.json","json",0,c),x=ks(d),te=Vs(d,x),pe=Ir(te,h,void 0),de=vt.applyEdits(te,pe);return[an.replace(Ve.create(He.create(0,0),a.positionAt(a.getText().length)),de)]}n(Ps,"sort");function ks(a){const u=a.getText(),h=Ce(u,!1);let c=new Yr,d=c,x=c,te=c,pe,de=0,oe=0,ke,be,Ae=-1,Ne=-1,Re=0,Ge=0,Je=[],nt=!1,yt=!1;for(;(pe=h.scan())!==17;){if(nt===!0&&pe!==14&&pe!==15&&pe!==12&&pe!==13&&x.endLineNumber===void 0){let Le=h.getTokenStartLine();be===2||be===4?te.endLineNumber=Le-1:x.endLineNumber=Le-1,Re=Le,nt=!1}if(yt===!0&&pe!==14&&pe!==15&&pe!==12&&pe!==13&&(Re=h.getTokenStartLine(),yt=!1),h.getTokenStartLine()!==de){for(let Le=de;Le<h.getTokenStartLine();Le++){const qe=a.getText(Ve.create(He.create(Le,0),He.create(Le+1,0))).length;oe=oe+qe}de=h.getTokenStartLine()}switch(pe){case 10:{if(ke===void 0||ke===1||ke===5&&Je[Je.length-1]===qn.Object){const Le=new Yr(h.getTokenValue(),Re);te=x,x=d.addChildProperty(Le)}break}case 3:{if(c.beginningLineNumber===void 0&&(c.beginningLineNumber=h.getTokenStartLine()),Je[Je.length-1]===qn.Object)d=x;else if(Je[Je.length-1]===qn.Array){const Le=new Yr(h.getTokenValue(),Re);Le.noKeyName=!0,te=x,x=d.addChildProperty(Le),d=x}Je.push(qn.Array),x.type=qn.Array,Re=h.getTokenStartLine(),Re++;break}case 1:{if(c.beginningLineNumber===void 0)c.beginningLineNumber=h.getTokenStartLine();else if(Je[Je.length-1]===qn.Array){const Le=new Yr(h.getTokenValue(),Re);Le.noKeyName=!0,te=x,x=d.addChildProperty(Le)}x.type=qn.Object,Je.push(qn.Object),d=x,Re=h.getTokenStartLine(),Re++;break}case 4:{Ge=h.getTokenStartLine(),Je.pop(),x.endLineNumber===void 0&&(ke===2||ke===4)&&(x.endLineNumber=Ge-1,x.lastProperty=!0,x.lineWhereToAddComma=Ae,x.indexWhereToAddComa=Ne,te=x,x=x?x.parent:void 0,d=x),c.endLineNumber=Ge,Re=Ge+1;break}case 2:{Ge=h.getTokenStartLine(),Je.pop(),ke!==1&&(x.endLineNumber===void 0&&(x.endLineNumber=Ge-1,x.lastProperty=!0,x.lineWhereToAddComma=Ae,x.indexWhereToAddComa=Ne),te=x,x=x?x.parent:void 0,d=x),c.endLineNumber=h.getTokenStartLine(),Re=Ge+1;break}case 5:{Ge=h.getTokenStartLine(),x.endLineNumber===void 0&&(Je[Je.length-1]===qn.Object||Je[Je.length-1]===qn.Array&&(ke===2||ke===4))&&(x.endLineNumber=Ge,x.commaIndex=h.getTokenOffset()-oe,x.commaLine=Ge),(ke===2||ke===4)&&(te=x,x=x?x.parent:void 0,d=x),Re=Ge+1;break}case 13:{ke===5&&Ae===h.getTokenStartLine()&&(Je[Je.length-1]===qn.Array&&(be===2||be===4)||Je[Je.length-1]===qn.Object)&&(Je[Je.length-1]===qn.Array&&(be===2||be===4)||Je[Je.length-1]===qn.Object)&&(x.endLineNumber=void 0,nt=!0),(ke===1||ke===3)&&Ae===h.getTokenStartLine()&&(yt=!0);break}}pe!==14&&pe!==13&&pe!==12&&pe!==15&&(be=ke,ke=pe,Ae=h.getTokenStartLine(),Ne=h.getTokenOffset()+h.getTokenLength()-oe)}return c}n(ks,"findJsoncPropertyTree");function Vs(a,u){if(u.childrenProperties.length===0)return a;const h=vt.create("test://test.json","json",0,a.getText()),c=[];for(cs(c,u,u.beginningLineNumber);c.length>0;){const d=c.shift(),x=d.propertyTreeArray;let te=d.beginningLineNumber;for(let pe=0;pe<x.length;pe++){const de=x[pe],oe=Ve.create(He.create(de.beginningLineNumber,0),He.create(de.endLineNumber+1,0)),ke=a.getText(oe),be=vt.create("test://test.json","json",0,ke);if(de.lastProperty===!0&&pe!==x.length-1){const Re=de.lineWhereToAddComma-de.beginningLineNumber,Ge=de.indexWhereToAddComa,Je={range:Ve.create(He.create(Re,Ge),He.create(Re,Ge)),text:","};vt.update(be,[Je],1)}else if(de.lastProperty===!1&&pe===x.length-1){const Re=de.commaIndex,Je=de.commaLine-de.beginningLineNumber,nt={range:Ve.create(He.create(Je,Re),He.create(Je,Re+1)),text:""};vt.update(be,[nt],1)}const Ae=de.endLineNumber-de.beginningLineNumber+1,Ne={range:Ve.create(He.create(te,0),He.create(te+Ae,0)),text:be.getText()};vt.update(h,[Ne],1),cs(c,de,te),te=te+Ae}}return h}n(Vs,"sortJsoncDocument");function cs(a,u,h){if(u.childrenProperties.length!==0)if(u.type===qn.Object){let c=1/0;for(const x of u.childrenProperties)x.beginningLineNumber<c&&(c=x.beginningLineNumber);const d=c-u.beginningLineNumber;h=h+d,a.push(new Zr(h,u.childrenProperties))}else u.type===qn.Array&&Ls(a,u,h)}n(cs,"updateSortingQueue");function Ls(a,u,h){for(const c of u.childrenProperties){if(c.type===qn.Object){let d=1/0;for(const te of c.childrenProperties)te.beginningLineNumber<d&&(d=te.beginningLineNumber);const x=d-c.beginningLineNumber;a.push(new Zr(h+c.beginningLineNumber-u.beginningLineNumber+x,c.childrenProperties))}c.type===qn.Array&&Ls(a,c,h+c.beginningLineNumber-u.beginningLineNumber)}}n(Ls,"updateSortingQueueForArrayProperties");var Zr=(Ur=class{constructor(u,h){this.beginningLineNumber=u,this.propertyTreeArray=h}},n(Ur,"SortingRange"),Ur);function Hr(a,u){const h=[];return u.visit(c=>{var d;if(c.type==="property"&&c.keyNode.value==="$ref"&&((d=c.valueNode)==null?void 0:d.type)==="string"){const x=c.valueNode.value,te=Cs(u,x);if(te){const pe=a.positionAt(te.offset);h.push({target:`${a.uri}#${pe.line+1},${pe.character+1}`,range:$r(a,c.valueNode)})}}return!0}),Promise.resolve(h)}n(Hr,"findLinks");function $r(a,u){return Ve.create(a.positionAt(u.offset+1),a.positionAt(u.offset+u.length-1))}n($r,"createRange");function Cs(a,u){const h=dr(u);return h?Xi(h,a.root):null}n(Cs,"findTargetNode");function Xi(a,u){if(!u)return null;if(a.length===0)return u;const h=a.shift();if(u&&u.type==="object"){const c=u.properties.find(d=>d.keyNode.value===h);return c?Xi(a,c.valueNode):null}else if(u&&u.type==="array"&&h.match(/^(0|[1-9][0-9]*)$/)){const c=Number.parseInt(h),d=u.items[c];return d?Xi(a,d):null}return null}n(Xi,"findNode");function dr(a){return a==="#"?[]:a[0]!=="#"||a[1]!=="/"?null:a.substring(2).split(/\//).map(Ws)}n(dr,"parseJSONPointer");function Ws(a){return a.replace(/~1/g,"/").replace(/~0/g,"~")}n(Ws,"json_worker_unescape");function Gr(a){const u=a.promiseConstructor||Promise,h=new vs(a.schemaRequestService,a.workspaceContext,u);h.setSchemaContributions(en);const c=new H(h,a.contributions,u,a.clientCapabilities),d=new re(h,a.contributions,u),x=new Vt(h),te=new Ie(h,u);return{configure:n(pe=>{var de;h.clearExternalSchemas(),(de=pe.schemas)==null||de.forEach(h.registerExternalSchema.bind(h)),te.configure(pe)},"configure"),resetSchema:n(pe=>h.onResourceChange(pe),"resetSchema"),doValidation:te.doValidation.bind(te),getLanguageStatus:te.getLanguageStatus.bind(te),parseJSONDocument:n(pe=>zr(pe,{collectComments:!0}),"parseJSONDocument"),newJSONDocument:n((pe,de)=>Sr(pe,de),"newJSONDocument"),getMatchingSchemas:h.getMatchingSchemas.bind(h),doResolve:c.doResolve.bind(c),doComplete:c.doComplete.bind(c),findDocumentSymbols:x.findDocumentSymbols.bind(x),findDocumentSymbols2:x.findDocumentSymbols2.bind(x),findDocumentColors:x.findDocumentColors.bind(x),getColorPresentations:x.getColorPresentations.bind(x),doHover:d.doHover.bind(d),getFoldingRanges:hr,getSelectionRanges:Os,findDefinition:n(()=>Promise.resolve([]),"findDefinition"),findLinks:Hr,format:n((pe,de,oe)=>Ir(pe,oe,de),"format"),sort:n((pe,de)=>Ps(pe,de),"sort")}}n(Gr,"getLanguageService");var Wt;typeof fetch!="undefined"&&(Wt=n(function(a){return fetch(a).then(u=>u.text())},"defaultSchemaRequestService"));var hs=(vr=class{constructor(u,h){this._ctx=u,this._languageSettings=h.languageSettings,this._languageId=h.languageId,this._languageService=Gr({workspaceContext:{resolveRelativePath:n((c,d)=>{const x=d.substr(0,d.lastIndexOf("/")+1);return ds(x,c)},"resolveRelativePath")},schemaRequestService:h.enableSchemaRequest?Wt:void 0,clientCapabilities:Kn.LATEST}),this._languageService.configure(this._languageSettings)}async doValidation(u){let h=this._getTextDocument(u);if(h){let c=this._languageService.parseJSONDocument(h);return this._languageService.doValidation(h,c,this._languageSettings)}return Promise.resolve([])}async doComplete(u,h){let c=this._getTextDocument(u);if(!c)return null;let d=this._languageService.parseJSONDocument(c);return this._languageService.doComplete(c,h,d)}async doResolve(u){return this._languageService.doResolve(u)}async doHover(u,h){let c=this._getTextDocument(u);if(!c)return null;let d=this._languageService.parseJSONDocument(c);return this._languageService.doHover(c,h,d)}async format(u,h,c){let d=this._getTextDocument(u);if(!d)return[];let x=this._languageService.format(d,h,c);return Promise.resolve(x)}async resetSchema(u){return Promise.resolve(this._languageService.resetSchema(u))}async findDocumentSymbols(u){let h=this._getTextDocument(u);if(!h)return[];let c=this._languageService.parseJSONDocument(h),d=this._languageService.findDocumentSymbols2(h,c);return Promise.resolve(d)}async findDocumentColors(u){let h=this._getTextDocument(u);if(!h)return[];let c=this._languageService.parseJSONDocument(h),d=this._languageService.findDocumentColors(h,c);return Promise.resolve(d)}async getColorPresentations(u,h,c){let d=this._getTextDocument(u);if(!d)return[];let x=this._languageService.parseJSONDocument(d),te=this._languageService.getColorPresentations(d,x,h,c);return Promise.resolve(te)}async getFoldingRanges(u,h){let c=this._getTextDocument(u);if(!c)return[];let d=this._languageService.getFoldingRanges(c,h);return Promise.resolve(d)}async getSelectionRanges(u,h){let c=this._getTextDocument(u);if(!c)return[];let d=this._languageService.parseJSONDocument(c),x=this._languageService.getSelectionRanges(c,h,d);return Promise.resolve(x)}async parseJSONDocument(u){let h=this._getTextDocument(u);if(!h)return null;let c=this._languageService.parseJSONDocument(h);return Promise.resolve(c)}async getMatchingSchemas(u){let h=this._getTextDocument(u);if(!h)return[];let c=this._languageService.parseJSONDocument(h);return Promise.resolve(this._languageService.getMatchingSchemas(h,c))}_getTextDocument(u){let h=this._ctx.getMirrorModels();for(let c of h)if(c.uri.toString()===u)return vt.create(u,this._languageId,c.version,c.getValue());return null}},n(vr,"JSONWorker"),vr),Nr=47,fr=46;function Kr(a){return a.charCodeAt(0)===Nr}n(Kr,"isAbsolutePath");function ds(a,u){if(Kr(u)){const h=on.parse(a),c=u.split("/");return h.with({path:Fr(c)}).toString()}return qr(a,u)}n(ds,"resolvePath");function Fr(a){const u=[];for(const c of a)c.length===0||c.length===1&&c.charCodeAt(0)===fr||(c.length===2&&c.charCodeAt(0)===fr&&c.charCodeAt(1)===fr?u.pop():u.push(c));a.length>1&&a[a.length-1].length===0&&u.push("");let h=u.join("/");return a[0].length===0&&(h="/"+h),h}n(Fr,"normalizePath");function qr(a,...u){const h=on.parse(a),c=h.path.split("/");for(let d of u)c.push(...d.split("/"));return h.with({path:Fr(c)}).toString()}n(qr,"joinPath"),self.onmessage=()=>{ie((a,u)=>new hs(a,u))}})()})();
