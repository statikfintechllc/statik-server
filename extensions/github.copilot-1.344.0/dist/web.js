"use strict";var VW=Object.create;var Wm=Object.defineProperty;var KW=Object.getOwnPropertyDescriptor;var YW=Object.getOwnPropertyNames;var XW=Object.getPrototypeOf,JW=Object.prototype.hasOwnProperty;var ME=(e,t)=>(t=Symbol[e])?t:Symbol.for("Symbol."+e),UE=e=>{throw TypeError(e)};var o=(e,t)=>Wm(e,"name",{value:t,configurable:!0});var ZW=(e,t)=>()=>(e&&(t=e(e=0)),t);var Q=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports),Vs=(e,t)=>{for(var r in t)Wm(e,r,{get:t[r],enumerable:!0})},BE=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let i of YW(t))!JW.call(e,i)&&i!==r&&Wm(e,i,{get:()=>t[i],enumerable:!(n=KW(t,i))||n.enumerable});return e};var Tt=(e,t,r)=>(r=e!=null?VW(XW(e)):{},BE(t||!e||!e.__esModule?Wm(r,"default",{value:e,enumerable:!0}):r,e)),Zg=e=>BE(Wm({},"__esModule",{value:!0}),e);var fb=(e,t,r)=>{if(t!=null){typeof t!="object"&&typeof t!="function"&&UE("Object expected");var n,i;r&&(n=t[ME("asyncDispose")]),n===void 0&&(n=t[ME("dispose")],r&&(i=n)),typeof n!="function"&&UE("Object not disposable"),i&&(n=function(){try{i.call(this)}catch(s){return Promise.reject(s)}}),e.push([r,n,t])}else r&&e.push([r]);return t},db=(e,t,r)=>{var n=typeof SuppressedError=="function"?SuppressedError:function(a,l,c,f){return f=Error(c),f.name="SuppressedError",f.error=a,f.suppressed=l,f},i=a=>t=r?new n(a,t,"An error was suppressed during disposal"):(r=!0,a),s=a=>{for(;a=e.pop();)try{var l=a[1]&&a[1].call(a[2]);if(a[0])return Promise.resolve(l).then(s,c=>(i(c),s()))}catch(c){i(c)}if(r)throw t};return s()};var $E=Q(()=>{});var $t=Q((eh,qE)=>{(function(e,t){typeof eh=="object"?qE.exports=eh=t():typeof define=="function"&&define.amd?define([],t):e.CryptoJS=t()})(eh,function(){var e=e||function(t,r){var n;if(typeof window<"u"&&window.crypto&&(n=window.crypto),typeof self<"u"&&self.crypto&&(n=self.crypto),typeof globalThis<"u"&&globalThis.crypto&&(n=globalThis.crypto),!n&&typeof window<"u"&&window.msCrypto&&(n=window.msCrypto),!n&&typeof global<"u"&&global.crypto&&(n=global.crypto),!n&&typeof require=="function")try{n=$E()}catch{}var i=o(function(){if(n){if(typeof n.getRandomValues=="function")try{return n.getRandomValues(new Uint32Array(1))[0]}catch{}if(typeof n.randomBytes=="function")try{return n.randomBytes(4).readInt32LE()}catch{}}throw new Error("Native crypto module could not be used to get secure random number.")},"cryptoSecureRandomInt"),s=Object.create||function(){function b(){}return o(b,"F"),function(x){var y;return b.prototype=x,y=new b,b.prototype=null,y}}(),a={},l=a.lib={},c=l.Base=function(){return{extend:o(function(b){var x=s(this);return b&&x.mixIn(b),(!x.hasOwnProperty("init")||this.init===x.init)&&(x.init=function(){x.$super.init.apply(this,arguments)}),x.init.prototype=x,x.$super=this,x},"extend"),create:o(function(){var b=this.extend();return b.init.apply(b,arguments),b},"create"),init:o(function(){},"init"),mixIn:o(function(b){for(var x in b)b.hasOwnProperty(x)&&(this[x]=b[x]);b.hasOwnProperty("toString")&&(this.toString=b.toString)},"mixIn"),clone:o(function(){return this.init.prototype.extend(this)},"clone")}}(),f=l.WordArray=c.extend({init:o(function(b,x){b=this.words=b||[],x!=r?this.sigBytes=x:this.sigBytes=b.length*4},"init"),toString:o(function(b){return(b||d).stringify(this)},"toString"),concat:o(function(b){var x=this.words,y=b.words,E=this.sigBytes,S=b.sigBytes;if(this.clamp(),E%4)for(var w=0;w<S;w++){var z=y[w>>>2]>>>24-w%4*8&255;x[E+w>>>2]|=z<<24-(E+w)%4*8}else for(var V=0;V<S;V+=4)x[E+V>>>2]=y[V>>>2];return this.sigBytes+=S,this},"concat"),clamp:o(function(){var b=this.words,x=this.sigBytes;b[x>>>2]&=4294967295<<32-x%4*8,b.length=t.ceil(x/4)},"clamp"),clone:o(function(){var b=c.clone.call(this);return b.words=this.words.slice(0),b},"clone"),random:o(function(b){for(var x=[],y=0;y<b;y+=4)x.push(i());return new f.init(x,b)},"random")}),u=a.enc={},d=u.Hex={stringify:o(function(b){for(var x=b.words,y=b.sigBytes,E=[],S=0;S<y;S++){var w=x[S>>>2]>>>24-S%4*8&255;E.push((w>>>4).toString(16)),E.push((w&15).toString(16))}return E.join("")},"stringify"),parse:o(function(b){for(var x=b.length,y=[],E=0;E<x;E+=2)y[E>>>3]|=parseInt(b.substr(E,2),16)<<24-E%8*4;return new f.init(y,x/2)},"parse")},p=u.Latin1={stringify:o(function(b){for(var x=b.words,y=b.sigBytes,E=[],S=0;S<y;S++){var w=x[S>>>2]>>>24-S%4*8&255;E.push(String.fromCharCode(w))}return E.join("")},"stringify"),parse:o(function(b){for(var x=b.length,y=[],E=0;E<x;E++)y[E>>>2]|=(b.charCodeAt(E)&255)<<24-E%4*8;return new f.init(y,x)},"parse")},m=u.Utf8={stringify:o(function(b){try{return decodeURIComponent(escape(p.stringify(b)))}catch{throw new Error("Malformed UTF-8 data")}},"stringify"),parse:o(function(b){return p.parse(unescape(encodeURIComponent(b)))},"parse")},g=l.BufferedBlockAlgorithm=c.extend({reset:o(function(){this._data=new f.init,this._nDataBytes=0},"reset"),_append:o(function(b){typeof b=="string"&&(b=m.parse(b)),this._data.concat(b),this._nDataBytes+=b.sigBytes},"_append"),_process:o(function(b){var x,y=this._data,E=y.words,S=y.sigBytes,w=this.blockSize,z=w*4,V=S/z;b?V=t.ceil(V):V=t.max((V|0)-this._minBufferSize,0);var W=V*w,Y=t.min(W*4,S);if(W){for(var R=0;R<W;R+=w)this._doProcessBlock(E,R);x=E.splice(0,W),y.sigBytes-=Y}return new f.init(x,Y)},"_process"),clone:o(function(){var b=c.clone.call(this);return b._data=this._data.clone(),b},"clone"),_minBufferSize:0}),h=l.Hasher=g.extend({cfg:c.extend(),init:o(function(b){this.cfg=this.cfg.extend(b),this.reset()},"init"),reset:o(function(){g.reset.call(this),this._doReset()},"reset"),update:o(function(b){return this._append(b),this._process(),this},"update"),finalize:o(function(b){b&&this._append(b);var x=this._doFinalize();return x},"finalize"),blockSize:512/32,_createHelper:o(function(b){return function(x,y){return new b.init(y).finalize(x)}},"_createHelper"),_createHmacHelper:o(function(b){return function(x,y){return new _.HMAC.init(b,y).finalize(x)}},"_createHmacHelper")}),_=a.algo={};return a}(Math);return e})});var Gm=Q((th,WE)=>{(function(e,t){typeof th=="object"?WE.exports=th=t($t()):typeof define=="function"&&define.amd?define(["./core"],t):t(e.CryptoJS)})(th,function(e){return function(t){var r=e,n=r.lib,i=n.Base,s=n.WordArray,a=r.x64={},l=a.Word=i.extend({init:o(function(f,u){this.high=f,this.low=u},"init")}),c=a.WordArray=i.extend({init:o(function(f,u){f=this.words=f||[],u!=t?this.sigBytes=u:this.sigBytes=f.length*8},"init"),toX32:o(function(){for(var f=this.words,u=f.length,d=[],p=0;p<u;p++){var m=f[p];d.push(m.high),d.push(m.low)}return s.create(d,this.sigBytes)},"toX32"),clone:o(function(){for(var f=i.clone.call(this),u=f.words=this.words.slice(0),d=u.length,p=0;p<d;p++)u[p]=u[p].clone();return f},"clone")})}(),e})});var zE=Q((rh,GE)=>{(function(e,t){typeof rh=="object"?GE.exports=rh=t($t()):typeof define=="function"&&define.amd?define(["./core"],t):t(e.CryptoJS)})(rh,function(e){return function(){if(typeof ArrayBuffer=="function"){var t=e,r=t.lib,n=r.WordArray,i=n.init,s=n.init=function(a){if(a instanceof ArrayBuffer&&(a=new Uint8Array(a)),(a instanceof Int8Array||typeof Uint8ClampedArray<"u"&&a instanceof Uint8ClampedArray||a instanceof Int16Array||a instanceof Uint16Array||a instanceof Int32Array||a instanceof Uint32Array||a instanceof Float32Array||a instanceof Float64Array)&&(a=new Uint8Array(a.buffer,a.byteOffset,a.byteLength)),a instanceof Uint8Array){for(var l=a.byteLength,c=[],f=0;f<l;f++)c[f>>>2]|=a[f]<<24-f%4*8;i.call(this,c,l)}else i.apply(this,arguments)};s.prototype=n}}(),e.lib.WordArray})});var VE=Q((nh,HE)=>{(function(e,t){typeof nh=="object"?HE.exports=nh=t($t()):typeof define=="function"&&define.amd?define(["./core"],t):t(e.CryptoJS)})(nh,function(e){return function(){var t=e,r=t.lib,n=r.WordArray,i=t.enc,s=i.Utf16=i.Utf16BE={stringify:o(function(l){for(var c=l.words,f=l.sigBytes,u=[],d=0;d<f;d+=2){var p=c[d>>>2]>>>16-d%4*8&65535;u.push(String.fromCharCode(p))}return u.join("")},"stringify"),parse:o(function(l){for(var c=l.length,f=[],u=0;u<c;u++)f[u>>>1]|=l.charCodeAt(u)<<16-u%2*16;return n.create(f,c*2)},"parse")};i.Utf16LE={stringify:o(function(l){for(var c=l.words,f=l.sigBytes,u=[],d=0;d<f;d+=2){var p=a(c[d>>>2]>>>16-d%4*8&65535);u.push(String.fromCharCode(p))}return u.join("")},"stringify"),parse:o(function(l){for(var c=l.length,f=[],u=0;u<c;u++)f[u>>>1]|=a(l.charCodeAt(u)<<16-u%2*16);return n.create(f,c*2)},"parse")};function a(l){return l<<8&4278255360|l>>>8&16711935}o(a,"swapEndian")}(),e.enc.Utf16})});var Xa=Q((ih,KE)=>{(function(e,t){typeof ih=="object"?KE.exports=ih=t($t()):typeof define=="function"&&define.amd?define(["./core"],t):t(e.CryptoJS)})(ih,function(e){return function(){var t=e,r=t.lib,n=r.WordArray,i=t.enc,s=i.Base64={stringify:o(function(l){var c=l.words,f=l.sigBytes,u=this._map;l.clamp();for(var d=[],p=0;p<f;p+=3)for(var m=c[p>>>2]>>>24-p%4*8&255,g=c[p+1>>>2]>>>24-(p+1)%4*8&255,h=c[p+2>>>2]>>>24-(p+2)%4*8&255,_=m<<16|g<<8|h,b=0;b<4&&p+b*.75<f;b++)d.push(u.charAt(_>>>6*(3-b)&63));var x=u.charAt(64);if(x)for(;d.length%4;)d.push(x);return d.join("")},"stringify"),parse:o(function(l){var c=l.length,f=this._map,u=this._reverseMap;if(!u){u=this._reverseMap=[];for(var d=0;d<f.length;d++)u[f.charCodeAt(d)]=d}var p=f.charAt(64);if(p){var m=l.indexOf(p);m!==-1&&(c=m)}return a(l,c,u)},"parse"),_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="};function a(l,c,f){for(var u=[],d=0,p=0;p<c;p++)if(p%4){var m=f[l.charCodeAt(p-1)]<<p%4*2,g=f[l.charCodeAt(p)]>>>6-p%4*2,h=m|g;u[d>>>2]|=h<<24-d%4*8,d++}return n.create(u,d)}o(a,"parseLoop")}(),e.enc.Base64})});var XE=Q((oh,YE)=>{(function(e,t){typeof oh=="object"?YE.exports=oh=t($t()):typeof define=="function"&&define.amd?define(["./core"],t):t(e.CryptoJS)})(oh,function(e){return function(){var t=e,r=t.lib,n=r.WordArray,i=t.enc,s=i.Base64url={stringify:o(function(l,c){c===void 0&&(c=!0);var f=l.words,u=l.sigBytes,d=c?this._safe_map:this._map;l.clamp();for(var p=[],m=0;m<u;m+=3)for(var g=f[m>>>2]>>>24-m%4*8&255,h=f[m+1>>>2]>>>24-(m+1)%4*8&255,_=f[m+2>>>2]>>>24-(m+2)%4*8&255,b=g<<16|h<<8|_,x=0;x<4&&m+x*.75<u;x++)p.push(d.charAt(b>>>6*(3-x)&63));var y=d.charAt(64);if(y)for(;p.length%4;)p.push(y);return p.join("")},"stringify"),parse:o(function(l,c){c===void 0&&(c=!0);var f=l.length,u=c?this._safe_map:this._map,d=this._reverseMap;if(!d){d=this._reverseMap=[];for(var p=0;p<u.length;p++)d[u.charCodeAt(p)]=p}var m=u.charAt(64);if(m){var g=l.indexOf(m);g!==-1&&(f=g)}return a(l,f,d)},"parse"),_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",_safe_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_"};function a(l,c,f){for(var u=[],d=0,p=0;p<c;p++)if(p%4){var m=f[l.charCodeAt(p-1)]<<p%4*2,g=f[l.charCodeAt(p)]>>>6-p%4*2,h=m|g;u[d>>>2]|=h<<24-d%4*8,d++}return n.create(u,d)}o(a,"parseLoop")}(),e.enc.Base64url})});var Ja=Q((sh,JE)=>{(function(e,t){typeof sh=="object"?JE.exports=sh=t($t()):typeof define=="function"&&define.amd?define(["./core"],t):t(e.CryptoJS)})(sh,function(e){return function(t){var r=e,n=r.lib,i=n.WordArray,s=n.Hasher,a=r.algo,l=[];(function(){for(var m=0;m<64;m++)l[m]=t.abs(t.sin(m+1))*4294967296|0})();var c=a.MD5=s.extend({_doReset:o(function(){this._hash=new i.init([1732584193,4023233417,2562383102,271733878])},"_doReset"),_doProcessBlock:o(function(m,g){for(var h=0;h<16;h++){var _=g+h,b=m[_];m[_]=(b<<8|b>>>24)&16711935|(b<<24|b>>>8)&4278255360}var x=this._hash.words,y=m[g+0],E=m[g+1],S=m[g+2],w=m[g+3],z=m[g+4],V=m[g+5],W=m[g+6],Y=m[g+7],R=m[g+8],P=m[g+9],G=m[g+10],A=m[g+11],I=m[g+12],v=m[g+13],N=m[g+14],T=m[g+15],D=x[0],k=x[1],L=x[2],U=x[3];D=f(D,k,L,U,y,7,l[0]),U=f(U,D,k,L,E,12,l[1]),L=f(L,U,D,k,S,17,l[2]),k=f(k,L,U,D,w,22,l[3]),D=f(D,k,L,U,z,7,l[4]),U=f(U,D,k,L,V,12,l[5]),L=f(L,U,D,k,W,17,l[6]),k=f(k,L,U,D,Y,22,l[7]),D=f(D,k,L,U,R,7,l[8]),U=f(U,D,k,L,P,12,l[9]),L=f(L,U,D,k,G,17,l[10]),k=f(k,L,U,D,A,22,l[11]),D=f(D,k,L,U,I,7,l[12]),U=f(U,D,k,L,v,12,l[13]),L=f(L,U,D,k,N,17,l[14]),k=f(k,L,U,D,T,22,l[15]),D=u(D,k,L,U,E,5,l[16]),U=u(U,D,k,L,W,9,l[17]),L=u(L,U,D,k,A,14,l[18]),k=u(k,L,U,D,y,20,l[19]),D=u(D,k,L,U,V,5,l[20]),U=u(U,D,k,L,G,9,l[21]),L=u(L,U,D,k,T,14,l[22]),k=u(k,L,U,D,z,20,l[23]),D=u(D,k,L,U,P,5,l[24]),U=u(U,D,k,L,N,9,l[25]),L=u(L,U,D,k,w,14,l[26]),k=u(k,L,U,D,R,20,l[27]),D=u(D,k,L,U,v,5,l[28]),U=u(U,D,k,L,S,9,l[29]),L=u(L,U,D,k,Y,14,l[30]),k=u(k,L,U,D,I,20,l[31]),D=d(D,k,L,U,V,4,l[32]),U=d(U,D,k,L,R,11,l[33]),L=d(L,U,D,k,A,16,l[34]),k=d(k,L,U,D,N,23,l[35]),D=d(D,k,L,U,E,4,l[36]),U=d(U,D,k,L,z,11,l[37]),L=d(L,U,D,k,Y,16,l[38]),k=d(k,L,U,D,G,23,l[39]),D=d(D,k,L,U,v,4,l[40]),U=d(U,D,k,L,y,11,l[41]),L=d(L,U,D,k,w,16,l[42]),k=d(k,L,U,D,W,23,l[43]),D=d(D,k,L,U,P,4,l[44]),U=d(U,D,k,L,I,11,l[45]),L=d(L,U,D,k,T,16,l[46]),k=d(k,L,U,D,S,23,l[47]),D=p(D,k,L,U,y,6,l[48]),U=p(U,D,k,L,Y,10,l[49]),L=p(L,U,D,k,N,15,l[50]),k=p(k,L,U,D,V,21,l[51]),D=p(D,k,L,U,I,6,l[52]),U=p(U,D,k,L,w,10,l[53]),L=p(L,U,D,k,G,15,l[54]),k=p(k,L,U,D,E,21,l[55]),D=p(D,k,L,U,R,6,l[56]),U=p(U,D,k,L,T,10,l[57]),L=p(L,U,D,k,W,15,l[58]),k=p(k,L,U,D,v,21,l[59]),D=p(D,k,L,U,z,6,l[60]),U=p(U,D,k,L,A,10,l[61]),L=p(L,U,D,k,S,15,l[62]),k=p(k,L,U,D,P,21,l[63]),x[0]=x[0]+D|0,x[1]=x[1]+k|0,x[2]=x[2]+L|0,x[3]=x[3]+U|0},"_doProcessBlock"),_doFinalize:o(function(){var m=this._data,g=m.words,h=this._nDataBytes*8,_=m.sigBytes*8;g[_>>>5]|=128<<24-_%32;var b=t.floor(h/4294967296),x=h;g[(_+64>>>9<<4)+15]=(b<<8|b>>>24)&16711935|(b<<24|b>>>8)&4278255360,g[(_+64>>>9<<4)+14]=(x<<8|x>>>24)&16711935|(x<<24|x>>>8)&4278255360,m.sigBytes=(g.length+1)*4,this._process();for(var y=this._hash,E=y.words,S=0;S<4;S++){var w=E[S];E[S]=(w<<8|w>>>24)&16711935|(w<<24|w>>>8)&4278255360}return y},"_doFinalize"),clone:o(function(){var m=s.clone.call(this);return m._hash=this._hash.clone(),m},"clone")});function f(m,g,h,_,b,x,y){var E=m+(g&h|~g&_)+b+y;return(E<<x|E>>>32-x)+g}o(f,"FF");function u(m,g,h,_,b,x,y){var E=m+(g&_|h&~_)+b+y;return(E<<x|E>>>32-x)+g}o(u,"GG");function d(m,g,h,_,b,x,y){var E=m+(g^h^_)+b+y;return(E<<x|E>>>32-x)+g}o(d,"HH");function p(m,g,h,_,b,x,y){var E=m+(h^(g|~_))+b+y;return(E<<x|E>>>32-x)+g}o(p,"II"),r.MD5=s._createHelper(c),r.HmacMD5=s._createHmacHelper(c)}(Math),e.MD5})});var pb=Q((ah,ZE)=>{(function(e,t){typeof ah=="object"?ZE.exports=ah=t($t()):typeof define=="function"&&define.amd?define(["./core"],t):t(e.CryptoJS)})(ah,function(e){return function(){var t=e,r=t.lib,n=r.WordArray,i=r.Hasher,s=t.algo,a=[],l=s.SHA1=i.extend({_doReset:o(function(){this._hash=new n.init([1732584193,4023233417,2562383102,271733878,3285377520])},"_doReset"),_doProcessBlock:o(function(c,f){for(var u=this._hash.words,d=u[0],p=u[1],m=u[2],g=u[3],h=u[4],_=0;_<80;_++){if(_<16)a[_]=c[f+_]|0;else{var b=a[_-3]^a[_-8]^a[_-14]^a[_-16];a[_]=b<<1|b>>>31}var x=(d<<5|d>>>27)+h+a[_];_<20?x+=(p&m|~p&g)+1518500249:_<40?x+=(p^m^g)+1859775393:_<60?x+=(p&m|p&g|m&g)-1894007588:x+=(p^m^g)-899497514,h=g,g=m,m=p<<30|p>>>2,p=d,d=x}u[0]=u[0]+d|0,u[1]=u[1]+p|0,u[2]=u[2]+m|0,u[3]=u[3]+g|0,u[4]=u[4]+h|0},"_doProcessBlock"),_doFinalize:o(function(){var c=this._data,f=c.words,u=this._nDataBytes*8,d=c.sigBytes*8;return f[d>>>5]|=128<<24-d%32,f[(d+64>>>9<<4)+14]=Math.floor(u/4294967296),f[(d+64>>>9<<4)+15]=u,c.sigBytes=f.length*4,this._process(),this._hash},"_doFinalize"),clone:o(function(){var c=i.clone.call(this);return c._hash=this._hash.clone(),c},"clone")});t.SHA1=i._createHelper(l),t.HmacSHA1=i._createHmacHelper(l)}(),e.SHA1})});var ch=Q((lh,QE)=>{(function(e,t){typeof lh=="object"?QE.exports=lh=t($t()):typeof define=="function"&&define.amd?define(["./core"],t):t(e.CryptoJS)})(lh,function(e){return function(t){var r=e,n=r.lib,i=n.WordArray,s=n.Hasher,a=r.algo,l=[],c=[];(function(){function d(h){for(var _=t.sqrt(h),b=2;b<=_;b++)if(!(h%b))return!1;return!0}o(d,"isPrime");function p(h){return(h-(h|0))*4294967296|0}o(p,"getFractionalBits");for(var m=2,g=0;g<64;)d(m)&&(g<8&&(l[g]=p(t.pow(m,1/2))),c[g]=p(t.pow(m,1/3)),g++),m++})();var f=[],u=a.SHA256=s.extend({_doReset:o(function(){this._hash=new i.init(l.slice(0))},"_doReset"),_doProcessBlock:o(function(d,p){for(var m=this._hash.words,g=m[0],h=m[1],_=m[2],b=m[3],x=m[4],y=m[5],E=m[6],S=m[7],w=0;w<64;w++){if(w<16)f[w]=d[p+w]|0;else{var z=f[w-15],V=(z<<25|z>>>7)^(z<<14|z>>>18)^z>>>3,W=f[w-2],Y=(W<<15|W>>>17)^(W<<13|W>>>19)^W>>>10;f[w]=V+f[w-7]+Y+f[w-16]}var R=x&y^~x&E,P=g&h^g&_^h&_,G=(g<<30|g>>>2)^(g<<19|g>>>13)^(g<<10|g>>>22),A=(x<<26|x>>>6)^(x<<21|x>>>11)^(x<<7|x>>>25),I=S+A+R+c[w]+f[w],v=G+P;S=E,E=y,y=x,x=b+I|0,b=_,_=h,h=g,g=I+v|0}m[0]=m[0]+g|0,m[1]=m[1]+h|0,m[2]=m[2]+_|0,m[3]=m[3]+b|0,m[4]=m[4]+x|0,m[5]=m[5]+y|0,m[6]=m[6]+E|0,m[7]=m[7]+S|0},"_doProcessBlock"),_doFinalize:o(function(){var d=this._data,p=d.words,m=this._nDataBytes*8,g=d.sigBytes*8;return p[g>>>5]|=128<<24-g%32,p[(g+64>>>9<<4)+14]=t.floor(m/4294967296),p[(g+64>>>9<<4)+15]=m,d.sigBytes=p.length*4,this._process(),this._hash},"_doFinalize"),clone:o(function(){var d=s.clone.call(this);return d._hash=this._hash.clone(),d},"clone")});r.SHA256=s._createHelper(u),r.HmacSHA256=s._createHmacHelper(u)}(Math),e.SHA256})});var tC=Q((uh,eC)=>{(function(e,t,r){typeof uh=="object"?eC.exports=uh=t($t(),ch()):typeof define=="function"&&define.amd?define(["./core","./sha256"],t):t(e.CryptoJS)})(uh,function(e){return function(){var t=e,r=t.lib,n=r.WordArray,i=t.algo,s=i.SHA256,a=i.SHA224=s.extend({_doReset:o(function(){this._hash=new n.init([3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428])},"_doReset"),_doFinalize:o(function(){var l=s._doFinalize.call(this);return l.sigBytes-=4,l},"_doFinalize")});t.SHA224=s._createHelper(a),t.HmacSHA224=s._createHmacHelper(a)}(),e.SHA224})});var gb=Q((fh,rC)=>{(function(e,t,r){typeof fh=="object"?rC.exports=fh=t($t(),Gm()):typeof define=="function"&&define.amd?define(["./core","./x64-core"],t):t(e.CryptoJS)})(fh,function(e){return function(){var t=e,r=t.lib,n=r.Hasher,i=t.x64,s=i.Word,a=i.WordArray,l=t.algo;function c(){return s.create.apply(s,arguments)}o(c,"X64Word_create");var f=[c(1116352408,3609767458),c(1899447441,602891725),c(3049323471,3964484399),c(3921009573,2173295548),c(961987163,4081628472),c(1508970993,3053834265),c(2453635748,2937671579),c(2870763221,3664609560),c(3624381080,2734883394),c(310598401,1164996542),c(607225278,1323610764),c(1426881987,3590304994),c(1925078388,4068182383),c(2162078206,991336113),c(2614888103,633803317),c(3248222580,3479774868),c(3835390401,2666613458),c(4022224774,944711139),c(264347078,2341262773),c(604807628,2007800933),c(770255983,1495990901),c(1249150122,1856431235),c(1555081692,3175218132),c(1996064986,2198950837),c(2554220882,3999719339),c(2821834349,766784016),c(2952996808,2566594879),c(3210313671,3203337956),c(3336571891,1034457026),c(3584528711,2466948901),c(113926993,3758326383),c(338241895,168717936),c(666307205,1188179964),c(773529912,1546045734),c(1294757372,1522805485),c(1396182291,2643833823),c(1695183700,2343527390),c(1986661051,1014477480),c(2177026350,1206759142),c(2456956037,344077627),c(2730485921,1290863460),c(2820302411,3158454273),c(3259730800,3505952657),c(3345764771,106217008),c(3516065817,3606008344),c(3600352804,1432725776),c(4094571909,1467031594),c(275423344,851169720),c(430227734,3100823752),c(506948616,1363258195),c(659060556,3750685593),c(883997877,3785050280),c(958139571,3318307427),c(1322822218,3812723403),c(1537002063,2003034995),c(1747873779,3602036899),c(1955562222,1575990012),c(2024104815,1125592928),c(2227730452,2716904306),c(2361852424,442776044),c(2428436474,593698344),c(2756734187,3733110249),c(3204031479,2999351573),c(3329325298,3815920427),c(3391569614,3928383900),c(3515267271,566280711),c(3940187606,3454069534),c(4118630271,4000239992),c(116418474,1914138554),c(174292421,2731055270),c(289380356,3203993006),c(460393269,320620315),c(685471733,587496836),c(852142971,1086792851),c(1017036298,365543100),c(1126000580,2618297676),c(1288033470,3409855158),c(1501505948,4234509866),c(1607167915,987167468),c(1816402316,1246189591)],u=[];(function(){for(var p=0;p<80;p++)u[p]=c()})();var d=l.SHA512=n.extend({_doReset:o(function(){this._hash=new a.init([new s.init(1779033703,4089235720),new s.init(3144134277,2227873595),new s.init(1013904242,4271175723),new s.init(2773480762,1595750129),new s.init(1359893119,2917565137),new s.init(2600822924,725511199),new s.init(528734635,4215389547),new s.init(1541459225,327033209)])},"_doReset"),_doProcessBlock:o(function(p,m){for(var g=this._hash.words,h=g[0],_=g[1],b=g[2],x=g[3],y=g[4],E=g[5],S=g[6],w=g[7],z=h.high,V=h.low,W=_.high,Y=_.low,R=b.high,P=b.low,G=x.high,A=x.low,I=y.high,v=y.low,N=E.high,T=E.low,D=S.high,k=S.low,L=w.high,U=w.low,H=z,ae=V,ye=W,he=Y,Ue=R,He=P,Ve=G,Ze=A,F=I,ne=v,j=N,ge=T,le=D,$=k,re=L,xe=U,ue=0;ue<80;ue++){var de,Ie,we=u[ue];if(ue<16)Ie=we.high=p[m+ue*2]|0,de=we.low=p[m+ue*2+1]|0;else{var ke=u[ue-15],qe=ke.high,Ke=ke.low,tt=(qe>>>1|Ke<<31)^(qe>>>8|Ke<<24)^qe>>>7,rt=(Ke>>>1|qe<<31)^(Ke>>>8|qe<<24)^(Ke>>>7|qe<<25),lt=u[ue-2],O=lt.high,Z=lt.low,fe=(O>>>19|Z<<13)^(O<<3|Z>>>29)^O>>>6,pe=(Z>>>19|O<<13)^(Z<<3|O>>>29)^(Z>>>6|O<<26),Re=u[ue-7],Me=Re.high,$e=Re.low,We=u[ue-16],De=We.high,q=We.low;de=rt+$e,Ie=tt+Me+(de>>>0<rt>>>0?1:0),de=de+pe,Ie=Ie+fe+(de>>>0<pe>>>0?1:0),de=de+q,Ie=Ie+De+(de>>>0<q>>>0?1:0),we.high=Ie,we.low=de}var X=F&j^~F&le,se=ne&ge^~ne&$,me=H&ye^H&Ue^ye&Ue,be=ae&he^ae&He^he&He,Te=(H>>>28|ae<<4)^(H<<30|ae>>>2)^(H<<25|ae>>>7),Ne=(ae>>>28|H<<4)^(ae<<30|H>>>2)^(ae<<25|H>>>7),Ye=(F>>>14|ne<<18)^(F>>>18|ne<<14)^(F<<23|ne>>>9),ut=(ne>>>14|F<<18)^(ne>>>18|F<<14)^(ne<<23|F>>>9),Ce=f[ue],At=Ce.high,Ct=Ce.low,nt=xe+ut,ft=re+Ye+(nt>>>0<xe>>>0?1:0),nt=nt+se,ft=ft+X+(nt>>>0<se>>>0?1:0),nt=nt+Ct,ft=ft+At+(nt>>>0<Ct>>>0?1:0),nt=nt+de,ft=ft+Ie+(nt>>>0<de>>>0?1:0),Dt=Ne+be,Ut=Te+me+(Dt>>>0<Ne>>>0?1:0);re=le,xe=$,le=j,$=ge,j=F,ge=ne,ne=Ze+nt|0,F=Ve+ft+(ne>>>0<Ze>>>0?1:0)|0,Ve=Ue,Ze=He,Ue=ye,He=he,ye=H,he=ae,ae=nt+Dt|0,H=ft+Ut+(ae>>>0<nt>>>0?1:0)|0}V=h.low=V+ae,h.high=z+H+(V>>>0<ae>>>0?1:0),Y=_.low=Y+he,_.high=W+ye+(Y>>>0<he>>>0?1:0),P=b.low=P+He,b.high=R+Ue+(P>>>0<He>>>0?1:0),A=x.low=A+Ze,x.high=G+Ve+(A>>>0<Ze>>>0?1:0),v=y.low=v+ne,y.high=I+F+(v>>>0<ne>>>0?1:0),T=E.low=T+ge,E.high=N+j+(T>>>0<ge>>>0?1:0),k=S.low=k+$,S.high=D+le+(k>>>0<$>>>0?1:0),U=w.low=U+xe,w.high=L+re+(U>>>0<xe>>>0?1:0)},"_doProcessBlock"),_doFinalize:o(function(){var p=this._data,m=p.words,g=this._nDataBytes*8,h=p.sigBytes*8;m[h>>>5]|=128<<24-h%32,m[(h+128>>>10<<5)+30]=Math.floor(g/4294967296),m[(h+128>>>10<<5)+31]=g,p.sigBytes=m.length*4,this._process();var _=this._hash.toX32();return _},"_doFinalize"),clone:o(function(){var p=n.clone.call(this);return p._hash=this._hash.clone(),p},"clone"),blockSize:1024/32});t.SHA512=n._createHelper(d),t.HmacSHA512=n._createHmacHelper(d)}(),e.SHA512})});var iC=Q((dh,nC)=>{(function(e,t,r){typeof dh=="object"?nC.exports=dh=t($t(),Gm(),gb()):typeof define=="function"&&define.amd?define(["./core","./x64-core","./sha512"],t):t(e.CryptoJS)})(dh,function(e){return function(){var t=e,r=t.x64,n=r.Word,i=r.WordArray,s=t.algo,a=s.SHA512,l=s.SHA384=a.extend({_doReset:o(function(){this._hash=new i.init([new n.init(3418070365,3238371032),new n.init(1654270250,914150663),new n.init(2438529370,812702999),new n.init(355462360,4144912697),new n.init(1731405415,4290775857),new n.init(2394180231,1750603025),new n.init(3675008525,1694076839),new n.init(1203062813,3204075428)])},"_doReset"),_doFinalize:o(function(){var c=a._doFinalize.call(this);return c.sigBytes-=16,c},"_doFinalize")});t.SHA384=a._createHelper(l),t.HmacSHA384=a._createHmacHelper(l)}(),e.SHA384})});var sC=Q((mh,oC)=>{(function(e,t,r){typeof mh=="object"?oC.exports=mh=t($t(),Gm()):typeof define=="function"&&define.amd?define(["./core","./x64-core"],t):t(e.CryptoJS)})(mh,function(e){return function(t){var r=e,n=r.lib,i=n.WordArray,s=n.Hasher,a=r.x64,l=a.Word,c=r.algo,f=[],u=[],d=[];(function(){for(var g=1,h=0,_=0;_<24;_++){f[g+5*h]=(_+1)*(_+2)/2%64;var b=h%5,x=(2*g+3*h)%5;g=b,h=x}for(var g=0;g<5;g++)for(var h=0;h<5;h++)u[g+5*h]=h+(2*g+3*h)%5*5;for(var y=1,E=0;E<24;E++){for(var S=0,w=0,z=0;z<7;z++){if(y&1){var V=(1<<z)-1;V<32?w^=1<<V:S^=1<<V-32}y&128?y=y<<1^113:y<<=1}d[E]=l.create(S,w)}})();var p=[];(function(){for(var g=0;g<25;g++)p[g]=l.create()})();var m=c.SHA3=s.extend({cfg:s.cfg.extend({outputLength:512}),_doReset:o(function(){for(var g=this._state=[],h=0;h<25;h++)g[h]=new l.init;this.blockSize=(1600-2*this.cfg.outputLength)/32},"_doReset"),_doProcessBlock:o(function(g,h){for(var _=this._state,b=this.blockSize/2,x=0;x<b;x++){var y=g[h+2*x],E=g[h+2*x+1];y=(y<<8|y>>>24)&16711935|(y<<24|y>>>8)&4278255360,E=(E<<8|E>>>24)&16711935|(E<<24|E>>>8)&4278255360;var S=_[x];S.high^=E,S.low^=y}for(var w=0;w<24;w++){for(var z=0;z<5;z++){for(var V=0,W=0,Y=0;Y<5;Y++){var S=_[z+5*Y];V^=S.high,W^=S.low}var R=p[z];R.high=V,R.low=W}for(var z=0;z<5;z++)for(var P=p[(z+4)%5],G=p[(z+1)%5],A=G.high,I=G.low,V=P.high^(A<<1|I>>>31),W=P.low^(I<<1|A>>>31),Y=0;Y<5;Y++){var S=_[z+5*Y];S.high^=V,S.low^=W}for(var v=1;v<25;v++){var V,W,S=_[v],N=S.high,T=S.low,D=f[v];D<32?(V=N<<D|T>>>32-D,W=T<<D|N>>>32-D):(V=T<<D-32|N>>>64-D,W=N<<D-32|T>>>64-D);var k=p[u[v]];k.high=V,k.low=W}var L=p[0],U=_[0];L.high=U.high,L.low=U.low;for(var z=0;z<5;z++)for(var Y=0;Y<5;Y++){var v=z+5*Y,S=_[v],H=p[v],ae=p[(z+1)%5+5*Y],ye=p[(z+2)%5+5*Y];S.high=H.high^~ae.high&ye.high,S.low=H.low^~ae.low&ye.low}var S=_[0],he=d[w];S.high^=he.high,S.low^=he.low}},"_doProcessBlock"),_doFinalize:o(function(){var g=this._data,h=g.words,_=this._nDataBytes*8,b=g.sigBytes*8,x=this.blockSize*32;h[b>>>5]|=1<<24-b%32,h[(t.ceil((b+1)/x)*x>>>5)-1]|=128,g.sigBytes=h.length*4,this._process();for(var y=this._state,E=this.cfg.outputLength/8,S=E/8,w=[],z=0;z<S;z++){var V=y[z],W=V.high,Y=V.low;W=(W<<8|W>>>24)&16711935|(W<<24|W>>>8)&4278255360,Y=(Y<<8|Y>>>24)&16711935|(Y<<24|Y>>>8)&4278255360,w.push(Y),w.push(W)}return new i.init(w,E)},"_doFinalize"),clone:o(function(){for(var g=s.clone.call(this),h=g._state=this._state.slice(0),_=0;_<25;_++)h[_]=h[_].clone();return g},"clone")});r.SHA3=s._createHelper(m),r.HmacSHA3=s._createHmacHelper(m)}(Math),e.SHA3})});var lC=Q((ph,aC)=>{(function(e,t){typeof ph=="object"?aC.exports=ph=t($t()):typeof define=="function"&&define.amd?define(["./core"],t):t(e.CryptoJS)})(ph,function(e){return function(t){var r=e,n=r.lib,i=n.WordArray,s=n.Hasher,a=r.algo,l=i.create([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13]),c=i.create([5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11]),f=i.create([11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6]),u=i.create([8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11]),d=i.create([0,1518500249,1859775393,2400959708,2840853838]),p=i.create([1352829926,1548603684,1836072691,2053994217,0]),m=a.RIPEMD160=s.extend({_doReset:o(function(){this._hash=i.create([1732584193,4023233417,2562383102,271733878,3285377520])},"_doReset"),_doProcessBlock:o(function(E,S){for(var w=0;w<16;w++){var z=S+w,V=E[z];E[z]=(V<<8|V>>>24)&16711935|(V<<24|V>>>8)&4278255360}var W=this._hash.words,Y=d.words,R=p.words,P=l.words,G=c.words,A=f.words,I=u.words,v,N,T,D,k,L,U,H,ae,ye;L=v=W[0],U=N=W[1],H=T=W[2],ae=D=W[3],ye=k=W[4];for(var he,w=0;w<80;w+=1)he=v+E[S+P[w]]|0,w<16?he+=g(N,T,D)+Y[0]:w<32?he+=h(N,T,D)+Y[1]:w<48?he+=_(N,T,D)+Y[2]:w<64?he+=b(N,T,D)+Y[3]:he+=x(N,T,D)+Y[4],he=he|0,he=y(he,A[w]),he=he+k|0,v=k,k=D,D=y(T,10),T=N,N=he,he=L+E[S+G[w]]|0,w<16?he+=x(U,H,ae)+R[0]:w<32?he+=b(U,H,ae)+R[1]:w<48?he+=_(U,H,ae)+R[2]:w<64?he+=h(U,H,ae)+R[3]:he+=g(U,H,ae)+R[4],he=he|0,he=y(he,I[w]),he=he+ye|0,L=ye,ye=ae,ae=y(H,10),H=U,U=he;he=W[1]+T+ae|0,W[1]=W[2]+D+ye|0,W[2]=W[3]+k+L|0,W[3]=W[4]+v+U|0,W[4]=W[0]+N+H|0,W[0]=he},"_doProcessBlock"),_doFinalize:o(function(){var E=this._data,S=E.words,w=this._nDataBytes*8,z=E.sigBytes*8;S[z>>>5]|=128<<24-z%32,S[(z+64>>>9<<4)+14]=(w<<8|w>>>24)&16711935|(w<<24|w>>>8)&4278255360,E.sigBytes=(S.length+1)*4,this._process();for(var V=this._hash,W=V.words,Y=0;Y<5;Y++){var R=W[Y];W[Y]=(R<<8|R>>>24)&16711935|(R<<24|R>>>8)&4278255360}return V},"_doFinalize"),clone:o(function(){var E=s.clone.call(this);return E._hash=this._hash.clone(),E},"clone")});function g(E,S,w){return E^S^w}o(g,"f1");function h(E,S,w){return E&S|~E&w}o(h,"f2");function _(E,S,w){return(E|~S)^w}o(_,"f3");function b(E,S,w){return E&w|S&~w}o(b,"f4");function x(E,S,w){return E^(S|~w)}o(x,"f5");function y(E,S){return E<<S|E>>>32-S}o(y,"rotl"),r.RIPEMD160=s._createHelper(m),r.HmacRIPEMD160=s._createHmacHelper(m)}(Math),e.RIPEMD160})});var hh=Q((gh,cC)=>{(function(e,t){typeof gh=="object"?cC.exports=gh=t($t()):typeof define=="function"&&define.amd?define(["./core"],t):t(e.CryptoJS)})(gh,function(e){(function(){var t=e,r=t.lib,n=r.Base,i=t.enc,s=i.Utf8,a=t.algo,l=a.HMAC=n.extend({init:o(function(c,f){c=this._hasher=new c.init,typeof f=="string"&&(f=s.parse(f));var u=c.blockSize,d=u*4;f.sigBytes>d&&(f=c.finalize(f)),f.clamp();for(var p=this._oKey=f.clone(),m=this._iKey=f.clone(),g=p.words,h=m.words,_=0;_<u;_++)g[_]^=1549556828,h[_]^=909522486;p.sigBytes=m.sigBytes=d,this.reset()},"init"),reset:o(function(){var c=this._hasher;c.reset(),c.update(this._iKey)},"reset"),update:o(function(c){return this._hasher.update(c),this},"update"),finalize:o(function(c){var f=this._hasher,u=f.finalize(c);f.reset();var d=f.finalize(this._oKey.clone().concat(u));return d},"finalize")})})()})});var fC=Q((xh,uC)=>{(function(e,t,r){typeof xh=="object"?uC.exports=xh=t($t(),ch(),hh()):typeof define=="function"&&define.amd?define(["./core","./sha256","./hmac"],t):t(e.CryptoJS)})(xh,function(e){return function(){var t=e,r=t.lib,n=r.Base,i=r.WordArray,s=t.algo,a=s.SHA256,l=s.HMAC,c=s.PBKDF2=n.extend({cfg:n.extend({keySize:128/32,hasher:a,iterations:25e4}),init:o(function(f){this.cfg=this.cfg.extend(f)},"init"),compute:o(function(f,u){for(var d=this.cfg,p=l.create(d.hasher,f),m=i.create(),g=i.create([1]),h=m.words,_=g.words,b=d.keySize,x=d.iterations;h.length<b;){var y=p.update(u).finalize(g);p.reset();for(var E=y.words,S=E.length,w=y,z=1;z<x;z++){w=p.finalize(w),p.reset();for(var V=w.words,W=0;W<S;W++)E[W]^=V[W]}m.concat(y),_[0]++}return m.sigBytes=b*4,m},"compute")});t.PBKDF2=function(f,u,d){return c.create(d).compute(f,u)}}(),e.PBKDF2})});var K0=Q((bh,dC)=>{(function(e,t,r){typeof bh=="object"?dC.exports=bh=t($t(),pb(),hh()):typeof define=="function"&&define.amd?define(["./core","./sha1","./hmac"],t):t(e.CryptoJS)})(bh,function(e){return function(){var t=e,r=t.lib,n=r.Base,i=r.WordArray,s=t.algo,a=s.MD5,l=s.EvpKDF=n.extend({cfg:n.extend({keySize:128/32,hasher:a,iterations:1}),init:o(function(c){this.cfg=this.cfg.extend(c)},"init"),compute:o(function(c,f){for(var u,d=this.cfg,p=d.hasher.create(),m=i.create(),g=m.words,h=d.keySize,_=d.iterations;g.length<h;){u&&p.update(u),u=p.update(c).finalize(f),p.reset();for(var b=1;b<_;b++)u=p.finalize(u),p.reset();m.concat(u)}return m.sigBytes=h*4,m},"compute")});t.EvpKDF=function(c,f,u){return l.create(u).compute(c,f)}}(),e.EvpKDF})});var vn=Q((_h,mC)=>{(function(e,t,r){typeof _h=="object"?mC.exports=_h=t($t(),K0()):typeof define=="function"&&define.amd?define(["./core","./evpkdf"],t):t(e.CryptoJS)})(_h,function(e){e.lib.Cipher||function(t){var r=e,n=r.lib,i=n.Base,s=n.WordArray,a=n.BufferedBlockAlgorithm,l=r.enc,c=l.Utf8,f=l.Base64,u=r.algo,d=u.EvpKDF,p=n.Cipher=a.extend({cfg:i.extend(),createEncryptor:o(function(R,P){return this.create(this._ENC_XFORM_MODE,R,P)},"createEncryptor"),createDecryptor:o(function(R,P){return this.create(this._DEC_XFORM_MODE,R,P)},"createDecryptor"),init:o(function(R,P,G){this.cfg=this.cfg.extend(G),this._xformMode=R,this._key=P,this.reset()},"init"),reset:o(function(){a.reset.call(this),this._doReset()},"reset"),process:o(function(R){return this._append(R),this._process()},"process"),finalize:o(function(R){R&&this._append(R);var P=this._doFinalize();return P},"finalize"),keySize:128/32,ivSize:128/32,_ENC_XFORM_MODE:1,_DEC_XFORM_MODE:2,_createHelper:function(){function R(P){return typeof P=="string"?Y:z}return o(R,"selectCipherStrategy"),function(P){return{encrypt:o(function(G,A,I){return R(A).encrypt(P,G,A,I)},"encrypt"),decrypt:o(function(G,A,I){return R(A).decrypt(P,G,A,I)},"decrypt")}}}()}),m=n.StreamCipher=p.extend({_doFinalize:o(function(){var R=this._process(!0);return R},"_doFinalize"),blockSize:1}),g=r.mode={},h=n.BlockCipherMode=i.extend({createEncryptor:o(function(R,P){return this.Encryptor.create(R,P)},"createEncryptor"),createDecryptor:o(function(R,P){return this.Decryptor.create(R,P)},"createDecryptor"),init:o(function(R,P){this._cipher=R,this._iv=P},"init")}),_=g.CBC=function(){var R=h.extend();R.Encryptor=R.extend({processBlock:o(function(G,A){var I=this._cipher,v=I.blockSize;P.call(this,G,A,v),I.encryptBlock(G,A),this._prevBlock=G.slice(A,A+v)},"processBlock")}),R.Decryptor=R.extend({processBlock:o(function(G,A){var I=this._cipher,v=I.blockSize,N=G.slice(A,A+v);I.decryptBlock(G,A),P.call(this,G,A,v),this._prevBlock=N},"processBlock")});function P(G,A,I){var v,N=this._iv;N?(v=N,this._iv=t):v=this._prevBlock;for(var T=0;T<I;T++)G[A+T]^=v[T]}return o(P,"xorBlock"),R}(),b=r.pad={},x=b.Pkcs7={pad:o(function(R,P){for(var G=P*4,A=G-R.sigBytes%G,I=A<<24|A<<16|A<<8|A,v=[],N=0;N<A;N+=4)v.push(I);var T=s.create(v,A);R.concat(T)},"pad"),unpad:o(function(R){var P=R.words[R.sigBytes-1>>>2]&255;R.sigBytes-=P},"unpad")},y=n.BlockCipher=p.extend({cfg:p.cfg.extend({mode:_,padding:x}),reset:o(function(){var R;p.reset.call(this);var P=this.cfg,G=P.iv,A=P.mode;this._xformMode==this._ENC_XFORM_MODE?R=A.createEncryptor:(R=A.createDecryptor,this._minBufferSize=1),this._mode&&this._mode.__creator==R?this._mode.init(this,G&&G.words):(this._mode=R.call(A,this,G&&G.words),this._mode.__creator=R)},"reset"),_doProcessBlock:o(function(R,P){this._mode.processBlock(R,P)},"_doProcessBlock"),_doFinalize:o(function(){var R,P=this.cfg.padding;return this._xformMode==this._ENC_XFORM_MODE?(P.pad(this._data,this.blockSize),R=this._process(!0)):(R=this._process(!0),P.unpad(R)),R},"_doFinalize"),blockSize:128/32}),E=n.CipherParams=i.extend({init:o(function(R){this.mixIn(R)},"init"),toString:o(function(R){return(R||this.formatter).stringify(this)},"toString")}),S=r.format={},w=S.OpenSSL={stringify:o(function(R){var P,G=R.ciphertext,A=R.salt;return A?P=s.create([1398893684,1701076831]).concat(A).concat(G):P=G,P.toString(f)},"stringify"),parse:o(function(R){var P,G=f.parse(R),A=G.words;return A[0]==1398893684&&A[1]==1701076831&&(P=s.create(A.slice(2,4)),A.splice(0,4),G.sigBytes-=16),E.create({ciphertext:G,salt:P})},"parse")},z=n.SerializableCipher=i.extend({cfg:i.extend({format:w}),encrypt:o(function(R,P,G,A){A=this.cfg.extend(A);var I=R.createEncryptor(G,A),v=I.finalize(P),N=I.cfg;return E.create({ciphertext:v,key:G,iv:N.iv,algorithm:R,mode:N.mode,padding:N.padding,blockSize:R.blockSize,formatter:A.format})},"encrypt"),decrypt:o(function(R,P,G,A){A=this.cfg.extend(A),P=this._parse(P,A.format);var I=R.createDecryptor(G,A).finalize(P.ciphertext);return I},"decrypt"),_parse:o(function(R,P){return typeof R=="string"?P.parse(R,this):R},"_parse")}),V=r.kdf={},W=V.OpenSSL={execute:o(function(R,P,G,A,I){if(A||(A=s.random(64/8)),I)var v=d.create({keySize:P+G,hasher:I}).compute(R,A);else var v=d.create({keySize:P+G}).compute(R,A);var N=s.create(v.words.slice(P),G*4);return v.sigBytes=P*4,E.create({key:v,iv:N,salt:A})},"execute")},Y=n.PasswordBasedCipher=z.extend({cfg:z.cfg.extend({kdf:W}),encrypt:o(function(R,P,G,A){A=this.cfg.extend(A);var I=A.kdf.execute(G,R.keySize,R.ivSize,A.salt,A.hasher);A.iv=I.iv;var v=z.encrypt.call(this,R,P,I.key,A);return v.mixIn(I),v},"encrypt"),decrypt:o(function(R,P,G,A){A=this.cfg.extend(A),P=this._parse(P,A.format);var I=A.kdf.execute(G,R.keySize,R.ivSize,P.salt,A.hasher);A.iv=I.iv;var v=z.decrypt.call(this,R,P,I.key,A);return v},"decrypt")})}()})});var gC=Q((yh,pC)=>{(function(e,t,r){typeof yh=="object"?pC.exports=yh=t($t(),vn()):typeof define=="function"&&define.amd?define(["./core","./cipher-core"],t):t(e.CryptoJS)})(yh,function(e){return e.mode.CFB=function(){var t=e.lib.BlockCipherMode.extend();t.Encryptor=t.extend({processBlock:o(function(n,i){var s=this._cipher,a=s.blockSize;r.call(this,n,i,a,s),this._prevBlock=n.slice(i,i+a)},"processBlock")}),t.Decryptor=t.extend({processBlock:o(function(n,i){var s=this._cipher,a=s.blockSize,l=n.slice(i,i+a);r.call(this,n,i,a,s),this._prevBlock=l},"processBlock")});function r(n,i,s,a){var l,c=this._iv;c?(l=c.slice(0),this._iv=void 0):l=this._prevBlock,a.encryptBlock(l,0);for(var f=0;f<s;f++)n[i+f]^=l[f]}return o(r,"generateKeystreamAndEncrypt"),t}(),e.mode.CFB})});var xC=Q((vh,hC)=>{(function(e,t,r){typeof vh=="object"?hC.exports=vh=t($t(),vn()):typeof define=="function"&&define.amd?define(["./core","./cipher-core"],t):t(e.CryptoJS)})(vh,function(e){return e.mode.CTR=function(){var t=e.lib.BlockCipherMode.extend(),r=t.Encryptor=t.extend({processBlock:o(function(n,i){var s=this._cipher,a=s.blockSize,l=this._iv,c=this._counter;l&&(c=this._counter=l.slice(0),this._iv=void 0);var f=c.slice(0);s.encryptBlock(f,0),c[a-1]=c[a-1]+1|0;for(var u=0;u<a;u++)n[i+u]^=f[u]},"processBlock")});return t.Decryptor=r,t}(),e.mode.CTR})});var _C=Q((Th,bC)=>{(function(e,t,r){typeof Th=="object"?bC.exports=Th=t($t(),vn()):typeof define=="function"&&define.amd?define(["./core","./cipher-core"],t):t(e.CryptoJS)})(Th,function(e){return e.mode.CTRGladman=function(){var t=e.lib.BlockCipherMode.extend();function r(s){if((s>>24&255)===255){var a=s>>16&255,l=s>>8&255,c=s&255;a===255?(a=0,l===255?(l=0,c===255?c=0:++c):++l):++a,s=0,s+=a<<16,s+=l<<8,s+=c}else s+=1<<24;return s}o(r,"incWord");function n(s){return(s[0]=r(s[0]))===0&&(s[1]=r(s[1])),s}o(n,"incCounter");var i=t.Encryptor=t.extend({processBlock:o(function(s,a){var l=this._cipher,c=l.blockSize,f=this._iv,u=this._counter;f&&(u=this._counter=f.slice(0),this._iv=void 0),n(u);var d=u.slice(0);l.encryptBlock(d,0);for(var p=0;p<c;p++)s[a+p]^=d[p]},"processBlock")});return t.Decryptor=i,t}(),e.mode.CTRGladman})});var vC=Q((Ih,yC)=>{(function(e,t,r){typeof Ih=="object"?yC.exports=Ih=t($t(),vn()):typeof define=="function"&&define.amd?define(["./core","./cipher-core"],t):t(e.CryptoJS)})(Ih,function(e){return e.mode.OFB=function(){var t=e.lib.BlockCipherMode.extend(),r=t.Encryptor=t.extend({processBlock:o(function(n,i){var s=this._cipher,a=s.blockSize,l=this._iv,c=this._keystream;l&&(c=this._keystream=l.slice(0),this._iv=void 0),s.encryptBlock(c,0);for(var f=0;f<a;f++)n[i+f]^=c[f]},"processBlock")});return t.Decryptor=r,t}(),e.mode.OFB})});var IC=Q((Eh,TC)=>{(function(e,t,r){typeof Eh=="object"?TC.exports=Eh=t($t(),vn()):typeof define=="function"&&define.amd?define(["./core","./cipher-core"],t):t(e.CryptoJS)})(Eh,function(e){return e.mode.ECB=function(){var t=e.lib.BlockCipherMode.extend();return t.Encryptor=t.extend({processBlock:o(function(r,n){this._cipher.encryptBlock(r,n)},"processBlock")}),t.Decryptor=t.extend({processBlock:o(function(r,n){this._cipher.decryptBlock(r,n)},"processBlock")}),t}(),e.mode.ECB})});var CC=Q((Ch,EC)=>{(function(e,t,r){typeof Ch=="object"?EC.exports=Ch=t($t(),vn()):typeof define=="function"&&define.amd?define(["./core","./cipher-core"],t):t(e.CryptoJS)})(Ch,function(e){return e.pad.AnsiX923={pad:o(function(t,r){var n=t.sigBytes,i=r*4,s=i-n%i,a=n+s-1;t.clamp(),t.words[a>>>2]|=s<<24-a%4*8,t.sigBytes+=s},"pad"),unpad:o(function(t){var r=t.words[t.sigBytes-1>>>2]&255;t.sigBytes-=r},"unpad")},e.pad.Ansix923})});var wC=Q((Sh,SC)=>{(function(e,t,r){typeof Sh=="object"?SC.exports=Sh=t($t(),vn()):typeof define=="function"&&define.amd?define(["./core","./cipher-core"],t):t(e.CryptoJS)})(Sh,function(e){return e.pad.Iso10126={pad:o(function(t,r){var n=r*4,i=n-t.sigBytes%n;t.concat(e.lib.WordArray.random(i-1)).concat(e.lib.WordArray.create([i<<24],1))},"pad"),unpad:o(function(t){var r=t.words[t.sigBytes-1>>>2]&255;t.sigBytes-=r},"unpad")},e.pad.Iso10126})});var DC=Q((wh,PC)=>{(function(e,t,r){typeof wh=="object"?PC.exports=wh=t($t(),vn()):typeof define=="function"&&define.amd?define(["./core","./cipher-core"],t):t(e.CryptoJS)})(wh,function(e){return e.pad.Iso97971={pad:o(function(t,r){t.concat(e.lib.WordArray.create([2147483648],1)),e.pad.ZeroPadding.pad(t,r)},"pad"),unpad:o(function(t){e.pad.ZeroPadding.unpad(t),t.sigBytes--},"unpad")},e.pad.Iso97971})});var NC=Q((Ph,RC)=>{(function(e,t,r){typeof Ph=="object"?RC.exports=Ph=t($t(),vn()):typeof define=="function"&&define.amd?define(["./core","./cipher-core"],t):t(e.CryptoJS)})(Ph,function(e){return e.pad.ZeroPadding={pad:o(function(t,r){var n=r*4;t.clamp(),t.sigBytes+=n-(t.sigBytes%n||n)},"pad"),unpad:o(function(t){for(var r=t.words,n=t.sigBytes-1,n=t.sigBytes-1;n>=0;n--)if(r[n>>>2]>>>24-n%4*8&255){t.sigBytes=n+1;break}},"unpad")},e.pad.ZeroPadding})});var kC=Q((Dh,AC)=>{(function(e,t,r){typeof Dh=="object"?AC.exports=Dh=t($t(),vn()):typeof define=="function"&&define.amd?define(["./core","./cipher-core"],t):t(e.CryptoJS)})(Dh,function(e){return e.pad.NoPadding={pad:o(function(){},"pad"),unpad:o(function(){},"unpad")},e.pad.NoPadding})});var LC=Q((Rh,OC)=>{(function(e,t,r){typeof Rh=="object"?OC.exports=Rh=t($t(),vn()):typeof define=="function"&&define.amd?define(["./core","./cipher-core"],t):t(e.CryptoJS)})(Rh,function(e){return function(t){var r=e,n=r.lib,i=n.CipherParams,s=r.enc,a=s.Hex,l=r.format,c=l.Hex={stringify:o(function(f){return f.ciphertext.toString(a)},"stringify"),parse:o(function(f){var u=a.parse(f);return i.create({ciphertext:u})},"parse")}}(),e.format.Hex})});var MC=Q((Nh,FC)=>{(function(e,t,r){typeof Nh=="object"?FC.exports=Nh=t($t(),Xa(),Ja(),K0(),vn()):typeof define=="function"&&define.amd?define(["./core","./enc-base64","./md5","./evpkdf","./cipher-core"],t):t(e.CryptoJS)})(Nh,function(e){return function(){var t=e,r=t.lib,n=r.BlockCipher,i=t.algo,s=[],a=[],l=[],c=[],f=[],u=[],d=[],p=[],m=[],g=[];(function(){for(var b=[],x=0;x<256;x++)x<128?b[x]=x<<1:b[x]=x<<1^283;for(var y=0,E=0,x=0;x<256;x++){var S=E^E<<1^E<<2^E<<3^E<<4;S=S>>>8^S&255^99,s[y]=S,a[S]=y;var w=b[y],z=b[w],V=b[z],W=b[S]*257^S*16843008;l[y]=W<<24|W>>>8,c[y]=W<<16|W>>>16,f[y]=W<<8|W>>>24,u[y]=W;var W=V*16843009^z*65537^w*257^y*16843008;d[S]=W<<24|W>>>8,p[S]=W<<16|W>>>16,m[S]=W<<8|W>>>24,g[S]=W,y?(y=w^b[b[b[V^w]]],E^=b[b[E]]):y=E=1}})();var h=[0,1,2,4,8,16,32,64,128,27,54],_=i.AES=n.extend({_doReset:o(function(){var b;if(!(this._nRounds&&this._keyPriorReset===this._key)){for(var x=this._keyPriorReset=this._key,y=x.words,E=x.sigBytes/4,S=this._nRounds=E+6,w=(S+1)*4,z=this._keySchedule=[],V=0;V<w;V++)V<E?z[V]=y[V]:(b=z[V-1],V%E?E>6&&V%E==4&&(b=s[b>>>24]<<24|s[b>>>16&255]<<16|s[b>>>8&255]<<8|s[b&255]):(b=b<<8|b>>>24,b=s[b>>>24]<<24|s[b>>>16&255]<<16|s[b>>>8&255]<<8|s[b&255],b^=h[V/E|0]<<24),z[V]=z[V-E]^b);for(var W=this._invKeySchedule=[],Y=0;Y<w;Y++){var V=w-Y;if(Y%4)var b=z[V];else var b=z[V-4];Y<4||V<=4?W[Y]=b:W[Y]=d[s[b>>>24]]^p[s[b>>>16&255]]^m[s[b>>>8&255]]^g[s[b&255]]}}},"_doReset"),encryptBlock:o(function(b,x){this._doCryptBlock(b,x,this._keySchedule,l,c,f,u,s)},"encryptBlock"),decryptBlock:o(function(b,x){var y=b[x+1];b[x+1]=b[x+3],b[x+3]=y,this._doCryptBlock(b,x,this._invKeySchedule,d,p,m,g,a);var y=b[x+1];b[x+1]=b[x+3],b[x+3]=y},"decryptBlock"),_doCryptBlock:o(function(b,x,y,E,S,w,z,V){for(var W=this._nRounds,Y=b[x]^y[0],R=b[x+1]^y[1],P=b[x+2]^y[2],G=b[x+3]^y[3],A=4,I=1;I<W;I++){var v=E[Y>>>24]^S[R>>>16&255]^w[P>>>8&255]^z[G&255]^y[A++],N=E[R>>>24]^S[P>>>16&255]^w[G>>>8&255]^z[Y&255]^y[A++],T=E[P>>>24]^S[G>>>16&255]^w[Y>>>8&255]^z[R&255]^y[A++],D=E[G>>>24]^S[Y>>>16&255]^w[R>>>8&255]^z[P&255]^y[A++];Y=v,R=N,P=T,G=D}var v=(V[Y>>>24]<<24|V[R>>>16&255]<<16|V[P>>>8&255]<<8|V[G&255])^y[A++],N=(V[R>>>24]<<24|V[P>>>16&255]<<16|V[G>>>8&255]<<8|V[Y&255])^y[A++],T=(V[P>>>24]<<24|V[G>>>16&255]<<16|V[Y>>>8&255]<<8|V[R&255])^y[A++],D=(V[G>>>24]<<24|V[Y>>>16&255]<<16|V[R>>>8&255]<<8|V[P&255])^y[A++];b[x]=v,b[x+1]=N,b[x+2]=T,b[x+3]=D},"_doCryptBlock"),keySize:256/32});t.AES=n._createHelper(_)}(),e.AES})});var BC=Q((Ah,UC)=>{(function(e,t,r){typeof Ah=="object"?UC.exports=Ah=t($t(),Xa(),Ja(),K0(),vn()):typeof define=="function"&&define.amd?define(["./core","./enc-base64","./md5","./evpkdf","./cipher-core"],t):t(e.CryptoJS)})(Ah,function(e){return function(){var t=e,r=t.lib,n=r.WordArray,i=r.BlockCipher,s=t.algo,a=[57,49,41,33,25,17,9,1,58,50,42,34,26,18,10,2,59,51,43,35,27,19,11,3,60,52,44,36,63,55,47,39,31,23,15,7,62,54,46,38,30,22,14,6,61,53,45,37,29,21,13,5,28,20,12,4],l=[14,17,11,24,1,5,3,28,15,6,21,10,23,19,12,4,26,8,16,7,27,20,13,2,41,52,31,37,47,55,30,40,51,45,33,48,44,49,39,56,34,53,46,42,50,36,29,32],c=[1,2,4,6,8,10,12,14,15,17,19,21,23,25,27,28],f=[{0:8421888,268435456:32768,536870912:8421378,805306368:2,1073741824:512,1342177280:8421890,1610612736:8389122,1879048192:8388608,2147483648:514,2415919104:8389120,2684354560:33280,2952790016:8421376,3221225472:32770,3489660928:8388610,3758096384:0,4026531840:33282,134217728:0,402653184:8421890,671088640:33282,939524096:32768,1207959552:8421888,1476395008:512,1744830464:8421378,2013265920:2,2281701376:8389120,2550136832:33280,2818572288:8421376,3087007744:8389122,3355443200:8388610,3623878656:32770,3892314112:514,4160749568:8388608,1:32768,268435457:2,536870913:8421888,805306369:8388608,1073741825:8421378,1342177281:33280,1610612737:512,1879048193:8389122,2147483649:8421890,2415919105:8421376,2684354561:8388610,2952790017:33282,3221225473:514,3489660929:8389120,3758096385:32770,4026531841:0,134217729:8421890,402653185:8421376,671088641:8388608,939524097:512,1207959553:32768,1476395009:8388610,1744830465:2,2013265921:33282,2281701377:32770,2550136833:8389122,2818572289:514,3087007745:8421888,3355443201:8389120,3623878657:0,3892314113:33280,4160749569:8421378},{0:1074282512,16777216:16384,33554432:524288,50331648:1074266128,67108864:1073741840,83886080:1074282496,100663296:1073758208,117440512:16,134217728:540672,150994944:1073758224,167772160:1073741824,184549376:540688,201326592:524304,218103808:0,234881024:16400,251658240:1074266112,8388608:1073758208,25165824:540688,41943040:16,58720256:1073758224,75497472:1074282512,92274688:1073741824,109051904:524288,125829120:1074266128,142606336:524304,159383552:0,176160768:16384,192937984:1074266112,209715200:1073741840,226492416:540672,243269632:1074282496,260046848:16400,268435456:0,285212672:1074266128,301989888:1073758224,318767104:1074282496,335544320:1074266112,352321536:16,369098752:540688,385875968:16384,402653184:16400,419430400:524288,436207616:524304,452984832:1073741840,469762048:540672,486539264:1073758208,503316480:1073741824,520093696:1074282512,276824064:540688,293601280:524288,310378496:1074266112,327155712:16384,343932928:1073758208,360710144:1074282512,377487360:16,394264576:1073741824,411041792:1074282496,427819008:1073741840,444596224:1073758224,461373440:524304,478150656:0,494927872:16400,511705088:1074266128,528482304:540672},{0:260,1048576:0,2097152:67109120,3145728:65796,4194304:65540,5242880:67108868,6291456:67174660,7340032:67174400,8388608:67108864,9437184:67174656,10485760:65792,11534336:67174404,12582912:67109124,13631488:65536,14680064:4,15728640:256,524288:67174656,1572864:67174404,2621440:0,3670016:67109120,4718592:67108868,5767168:65536,6815744:65540,7864320:260,8912896:4,9961472:256,11010048:67174400,12058624:65796,13107200:65792,14155776:67109124,15204352:67174660,16252928:67108864,16777216:67174656,17825792:65540,18874368:65536,19922944:67109120,20971520:256,22020096:67174660,23068672:67108868,24117248:0,25165824:67109124,26214400:67108864,27262976:4,28311552:65792,29360128:67174400,30408704:260,31457280:65796,32505856:67174404,17301504:67108864,18350080:260,19398656:67174656,20447232:0,21495808:65540,22544384:67109120,23592960:256,24641536:67174404,25690112:65536,26738688:67174660,27787264:65796,28835840:67108868,29884416:67109124,30932992:67174400,31981568:4,33030144:65792},{0:2151682048,65536:2147487808,131072:4198464,196608:2151677952,262144:0,327680:4198400,393216:2147483712,458752:4194368,524288:2147483648,589824:4194304,655360:64,720896:2147487744,786432:2151678016,851968:4160,917504:4096,983040:2151682112,32768:2147487808,98304:64,163840:2151678016,229376:2147487744,294912:4198400,360448:2151682112,425984:0,491520:2151677952,557056:4096,622592:2151682048,688128:4194304,753664:4160,819200:2147483648,884736:4194368,950272:4198464,1015808:2147483712,1048576:4194368,1114112:4198400,1179648:2147483712,1245184:0,1310720:4160,1376256:2151678016,1441792:2151682048,1507328:2147487808,1572864:2151682112,1638400:2147483648,1703936:2151677952,1769472:4198464,1835008:2147487744,1900544:4194304,1966080:64,2031616:4096,1081344:2151677952,1146880:2151682112,1212416:0,1277952:4198400,1343488:4194368,1409024:2147483648,1474560:2147487808,1540096:64,1605632:2147483712,1671168:4096,1736704:2147487744,1802240:2151678016,1867776:4160,1933312:2151682048,1998848:4194304,2064384:4198464},{0:128,4096:17039360,8192:262144,12288:536870912,16384:537133184,20480:16777344,24576:553648256,28672:262272,32768:16777216,36864:537133056,40960:536871040,45056:553910400,49152:553910272,53248:0,57344:17039488,61440:553648128,2048:17039488,6144:553648256,10240:128,14336:17039360,18432:262144,22528:537133184,26624:553910272,30720:536870912,34816:537133056,38912:0,43008:553910400,47104:16777344,51200:536871040,55296:553648128,59392:16777216,63488:262272,65536:262144,69632:128,73728:536870912,77824:553648256,81920:16777344,86016:553910272,90112:537133184,94208:16777216,98304:553910400,102400:553648128,106496:17039360,110592:537133056,114688:262272,118784:536871040,122880:0,126976:17039488,67584:553648256,71680:16777216,75776:17039360,79872:537133184,83968:536870912,88064:17039488,92160:128,96256:553910272,100352:262272,104448:553910400,108544:0,112640:553648128,116736:16777344,120832:262144,124928:537133056,129024:536871040},{0:268435464,256:8192,512:270532608,768:270540808,1024:268443648,1280:2097152,1536:2097160,1792:268435456,2048:0,2304:268443656,2560:2105344,2816:8,3072:270532616,3328:2105352,3584:8200,3840:270540800,128:270532608,384:270540808,640:8,896:2097152,1152:2105352,1408:268435464,1664:268443648,1920:8200,2176:2097160,2432:8192,2688:268443656,2944:270532616,3200:0,3456:270540800,3712:2105344,3968:268435456,4096:268443648,4352:270532616,4608:270540808,4864:8200,5120:2097152,5376:268435456,5632:268435464,5888:2105344,6144:2105352,6400:0,6656:8,6912:270532608,7168:8192,7424:268443656,7680:270540800,7936:2097160,4224:8,4480:2105344,4736:2097152,4992:268435464,5248:268443648,5504:8200,5760:270540808,6016:270532608,6272:270540800,6528:270532616,6784:8192,7040:2105352,7296:2097160,7552:0,7808:268435456,8064:268443656},{0:1048576,16:33555457,32:1024,48:1049601,64:34604033,80:0,96:1,112:34603009,128:33555456,144:1048577,160:33554433,176:34604032,192:34603008,208:1025,224:1049600,240:33554432,8:34603009,24:0,40:33555457,56:34604032,72:1048576,88:33554433,104:33554432,120:1025,136:1049601,152:33555456,168:34603008,184:1048577,200:1024,216:34604033,232:1,248:1049600,256:33554432,272:1048576,288:33555457,304:34603009,320:1048577,336:33555456,352:34604032,368:1049601,384:1025,400:34604033,416:1049600,432:1,448:0,464:34603008,480:33554433,496:1024,264:1049600,280:33555457,296:34603009,312:1,328:33554432,344:1048576,360:1025,376:34604032,392:33554433,408:34603008,424:0,440:34604033,456:1049601,472:1024,488:33555456,504:1048577},{0:134219808,1:131072,2:134217728,3:32,4:131104,5:134350880,6:134350848,7:2048,8:134348800,9:134219776,10:133120,11:134348832,12:2080,13:0,14:134217760,15:133152,2147483648:2048,2147483649:134350880,2147483650:134219808,2147483651:134217728,2147483652:134348800,2147483653:133120,2147483654:133152,2147483655:32,2147483656:134217760,2147483657:2080,2147483658:131104,2147483659:134350848,2147483660:0,2147483661:134348832,2147483662:134219776,2147483663:131072,16:133152,17:134350848,18:32,19:2048,20:134219776,21:134217760,22:134348832,23:131072,24:0,25:131104,26:134348800,27:134219808,28:134350880,29:133120,30:2080,31:134217728,2147483664:131072,2147483665:2048,2147483666:134348832,2147483667:133152,2147483668:32,2147483669:134348800,2147483670:134217728,2147483671:134219808,2147483672:134350880,2147483673:134217760,2147483674:134219776,2147483675:0,2147483676:133120,2147483677:2080,2147483678:131104,2147483679:134350848}],u=[4160749569,528482304,33030144,2064384,129024,8064,504,2147483679],d=s.DES=i.extend({_doReset:o(function(){for(var h=this._key,_=h.words,b=[],x=0;x<56;x++){var y=a[x]-1;b[x]=_[y>>>5]>>>31-y%32&1}for(var E=this._subKeys=[],S=0;S<16;S++){for(var w=E[S]=[],z=c[S],x=0;x<24;x++)w[x/6|0]|=b[(l[x]-1+z)%28]<<31-x%6,w[4+(x/6|0)]|=b[28+(l[x+24]-1+z)%28]<<31-x%6;w[0]=w[0]<<1|w[0]>>>31;for(var x=1;x<7;x++)w[x]=w[x]>>>(x-1)*4+3;w[7]=w[7]<<5|w[7]>>>27}for(var V=this._invSubKeys=[],x=0;x<16;x++)V[x]=E[15-x]},"_doReset"),encryptBlock:o(function(h,_){this._doCryptBlock(h,_,this._subKeys)},"encryptBlock"),decryptBlock:o(function(h,_){this._doCryptBlock(h,_,this._invSubKeys)},"decryptBlock"),_doCryptBlock:o(function(h,_,b){this._lBlock=h[_],this._rBlock=h[_+1],p.call(this,4,252645135),p.call(this,16,65535),m.call(this,2,858993459),m.call(this,8,16711935),p.call(this,1,1431655765);for(var x=0;x<16;x++){for(var y=b[x],E=this._lBlock,S=this._rBlock,w=0,z=0;z<8;z++)w|=f[z][((S^y[z])&u[z])>>>0];this._lBlock=S,this._rBlock=E^w}var V=this._lBlock;this._lBlock=this._rBlock,this._rBlock=V,p.call(this,1,1431655765),m.call(this,8,16711935),m.call(this,2,858993459),p.call(this,16,65535),p.call(this,4,252645135),h[_]=this._lBlock,h[_+1]=this._rBlock},"_doCryptBlock"),keySize:64/32,ivSize:64/32,blockSize:64/32});function p(h,_){var b=(this._lBlock>>>h^this._rBlock)&_;this._rBlock^=b,this._lBlock^=b<<h}o(p,"exchangeLR");function m(h,_){var b=(this._rBlock>>>h^this._lBlock)&_;this._lBlock^=b,this._rBlock^=b<<h}o(m,"exchangeRL"),t.DES=i._createHelper(d);var g=s.TripleDES=i.extend({_doReset:o(function(){var h=this._key,_=h.words;if(_.length!==2&&_.length!==4&&_.length<6)throw new Error("Invalid key length - 3DES requires the key length to be 64, 128, 192 or >192.");var b=_.slice(0,2),x=_.length<4?_.slice(0,2):_.slice(2,4),y=_.length<6?_.slice(0,2):_.slice(4,6);this._des1=d.createEncryptor(n.create(b)),this._des2=d.createEncryptor(n.create(x)),this._des3=d.createEncryptor(n.create(y))},"_doReset"),encryptBlock:o(function(h,_){this._des1.encryptBlock(h,_),this._des2.decryptBlock(h,_),this._des3.encryptBlock(h,_)},"encryptBlock"),decryptBlock:o(function(h,_){this._des3.decryptBlock(h,_),this._des2.encryptBlock(h,_),this._des1.decryptBlock(h,_)},"decryptBlock"),keySize:192/32,ivSize:64/32,blockSize:64/32});t.TripleDES=i._createHelper(g)}(),e.TripleDES})});var $C=Q((kh,jC)=>{(function(e,t,r){typeof kh=="object"?jC.exports=kh=t($t(),Xa(),Ja(),K0(),vn()):typeof define=="function"&&define.amd?define(["./core","./enc-base64","./md5","./evpkdf","./cipher-core"],t):t(e.CryptoJS)})(kh,function(e){return function(){var t=e,r=t.lib,n=r.StreamCipher,i=t.algo,s=i.RC4=n.extend({_doReset:o(function(){for(var c=this._key,f=c.words,u=c.sigBytes,d=this._S=[],p=0;p<256;p++)d[p]=p;for(var p=0,m=0;p<256;p++){var g=p%u,h=f[g>>>2]>>>24-g%4*8&255;m=(m+d[p]+h)%256;var _=d[p];d[p]=d[m],d[m]=_}this._i=this._j=0},"_doReset"),_doProcessBlock:o(function(c,f){c[f]^=a.call(this)},"_doProcessBlock"),keySize:256/32,ivSize:0});function a(){for(var c=this._S,f=this._i,u=this._j,d=0,p=0;p<4;p++){f=(f+1)%256,u=(u+c[f])%256;var m=c[f];c[f]=c[u],c[u]=m,d|=c[(c[f]+c[u])%256]<<24-p*8}return this._i=f,this._j=u,d}o(a,"generateKeystreamWord"),t.RC4=n._createHelper(s);var l=i.RC4Drop=s.extend({cfg:s.cfg.extend({drop:192}),_doReset:o(function(){s._doReset.call(this);for(var c=this.cfg.drop;c>0;c--)a.call(this)},"_doReset")});t.RC4Drop=n._createHelper(l)}(),e.RC4})});var WC=Q((Oh,qC)=>{(function(e,t,r){typeof Oh=="object"?qC.exports=Oh=t($t(),Xa(),Ja(),K0(),vn()):typeof define=="function"&&define.amd?define(["./core","./enc-base64","./md5","./evpkdf","./cipher-core"],t):t(e.CryptoJS)})(Oh,function(e){return function(){var t=e,r=t.lib,n=r.StreamCipher,i=t.algo,s=[],a=[],l=[],c=i.Rabbit=n.extend({_doReset:o(function(){for(var u=this._key.words,d=this.cfg.iv,p=0;p<4;p++)u[p]=(u[p]<<8|u[p]>>>24)&16711935|(u[p]<<24|u[p]>>>8)&4278255360;var m=this._X=[u[0],u[3]<<16|u[2]>>>16,u[1],u[0]<<16|u[3]>>>16,u[2],u[1]<<16|u[0]>>>16,u[3],u[2]<<16|u[1]>>>16],g=this._C=[u[2]<<16|u[2]>>>16,u[0]&4294901760|u[1]&65535,u[3]<<16|u[3]>>>16,u[1]&4294901760|u[2]&65535,u[0]<<16|u[0]>>>16,u[2]&4294901760|u[3]&65535,u[1]<<16|u[1]>>>16,u[3]&4294901760|u[0]&65535];this._b=0;for(var p=0;p<4;p++)f.call(this);for(var p=0;p<8;p++)g[p]^=m[p+4&7];if(d){var h=d.words,_=h[0],b=h[1],x=(_<<8|_>>>24)&16711935|(_<<24|_>>>8)&4278255360,y=(b<<8|b>>>24)&16711935|(b<<24|b>>>8)&4278255360,E=x>>>16|y&4294901760,S=y<<16|x&65535;g[0]^=x,g[1]^=E,g[2]^=y,g[3]^=S,g[4]^=x,g[5]^=E,g[6]^=y,g[7]^=S;for(var p=0;p<4;p++)f.call(this)}},"_doReset"),_doProcessBlock:o(function(u,d){var p=this._X;f.call(this),s[0]=p[0]^p[5]>>>16^p[3]<<16,s[1]=p[2]^p[7]>>>16^p[5]<<16,s[2]=p[4]^p[1]>>>16^p[7]<<16,s[3]=p[6]^p[3]>>>16^p[1]<<16;for(var m=0;m<4;m++)s[m]=(s[m]<<8|s[m]>>>24)&16711935|(s[m]<<24|s[m]>>>8)&4278255360,u[d+m]^=s[m]},"_doProcessBlock"),blockSize:128/32,ivSize:64/32});function f(){for(var u=this._X,d=this._C,p=0;p<8;p++)a[p]=d[p];d[0]=d[0]+1295307597+this._b|0,d[1]=d[1]+3545052371+(d[0]>>>0<a[0]>>>0?1:0)|0,d[2]=d[2]+886263092+(d[1]>>>0<a[1]>>>0?1:0)|0,d[3]=d[3]+1295307597+(d[2]>>>0<a[2]>>>0?1:0)|0,d[4]=d[4]+3545052371+(d[3]>>>0<a[3]>>>0?1:0)|0,d[5]=d[5]+886263092+(d[4]>>>0<a[4]>>>0?1:0)|0,d[6]=d[6]+1295307597+(d[5]>>>0<a[5]>>>0?1:0)|0,d[7]=d[7]+3545052371+(d[6]>>>0<a[6]>>>0?1:0)|0,this._b=d[7]>>>0<a[7]>>>0?1:0;for(var p=0;p<8;p++){var m=u[p]+d[p],g=m&65535,h=m>>>16,_=((g*g>>>17)+g*h>>>15)+h*h,b=((m&4294901760)*m|0)+((m&65535)*m|0);l[p]=_^b}u[0]=l[0]+(l[7]<<16|l[7]>>>16)+(l[6]<<16|l[6]>>>16)|0,u[1]=l[1]+(l[0]<<8|l[0]>>>24)+l[7]|0,u[2]=l[2]+(l[1]<<16|l[1]>>>16)+(l[0]<<16|l[0]>>>16)|0,u[3]=l[3]+(l[2]<<8|l[2]>>>24)+l[1]|0,u[4]=l[4]+(l[3]<<16|l[3]>>>16)+(l[2]<<16|l[2]>>>16)|0,u[5]=l[5]+(l[4]<<8|l[4]>>>24)+l[3]|0,u[6]=l[6]+(l[5]<<16|l[5]>>>16)+(l[4]<<16|l[4]>>>16)|0,u[7]=l[7]+(l[6]<<8|l[6]>>>24)+l[5]|0}o(f,"nextState"),t.Rabbit=n._createHelper(c)}(),e.Rabbit})});var zC=Q((Lh,GC)=>{(function(e,t,r){typeof Lh=="object"?GC.exports=Lh=t($t(),Xa(),Ja(),K0(),vn()):typeof define=="function"&&define.amd?define(["./core","./enc-base64","./md5","./evpkdf","./cipher-core"],t):t(e.CryptoJS)})(Lh,function(e){return function(){var t=e,r=t.lib,n=r.StreamCipher,i=t.algo,s=[],a=[],l=[],c=i.RabbitLegacy=n.extend({_doReset:o(function(){var u=this._key.words,d=this.cfg.iv,p=this._X=[u[0],u[3]<<16|u[2]>>>16,u[1],u[0]<<16|u[3]>>>16,u[2],u[1]<<16|u[0]>>>16,u[3],u[2]<<16|u[1]>>>16],m=this._C=[u[2]<<16|u[2]>>>16,u[0]&4294901760|u[1]&65535,u[3]<<16|u[3]>>>16,u[1]&4294901760|u[2]&65535,u[0]<<16|u[0]>>>16,u[2]&4294901760|u[3]&65535,u[1]<<16|u[1]>>>16,u[3]&4294901760|u[0]&65535];this._b=0;for(var g=0;g<4;g++)f.call(this);for(var g=0;g<8;g++)m[g]^=p[g+4&7];if(d){var h=d.words,_=h[0],b=h[1],x=(_<<8|_>>>24)&16711935|(_<<24|_>>>8)&4278255360,y=(b<<8|b>>>24)&16711935|(b<<24|b>>>8)&4278255360,E=x>>>16|y&4294901760,S=y<<16|x&65535;m[0]^=x,m[1]^=E,m[2]^=y,m[3]^=S,m[4]^=x,m[5]^=E,m[6]^=y,m[7]^=S;for(var g=0;g<4;g++)f.call(this)}},"_doReset"),_doProcessBlock:o(function(u,d){var p=this._X;f.call(this),s[0]=p[0]^p[5]>>>16^p[3]<<16,s[1]=p[2]^p[7]>>>16^p[5]<<16,s[2]=p[4]^p[1]>>>16^p[7]<<16,s[3]=p[6]^p[3]>>>16^p[1]<<16;for(var m=0;m<4;m++)s[m]=(s[m]<<8|s[m]>>>24)&16711935|(s[m]<<24|s[m]>>>8)&4278255360,u[d+m]^=s[m]},"_doProcessBlock"),blockSize:128/32,ivSize:64/32});function f(){for(var u=this._X,d=this._C,p=0;p<8;p++)a[p]=d[p];d[0]=d[0]+1295307597+this._b|0,d[1]=d[1]+3545052371+(d[0]>>>0<a[0]>>>0?1:0)|0,d[2]=d[2]+886263092+(d[1]>>>0<a[1]>>>0?1:0)|0,d[3]=d[3]+1295307597+(d[2]>>>0<a[2]>>>0?1:0)|0,d[4]=d[4]+3545052371+(d[3]>>>0<a[3]>>>0?1:0)|0,d[5]=d[5]+886263092+(d[4]>>>0<a[4]>>>0?1:0)|0,d[6]=d[6]+1295307597+(d[5]>>>0<a[5]>>>0?1:0)|0,d[7]=d[7]+3545052371+(d[6]>>>0<a[6]>>>0?1:0)|0,this._b=d[7]>>>0<a[7]>>>0?1:0;for(var p=0;p<8;p++){var m=u[p]+d[p],g=m&65535,h=m>>>16,_=((g*g>>>17)+g*h>>>15)+h*h,b=((m&4294901760)*m|0)+((m&65535)*m|0);l[p]=_^b}u[0]=l[0]+(l[7]<<16|l[7]>>>16)+(l[6]<<16|l[6]>>>16)|0,u[1]=l[1]+(l[0]<<8|l[0]>>>24)+l[7]|0,u[2]=l[2]+(l[1]<<16|l[1]>>>16)+(l[0]<<16|l[0]>>>16)|0,u[3]=l[3]+(l[2]<<8|l[2]>>>24)+l[1]|0,u[4]=l[4]+(l[3]<<16|l[3]>>>16)+(l[2]<<16|l[2]>>>16)|0,u[5]=l[5]+(l[4]<<8|l[4]>>>24)+l[3]|0,u[6]=l[6]+(l[5]<<16|l[5]>>>16)+(l[4]<<16|l[4]>>>16)|0,u[7]=l[7]+(l[6]<<8|l[6]>>>24)+l[5]|0}o(f,"nextState"),t.RabbitLegacy=n._createHelper(c)}(),e.RabbitLegacy})});var VC=Q((Fh,HC)=>{(function(e,t,r){typeof Fh=="object"?HC.exports=Fh=t($t(),Xa(),Ja(),K0(),vn()):typeof define=="function"&&define.amd?define(["./core","./enc-base64","./md5","./evpkdf","./cipher-core"],t):t(e.CryptoJS)})(Fh,function(e){return function(){var t=e,r=t.lib,n=r.BlockCipher,i=t.algo;let s=16,a=[608135816,2242054355,320440878,57701188,2752067618,698298832,137296536,3964562569,1160258022,953160567,3193202383,887688300,3232508343,3380367581,1065670069,3041331479,2450970073,2306472731],l=[[3509652390,2564797868,805139163,3491422135,3101798381,1780907670,3128725573,4046225305,614570311,3012652279,134345442,2240740374,1667834072,1901547113,2757295779,4103290238,227898511,1921955416,1904987480,2182433518,2069144605,3260701109,2620446009,720527379,3318853667,677414384,3393288472,3101374703,2390351024,1614419982,1822297739,2954791486,3608508353,3174124327,2024746970,1432378464,3864339955,2857741204,1464375394,1676153920,1439316330,715854006,3033291828,289532110,2706671279,2087905683,3018724369,1668267050,732546397,1947742710,3462151702,2609353502,2950085171,1814351708,2050118529,680887927,999245976,1800124847,3300911131,1713906067,1641548236,4213287313,1216130144,1575780402,4018429277,3917837745,3693486850,3949271944,596196993,3549867205,258830323,2213823033,772490370,2760122372,1774776394,2652871518,566650946,4142492826,1728879713,2882767088,1783734482,3629395816,2517608232,2874225571,1861159788,326777828,3124490320,2130389656,2716951837,967770486,1724537150,2185432712,2364442137,1164943284,2105845187,998989502,3765401048,2244026483,1075463327,1455516326,1322494562,910128902,469688178,1117454909,936433444,3490320968,3675253459,1240580251,122909385,2157517691,634681816,4142456567,3825094682,3061402683,2540495037,79693498,3249098678,1084186820,1583128258,426386531,1761308591,1047286709,322548459,995290223,1845252383,2603652396,3431023940,2942221577,3202600964,3727903485,1712269319,422464435,3234572375,1170764815,3523960633,3117677531,1434042557,442511882,3600875718,1076654713,1738483198,4213154764,2393238008,3677496056,1014306527,4251020053,793779912,2902807211,842905082,4246964064,1395751752,1040244610,2656851899,3396308128,445077038,3742853595,3577915638,679411651,2892444358,2354009459,1767581616,3150600392,3791627101,3102740896,284835224,4246832056,1258075500,768725851,2589189241,3069724005,3532540348,1274779536,3789419226,2764799539,1660621633,3471099624,4011903706,913787905,3497959166,737222580,2514213453,2928710040,3937242737,1804850592,3499020752,2949064160,2386320175,2390070455,2415321851,4061277028,2290661394,2416832540,1336762016,1754252060,3520065937,3014181293,791618072,3188594551,3933548030,2332172193,3852520463,3043980520,413987798,3465142937,3030929376,4245938359,2093235073,3534596313,375366246,2157278981,2479649556,555357303,3870105701,2008414854,3344188149,4221384143,3956125452,2067696032,3594591187,2921233993,2428461,544322398,577241275,1471733935,610547355,4027169054,1432588573,1507829418,2025931657,3646575487,545086370,48609733,2200306550,1653985193,298326376,1316178497,3007786442,2064951626,458293330,2589141269,3591329599,3164325604,727753846,2179363840,146436021,1461446943,4069977195,705550613,3059967265,3887724982,4281599278,3313849956,1404054877,2845806497,146425753,1854211946],[1266315497,3048417604,3681880366,3289982499,290971e4,1235738493,2632868024,2414719590,3970600049,1771706367,1449415276,3266420449,422970021,1963543593,2690192192,3826793022,1062508698,1531092325,1804592342,2583117782,2714934279,4024971509,1294809318,4028980673,1289560198,2221992742,1669523910,35572830,157838143,1052438473,1016535060,1802137761,1753167236,1386275462,3080475397,2857371447,1040679964,2145300060,2390574316,1461121720,2956646967,4031777805,4028374788,33600511,2920084762,1018524850,629373528,3691585981,3515945977,2091462646,2486323059,586499841,988145025,935516892,3367335476,2599673255,2839830854,265290510,3972581182,2759138881,3795373465,1005194799,847297441,406762289,1314163512,1332590856,1866599683,4127851711,750260880,613907577,1450815602,3165620655,3734664991,3650291728,3012275730,3704569646,1427272223,778793252,1343938022,2676280711,2052605720,1946737175,3164576444,3914038668,3967478842,3682934266,1661551462,3294938066,4011595847,840292616,3712170807,616741398,312560963,711312465,1351876610,322626781,1910503582,271666773,2175563734,1594956187,70604529,3617834859,1007753275,1495573769,4069517037,2549218298,2663038764,504708206,2263041392,3941167025,2249088522,1514023603,1998579484,1312622330,694541497,2582060303,2151582166,1382467621,776784248,2618340202,3323268794,2497899128,2784771155,503983604,4076293799,907881277,423175695,432175456,1378068232,4145222326,3954048622,3938656102,3820766613,2793130115,2977904593,26017576,3274890735,3194772133,1700274565,1756076034,4006520079,3677328699,720338349,1533947780,354530856,688349552,3973924725,1637815568,332179504,3949051286,53804574,2852348879,3044236432,1282449977,3583942155,3416972820,4006381244,1617046695,2628476075,3002303598,1686838959,431878346,2686675385,1700445008,1080580658,1009431731,832498133,3223435511,2605976345,2271191193,2516031870,1648197032,4164389018,2548247927,300782431,375919233,238389289,3353747414,2531188641,2019080857,1475708069,455242339,2609103871,448939670,3451063019,1395535956,2413381860,1841049896,1491858159,885456874,4264095073,4001119347,1565136089,3898914787,1108368660,540939232,1173283510,2745871338,3681308437,4207628240,3343053890,4016749493,1699691293,1103962373,3625875870,2256883143,3830138730,1031889488,3479347698,1535977030,4236805024,3251091107,2132092099,1774941330,1199868427,1452454533,157007616,2904115357,342012276,595725824,1480756522,206960106,497939518,591360097,863170706,2375253569,3596610801,1814182875,2094937945,3421402208,1082520231,3463918190,2785509508,435703966,3908032597,1641649973,2842273706,3305899714,1510255612,2148256476,2655287854,3276092548,4258621189,236887753,3681803219,274041037,1734335097,3815195456,3317970021,1899903192,1026095262,4050517792,356393447,2410691914,3873677099,3682840055],[3913112168,2491498743,4132185628,2489919796,1091903735,1979897079,3170134830,3567386728,3557303409,857797738,1136121015,1342202287,507115054,2535736646,337727348,3213592640,1301675037,2528481711,1895095763,1721773893,3216771564,62756741,2142006736,835421444,2531993523,1442658625,3659876326,2882144922,676362277,1392781812,170690266,3921047035,1759253602,3611846912,1745797284,664899054,1329594018,3901205900,3045908486,2062866102,2865634940,3543621612,3464012697,1080764994,553557557,3656615353,3996768171,991055499,499776247,1265440854,648242737,3940784050,980351604,3713745714,1749149687,3396870395,4211799374,3640570775,1161844396,3125318951,1431517754,545492359,4268468663,3499529547,1437099964,2702547544,3433638243,2581715763,2787789398,1060185593,1593081372,2418618748,4260947970,69676912,2159744348,86519011,2512459080,3838209314,1220612927,3339683548,133810670,1090789135,1078426020,1569222167,845107691,3583754449,4072456591,1091646820,628848692,1613405280,3757631651,526609435,236106946,48312990,2942717905,3402727701,1797494240,859738849,992217954,4005476642,2243076622,3870952857,3732016268,765654824,3490871365,2511836413,1685915746,3888969200,1414112111,2273134842,3281911079,4080962846,172450625,2569994100,980381355,4109958455,2819808352,2716589560,2568741196,3681446669,3329971472,1835478071,660984891,3704678404,4045999559,3422617507,3040415634,1762651403,1719377915,3470491036,2693910283,3642056355,3138596744,1364962596,2073328063,1983633131,926494387,3423689081,2150032023,4096667949,1749200295,3328846651,309677260,2016342300,1779581495,3079819751,111262694,1274766160,443224088,298511866,1025883608,3806446537,1145181785,168956806,3641502830,3584813610,1689216846,3666258015,3200248200,1692713982,2646376535,4042768518,1618508792,1610833997,3523052358,4130873264,2001055236,3610705100,2202168115,4028541809,2961195399,1006657119,2006996926,3186142756,1430667929,3210227297,1314452623,4074634658,4101304120,2273951170,1399257539,3367210612,3027628629,1190975929,2062231137,2333990788,2221543033,2438960610,1181637006,548689776,2362791313,3372408396,3104550113,3145860560,296247880,1970579870,3078560182,3769228297,1714227617,3291629107,3898220290,166772364,1251581989,493813264,448347421,195405023,2709975567,677966185,3703036547,1463355134,2715995803,1338867538,1343315457,2802222074,2684532164,233230375,2599980071,2000651841,3277868038,1638401717,4028070440,3237316320,6314154,819756386,300326615,590932579,1405279636,3267499572,3150704214,2428286686,3959192993,3461946742,1862657033,1266418056,963775037,2089974820,2263052895,1917689273,448879540,3550394620,3981727096,150775221,3627908307,1303187396,508620638,2975983352,2726630617,1817252668,1876281319,1457606340,908771278,3720792119,3617206836,2455994898,1729034894,1080033504],[976866871,3556439503,2881648439,1522871579,1555064734,1336096578,3548522304,2579274686,3574697629,3205460757,3593280638,3338716283,3079412587,564236357,2993598910,1781952180,1464380207,3163844217,3332601554,1699332808,1393555694,1183702653,3581086237,1288719814,691649499,2847557200,2895455976,3193889540,2717570544,1781354906,1676643554,2592534050,3230253752,1126444790,2770207658,2633158820,2210423226,2615765581,2414155088,3127139286,673620729,2805611233,1269405062,4015350505,3341807571,4149409754,1057255273,2012875353,2162469141,2276492801,2601117357,993977747,3918593370,2654263191,753973209,36408145,2530585658,25011837,3520020182,2088578344,530523599,2918365339,1524020338,1518925132,3760827505,3759777254,1202760957,3985898139,3906192525,674977740,4174734889,2031300136,2019492241,3983892565,4153806404,3822280332,352677332,2297720250,60907813,90501309,3286998549,1016092578,2535922412,2839152426,457141659,509813237,4120667899,652014361,1966332200,2975202805,55981186,2327461051,676427537,3255491064,2882294119,3433927263,1307055953,942726286,933058658,2468411793,3933900994,4215176142,1361170020,2001714738,2830558078,3274259782,1222529897,1679025792,2729314320,3714953764,1770335741,151462246,3013232138,1682292957,1483529935,471910574,1539241949,458788160,3436315007,1807016891,3718408830,978976581,1043663428,3165965781,1927990952,4200891579,2372276910,3208408903,3533431907,1412390302,2931980059,4132332400,1947078029,3881505623,4168226417,2941484381,1077988104,1320477388,886195818,18198404,3786409e3,2509781533,112762804,3463356488,1866414978,891333506,18488651,661792760,1628790961,3885187036,3141171499,876946877,2693282273,1372485963,791857591,2686433993,3759982718,3167212022,3472953795,2716379847,445679433,3561995674,3504004811,3574258232,54117162,3331405415,2381918588,3769707343,4154350007,1140177722,4074052095,668550556,3214352940,367459370,261225585,2610173221,4209349473,3468074219,3265815641,314222801,3066103646,3808782860,282218597,3406013506,3773591054,379116347,1285071038,846784868,2669647154,3771962079,3550491691,2305946142,453669953,1268987020,3317592352,3279303384,3744833421,2610507566,3859509063,266596637,3847019092,517658769,3462560207,3443424879,370717030,4247526661,2224018117,4143653529,4112773975,2788324899,2477274417,1456262402,2901442914,1517677493,1846949527,2295493580,3734397586,2176403920,1280348187,1908823572,3871786941,846861322,1172426758,3287448474,3383383037,1655181056,3139813346,901632758,1897031941,2986607138,3066810236,3447102507,1393639104,373351379,950779232,625454576,3124240540,4148612726,2007998917,544563296,2244738638,2330496472,2058025392,1291430526,424198748,50039436,29584100,3605783033,2429876329,2791104160,1057563949,3255363231,3075367218,3463963227,1469046755,985887462]];var c={pbox:[],sbox:[]};function f(g,h){let _=h>>24&255,b=h>>16&255,x=h>>8&255,y=h&255,E=g.sbox[0][_]+g.sbox[1][b];return E=E^g.sbox[2][x],E=E+g.sbox[3][y],E}o(f,"F");function u(g,h,_){let b=h,x=_,y;for(let E=0;E<s;++E)b=b^g.pbox[E],x=f(g,b)^x,y=b,b=x,x=y;return y=b,b=x,x=y,x=x^g.pbox[s],b=b^g.pbox[s+1],{left:b,right:x}}o(u,"BlowFish_Encrypt");function d(g,h,_){let b=h,x=_,y;for(let E=s+1;E>1;--E)b=b^g.pbox[E],x=f(g,b)^x,y=b,b=x,x=y;return y=b,b=x,x=y,x=x^g.pbox[1],b=b^g.pbox[0],{left:b,right:x}}o(d,"BlowFish_Decrypt");function p(g,h,_){for(let S=0;S<4;S++){g.sbox[S]=[];for(let w=0;w<256;w++)g.sbox[S][w]=l[S][w]}let b=0;for(let S=0;S<s+2;S++)g.pbox[S]=a[S]^h[b],b++,b>=_&&(b=0);let x=0,y=0,E=0;for(let S=0;S<s+2;S+=2)E=u(g,x,y),x=E.left,y=E.right,g.pbox[S]=x,g.pbox[S+1]=y;for(let S=0;S<4;S++)for(let w=0;w<256;w+=2)E=u(g,x,y),x=E.left,y=E.right,g.sbox[S][w]=x,g.sbox[S][w+1]=y;return!0}o(p,"BlowFishInit");var m=i.Blowfish=n.extend({_doReset:o(function(){if(this._keyPriorReset!==this._key){var g=this._keyPriorReset=this._key,h=g.words,_=g.sigBytes/4;p(c,h,_)}},"_doReset"),encryptBlock:o(function(g,h){var _=u(c,g[h],g[h+1]);g[h]=_.left,g[h+1]=_.right},"encryptBlock"),decryptBlock:o(function(g,h){var _=d(c,g[h],g[h+1]);g[h]=_.left,g[h+1]=_.right},"decryptBlock"),blockSize:64/32,keySize:128/32,ivSize:64/32});t.Blowfish=n._createHelper(m)}(),e.Blowfish})});var zm=Q((Mh,KC)=>{(function(e,t,r){typeof Mh=="object"?KC.exports=Mh=t($t(),Gm(),zE(),VE(),Xa(),XE(),Ja(),pb(),ch(),tC(),gb(),iC(),sC(),lC(),hh(),fC(),K0(),vn(),gC(),xC(),_C(),vC(),IC(),CC(),wC(),DC(),NC(),kC(),LC(),MC(),BC(),$C(),WC(),zC(),VC()):typeof define=="function"&&define.amd?define(["./core","./x64-core","./lib-typedarrays","./enc-utf16","./enc-base64","./enc-base64url","./md5","./sha1","./sha256","./sha224","./sha512","./sha384","./sha3","./ripemd160","./hmac","./pbkdf2","./evpkdf","./cipher-core","./mode-cfb","./mode-ctr","./mode-ctr-gladman","./mode-ofb","./mode-ecb","./pad-ansix923","./pad-iso10126","./pad-iso97971","./pad-zeropadding","./pad-nopadding","./format-hex","./aes","./tripledes","./rc4","./rabbit","./rabbit-legacy","./blowfish"],t):e.CryptoJS=t(e.CryptoJS)})(Mh,function(e){return e})});var Pc=Q(Pn=>{Pn.endianness=function(){return"LE"};Pn.hostname=function(){return typeof location<"u"?location.hostname:""};Pn.loadavg=function(){return[]};Pn.uptime=function(){return 0};Pn.freemem=function(){return Number.MAX_VALUE};Pn.totalmem=function(){return Number.MAX_VALUE};Pn.cpus=function(){return[]};Pn.type=function(){return"Browser"};Pn.release=function(){return typeof navigator<"u"?navigator.appVersion:""};Pn.networkInterfaces=Pn.getNetworkInterfaces=function(){return{}};Pn.arch=function(){return"javascript"};Pn.platform=function(){return"browser"};Pn.tmpdir=Pn.tmpDir=function(){return"/tmp"};Pn.EOL=`
`;Pn.homedir=function(){return"/"}});var ff=Q((ope,rS)=>{"use strict";function Xs(e){if(typeof e!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(e))}o(Xs,"assertPath");function tS(e,t){for(var r="",n=0,i=-1,s=0,a,l=0;l<=e.length;++l){if(l<e.length)a=e.charCodeAt(l);else{if(a===47)break;a=47}if(a===47){if(!(i===l-1||s===1))if(i!==l-1&&s===2){if(r.length<2||n!==2||r.charCodeAt(r.length-1)!==46||r.charCodeAt(r.length-2)!==46){if(r.length>2){var c=r.lastIndexOf("/");if(c!==r.length-1){c===-1?(r="",n=0):(r=r.slice(0,c),n=r.length-1-r.lastIndexOf("/")),i=l,s=0;continue}}else if(r.length===2||r.length===1){r="",n=0,i=l,s=0;continue}}t&&(r.length>0?r+="/..":r="..",n=2)}else r.length>0?r+="/"+e.slice(i+1,l):r=e.slice(i+1,l),n=l-i-1;i=l,s=0}else a===46&&s!==-1?++s:s=-1}return r}o(tS,"normalizeStringPosix");function iG(e,t){var r=t.dir||t.root,n=t.base||(t.name||"")+(t.ext||"");return r?r===t.root?r+n:r+e+n:n}o(iG,"_format");var uf={resolve:o(function(){for(var t="",r=!1,n,i=arguments.length-1;i>=-1&&!r;i--){var s;i>=0?s=arguments[i]:(n===void 0&&(n=process.cwd()),s=n),Xs(s),s.length!==0&&(t=s+"/"+t,r=s.charCodeAt(0)===47)}return t=tS(t,!r),r?t.length>0?"/"+t:"/":t.length>0?t:"."},"resolve"),normalize:o(function(t){if(Xs(t),t.length===0)return".";var r=t.charCodeAt(0)===47,n=t.charCodeAt(t.length-1)===47;return t=tS(t,!r),t.length===0&&!r&&(t="."),t.length>0&&n&&(t+="/"),r?"/"+t:t},"normalize"),isAbsolute:o(function(t){return Xs(t),t.length>0&&t.charCodeAt(0)===47},"isAbsolute"),join:o(function(){if(arguments.length===0)return".";for(var t,r=0;r<arguments.length;++r){var n=arguments[r];Xs(n),n.length>0&&(t===void 0?t=n:t+="/"+n)}return t===void 0?".":uf.normalize(t)},"join"),relative:o(function(t,r){if(Xs(t),Xs(r),t===r||(t=uf.resolve(t),r=uf.resolve(r),t===r))return"";for(var n=1;n<t.length&&t.charCodeAt(n)===47;++n);for(var i=t.length,s=i-n,a=1;a<r.length&&r.charCodeAt(a)===47;++a);for(var l=r.length,c=l-a,f=s<c?s:c,u=-1,d=0;d<=f;++d){if(d===f){if(c>f){if(r.charCodeAt(a+d)===47)return r.slice(a+d+1);if(d===0)return r.slice(a+d)}else s>f&&(t.charCodeAt(n+d)===47?u=d:d===0&&(u=0));break}var p=t.charCodeAt(n+d),m=r.charCodeAt(a+d);if(p!==m)break;p===47&&(u=d)}var g="";for(d=n+u+1;d<=i;++d)(d===i||t.charCodeAt(d)===47)&&(g.length===0?g+="..":g+="/..");return g.length>0?g+r.slice(a+u):(a+=u,r.charCodeAt(a)===47&&++a,r.slice(a))},"relative"),_makeLong:o(function(t){return t},"_makeLong"),dirname:o(function(t){if(Xs(t),t.length===0)return".";for(var r=t.charCodeAt(0),n=r===47,i=-1,s=!0,a=t.length-1;a>=1;--a)if(r=t.charCodeAt(a),r===47){if(!s){i=a;break}}else s=!1;return i===-1?n?"/":".":n&&i===1?"//":t.slice(0,i)},"dirname"),basename:o(function(t,r){if(r!==void 0&&typeof r!="string")throw new TypeError('"ext" argument must be a string');Xs(t);var n=0,i=-1,s=!0,a;if(r!==void 0&&r.length>0&&r.length<=t.length){if(r.length===t.length&&r===t)return"";var l=r.length-1,c=-1;for(a=t.length-1;a>=0;--a){var f=t.charCodeAt(a);if(f===47){if(!s){n=a+1;break}}else c===-1&&(s=!1,c=a+1),l>=0&&(f===r.charCodeAt(l)?--l===-1&&(i=a):(l=-1,i=c))}return n===i?i=c:i===-1&&(i=t.length),t.slice(n,i)}else{for(a=t.length-1;a>=0;--a)if(t.charCodeAt(a)===47){if(!s){n=a+1;break}}else i===-1&&(s=!1,i=a+1);return i===-1?"":t.slice(n,i)}},"basename"),extname:o(function(t){Xs(t);for(var r=-1,n=0,i=-1,s=!0,a=0,l=t.length-1;l>=0;--l){var c=t.charCodeAt(l);if(c===47){if(!s){n=l+1;break}continue}i===-1&&(s=!1,i=l+1),c===46?r===-1?r=l:a!==1&&(a=1):r!==-1&&(a=-1)}return r===-1||i===-1||a===0||a===1&&r===i-1&&r===n+1?"":t.slice(r,i)},"extname"),format:o(function(t){if(t===null||typeof t!="object")throw new TypeError('The "pathObject" argument must be of type Object. Received type '+typeof t);return iG("/",t)},"format"),parse:o(function(t){Xs(t);var r={root:"",dir:"",base:"",ext:"",name:""};if(t.length===0)return r;var n=t.charCodeAt(0),i=n===47,s;i?(r.root="/",s=1):s=0;for(var a=-1,l=0,c=-1,f=!0,u=t.length-1,d=0;u>=s;--u){if(n=t.charCodeAt(u),n===47){if(!f){l=u+1;break}continue}c===-1&&(f=!1,c=u+1),n===46?a===-1?a=u:d!==1&&(d=1):a!==-1&&(d=-1)}return a===-1||c===-1||d===0||d===1&&a===c-1&&a===l+1?c!==-1&&(l===0&&i?r.base=r.name=t.slice(1,c):r.base=r.name=t.slice(l,c)):(l===0&&i?(r.name=t.slice(1,a),r.base=t.slice(1,c)):(r.name=t.slice(l,a),r.base=t.slice(l,c)),r.ext=t.slice(a,c)),l>0?r.dir=t.slice(0,l-1):i&&(r.dir="/"),r},"parse"),sep:"/",delimiter:":",win32:null,posix:null};uf.posix=uf;rS.exports=uf});var NP=Q(n0=>{"use strict";Object.defineProperty(n0,"__esModule",{value:!0});n0.bytePairEncode=n0.BinaryMap=n0.binaryMapKey=void 0;var tY=o((e,t,r)=>{let n=r-t,i=16777215>>>Math.max(0,(3-n)*8),s=(e[t+0]|e[t+1]<<8|e[t+2]<<16)&i,a=16777215>>>Math.min(31,Math.max(0,(6-n)*8)),l=(e[t+3]|e[t+4]<<8|e[t+5]<<16)&a;return s+16777216*l},"binaryMapKey");n0.binaryMapKey=tY;var u6=class e{static{o(this,"BinaryMap")}constructor(){this.nested=new Map,this.final=new Map}get(t,r=0,n=t.length){let i=n<6+r,s=(0,n0.binaryMapKey)(t,r,n);return i?this.final.get(s):this.nested.get(s)?.get(t,6+r,n)}set(t,r){let n=(0,n0.binaryMapKey)(t,0,t.length);if(t.length<6){this.final.set(n,r);return}let s=this.nested.get(n);if(s instanceof e)s.set(t.subarray(6),r);else{let a=new e;a.set(t.subarray(6),r),this.nested.set(n,a)}}};n0.BinaryMap=u6;var r0=new Int32Array(128),bi=new Int32Array(128);function rY(e,t,r){if(r===1)return[t.get(e)];let n=2147483647,i=-1;for(;r0.length<r*2;)bi=new Int32Array(bi.length*2),r0=new Int32Array(r0.length*2);for(let c=0;c<r-1;c++){let f=t.get(e,c,c+2)??2147483647;f<n&&(n=f,i=c),bi[c]=c,r0[c]=f}bi[r-1]=r-1,r0[r-1]=2147483647,bi[r]=r,r0[r]=2147483647;let s=r+1;function a(c,f=0){if(c+f+2<s){let u=t.get(e,bi[c],bi[c+f+2]);if(u!==void 0)return u}return 2147483647}for(o(a,"getRank");n!==2147483647;){r0[bi[i]]=a(i,1),i>0&&(r0[bi[i-1]]=a(i-1,1));for(let c=i+1;c<s-1;c++)bi[c]=bi[c+1];s--,i=-1,n=2147483647;for(let c=0;c<s-1;c++){let f=r0[bi[c]];r0[bi[c]]<n&&(n=f,i=c)}}let l=[];for(let c=0;c<s-1;c++)l.push(t.get(e,bi[c],bi[c+1]));return l}o(rY,"bytePairEncode");n0.bytePairEncode=rY});var AP=Q(S5=>{"use strict";Object.defineProperty(S5,"__esModule",{value:!0});S5.makeTextEncoder=void 0;var f6=class{static{o(this,"UniversalTextEncoder")}constructor(){this.length=0,this.encoder=new TextEncoder}encode(t){let r=this.encoder.encode(t);return this.length=r.length,r}},d6=class{static{o(this,"NodeTextEncoder")}constructor(){this.buffer=Buffer.alloc(256),this.length=0}encode(t){for(;;){if(this.length=this.buffer.write(t,"utf8"),this.length<this.buffer.length-4)return this.buffer;this.buffer=Buffer.alloc(this.length*2),this.length=this.buffer.write(t)}}},nY=o(()=>typeof Buffer<"u"?new d6:new f6,"makeTextEncoder");S5.makeTextEncoder=nY});var kP=Q(w5=>{"use strict";Object.defineProperty(w5,"__esModule",{value:!0});w5.LRUCache=void 0;var m6=class{static{o(this,"LRUCache")}constructor(t){this.size=t,this.nodes=new Map}get(t){let r=this.nodes.get(t);if(r)return this.moveToHead(r),r.value}set(t,r){let n=this.nodes.get(t);if(n)n.value=r,this.moveToHead(n);else{let i=new p6(t,r);this.nodes.set(t,i),this.addNode(i),this.nodes.size>this.size&&(this.nodes.delete(this.tail.key),this.removeNode(this.tail))}}moveToHead(t){this.removeNode(t),t.next=void 0,t.prev=void 0,this.addNode(t)}addNode(t){this.head&&(this.head.prev=t,t.next=this.head),this.tail||(this.tail=t),this.head=t}removeNode(t){t.prev?t.prev.next=t.next:this.head=t.next,t.next?t.next.prev=t.prev:this.tail=t.prev}};w5.LRUCache=m6;var p6=class{static{o(this,"Node")}constructor(t,r){this.key=t,this.value=r}}});var h6=Q(D5=>{"use strict";Object.defineProperty(D5,"__esModule",{value:!0});D5.TikTokenizer=void 0;var P5=NP(),iY=AP(),oY=kP();function sY(e){let t=new Map;try{let i=require("fs").readFileSync(e,"utf-8");return r(i),t}catch(n){throw new Error(`Failed to load from BPE encoder file stream: ${n}`)}function r(n){for(let i of n.split(/[\r\n]+/)){if(i.trim()==="")continue;let s=i.split(" ");if(s.length!==2)throw new Error("Invalid format in the BPE encoder file stream");let a=new Uint8Array(Buffer.from(s[0],"base64")),l=parseInt(s[1]);if(!isNaN(l))t.set(a,l);else throw new Error(`Can't parse ${s[1]} to integer`)}}o(r,"processBpeRanks")}o(sY,"loadTikTokenBpe");function aY(e){return e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}o(aY,"escapeRegExp");var g6=class{static{o(this,"TikTokenizer")}constructor(t,r,n,i=8192){this.textEncoder=(0,iY.makeTextEncoder)(),this.textDecoder=new TextDecoder("utf-8"),this.cache=new oY.LRUCache(i);let s=typeof t=="string"?sY(t):t;this.init(s,r,n)}init(t,r,n){this.encoder=new P5.BinaryMap;for(let[i,s]of t)this.encoder.set(i,s);this.regex=new RegExp(n,"gu"),this.specialTokensRegex=new RegExp(Array.from(r.keys()).map(i=>aY(i)).join("|")),this.specialTokensEncoder=r,this.decoder=new Map;for(let[i,s]of t)this.decoder.set(s,i);if(t.size!==this.decoder.size)throw new Error("Encoder and decoder sizes do not match");this.specialTokensDecoder=new Map;for(let[i,s]of r)this.specialTokensDecoder.set(s,i)}findNextSpecialToken(t,r,n){let i=r,s=null;if(n&&this.specialTokensRegex)for(;s=t.slice(i).match(this.specialTokensRegex),!(!s||n&&n.includes(s[0]));)i+=s.index+1;let a=s?i+s.index:t.length;return[s,a]}encode(t,r){let n=[],i=0;for(;;){let s,a;if([s,a]=this.findNextSpecialToken(t,i,r),a>i&&this.encodeByIndex(t,n,i,a),s){if(i=i+this.encodeSpecialToken(n,s),i>=t.length)break}else break}return n}encodeSpecialToken(t,r){let n=this.specialTokensEncoder?.get(r[0]);return t.push(n),r.index+r[0].length}encodeByIndex(t,r,n,i){let s,a=t.substring(n,i);for(this.regex.lastIndex=0;s=this.regex.exec(a);){let l=this.cache.get(s[0]);if(l)for(let c of l)r.push(c);else{let c=this.textEncoder.encode(s[0]),f=this.encoder.get(c,0,this.textEncoder.length);if(f!==void 0)r.push(f),this.cache.set(s[0],[f]);else{let u=(0,P5.bytePairEncode)(c,this.encoder,this.textEncoder.length);for(let d of u)r.push(d);this.cache.set(s[0],u)}}}}encodeTrimSuffixByIndex(t,r,n,i,s,a,l){let c,f=t.substring(n,i);for(this.regex.lastIndex=0;c=this.regex.exec(f);){let u=c[0],d=this.cache.get(u);if(d)if(a+d.length<=s)a+=d.length,l+=u.length,r.push(...d);else{let p=s-a;a+=p,l+=u.length,r.push(...d.slice(0,p));break}else{let p=this.textEncoder.encode(u),m=this.encoder.get(p,0,p.length);if(m!==void 0)if(this.cache.set(u,[m]),a+1<=s)a++,l+=u.length,r.push(m);else break;else{let g=(0,P5.bytePairEncode)(p,this.encoder,this.textEncoder.length);if(this.cache.set(u,g),a+g.length<=s){a+=g.length,l+=u.length;for(let h of g)r.push(h)}else{let h=s-a;a+=h,l+=u.length;for(let _=0;_<h;_++)r.push(g[_]);break}}}if(a>=s)break}return{tokenCount:a,encodeLength:l}}encodeTrimSuffix(t,r,n){let i=[],s=0,a=0,l=0;for(;;){let f,u;if([f,u]=this.findNextSpecialToken(t,s,n),u>s){let{tokenCount:d,encodeLength:p}=this.encodeTrimSuffixByIndex(t,i,s,u,r,a,l);if(a=d,l=p,a>=r)break}if(f!==null){if(a++,a<=r&&(s=s+this.encodeSpecialToken(i,f),l+=f[0].length,s>=t.length)||a>=r)break}else break}let c=l===t.length?t:t.slice(0,l);return{tokenIds:i,text:c}}encodeTrimPrefix(t,r,n){let i=[],s=0,a=0,l=0,c=new Map;for(c.set(a,l);;){let p,m;if([p,m]=this.findNextSpecialToken(t,s,n),m>s){let g,h=t.substring(s,m);for(this.regex.lastIndex=0;g=this.regex.exec(h);){let _=g[0],b=this.cache.get(_);if(b)a+=b.length,l+=_.length,i.push(...b),c.set(a,l);else{let x=this.textEncoder.encode(_),y=this.encoder.get(x);if(y!==void 0)this.cache.set(_,[y]),a++,l+=_.length,i.push(y),c.set(a,l);else{let E=(0,P5.bytePairEncode)(x,this.encoder,this.textEncoder.length);this.cache.set(_,E),a+=E.length,l+=_.length;for(let S of E)i.push(S);c.set(a,l)}}}}if(p!==null){if(s=s+this.encodeSpecialToken(i,p),a++,l+=p[0].length,c.set(a,l),s>=t.length)break}else break}if(a<=r)return{tokenIds:i,text:t};let f=a-r,u=0,d=0;for(let[p,m]of c)if(p>=f){u=p,d=m;break}if(u>r){let p=this.encode(t,n),m=p.slice(p.length-r);return{tokenIds:m,text:this.decode(m)}}return{tokenIds:i.slice(u),text:t.slice(d)}}decode(t){let r=[];for(let n of t){let i=[],s=this.decoder?.get(n);if(s!==void 0)i=Array.from(s);else{let a=this.specialTokensDecoder?.get(n);if(a!==void 0){let l=this.textEncoder.encode(a);i=Array.from(l.subarray(0,this.textEncoder.length))}}r.push(...i)}return this.textDecoder.decode(new Uint8Array(r))}};D5.TikTokenizer=g6});var WP=Q(dn=>{"use strict";Object.defineProperty(dn,"__esModule",{value:!0});dn.createTokenizer=dn.createByEncoderName=dn.createByModelName=dn.getRegexByModel=dn.getRegexByEncoder=dn.getSpecialTokensByModel=dn.getSpecialTokensByEncoder=dn.MODEL_TO_ENCODING=void 0;var lY=h6(),cY=new Map([["gpt-4o-","o200k_base"],["gpt-4-","cl100k_base"],["gpt-3.5-turbo-","cl100k_base"],["gpt-35-turbo-","cl100k_base"]]);dn.MODEL_TO_ENCODING=new Map([["gpt-4o","o200k_base"],["gpt-4","cl100k_base"],["gpt-3.5-turbo","cl100k_base"],["text-davinci-003","p50k_base"],["text-davinci-002","p50k_base"],["text-davinci-001","r50k_base"],["text-curie-001","r50k_base"],["text-babbage-001","r50k_base"],["text-ada-001","r50k_base"],["davinci","r50k_base"],["curie","r50k_base"],["babbage","r50k_base"],["ada","r50k_base"],["code-davinci-002","p50k_base"],["code-davinci-001","p50k_base"],["code-cushman-002","p50k_base"],["code-cushman-001","p50k_base"],["davinci-codex","p50k_base"],["cushman-codex","p50k_base"],["text-davinci-edit-001","p50k_edit"],["code-davinci-edit-001","p50k_edit"],["text-embedding-ada-002","cl100k_base"],["text-similarity-davinci-001","r50k_base"],["text-similarity-curie-001","r50k_base"],["text-similarity-babbage-001","r50k_base"],["text-similarity-ada-001","r50k_base"],["text-search-davinci-doc-001","r50k_base"],["text-search-curie-doc-001","r50k_base"],["text-search-babbage-doc-001","r50k_base"],["text-search-ada-doc-001","r50k_base"],["code-search-babbage-code-001","r50k_base"],["code-search-ada-code-001","r50k_base"],["gpt2","gpt2"]]);var R5="<|endoftext|>",OP="<|fim_prefix|>",LP="<|fim_middle|>",FP="<|fim_suffix|>",MP="<|endofprompt|>",m1="'s|'t|'re|'ve|'m|'ll|'d| ?\\p{L}+| ?\\p{N}+| ?[^\\s\\p{L}\\p{N}]+|\\s+(?!\\S)|\\s+",UP="(?:'s|'S|'t|'T|'re|'RE|'Re|'eR|'ve|'VE|'vE|'Ve|'m|'M|'ll|'lL|'Ll|'LL|'d|'D)|[^\\r\\n\\p{L}\\p{N}]?\\p{L}+|\\p{N}{1,3}| ?[^\\s\\p{L}\\p{N}]+[\\r\\n]*|\\s*[\\r\\n]+|\\s+(?!\\S)|\\s+",uY=[`[^\r
\\p{L}\\p{N}]?[\\p{Lu}\\p{Lt}\\p{Lm}\\p{Lo}\\p{M}]*[\\p{Ll}\\p{Lm}\\p{Lo}\\p{M}]+(?:'s|'S|'t|'T|'re|'RE|'Re|'eR|'ve|'VE|'vE|'Ve|'m|'M|'ll|'lL|'Ll|'LL|'d|'D)?`,`[^\r
\\p{L}\\p{N}]?[\\p{Lu}\\p{Lt}\\p{Lm}\\p{Lo}\\p{M}]+[\\p{Ll}\\p{Lm}\\p{Lo}\\p{M}]*(?:'s|'S|'t|'T|'re|'RE|'Re|'eR|'ve|'VE|'vE|'Ve|'m|'M|'ll|'lL|'Ll|'LL|'d|'D)?`,"\\p{N}{1,3}"," ?[^\\s\\p{L}\\p{N}]+[\\r\\n/]*","\\s*[\\r\\n]+","\\s+(?!\\S)","\\s+"],BP=uY.join("|");function x6(e){let t="";if(dn.MODEL_TO_ENCODING.has(e))t=dn.MODEL_TO_ENCODING.get(e);else for(let[r,n]of cY)if(e.startsWith(r)){t=n;break}return t}o(x6,"getEncoderFromModelName");async function fY(e,t){let r=require("fs"),n=await fetch(e);if(!n.ok)throw new Error(`Failed to fetch file from ${e}. Status code: ${n.status}`);let i=await n.text();r.writeFileSync(t,i)}o(fY,"fetchAndSaveFile");function b6(e){let t=new Map([[R5,50256]]);switch(e){case"o200k_base":t=new Map([[R5,199999],[MP,200018]]);break;case"cl100k_base":t=new Map([[R5,100257],[OP,100258],[LP,100259],[FP,100260],[MP,100276]]);break;case"p50k_edit":t=new Map([[R5,50256],[OP,50281],[LP,50282],[FP,50283]]);break;default:break}return t}o(b6,"getSpecialTokensByEncoder");dn.getSpecialTokensByEncoder=b6;function dY(e){let t=x6(e);return b6(t)}o(dY,"getSpecialTokensByModel");dn.getSpecialTokensByModel=dY;function jP(e){switch(e){case"o200k_base":return BP;case"cl100k_base":return UP;default:break}return m1}o(jP,"getRegexByEncoder");dn.getRegexByEncoder=jP;function mY(e){let t=x6(e);return jP(t)}o(mY,"getRegexByModel");dn.getRegexByModel=mY;async function pY(e,t=null){return $P(x6(e),t)}o(pY,"createByModelName");dn.createByModelName=pY;async function $P(e,t=null){let r,n,i=b6(e);switch(e){case"o200k_base":r=BP,n="https://openaipublic.blob.core.windows.net/encodings/o200k_base.tiktoken";break;case"cl100k_base":r=UP,n="https://openaipublic.blob.core.windows.net/encodings/cl100k_base.tiktoken";break;case"p50k_base":r=m1,n="https://openaipublic.blob.core.windows.net/encodings/p50k_base.tiktoken";break;case"p50k_edit":r=m1,n="https://openaipublic.blob.core.windows.net/encodings/p50k_base.tiktoken";break;case"r50k_base":r=m1,n="https://openaipublic.blob.core.windows.net/encodings/r50k_base.tiktoken";break;case"gpt2":r=m1,n="https://raw.githubusercontent.com/microsoft/Tokenizer/main/model/gpt2.tiktoken";break;default:throw new Error(`Doesn't support this encoder [${e}]`)}t!==null&&(i=new Map([...i,...t]));let s=require("fs"),a=ff(),l=a.basename(n),c=a.resolve("","..","model");s.existsSync(c)||s.mkdirSync(c,{recursive:!0});let f=a.resolve(c,l);return s.existsSync(f)||(console.log(`Downloading file from ${n}`),await fY(n,f),console.log(`Saved file to ${f}`)),qP(f,i,r)}o($P,"createByEncoderName");dn.createByEncoderName=$P;function qP(e,t,r,n=8192){return new lY.TikTokenizer(e,t,r,n)}o(qP,"createTokenizer");dn.createTokenizer=qP});var GP=Q(mn=>{"use strict";Object.defineProperty(mn,"__esModule",{value:!0});mn.createTokenizer=mn.createByEncoderName=mn.createByModelName=mn.getSpecialTokensByModel=mn.getSpecialTokensByEncoder=mn.getRegexByModel=mn.getRegexByEncoder=mn.MODEL_TO_ENCODING=mn.TikTokenizer=void 0;var gY=h6();Object.defineProperty(mn,"TikTokenizer",{enumerable:!0,get:o(function(){return gY.TikTokenizer},"get")});var fl=WP();Object.defineProperty(mn,"MODEL_TO_ENCODING",{enumerable:!0,get:o(function(){return fl.MODEL_TO_ENCODING},"get")});Object.defineProperty(mn,"getRegexByEncoder",{enumerable:!0,get:o(function(){return fl.getRegexByEncoder},"get")});Object.defineProperty(mn,"getRegexByModel",{enumerable:!0,get:o(function(){return fl.getRegexByModel},"get")});Object.defineProperty(mn,"getSpecialTokensByEncoder",{enumerable:!0,get:o(function(){return fl.getSpecialTokensByEncoder},"get")});Object.defineProperty(mn,"getSpecialTokensByModel",{enumerable:!0,get:o(function(){return fl.getSpecialTokensByModel},"get")});Object.defineProperty(mn,"createByModelName",{enumerable:!0,get:o(function(){return fl.createByModelName},"get")});Object.defineProperty(mn,"createByEncoderName",{enumerable:!0,get:o(function(){return fl.createByEncoderName},"get")});Object.defineProperty(mn,"createTokenizer",{enumerable:!0,get:o(function(){return fl.createTokenizer},"get")})});var L6=Q((cEe,hD)=>{"use strict";hD.exports=o(function(t,r){r===!0&&(r=0);var n="";if(typeof t=="string")try{n=new URL(t).protocol}catch{}else t&&t.constructor===URL&&(n=t.protocol);var i=n.split(/\:|\+/).filter(Boolean);return typeof r=="number"?i[r]:i},"protocols")});var bD=Q((fEe,xD)=>{"use strict";var aee=L6();function lee(e){var t={protocols:[],protocol:null,port:null,resource:"",host:"",user:"",password:"",pathname:"",hash:"",search:"",href:e,query:{},parse_failed:!1};try{var r=new URL(e);t.protocols=aee(r),t.protocol=t.protocols[0],t.port=r.port,t.resource=r.hostname,t.host=r.host,t.user=r.username||"",t.password=r.password||"",t.pathname=r.pathname,t.hash=r.hash.slice(1),t.search=r.search.slice(1),t.href=r.href,t.query=Object.fromEntries(r.searchParams)}catch{t.protocols=["file"],t.protocol=t.protocols[0],t.port="",t.resource="",t.user="",t.pathname="",t.hash="",t.search="",t.href=e,t.query={},t.parse_failed=!0}return t}o(lee,"parsePath");xD.exports=lee});var ED=Q((mEe,ID)=>{"use strict";var cee=bD();function uee(e){return e&&typeof e=="object"&&"default"in e?e:{default:e}}o(uee,"_interopDefaultLegacy");var fee=uee(cee);function dee(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var r=o(function n(){if(this instanceof n){var i=[null];i.push.apply(i,arguments);var s=Function.bind.apply(t,i);return new s}return t.apply(this,arguments)},"a");r.prototype=t.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(e).forEach(function(n){var i=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(r,n,i.get?i:{enumerable:!0,get:o(function(){return e[n]},"get")})}),r}o(dee,"getAugmentedNamespace");var yD={},mee="text/plain",pee="us-ascii",_D=o((e,t)=>t.some(r=>r instanceof RegExp?r.test(e):r===e),"testParameter"),gee=o((e,{stripHash:t})=>{let r=/^data:(?<type>[^,]*?),(?<data>[^#]*?)(?:#(?<hash>.*))?$/.exec(e);if(!r)throw new Error(`Invalid URL: ${e}`);let{type:n,data:i,hash:s}=r.groups,a=n.split(";");s=t?"":s;let l=!1;a[a.length-1]==="base64"&&(a.pop(),l=!0);let c=(a.shift()||"").toLowerCase(),u=[...a.map(d=>{let[p,m=""]=d.split("=").map(g=>g.trim());return p==="charset"&&(m=m.toLowerCase(),m===pee)?"":`${p}${m?`=${m}`:""}`}).filter(Boolean)];return l&&u.push("base64"),(u.length>0||c&&c!==mee)&&u.unshift(c),`data:${u.join(";")},${l?i.trim():i}${s?`#${s}`:""}`},"normalizeDataURL");function hee(e,t){if(t={defaultProtocol:"http:",normalizeProtocol:!0,forceHttp:!1,forceHttps:!1,stripAuthentication:!0,stripHash:!1,stripTextFragment:!0,stripWWW:!0,removeQueryParameters:[/^utm_\w+/i],removeTrailingSlash:!0,removeSingleSlash:!0,removeDirectoryIndex:!1,sortQueryParameters:!0,...t},e=e.trim(),/^data:/i.test(e))return gee(e,t);if(/^view-source:/i.test(e))throw new Error("`view-source:` is not supported as it is a non-standard protocol");let r=e.startsWith("//");!r&&/^\.*\//.test(e)||(e=e.replace(/^(?!(?:\w+:)?\/\/)|^\/\//,t.defaultProtocol));let i=new URL(e);if(t.forceHttp&&t.forceHttps)throw new Error("The `forceHttp` and `forceHttps` options cannot be used together");if(t.forceHttp&&i.protocol==="https:"&&(i.protocol="http:"),t.forceHttps&&i.protocol==="http:"&&(i.protocol="https:"),t.stripAuthentication&&(i.username="",i.password=""),t.stripHash?i.hash="":t.stripTextFragment&&(i.hash=i.hash.replace(/#?:~:text.*?$/i,"")),i.pathname){let a=/\b[a-z][a-z\d+\-.]{1,50}:\/\//g,l=0,c="";for(;;){let u=a.exec(i.pathname);if(!u)break;let d=u[0],p=u.index,m=i.pathname.slice(l,p);c+=m.replace(/\/{2,}/g,"/"),c+=d,l=p+d.length}let f=i.pathname.slice(l,i.pathname.length);c+=f.replace(/\/{2,}/g,"/"),i.pathname=c}if(i.pathname)try{i.pathname=decodeURI(i.pathname)}catch{}if(t.removeDirectoryIndex===!0&&(t.removeDirectoryIndex=[/^index\.[a-z]+$/]),Array.isArray(t.removeDirectoryIndex)&&t.removeDirectoryIndex.length>0){let a=i.pathname.split("/"),l=a[a.length-1];_D(l,t.removeDirectoryIndex)&&(a=a.slice(0,-1),i.pathname=a.slice(1).join("/")+"/")}if(i.hostname&&(i.hostname=i.hostname.replace(/\.$/,""),t.stripWWW&&/^www\.(?!www\.)[a-z\-\d]{1,63}\.[a-z.\-\d]{2,63}$/.test(i.hostname)&&(i.hostname=i.hostname.replace(/^www\./,""))),Array.isArray(t.removeQueryParameters))for(let a of[...i.searchParams.keys()])_D(a,t.removeQueryParameters)&&i.searchParams.delete(a);if(t.removeQueryParameters===!0&&(i.search=""),t.sortQueryParameters){i.searchParams.sort();try{i.search=decodeURIComponent(i.search)}catch{}}t.removeTrailingSlash&&(i.pathname=i.pathname.replace(/\/$/,""));let s=e;return e=i.toString(),!t.removeSingleSlash&&i.pathname==="/"&&!s.endsWith("/")&&i.hash===""&&(e=e.replace(/\/$/,"")),(t.removeTrailingSlash||i.pathname==="/")&&i.hash===""&&t.removeSingleSlash&&(e=e.replace(/\/$/,"")),r&&!t.normalizeProtocol&&(e=e.replace(/^http:\/\//,"//")),t.stripProtocol&&(e=e.replace(/^(?:https?:)?\/\//,"")),e}o(hee,"normalizeUrl");var xee=Object.freeze({__proto__:null,default:hee}),bee=dee(xee);Object.defineProperty(yD,"__esModule",{value:!0});var _ee=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},yee=bee,vee=vD(yee),Tee=fee.default,Iee=vD(Tee);function vD(e){return e&&e.__esModule?e:{default:e}}o(vD,"_interopRequireDefault");var TD=o(function e(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,n=/^(?:([a-zA-Z_][a-zA-Z0-9_-]{0,31})@|https?:\/\/)([\w\.\-@]+)[\/:](([\~,\.\w,\-,\_,\/,\s]|%[0-9A-Fa-f]{2})+?(?:\.git|\/)?)$/,i=o(function(c){var f=new Error(c);throw f.subject_url=t,f},"throwErr");(typeof t!="string"||!t.trim())&&i("Invalid url."),t.length>e.MAX_INPUT_LENGTH&&i("Input exceeds maximum length. If needed, change the value of parseUrl.MAX_INPUT_LENGTH."),r&&((typeof r>"u"?"undefined":_ee(r))!=="object"&&(r={stripHash:!1}),t=(0,vee.default)(t,r));var s=(0,Iee.default)(t);if(s.parse_failed){var a=s.href.match(n);a?(s.protocols=["ssh"],s.protocol="ssh",s.resource=a[2],s.host=a[2],s.user=a[1],s.pathname="/"+a[3],s.parse_failed=!1):i("URL parsing failed.")}return s},"parseUrl");TD.MAX_INPUT_LENGTH=2048;var Eee=yD.default=TD;ID.exports=Eee});var wD=Q((gEe,SD)=>{"use strict";var Cee=L6();function CD(e){if(Array.isArray(e))return e.indexOf("ssh")!==-1||e.indexOf("rsync")!==-1;if(typeof e!="string")return!1;var t=Cee(e);if(e=e.substring(e.indexOf("://")+3),CD(t))return!0;var r=new RegExp(".([a-zA-Z\\d]+):(\\d+)/");return!e.match(r)&&e.indexOf("@")<e.indexOf(":")}o(CD,"isSsh");SD.exports=CD});var RD=Q((xEe,DD)=>{"use strict";var See=ED(),PD=wD();function wee(e){let t=See(e);return t.token="",t.password==="x-oauth-basic"?t.token=t.user:t.user==="x-token-auth"&&(t.token=t.password),PD(t.protocols)||t.protocols.length===0&&PD(e)?t.protocol="ssh":t.protocols.length?t.protocol=t.protocols[0]:(t.protocol="file",t.protocols=["file"]),t.href=t.href.replace(/\/$/,""),t}o(wee,"gitUp");DD.exports=wee});var AD=Q((_Ee,ND)=>{"use strict";var Pee=RD();function F6(e,t){if(t=t||[],typeof e!="string")throw new Error("The url must be a string.");if(!t.every(function(x){return typeof x=="string"}))throw new Error("The refs should contain only strings");var r=/^([a-z\d-]{1,39})\/([-\.\w]{1,100})$/i;r.test(e)&&(e="https://github.com/"+e);var n=Pee(e),i=n.resource.split("."),s=null;switch(n.toString=function(x){return F6.stringify(this,x)},n.source=i.length>2?i.slice(1-i.length).join("."):n.source=n.resource,n.git_suffix=/\.git$/.test(n.pathname),n.name=decodeURIComponent((n.pathname||n.href).replace(/(^\/)|(\/$)/g,"").replace(/\.git$/,"")),n.owner=decodeURIComponent(n.user),n.source){case"git.cloudforge.com":n.owner=n.user,n.organization=i[0],n.source="cloudforge.com";break;case"visualstudio.com":if(n.resource==="vs-ssh.visualstudio.com"){s=n.name.split("/"),s.length===4&&(n.organization=s[1],n.owner=s[2],n.name=s[3],n.full_name=s[2]+"/"+s[3]);break}else{s=n.name.split("/"),s.length===2?(n.owner=s[1],n.name=s[1],n.full_name="_git/"+n.name):s.length===3?(n.name=s[2],s[0]==="DefaultCollection"?(n.owner=s[2],n.organization=s[0],n.full_name=n.organization+"/_git/"+n.name):(n.owner=s[0],n.full_name=n.owner+"/_git/"+n.name)):s.length===4&&(n.organization=s[0],n.owner=s[1],n.name=s[3],n.full_name=n.organization+"/"+n.owner+"/_git/"+n.name);break}case"dev.azure.com":case"azure.com":if(n.resource==="ssh.dev.azure.com"){s=n.name.split("/"),s.length===4&&(n.organization=s[1],n.owner=s[2],n.name=s[3]);break}else{s=n.name.split("/"),s.length===5?(n.organization=s[0],n.owner=s[1],n.name=s[4],n.full_name="_git/"+n.name):s.length===3?(n.name=s[2],s[0]==="DefaultCollection"?(n.owner=s[2],n.organization=s[0],n.full_name=n.organization+"/_git/"+n.name):(n.owner=s[0],n.full_name=n.owner+"/_git/"+n.name)):s.length===4&&(n.organization=s[0],n.owner=s[1],n.name=s[3],n.full_name=n.organization+"/"+n.owner+"/_git/"+n.name),n.query&&n.query.path&&(n.filepath=n.query.path.replace(/^\/+/g,"")),n.query&&n.query.version&&(n.ref=n.query.version.replace(/^GB/,""));break}default:s=n.name.split("/");var a=s.length-1;if(s.length>=2){var l=s.indexOf("-",2),c=s.indexOf("blob",2),f=s.indexOf("tree",2),u=s.indexOf("commit",2),d=s.indexOf("issues",2),p=s.indexOf("src",2),m=s.indexOf("raw",2),g=s.indexOf("edit",2);a=l>0?l-1:c>0&&f>0?Math.min(c-1,f-1):c>0?c-1:d>0?d-1:f>0?f-1:u>0?u-1:p>0?p-1:m>0?m-1:g>0?g-1:a,n.owner=s.slice(0,a).join("/"),n.name=s[a],u&&d<0&&(n.commit=s[a+2])}n.ref="",n.filepathtype="",n.filepath="";var h=s.length>a&&s[a+1]==="-"?a+1:a;s.length>h+2&&["raw","src","blob","tree","edit"].indexOf(s[h+1])>=0&&(n.filepathtype=s[h+1],n.ref=s[h+2],s.length>h+3&&(n.filepath=s.slice(h+3).join("/"))),n.organization=n.owner;break}n.full_name||(n.full_name=n.owner,n.name&&(n.full_name&&(n.full_name+="/"),n.full_name+=n.name)),n.owner.startsWith("scm/")&&(n.source="bitbucket-server",n.owner=n.owner.replace("scm/",""),n.organization=n.owner,n.full_name=n.owner+"/"+n.name);var _=/(projects|users)\/(.*?)\/repos\/(.*?)((\/.*$)|$)/,b=_.exec(n.pathname);return b!=null&&(n.source="bitbucket-server",b[1]==="users"?n.owner="~"+b[2]:n.owner=b[2],n.organization=n.owner,n.name=b[3],s=b[4].split("/"),s.length>1&&(["raw","browse"].indexOf(s[1])>=0?(n.filepathtype=s[1],s.length>2&&(n.filepath=s.slice(2).join("/"))):s[1]==="commits"&&s.length>2&&(n.commit=s[2])),n.full_name=n.owner+"/"+n.name,n.query.at?n.ref=n.query.at:n.ref=""),t.length!==0&&n.ref&&(n.ref=Nee(n.href,t)||n.ref,n.filepath=n.href.split(n.ref+"/")[1]),n}o(F6,"gitUrlParse");F6.stringify=function(e,t){t=t||(e.protocols&&e.protocols.length?e.protocols.join("+"):e.protocol);var r=e.port?":"+e.port:"",n=e.user||"git",i=e.git_suffix?".git":"";switch(t){case"ssh":return r?"ssh://"+n+"@"+e.resource+r+"/"+e.full_name+i:n+"@"+e.resource+":"+e.full_name+i;case"git+ssh":case"ssh+git":case"ftp":case"ftps":return t+"://"+n+"@"+e.resource+r+"/"+e.full_name+i;case"http":case"https":var s=e.token?Dee(e):e.user&&(e.protocols.includes("http")||e.protocols.includes("https"))?e.user+"@":"";return t+"://"+s+e.resource+r+"/"+Ree(e)+i;default:return e.href}};function Dee(e){switch(e.source){case"bitbucket.org":return"x-token-auth:"+e.token+"@";default:return e.token+"@"}}o(Dee,"buildToken");function Ree(e){switch(e.source){case"bitbucket-server":return"scm/"+e.full_name;default:var t=e.full_name.split("/").map(function(r){return encodeURIComponent(r)}).join("/");return t}}o(Ree,"buildPath");function Nee(e,t){var r="";return t.forEach(function(n){e.includes(n)&&n.length>r.length&&(r=n)}),r}o(Nee,"findLongestMatchingSubstring");ND.exports=F6});var X5=Q((exports,module)=>{var Module=Module!==void 0?Module:{},TreeSitter=function(){var initPromise,document=typeof window=="object"?{currentScript:window.document.currentScript}:null;class Parser{static{o(this,"Parser")}constructor(){this.initialize()}initialize(){throw new Error("cannot construct a Parser before calling `init()`")}static init(moduleOptions){return initPromise||(Module=Object.assign({},Module,moduleOptions),initPromise=new Promise(resolveInitPromise=>{var moduleOverrides=Object.assign({},Module),arguments_=[],thisProgram="./this.program",quit_=o((e,t)=>{throw t},"quit_"),ENVIRONMENT_IS_WEB=typeof window=="object",ENVIRONMENT_IS_WORKER=typeof importScripts=="function",ENVIRONMENT_IS_NODE=typeof process=="object"&&typeof process.versions=="object"&&typeof process.versions.node=="string",scriptDirectory="",read_,readAsync,readBinary,setWindowTitle;function locateFile(e){return Module.locateFile?Module.locateFile(e,scriptDirectory):scriptDirectory+e}o(locateFile,"locateFile");function logExceptionOnExit(e){e instanceof ExitStatus||err("exiting due to exception: "+e)}if(o(logExceptionOnExit,"logExceptionOnExit"),ENVIRONMENT_IS_NODE){var fs=require("fs"),nodePath=ff();scriptDirectory=ENVIRONMENT_IS_WORKER?nodePath.dirname(scriptDirectory)+"/":"/",read_=o((e,t)=>(e=isFileURI(e)?new URL(e):nodePath.normalize(e),fs.readFileSync(e,t?void 0:"utf8")),"read_"),readBinary=o(e=>{var t=read_(e,!0);return t.buffer||(t=new Uint8Array(t)),t},"readBinary"),readAsync=o((e,t,r)=>{e=isFileURI(e)?new URL(e):nodePath.normalize(e),fs.readFile(e,function(n,i){n?r(n):t(i.buffer)})},"readAsync"),process.argv.length>1&&(thisProgram=process.argv[1].replace(/\\/g,"/")),arguments_=process.argv.slice(2),typeof module<"u"&&(module.exports=Module),quit_=o((e,t)=>{if(keepRuntimeAlive())throw process.exitCode=e,t;logExceptionOnExit(t),process.exit(e)},"quit_"),Module.inspect=function(){return"[Emscripten Module object]"}}else(ENVIRONMENT_IS_WEB||ENVIRONMENT_IS_WORKER)&&(ENVIRONMENT_IS_WORKER?scriptDirectory=self.location.href:document!==void 0&&document.currentScript&&(scriptDirectory=document.currentScript.src),scriptDirectory=scriptDirectory.indexOf("blob:")!==0?scriptDirectory.substr(0,scriptDirectory.replace(/[?#].*/,"").lastIndexOf("/")+1):"",read_=o(e=>{var t=new XMLHttpRequest;return t.open("GET",e,!1),t.send(null),t.responseText},"read_"),ENVIRONMENT_IS_WORKER&&(readBinary=o(e=>{var t=new XMLHttpRequest;return t.open("GET",e,!1),t.responseType="arraybuffer",t.send(null),new Uint8Array(t.response)},"readBinary")),readAsync=o((e,t,r)=>{var n=new XMLHttpRequest;n.open("GET",e,!0),n.responseType="arraybuffer",n.onload=()=>{n.status==200||n.status==0&&n.response?t(n.response):r()},n.onerror=r,n.send(null)},"readAsync"),setWindowTitle=o(e=>document.title=e,"setWindowTitle"));var out=Module.print||console.log.bind(console),err=Module.printErr||console.warn.bind(console);Object.assign(Module,moduleOverrides),moduleOverrides=null,Module.arguments&&(arguments_=Module.arguments),Module.thisProgram&&(thisProgram=Module.thisProgram),Module.quit&&(quit_=Module.quit);var STACK_ALIGN=16,dynamicLibraries=Module.dynamicLibraries||[],wasmBinary;Module.wasmBinary&&(wasmBinary=Module.wasmBinary);var noExitRuntime=Module.noExitRuntime||!0,wasmMemory;typeof WebAssembly!="object"&&abort("no native wasm support detected");var ABORT=!1,EXITSTATUS,UTF8Decoder=typeof TextDecoder<"u"?new TextDecoder("utf8"):void 0,buffer,HEAP8,HEAPU8,HEAP16,HEAPU16,HEAP32,HEAPU32,HEAPF32,HEAPF64;function UTF8ArrayToString(e,t,r){for(var n=t+r,i=t;e[i]&&!(i>=n);)++i;if(i-t>16&&e.buffer&&UTF8Decoder)return UTF8Decoder.decode(e.subarray(t,i));for(var s="";t<i;){var a=e[t++];if(128&a){var l=63&e[t++];if((224&a)!=192){var c=63&e[t++];if((a=(240&a)==224?(15&a)<<12|l<<6|c:(7&a)<<18|l<<12|c<<6|63&e[t++])<65536)s+=String.fromCharCode(a);else{var f=a-65536;s+=String.fromCharCode(55296|f>>10,56320|1023&f)}}else s+=String.fromCharCode((31&a)<<6|l)}else s+=String.fromCharCode(a)}return s}o(UTF8ArrayToString,"UTF8ArrayToString");function UTF8ToString(e,t){return e?UTF8ArrayToString(HEAPU8,e,t):""}o(UTF8ToString,"UTF8ToString");function stringToUTF8Array(e,t,r,n){if(!(n>0))return 0;for(var i=r,s=r+n-1,a=0;a<e.length;++a){var l=e.charCodeAt(a);if(l>=55296&&l<=57343&&(l=65536+((1023&l)<<10)|1023&e.charCodeAt(++a)),l<=127){if(r>=s)break;t[r++]=l}else if(l<=2047){if(r+1>=s)break;t[r++]=192|l>>6,t[r++]=128|63&l}else if(l<=65535){if(r+2>=s)break;t[r++]=224|l>>12,t[r++]=128|l>>6&63,t[r++]=128|63&l}else{if(r+3>=s)break;t[r++]=240|l>>18,t[r++]=128|l>>12&63,t[r++]=128|l>>6&63,t[r++]=128|63&l}}return t[r]=0,r-i}o(stringToUTF8Array,"stringToUTF8Array");function stringToUTF8(e,t,r){return stringToUTF8Array(e,HEAPU8,t,r)}o(stringToUTF8,"stringToUTF8");function lengthBytesUTF8(e){for(var t=0,r=0;r<e.length;++r){var n=e.charCodeAt(r);n<=127?t++:n<=2047?t+=2:n>=55296&&n<=57343?(t+=4,++r):t+=3}return t}o(lengthBytesUTF8,"lengthBytesUTF8");function updateGlobalBufferAndViews(e){buffer=e,Module.HEAP8=HEAP8=new Int8Array(e),Module.HEAP16=HEAP16=new Int16Array(e),Module.HEAP32=HEAP32=new Int32Array(e),Module.HEAPU8=HEAPU8=new Uint8Array(e),Module.HEAPU16=HEAPU16=new Uint16Array(e),Module.HEAPU32=HEAPU32=new Uint32Array(e),Module.HEAPF32=HEAPF32=new Float32Array(e),Module.HEAPF64=HEAPF64=new Float64Array(e)}o(updateGlobalBufferAndViews,"updateGlobalBufferAndViews");var INITIAL_MEMORY=Module.INITIAL_MEMORY||33554432;wasmMemory=Module.wasmMemory?Module.wasmMemory:new WebAssembly.Memory({initial:INITIAL_MEMORY/65536,maximum:32768}),wasmMemory&&(buffer=wasmMemory.buffer),INITIAL_MEMORY=buffer.byteLength,updateGlobalBufferAndViews(buffer);var wasmTable=new WebAssembly.Table({initial:20,element:"anyfunc"}),__ATPRERUN__=[],__ATINIT__=[],__ATMAIN__=[],__ATPOSTRUN__=[],__RELOC_FUNCS__=[],runtimeInitialized=!1;function keepRuntimeAlive(){return noExitRuntime}o(keepRuntimeAlive,"keepRuntimeAlive");function preRun(){if(Module.preRun)for(typeof Module.preRun=="function"&&(Module.preRun=[Module.preRun]);Module.preRun.length;)addOnPreRun(Module.preRun.shift());callRuntimeCallbacks(__ATPRERUN__)}o(preRun,"preRun");function initRuntime(){runtimeInitialized=!0,callRuntimeCallbacks(__RELOC_FUNCS__),callRuntimeCallbacks(__ATINIT__)}o(initRuntime,"initRuntime");function preMain(){callRuntimeCallbacks(__ATMAIN__)}o(preMain,"preMain");function postRun(){if(Module.postRun)for(typeof Module.postRun=="function"&&(Module.postRun=[Module.postRun]);Module.postRun.length;)addOnPostRun(Module.postRun.shift());callRuntimeCallbacks(__ATPOSTRUN__)}o(postRun,"postRun");function addOnPreRun(e){__ATPRERUN__.unshift(e)}o(addOnPreRun,"addOnPreRun");function addOnInit(e){__ATINIT__.unshift(e)}o(addOnInit,"addOnInit");function addOnPostRun(e){__ATPOSTRUN__.unshift(e)}o(addOnPostRun,"addOnPostRun");var runDependencies=0,runDependencyWatcher=null,dependenciesFulfilled=null;function addRunDependency(e){runDependencies++,Module.monitorRunDependencies&&Module.monitorRunDependencies(runDependencies)}o(addRunDependency,"addRunDependency");function removeRunDependency(e){if(runDependencies--,Module.monitorRunDependencies&&Module.monitorRunDependencies(runDependencies),runDependencies==0&&(runDependencyWatcher!==null&&(clearInterval(runDependencyWatcher),runDependencyWatcher=null),dependenciesFulfilled)){var t=dependenciesFulfilled;dependenciesFulfilled=null,t()}}o(removeRunDependency,"removeRunDependency");function abort(e){throw Module.onAbort&&Module.onAbort(e),err(e="Aborted("+e+")"),ABORT=!0,EXITSTATUS=1,e+=". Build with -sASSERTIONS for more info.",new WebAssembly.RuntimeError(e)}o(abort,"abort");var dataURIPrefix="data:application/octet-stream;base64,",wasmBinaryFile,tempDouble,tempI64;function isDataURI(e){return e.startsWith(dataURIPrefix)}o(isDataURI,"isDataURI");function isFileURI(e){return e.startsWith("file://")}o(isFileURI,"isFileURI");function getBinary(e){try{if(e==wasmBinaryFile&&wasmBinary)return new Uint8Array(wasmBinary);if(readBinary)return readBinary(e);throw"both async and sync fetching of the wasm failed"}catch(t){abort(t)}}o(getBinary,"getBinary");function getBinaryPromise(){if(!wasmBinary&&(ENVIRONMENT_IS_WEB||ENVIRONMENT_IS_WORKER)){if(typeof fetch=="function"&&!isFileURI(wasmBinaryFile))return fetch(wasmBinaryFile,{credentials:"same-origin"}).then(function(e){if(!e.ok)throw"failed to load wasm binary file at '"+wasmBinaryFile+"'";return e.arrayBuffer()}).catch(function(){return getBinary(wasmBinaryFile)});if(readAsync)return new Promise(function(e,t){readAsync(wasmBinaryFile,function(r){e(new Uint8Array(r))},t)})}return Promise.resolve().then(function(){return getBinary(wasmBinaryFile)})}o(getBinaryPromise,"getBinaryPromise");function createWasm(){var e={env:asmLibraryArg,wasi_snapshot_preview1:asmLibraryArg,"GOT.mem":new Proxy(asmLibraryArg,GOTHandler),"GOT.func":new Proxy(asmLibraryArg,GOTHandler)};function t(i,s){var a=i.exports;a=relocateExports(a,1024);var l=getDylinkMetadata(s);l.neededDynlibs&&(dynamicLibraries=l.neededDynlibs.concat(dynamicLibraries)),mergeLibSymbols(a,"main"),Module.asm=a,addOnInit(Module.asm.__wasm_call_ctors),__RELOC_FUNCS__.push(Module.asm.__wasm_apply_data_relocs),removeRunDependency("wasm-instantiate")}o(t,"t");function r(i){t(i.instance,i.module)}o(r,"r");function n(i){return getBinaryPromise().then(function(s){return WebAssembly.instantiate(s,e)}).then(function(s){return s}).then(i,function(s){err("failed to asynchronously prepare wasm: "+s),abort(s)})}if(o(n,"_"),addRunDependency("wasm-instantiate"),Module.instantiateWasm)try{return Module.instantiateWasm(e,t)}catch(i){return err("Module.instantiateWasm callback failed with error: "+i),!1}return wasmBinary||typeof WebAssembly.instantiateStreaming!="function"||isDataURI(wasmBinaryFile)||isFileURI(wasmBinaryFile)||ENVIRONMENT_IS_NODE||typeof fetch!="function"?n(r):fetch(wasmBinaryFile,{credentials:"same-origin"}).then(function(i){return WebAssembly.instantiateStreaming(i,e).then(r,function(s){return err("wasm streaming compile failed: "+s),err("falling back to ArrayBuffer instantiation"),n(r)})}),{}}o(createWasm,"createWasm"),wasmBinaryFile="tree-sitter.wasm",isDataURI(wasmBinaryFile)||(wasmBinaryFile=locateFile(wasmBinaryFile));var ASM_CONSTS={};function ExitStatus(e){this.name="ExitStatus",this.message="Program terminated with exit("+e+")",this.status=e}o(ExitStatus,"ExitStatus");var GOT={},CurrentModuleWeakSymbols=new Set([]),GOTHandler={get:o(function(e,t){var r=GOT[t];return r||(r=GOT[t]=new WebAssembly.Global({value:"i32",mutable:!0})),CurrentModuleWeakSymbols.has(t)||(r.required=!0),r},"get")};function callRuntimeCallbacks(e){for(;e.length>0;)e.shift()(Module)}o(callRuntimeCallbacks,"callRuntimeCallbacks");function getDylinkMetadata(e){var t=0,r=0;function n(){for(var b=0,x=1;;){var y=e[t++];if(b+=(127&y)*x,x*=128,!(128&y))break}return b}o(n,"_");function i(){var b=n();return UTF8ArrayToString(e,(t+=b)-b,b)}o(i,"n");function s(b,x){if(b)throw new Error(x)}o(s,"s");var a="dylink.0";if(e instanceof WebAssembly.Module){var l=WebAssembly.Module.customSections(e,a);l.length===0&&(a="dylink",l=WebAssembly.Module.customSections(e,a)),s(l.length===0,"need dylink section"),r=(e=new Uint8Array(l[0])).length}else{s(new Uint32Array(new Uint8Array(e.subarray(0,24)).buffer)[0]!=1836278016,"need to see wasm magic number"),s(e[8]!==0,"need the dylink section to be first"),t=9;var c=n();r=t+c,a=i()}var f={neededDynlibs:[],tlsExports:new Set,weakImports:new Set};if(a=="dylink"){f.memorySize=n(),f.memoryAlign=n(),f.tableSize=n(),f.tableAlign=n();for(var u=n(),d=0;d<u;++d){var p=i();f.neededDynlibs.push(p)}}else for(s(a!=="dylink.0");t<r;){var m=e[t++],g=n();if(m===1)f.memorySize=n(),f.memoryAlign=n(),f.tableSize=n(),f.tableAlign=n();else if(m===2)for(u=n(),d=0;d<u;++d)p=i(),f.neededDynlibs.push(p);else if(m===3)for(var h=n();h--;){var _=i();256&n()&&f.tlsExports.add(_)}else if(m===4)for(h=n();h--;)i(),_=i(),(3&n())==1&&f.weakImports.add(_);else t+=g}return f}o(getDylinkMetadata,"getDylinkMetadata");function getValue(e,t="i8"){switch(t.endsWith("*")&&(t="*"),t){case"i1":case"i8":return HEAP8[e>>0];case"i16":return HEAP16[e>>1];case"i32":case"i64":return HEAP32[e>>2];case"float":return HEAPF32[e>>2];case"double":return HEAPF64[e>>3];case"*":return HEAPU32[e>>2];default:abort("invalid type for getValue: "+t)}return null}o(getValue,"getValue");function asmjsMangle(e){return e.indexOf("dynCall_")==0||["stackAlloc","stackSave","stackRestore","getTempRet0","setTempRet0"].includes(e)?e:"_"+e}o(asmjsMangle,"asmjsMangle");function mergeLibSymbols(e,t){for(var r in e)if(e.hasOwnProperty(r)){asmLibraryArg.hasOwnProperty(r)||(asmLibraryArg[r]=e[r]);var n=asmjsMangle(r);Module.hasOwnProperty(n)||(Module[n]=e[r]),r=="__main_argc_argv"&&(Module._main=e[r])}}o(mergeLibSymbols,"mergeLibSymbols");var LDSO={loadedLibsByName:{},loadedLibsByHandle:{}};function dynCallLegacy(e,t,r){var n=Module["dynCall_"+e];return r&&r.length?n.apply(null,[t].concat(r)):n.call(null,t)}o(dynCallLegacy,"dynCallLegacy");var wasmTableMirror=[];function getWasmTableEntry(e){var t=wasmTableMirror[e];return t||(e>=wasmTableMirror.length&&(wasmTableMirror.length=e+1),wasmTableMirror[e]=t=wasmTable.get(e)),t}o(getWasmTableEntry,"getWasmTableEntry");function dynCall(e,t,r){return e.includes("j")?dynCallLegacy(e,t,r):getWasmTableEntry(t).apply(null,r)}o(dynCall,"dynCall");function createInvokeFunction(e){return function(){var t=stackSave();try{return dynCall(e,arguments[0],Array.prototype.slice.call(arguments,1))}catch(r){if(stackRestore(t),r!==r+0)throw r;_setThrew(1,0)}}}o(createInvokeFunction,"createInvokeFunction");var ___heap_base=78144;function zeroMemory(e,t){return HEAPU8.fill(0,e,e+t),e}o(zeroMemory,"zeroMemory");function getMemory(e){if(runtimeInitialized)return zeroMemory(_malloc(e),e);var t=___heap_base,r=t+e+15&-16;return ___heap_base=r,GOT.__heap_base.value=r,t}o(getMemory,"getMemory");function isInternalSym(e){return["__cpp_exception","__c_longjmp","__wasm_apply_data_relocs","__dso_handle","__tls_size","__tls_align","__set_stack_limits","_emscripten_tls_init","__wasm_init_tls","__wasm_call_ctors","__start_em_asm","__stop_em_asm"].includes(e)}o(isInternalSym,"isInternalSym");function uleb128Encode(e,t){e<128?t.push(e):t.push(e%128|128,e>>7)}o(uleb128Encode,"uleb128Encode");function sigToWasmTypes(e){for(var t={i:"i32",j:"i32",f:"f32",d:"f64",p:"i32"},r={parameters:[],results:e[0]=="v"?[]:[t[e[0]]]},n=1;n<e.length;++n)r.parameters.push(t[e[n]]),e[n]==="j"&&r.parameters.push("i32");return r}o(sigToWasmTypes,"sigToWasmTypes");function generateFuncType(e,t){var r=e.slice(0,1),n=e.slice(1),i={i:127,p:127,j:126,f:125,d:124};t.push(96),uleb128Encode(n.length,t);for(var s=0;s<n.length;++s)t.push(i[n[s]]);r=="v"?t.push(0):t.push(1,i[r])}o(generateFuncType,"generateFuncType");function convertJsFunctionToWasm(e,t){if(typeof WebAssembly.Function=="function")return new WebAssembly.Function(sigToWasmTypes(t),e);var r=[1];generateFuncType(t,r);var n=[0,97,115,109,1,0,0,0,1];uleb128Encode(r.length,n),n.push.apply(n,r),n.push(2,7,1,1,101,1,102,0,0,7,5,1,1,102,0,0);var i=new WebAssembly.Module(new Uint8Array(n));return new WebAssembly.Instance(i,{e:{f:e}}).exports.f}o(convertJsFunctionToWasm,"convertJsFunctionToWasm");function updateTableMap(e,t){if(functionsInTableMap)for(var r=e;r<e+t;r++){var n=getWasmTableEntry(r);n&&functionsInTableMap.set(n,r)}}o(updateTableMap,"updateTableMap");var functionsInTableMap=void 0,freeTableIndexes=[];function getEmptyTableSlot(){if(freeTableIndexes.length)return freeTableIndexes.pop();try{wasmTable.grow(1)}catch(e){throw e instanceof RangeError?"Unable to grow wasm table. Set ALLOW_TABLE_GROWTH.":e}return wasmTable.length-1}o(getEmptyTableSlot,"getEmptyTableSlot");function setWasmTableEntry(e,t){wasmTable.set(e,t),wasmTableMirror[e]=wasmTable.get(e)}o(setWasmTableEntry,"setWasmTableEntry");function addFunction(e,t){if(functionsInTableMap||(functionsInTableMap=new WeakMap,updateTableMap(0,wasmTable.length)),functionsInTableMap.has(e))return functionsInTableMap.get(e);var r=getEmptyTableSlot();try{setWasmTableEntry(r,e)}catch(n){if(!(n instanceof TypeError))throw n;setWasmTableEntry(r,convertJsFunctionToWasm(e,t))}return functionsInTableMap.set(e,r),r}o(addFunction,"addFunction");function updateGOT(e,t){for(var r in e)if(!isInternalSym(r)){var n=e[r];r.startsWith("orig$")&&(r=r.split("$")[1],t=!0),GOT[r]||(GOT[r]=new WebAssembly.Global({value:"i32",mutable:!0})),(t||GOT[r].value==0)&&(typeof n=="function"?GOT[r].value=addFunction(n):typeof n=="number"?GOT[r].value=n:err("unhandled export type for `"+r+"`: "+typeof n))}}o(updateGOT,"updateGOT");function relocateExports(e,t,r){var n={};for(var i in e){var s=e[i];typeof s=="object"&&(s=s.value),typeof s=="number"&&(s+=t),n[i]=s}return updateGOT(n,r),n}o(relocateExports,"relocateExports");function resolveGlobalSymbol(e,t){var r;return t&&(r=asmLibraryArg["orig$"+e]),r||(r=asmLibraryArg[e])&&r.stub&&(r=void 0),r||(r=Module[asmjsMangle(e)]),!r&&e.startsWith("invoke_")&&(r=createInvokeFunction(e.split("_")[1])),r}o(resolveGlobalSymbol,"resolveGlobalSymbol");function alignMemory(e,t){return Math.ceil(e/t)*t}o(alignMemory,"alignMemory");function loadWebAssemblyModule(binary,flags,handle){var metadata=getDylinkMetadata(binary);function loadModule(){var firstLoad=!handle||!HEAP8[handle+12>>0];if(firstLoad){var memAlign=Math.pow(2,metadata.memoryAlign);memAlign=Math.max(memAlign,STACK_ALIGN);var memoryBase=metadata.memorySize?alignMemory(getMemory(metadata.memorySize+memAlign),memAlign):0,tableBase=metadata.tableSize?wasmTable.length:0;handle&&(HEAP8[handle+12>>0]=1,HEAPU32[handle+16>>2]=memoryBase,HEAP32[handle+20>>2]=metadata.memorySize,HEAPU32[handle+24>>2]=tableBase,HEAP32[handle+28>>2]=metadata.tableSize)}else memoryBase=HEAPU32[handle+16>>2],tableBase=HEAPU32[handle+24>>2];var tableGrowthNeeded=tableBase+metadata.tableSize-wasmTable.length,moduleExports;function resolveSymbol(e){var t=resolveGlobalSymbol(e,!1);return t||(t=moduleExports[e]),t}o(resolveSymbol,"resolveSymbol"),tableGrowthNeeded>0&&wasmTable.grow(tableGrowthNeeded);var proxyHandler={get:o(function(e,t){switch(t){case"__memory_base":return memoryBase;case"__table_base":return tableBase}if(t in asmLibraryArg)return asmLibraryArg[t];var r;return t in e||(e[t]=function(){return r||(r=resolveSymbol(t)),r.apply(null,arguments)}),e[t]},"get")},proxy=new Proxy({},proxyHandler),info={"GOT.mem":new Proxy({},GOTHandler),"GOT.func":new Proxy({},GOTHandler),env:proxy,wasi_snapshot_preview1:proxy};function postInstantiation(instance){function addEmAsm(addr,body){for(var args=[],arity=0;arity<16&&body.indexOf("$"+arity)!=-1;arity++)args.push("$"+arity);args=args.join(",");var func="("+args+" ) => { "+body+"};";ASM_CONSTS[start]=eval(func)}if(o(addEmAsm,"addEmAsm"),updateTableMap(tableBase,metadata.tableSize),moduleExports=relocateExports(instance.exports,memoryBase),flags.allowUndefined||reportUndefinedSymbols(),"__start_em_asm"in moduleExports)for(var start=moduleExports.__start_em_asm,stop=moduleExports.__stop_em_asm;start<stop;){var jsString=UTF8ToString(start);addEmAsm(start,jsString),start=HEAPU8.indexOf(0,start)+1}var applyRelocs=moduleExports.__wasm_apply_data_relocs;applyRelocs&&(runtimeInitialized?applyRelocs():__RELOC_FUNCS__.push(applyRelocs));var init=moduleExports.__wasm_call_ctors;return init&&(runtimeInitialized?init():__ATINIT__.push(init)),moduleExports}if(o(postInstantiation,"postInstantiation"),flags.loadAsync){if(binary instanceof WebAssembly.Module){var instance=new WebAssembly.Instance(binary,info);return Promise.resolve(postInstantiation(instance))}return WebAssembly.instantiate(binary,info).then(function(e){return postInstantiation(e.instance)})}var module=binary instanceof WebAssembly.Module?binary:new WebAssembly.Module(binary),instance=new WebAssembly.Instance(module,info);return postInstantiation(instance)}return o(loadModule,"loadModule"),CurrentModuleWeakSymbols=metadata.weakImports,flags.loadAsync?metadata.neededDynlibs.reduce(function(e,t){return e.then(function(){return loadDynamicLibrary(t,flags)})},Promise.resolve()).then(function(){return loadModule()}):(metadata.neededDynlibs.forEach(function(e){loadDynamicLibrary(e,flags)}),loadModule())}o(loadWebAssemblyModule,"loadWebAssemblyModule");function loadDynamicLibrary(e,t,r){t=t||{global:!0,nodelete:!0};var n=LDSO.loadedLibsByName[e];if(n)return t.global&&!n.global&&(n.global=!0,n.module!=="loading"&&mergeLibSymbols(n.module,e)),t.nodelete&&n.refcount!==1/0&&(n.refcount=1/0),n.refcount++,r&&(LDSO.loadedLibsByHandle[r]=n),!t.loadAsync||Promise.resolve(!0);function i(l){if(t.fs&&t.fs.findObject(l)){var c=t.fs.readFile(l,{encoding:"binary"});return c instanceof Uint8Array||(c=new Uint8Array(c)),t.loadAsync?Promise.resolve(c):c}if(l=locateFile(l),t.loadAsync)return new Promise(function(f,u){readAsync(l,d=>f(new Uint8Array(d)),u)});if(!readBinary)throw new Error(l+": file not found, and synchronous loading of external files is not available");return readBinary(l)}o(i,"n");function s(){if(typeof preloadedWasm<"u"&&preloadedWasm[e]){var l=preloadedWasm[e];return t.loadAsync?Promise.resolve(l):l}return t.loadAsync?i(e).then(function(c){return loadWebAssemblyModule(c,t,r)}):loadWebAssemblyModule(i(e),t,r)}o(s,"s");function a(l){n.global&&mergeLibSymbols(l,e),n.module=l}return o(a,"a"),n={refcount:t.nodelete?1/0:1,name:e,module:"loading",global:t.global},LDSO.loadedLibsByName[e]=n,r&&(LDSO.loadedLibsByHandle[r]=n),t.loadAsync?s().then(function(l){return a(l),!0}):(a(s()),!0)}o(loadDynamicLibrary,"loadDynamicLibrary");function reportUndefinedSymbols(){for(var e in GOT)if(GOT[e].value==0){var t=resolveGlobalSymbol(e,!0);if(!t&&!GOT[e].required)continue;if(typeof t=="function")GOT[e].value=addFunction(t,t.sig);else{if(typeof t!="number")throw new Error("bad export type for `"+e+"`: "+typeof t);GOT[e].value=t}}}o(reportUndefinedSymbols,"reportUndefinedSymbols");function preloadDylibs(){dynamicLibraries.length?(addRunDependency("preloadDylibs"),dynamicLibraries.reduce(function(e,t){return e.then(function(){return loadDynamicLibrary(t,{loadAsync:!0,global:!0,nodelete:!0,allowUndefined:!0})})},Promise.resolve()).then(function(){reportUndefinedSymbols(),removeRunDependency("preloadDylibs")})):reportUndefinedSymbols()}o(preloadDylibs,"preloadDylibs");function setValue(e,t,r="i8"){switch(r.endsWith("*")&&(r="*"),r){case"i1":case"i8":HEAP8[e>>0]=t;break;case"i16":HEAP16[e>>1]=t;break;case"i32":HEAP32[e>>2]=t;break;case"i64":tempI64=[t>>>0,(tempDouble=t,+Math.abs(tempDouble)>=1?tempDouble>0?(0|Math.min(+Math.floor(tempDouble/4294967296),4294967295))>>>0:~~+Math.ceil((tempDouble-+(~~tempDouble>>>0))/4294967296)>>>0:0)],HEAP32[e>>2]=tempI64[0],HEAP32[e+4>>2]=tempI64[1];break;case"float":HEAPF32[e>>2]=t;break;case"double":HEAPF64[e>>3]=t;break;case"*":HEAPU32[e>>2]=t;break;default:abort("invalid type for setValue: "+r)}}o(setValue,"setValue");var ___memory_base=new WebAssembly.Global({value:"i32",mutable:!1},1024),___stack_pointer=new WebAssembly.Global({value:"i32",mutable:!0},78144),___table_base=new WebAssembly.Global({value:"i32",mutable:!1},1),nowIsMonotonic=!0,_emscripten_get_now;function __emscripten_get_now_is_monotonic(){return nowIsMonotonic}o(__emscripten_get_now_is_monotonic,"__emscripten_get_now_is_monotonic");function _abort(){abort("")}o(_abort,"_abort");function _emscripten_date_now(){return Date.now()}o(_emscripten_date_now,"_emscripten_date_now");function _emscripten_memcpy_big(e,t,r){HEAPU8.copyWithin(e,t,t+r)}o(_emscripten_memcpy_big,"_emscripten_memcpy_big");function getHeapMax(){return 2147483648}o(getHeapMax,"getHeapMax");function emscripten_realloc_buffer(e){try{return wasmMemory.grow(e-buffer.byteLength+65535>>>16),updateGlobalBufferAndViews(wasmMemory.buffer),1}catch{}}o(emscripten_realloc_buffer,"emscripten_realloc_buffer");function _emscripten_resize_heap(e){var t=HEAPU8.length;e>>>=0;var r=getHeapMax();if(e>r)return!1;for(var n=1;n<=4;n*=2){var i=t*(1+.2/n);if(i=Math.min(i,e+100663296),emscripten_realloc_buffer(Math.min(r,(s=Math.max(e,i))+((a=65536)-s%a)%a)))return!0}var s,a;return!1}o(_emscripten_resize_heap,"_emscripten_resize_heap"),__emscripten_get_now_is_monotonic.sig="i",Module._abort=_abort,_abort.sig="v",_emscripten_date_now.sig="d",_emscripten_get_now=ENVIRONMENT_IS_NODE?()=>{var e=process.hrtime();return 1e3*e[0]+e[1]/1e6}:()=>performance.now(),_emscripten_get_now.sig="d",_emscripten_memcpy_big.sig="vppp",_emscripten_resize_heap.sig="ip";var SYSCALLS={DEFAULT_POLLMASK:5,calculateAt:o(function(e,t,r){if(PATH.isAbs(t))return t;var n;if(e===-100?n=FS.cwd():n=SYSCALLS.getStreamFromFD(e).path,t.length==0){if(!r)throw new FS.ErrnoError(44);return n}return PATH.join2(n,t)},"calculateAt"),doStat:o(function(e,t,r){try{var n=e(t)}catch(l){if(l&&l.node&&PATH.normalize(t)!==PATH.normalize(FS.getPath(l.node)))return-54;throw l}HEAP32[r>>2]=n.dev,HEAP32[r+8>>2]=n.ino,HEAP32[r+12>>2]=n.mode,HEAPU32[r+16>>2]=n.nlink,HEAP32[r+20>>2]=n.uid,HEAP32[r+24>>2]=n.gid,HEAP32[r+28>>2]=n.rdev,tempI64=[n.size>>>0,(tempDouble=n.size,+Math.abs(tempDouble)>=1?tempDouble>0?(0|Math.min(+Math.floor(tempDouble/4294967296),4294967295))>>>0:~~+Math.ceil((tempDouble-+(~~tempDouble>>>0))/4294967296)>>>0:0)],HEAP32[r+40>>2]=tempI64[0],HEAP32[r+44>>2]=tempI64[1],HEAP32[r+48>>2]=4096,HEAP32[r+52>>2]=n.blocks;var i=n.atime.getTime(),s=n.mtime.getTime(),a=n.ctime.getTime();return tempI64=[Math.floor(i/1e3)>>>0,(tempDouble=Math.floor(i/1e3),+Math.abs(tempDouble)>=1?tempDouble>0?(0|Math.min(+Math.floor(tempDouble/4294967296),4294967295))>>>0:~~+Math.ceil((tempDouble-+(~~tempDouble>>>0))/4294967296)>>>0:0)],HEAP32[r+56>>2]=tempI64[0],HEAP32[r+60>>2]=tempI64[1],HEAPU32[r+64>>2]=i%1e3*1e3,tempI64=[Math.floor(s/1e3)>>>0,(tempDouble=Math.floor(s/1e3),+Math.abs(tempDouble)>=1?tempDouble>0?(0|Math.min(+Math.floor(tempDouble/4294967296),4294967295))>>>0:~~+Math.ceil((tempDouble-+(~~tempDouble>>>0))/4294967296)>>>0:0)],HEAP32[r+72>>2]=tempI64[0],HEAP32[r+76>>2]=tempI64[1],HEAPU32[r+80>>2]=s%1e3*1e3,tempI64=[Math.floor(a/1e3)>>>0,(tempDouble=Math.floor(a/1e3),+Math.abs(tempDouble)>=1?tempDouble>0?(0|Math.min(+Math.floor(tempDouble/4294967296),4294967295))>>>0:~~+Math.ceil((tempDouble-+(~~tempDouble>>>0))/4294967296)>>>0:0)],HEAP32[r+88>>2]=tempI64[0],HEAP32[r+92>>2]=tempI64[1],HEAPU32[r+96>>2]=a%1e3*1e3,tempI64=[n.ino>>>0,(tempDouble=n.ino,+Math.abs(tempDouble)>=1?tempDouble>0?(0|Math.min(+Math.floor(tempDouble/4294967296),4294967295))>>>0:~~+Math.ceil((tempDouble-+(~~tempDouble>>>0))/4294967296)>>>0:0)],HEAP32[r+104>>2]=tempI64[0],HEAP32[r+108>>2]=tempI64[1],0},"doStat"),doMsync:o(function(e,t,r,n,i){if(!FS.isFile(t.node.mode))throw new FS.ErrnoError(43);if(2&n)return 0;var s=HEAPU8.slice(e,e+r);FS.msync(t,s,i,r,n)},"doMsync"),varargs:void 0,get:o(function(){return SYSCALLS.varargs+=4,HEAP32[SYSCALLS.varargs-4>>2]},"get"),getStr:o(function(e){return UTF8ToString(e)},"getStr"),getStreamFromFD:o(function(e){var t=FS.getStream(e);if(!t)throw new FS.ErrnoError(8);return t},"getStreamFromFD")};function _proc_exit(e){EXITSTATUS=e,keepRuntimeAlive()||(Module.onExit&&Module.onExit(e),ABORT=!0),quit_(e,new ExitStatus(e))}o(_proc_exit,"_proc_exit");function exitJS(e,t){EXITSTATUS=e,_proc_exit(e)}o(exitJS,"exitJS"),_proc_exit.sig="vi";var _exit=exitJS;function _fd_close(e){try{var t=SYSCALLS.getStreamFromFD(e);return FS.close(t),0}catch(r){if(typeof FS>"u"||!(r instanceof FS.ErrnoError))throw r;return r.errno}}o(_fd_close,"_fd_close");function convertI32PairToI53Checked(e,t){return t+2097152>>>0<4194305-!!e?(e>>>0)+4294967296*t:NaN}o(convertI32PairToI53Checked,"convertI32PairToI53Checked");function _fd_seek(e,t,r,n,i){try{var s=convertI32PairToI53Checked(t,r);if(isNaN(s))return 61;var a=SYSCALLS.getStreamFromFD(e);return FS.llseek(a,s,n),tempI64=[a.position>>>0,(tempDouble=a.position,+Math.abs(tempDouble)>=1?tempDouble>0?(0|Math.min(+Math.floor(tempDouble/4294967296),4294967295))>>>0:~~+Math.ceil((tempDouble-+(~~tempDouble>>>0))/4294967296)>>>0:0)],HEAP32[i>>2]=tempI64[0],HEAP32[i+4>>2]=tempI64[1],a.getdents&&s===0&&n===0&&(a.getdents=null),0}catch(l){if(typeof FS>"u"||!(l instanceof FS.ErrnoError))throw l;return l.errno}}o(_fd_seek,"_fd_seek");function doWritev(e,t,r,n){for(var i=0,s=0;s<r;s++){var a=HEAPU32[t>>2],l=HEAPU32[t+4>>2];t+=8;var c=FS.write(e,HEAP8,a,l,n);if(c<0)return-1;i+=c,n!==void 0&&(n+=c)}return i}o(doWritev,"doWritev");function _fd_write(e,t,r,n){try{var i=doWritev(SYSCALLS.getStreamFromFD(e),t,r);return HEAPU32[n>>2]=i,0}catch(s){if(typeof FS>"u"||!(s instanceof FS.ErrnoError))throw s;return s.errno}}o(_fd_write,"_fd_write");function _tree_sitter_log_callback(e,t){if(currentLogCallback){let r=UTF8ToString(t);currentLogCallback(r,e!==0)}}o(_tree_sitter_log_callback,"_tree_sitter_log_callback");function _tree_sitter_parse_callback(e,t,r,n,i){var s=currentParseCallback(t,{row:r,column:n});typeof s=="string"?(setValue(i,s.length,"i32"),stringToUTF16(s,e,10240)):setValue(i,0,"i32")}o(_tree_sitter_parse_callback,"_tree_sitter_parse_callback");function handleException(e){if(e instanceof ExitStatus||e=="unwind")return EXITSTATUS;quit_(1,e)}o(handleException,"handleException");function allocateUTF8OnStack(e){var t=lengthBytesUTF8(e)+1,r=stackAlloc(t);return stringToUTF8Array(e,HEAP8,r,t),r}o(allocateUTF8OnStack,"allocateUTF8OnStack");function stringToUTF16(e,t,r){if(r===void 0&&(r=2147483647),r<2)return 0;for(var n=t,i=(r-=2)<2*e.length?r/2:e.length,s=0;s<i;++s){var a=e.charCodeAt(s);HEAP16[t>>1]=a,t+=2}return HEAP16[t>>1]=0,t-n}o(stringToUTF16,"stringToUTF16");function AsciiToString(e){for(var t="";;){var r=HEAPU8[e++>>0];if(!r)return t;t+=String.fromCharCode(r)}}o(AsciiToString,"AsciiToString"),_exit.sig="vi",_fd_close.sig="ii",_fd_seek.sig="iijip",_fd_write.sig="iippp";var asmLibraryArg={__heap_base:___heap_base,__indirect_function_table:wasmTable,__memory_base:___memory_base,__stack_pointer:___stack_pointer,__table_base:___table_base,_emscripten_get_now_is_monotonic:__emscripten_get_now_is_monotonic,abort:_abort,emscripten_get_now:_emscripten_get_now,emscripten_memcpy_big:_emscripten_memcpy_big,emscripten_resize_heap:_emscripten_resize_heap,exit:_exit,fd_close:_fd_close,fd_seek:_fd_seek,fd_write:_fd_write,memory:wasmMemory,tree_sitter_log_callback:_tree_sitter_log_callback,tree_sitter_parse_callback:_tree_sitter_parse_callback},asm=createWasm(),___wasm_call_ctors=Module.___wasm_call_ctors=function(){return(___wasm_call_ctors=Module.___wasm_call_ctors=Module.asm.__wasm_call_ctors).apply(null,arguments)},___wasm_apply_data_relocs=Module.___wasm_apply_data_relocs=function(){return(___wasm_apply_data_relocs=Module.___wasm_apply_data_relocs=Module.asm.__wasm_apply_data_relocs).apply(null,arguments)},_malloc=Module._malloc=function(){return(_malloc=Module._malloc=Module.asm.malloc).apply(null,arguments)},_calloc=Module._calloc=function(){return(_calloc=Module._calloc=Module.asm.calloc).apply(null,arguments)},_realloc=Module._realloc=function(){return(_realloc=Module._realloc=Module.asm.realloc).apply(null,arguments)},_free=Module._free=function(){return(_free=Module._free=Module.asm.free).apply(null,arguments)},_ts_language_symbol_count=Module._ts_language_symbol_count=function(){return(_ts_language_symbol_count=Module._ts_language_symbol_count=Module.asm.ts_language_symbol_count).apply(null,arguments)},_ts_language_version=Module._ts_language_version=function(){return(_ts_language_version=Module._ts_language_version=Module.asm.ts_language_version).apply(null,arguments)},_ts_language_field_count=Module._ts_language_field_count=function(){return(_ts_language_field_count=Module._ts_language_field_count=Module.asm.ts_language_field_count).apply(null,arguments)},_ts_language_symbol_name=Module._ts_language_symbol_name=function(){return(_ts_language_symbol_name=Module._ts_language_symbol_name=Module.asm.ts_language_symbol_name).apply(null,arguments)},_ts_language_symbol_for_name=Module._ts_language_symbol_for_name=function(){return(_ts_language_symbol_for_name=Module._ts_language_symbol_for_name=Module.asm.ts_language_symbol_for_name).apply(null,arguments)},_ts_language_symbol_type=Module._ts_language_symbol_type=function(){return(_ts_language_symbol_type=Module._ts_language_symbol_type=Module.asm.ts_language_symbol_type).apply(null,arguments)},_ts_language_field_name_for_id=Module._ts_language_field_name_for_id=function(){return(_ts_language_field_name_for_id=Module._ts_language_field_name_for_id=Module.asm.ts_language_field_name_for_id).apply(null,arguments)},_memset=Module._memset=function(){return(_memset=Module._memset=Module.asm.memset).apply(null,arguments)},_memcpy=Module._memcpy=function(){return(_memcpy=Module._memcpy=Module.asm.memcpy).apply(null,arguments)},_ts_parser_delete=Module._ts_parser_delete=function(){return(_ts_parser_delete=Module._ts_parser_delete=Module.asm.ts_parser_delete).apply(null,arguments)},_ts_parser_reset=Module._ts_parser_reset=function(){return(_ts_parser_reset=Module._ts_parser_reset=Module.asm.ts_parser_reset).apply(null,arguments)},_ts_parser_set_language=Module._ts_parser_set_language=function(){return(_ts_parser_set_language=Module._ts_parser_set_language=Module.asm.ts_parser_set_language).apply(null,arguments)},_ts_parser_timeout_micros=Module._ts_parser_timeout_micros=function(){return(_ts_parser_timeout_micros=Module._ts_parser_timeout_micros=Module.asm.ts_parser_timeout_micros).apply(null,arguments)},_ts_parser_set_timeout_micros=Module._ts_parser_set_timeout_micros=function(){return(_ts_parser_set_timeout_micros=Module._ts_parser_set_timeout_micros=Module.asm.ts_parser_set_timeout_micros).apply(null,arguments)},_memmove=Module._memmove=function(){return(_memmove=Module._memmove=Module.asm.memmove).apply(null,arguments)},_memcmp=Module._memcmp=function(){return(_memcmp=Module._memcmp=Module.asm.memcmp).apply(null,arguments)},_ts_query_new=Module._ts_query_new=function(){return(_ts_query_new=Module._ts_query_new=Module.asm.ts_query_new).apply(null,arguments)},_ts_query_delete=Module._ts_query_delete=function(){return(_ts_query_delete=Module._ts_query_delete=Module.asm.ts_query_delete).apply(null,arguments)},_iswspace=Module._iswspace=function(){return(_iswspace=Module._iswspace=Module.asm.iswspace).apply(null,arguments)},_iswalnum=Module._iswalnum=function(){return(_iswalnum=Module._iswalnum=Module.asm.iswalnum).apply(null,arguments)},_ts_query_pattern_count=Module._ts_query_pattern_count=function(){return(_ts_query_pattern_count=Module._ts_query_pattern_count=Module.asm.ts_query_pattern_count).apply(null,arguments)},_ts_query_capture_count=Module._ts_query_capture_count=function(){return(_ts_query_capture_count=Module._ts_query_capture_count=Module.asm.ts_query_capture_count).apply(null,arguments)},_ts_query_string_count=Module._ts_query_string_count=function(){return(_ts_query_string_count=Module._ts_query_string_count=Module.asm.ts_query_string_count).apply(null,arguments)},_ts_query_capture_name_for_id=Module._ts_query_capture_name_for_id=function(){return(_ts_query_capture_name_for_id=Module._ts_query_capture_name_for_id=Module.asm.ts_query_capture_name_for_id).apply(null,arguments)},_ts_query_string_value_for_id=Module._ts_query_string_value_for_id=function(){return(_ts_query_string_value_for_id=Module._ts_query_string_value_for_id=Module.asm.ts_query_string_value_for_id).apply(null,arguments)},_ts_query_predicates_for_pattern=Module._ts_query_predicates_for_pattern=function(){return(_ts_query_predicates_for_pattern=Module._ts_query_predicates_for_pattern=Module.asm.ts_query_predicates_for_pattern).apply(null,arguments)},_ts_tree_copy=Module._ts_tree_copy=function(){return(_ts_tree_copy=Module._ts_tree_copy=Module.asm.ts_tree_copy).apply(null,arguments)},_ts_tree_delete=Module._ts_tree_delete=function(){return(_ts_tree_delete=Module._ts_tree_delete=Module.asm.ts_tree_delete).apply(null,arguments)},_ts_init=Module._ts_init=function(){return(_ts_init=Module._ts_init=Module.asm.ts_init).apply(null,arguments)},_ts_parser_new_wasm=Module._ts_parser_new_wasm=function(){return(_ts_parser_new_wasm=Module._ts_parser_new_wasm=Module.asm.ts_parser_new_wasm).apply(null,arguments)},_ts_parser_enable_logger_wasm=Module._ts_parser_enable_logger_wasm=function(){return(_ts_parser_enable_logger_wasm=Module._ts_parser_enable_logger_wasm=Module.asm.ts_parser_enable_logger_wasm).apply(null,arguments)},_ts_parser_parse_wasm=Module._ts_parser_parse_wasm=function(){return(_ts_parser_parse_wasm=Module._ts_parser_parse_wasm=Module.asm.ts_parser_parse_wasm).apply(null,arguments)},_ts_language_type_is_named_wasm=Module._ts_language_type_is_named_wasm=function(){return(_ts_language_type_is_named_wasm=Module._ts_language_type_is_named_wasm=Module.asm.ts_language_type_is_named_wasm).apply(null,arguments)},_ts_language_type_is_visible_wasm=Module._ts_language_type_is_visible_wasm=function(){return(_ts_language_type_is_visible_wasm=Module._ts_language_type_is_visible_wasm=Module.asm.ts_language_type_is_visible_wasm).apply(null,arguments)},_ts_tree_root_node_wasm=Module._ts_tree_root_node_wasm=function(){return(_ts_tree_root_node_wasm=Module._ts_tree_root_node_wasm=Module.asm.ts_tree_root_node_wasm).apply(null,arguments)},_ts_tree_edit_wasm=Module._ts_tree_edit_wasm=function(){return(_ts_tree_edit_wasm=Module._ts_tree_edit_wasm=Module.asm.ts_tree_edit_wasm).apply(null,arguments)},_ts_tree_get_changed_ranges_wasm=Module._ts_tree_get_changed_ranges_wasm=function(){return(_ts_tree_get_changed_ranges_wasm=Module._ts_tree_get_changed_ranges_wasm=Module.asm.ts_tree_get_changed_ranges_wasm).apply(null,arguments)},_ts_tree_cursor_new_wasm=Module._ts_tree_cursor_new_wasm=function(){return(_ts_tree_cursor_new_wasm=Module._ts_tree_cursor_new_wasm=Module.asm.ts_tree_cursor_new_wasm).apply(null,arguments)},_ts_tree_cursor_delete_wasm=Module._ts_tree_cursor_delete_wasm=function(){return(_ts_tree_cursor_delete_wasm=Module._ts_tree_cursor_delete_wasm=Module.asm.ts_tree_cursor_delete_wasm).apply(null,arguments)},_ts_tree_cursor_reset_wasm=Module._ts_tree_cursor_reset_wasm=function(){return(_ts_tree_cursor_reset_wasm=Module._ts_tree_cursor_reset_wasm=Module.asm.ts_tree_cursor_reset_wasm).apply(null,arguments)},_ts_tree_cursor_goto_first_child_wasm=Module._ts_tree_cursor_goto_first_child_wasm=function(){return(_ts_tree_cursor_goto_first_child_wasm=Module._ts_tree_cursor_goto_first_child_wasm=Module.asm.ts_tree_cursor_goto_first_child_wasm).apply(null,arguments)},_ts_tree_cursor_goto_next_sibling_wasm=Module._ts_tree_cursor_goto_next_sibling_wasm=function(){return(_ts_tree_cursor_goto_next_sibling_wasm=Module._ts_tree_cursor_goto_next_sibling_wasm=Module.asm.ts_tree_cursor_goto_next_sibling_wasm).apply(null,arguments)},_ts_tree_cursor_goto_parent_wasm=Module._ts_tree_cursor_goto_parent_wasm=function(){return(_ts_tree_cursor_goto_parent_wasm=Module._ts_tree_cursor_goto_parent_wasm=Module.asm.ts_tree_cursor_goto_parent_wasm).apply(null,arguments)},_ts_tree_cursor_current_node_type_id_wasm=Module._ts_tree_cursor_current_node_type_id_wasm=function(){return(_ts_tree_cursor_current_node_type_id_wasm=Module._ts_tree_cursor_current_node_type_id_wasm=Module.asm.ts_tree_cursor_current_node_type_id_wasm).apply(null,arguments)},_ts_tree_cursor_current_node_is_named_wasm=Module._ts_tree_cursor_current_node_is_named_wasm=function(){return(_ts_tree_cursor_current_node_is_named_wasm=Module._ts_tree_cursor_current_node_is_named_wasm=Module.asm.ts_tree_cursor_current_node_is_named_wasm).apply(null,arguments)},_ts_tree_cursor_current_node_is_missing_wasm=Module._ts_tree_cursor_current_node_is_missing_wasm=function(){return(_ts_tree_cursor_current_node_is_missing_wasm=Module._ts_tree_cursor_current_node_is_missing_wasm=Module.asm.ts_tree_cursor_current_node_is_missing_wasm).apply(null,arguments)},_ts_tree_cursor_current_node_id_wasm=Module._ts_tree_cursor_current_node_id_wasm=function(){return(_ts_tree_cursor_current_node_id_wasm=Module._ts_tree_cursor_current_node_id_wasm=Module.asm.ts_tree_cursor_current_node_id_wasm).apply(null,arguments)},_ts_tree_cursor_start_position_wasm=Module._ts_tree_cursor_start_position_wasm=function(){return(_ts_tree_cursor_start_position_wasm=Module._ts_tree_cursor_start_position_wasm=Module.asm.ts_tree_cursor_start_position_wasm).apply(null,arguments)},_ts_tree_cursor_end_position_wasm=Module._ts_tree_cursor_end_position_wasm=function(){return(_ts_tree_cursor_end_position_wasm=Module._ts_tree_cursor_end_position_wasm=Module.asm.ts_tree_cursor_end_position_wasm).apply(null,arguments)},_ts_tree_cursor_start_index_wasm=Module._ts_tree_cursor_start_index_wasm=function(){return(_ts_tree_cursor_start_index_wasm=Module._ts_tree_cursor_start_index_wasm=Module.asm.ts_tree_cursor_start_index_wasm).apply(null,arguments)},_ts_tree_cursor_end_index_wasm=Module._ts_tree_cursor_end_index_wasm=function(){return(_ts_tree_cursor_end_index_wasm=Module._ts_tree_cursor_end_index_wasm=Module.asm.ts_tree_cursor_end_index_wasm).apply(null,arguments)},_ts_tree_cursor_current_field_id_wasm=Module._ts_tree_cursor_current_field_id_wasm=function(){return(_ts_tree_cursor_current_field_id_wasm=Module._ts_tree_cursor_current_field_id_wasm=Module.asm.ts_tree_cursor_current_field_id_wasm).apply(null,arguments)},_ts_tree_cursor_current_node_wasm=Module._ts_tree_cursor_current_node_wasm=function(){return(_ts_tree_cursor_current_node_wasm=Module._ts_tree_cursor_current_node_wasm=Module.asm.ts_tree_cursor_current_node_wasm).apply(null,arguments)},_ts_node_symbol_wasm=Module._ts_node_symbol_wasm=function(){return(_ts_node_symbol_wasm=Module._ts_node_symbol_wasm=Module.asm.ts_node_symbol_wasm).apply(null,arguments)},_ts_node_child_count_wasm=Module._ts_node_child_count_wasm=function(){return(_ts_node_child_count_wasm=Module._ts_node_child_count_wasm=Module.asm.ts_node_child_count_wasm).apply(null,arguments)},_ts_node_named_child_count_wasm=Module._ts_node_named_child_count_wasm=function(){return(_ts_node_named_child_count_wasm=Module._ts_node_named_child_count_wasm=Module.asm.ts_node_named_child_count_wasm).apply(null,arguments)},_ts_node_child_wasm=Module._ts_node_child_wasm=function(){return(_ts_node_child_wasm=Module._ts_node_child_wasm=Module.asm.ts_node_child_wasm).apply(null,arguments)},_ts_node_named_child_wasm=Module._ts_node_named_child_wasm=function(){return(_ts_node_named_child_wasm=Module._ts_node_named_child_wasm=Module.asm.ts_node_named_child_wasm).apply(null,arguments)},_ts_node_child_by_field_id_wasm=Module._ts_node_child_by_field_id_wasm=function(){return(_ts_node_child_by_field_id_wasm=Module._ts_node_child_by_field_id_wasm=Module.asm.ts_node_child_by_field_id_wasm).apply(null,arguments)},_ts_node_next_sibling_wasm=Module._ts_node_next_sibling_wasm=function(){return(_ts_node_next_sibling_wasm=Module._ts_node_next_sibling_wasm=Module.asm.ts_node_next_sibling_wasm).apply(null,arguments)},_ts_node_prev_sibling_wasm=Module._ts_node_prev_sibling_wasm=function(){return(_ts_node_prev_sibling_wasm=Module._ts_node_prev_sibling_wasm=Module.asm.ts_node_prev_sibling_wasm).apply(null,arguments)},_ts_node_next_named_sibling_wasm=Module._ts_node_next_named_sibling_wasm=function(){return(_ts_node_next_named_sibling_wasm=Module._ts_node_next_named_sibling_wasm=Module.asm.ts_node_next_named_sibling_wasm).apply(null,arguments)},_ts_node_prev_named_sibling_wasm=Module._ts_node_prev_named_sibling_wasm=function(){return(_ts_node_prev_named_sibling_wasm=Module._ts_node_prev_named_sibling_wasm=Module.asm.ts_node_prev_named_sibling_wasm).apply(null,arguments)},_ts_node_parent_wasm=Module._ts_node_parent_wasm=function(){return(_ts_node_parent_wasm=Module._ts_node_parent_wasm=Module.asm.ts_node_parent_wasm).apply(null,arguments)},_ts_node_descendant_for_index_wasm=Module._ts_node_descendant_for_index_wasm=function(){return(_ts_node_descendant_for_index_wasm=Module._ts_node_descendant_for_index_wasm=Module.asm.ts_node_descendant_for_index_wasm).apply(null,arguments)},_ts_node_named_descendant_for_index_wasm=Module._ts_node_named_descendant_for_index_wasm=function(){return(_ts_node_named_descendant_for_index_wasm=Module._ts_node_named_descendant_for_index_wasm=Module.asm.ts_node_named_descendant_for_index_wasm).apply(null,arguments)},_ts_node_descendant_for_position_wasm=Module._ts_node_descendant_for_position_wasm=function(){return(_ts_node_descendant_for_position_wasm=Module._ts_node_descendant_for_position_wasm=Module.asm.ts_node_descendant_for_position_wasm).apply(null,arguments)},_ts_node_named_descendant_for_position_wasm=Module._ts_node_named_descendant_for_position_wasm=function(){return(_ts_node_named_descendant_for_position_wasm=Module._ts_node_named_descendant_for_position_wasm=Module.asm.ts_node_named_descendant_for_position_wasm).apply(null,arguments)},_ts_node_start_point_wasm=Module._ts_node_start_point_wasm=function(){return(_ts_node_start_point_wasm=Module._ts_node_start_point_wasm=Module.asm.ts_node_start_point_wasm).apply(null,arguments)},_ts_node_end_point_wasm=Module._ts_node_end_point_wasm=function(){return(_ts_node_end_point_wasm=Module._ts_node_end_point_wasm=Module.asm.ts_node_end_point_wasm).apply(null,arguments)},_ts_node_start_index_wasm=Module._ts_node_start_index_wasm=function(){return(_ts_node_start_index_wasm=Module._ts_node_start_index_wasm=Module.asm.ts_node_start_index_wasm).apply(null,arguments)},_ts_node_end_index_wasm=Module._ts_node_end_index_wasm=function(){return(_ts_node_end_index_wasm=Module._ts_node_end_index_wasm=Module.asm.ts_node_end_index_wasm).apply(null,arguments)},_ts_node_to_string_wasm=Module._ts_node_to_string_wasm=function(){return(_ts_node_to_string_wasm=Module._ts_node_to_string_wasm=Module.asm.ts_node_to_string_wasm).apply(null,arguments)},_ts_node_children_wasm=Module._ts_node_children_wasm=function(){return(_ts_node_children_wasm=Module._ts_node_children_wasm=Module.asm.ts_node_children_wasm).apply(null,arguments)},_ts_node_named_children_wasm=Module._ts_node_named_children_wasm=function(){return(_ts_node_named_children_wasm=Module._ts_node_named_children_wasm=Module.asm.ts_node_named_children_wasm).apply(null,arguments)},_ts_node_descendants_of_type_wasm=Module._ts_node_descendants_of_type_wasm=function(){return(_ts_node_descendants_of_type_wasm=Module._ts_node_descendants_of_type_wasm=Module.asm.ts_node_descendants_of_type_wasm).apply(null,arguments)},_ts_node_is_named_wasm=Module._ts_node_is_named_wasm=function(){return(_ts_node_is_named_wasm=Module._ts_node_is_named_wasm=Module.asm.ts_node_is_named_wasm).apply(null,arguments)},_ts_node_has_changes_wasm=Module._ts_node_has_changes_wasm=function(){return(_ts_node_has_changes_wasm=Module._ts_node_has_changes_wasm=Module.asm.ts_node_has_changes_wasm).apply(null,arguments)},_ts_node_has_error_wasm=Module._ts_node_has_error_wasm=function(){return(_ts_node_has_error_wasm=Module._ts_node_has_error_wasm=Module.asm.ts_node_has_error_wasm).apply(null,arguments)},_ts_node_is_missing_wasm=Module._ts_node_is_missing_wasm=function(){return(_ts_node_is_missing_wasm=Module._ts_node_is_missing_wasm=Module.asm.ts_node_is_missing_wasm).apply(null,arguments)},_ts_query_matches_wasm=Module._ts_query_matches_wasm=function(){return(_ts_query_matches_wasm=Module._ts_query_matches_wasm=Module.asm.ts_query_matches_wasm).apply(null,arguments)},_ts_query_captures_wasm=Module._ts_query_captures_wasm=function(){return(_ts_query_captures_wasm=Module._ts_query_captures_wasm=Module.asm.ts_query_captures_wasm).apply(null,arguments)},___cxa_atexit=Module.___cxa_atexit=function(){return(___cxa_atexit=Module.___cxa_atexit=Module.asm.__cxa_atexit).apply(null,arguments)},_iswdigit=Module._iswdigit=function(){return(_iswdigit=Module._iswdigit=Module.asm.iswdigit).apply(null,arguments)},_iswalpha=Module._iswalpha=function(){return(_iswalpha=Module._iswalpha=Module.asm.iswalpha).apply(null,arguments)},_iswlower=Module._iswlower=function(){return(_iswlower=Module._iswlower=Module.asm.iswlower).apply(null,arguments)},_memchr=Module._memchr=function(){return(_memchr=Module._memchr=Module.asm.memchr).apply(null,arguments)},_strlen=Module._strlen=function(){return(_strlen=Module._strlen=Module.asm.strlen).apply(null,arguments)},_towupper=Module._towupper=function(){return(_towupper=Module._towupper=Module.asm.towupper).apply(null,arguments)},_setThrew=Module._setThrew=function(){return(_setThrew=Module._setThrew=Module.asm.setThrew).apply(null,arguments)},stackSave=Module.stackSave=function(){return(stackSave=Module.stackSave=Module.asm.stackSave).apply(null,arguments)},stackRestore=Module.stackRestore=function(){return(stackRestore=Module.stackRestore=Module.asm.stackRestore).apply(null,arguments)},stackAlloc=Module.stackAlloc=function(){return(stackAlloc=Module.stackAlloc=Module.asm.stackAlloc).apply(null,arguments)},__Znwm=Module.__Znwm=function(){return(__Znwm=Module.__Znwm=Module.asm._Znwm).apply(null,arguments)},__ZdlPv=Module.__ZdlPv=function(){return(__ZdlPv=Module.__ZdlPv=Module.asm._ZdlPv).apply(null,arguments)},__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEED2Ev=Module.__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEED2Ev=function(){return(__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEED2Ev=Module.__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEED2Ev=Module.asm._ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEED2Ev).apply(null,arguments)},__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE9__grow_byEmmmmmm=Module.__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE9__grow_byEmmmmmm=function(){return(__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE9__grow_byEmmmmmm=Module.__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE9__grow_byEmmmmmm=Module.asm._ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE9__grow_byEmmmmmm).apply(null,arguments)},__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE6__initEPKcm=Module.__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE6__initEPKcm=function(){return(__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE6__initEPKcm=Module.__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE6__initEPKcm=Module.asm._ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE6__initEPKcm).apply(null,arguments)},__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE7reserveEm=Module.__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE7reserveEm=function(){return(__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE7reserveEm=Module.__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE7reserveEm=Module.asm._ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE7reserveEm).apply(null,arguments)},__ZNKSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE4copyEPcmm=Module.__ZNKSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE4copyEPcmm=function(){return(__ZNKSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE4copyEPcmm=Module.__ZNKSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE4copyEPcmm=Module.asm._ZNKSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE4copyEPcmm).apply(null,arguments)},__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE9push_backEc=Module.__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE9push_backEc=function(){return(__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE9push_backEc=Module.__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE9push_backEc=Module.asm._ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE9push_backEc).apply(null,arguments)},__ZNSt3__212basic_stringIwNS_11char_traitsIwEENS_9allocatorIwEEED2Ev=Module.__ZNSt3__212basic_stringIwNS_11char_traitsIwEENS_9allocatorIwEEED2Ev=function(){return(__ZNSt3__212basic_stringIwNS_11char_traitsIwEENS_9allocatorIwEEED2Ev=Module.__ZNSt3__212basic_stringIwNS_11char_traitsIwEENS_9allocatorIwEEED2Ev=Module.asm._ZNSt3__212basic_stringIwNS_11char_traitsIwEENS_9allocatorIwEEED2Ev).apply(null,arguments)},__ZNSt3__212basic_stringIwNS_11char_traitsIwEENS_9allocatorIwEEE9push_backEw=Module.__ZNSt3__212basic_stringIwNS_11char_traitsIwEENS_9allocatorIwEEE9push_backEw=function(){return(__ZNSt3__212basic_stringIwNS_11char_traitsIwEENS_9allocatorIwEEE9push_backEw=Module.__ZNSt3__212basic_stringIwNS_11char_traitsIwEENS_9allocatorIwEEE9push_backEw=Module.asm._ZNSt3__212basic_stringIwNS_11char_traitsIwEENS_9allocatorIwEEE9push_backEw).apply(null,arguments)},__ZNSt3__212basic_stringIwNS_11char_traitsIwEENS_9allocatorIwEEE6resizeEmw=Module.__ZNSt3__212basic_stringIwNS_11char_traitsIwEENS_9allocatorIwEEE6resizeEmw=function(){return(__ZNSt3__212basic_stringIwNS_11char_traitsIwEENS_9allocatorIwEEE6resizeEmw=Module.__ZNSt3__212basic_stringIwNS_11char_traitsIwEENS_9allocatorIwEEE6resizeEmw=Module.asm._ZNSt3__212basic_stringIwNS_11char_traitsIwEENS_9allocatorIwEEE6resizeEmw).apply(null,arguments)},dynCall_jiji=Module.dynCall_jiji=function(){return(dynCall_jiji=Module.dynCall_jiji=Module.asm.dynCall_jiji).apply(null,arguments)},_orig$ts_parser_timeout_micros=Module._orig$ts_parser_timeout_micros=function(){return(_orig$ts_parser_timeout_micros=Module._orig$ts_parser_timeout_micros=Module.asm.orig$ts_parser_timeout_micros).apply(null,arguments)},_orig$ts_parser_set_timeout_micros=Module._orig$ts_parser_set_timeout_micros=function(){return(_orig$ts_parser_set_timeout_micros=Module._orig$ts_parser_set_timeout_micros=Module.asm.orig$ts_parser_set_timeout_micros).apply(null,arguments)},calledRun;function callMain(e){var t=Module._main;if(t){(e=e||[]).unshift(thisProgram);var r=e.length,n=stackAlloc(4*(r+1)),i=n>>2;e.forEach(a=>{HEAP32[i++]=allocateUTF8OnStack(a)}),HEAP32[i]=0;try{var s=t(r,n);return exitJS(s,!0),s}catch(a){return handleException(a)}}}o(callMain,"callMain"),Module.AsciiToString=AsciiToString,Module.stringToUTF16=stringToUTF16,dependenciesFulfilled=o(function e(){calledRun||run(),calledRun||(dependenciesFulfilled=e)},"e");var dylibsLoaded=!1;function run(e){function t(){calledRun||(calledRun=!0,Module.calledRun=!0,ABORT||(initRuntime(),preMain(),Module.onRuntimeInitialized&&Module.onRuntimeInitialized(),shouldRunNow&&callMain(e),postRun()))}o(t,"t"),e=e||arguments_,runDependencies>0||!dylibsLoaded&&(preloadDylibs(),dylibsLoaded=!0,runDependencies>0)||(preRun(),runDependencies>0||(Module.setStatus?(Module.setStatus("Running..."),setTimeout(function(){setTimeout(function(){Module.setStatus("")},1),t()},1)):t()))}if(o(run,"run"),Module.preInit)for(typeof Module.preInit=="function"&&(Module.preInit=[Module.preInit]);Module.preInit.length>0;)Module.preInit.pop()();var shouldRunNow=!0;Module.noInitialRun&&(shouldRunNow=!1),run();let C=Module,INTERNAL={},SIZE_OF_INT=4,SIZE_OF_NODE=5*SIZE_OF_INT,SIZE_OF_POINT=2*SIZE_OF_INT,SIZE_OF_RANGE=2*SIZE_OF_INT+2*SIZE_OF_POINT,ZERO_POINT={row:0,column:0},QUERY_WORD_REGEX=/[\w-.]*/g,PREDICATE_STEP_TYPE_CAPTURE=1,PREDICATE_STEP_TYPE_STRING=2,LANGUAGE_FUNCTION_REGEX=/^_?tree_sitter_\w+/;var VERSION,MIN_COMPATIBLE_VERSION,TRANSFER_BUFFER,currentParseCallback,currentLogCallback;class ParserImpl{static{o(this,"ParserImpl")}static init(){TRANSFER_BUFFER=C._ts_init(),VERSION=getValue(TRANSFER_BUFFER,"i32"),MIN_COMPATIBLE_VERSION=getValue(TRANSFER_BUFFER+SIZE_OF_INT,"i32")}initialize(){C._ts_parser_new_wasm(),this[0]=getValue(TRANSFER_BUFFER,"i32"),this[1]=getValue(TRANSFER_BUFFER+SIZE_OF_INT,"i32")}delete(){C._ts_parser_delete(this[0]),C._free(this[1]),this[0]=0,this[1]=0}setLanguage(t){let r;if(t){if(t.constructor!==Language)throw new Error("Argument must be a Language");{r=t[0];let n=C._ts_language_version(r);if(n<MIN_COMPATIBLE_VERSION||VERSION<n)throw new Error(`Incompatible language version ${n}. Compatibility range ${MIN_COMPATIBLE_VERSION} through ${VERSION}.`)}}else r=0,t=null;return this.language=t,C._ts_parser_set_language(this[0],r),this}getLanguage(){return this.language}parse(t,r,n){if(typeof t=="string")currentParseCallback=o((c,f,u)=>t.slice(c,u),"currentParseCallback");else{if(typeof t!="function")throw new Error("Argument must be a string or a function");currentParseCallback=t}this.logCallback?(currentLogCallback=this.logCallback,C._ts_parser_enable_logger_wasm(this[0],1)):(currentLogCallback=null,C._ts_parser_enable_logger_wasm(this[0],0));let i=0,s=0;if(n&&n.includedRanges){i=n.includedRanges.length,s=C._calloc(i,SIZE_OF_RANGE);let c=s;for(let f=0;f<i;f++)marshalRange(c,n.includedRanges[f]),c+=SIZE_OF_RANGE}let a=C._ts_parser_parse_wasm(this[0],this[1],r?r[0]:0,s,i);if(!a)throw currentParseCallback=null,currentLogCallback=null,new Error("Parsing failed");let l=new Tree(INTERNAL,a,this.language,currentParseCallback);return currentParseCallback=null,currentLogCallback=null,l}reset(){C._ts_parser_reset(this[0])}setTimeoutMicros(t){C._ts_parser_set_timeout_micros(this[0],t)}getTimeoutMicros(){return C._ts_parser_timeout_micros(this[0])}setLogger(t){if(t){if(typeof t!="function")throw new Error("Logger callback must be a function")}else t=null;return this.logCallback=t,this}getLogger(){return this.logCallback}}class Tree{static{o(this,"Tree")}constructor(t,r,n,i){assertInternal(t),this[0]=r,this.language=n,this.textCallback=i}copy(){let t=C._ts_tree_copy(this[0]);return new Tree(INTERNAL,t,this.language,this.textCallback)}delete(){C._ts_tree_delete(this[0]),this[0]=0}edit(t){marshalEdit(t),C._ts_tree_edit_wasm(this[0])}get rootNode(){return C._ts_tree_root_node_wasm(this[0]),unmarshalNode(this)}getLanguage(){return this.language}walk(){return this.rootNode.walk()}getChangedRanges(t){if(t.constructor!==Tree)throw new TypeError("Argument must be a Tree");C._ts_tree_get_changed_ranges_wasm(this[0],t[0]);let r=getValue(TRANSFER_BUFFER,"i32"),n=getValue(TRANSFER_BUFFER+SIZE_OF_INT,"i32"),i=new Array(r);if(r>0){let s=n;for(let a=0;a<r;a++)i[a]=unmarshalRange(s),s+=SIZE_OF_RANGE;C._free(n)}return i}}class Node{static{o(this,"Node")}constructor(t,r){assertInternal(t),this.tree=r}get typeId(){return marshalNode(this),C._ts_node_symbol_wasm(this.tree[0])}get type(){return this.tree.language.types[this.typeId]||"ERROR"}get endPosition(){return marshalNode(this),C._ts_node_end_point_wasm(this.tree[0]),unmarshalPoint(TRANSFER_BUFFER)}get endIndex(){return marshalNode(this),C._ts_node_end_index_wasm(this.tree[0])}get text(){return getText(this.tree,this.startIndex,this.endIndex)}isNamed(){return marshalNode(this),C._ts_node_is_named_wasm(this.tree[0])===1}hasError(){return marshalNode(this),C._ts_node_has_error_wasm(this.tree[0])===1}hasChanges(){return marshalNode(this),C._ts_node_has_changes_wasm(this.tree[0])===1}isMissing(){return marshalNode(this),C._ts_node_is_missing_wasm(this.tree[0])===1}equals(t){return this.id===t.id}child(t){return marshalNode(this),C._ts_node_child_wasm(this.tree[0],t),unmarshalNode(this.tree)}namedChild(t){return marshalNode(this),C._ts_node_named_child_wasm(this.tree[0],t),unmarshalNode(this.tree)}childForFieldId(t){return marshalNode(this),C._ts_node_child_by_field_id_wasm(this.tree[0],t),unmarshalNode(this.tree)}childForFieldName(t){let r=this.tree.language.fields.indexOf(t);if(r!==-1)return this.childForFieldId(r)}get childCount(){return marshalNode(this),C._ts_node_child_count_wasm(this.tree[0])}get namedChildCount(){return marshalNode(this),C._ts_node_named_child_count_wasm(this.tree[0])}get firstChild(){return this.child(0)}get firstNamedChild(){return this.namedChild(0)}get lastChild(){return this.child(this.childCount-1)}get lastNamedChild(){return this.namedChild(this.namedChildCount-1)}get children(){if(!this._children){marshalNode(this),C._ts_node_children_wasm(this.tree[0]);let t=getValue(TRANSFER_BUFFER,"i32"),r=getValue(TRANSFER_BUFFER+SIZE_OF_INT,"i32");if(this._children=new Array(t),t>0){let n=r;for(let i=0;i<t;i++)this._children[i]=unmarshalNode(this.tree,n),n+=SIZE_OF_NODE;C._free(r)}}return this._children}get namedChildren(){if(!this._namedChildren){marshalNode(this),C._ts_node_named_children_wasm(this.tree[0]);let t=getValue(TRANSFER_BUFFER,"i32"),r=getValue(TRANSFER_BUFFER+SIZE_OF_INT,"i32");if(this._namedChildren=new Array(t),t>0){let n=r;for(let i=0;i<t;i++)this._namedChildren[i]=unmarshalNode(this.tree,n),n+=SIZE_OF_NODE;C._free(r)}}return this._namedChildren}descendantsOfType(t,r,n){Array.isArray(t)||(t=[t]),r||(r=ZERO_POINT),n||(n=ZERO_POINT);let i=[],s=this.tree.language.types;for(let u=0,d=s.length;u<d;u++)t.includes(s[u])&&i.push(u);let a=C._malloc(SIZE_OF_INT*i.length);for(let u=0,d=i.length;u<d;u++)setValue(a+u*SIZE_OF_INT,i[u],"i32");marshalNode(this),C._ts_node_descendants_of_type_wasm(this.tree[0],a,i.length,r.row,r.column,n.row,n.column);let l=getValue(TRANSFER_BUFFER,"i32"),c=getValue(TRANSFER_BUFFER+SIZE_OF_INT,"i32"),f=new Array(l);if(l>0){let u=c;for(let d=0;d<l;d++)f[d]=unmarshalNode(this.tree,u),u+=SIZE_OF_NODE}return C._free(c),C._free(a),f}get nextSibling(){return marshalNode(this),C._ts_node_next_sibling_wasm(this.tree[0]),unmarshalNode(this.tree)}get previousSibling(){return marshalNode(this),C._ts_node_prev_sibling_wasm(this.tree[0]),unmarshalNode(this.tree)}get nextNamedSibling(){return marshalNode(this),C._ts_node_next_named_sibling_wasm(this.tree[0]),unmarshalNode(this.tree)}get previousNamedSibling(){return marshalNode(this),C._ts_node_prev_named_sibling_wasm(this.tree[0]),unmarshalNode(this.tree)}get parent(){return marshalNode(this),C._ts_node_parent_wasm(this.tree[0]),unmarshalNode(this.tree)}descendantForIndex(t,r=t){if(typeof t!="number"||typeof r!="number")throw new Error("Arguments must be numbers");marshalNode(this);let n=TRANSFER_BUFFER+SIZE_OF_NODE;return setValue(n,t,"i32"),setValue(n+SIZE_OF_INT,r,"i32"),C._ts_node_descendant_for_index_wasm(this.tree[0]),unmarshalNode(this.tree)}namedDescendantForIndex(t,r=t){if(typeof t!="number"||typeof r!="number")throw new Error("Arguments must be numbers");marshalNode(this);let n=TRANSFER_BUFFER+SIZE_OF_NODE;return setValue(n,t,"i32"),setValue(n+SIZE_OF_INT,r,"i32"),C._ts_node_named_descendant_for_index_wasm(this.tree[0]),unmarshalNode(this.tree)}descendantForPosition(t,r=t){if(!isPoint(t)||!isPoint(r))throw new Error("Arguments must be {row, column} objects");marshalNode(this);let n=TRANSFER_BUFFER+SIZE_OF_NODE;return marshalPoint(n,t),marshalPoint(n+SIZE_OF_POINT,r),C._ts_node_descendant_for_position_wasm(this.tree[0]),unmarshalNode(this.tree)}namedDescendantForPosition(t,r=t){if(!isPoint(t)||!isPoint(r))throw new Error("Arguments must be {row, column} objects");marshalNode(this);let n=TRANSFER_BUFFER+SIZE_OF_NODE;return marshalPoint(n,t),marshalPoint(n+SIZE_OF_POINT,r),C._ts_node_named_descendant_for_position_wasm(this.tree[0]),unmarshalNode(this.tree)}walk(){return marshalNode(this),C._ts_tree_cursor_new_wasm(this.tree[0]),new TreeCursor(INTERNAL,this.tree)}toString(){marshalNode(this);let t=C._ts_node_to_string_wasm(this.tree[0]),r=AsciiToString(t);return C._free(t),r}}class TreeCursor{static{o(this,"TreeCursor")}constructor(t,r){assertInternal(t),this.tree=r,unmarshalTreeCursor(this)}delete(){marshalTreeCursor(this),C._ts_tree_cursor_delete_wasm(this.tree[0]),this[0]=this[1]=this[2]=0}reset(t){marshalNode(t),marshalTreeCursor(this,TRANSFER_BUFFER+SIZE_OF_NODE),C._ts_tree_cursor_reset_wasm(this.tree[0]),unmarshalTreeCursor(this)}get nodeType(){return this.tree.language.types[this.nodeTypeId]||"ERROR"}get nodeTypeId(){return marshalTreeCursor(this),C._ts_tree_cursor_current_node_type_id_wasm(this.tree[0])}get nodeId(){return marshalTreeCursor(this),C._ts_tree_cursor_current_node_id_wasm(this.tree[0])}get nodeIsNamed(){return marshalTreeCursor(this),C._ts_tree_cursor_current_node_is_named_wasm(this.tree[0])===1}get nodeIsMissing(){return marshalTreeCursor(this),C._ts_tree_cursor_current_node_is_missing_wasm(this.tree[0])===1}get nodeText(){marshalTreeCursor(this);let t=C._ts_tree_cursor_start_index_wasm(this.tree[0]),r=C._ts_tree_cursor_end_index_wasm(this.tree[0]);return getText(this.tree,t,r)}get startPosition(){return marshalTreeCursor(this),C._ts_tree_cursor_start_position_wasm(this.tree[0]),unmarshalPoint(TRANSFER_BUFFER)}get endPosition(){return marshalTreeCursor(this),C._ts_tree_cursor_end_position_wasm(this.tree[0]),unmarshalPoint(TRANSFER_BUFFER)}get startIndex(){return marshalTreeCursor(this),C._ts_tree_cursor_start_index_wasm(this.tree[0])}get endIndex(){return marshalTreeCursor(this),C._ts_tree_cursor_end_index_wasm(this.tree[0])}currentNode(){return marshalTreeCursor(this),C._ts_tree_cursor_current_node_wasm(this.tree[0]),unmarshalNode(this.tree)}currentFieldId(){return marshalTreeCursor(this),C._ts_tree_cursor_current_field_id_wasm(this.tree[0])}currentFieldName(){return this.tree.language.fields[this.currentFieldId()]}gotoFirstChild(){marshalTreeCursor(this);let t=C._ts_tree_cursor_goto_first_child_wasm(this.tree[0]);return unmarshalTreeCursor(this),t===1}gotoNextSibling(){marshalTreeCursor(this);let t=C._ts_tree_cursor_goto_next_sibling_wasm(this.tree[0]);return unmarshalTreeCursor(this),t===1}gotoParent(){marshalTreeCursor(this);let t=C._ts_tree_cursor_goto_parent_wasm(this.tree[0]);return unmarshalTreeCursor(this),t===1}}class Language{static{o(this,"Language")}constructor(t,r){assertInternal(t),this[0]=r,this.types=new Array(C._ts_language_symbol_count(this[0]));for(let n=0,i=this.types.length;n<i;n++)C._ts_language_symbol_type(this[0],n)<2&&(this.types[n]=UTF8ToString(C._ts_language_symbol_name(this[0],n)));this.fields=new Array(C._ts_language_field_count(this[0])+1);for(let n=0,i=this.fields.length;n<i;n++){let s=C._ts_language_field_name_for_id(this[0],n);this.fields[n]=s!==0?UTF8ToString(s):null}}get version(){return C._ts_language_version(this[0])}get fieldCount(){return this.fields.length-1}fieldIdForName(t){let r=this.fields.indexOf(t);return r!==-1?r:null}fieldNameForId(t){return this.fields[t]||null}idForNodeType(t,r){let n=lengthBytesUTF8(t),i=C._malloc(n+1);stringToUTF8(t,i,n+1);let s=C._ts_language_symbol_for_name(this[0],i,n,r);return C._free(i),s||null}get nodeTypeCount(){return C._ts_language_symbol_count(this[0])}nodeTypeForId(t){let r=C._ts_language_symbol_name(this[0],t);return r?UTF8ToString(r):null}nodeTypeIsNamed(t){return!!C._ts_language_type_is_named_wasm(this[0],t)}nodeTypeIsVisible(t){return!!C._ts_language_type_is_visible_wasm(this[0],t)}query(t){let r=lengthBytesUTF8(t),n=C._malloc(r+1);stringToUTF8(t,n,r+1);let i=C._ts_query_new(this[0],n,r,TRANSFER_BUFFER,TRANSFER_BUFFER+SIZE_OF_INT);if(!i){let h=getValue(TRANSFER_BUFFER+SIZE_OF_INT,"i32"),_=UTF8ToString(n,getValue(TRANSFER_BUFFER,"i32")).length,b=t.substr(_,100).split(`
`)[0],x,y=b.match(QUERY_WORD_REGEX)[0];switch(h){case 2:x=new RangeError(`Bad node name '${y}'`);break;case 3:x=new RangeError(`Bad field name '${y}'`);break;case 4:x=new RangeError(`Bad capture name @${y}`);break;case 5:x=new TypeError(`Bad pattern structure at offset ${_}: '${b}'...`),y="";break;default:x=new SyntaxError(`Bad syntax at offset ${_}: '${b}'...`),y=""}throw x.index=_,x.length=y.length,C._free(n),x}let s=C._ts_query_string_count(i),a=C._ts_query_capture_count(i),l=C._ts_query_pattern_count(i),c=new Array(a),f=new Array(s);for(let h=0;h<a;h++){let _=C._ts_query_capture_name_for_id(i,h,TRANSFER_BUFFER),b=getValue(TRANSFER_BUFFER,"i32");c[h]=UTF8ToString(_,b)}for(let h=0;h<s;h++){let _=C._ts_query_string_value_for_id(i,h,TRANSFER_BUFFER),b=getValue(TRANSFER_BUFFER,"i32");f[h]=UTF8ToString(_,b)}let u=new Array(l),d=new Array(l),p=new Array(l),m=new Array(l),g=new Array(l);for(let h=0;h<l;h++){let _=C._ts_query_predicates_for_pattern(i,h,TRANSFER_BUFFER),b=getValue(TRANSFER_BUFFER,"i32");m[h]=[],g[h]=[];let x=[],y=_;for(let E=0;E<b;E++){let S=getValue(y,"i32");y+=SIZE_OF_INT;let w=getValue(y,"i32");if(y+=SIZE_OF_INT,S===PREDICATE_STEP_TYPE_CAPTURE)x.push({type:"capture",name:c[w]});else if(S===PREDICATE_STEP_TYPE_STRING)x.push({type:"string",value:f[w]});else if(x.length>0){if(x[0].type!=="string")throw new Error("Predicates must begin with a literal value");let z=x[0].value,V=!0;switch(z){case"not-eq?":V=!1;case"eq?":if(x.length!==3)throw new Error("Wrong number of arguments to `#eq?` predicate. Expected 2, got "+(x.length-1));if(x[1].type!=="capture")throw new Error(`First argument of \`#eq?\` predicate must be a capture. Got "${x[1].value}"`);if(x[2].type==="capture"){let P=x[1].name,G=x[2].name;g[h].push(function(A){let I,v;for(let N of A)N.name===P&&(I=N.node),N.name===G&&(v=N.node);return I===void 0||v===void 0||I.text===v.text===V})}else{let P=x[1].name,G=x[2].value;g[h].push(function(A){for(let I of A)if(I.name===P)return I.node.text===G===V;return!0})}break;case"not-match?":V=!1;case"match?":if(x.length!==3)throw new Error(`Wrong number of arguments to \`#match?\` predicate. Expected 2, got ${x.length-1}.`);if(x[1].type!=="capture")throw new Error(`First argument of \`#match?\` predicate must be a capture. Got "${x[1].value}".`);if(x[2].type!=="string")throw new Error(`Second argument of \`#match?\` predicate must be a string. Got @${x[2].value}.`);let W=x[1].name,Y=new RegExp(x[2].value);g[h].push(function(P){for(let G of P)if(G.name===W)return Y.test(G.node.text)===V;return!0});break;case"set!":if(x.length<2||x.length>3)throw new Error(`Wrong number of arguments to \`#set!\` predicate. Expected 1 or 2. Got ${x.length-1}.`);if(x.some(P=>P.type!=="string"))throw new Error('Arguments to `#set!` predicate must be a strings.".');u[h]||(u[h]={}),u[h][x[1].value]=x[2]?x[2].value:null;break;case"is?":case"is-not?":if(x.length<2||x.length>3)throw new Error(`Wrong number of arguments to \`#${z}\` predicate. Expected 1 or 2. Got ${x.length-1}.`);if(x.some(P=>P.type!=="string"))throw new Error(`Arguments to \`#${z}\` predicate must be a strings.".`);let R=z==="is?"?d:p;R[h]||(R[h]={}),R[h][x[1].value]=x[2]?x[2].value:null;break;default:m[h].push({operator:z,operands:x.slice(1)})}x.length=0}}Object.freeze(u[h]),Object.freeze(d[h]),Object.freeze(p[h])}return C._free(n),new Query(INTERNAL,i,c,g,m,Object.freeze(u),Object.freeze(d),Object.freeze(p))}static load(t){let r;if(t instanceof Uint8Array)r=Promise.resolve(t);else{let i=t;if(typeof process<"u"&&process.versions&&process.versions.node){let s=require("fs");r=Promise.resolve(s.readFileSync(i))}else r=fetch(i).then(s=>s.arrayBuffer().then(a=>{if(s.ok)return new Uint8Array(a);{let l=new TextDecoder("utf-8").decode(a);throw new Error(`Language.load failed with status ${s.status}.

${l}`)}}))}let n=typeof loadSideModule=="function"?loadSideModule:loadWebAssemblyModule;return r.then(i=>n(i,{loadAsync:!0})).then(i=>{let s=Object.keys(i),a=s.find(c=>LANGUAGE_FUNCTION_REGEX.test(c)&&!c.includes("external_scanner_"));a||console.log(`Couldn't find language function in WASM file. Symbols:
${JSON.stringify(s,null,2)}`);let l=i[a]();return new Language(INTERNAL,l)})}}class Query{static{o(this,"Query")}constructor(t,r,n,i,s,a,l,c){assertInternal(t),this[0]=r,this.captureNames=n,this.textPredicates=i,this.predicates=s,this.setProperties=a,this.assertedProperties=l,this.refutedProperties=c,this.exceededMatchLimit=!1}delete(){C._ts_query_delete(this[0]),this[0]=0}matches(t,r,n,i){r||(r=ZERO_POINT),n||(n=ZERO_POINT),i||(i={});let s=i.matchLimit;if(s===void 0)s=0;else if(typeof s!="number")throw new Error("Arguments must be numbers");marshalNode(t),C._ts_query_matches_wasm(this[0],t.tree[0],r.row,r.column,n.row,n.column,s);let a=getValue(TRANSFER_BUFFER,"i32"),l=getValue(TRANSFER_BUFFER+SIZE_OF_INT,"i32"),c=getValue(TRANSFER_BUFFER+2*SIZE_OF_INT,"i32"),f=new Array(a);this.exceededMatchLimit=!!c;let u=0,d=l;for(let p=0;p<a;p++){let m=getValue(d,"i32");d+=SIZE_OF_INT;let g=getValue(d,"i32");d+=SIZE_OF_INT;let h=new Array(g);if(d=unmarshalCaptures(this,t.tree,d,h),this.textPredicates[m].every(_=>_(h))){f[u++]={pattern:m,captures:h};let _=this.setProperties[m];_&&(f[p].setProperties=_);let b=this.assertedProperties[m];b&&(f[p].assertedProperties=b);let x=this.refutedProperties[m];x&&(f[p].refutedProperties=x)}}return f.length=u,C._free(l),f}captures(t,r,n,i){r||(r=ZERO_POINT),n||(n=ZERO_POINT),i||(i={});let s=i.matchLimit;if(s===void 0)s=0;else if(typeof s!="number")throw new Error("Arguments must be numbers");marshalNode(t),C._ts_query_captures_wasm(this[0],t.tree[0],r.row,r.column,n.row,n.column,s);let a=getValue(TRANSFER_BUFFER,"i32"),l=getValue(TRANSFER_BUFFER+SIZE_OF_INT,"i32"),c=getValue(TRANSFER_BUFFER+2*SIZE_OF_INT,"i32"),f=[];this.exceededMatchLimit=!!c;let u=[],d=l;for(let p=0;p<a;p++){let m=getValue(d,"i32");d+=SIZE_OF_INT;let g=getValue(d,"i32");d+=SIZE_OF_INT;let h=getValue(d,"i32");if(d+=SIZE_OF_INT,u.length=g,d=unmarshalCaptures(this,t.tree,d,u),this.textPredicates[m].every(_=>_(u))){let _=u[h],b=this.setProperties[m];b&&(_.setProperties=b);let x=this.assertedProperties[m];x&&(_.assertedProperties=x);let y=this.refutedProperties[m];y&&(_.refutedProperties=y),f.push(_)}}return C._free(l),f}predicatesForPattern(t){return this.predicates[t]}didExceedMatchLimit(){return this.exceededMatchLimit}}function getText(e,t,r){let n=r-t,i=e.textCallback(t,null,r);for(t+=i.length;t<r;){let s=e.textCallback(t,null,r);if(!(s&&s.length>0))break;t+=s.length,i+=s}return t>r&&(i=i.slice(0,n)),i}o(getText,"getText");function unmarshalCaptures(e,t,r,n){for(let i=0,s=n.length;i<s;i++){let a=getValue(r,"i32"),l=unmarshalNode(t,r+=SIZE_OF_INT);r+=SIZE_OF_NODE,n[i]={name:e.captureNames[a],node:l}}return r}o(unmarshalCaptures,"unmarshalCaptures");function assertInternal(e){if(e!==INTERNAL)throw new Error("Illegal constructor")}o(assertInternal,"assertInternal");function isPoint(e){return e&&typeof e.row=="number"&&typeof e.column=="number"}o(isPoint,"isPoint");function marshalNode(e){let t=TRANSFER_BUFFER;setValue(t,e.id,"i32"),t+=SIZE_OF_INT,setValue(t,e.startIndex,"i32"),t+=SIZE_OF_INT,setValue(t,e.startPosition.row,"i32"),t+=SIZE_OF_INT,setValue(t,e.startPosition.column,"i32"),t+=SIZE_OF_INT,setValue(t,e[0],"i32")}o(marshalNode,"marshalNode");function unmarshalNode(e,t=TRANSFER_BUFFER){let r=getValue(t,"i32");if(r===0)return null;let n=getValue(t+=SIZE_OF_INT,"i32"),i=getValue(t+=SIZE_OF_INT,"i32"),s=getValue(t+=SIZE_OF_INT,"i32"),a=getValue(t+=SIZE_OF_INT,"i32"),l=new Node(INTERNAL,e);return l.id=r,l.startIndex=n,l.startPosition={row:i,column:s},l[0]=a,l}o(unmarshalNode,"unmarshalNode");function marshalTreeCursor(e,t=TRANSFER_BUFFER){setValue(t+0*SIZE_OF_INT,e[0],"i32"),setValue(t+1*SIZE_OF_INT,e[1],"i32"),setValue(t+2*SIZE_OF_INT,e[2],"i32")}o(marshalTreeCursor,"marshalTreeCursor");function unmarshalTreeCursor(e){e[0]=getValue(TRANSFER_BUFFER+0*SIZE_OF_INT,"i32"),e[1]=getValue(TRANSFER_BUFFER+1*SIZE_OF_INT,"i32"),e[2]=getValue(TRANSFER_BUFFER+2*SIZE_OF_INT,"i32")}o(unmarshalTreeCursor,"unmarshalTreeCursor");function marshalPoint(e,t){setValue(e,t.row,"i32"),setValue(e+SIZE_OF_INT,t.column,"i32")}o(marshalPoint,"marshalPoint");function unmarshalPoint(e){return{row:getValue(e,"i32"),column:getValue(e+SIZE_OF_INT,"i32")}}o(unmarshalPoint,"unmarshalPoint");function marshalRange(e,t){marshalPoint(e,t.startPosition),marshalPoint(e+=SIZE_OF_POINT,t.endPosition),setValue(e+=SIZE_OF_POINT,t.startIndex,"i32"),setValue(e+=SIZE_OF_INT,t.endIndex,"i32"),e+=SIZE_OF_INT}o(marshalRange,"marshalRange");function unmarshalRange(e){let t={};return t.startPosition=unmarshalPoint(e),e+=SIZE_OF_POINT,t.endPosition=unmarshalPoint(e),e+=SIZE_OF_POINT,t.startIndex=getValue(e,"i32"),e+=SIZE_OF_INT,t.endIndex=getValue(e,"i32"),t}o(unmarshalRange,"unmarshalRange");function marshalEdit(e){let t=TRANSFER_BUFFER;marshalPoint(t,e.startPosition),t+=SIZE_OF_POINT,marshalPoint(t,e.oldEndPosition),t+=SIZE_OF_POINT,marshalPoint(t,e.newEndPosition),t+=SIZE_OF_POINT,setValue(t,e.startIndex,"i32"),t+=SIZE_OF_INT,setValue(t,e.oldEndIndex,"i32"),t+=SIZE_OF_INT,setValue(t,e.newEndIndex,"i32"),t+=SIZE_OF_INT}o(marshalEdit,"marshalEdit");for(let e of Object.getOwnPropertyNames(ParserImpl.prototype))Object.defineProperty(Parser.prototype,e,{value:ParserImpl.prototype[e],enumerable:!1,writable:!1});Parser.Language=Language,Module.onRuntimeInitialized=()=>{ParserImpl.init(),resolveInitPromise()}}))}}return Parser}();typeof exports=="object"&&(module.exports=TreeSitter)});var R1=Q((sCe,Z6)=>{"use strict";var Hf=typeof Reflect=="object"?Reflect:null,$D=Hf&&typeof Hf.apply=="function"?Hf.apply:o(function(t,r,n){return Function.prototype.apply.call(t,r,n)},"ReflectApply"),e2;Hf&&typeof Hf.ownKeys=="function"?e2=Hf.ownKeys:Object.getOwnPropertySymbols?e2=o(function(t){return Object.getOwnPropertyNames(t).concat(Object.getOwnPropertySymbols(t))},"ReflectOwnKeys"):e2=o(function(t){return Object.getOwnPropertyNames(t)},"ReflectOwnKeys");function Kee(e){console&&console.warn&&console.warn(e)}o(Kee,"ProcessEmitWarning");var WD=Number.isNaN||o(function(t){return t!==t},"NumberIsNaN");function br(){br.init.call(this)}o(br,"EventEmitter");Z6.exports=br;Z6.exports.once=Zee;br.EventEmitter=br;br.prototype._events=void 0;br.prototype._eventsCount=0;br.prototype._maxListeners=void 0;var qD=10;function t2(e){if(typeof e!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof e)}o(t2,"checkListener");Object.defineProperty(br,"defaultMaxListeners",{enumerable:!0,get:o(function(){return qD},"get"),set:o(function(e){if(typeof e!="number"||e<0||WD(e))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+e+".");qD=e},"set")});br.init=function(){(this._events===void 0||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0};br.prototype.setMaxListeners=o(function(t){if(typeof t!="number"||t<0||WD(t))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+t+".");return this._maxListeners=t,this},"setMaxListeners");function GD(e){return e._maxListeners===void 0?br.defaultMaxListeners:e._maxListeners}o(GD,"_getMaxListeners");br.prototype.getMaxListeners=o(function(){return GD(this)},"getMaxListeners");br.prototype.emit=o(function(t){for(var r=[],n=1;n<arguments.length;n++)r.push(arguments[n]);var i=t==="error",s=this._events;if(s!==void 0)i=i&&s.error===void 0;else if(!i)return!1;if(i){var a;if(r.length>0&&(a=r[0]),a instanceof Error)throw a;var l=new Error("Unhandled error."+(a?" ("+a.message+")":""));throw l.context=a,l}var c=s[t];if(c===void 0)return!1;if(typeof c=="function")$D(c,this,r);else for(var f=c.length,u=YD(c,f),n=0;n<f;++n)$D(u[n],this,r);return!0},"emit");function zD(e,t,r,n){var i,s,a;if(t2(r),s=e._events,s===void 0?(s=e._events=Object.create(null),e._eventsCount=0):(s.newListener!==void 0&&(e.emit("newListener",t,r.listener?r.listener:r),s=e._events),a=s[t]),a===void 0)a=s[t]=r,++e._eventsCount;else if(typeof a=="function"?a=s[t]=n?[r,a]:[a,r]:n?a.unshift(r):a.push(r),i=GD(e),i>0&&a.length>i&&!a.warned){a.warned=!0;var l=new Error("Possible EventEmitter memory leak detected. "+a.length+" "+String(t)+" listeners added. Use emitter.setMaxListeners() to increase limit");l.name="MaxListenersExceededWarning",l.emitter=e,l.type=t,l.count=a.length,Kee(l)}return e}o(zD,"_addListener");br.prototype.addListener=o(function(t,r){return zD(this,t,r,!1)},"addListener");br.prototype.on=br.prototype.addListener;br.prototype.prependListener=o(function(t,r){return zD(this,t,r,!0)},"prependListener");function Yee(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}o(Yee,"onceWrapper");function HD(e,t,r){var n={fired:!1,wrapFn:void 0,target:e,type:t,listener:r},i=Yee.bind(n);return i.listener=r,n.wrapFn=i,i}o(HD,"_onceWrap");br.prototype.once=o(function(t,r){return t2(r),this.on(t,HD(this,t,r)),this},"once");br.prototype.prependOnceListener=o(function(t,r){return t2(r),this.prependListener(t,HD(this,t,r)),this},"prependOnceListener");br.prototype.removeListener=o(function(t,r){var n,i,s,a,l;if(t2(r),i=this._events,i===void 0)return this;if(n=i[t],n===void 0)return this;if(n===r||n.listener===r)--this._eventsCount===0?this._events=Object.create(null):(delete i[t],i.removeListener&&this.emit("removeListener",t,n.listener||r));else if(typeof n!="function"){for(s=-1,a=n.length-1;a>=0;a--)if(n[a]===r||n[a].listener===r){l=n[a].listener,s=a;break}if(s<0)return this;s===0?n.shift():Xee(n,s),n.length===1&&(i[t]=n[0]),i.removeListener!==void 0&&this.emit("removeListener",t,l||r)}return this},"removeListener");br.prototype.off=br.prototype.removeListener;br.prototype.removeAllListeners=o(function(t){var r,n,i;if(n=this._events,n===void 0)return this;if(n.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):n[t]!==void 0&&(--this._eventsCount===0?this._events=Object.create(null):delete n[t]),this;if(arguments.length===0){var s=Object.keys(n),a;for(i=0;i<s.length;++i)a=s[i],a!=="removeListener"&&this.removeAllListeners(a);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(r=n[t],typeof r=="function")this.removeListener(t,r);else if(r!==void 0)for(i=r.length-1;i>=0;i--)this.removeListener(t,r[i]);return this},"removeAllListeners");function VD(e,t,r){var n=e._events;if(n===void 0)return[];var i=n[t];return i===void 0?[]:typeof i=="function"?r?[i.listener||i]:[i]:r?Jee(i):YD(i,i.length)}o(VD,"_listeners");br.prototype.listeners=o(function(t){return VD(this,t,!0)},"listeners");br.prototype.rawListeners=o(function(t){return VD(this,t,!1)},"rawListeners");br.listenerCount=function(e,t){return typeof e.listenerCount=="function"?e.listenerCount(t):KD.call(e,t)};br.prototype.listenerCount=KD;function KD(e){var t=this._events;if(t!==void 0){var r=t[e];if(typeof r=="function")return 1;if(r!==void 0)return r.length}return 0}o(KD,"listenerCount");br.prototype.eventNames=o(function(){return this._eventsCount>0?e2(this._events):[]},"eventNames");function YD(e,t){for(var r=new Array(t),n=0;n<t;++n)r[n]=e[n];return r}o(YD,"arrayClone");function Xee(e,t){for(;t+1<e.length;t++)e[t]=e[t+1];e.pop()}o(Xee,"spliceOne");function Jee(e){for(var t=new Array(e.length),r=0;r<t.length;++r)t[r]=e[r].listener||e[r];return t}o(Jee,"unwrapListeners");function Zee(e,t){return new Promise(function(r,n){function i(a){e.removeListener(t,s),n(a)}o(i,"errorListener");function s(){typeof e.removeListener=="function"&&e.removeListener("error",i),r([].slice.call(arguments))}o(s,"resolver"),XD(e,t,s,{once:!0}),t!=="error"&&Qee(e,i,{once:!0})})}o(Zee,"once");function Qee(e,t,r){typeof e.on=="function"&&XD(e,"error",t,r)}o(Qee,"addErrorHandlerIfEventEmitter");function XD(e,t,r,n){if(typeof e.on=="function")n.once?e.once(t,r):e.on(t,r);else if(typeof e.addEventListener=="function")e.addEventListener(t,o(function i(s){n.once&&e.removeEventListener(t,i),r(s)},"wrapListener"));else throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof e)}o(XD,"eventTargetAgnosticAddListener")});var Yf=Q(ii=>{"use strict";Object.defineProperty(ii,"__esModule",{value:!0});ii.stringArray=ii.array=ii.func=ii.error=ii.number=ii.string=ii.boolean=void 0;function $te(e){return e===!0||e===!1}o($te,"boolean");ii.boolean=$te;function hR(e){return typeof e=="string"||e instanceof String}o(hR,"string");ii.string=hR;function qte(e){return typeof e=="number"||e instanceof Number}o(qte,"number");ii.number=qte;function Wte(e){return e instanceof Error}o(Wte,"error");ii.error=Wte;function Gte(e){return typeof e=="function"}o(Gte,"func");ii.func=Gte;function xR(e){return Array.isArray(e)}o(xR,"array");ii.array=xR;function zte(e){return xR(e)&&e.every(t=>hR(t))}o(zte,"stringArray");ii.stringArray=zte});var L7=Q(Xe=>{"use strict";Object.defineProperty(Xe,"__esModule",{value:!0});Xe.Message=Xe.NotificationType9=Xe.NotificationType8=Xe.NotificationType7=Xe.NotificationType6=Xe.NotificationType5=Xe.NotificationType4=Xe.NotificationType3=Xe.NotificationType2=Xe.NotificationType1=Xe.NotificationType0=Xe.NotificationType=Xe.RequestType9=Xe.RequestType8=Xe.RequestType7=Xe.RequestType6=Xe.RequestType5=Xe.RequestType4=Xe.RequestType3=Xe.RequestType2=Xe.RequestType1=Xe.RequestType=Xe.RequestType0=Xe.AbstractMessageSignature=Xe.ParameterStructures=Xe.ResponseError=Xe.ErrorCodes=void 0;var zc=Yf(),f7;(function(e){e.ParseError=-32700,e.InvalidRequest=-32600,e.MethodNotFound=-32601,e.InvalidParams=-32602,e.InternalError=-32603,e.jsonrpcReservedErrorRangeStart=-32099,e.serverErrorStart=-32099,e.MessageWriteError=-32099,e.MessageReadError=-32098,e.PendingResponseRejected=-32097,e.ConnectionInactive=-32096,e.ServerNotInitialized=-32002,e.UnknownErrorCode=-32001,e.jsonrpcReservedErrorRangeEnd=-32e3,e.serverErrorEnd=-32e3})(f7||(Xe.ErrorCodes=f7={}));var d7=class e extends Error{static{o(this,"ResponseError")}constructor(t,r,n){super(r),this.code=zc.number(t)?t:f7.UnknownErrorCode,this.data=n,Object.setPrototypeOf(this,e.prototype)}toJson(){let t={code:this.code,message:this.message};return this.data!==void 0&&(t.data=this.data),t}};Xe.ResponseError=d7;var Bi=class e{static{o(this,"ParameterStructures")}constructor(t){this.kind=t}static is(t){return t===e.auto||t===e.byName||t===e.byPosition}toString(){return this.kind}};Xe.ParameterStructures=Bi;Bi.auto=new Bi("auto");Bi.byPosition=new Bi("byPosition");Bi.byName=new Bi("byName");var Nr=class{static{o(this,"AbstractMessageSignature")}constructor(t,r){this.method=t,this.numberOfParams=r}get parameterStructures(){return Bi.auto}};Xe.AbstractMessageSignature=Nr;var m7=class extends Nr{static{o(this,"RequestType0")}constructor(t){super(t,0)}};Xe.RequestType0=m7;var p7=class extends Nr{static{o(this,"RequestType")}constructor(t,r=Bi.auto){super(t,1),this._parameterStructures=r}get parameterStructures(){return this._parameterStructures}};Xe.RequestType=p7;var g7=class extends Nr{static{o(this,"RequestType1")}constructor(t,r=Bi.auto){super(t,1),this._parameterStructures=r}get parameterStructures(){return this._parameterStructures}};Xe.RequestType1=g7;var h7=class extends Nr{static{o(this,"RequestType2")}constructor(t){super(t,2)}};Xe.RequestType2=h7;var x7=class extends Nr{static{o(this,"RequestType3")}constructor(t){super(t,3)}};Xe.RequestType3=x7;var b7=class extends Nr{static{o(this,"RequestType4")}constructor(t){super(t,4)}};Xe.RequestType4=b7;var _7=class extends Nr{static{o(this,"RequestType5")}constructor(t){super(t,5)}};Xe.RequestType5=_7;var y7=class extends Nr{static{o(this,"RequestType6")}constructor(t){super(t,6)}};Xe.RequestType6=y7;var v7=class extends Nr{static{o(this,"RequestType7")}constructor(t){super(t,7)}};Xe.RequestType7=v7;var T7=class extends Nr{static{o(this,"RequestType8")}constructor(t){super(t,8)}};Xe.RequestType8=T7;var I7=class extends Nr{static{o(this,"RequestType9")}constructor(t){super(t,9)}};Xe.RequestType9=I7;var E7=class extends Nr{static{o(this,"NotificationType")}constructor(t,r=Bi.auto){super(t,1),this._parameterStructures=r}get parameterStructures(){return this._parameterStructures}};Xe.NotificationType=E7;var C7=class extends Nr{static{o(this,"NotificationType0")}constructor(t){super(t,0)}};Xe.NotificationType0=C7;var S7=class extends Nr{static{o(this,"NotificationType1")}constructor(t,r=Bi.auto){super(t,1),this._parameterStructures=r}get parameterStructures(){return this._parameterStructures}};Xe.NotificationType1=S7;var w7=class extends Nr{static{o(this,"NotificationType2")}constructor(t){super(t,2)}};Xe.NotificationType2=w7;var P7=class extends Nr{static{o(this,"NotificationType3")}constructor(t){super(t,3)}};Xe.NotificationType3=P7;var D7=class extends Nr{static{o(this,"NotificationType4")}constructor(t){super(t,4)}};Xe.NotificationType4=D7;var R7=class extends Nr{static{o(this,"NotificationType5")}constructor(t){super(t,5)}};Xe.NotificationType5=R7;var N7=class extends Nr{static{o(this,"NotificationType6")}constructor(t){super(t,6)}};Xe.NotificationType6=N7;var A7=class extends Nr{static{o(this,"NotificationType7")}constructor(t){super(t,7)}};Xe.NotificationType7=A7;var k7=class extends Nr{static{o(this,"NotificationType8")}constructor(t){super(t,8)}};Xe.NotificationType8=k7;var O7=class extends Nr{static{o(this,"NotificationType9")}constructor(t){super(t,9)}};Xe.NotificationType9=O7;var bR;(function(e){function t(i){let s=i;return s&&zc.string(s.method)&&(zc.string(s.id)||zc.number(s.id))}o(t,"isRequest"),e.isRequest=t;function r(i){let s=i;return s&&zc.string(s.method)&&i.id===void 0}o(r,"isNotification"),e.isNotification=r;function n(i){let s=i;return s&&(s.result!==void 0||!!s.error)&&(zc.string(s.id)||zc.number(s.id)||s.id===null)}o(n,"isResponse"),e.isResponse=n})(bR||(Xe.Message=bR={}))});var M7=Q(xl=>{"use strict";var _R;Object.defineProperty(xl,"__esModule",{value:!0});xl.LRUCache=xl.LinkedMap=xl.Touch=void 0;var oi;(function(e){e.None=0,e.First=1,e.AsOld=e.First,e.Last=2,e.AsNew=e.Last})(oi||(xl.Touch=oi={}));var c2=class{static{o(this,"LinkedMap")}constructor(){this[_R]="LinkedMap",this._map=new Map,this._head=void 0,this._tail=void 0,this._size=0,this._state=0}clear(){this._map.clear(),this._head=void 0,this._tail=void 0,this._size=0,this._state++}isEmpty(){return!this._head&&!this._tail}get size(){return this._size}get first(){return this._head?.value}get last(){return this._tail?.value}has(t){return this._map.has(t)}get(t,r=oi.None){let n=this._map.get(t);if(n)return r!==oi.None&&this.touch(n,r),n.value}set(t,r,n=oi.None){let i=this._map.get(t);if(i)i.value=r,n!==oi.None&&this.touch(i,n);else{switch(i={key:t,value:r,next:void 0,previous:void 0},n){case oi.None:this.addItemLast(i);break;case oi.First:this.addItemFirst(i);break;case oi.Last:this.addItemLast(i);break;default:this.addItemLast(i);break}this._map.set(t,i),this._size++}return this}delete(t){return!!this.remove(t)}remove(t){let r=this._map.get(t);if(r)return this._map.delete(t),this.removeItem(r),this._size--,r.value}shift(){if(!this._head&&!this._tail)return;if(!this._head||!this._tail)throw new Error("Invalid list");let t=this._head;return this._map.delete(t.key),this.removeItem(t),this._size--,t.value}forEach(t,r){let n=this._state,i=this._head;for(;i;){if(r?t.bind(r)(i.value,i.key,this):t(i.value,i.key,this),this._state!==n)throw new Error("LinkedMap got modified during iteration.");i=i.next}}keys(){let t=this._state,r=this._head,n={[Symbol.iterator]:()=>n,next:o(()=>{if(this._state!==t)throw new Error("LinkedMap got modified during iteration.");if(r){let i={value:r.key,done:!1};return r=r.next,i}else return{value:void 0,done:!0}},"next")};return n}values(){let t=this._state,r=this._head,n={[Symbol.iterator]:()=>n,next:o(()=>{if(this._state!==t)throw new Error("LinkedMap got modified during iteration.");if(r){let i={value:r.value,done:!1};return r=r.next,i}else return{value:void 0,done:!0}},"next")};return n}entries(){let t=this._state,r=this._head,n={[Symbol.iterator]:()=>n,next:o(()=>{if(this._state!==t)throw new Error("LinkedMap got modified during iteration.");if(r){let i={value:[r.key,r.value],done:!1};return r=r.next,i}else return{value:void 0,done:!0}},"next")};return n}[(_R=Symbol.toStringTag,Symbol.iterator)](){return this.entries()}trimOld(t){if(t>=this.size)return;if(t===0){this.clear();return}let r=this._head,n=this.size;for(;r&&n>t;)this._map.delete(r.key),r=r.next,n--;this._head=r,this._size=n,r&&(r.previous=void 0),this._state++}addItemFirst(t){if(!this._head&&!this._tail)this._tail=t;else if(this._head)t.next=this._head,this._head.previous=t;else throw new Error("Invalid list");this._head=t,this._state++}addItemLast(t){if(!this._head&&!this._tail)this._head=t;else if(this._tail)t.previous=this._tail,this._tail.next=t;else throw new Error("Invalid list");this._tail=t,this._state++}removeItem(t){if(t===this._head&&t===this._tail)this._head=void 0,this._tail=void 0;else if(t===this._head){if(!t.next)throw new Error("Invalid list");t.next.previous=void 0,this._head=t.next}else if(t===this._tail){if(!t.previous)throw new Error("Invalid list");t.previous.next=void 0,this._tail=t.previous}else{let r=t.next,n=t.previous;if(!r||!n)throw new Error("Invalid list");r.previous=n,n.next=r}t.next=void 0,t.previous=void 0,this._state++}touch(t,r){if(!this._head||!this._tail)throw new Error("Invalid list");if(!(r!==oi.First&&r!==oi.Last)){if(r===oi.First){if(t===this._head)return;let n=t.next,i=t.previous;t===this._tail?(i.next=void 0,this._tail=i):(n.previous=i,i.next=n),t.previous=void 0,t.next=this._head,this._head.previous=t,this._head=t,this._state++}else if(r===oi.Last){if(t===this._tail)return;let n=t.next,i=t.previous;t===this._head?(n.previous=void 0,this._head=n):(n.previous=i,i.next=n),t.next=void 0,t.previous=this._tail,this._tail.next=t,this._tail=t,this._state++}}}toJSON(){let t=[];return this.forEach((r,n)=>{t.push([n,r])}),t}fromJSON(t){this.clear();for(let[r,n]of t)this.set(r,n)}};xl.LinkedMap=c2;var F7=class extends c2{static{o(this,"LRUCache")}constructor(t,r=1){super(),this._limit=t,this._ratio=Math.min(Math.max(0,r),1)}get limit(){return this._limit}set limit(t){this._limit=t,this.checkTrim()}get ratio(){return this._ratio}set ratio(t){this._ratio=Math.min(Math.max(0,t),1),this.checkTrim()}get(t,r=oi.AsNew){return super.get(t,r)}peek(t){return super.get(t,oi.None)}set(t,r){return super.set(t,r,oi.Last),this.checkTrim(),this}checkTrim(){this.size>this._limit&&this.trimOld(Math.round(this._limit*this._ratio))}};xl.LRUCache=F7});var vR=Q(u2=>{"use strict";Object.defineProperty(u2,"__esModule",{value:!0});u2.Disposable=void 0;var yR;(function(e){function t(r){return{dispose:r}}o(t,"create"),e.create=t})(yR||(u2.Disposable=yR={}))});var bl=Q(j7=>{"use strict";Object.defineProperty(j7,"__esModule",{value:!0});var U7;function B7(){if(U7===void 0)throw new Error("No runtime abstraction layer installed");return U7}o(B7,"RAL");(function(e){function t(r){if(r===void 0)throw new Error("No runtime abstraction layer provided");U7=r}o(t,"install"),e.install=t})(B7||(B7={}));j7.default=B7});var Jf=Q(Xf=>{"use strict";Object.defineProperty(Xf,"__esModule",{value:!0});Xf.Emitter=Xf.Event=void 0;var Hte=bl(),TR;(function(e){let t={dispose(){}};e.None=function(){return t}})(TR||(Xf.Event=TR={}));var $7=class{static{o(this,"CallbackList")}add(t,r=null,n){this._callbacks||(this._callbacks=[],this._contexts=[]),this._callbacks.push(t),this._contexts.push(r),Array.isArray(n)&&n.push({dispose:o(()=>this.remove(t,r),"dispose")})}remove(t,r=null){if(!this._callbacks)return;let n=!1;for(let i=0,s=this._callbacks.length;i<s;i++)if(this._callbacks[i]===t)if(this._contexts[i]===r){this._callbacks.splice(i,1),this._contexts.splice(i,1);return}else n=!0;if(n)throw new Error("When adding a listener with a context, you should remove it with the same context")}invoke(...t){if(!this._callbacks)return[];let r=[],n=this._callbacks.slice(0),i=this._contexts.slice(0);for(let s=0,a=n.length;s<a;s++)try{r.push(n[s].apply(i[s],t))}catch(l){(0,Hte.default)().console.error(l)}return r}isEmpty(){return!this._callbacks||this._callbacks.length===0}dispose(){this._callbacks=void 0,this._contexts=void 0}},f2=class e{static{o(this,"Emitter")}constructor(t){this._options=t}get event(){return this._event||(this._event=(t,r,n)=>{this._callbacks||(this._callbacks=new $7),this._options&&this._options.onFirstListenerAdd&&this._callbacks.isEmpty()&&this._options.onFirstListenerAdd(this),this._callbacks.add(t,r);let i={dispose:o(()=>{this._callbacks&&(this._callbacks.remove(t,r),i.dispose=e._noop,this._options&&this._options.onLastListenerRemove&&this._callbacks.isEmpty()&&this._options.onLastListenerRemove(this))},"dispose")};return Array.isArray(n)&&n.push(i),i}),this._event}fire(t){this._callbacks&&this._callbacks.invoke.call(this._callbacks,t)}dispose(){this._callbacks&&(this._callbacks.dispose(),this._callbacks=void 0)}};Xf.Emitter=f2;f2._noop=function(){}});var p2=Q(Zf=>{"use strict";Object.defineProperty(Zf,"__esModule",{value:!0});Zf.CancellationTokenSource=Zf.CancellationToken=void 0;var Vte=bl(),Kte=Yf(),q7=Jf(),d2;(function(e){e.None=Object.freeze({isCancellationRequested:!1,onCancellationRequested:q7.Event.None}),e.Cancelled=Object.freeze({isCancellationRequested:!0,onCancellationRequested:q7.Event.None});function t(r){let n=r;return n&&(n===e.None||n===e.Cancelled||Kte.boolean(n.isCancellationRequested)&&!!n.onCancellationRequested)}o(t,"is"),e.is=t})(d2||(Zf.CancellationToken=d2={}));var Yte=Object.freeze(function(e,t){let r=(0,Vte.default)().timer.setTimeout(e.bind(t),0);return{dispose(){r.dispose()}}}),m2=class{static{o(this,"MutableToken")}constructor(){this._isCancelled=!1}cancel(){this._isCancelled||(this._isCancelled=!0,this._emitter&&(this._emitter.fire(void 0),this.dispose()))}get isCancellationRequested(){return this._isCancelled}get onCancellationRequested(){return this._isCancelled?Yte:(this._emitter||(this._emitter=new q7.Emitter),this._emitter.event)}dispose(){this._emitter&&(this._emitter.dispose(),this._emitter=void 0)}},W7=class{static{o(this,"CancellationTokenSource")}get token(){return this._token||(this._token=new m2),this._token}cancel(){this._token?this._token.cancel():this._token=d2.Cancelled}dispose(){this._token?this._token instanceof m2&&this._token.dispose():this._token=d2.None}};Zf.CancellationTokenSource=W7});var IR=Q(Qf=>{"use strict";Object.defineProperty(Qf,"__esModule",{value:!0});Qf.SharedArrayReceiverStrategy=Qf.SharedArraySenderStrategy=void 0;var Xte=p2(),L1;(function(e){e.Continue=0,e.Cancelled=1})(L1||(L1={}));var G7=class{static{o(this,"SharedArraySenderStrategy")}constructor(){this.buffers=new Map}enableCancellation(t){if(t.id===null)return;let r=new SharedArrayBuffer(4),n=new Int32Array(r,0,1);n[0]=L1.Continue,this.buffers.set(t.id,r),t.$cancellationData=r}async sendCancellation(t,r){let n=this.buffers.get(r);if(n===void 0)return;let i=new Int32Array(n,0,1);Atomics.store(i,0,L1.Cancelled)}cleanup(t){this.buffers.delete(t)}dispose(){this.buffers.clear()}};Qf.SharedArraySenderStrategy=G7;var z7=class{static{o(this,"SharedArrayBufferCancellationToken")}constructor(t){this.data=new Int32Array(t,0,1)}get isCancellationRequested(){return Atomics.load(this.data,0)===L1.Cancelled}get onCancellationRequested(){throw new Error("Cancellation over SharedArrayBuffer doesn't support cancellation events")}},H7=class{static{o(this,"SharedArrayBufferCancellationTokenSource")}constructor(t){this.token=new z7(t)}cancel(){}dispose(){}},V7=class{static{o(this,"SharedArrayReceiverStrategy")}constructor(){this.kind="request"}createCancellationTokenSource(t){let r=t.$cancellationData;return r===void 0?new Xte.CancellationTokenSource:new H7(r)}};Qf.SharedArrayReceiverStrategy=V7});var Y7=Q(g2=>{"use strict";Object.defineProperty(g2,"__esModule",{value:!0});g2.Semaphore=void 0;var Jte=bl(),K7=class{static{o(this,"Semaphore")}constructor(t=1){if(t<=0)throw new Error("Capacity must be greater than 0");this._capacity=t,this._active=0,this._waiting=[]}lock(t){return new Promise((r,n)=>{this._waiting.push({thunk:t,resolve:r,reject:n}),this.runNext()})}get active(){return this._active}runNext(){this._waiting.length===0||this._active===this._capacity||(0,Jte.default)().timer.setImmediate(()=>this.doRunNext())}doRunNext(){if(this._waiting.length===0||this._active===this._capacity)return;let t=this._waiting.shift();if(this._active++,this._active>this._capacity)throw new Error("To many thunks active");try{let r=t.thunk();r instanceof Promise?r.then(n=>{this._active--,t.resolve(n),this.runNext()},n=>{this._active--,t.reject(n),this.runNext()}):(this._active--,t.resolve(r),this.runNext())}catch(r){this._active--,t.reject(r),this.runNext()}}};g2.Semaphore=K7});var CR=Q(_l=>{"use strict";Object.defineProperty(_l,"__esModule",{value:!0});_l.ReadableStreamMessageReader=_l.AbstractMessageReader=_l.MessageReader=void 0;var J7=bl(),ed=Yf(),X7=Jf(),Zte=Y7(),ER;(function(e){function t(r){let n=r;return n&&ed.func(n.listen)&&ed.func(n.dispose)&&ed.func(n.onError)&&ed.func(n.onClose)&&ed.func(n.onPartialMessage)}o(t,"is"),e.is=t})(ER||(_l.MessageReader=ER={}));var h2=class{static{o(this,"AbstractMessageReader")}constructor(){this.errorEmitter=new X7.Emitter,this.closeEmitter=new X7.Emitter,this.partialMessageEmitter=new X7.Emitter}dispose(){this.errorEmitter.dispose(),this.closeEmitter.dispose()}get onError(){return this.errorEmitter.event}fireError(t){this.errorEmitter.fire(this.asError(t))}get onClose(){return this.closeEmitter.event}fireClose(){this.closeEmitter.fire(void 0)}get onPartialMessage(){return this.partialMessageEmitter.event}firePartialMessage(t){this.partialMessageEmitter.fire(t)}asError(t){return t instanceof Error?t:new Error(`Reader received error. Reason: ${ed.string(t.message)?t.message:"unknown"}`)}};_l.AbstractMessageReader=h2;var Z7;(function(e){function t(r){let n,i,s,a=new Map,l,c=new Map;if(r===void 0||typeof r=="string")n=r??"utf-8";else{if(n=r.charset??"utf-8",r.contentDecoder!==void 0&&(s=r.contentDecoder,a.set(s.name,s)),r.contentDecoders!==void 0)for(let f of r.contentDecoders)a.set(f.name,f);if(r.contentTypeDecoder!==void 0&&(l=r.contentTypeDecoder,c.set(l.name,l)),r.contentTypeDecoders!==void 0)for(let f of r.contentTypeDecoders)c.set(f.name,f)}return l===void 0&&(l=(0,J7.default)().applicationJson.decoder,c.set(l.name,l)),{charset:n,contentDecoder:s,contentDecoders:a,contentTypeDecoder:l,contentTypeDecoders:c}}o(t,"fromOptions"),e.fromOptions=t})(Z7||(Z7={}));var Q7=class extends h2{static{o(this,"ReadableStreamMessageReader")}constructor(t,r){super(),this.readable=t,this.options=Z7.fromOptions(r),this.buffer=(0,J7.default)().messageBuffer.create(this.options.charset),this._partialMessageTimeout=1e4,this.nextMessageLength=-1,this.messageToken=0,this.readSemaphore=new Zte.Semaphore(1)}set partialMessageTimeout(t){this._partialMessageTimeout=t}get partialMessageTimeout(){return this._partialMessageTimeout}listen(t){this.nextMessageLength=-1,this.messageToken=0,this.partialMessageTimer=void 0,this.callback=t;let r=this.readable.onData(n=>{this.onData(n)});return this.readable.onError(n=>this.fireError(n)),this.readable.onClose(()=>this.fireClose()),r}onData(t){try{for(this.buffer.append(t);;){if(this.nextMessageLength===-1){let n=this.buffer.tryReadHeaders(!0);if(!n)return;let i=n.get("content-length");if(!i){this.fireError(new Error(`Header must provide a Content-Length property.
${JSON.stringify(Object.fromEntries(n))}`));return}let s=parseInt(i);if(isNaN(s)){this.fireError(new Error(`Content-Length value must be a number. Got ${i}`));return}this.nextMessageLength=s}let r=this.buffer.tryReadBody(this.nextMessageLength);if(r===void 0){this.setPartialMessageTimer();return}this.clearPartialMessageTimer(),this.nextMessageLength=-1,this.readSemaphore.lock(async()=>{let n=this.options.contentDecoder!==void 0?await this.options.contentDecoder.decode(r):r,i=await this.options.contentTypeDecoder.decode(n,this.options);this.callback(i)}).catch(n=>{this.fireError(n)})}}catch(r){this.fireError(r)}}clearPartialMessageTimer(){this.partialMessageTimer&&(this.partialMessageTimer.dispose(),this.partialMessageTimer=void 0)}setPartialMessageTimer(){this.clearPartialMessageTimer(),!(this._partialMessageTimeout<=0)&&(this.partialMessageTimer=(0,J7.default)().timer.setTimeout((t,r)=>{this.partialMessageTimer=void 0,t===this.messageToken&&(this.firePartialMessage({messageToken:t,waitingTime:r}),this.setPartialMessageTimer())},this._partialMessageTimeout,this.messageToken,this._partialMessageTimeout))}};_l.ReadableStreamMessageReader=Q7});var RR=Q(yl=>{"use strict";Object.defineProperty(yl,"__esModule",{value:!0});yl.WriteableStreamMessageWriter=yl.AbstractMessageWriter=yl.MessageWriter=void 0;var SR=bl(),F1=Yf(),Qte=Y7(),wR=Jf(),ere="Content-Length: ",PR=`\r
`,DR;(function(e){function t(r){let n=r;return n&&F1.func(n.dispose)&&F1.func(n.onClose)&&F1.func(n.onError)&&F1.func(n.write)}o(t,"is"),e.is=t})(DR||(yl.MessageWriter=DR={}));var x2=class{static{o(this,"AbstractMessageWriter")}constructor(){this.errorEmitter=new wR.Emitter,this.closeEmitter=new wR.Emitter}dispose(){this.errorEmitter.dispose(),this.closeEmitter.dispose()}get onError(){return this.errorEmitter.event}fireError(t,r,n){this.errorEmitter.fire([this.asError(t),r,n])}get onClose(){return this.closeEmitter.event}fireClose(){this.closeEmitter.fire(void 0)}asError(t){return t instanceof Error?t:new Error(`Writer received error. Reason: ${F1.string(t.message)?t.message:"unknown"}`)}};yl.AbstractMessageWriter=x2;var e9;(function(e){function t(r){return r===void 0||typeof r=="string"?{charset:r??"utf-8",contentTypeEncoder:(0,SR.default)().applicationJson.encoder}:{charset:r.charset??"utf-8",contentEncoder:r.contentEncoder,contentTypeEncoder:r.contentTypeEncoder??(0,SR.default)().applicationJson.encoder}}o(t,"fromOptions"),e.fromOptions=t})(e9||(e9={}));var t9=class extends x2{static{o(this,"WriteableStreamMessageWriter")}constructor(t,r){super(),this.writable=t,this.options=e9.fromOptions(r),this.errorCount=0,this.writeSemaphore=new Qte.Semaphore(1),this.writable.onError(n=>this.fireError(n)),this.writable.onClose(()=>this.fireClose())}async write(t){return this.writeSemaphore.lock(async()=>this.options.contentTypeEncoder.encode(t,this.options).then(n=>this.options.contentEncoder!==void 0?this.options.contentEncoder.encode(n):n).then(n=>{let i=[];return i.push(ere,n.byteLength.toString(),PR),i.push(PR),this.doWrite(t,i,n)},n=>{throw this.fireError(n),n}))}async doWrite(t,r,n){try{return await this.writable.write(r.join(""),"ascii"),this.writable.write(n)}catch(i){return this.handleError(i,t),Promise.reject(i)}}handleError(t,r){this.errorCount++,this.fireError(t,r,this.errorCount)}end(){this.writable.end()}};yl.WriteableStreamMessageWriter=t9});var NR=Q(b2=>{"use strict";Object.defineProperty(b2,"__esModule",{value:!0});b2.AbstractMessageBuffer=void 0;var tre=13,rre=10,nre=`\r
`,r9=class{static{o(this,"AbstractMessageBuffer")}constructor(t="utf-8"){this._encoding=t,this._chunks=[],this._totalLength=0}get encoding(){return this._encoding}append(t){let r=typeof t=="string"?this.fromString(t,this._encoding):t;this._chunks.push(r),this._totalLength+=r.byteLength}tryReadHeaders(t=!1){if(this._chunks.length===0)return;let r=0,n=0,i=0,s=0;e:for(;n<this._chunks.length;){let f=this._chunks[n];for(i=0;i<f.length;){switch(f[i]){case tre:switch(r){case 0:r=1;break;case 2:r=3;break;default:r=0}break;case rre:switch(r){case 1:r=2;break;case 3:r=4,i++;break e;default:r=0}break;default:r=0}i++}s+=f.byteLength,n++}if(r!==4)return;let a=this._read(s+i),l=new Map,c=this.toString(a,"ascii").split(nre);if(c.length<2)return l;for(let f=0;f<c.length-2;f++){let u=c[f],d=u.indexOf(":");if(d===-1)throw new Error(`Message header must separate key and value using ':'
${u}`);let p=u.substr(0,d),m=u.substr(d+1).trim();l.set(t?p.toLowerCase():p,m)}return l}tryReadBody(t){if(!(this._totalLength<t))return this._read(t)}get numberOfBytes(){return this._totalLength}_read(t){if(t===0)return this.emptyBuffer();if(t>this._totalLength)throw new Error("Cannot read so many bytes!");if(this._chunks[0].byteLength===t){let s=this._chunks[0];return this._chunks.shift(),this._totalLength-=t,this.asNative(s)}if(this._chunks[0].byteLength>t){let s=this._chunks[0],a=this.asNative(s,t);return this._chunks[0]=s.slice(t),this._totalLength-=t,a}let r=this.allocNative(t),n=0,i=0;for(;t>0;){let s=this._chunks[i];if(s.byteLength>t){let a=s.slice(0,t);r.set(a,n),n+=t,this._chunks[i]=s.slice(t),this._totalLength-=t,t-=t}else r.set(s,n),n+=s.byteLength,this._chunks.shift(),this._totalLength-=s.byteLength,t-=s.byteLength}return r}};b2.AbstractMessageBuffer=r9});var FR=Q(pt=>{"use strict";Object.defineProperty(pt,"__esModule",{value:!0});pt.createMessageConnection=pt.ConnectionOptions=pt.MessageStrategy=pt.CancellationStrategy=pt.CancellationSenderStrategy=pt.CancellationReceiverStrategy=pt.RequestCancellationReceiverStrategy=pt.IdCancellationReceiverStrategy=pt.ConnectionStrategy=pt.ConnectionError=pt.ConnectionErrors=pt.LogTraceNotification=pt.SetTraceNotification=pt.TraceFormat=pt.TraceValues=pt.Trace=pt.NullLogger=pt.ProgressType=pt.ProgressToken=void 0;var AR=bl(),Kr=Yf(),ct=L7(),kR=M7(),M1=Jf(),n9=p2(),j1;(function(e){e.type=new ct.NotificationType("$/cancelRequest")})(j1||(j1={}));var i9;(function(e){function t(r){return typeof r=="string"||typeof r=="number"}o(t,"is"),e.is=t})(i9||(pt.ProgressToken=i9={}));var U1;(function(e){e.type=new ct.NotificationType("$/progress")})(U1||(U1={}));var o9=class{static{o(this,"ProgressType")}constructor(){}};pt.ProgressType=o9;var s9;(function(e){function t(r){return Kr.func(r)}o(t,"is"),e.is=t})(s9||(s9={}));pt.NullLogger=Object.freeze({error:o(()=>{},"error"),warn:o(()=>{},"warn"),info:o(()=>{},"info"),log:o(()=>{},"log")});var ur;(function(e){e[e.Off=0]="Off",e[e.Messages=1]="Messages",e[e.Compact=2]="Compact",e[e.Verbose=3]="Verbose"})(ur||(pt.Trace=ur={}));var OR;(function(e){e.Off="off",e.Messages="messages",e.Compact="compact",e.Verbose="verbose"})(OR||(pt.TraceValues=OR={}));(function(e){function t(n){if(!Kr.string(n))return e.Off;switch(n=n.toLowerCase(),n){case"off":return e.Off;case"messages":return e.Messages;case"compact":return e.Compact;case"verbose":return e.Verbose;default:return e.Off}}o(t,"fromString"),e.fromString=t;function r(n){switch(n){case e.Off:return"off";case e.Messages:return"messages";case e.Compact:return"compact";case e.Verbose:return"verbose";default:return"off"}}o(r,"toString"),e.toString=r})(ur||(pt.Trace=ur={}));var lo;(function(e){e.Text="text",e.JSON="json"})(lo||(pt.TraceFormat=lo={}));(function(e){function t(r){return Kr.string(r)?(r=r.toLowerCase(),r==="json"?e.JSON:e.Text):e.Text}o(t,"fromString"),e.fromString=t})(lo||(pt.TraceFormat=lo={}));var a9;(function(e){e.type=new ct.NotificationType("$/setTrace")})(a9||(pt.SetTraceNotification=a9={}));var _2;(function(e){e.type=new ct.NotificationType("$/logTrace")})(_2||(pt.LogTraceNotification=_2={}));var B1;(function(e){e[e.Closed=1]="Closed",e[e.Disposed=2]="Disposed",e[e.AlreadyListening=3]="AlreadyListening"})(B1||(pt.ConnectionErrors=B1={}));var td=class e extends Error{static{o(this,"ConnectionError")}constructor(t,r){super(r),this.code=t,Object.setPrototypeOf(this,e.prototype)}};pt.ConnectionError=td;var l9;(function(e){function t(r){let n=r;return n&&Kr.func(n.cancelUndispatched)}o(t,"is"),e.is=t})(l9||(pt.ConnectionStrategy=l9={}));var y2;(function(e){function t(r){let n=r;return n&&(n.kind===void 0||n.kind==="id")&&Kr.func(n.createCancellationTokenSource)&&(n.dispose===void 0||Kr.func(n.dispose))}o(t,"is"),e.is=t})(y2||(pt.IdCancellationReceiverStrategy=y2={}));var c9;(function(e){function t(r){let n=r;return n&&n.kind==="request"&&Kr.func(n.createCancellationTokenSource)&&(n.dispose===void 0||Kr.func(n.dispose))}o(t,"is"),e.is=t})(c9||(pt.RequestCancellationReceiverStrategy=c9={}));var v2;(function(e){e.Message=Object.freeze({createCancellationTokenSource(r){return new n9.CancellationTokenSource}});function t(r){return y2.is(r)||c9.is(r)}o(t,"is"),e.is=t})(v2||(pt.CancellationReceiverStrategy=v2={}));var T2;(function(e){e.Message=Object.freeze({sendCancellation(r,n){return r.sendNotification(j1.type,{id:n})},cleanup(r){}});function t(r){let n=r;return n&&Kr.func(n.sendCancellation)&&Kr.func(n.cleanup)}o(t,"is"),e.is=t})(T2||(pt.CancellationSenderStrategy=T2={}));var I2;(function(e){e.Message=Object.freeze({receiver:v2.Message,sender:T2.Message});function t(r){let n=r;return n&&v2.is(n.receiver)&&T2.is(n.sender)}o(t,"is"),e.is=t})(I2||(pt.CancellationStrategy=I2={}));var E2;(function(e){function t(r){let n=r;return n&&Kr.func(n.handleMessage)}o(t,"is"),e.is=t})(E2||(pt.MessageStrategy=E2={}));var LR;(function(e){function t(r){let n=r;return n&&(I2.is(n.cancellationStrategy)||l9.is(n.connectionStrategy)||E2.is(n.messageStrategy))}o(t,"is"),e.is=t})(LR||(pt.ConnectionOptions=LR={}));var Ns;(function(e){e[e.New=1]="New",e[e.Listening=2]="Listening",e[e.Closed=3]="Closed",e[e.Disposed=4]="Disposed"})(Ns||(Ns={}));function ire(e,t,r,n){let i=r!==void 0?r:pt.NullLogger,s=0,a=0,l=0,c="2.0",f,u=new Map,d,p=new Map,m=new Map,g,h=new kR.LinkedMap,_=new Map,b=new Set,x=new Map,y=ur.Off,E=lo.Text,S,w=Ns.New,z=new M1.Emitter,V=new M1.Emitter,W=new M1.Emitter,Y=new M1.Emitter,R=new M1.Emitter,P=n&&n.cancellationStrategy?n.cancellationStrategy:I2.Message;function G(O){if(O===null)throw new Error("Can't send requests with id null since the response can't be correlated.");return"req-"+O.toString()}o(G,"createRequestQueueKey");function A(O){return O===null?"res-unknown-"+(++l).toString():"res-"+O.toString()}o(A,"createResponseQueueKey");function I(){return"not-"+(++a).toString()}o(I,"createNotificationQueueKey");function v(O,Z){ct.Message.isRequest(Z)?O.set(G(Z.id),Z):ct.Message.isResponse(Z)?O.set(A(Z.id),Z):O.set(I(),Z)}o(v,"addMessageToQueue");function N(O){}o(N,"cancelUndispatched");function T(){return w===Ns.Listening}o(T,"isListening");function D(){return w===Ns.Closed}o(D,"isClosed");function k(){return w===Ns.Disposed}o(k,"isDisposed");function L(){(w===Ns.New||w===Ns.Listening)&&(w=Ns.Closed,V.fire(void 0))}o(L,"closeHandler");function U(O){z.fire([O,void 0,void 0])}o(U,"readErrorHandler");function H(O){z.fire(O)}o(H,"writeErrorHandler"),e.onClose(L),e.onError(U),t.onClose(L),t.onError(H);function ae(){g||h.size===0||(g=(0,AR.default)().timer.setImmediate(()=>{g=void 0,he()}))}o(ae,"triggerMessageQueue");function ye(O){ct.Message.isRequest(O)?He(O):ct.Message.isNotification(O)?Ze(O):ct.Message.isResponse(O)?Ve(O):F(O)}o(ye,"handleMessage");function he(){if(h.size===0)return;let O=h.shift();try{let Z=n?.messageStrategy;E2.is(Z)?Z.handleMessage(O,ye):ye(O)}finally{ae()}}o(he,"processMessageQueue");let Ue=o(O=>{try{if(ct.Message.isNotification(O)&&O.method===j1.type.method){let Z=O.params.id,fe=G(Z),pe=h.get(fe);if(ct.Message.isRequest(pe)){let Me=n?.connectionStrategy,$e=Me&&Me.cancelUndispatched?Me.cancelUndispatched(pe,N):void 0;if($e&&($e.error!==void 0||$e.result!==void 0)){h.delete(fe),x.delete(Z),$e.id=pe.id,le($e,O.method,Date.now()),t.write($e).catch(()=>i.error("Sending response for canceled message failed."));return}}let Re=x.get(Z);if(Re!==void 0){Re.cancel(),re(O);return}else b.add(Z)}v(h,O)}finally{ae()}},"callback");function He(O){if(k())return;function Z(De,q,X){let se={jsonrpc:c,id:O.id};De instanceof ct.ResponseError?se.error=De.toJson():se.result=De===void 0?null:De,le(se,q,X),t.write(se).catch(()=>i.error("Sending response failed."))}o(Z,"reply");function fe(De,q,X){let se={jsonrpc:c,id:O.id,error:De.toJson()};le(se,q,X),t.write(se).catch(()=>i.error("Sending response failed."))}o(fe,"replyError");function pe(De,q,X){De===void 0&&(De=null);let se={jsonrpc:c,id:O.id,result:De};le(se,q,X),t.write(se).catch(()=>i.error("Sending response failed."))}o(pe,"replySuccess"),$(O);let Re=u.get(O.method),Me,$e;Re&&(Me=Re.type,$e=Re.handler);let We=Date.now();if($e||f){let De=O.id??String(Date.now()),q=y2.is(P.receiver)?P.receiver.createCancellationTokenSource(De):P.receiver.createCancellationTokenSource(O);O.id!==null&&b.has(O.id)&&q.cancel(),O.id!==null&&x.set(De,q);try{let X;if($e)if(O.params===void 0){if(Me!==void 0&&Me.numberOfParams!==0){fe(new ct.ResponseError(ct.ErrorCodes.InvalidParams,`Request ${O.method} defines ${Me.numberOfParams} params but received none.`),O.method,We);return}X=$e(q.token)}else if(Array.isArray(O.params)){if(Me!==void 0&&Me.parameterStructures===ct.ParameterStructures.byName){fe(new ct.ResponseError(ct.ErrorCodes.InvalidParams,`Request ${O.method} defines parameters by name but received parameters by position`),O.method,We);return}X=$e(...O.params,q.token)}else{if(Me!==void 0&&Me.parameterStructures===ct.ParameterStructures.byPosition){fe(new ct.ResponseError(ct.ErrorCodes.InvalidParams,`Request ${O.method} defines parameters by position but received parameters by name`),O.method,We);return}X=$e(O.params,q.token)}else f&&(X=f(O.method,O.params,q.token));let se=X;X?se.then?se.then(me=>{x.delete(De),Z(me,O.method,We)},me=>{x.delete(De),me instanceof ct.ResponseError?fe(me,O.method,We):me&&Kr.string(me.message)?fe(new ct.ResponseError(ct.ErrorCodes.InternalError,`Request ${O.method} failed with message: ${me.message}`),O.method,We):fe(new ct.ResponseError(ct.ErrorCodes.InternalError,`Request ${O.method} failed unexpectedly without providing any details.`),O.method,We)}):(x.delete(De),Z(X,O.method,We)):(x.delete(De),pe(X,O.method,We))}catch(X){x.delete(De),X instanceof ct.ResponseError?Z(X,O.method,We):X&&Kr.string(X.message)?fe(new ct.ResponseError(ct.ErrorCodes.InternalError,`Request ${O.method} failed with message: ${X.message}`),O.method,We):fe(new ct.ResponseError(ct.ErrorCodes.InternalError,`Request ${O.method} failed unexpectedly without providing any details.`),O.method,We)}}else fe(new ct.ResponseError(ct.ErrorCodes.MethodNotFound,`Unhandled method ${O.method}`),O.method,We)}o(He,"handleRequest");function Ve(O){if(!k())if(O.id===null)O.error?i.error(`Received response message without id: Error is: 
${JSON.stringify(O.error,void 0,4)}`):i.error("Received response message without id. No further error information provided.");else{let Z=O.id,fe=_.get(Z);if(xe(O,fe),fe!==void 0){_.delete(Z);try{if(O.error){let pe=O.error;fe.reject(new ct.ResponseError(pe.code,pe.message,pe.data))}else if(O.result!==void 0)fe.resolve(O.result);else throw new Error("Should never happen.")}catch(pe){pe.message?i.error(`Response handler '${fe.method}' failed with message: ${pe.message}`):i.error(`Response handler '${fe.method}' failed unexpectedly.`)}}}}o(Ve,"handleResponse");function Ze(O){if(k())return;let Z,fe;if(O.method===j1.type.method){let pe=O.params.id;b.delete(pe),re(O);return}else{let pe=p.get(O.method);pe&&(fe=pe.handler,Z=pe.type)}if(fe||d)try{if(re(O),fe)if(O.params===void 0)Z!==void 0&&Z.numberOfParams!==0&&Z.parameterStructures!==ct.ParameterStructures.byName&&i.error(`Notification ${O.method} defines ${Z.numberOfParams} params but received none.`),fe();else if(Array.isArray(O.params)){let pe=O.params;O.method===U1.type.method&&pe.length===2&&i9.is(pe[0])?fe({token:pe[0],value:pe[1]}):(Z!==void 0&&(Z.parameterStructures===ct.ParameterStructures.byName&&i.error(`Notification ${O.method} defines parameters by name but received parameters by position`),Z.numberOfParams!==O.params.length&&i.error(`Notification ${O.method} defines ${Z.numberOfParams} params but received ${pe.length} arguments`)),fe(...pe))}else Z!==void 0&&Z.parameterStructures===ct.ParameterStructures.byPosition&&i.error(`Notification ${O.method} defines parameters by position but received parameters by name`),fe(O.params);else d&&d(O.method,O.params)}catch(pe){pe.message?i.error(`Notification handler '${O.method}' failed with message: ${pe.message}`):i.error(`Notification handler '${O.method}' failed unexpectedly.`)}else W.fire(O)}o(Ze,"handleNotification");function F(O){if(!O){i.error("Received empty message.");return}i.error(`Received message which is neither a response nor a notification message:
${JSON.stringify(O,null,4)}`);let Z=O;if(Kr.string(Z.id)||Kr.number(Z.id)){let fe=Z.id,pe=_.get(fe);pe&&pe.reject(new Error("The received response has neither a result nor an error property."))}}o(F,"handleInvalidMessage");function ne(O){if(O!=null)switch(y){case ur.Verbose:return JSON.stringify(O,null,4);case ur.Compact:return JSON.stringify(O);default:return}}o(ne,"stringifyTrace");function j(O){if(!(y===ur.Off||!S))if(E===lo.Text){let Z;(y===ur.Verbose||y===ur.Compact)&&O.params&&(Z=`Params: ${ne(O.params)}

`),S.log(`Sending request '${O.method} - (${O.id})'.`,Z)}else ue("send-request",O)}o(j,"traceSendingRequest");function ge(O){if(!(y===ur.Off||!S))if(E===lo.Text){let Z;(y===ur.Verbose||y===ur.Compact)&&(O.params?Z=`Params: ${ne(O.params)}

`:Z=`No parameters provided.

`),S.log(`Sending notification '${O.method}'.`,Z)}else ue("send-notification",O)}o(ge,"traceSendingNotification");function le(O,Z,fe){if(!(y===ur.Off||!S))if(E===lo.Text){let pe;(y===ur.Verbose||y===ur.Compact)&&(O.error&&O.error.data?pe=`Error data: ${ne(O.error.data)}

`:O.result?pe=`Result: ${ne(O.result)}

`:O.error===void 0&&(pe=`No result returned.

`)),S.log(`Sending response '${Z} - (${O.id})'. Processing request took ${Date.now()-fe}ms`,pe)}else ue("send-response",O)}o(le,"traceSendingResponse");function $(O){if(!(y===ur.Off||!S))if(E===lo.Text){let Z;(y===ur.Verbose||y===ur.Compact)&&O.params&&(Z=`Params: ${ne(O.params)}

`),S.log(`Received request '${O.method} - (${O.id})'.`,Z)}else ue("receive-request",O)}o($,"traceReceivedRequest");function re(O){if(!(y===ur.Off||!S||O.method===_2.type.method))if(E===lo.Text){let Z;(y===ur.Verbose||y===ur.Compact)&&(O.params?Z=`Params: ${ne(O.params)}

`:Z=`No parameters provided.

`),S.log(`Received notification '${O.method}'.`,Z)}else ue("receive-notification",O)}o(re,"traceReceivedNotification");function xe(O,Z){if(!(y===ur.Off||!S))if(E===lo.Text){let fe;if((y===ur.Verbose||y===ur.Compact)&&(O.error&&O.error.data?fe=`Error data: ${ne(O.error.data)}

`:O.result?fe=`Result: ${ne(O.result)}

`:O.error===void 0&&(fe=`No result returned.

`)),Z){let pe=O.error?` Request failed: ${O.error.message} (${O.error.code}).`:"";S.log(`Received response '${Z.method} - (${O.id})' in ${Date.now()-Z.timerStart}ms.${pe}`,fe)}else S.log(`Received response ${O.id} without active response promise.`,fe)}else ue("receive-response",O)}o(xe,"traceReceivedResponse");function ue(O,Z){if(!S||y===ur.Off)return;let fe={isLSPMessage:!0,type:O,message:Z,timestamp:Date.now()};S.log(fe)}o(ue,"logLSPMessage");function de(){if(D())throw new td(B1.Closed,"Connection is closed.");if(k())throw new td(B1.Disposed,"Connection is disposed.")}o(de,"throwIfClosedOrDisposed");function Ie(){if(T())throw new td(B1.AlreadyListening,"Connection is already listening")}o(Ie,"throwIfListening");function we(){if(!T())throw new Error("Call listen() first.")}o(we,"throwIfNotListening");function ke(O){return O===void 0?null:O}o(ke,"undefinedToNull");function qe(O){if(O!==null)return O}o(qe,"nullToUndefined");function Ke(O){return O!=null&&!Array.isArray(O)&&typeof O=="object"}o(Ke,"isNamedParam");function tt(O,Z){switch(O){case ct.ParameterStructures.auto:return Ke(Z)?qe(Z):[ke(Z)];case ct.ParameterStructures.byName:if(!Ke(Z))throw new Error("Received parameters by name but param is not an object literal.");return qe(Z);case ct.ParameterStructures.byPosition:return[ke(Z)];default:throw new Error(`Unknown parameter structure ${O.toString()}`)}}o(tt,"computeSingleParam");function rt(O,Z){let fe,pe=O.numberOfParams;switch(pe){case 0:fe=void 0;break;case 1:fe=tt(O.parameterStructures,Z[0]);break;default:fe=[];for(let Re=0;Re<Z.length&&Re<pe;Re++)fe.push(ke(Z[Re]));if(Z.length<pe)for(let Re=Z.length;Re<pe;Re++)fe.push(null);break}return fe}o(rt,"computeMessageParams");let lt={sendNotification:o((O,...Z)=>{de();let fe,pe;if(Kr.string(O)){fe=O;let Me=Z[0],$e=0,We=ct.ParameterStructures.auto;ct.ParameterStructures.is(Me)&&($e=1,We=Me);let De=Z.length,q=De-$e;switch(q){case 0:pe=void 0;break;case 1:pe=tt(We,Z[$e]);break;default:if(We===ct.ParameterStructures.byName)throw new Error(`Received ${q} parameters for 'by Name' notification parameter structure.`);pe=Z.slice($e,De).map(X=>ke(X));break}}else{let Me=Z;fe=O.method,pe=rt(O,Me)}let Re={jsonrpc:c,method:fe,params:pe};return ge(Re),t.write(Re).catch(Me=>{throw i.error("Sending notification failed."),Me})},"sendNotification"),onNotification:o((O,Z)=>{de();let fe;return Kr.func(O)?d=O:Z&&(Kr.string(O)?(fe=O,p.set(O,{type:void 0,handler:Z})):(fe=O.method,p.set(O.method,{type:O,handler:Z}))),{dispose:o(()=>{fe!==void 0?p.delete(fe):d=void 0},"dispose")}},"onNotification"),onProgress:o((O,Z,fe)=>{if(m.has(Z))throw new Error(`Progress handler for token ${Z} already registered`);return m.set(Z,fe),{dispose:o(()=>{m.delete(Z)},"dispose")}},"onProgress"),sendProgress:o((O,Z,fe)=>lt.sendNotification(U1.type,{token:Z,value:fe}),"sendProgress"),onUnhandledProgress:Y.event,sendRequest:o((O,...Z)=>{de(),we();let fe,pe,Re;if(Kr.string(O)){fe=O;let De=Z[0],q=Z[Z.length-1],X=0,se=ct.ParameterStructures.auto;ct.ParameterStructures.is(De)&&(X=1,se=De);let me=Z.length;n9.CancellationToken.is(q)&&(me=me-1,Re=q);let be=me-X;switch(be){case 0:pe=void 0;break;case 1:pe=tt(se,Z[X]);break;default:if(se===ct.ParameterStructures.byName)throw new Error(`Received ${be} parameters for 'by Name' request parameter structure.`);pe=Z.slice(X,me).map(Te=>ke(Te));break}}else{let De=Z;fe=O.method,pe=rt(O,De);let q=O.numberOfParams;Re=n9.CancellationToken.is(De[q])?De[q]:void 0}let Me=s++,$e;Re&&($e=Re.onCancellationRequested(()=>{let De=P.sender.sendCancellation(lt,Me);return De===void 0?(i.log(`Received no promise from cancellation strategy when cancelling id ${Me}`),Promise.resolve()):De.catch(()=>{i.log(`Sending cancellation messages for id ${Me} failed`)})}));let We={jsonrpc:c,id:Me,method:fe,params:pe};return j(We),typeof P.sender.enableCancellation=="function"&&P.sender.enableCancellation(We),new Promise(async(De,q)=>{let X=o(be=>{De(be),P.sender.cleanup(Me),$e?.dispose()},"resolveWithCleanup"),se=o(be=>{q(be),P.sender.cleanup(Me),$e?.dispose()},"rejectWithCleanup"),me={method:fe,timerStart:Date.now(),resolve:X,reject:se};try{await t.write(We),_.set(Me,me)}catch(be){throw i.error("Sending request failed."),me.reject(new ct.ResponseError(ct.ErrorCodes.MessageWriteError,be.message?be.message:"Unknown reason")),be}})},"sendRequest"),onRequest:o((O,Z)=>{de();let fe=null;return s9.is(O)?(fe=void 0,f=O):Kr.string(O)?(fe=null,Z!==void 0&&(fe=O,u.set(O,{handler:Z,type:void 0}))):Z!==void 0&&(fe=O.method,u.set(O.method,{type:O,handler:Z})),{dispose:o(()=>{fe!==null&&(fe!==void 0?u.delete(fe):f=void 0)},"dispose")}},"onRequest"),hasPendingResponse:o(()=>_.size>0,"hasPendingResponse"),trace:o(async(O,Z,fe)=>{let pe=!1,Re=lo.Text;fe!==void 0&&(Kr.boolean(fe)?pe=fe:(pe=fe.sendNotification||!1,Re=fe.traceFormat||lo.Text)),y=O,E=Re,y===ur.Off?S=void 0:S=Z,pe&&!D()&&!k()&&await lt.sendNotification(a9.type,{value:ur.toString(O)})},"trace"),onError:z.event,onClose:V.event,onUnhandledNotification:W.event,onDispose:R.event,end:o(()=>{t.end()},"end"),dispose:o(()=>{if(k())return;w=Ns.Disposed,R.fire(void 0);let O=new ct.ResponseError(ct.ErrorCodes.PendingResponseRejected,"Pending response rejected since connection got disposed");for(let Z of _.values())Z.reject(O);_=new Map,x=new Map,b=new Set,h=new kR.LinkedMap,Kr.func(t.dispose)&&t.dispose(),Kr.func(e.dispose)&&e.dispose()},"dispose"),listen:o(()=>{de(),Ie(),w=Ns.Listening,e.listen(Ue)},"listen"),inspect:o(()=>{(0,AR.default)().console.log("inspect")},"inspect")};return lt.onNotification(_2.type,O=>{if(y===ur.Off||!S)return;let Z=y===ur.Verbose||y===ur.Compact;S.log(O.message,Z?O.verbose:void 0)}),lt.onNotification(U1.type,O=>{let Z=m.get(O.token);Z?Z(O.value):Y.fire(O)}),lt}o(ire,"createMessageConnection");pt.createMessageConnection=ire});var C2=Q(ce=>{"use strict";Object.defineProperty(ce,"__esModule",{value:!0});ce.ProgressType=ce.ProgressToken=ce.createMessageConnection=ce.NullLogger=ce.ConnectionOptions=ce.ConnectionStrategy=ce.AbstractMessageBuffer=ce.WriteableStreamMessageWriter=ce.AbstractMessageWriter=ce.MessageWriter=ce.ReadableStreamMessageReader=ce.AbstractMessageReader=ce.MessageReader=ce.SharedArrayReceiverStrategy=ce.SharedArraySenderStrategy=ce.CancellationToken=ce.CancellationTokenSource=ce.Emitter=ce.Event=ce.Disposable=ce.LRUCache=ce.Touch=ce.LinkedMap=ce.ParameterStructures=ce.NotificationType9=ce.NotificationType8=ce.NotificationType7=ce.NotificationType6=ce.NotificationType5=ce.NotificationType4=ce.NotificationType3=ce.NotificationType2=ce.NotificationType1=ce.NotificationType0=ce.NotificationType=ce.ErrorCodes=ce.ResponseError=ce.RequestType9=ce.RequestType8=ce.RequestType7=ce.RequestType6=ce.RequestType5=ce.RequestType4=ce.RequestType3=ce.RequestType2=ce.RequestType1=ce.RequestType0=ce.RequestType=ce.Message=ce.RAL=void 0;ce.MessageStrategy=ce.CancellationStrategy=ce.CancellationSenderStrategy=ce.CancellationReceiverStrategy=ce.ConnectionError=ce.ConnectionErrors=ce.LogTraceNotification=ce.SetTraceNotification=ce.TraceFormat=ce.TraceValues=ce.Trace=void 0;var Cr=L7();Object.defineProperty(ce,"Message",{enumerable:!0,get:o(function(){return Cr.Message},"get")});Object.defineProperty(ce,"RequestType",{enumerable:!0,get:o(function(){return Cr.RequestType},"get")});Object.defineProperty(ce,"RequestType0",{enumerable:!0,get:o(function(){return Cr.RequestType0},"get")});Object.defineProperty(ce,"RequestType1",{enumerable:!0,get:o(function(){return Cr.RequestType1},"get")});Object.defineProperty(ce,"RequestType2",{enumerable:!0,get:o(function(){return Cr.RequestType2},"get")});Object.defineProperty(ce,"RequestType3",{enumerable:!0,get:o(function(){return Cr.RequestType3},"get")});Object.defineProperty(ce,"RequestType4",{enumerable:!0,get:o(function(){return Cr.RequestType4},"get")});Object.defineProperty(ce,"RequestType5",{enumerable:!0,get:o(function(){return Cr.RequestType5},"get")});Object.defineProperty(ce,"RequestType6",{enumerable:!0,get:o(function(){return Cr.RequestType6},"get")});Object.defineProperty(ce,"RequestType7",{enumerable:!0,get:o(function(){return Cr.RequestType7},"get")});Object.defineProperty(ce,"RequestType8",{enumerable:!0,get:o(function(){return Cr.RequestType8},"get")});Object.defineProperty(ce,"RequestType9",{enumerable:!0,get:o(function(){return Cr.RequestType9},"get")});Object.defineProperty(ce,"ResponseError",{enumerable:!0,get:o(function(){return Cr.ResponseError},"get")});Object.defineProperty(ce,"ErrorCodes",{enumerable:!0,get:o(function(){return Cr.ErrorCodes},"get")});Object.defineProperty(ce,"NotificationType",{enumerable:!0,get:o(function(){return Cr.NotificationType},"get")});Object.defineProperty(ce,"NotificationType0",{enumerable:!0,get:o(function(){return Cr.NotificationType0},"get")});Object.defineProperty(ce,"NotificationType1",{enumerable:!0,get:o(function(){return Cr.NotificationType1},"get")});Object.defineProperty(ce,"NotificationType2",{enumerable:!0,get:o(function(){return Cr.NotificationType2},"get")});Object.defineProperty(ce,"NotificationType3",{enumerable:!0,get:o(function(){return Cr.NotificationType3},"get")});Object.defineProperty(ce,"NotificationType4",{enumerable:!0,get:o(function(){return Cr.NotificationType4},"get")});Object.defineProperty(ce,"NotificationType5",{enumerable:!0,get:o(function(){return Cr.NotificationType5},"get")});Object.defineProperty(ce,"NotificationType6",{enumerable:!0,get:o(function(){return Cr.NotificationType6},"get")});Object.defineProperty(ce,"NotificationType7",{enumerable:!0,get:o(function(){return Cr.NotificationType7},"get")});Object.defineProperty(ce,"NotificationType8",{enumerable:!0,get:o(function(){return Cr.NotificationType8},"get")});Object.defineProperty(ce,"NotificationType9",{enumerable:!0,get:o(function(){return Cr.NotificationType9},"get")});Object.defineProperty(ce,"ParameterStructures",{enumerable:!0,get:o(function(){return Cr.ParameterStructures},"get")});var u9=M7();Object.defineProperty(ce,"LinkedMap",{enumerable:!0,get:o(function(){return u9.LinkedMap},"get")});Object.defineProperty(ce,"LRUCache",{enumerable:!0,get:o(function(){return u9.LRUCache},"get")});Object.defineProperty(ce,"Touch",{enumerable:!0,get:o(function(){return u9.Touch},"get")});var ore=vR();Object.defineProperty(ce,"Disposable",{enumerable:!0,get:o(function(){return ore.Disposable},"get")});var MR=Jf();Object.defineProperty(ce,"Event",{enumerable:!0,get:o(function(){return MR.Event},"get")});Object.defineProperty(ce,"Emitter",{enumerable:!0,get:o(function(){return MR.Emitter},"get")});var UR=p2();Object.defineProperty(ce,"CancellationTokenSource",{enumerable:!0,get:o(function(){return UR.CancellationTokenSource},"get")});Object.defineProperty(ce,"CancellationToken",{enumerable:!0,get:o(function(){return UR.CancellationToken},"get")});var BR=IR();Object.defineProperty(ce,"SharedArraySenderStrategy",{enumerable:!0,get:o(function(){return BR.SharedArraySenderStrategy},"get")});Object.defineProperty(ce,"SharedArrayReceiverStrategy",{enumerable:!0,get:o(function(){return BR.SharedArrayReceiverStrategy},"get")});var f9=CR();Object.defineProperty(ce,"MessageReader",{enumerable:!0,get:o(function(){return f9.MessageReader},"get")});Object.defineProperty(ce,"AbstractMessageReader",{enumerable:!0,get:o(function(){return f9.AbstractMessageReader},"get")});Object.defineProperty(ce,"ReadableStreamMessageReader",{enumerable:!0,get:o(function(){return f9.ReadableStreamMessageReader},"get")});var d9=RR();Object.defineProperty(ce,"MessageWriter",{enumerable:!0,get:o(function(){return d9.MessageWriter},"get")});Object.defineProperty(ce,"AbstractMessageWriter",{enumerable:!0,get:o(function(){return d9.AbstractMessageWriter},"get")});Object.defineProperty(ce,"WriteableStreamMessageWriter",{enumerable:!0,get:o(function(){return d9.WriteableStreamMessageWriter},"get")});var sre=NR();Object.defineProperty(ce,"AbstractMessageBuffer",{enumerable:!0,get:o(function(){return sre.AbstractMessageBuffer},"get")});var Gn=FR();Object.defineProperty(ce,"ConnectionStrategy",{enumerable:!0,get:o(function(){return Gn.ConnectionStrategy},"get")});Object.defineProperty(ce,"ConnectionOptions",{enumerable:!0,get:o(function(){return Gn.ConnectionOptions},"get")});Object.defineProperty(ce,"NullLogger",{enumerable:!0,get:o(function(){return Gn.NullLogger},"get")});Object.defineProperty(ce,"createMessageConnection",{enumerable:!0,get:o(function(){return Gn.createMessageConnection},"get")});Object.defineProperty(ce,"ProgressToken",{enumerable:!0,get:o(function(){return Gn.ProgressToken},"get")});Object.defineProperty(ce,"ProgressType",{enumerable:!0,get:o(function(){return Gn.ProgressType},"get")});Object.defineProperty(ce,"Trace",{enumerable:!0,get:o(function(){return Gn.Trace},"get")});Object.defineProperty(ce,"TraceValues",{enumerable:!0,get:o(function(){return Gn.TraceValues},"get")});Object.defineProperty(ce,"TraceFormat",{enumerable:!0,get:o(function(){return Gn.TraceFormat},"get")});Object.defineProperty(ce,"SetTraceNotification",{enumerable:!0,get:o(function(){return Gn.SetTraceNotification},"get")});Object.defineProperty(ce,"LogTraceNotification",{enumerable:!0,get:o(function(){return Gn.LogTraceNotification},"get")});Object.defineProperty(ce,"ConnectionErrors",{enumerable:!0,get:o(function(){return Gn.ConnectionErrors},"get")});Object.defineProperty(ce,"ConnectionError",{enumerable:!0,get:o(function(){return Gn.ConnectionError},"get")});Object.defineProperty(ce,"CancellationReceiverStrategy",{enumerable:!0,get:o(function(){return Gn.CancellationReceiverStrategy},"get")});Object.defineProperty(ce,"CancellationSenderStrategy",{enumerable:!0,get:o(function(){return Gn.CancellationSenderStrategy},"get")});Object.defineProperty(ce,"CancellationStrategy",{enumerable:!0,get:o(function(){return Gn.CancellationStrategy},"get")});Object.defineProperty(ce,"MessageStrategy",{enumerable:!0,get:o(function(){return Gn.MessageStrategy},"get")});var are=bl();ce.RAL=are.default});var $R=Q(h9=>{"use strict";Object.defineProperty(h9,"__esModule",{value:!0});var c0=C2(),S2=class e extends c0.AbstractMessageBuffer{static{o(this,"MessageBuffer")}constructor(t="utf-8"){super(t),this.asciiDecoder=new TextDecoder("ascii")}emptyBuffer(){return e.emptyBuffer}fromString(t,r){return new TextEncoder().encode(t)}toString(t,r){return r==="ascii"?this.asciiDecoder.decode(t):new TextDecoder(r).decode(t)}asNative(t,r){return r===void 0?t:t.slice(0,r)}allocNative(t){return new Uint8Array(t)}};S2.emptyBuffer=new Uint8Array(0);var m9=class{static{o(this,"ReadableStreamWrapper")}constructor(t){this.socket=t,this._onData=new c0.Emitter,this._messageListener=r=>{r.data.arrayBuffer().then(i=>{this._onData.fire(new Uint8Array(i))},()=>{(0,c0.RAL)().console.error("Converting blob to array buffer failed.")})},this.socket.addEventListener("message",this._messageListener)}onClose(t){return this.socket.addEventListener("close",t),c0.Disposable.create(()=>this.socket.removeEventListener("close",t))}onError(t){return this.socket.addEventListener("error",t),c0.Disposable.create(()=>this.socket.removeEventListener("error",t))}onEnd(t){return this.socket.addEventListener("end",t),c0.Disposable.create(()=>this.socket.removeEventListener("end",t))}onData(t){return this._onData.event(t)}},p9=class{static{o(this,"WritableStreamWrapper")}constructor(t){this.socket=t}onClose(t){return this.socket.addEventListener("close",t),c0.Disposable.create(()=>this.socket.removeEventListener("close",t))}onError(t){return this.socket.addEventListener("error",t),c0.Disposable.create(()=>this.socket.removeEventListener("error",t))}onEnd(t){return this.socket.addEventListener("end",t),c0.Disposable.create(()=>this.socket.removeEventListener("end",t))}write(t,r){if(typeof t=="string"){if(r!==void 0&&r!=="utf-8")throw new Error(`In a Browser environments only utf-8 text encoding is supported. But got encoding: ${r}`);this.socket.send(t)}else this.socket.send(t);return Promise.resolve()}end(){this.socket.close()}},lre=new TextEncoder,jR=Object.freeze({messageBuffer:Object.freeze({create:o(e=>new S2(e),"create")}),applicationJson:Object.freeze({encoder:Object.freeze({name:"application/json",encode:o((e,t)=>{if(t.charset!=="utf-8")throw new Error(`In a Browser environments only utf-8 text encoding is supported. But got encoding: ${t.charset}`);return Promise.resolve(lre.encode(JSON.stringify(e,void 0,0)))},"encode")}),decoder:Object.freeze({name:"application/json",decode:o((e,t)=>{if(!(e instanceof Uint8Array))throw new Error("In a Browser environments only Uint8Arrays are supported.");return Promise.resolve(JSON.parse(new TextDecoder(t.charset).decode(e)))},"decode")})}),stream:Object.freeze({asReadableStream:o(e=>new m9(e),"asReadableStream"),asWritableStream:o(e=>new p9(e),"asWritableStream")}),console,timer:Object.freeze({setTimeout(e,t,...r){let n=setTimeout(e,t,...r);return{dispose:o(()=>clearTimeout(n),"dispose")}},setImmediate(e,...t){let r=setTimeout(e,0,...t);return{dispose:o(()=>clearTimeout(r),"dispose")}},setInterval(e,t,...r){let n=setInterval(e,t,...r);return{dispose:o(()=>clearInterval(n),"dispose")}}})});function g9(){return jR}o(g9,"RIL");(function(e){function t(){c0.RAL.install(jR)}o(t,"install"),e.install=t})(g9||(g9={}));h9.default=g9});var Hc=Q(co=>{"use strict";var cre=co&&co.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:o(function(){return t[r]},"get")}),Object.defineProperty(e,n,i)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),ure=co&&co.__exportStar||function(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&cre(t,e,r)};Object.defineProperty(co,"__esModule",{value:!0});co.createMessageConnection=co.BrowserMessageWriter=co.BrowserMessageReader=void 0;var fre=$R();fre.default.install();var rd=C2();ure(C2(),co);var x9=class extends rd.AbstractMessageReader{static{o(this,"BrowserMessageReader")}constructor(t){super(),this._onData=new rd.Emitter,this._messageListener=r=>{this._onData.fire(r.data)},t.addEventListener("error",r=>this.fireError(r)),t.onmessage=this._messageListener}listen(t){return this._onData.event(t)}};co.BrowserMessageReader=x9;var b9=class extends rd.AbstractMessageWriter{static{o(this,"BrowserMessageWriter")}constructor(t){super(),this.port=t,this.errorCount=0,t.addEventListener("error",r=>this.fireError(r))}write(t){try{return this.port.postMessage(t),Promise.resolve()}catch(r){return this.handleError(r,t),Promise.reject(r)}}handleError(t,r){this.errorCount++,this.fireError(t,r,this.errorCount)}end(){}};co.BrowserMessageWriter=b9;function dre(e,t,r,n){return r===void 0&&(r=rd.NullLogger),rd.ConnectionStrategy.is(n)&&(n={connectionStrategy:n}),(0,rd.createMessageConnection)(e,t,r,n)}o(dre,"createMessageConnection");co.createMessageConnection=dre});var _9=Q((FSe,qR)=>{"use strict";qR.exports=Hc()});var L2={};Vs(L2,{AnnotatedTextEdit:()=>da,ChangeAnnotation:()=>Vc,ChangeAnnotationIdentifier:()=>Hn,CodeAction:()=>e_,CodeActionContext:()=>Q9,CodeActionKind:()=>Z9,CodeActionTriggerKind:()=>V1,CodeDescription:()=>D9,CodeLens:()=>t_,Color:()=>P2,ColorInformation:()=>I9,ColorPresentation:()=>E9,Command:()=>Kc,CompletionItem:()=>j9,CompletionItemKind:()=>O9,CompletionItemLabelDetails:()=>B9,CompletionItemTag:()=>F9,CompletionList:()=>$9,CreateFile:()=>id,DeleteFile:()=>sd,Diagnostic:()=>W1,DiagnosticRelatedInformation:()=>D2,DiagnosticSeverity:()=>w9,DiagnosticTag:()=>P9,DocumentHighlight:()=>H9,DocumentHighlightKind:()=>z9,DocumentLink:()=>n_,DocumentSymbol:()=>J9,DocumentUri:()=>y9,EOL:()=>mre,FoldingRange:()=>S9,FoldingRangeKind:()=>C9,FormattingOptions:()=>r_,Hover:()=>q9,InlayHint:()=>d_,InlayHintKind:()=>k2,InlayHintLabelPart:()=>O2,InlineCompletionContext:()=>b_,InlineCompletionItem:()=>p_,InlineCompletionList:()=>g_,InlineCompletionTriggerKind:()=>h_,InlineValueContext:()=>f_,InlineValueEvaluatableExpression:()=>u_,InlineValueText:()=>l_,InlineValueVariableLookup:()=>c_,InsertReplaceEdit:()=>M9,InsertTextFormat:()=>L9,InsertTextMode:()=>U9,Location:()=>q1,LocationLink:()=>T9,MarkedString:()=>H1,MarkupContent:()=>ad,MarkupKind:()=>A2,OptionalVersionedTextDocumentIdentifier:()=>z1,ParameterInformation:()=>W9,Position:()=>zn,Range:()=>vr,RenameFile:()=>od,SelectedCompletionInfo:()=>x_,SelectionRange:()=>i_,SemanticTokenModifiers:()=>s_,SemanticTokenTypes:()=>o_,SemanticTokens:()=>a_,SignatureInformation:()=>G9,StringValue:()=>m_,SymbolInformation:()=>Y9,SymbolKind:()=>V9,SymbolTag:()=>K9,TextDocument:()=>y_,TextDocumentEdit:()=>G1,TextDocumentIdentifier:()=>N9,TextDocumentItem:()=>k9,TextEdit:()=>u0,URI:()=>w2,VersionedTextDocumentIdentifier:()=>A9,WorkspaceChange:()=>R9,WorkspaceEdit:()=>R2,WorkspaceFolder:()=>__,WorkspaceSymbol:()=>X9,integer:()=>v9,uinteger:()=>$1});var y9,w2,v9,$1,zn,vr,q1,T9,P2,I9,E9,C9,S9,D2,w9,P9,D9,W1,Kc,u0,Vc,Hn,da,G1,id,od,sd,R2,nd,N2,R9,N9,A9,z1,k9,A2,ad,O9,L9,F9,M9,U9,B9,j9,$9,H1,q9,W9,G9,z9,H9,V9,K9,Y9,X9,J9,Z9,V1,Q9,e_,t_,r_,n_,i_,o_,s_,a_,l_,c_,u_,f_,k2,O2,d_,m_,p_,g_,h_,x_,b_,__,mre,y_,v_,J,K1=ZW(()=>{"use strict";(function(e){function t(r){return typeof r=="string"}o(t,"is"),e.is=t})(y9||(y9={}));(function(e){function t(r){return typeof r=="string"}o(t,"is"),e.is=t})(w2||(w2={}));(function(e){e.MIN_VALUE=-2147483648,e.MAX_VALUE=2147483647;function t(r){return typeof r=="number"&&e.MIN_VALUE<=r&&r<=e.MAX_VALUE}o(t,"is"),e.is=t})(v9||(v9={}));(function(e){e.MIN_VALUE=0,e.MAX_VALUE=2147483647;function t(r){return typeof r=="number"&&e.MIN_VALUE<=r&&r<=e.MAX_VALUE}o(t,"is"),e.is=t})($1||($1={}));(function(e){function t(n,i){return n===Number.MAX_VALUE&&(n=$1.MAX_VALUE),i===Number.MAX_VALUE&&(i=$1.MAX_VALUE),{line:n,character:i}}o(t,"create"),e.create=t;function r(n){let i=n;return J.objectLiteral(i)&&J.uinteger(i.line)&&J.uinteger(i.character)}o(r,"is"),e.is=r})(zn||(zn={}));(function(e){function t(n,i,s,a){if(J.uinteger(n)&&J.uinteger(i)&&J.uinteger(s)&&J.uinteger(a))return{start:zn.create(n,i),end:zn.create(s,a)};if(zn.is(n)&&zn.is(i))return{start:n,end:i};throw new Error(`Range#create called with invalid arguments[${n}, ${i}, ${s}, ${a}]`)}o(t,"create"),e.create=t;function r(n){let i=n;return J.objectLiteral(i)&&zn.is(i.start)&&zn.is(i.end)}o(r,"is"),e.is=r})(vr||(vr={}));(function(e){function t(n,i){return{uri:n,range:i}}o(t,"create"),e.create=t;function r(n){let i=n;return J.objectLiteral(i)&&vr.is(i.range)&&(J.string(i.uri)||J.undefined(i.uri))}o(r,"is"),e.is=r})(q1||(q1={}));(function(e){function t(n,i,s,a){return{targetUri:n,targetRange:i,targetSelectionRange:s,originSelectionRange:a}}o(t,"create"),e.create=t;function r(n){let i=n;return J.objectLiteral(i)&&vr.is(i.targetRange)&&J.string(i.targetUri)&&vr.is(i.targetSelectionRange)&&(vr.is(i.originSelectionRange)||J.undefined(i.originSelectionRange))}o(r,"is"),e.is=r})(T9||(T9={}));(function(e){function t(n,i,s,a){return{red:n,green:i,blue:s,alpha:a}}o(t,"create"),e.create=t;function r(n){let i=n;return J.objectLiteral(i)&&J.numberRange(i.red,0,1)&&J.numberRange(i.green,0,1)&&J.numberRange(i.blue,0,1)&&J.numberRange(i.alpha,0,1)}o(r,"is"),e.is=r})(P2||(P2={}));(function(e){function t(n,i){return{range:n,color:i}}o(t,"create"),e.create=t;function r(n){let i=n;return J.objectLiteral(i)&&vr.is(i.range)&&P2.is(i.color)}o(r,"is"),e.is=r})(I9||(I9={}));(function(e){function t(n,i,s){return{label:n,textEdit:i,additionalTextEdits:s}}o(t,"create"),e.create=t;function r(n){let i=n;return J.objectLiteral(i)&&J.string(i.label)&&(J.undefined(i.textEdit)||u0.is(i))&&(J.undefined(i.additionalTextEdits)||J.typedArray(i.additionalTextEdits,u0.is))}o(r,"is"),e.is=r})(E9||(E9={}));(function(e){e.Comment="comment",e.Imports="imports",e.Region="region"})(C9||(C9={}));(function(e){function t(n,i,s,a,l,c){let f={startLine:n,endLine:i};return J.defined(s)&&(f.startCharacter=s),J.defined(a)&&(f.endCharacter=a),J.defined(l)&&(f.kind=l),J.defined(c)&&(f.collapsedText=c),f}o(t,"create"),e.create=t;function r(n){let i=n;return J.objectLiteral(i)&&J.uinteger(i.startLine)&&J.uinteger(i.startLine)&&(J.undefined(i.startCharacter)||J.uinteger(i.startCharacter))&&(J.undefined(i.endCharacter)||J.uinteger(i.endCharacter))&&(J.undefined(i.kind)||J.string(i.kind))}o(r,"is"),e.is=r})(S9||(S9={}));(function(e){function t(n,i){return{location:n,message:i}}o(t,"create"),e.create=t;function r(n){let i=n;return J.defined(i)&&q1.is(i.location)&&J.string(i.message)}o(r,"is"),e.is=r})(D2||(D2={}));(function(e){e.Error=1,e.Warning=2,e.Information=3,e.Hint=4})(w9||(w9={}));(function(e){e.Unnecessary=1,e.Deprecated=2})(P9||(P9={}));(function(e){function t(r){let n=r;return J.objectLiteral(n)&&J.string(n.href)}o(t,"is"),e.is=t})(D9||(D9={}));(function(e){function t(n,i,s,a,l,c){let f={range:n,message:i};return J.defined(s)&&(f.severity=s),J.defined(a)&&(f.code=a),J.defined(l)&&(f.source=l),J.defined(c)&&(f.relatedInformation=c),f}o(t,"create"),e.create=t;function r(n){var i;let s=n;return J.defined(s)&&vr.is(s.range)&&J.string(s.message)&&(J.number(s.severity)||J.undefined(s.severity))&&(J.integer(s.code)||J.string(s.code)||J.undefined(s.code))&&(J.undefined(s.codeDescription)||J.string((i=s.codeDescription)===null||i===void 0?void 0:i.href))&&(J.string(s.source)||J.undefined(s.source))&&(J.undefined(s.relatedInformation)||J.typedArray(s.relatedInformation,D2.is))}o(r,"is"),e.is=r})(W1||(W1={}));(function(e){function t(n,i,...s){let a={title:n,command:i};return J.defined(s)&&s.length>0&&(a.arguments=s),a}o(t,"create"),e.create=t;function r(n){let i=n;return J.defined(i)&&J.string(i.title)&&J.string(i.command)}o(r,"is"),e.is=r})(Kc||(Kc={}));(function(e){function t(s,a){return{range:s,newText:a}}o(t,"replace"),e.replace=t;function r(s,a){return{range:{start:s,end:s},newText:a}}o(r,"insert"),e.insert=r;function n(s){return{range:s,newText:""}}o(n,"del"),e.del=n;function i(s){let a=s;return J.objectLiteral(a)&&J.string(a.newText)&&vr.is(a.range)}o(i,"is"),e.is=i})(u0||(u0={}));(function(e){function t(n,i,s){let a={label:n};return i!==void 0&&(a.needsConfirmation=i),s!==void 0&&(a.description=s),a}o(t,"create"),e.create=t;function r(n){let i=n;return J.objectLiteral(i)&&J.string(i.label)&&(J.boolean(i.needsConfirmation)||i.needsConfirmation===void 0)&&(J.string(i.description)||i.description===void 0)}o(r,"is"),e.is=r})(Vc||(Vc={}));(function(e){function t(r){let n=r;return J.string(n)}o(t,"is"),e.is=t})(Hn||(Hn={}));(function(e){function t(s,a,l){return{range:s,newText:a,annotationId:l}}o(t,"replace"),e.replace=t;function r(s,a,l){return{range:{start:s,end:s},newText:a,annotationId:l}}o(r,"insert"),e.insert=r;function n(s,a){return{range:s,newText:"",annotationId:a}}o(n,"del"),e.del=n;function i(s){let a=s;return u0.is(a)&&(Vc.is(a.annotationId)||Hn.is(a.annotationId))}o(i,"is"),e.is=i})(da||(da={}));(function(e){function t(n,i){return{textDocument:n,edits:i}}o(t,"create"),e.create=t;function r(n){let i=n;return J.defined(i)&&z1.is(i.textDocument)&&Array.isArray(i.edits)}o(r,"is"),e.is=r})(G1||(G1={}));(function(e){function t(n,i,s){let a={kind:"create",uri:n};return i!==void 0&&(i.overwrite!==void 0||i.ignoreIfExists!==void 0)&&(a.options=i),s!==void 0&&(a.annotationId=s),a}o(t,"create"),e.create=t;function r(n){let i=n;return i&&i.kind==="create"&&J.string(i.uri)&&(i.options===void 0||(i.options.overwrite===void 0||J.boolean(i.options.overwrite))&&(i.options.ignoreIfExists===void 0||J.boolean(i.options.ignoreIfExists)))&&(i.annotationId===void 0||Hn.is(i.annotationId))}o(r,"is"),e.is=r})(id||(id={}));(function(e){function t(n,i,s,a){let l={kind:"rename",oldUri:n,newUri:i};return s!==void 0&&(s.overwrite!==void 0||s.ignoreIfExists!==void 0)&&(l.options=s),a!==void 0&&(l.annotationId=a),l}o(t,"create"),e.create=t;function r(n){let i=n;return i&&i.kind==="rename"&&J.string(i.oldUri)&&J.string(i.newUri)&&(i.options===void 0||(i.options.overwrite===void 0||J.boolean(i.options.overwrite))&&(i.options.ignoreIfExists===void 0||J.boolean(i.options.ignoreIfExists)))&&(i.annotationId===void 0||Hn.is(i.annotationId))}o(r,"is"),e.is=r})(od||(od={}));(function(e){function t(n,i,s){let a={kind:"delete",uri:n};return i!==void 0&&(i.recursive!==void 0||i.ignoreIfNotExists!==void 0)&&(a.options=i),s!==void 0&&(a.annotationId=s),a}o(t,"create"),e.create=t;function r(n){let i=n;return i&&i.kind==="delete"&&J.string(i.uri)&&(i.options===void 0||(i.options.recursive===void 0||J.boolean(i.options.recursive))&&(i.options.ignoreIfNotExists===void 0||J.boolean(i.options.ignoreIfNotExists)))&&(i.annotationId===void 0||Hn.is(i.annotationId))}o(r,"is"),e.is=r})(sd||(sd={}));(function(e){function t(r){let n=r;return n&&(n.changes!==void 0||n.documentChanges!==void 0)&&(n.documentChanges===void 0||n.documentChanges.every(i=>J.string(i.kind)?id.is(i)||od.is(i)||sd.is(i):G1.is(i)))}o(t,"is"),e.is=t})(R2||(R2={}));nd=class{static{o(this,"TextEditChangeImpl")}constructor(t,r){this.edits=t,this.changeAnnotations=r}insert(t,r,n){let i,s;if(n===void 0?i=u0.insert(t,r):Hn.is(n)?(s=n,i=da.insert(t,r,n)):(this.assertChangeAnnotations(this.changeAnnotations),s=this.changeAnnotations.manage(n),i=da.insert(t,r,s)),this.edits.push(i),s!==void 0)return s}replace(t,r,n){let i,s;if(n===void 0?i=u0.replace(t,r):Hn.is(n)?(s=n,i=da.replace(t,r,n)):(this.assertChangeAnnotations(this.changeAnnotations),s=this.changeAnnotations.manage(n),i=da.replace(t,r,s)),this.edits.push(i),s!==void 0)return s}delete(t,r){let n,i;if(r===void 0?n=u0.del(t):Hn.is(r)?(i=r,n=da.del(t,r)):(this.assertChangeAnnotations(this.changeAnnotations),i=this.changeAnnotations.manage(r),n=da.del(t,i)),this.edits.push(n),i!==void 0)return i}add(t){this.edits.push(t)}all(){return this.edits}clear(){this.edits.splice(0,this.edits.length)}assertChangeAnnotations(t){if(t===void 0)throw new Error("Text edit change is not configured to manage change annotations.")}},N2=class{static{o(this,"ChangeAnnotations")}constructor(t){this._annotations=t===void 0?Object.create(null):t,this._counter=0,this._size=0}all(){return this._annotations}get size(){return this._size}manage(t,r){let n;if(Hn.is(t)?n=t:(n=this.nextId(),r=t),this._annotations[n]!==void 0)throw new Error(`Id ${n} is already in use.`);if(r===void 0)throw new Error(`No annotation provided for id ${n}`);return this._annotations[n]=r,this._size++,n}nextId(){return this._counter++,this._counter.toString()}},R9=class{static{o(this,"WorkspaceChange")}constructor(t){this._textEditChanges=Object.create(null),t!==void 0?(this._workspaceEdit=t,t.documentChanges?(this._changeAnnotations=new N2(t.changeAnnotations),t.changeAnnotations=this._changeAnnotations.all(),t.documentChanges.forEach(r=>{if(G1.is(r)){let n=new nd(r.edits,this._changeAnnotations);this._textEditChanges[r.textDocument.uri]=n}})):t.changes&&Object.keys(t.changes).forEach(r=>{let n=new nd(t.changes[r]);this._textEditChanges[r]=n})):this._workspaceEdit={}}get edit(){return this.initDocumentChanges(),this._changeAnnotations!==void 0&&(this._changeAnnotations.size===0?this._workspaceEdit.changeAnnotations=void 0:this._workspaceEdit.changeAnnotations=this._changeAnnotations.all()),this._workspaceEdit}getTextEditChange(t){if(z1.is(t)){if(this.initDocumentChanges(),this._workspaceEdit.documentChanges===void 0)throw new Error("Workspace edit is not configured for document changes.");let r={uri:t.uri,version:t.version},n=this._textEditChanges[r.uri];if(!n){let i=[],s={textDocument:r,edits:i};this._workspaceEdit.documentChanges.push(s),n=new nd(i,this._changeAnnotations),this._textEditChanges[r.uri]=n}return n}else{if(this.initChanges(),this._workspaceEdit.changes===void 0)throw new Error("Workspace edit is not configured for normal text edit changes.");let r=this._textEditChanges[t];if(!r){let n=[];this._workspaceEdit.changes[t]=n,r=new nd(n),this._textEditChanges[t]=r}return r}}initDocumentChanges(){this._workspaceEdit.documentChanges===void 0&&this._workspaceEdit.changes===void 0&&(this._changeAnnotations=new N2,this._workspaceEdit.documentChanges=[],this._workspaceEdit.changeAnnotations=this._changeAnnotations.all())}initChanges(){this._workspaceEdit.documentChanges===void 0&&this._workspaceEdit.changes===void 0&&(this._workspaceEdit.changes=Object.create(null))}createFile(t,r,n){if(this.initDocumentChanges(),this._workspaceEdit.documentChanges===void 0)throw new Error("Workspace edit is not configured for document changes.");let i;Vc.is(r)||Hn.is(r)?i=r:n=r;let s,a;if(i===void 0?s=id.create(t,n):(a=Hn.is(i)?i:this._changeAnnotations.manage(i),s=id.create(t,n,a)),this._workspaceEdit.documentChanges.push(s),a!==void 0)return a}renameFile(t,r,n,i){if(this.initDocumentChanges(),this._workspaceEdit.documentChanges===void 0)throw new Error("Workspace edit is not configured for document changes.");let s;Vc.is(n)||Hn.is(n)?s=n:i=n;let a,l;if(s===void 0?a=od.create(t,r,i):(l=Hn.is(s)?s:this._changeAnnotations.manage(s),a=od.create(t,r,i,l)),this._workspaceEdit.documentChanges.push(a),l!==void 0)return l}deleteFile(t,r,n){if(this.initDocumentChanges(),this._workspaceEdit.documentChanges===void 0)throw new Error("Workspace edit is not configured for document changes.");let i;Vc.is(r)||Hn.is(r)?i=r:n=r;let s,a;if(i===void 0?s=sd.create(t,n):(a=Hn.is(i)?i:this._changeAnnotations.manage(i),s=sd.create(t,n,a)),this._workspaceEdit.documentChanges.push(s),a!==void 0)return a}};(function(e){function t(n){return{uri:n}}o(t,"create"),e.create=t;function r(n){let i=n;return J.defined(i)&&J.string(i.uri)}o(r,"is"),e.is=r})(N9||(N9={}));(function(e){function t(n,i){return{uri:n,version:i}}o(t,"create"),e.create=t;function r(n){let i=n;return J.defined(i)&&J.string(i.uri)&&J.integer(i.version)}o(r,"is"),e.is=r})(A9||(A9={}));(function(e){function t(n,i){return{uri:n,version:i}}o(t,"create"),e.create=t;function r(n){let i=n;return J.defined(i)&&J.string(i.uri)&&(i.version===null||J.integer(i.version))}o(r,"is"),e.is=r})(z1||(z1={}));(function(e){function t(n,i,s,a){return{uri:n,languageId:i,version:s,text:a}}o(t,"create"),e.create=t;function r(n){let i=n;return J.defined(i)&&J.string(i.uri)&&J.string(i.languageId)&&J.integer(i.version)&&J.string(i.text)}o(r,"is"),e.is=r})(k9||(k9={}));(function(e){e.PlainText="plaintext",e.Markdown="markdown";function t(r){let n=r;return n===e.PlainText||n===e.Markdown}o(t,"is"),e.is=t})(A2||(A2={}));(function(e){function t(r){let n=r;return J.objectLiteral(r)&&A2.is(n.kind)&&J.string(n.value)}o(t,"is"),e.is=t})(ad||(ad={}));(function(e){e.Text=1,e.Method=2,e.Function=3,e.Constructor=4,e.Field=5,e.Variable=6,e.Class=7,e.Interface=8,e.Module=9,e.Property=10,e.Unit=11,e.Value=12,e.Enum=13,e.Keyword=14,e.Snippet=15,e.Color=16,e.File=17,e.Reference=18,e.Folder=19,e.EnumMember=20,e.Constant=21,e.Struct=22,e.Event=23,e.Operator=24,e.TypeParameter=25})(O9||(O9={}));(function(e){e.PlainText=1,e.Snippet=2})(L9||(L9={}));(function(e){e.Deprecated=1})(F9||(F9={}));(function(e){function t(n,i,s){return{newText:n,insert:i,replace:s}}o(t,"create"),e.create=t;function r(n){let i=n;return i&&J.string(i.newText)&&vr.is(i.insert)&&vr.is(i.replace)}o(r,"is"),e.is=r})(M9||(M9={}));(function(e){e.asIs=1,e.adjustIndentation=2})(U9||(U9={}));(function(e){function t(r){let n=r;return n&&(J.string(n.detail)||n.detail===void 0)&&(J.string(n.description)||n.description===void 0)}o(t,"is"),e.is=t})(B9||(B9={}));(function(e){function t(r){return{label:r}}o(t,"create"),e.create=t})(j9||(j9={}));(function(e){function t(r,n){return{items:r||[],isIncomplete:!!n}}o(t,"create"),e.create=t})($9||($9={}));(function(e){function t(n){return n.replace(/[\\`*_{}[\]()#+\-.!]/g,"\\$&")}o(t,"fromPlainText"),e.fromPlainText=t;function r(n){let i=n;return J.string(i)||J.objectLiteral(i)&&J.string(i.language)&&J.string(i.value)}o(r,"is"),e.is=r})(H1||(H1={}));(function(e){function t(r){let n=r;return!!n&&J.objectLiteral(n)&&(ad.is(n.contents)||H1.is(n.contents)||J.typedArray(n.contents,H1.is))&&(r.range===void 0||vr.is(r.range))}o(t,"is"),e.is=t})(q9||(q9={}));(function(e){function t(r,n){return n?{label:r,documentation:n}:{label:r}}o(t,"create"),e.create=t})(W9||(W9={}));(function(e){function t(r,n,...i){let s={label:r};return J.defined(n)&&(s.documentation=n),J.defined(i)?s.parameters=i:s.parameters=[],s}o(t,"create"),e.create=t})(G9||(G9={}));(function(e){e.Text=1,e.Read=2,e.Write=3})(z9||(z9={}));(function(e){function t(r,n){let i={range:r};return J.number(n)&&(i.kind=n),i}o(t,"create"),e.create=t})(H9||(H9={}));(function(e){e.File=1,e.Module=2,e.Namespace=3,e.Package=4,e.Class=5,e.Method=6,e.Property=7,e.Field=8,e.Constructor=9,e.Enum=10,e.Interface=11,e.Function=12,e.Variable=13,e.Constant=14,e.String=15,e.Number=16,e.Boolean=17,e.Array=18,e.Object=19,e.Key=20,e.Null=21,e.EnumMember=22,e.Struct=23,e.Event=24,e.Operator=25,e.TypeParameter=26})(V9||(V9={}));(function(e){e.Deprecated=1})(K9||(K9={}));(function(e){function t(r,n,i,s,a){let l={name:r,kind:n,location:{uri:s,range:i}};return a&&(l.containerName=a),l}o(t,"create"),e.create=t})(Y9||(Y9={}));(function(e){function t(r,n,i,s){return s!==void 0?{name:r,kind:n,location:{uri:i,range:s}}:{name:r,kind:n,location:{uri:i}}}o(t,"create"),e.create=t})(X9||(X9={}));(function(e){function t(n,i,s,a,l,c){let f={name:n,detail:i,kind:s,range:a,selectionRange:l};return c!==void 0&&(f.children=c),f}o(t,"create"),e.create=t;function r(n){let i=n;return i&&J.string(i.name)&&J.number(i.kind)&&vr.is(i.range)&&vr.is(i.selectionRange)&&(i.detail===void 0||J.string(i.detail))&&(i.deprecated===void 0||J.boolean(i.deprecated))&&(i.children===void 0||Array.isArray(i.children))&&(i.tags===void 0||Array.isArray(i.tags))}o(r,"is"),e.is=r})(J9||(J9={}));(function(e){e.Empty="",e.QuickFix="quickfix",e.Refactor="refactor",e.RefactorExtract="refactor.extract",e.RefactorInline="refactor.inline",e.RefactorRewrite="refactor.rewrite",e.Source="source",e.SourceOrganizeImports="source.organizeImports",e.SourceFixAll="source.fixAll"})(Z9||(Z9={}));(function(e){e.Invoked=1,e.Automatic=2})(V1||(V1={}));(function(e){function t(n,i,s){let a={diagnostics:n};return i!=null&&(a.only=i),s!=null&&(a.triggerKind=s),a}o(t,"create"),e.create=t;function r(n){let i=n;return J.defined(i)&&J.typedArray(i.diagnostics,W1.is)&&(i.only===void 0||J.typedArray(i.only,J.string))&&(i.triggerKind===void 0||i.triggerKind===V1.Invoked||i.triggerKind===V1.Automatic)}o(r,"is"),e.is=r})(Q9||(Q9={}));(function(e){function t(n,i,s){let a={title:n},l=!0;return typeof i=="string"?(l=!1,a.kind=i):Kc.is(i)?a.command=i:a.edit=i,l&&s!==void 0&&(a.kind=s),a}o(t,"create"),e.create=t;function r(n){let i=n;return i&&J.string(i.title)&&(i.diagnostics===void 0||J.typedArray(i.diagnostics,W1.is))&&(i.kind===void 0||J.string(i.kind))&&(i.edit!==void 0||i.command!==void 0)&&(i.command===void 0||Kc.is(i.command))&&(i.isPreferred===void 0||J.boolean(i.isPreferred))&&(i.edit===void 0||R2.is(i.edit))}o(r,"is"),e.is=r})(e_||(e_={}));(function(e){function t(n,i){let s={range:n};return J.defined(i)&&(s.data=i),s}o(t,"create"),e.create=t;function r(n){let i=n;return J.defined(i)&&vr.is(i.range)&&(J.undefined(i.command)||Kc.is(i.command))}o(r,"is"),e.is=r})(t_||(t_={}));(function(e){function t(n,i){return{tabSize:n,insertSpaces:i}}o(t,"create"),e.create=t;function r(n){let i=n;return J.defined(i)&&J.uinteger(i.tabSize)&&J.boolean(i.insertSpaces)}o(r,"is"),e.is=r})(r_||(r_={}));(function(e){function t(n,i,s){return{range:n,target:i,data:s}}o(t,"create"),e.create=t;function r(n){let i=n;return J.defined(i)&&vr.is(i.range)&&(J.undefined(i.target)||J.string(i.target))}o(r,"is"),e.is=r})(n_||(n_={}));(function(e){function t(n,i){return{range:n,parent:i}}o(t,"create"),e.create=t;function r(n){let i=n;return J.objectLiteral(i)&&vr.is(i.range)&&(i.parent===void 0||e.is(i.parent))}o(r,"is"),e.is=r})(i_||(i_={}));(function(e){e.namespace="namespace",e.type="type",e.class="class",e.enum="enum",e.interface="interface",e.struct="struct",e.typeParameter="typeParameter",e.parameter="parameter",e.variable="variable",e.property="property",e.enumMember="enumMember",e.event="event",e.function="function",e.method="method",e.macro="macro",e.keyword="keyword",e.modifier="modifier",e.comment="comment",e.string="string",e.number="number",e.regexp="regexp",e.operator="operator",e.decorator="decorator"})(o_||(o_={}));(function(e){e.declaration="declaration",e.definition="definition",e.readonly="readonly",e.static="static",e.deprecated="deprecated",e.abstract="abstract",e.async="async",e.modification="modification",e.documentation="documentation",e.defaultLibrary="defaultLibrary"})(s_||(s_={}));(function(e){function t(r){let n=r;return J.objectLiteral(n)&&(n.resultId===void 0||typeof n.resultId=="string")&&Array.isArray(n.data)&&(n.data.length===0||typeof n.data[0]=="number")}o(t,"is"),e.is=t})(a_||(a_={}));(function(e){function t(n,i){return{range:n,text:i}}o(t,"create"),e.create=t;function r(n){let i=n;return i!=null&&vr.is(i.range)&&J.string(i.text)}o(r,"is"),e.is=r})(l_||(l_={}));(function(e){function t(n,i,s){return{range:n,variableName:i,caseSensitiveLookup:s}}o(t,"create"),e.create=t;function r(n){let i=n;return i!=null&&vr.is(i.range)&&J.boolean(i.caseSensitiveLookup)&&(J.string(i.variableName)||i.variableName===void 0)}o(r,"is"),e.is=r})(c_||(c_={}));(function(e){function t(n,i){return{range:n,expression:i}}o(t,"create"),e.create=t;function r(n){let i=n;return i!=null&&vr.is(i.range)&&(J.string(i.expression)||i.expression===void 0)}o(r,"is"),e.is=r})(u_||(u_={}));(function(e){function t(n,i){return{frameId:n,stoppedLocation:i}}o(t,"create"),e.create=t;function r(n){let i=n;return J.defined(i)&&vr.is(n.stoppedLocation)}o(r,"is"),e.is=r})(f_||(f_={}));(function(e){e.Type=1,e.Parameter=2;function t(r){return r===1||r===2}o(t,"is"),e.is=t})(k2||(k2={}));(function(e){function t(n){return{value:n}}o(t,"create"),e.create=t;function r(n){let i=n;return J.objectLiteral(i)&&(i.tooltip===void 0||J.string(i.tooltip)||ad.is(i.tooltip))&&(i.location===void 0||q1.is(i.location))&&(i.command===void 0||Kc.is(i.command))}o(r,"is"),e.is=r})(O2||(O2={}));(function(e){function t(n,i,s){let a={position:n,label:i};return s!==void 0&&(a.kind=s),a}o(t,"create"),e.create=t;function r(n){let i=n;return J.objectLiteral(i)&&zn.is(i.position)&&(J.string(i.label)||J.typedArray(i.label,O2.is))&&(i.kind===void 0||k2.is(i.kind))&&i.textEdits===void 0||J.typedArray(i.textEdits,u0.is)&&(i.tooltip===void 0||J.string(i.tooltip)||ad.is(i.tooltip))&&(i.paddingLeft===void 0||J.boolean(i.paddingLeft))&&(i.paddingRight===void 0||J.boolean(i.paddingRight))}o(r,"is"),e.is=r})(d_||(d_={}));(function(e){function t(r){return{kind:"snippet",value:r}}o(t,"createSnippet"),e.createSnippet=t})(m_||(m_={}));(function(e){function t(r,n,i,s){return{insertText:r,filterText:n,range:i,command:s}}o(t,"create"),e.create=t})(p_||(p_={}));(function(e){function t(r){return{items:r}}o(t,"create"),e.create=t})(g_||(g_={}));(function(e){e.Invoked=0,e.Automatic=1})(h_||(h_={}));(function(e){function t(r,n){return{range:r,text:n}}o(t,"create"),e.create=t})(x_||(x_={}));(function(e){function t(r,n){return{triggerKind:r,selectedCompletionInfo:n}}o(t,"create"),e.create=t})(b_||(b_={}));(function(e){function t(r){let n=r;return J.objectLiteral(n)&&w2.is(n.uri)&&J.string(n.name)}o(t,"is"),e.is=t})(__||(__={}));mre=[`
`,`\r
`,"\r"];(function(e){function t(s,a,l,c){return new v_(s,a,l,c)}o(t,"create"),e.create=t;function r(s){let a=s;return!!(J.defined(a)&&J.string(a.uri)&&(J.undefined(a.languageId)||J.string(a.languageId))&&J.uinteger(a.lineCount)&&J.func(a.getText)&&J.func(a.positionAt)&&J.func(a.offsetAt))}o(r,"is"),e.is=r;function n(s,a){let l=s.getText(),c=i(a,(u,d)=>{let p=u.range.start.line-d.range.start.line;return p===0?u.range.start.character-d.range.start.character:p}),f=l.length;for(let u=c.length-1;u>=0;u--){let d=c[u],p=s.offsetAt(d.range.start),m=s.offsetAt(d.range.end);if(m<=f)l=l.substring(0,p)+d.newText+l.substring(m,l.length);else throw new Error("Overlapping edit");f=p}return l}o(n,"applyEdits"),e.applyEdits=n;function i(s,a){if(s.length<=1)return s;let l=s.length/2|0,c=s.slice(0,l),f=s.slice(l);i(c,a),i(f,a);let u=0,d=0,p=0;for(;u<c.length&&d<f.length;)a(c[u],f[d])<=0?s[p++]=c[u++]:s[p++]=f[d++];for(;u<c.length;)s[p++]=c[u++];for(;d<f.length;)s[p++]=f[d++];return s}o(i,"mergeSort")})(y_||(y_={}));v_=class{static{o(this,"FullTextDocument")}constructor(t,r,n,i){this._uri=t,this._languageId=r,this._version=n,this._content=i,this._lineOffsets=void 0}get uri(){return this._uri}get languageId(){return this._languageId}get version(){return this._version}getText(t){if(t){let r=this.offsetAt(t.start),n=this.offsetAt(t.end);return this._content.substring(r,n)}return this._content}update(t,r){this._content=t.text,this._version=r,this._lineOffsets=void 0}getLineOffsets(){if(this._lineOffsets===void 0){let t=[],r=this._content,n=!0;for(let i=0;i<r.length;i++){n&&(t.push(i),n=!1);let s=r.charAt(i);n=s==="\r"||s===`
`,s==="\r"&&i+1<r.length&&r.charAt(i+1)===`
`&&i++}n&&r.length>0&&t.push(r.length),this._lineOffsets=t}return this._lineOffsets}positionAt(t){t=Math.max(Math.min(t,this._content.length),0);let r=this.getLineOffsets(),n=0,i=r.length;if(i===0)return zn.create(0,t);for(;n<i;){let a=Math.floor((n+i)/2);r[a]>t?i=a:n=a+1}let s=n-1;return zn.create(s,t-r[s])}offsetAt(t){let r=this.getLineOffsets();if(t.line>=r.length)return this._content.length;if(t.line<0)return 0;let n=r[t.line],i=t.line+1<r.length?r[t.line+1]:this._content.length;return Math.max(Math.min(n+t.character,i),n)}get lineCount(){return this.getLineOffsets().length}};(function(e){let t=Object.prototype.toString;function r(m){return typeof m<"u"}o(r,"defined"),e.defined=r;function n(m){return typeof m>"u"}o(n,"undefined"),e.undefined=n;function i(m){return m===!0||m===!1}o(i,"boolean"),e.boolean=i;function s(m){return t.call(m)==="[object String]"}o(s,"string"),e.string=s;function a(m){return t.call(m)==="[object Number]"}o(a,"number"),e.number=a;function l(m,g,h){return t.call(m)==="[object Number]"&&g<=m&&m<=h}o(l,"numberRange"),e.numberRange=l;function c(m){return t.call(m)==="[object Number]"&&-2147483648<=m&&m<=2147483647}o(c,"integer"),e.integer=c;function f(m){return t.call(m)==="[object Number]"&&0<=m&&m<=2147483647}o(f,"uinteger"),e.uinteger=f;function u(m){return t.call(m)==="[object Function]"}o(u,"func"),e.func=u;function d(m){return m!==null&&typeof m=="object"}o(d,"objectLiteral"),e.objectLiteral=d;function p(m,g){return Array.isArray(m)&&m.every(g)}o(p,"typedArray"),e.typedArray=p})(J||(J={}))});var $r=Q(ji=>{"use strict";Object.defineProperty(ji,"__esModule",{value:!0});ji.ProtocolNotificationType=ji.ProtocolNotificationType0=ji.ProtocolRequestType=ji.ProtocolRequestType0=ji.RegistrationType=ji.MessageDirection=void 0;var ld=Hc(),WR;(function(e){e.clientToServer="clientToServer",e.serverToClient="serverToClient",e.both="both"})(WR||(ji.MessageDirection=WR={}));var T_=class{static{o(this,"RegistrationType")}constructor(t){this.method=t}};ji.RegistrationType=T_;var I_=class extends ld.RequestType0{static{o(this,"ProtocolRequestType0")}constructor(t){super(t)}};ji.ProtocolRequestType0=I_;var E_=class extends ld.RequestType{static{o(this,"ProtocolRequestType")}constructor(t){super(t,ld.ParameterStructures.byName)}};ji.ProtocolRequestType=E_;var C_=class extends ld.NotificationType0{static{o(this,"ProtocolNotificationType0")}constructor(t){super(t)}};ji.ProtocolNotificationType0=C_;var S_=class extends ld.NotificationType{static{o(this,"ProtocolNotificationType")}constructor(t){super(t,ld.ParameterStructures.byName)}};ji.ProtocolNotificationType=S_});var F2=Q(pn=>{"use strict";Object.defineProperty(pn,"__esModule",{value:!0});pn.objectLiteral=pn.typedArray=pn.stringArray=pn.array=pn.func=pn.error=pn.number=pn.string=pn.boolean=void 0;function pre(e){return e===!0||e===!1}o(pre,"boolean");pn.boolean=pre;function GR(e){return typeof e=="string"||e instanceof String}o(GR,"string");pn.string=GR;function gre(e){return typeof e=="number"||e instanceof Number}o(gre,"number");pn.number=gre;function hre(e){return e instanceof Error}o(hre,"error");pn.error=hre;function xre(e){return typeof e=="function"}o(xre,"func");pn.func=xre;function zR(e){return Array.isArray(e)}o(zR,"array");pn.array=zR;function bre(e){return zR(e)&&e.every(t=>GR(t))}o(bre,"stringArray");pn.stringArray=bre;function _re(e,t){return Array.isArray(e)&&e.every(t)}o(_re,"typedArray");pn.typedArray=_re;function yre(e){return e!==null&&typeof e=="object"}o(yre,"objectLiteral");pn.objectLiteral=yre});var KR=Q(M2=>{"use strict";Object.defineProperty(M2,"__esModule",{value:!0});M2.ImplementationRequest=void 0;var HR=$r(),VR;(function(e){e.method="textDocument/implementation",e.messageDirection=HR.MessageDirection.clientToServer,e.type=new HR.ProtocolRequestType(e.method)})(VR||(M2.ImplementationRequest=VR={}))});var JR=Q(U2=>{"use strict";Object.defineProperty(U2,"__esModule",{value:!0});U2.TypeDefinitionRequest=void 0;var YR=$r(),XR;(function(e){e.method="textDocument/typeDefinition",e.messageDirection=YR.MessageDirection.clientToServer,e.type=new YR.ProtocolRequestType(e.method)})(XR||(U2.TypeDefinitionRequest=XR={}))});var eN=Q(cd=>{"use strict";Object.defineProperty(cd,"__esModule",{value:!0});cd.DidChangeWorkspaceFoldersNotification=cd.WorkspaceFoldersRequest=void 0;var B2=$r(),ZR;(function(e){e.method="workspace/workspaceFolders",e.messageDirection=B2.MessageDirection.serverToClient,e.type=new B2.ProtocolRequestType0(e.method)})(ZR||(cd.WorkspaceFoldersRequest=ZR={}));var QR;(function(e){e.method="workspace/didChangeWorkspaceFolders",e.messageDirection=B2.MessageDirection.clientToServer,e.type=new B2.ProtocolNotificationType(e.method)})(QR||(cd.DidChangeWorkspaceFoldersNotification=QR={}))});var nN=Q(j2=>{"use strict";Object.defineProperty(j2,"__esModule",{value:!0});j2.ConfigurationRequest=void 0;var tN=$r(),rN;(function(e){e.method="workspace/configuration",e.messageDirection=tN.MessageDirection.serverToClient,e.type=new tN.ProtocolRequestType(e.method)})(rN||(j2.ConfigurationRequest=rN={}))});var sN=Q(ud=>{"use strict";Object.defineProperty(ud,"__esModule",{value:!0});ud.ColorPresentationRequest=ud.DocumentColorRequest=void 0;var $2=$r(),iN;(function(e){e.method="textDocument/documentColor",e.messageDirection=$2.MessageDirection.clientToServer,e.type=new $2.ProtocolRequestType(e.method)})(iN||(ud.DocumentColorRequest=iN={}));var oN;(function(e){e.method="textDocument/colorPresentation",e.messageDirection=$2.MessageDirection.clientToServer,e.type=new $2.ProtocolRequestType(e.method)})(oN||(ud.ColorPresentationRequest=oN={}))});var cN=Q(fd=>{"use strict";Object.defineProperty(fd,"__esModule",{value:!0});fd.FoldingRangeRefreshRequest=fd.FoldingRangeRequest=void 0;var q2=$r(),aN;(function(e){e.method="textDocument/foldingRange",e.messageDirection=q2.MessageDirection.clientToServer,e.type=new q2.ProtocolRequestType(e.method)})(aN||(fd.FoldingRangeRequest=aN={}));var lN;(function(e){e.method="workspace/foldingRange/refresh",e.messageDirection=q2.MessageDirection.serverToClient,e.type=new q2.ProtocolRequestType0(e.method)})(lN||(fd.FoldingRangeRefreshRequest=lN={}))});var dN=Q(W2=>{"use strict";Object.defineProperty(W2,"__esModule",{value:!0});W2.DeclarationRequest=void 0;var uN=$r(),fN;(function(e){e.method="textDocument/declaration",e.messageDirection=uN.MessageDirection.clientToServer,e.type=new uN.ProtocolRequestType(e.method)})(fN||(W2.DeclarationRequest=fN={}))});var gN=Q(G2=>{"use strict";Object.defineProperty(G2,"__esModule",{value:!0});G2.SelectionRangeRequest=void 0;var mN=$r(),pN;(function(e){e.method="textDocument/selectionRange",e.messageDirection=mN.MessageDirection.clientToServer,e.type=new mN.ProtocolRequestType(e.method)})(pN||(G2.SelectionRangeRequest=pN={}))});var _N=Q(vl=>{"use strict";Object.defineProperty(vl,"__esModule",{value:!0});vl.WorkDoneProgressCancelNotification=vl.WorkDoneProgressCreateRequest=vl.WorkDoneProgress=void 0;var vre=Hc(),z2=$r(),hN;(function(e){e.type=new vre.ProgressType;function t(r){return r===e.type}o(t,"is"),e.is=t})(hN||(vl.WorkDoneProgress=hN={}));var xN;(function(e){e.method="window/workDoneProgress/create",e.messageDirection=z2.MessageDirection.serverToClient,e.type=new z2.ProtocolRequestType(e.method)})(xN||(vl.WorkDoneProgressCreateRequest=xN={}));var bN;(function(e){e.method="window/workDoneProgress/cancel",e.messageDirection=z2.MessageDirection.clientToServer,e.type=new z2.ProtocolNotificationType(e.method)})(bN||(vl.WorkDoneProgressCancelNotification=bN={}))});var IN=Q(Tl=>{"use strict";Object.defineProperty(Tl,"__esModule",{value:!0});Tl.CallHierarchyOutgoingCallsRequest=Tl.CallHierarchyIncomingCallsRequest=Tl.CallHierarchyPrepareRequest=void 0;var dd=$r(),yN;(function(e){e.method="textDocument/prepareCallHierarchy",e.messageDirection=dd.MessageDirection.clientToServer,e.type=new dd.ProtocolRequestType(e.method)})(yN||(Tl.CallHierarchyPrepareRequest=yN={}));var vN;(function(e){e.method="callHierarchy/incomingCalls",e.messageDirection=dd.MessageDirection.clientToServer,e.type=new dd.ProtocolRequestType(e.method)})(vN||(Tl.CallHierarchyIncomingCallsRequest=vN={}));var TN;(function(e){e.method="callHierarchy/outgoingCalls",e.messageDirection=dd.MessageDirection.clientToServer,e.type=new dd.ProtocolRequestType(e.method)})(TN||(Tl.CallHierarchyOutgoingCallsRequest=TN={}))});var DN=Q($i=>{"use strict";Object.defineProperty($i,"__esModule",{value:!0});$i.SemanticTokensRefreshRequest=$i.SemanticTokensRangeRequest=$i.SemanticTokensDeltaRequest=$i.SemanticTokensRequest=$i.SemanticTokensRegistrationType=$i.TokenFormat=void 0;var ma=$r(),EN;(function(e){e.Relative="relative"})(EN||($i.TokenFormat=EN={}));var Y1;(function(e){e.method="textDocument/semanticTokens",e.type=new ma.RegistrationType(e.method)})(Y1||($i.SemanticTokensRegistrationType=Y1={}));var CN;(function(e){e.method="textDocument/semanticTokens/full",e.messageDirection=ma.MessageDirection.clientToServer,e.type=new ma.ProtocolRequestType(e.method),e.registrationMethod=Y1.method})(CN||($i.SemanticTokensRequest=CN={}));var SN;(function(e){e.method="textDocument/semanticTokens/full/delta",e.messageDirection=ma.MessageDirection.clientToServer,e.type=new ma.ProtocolRequestType(e.method),e.registrationMethod=Y1.method})(SN||($i.SemanticTokensDeltaRequest=SN={}));var wN;(function(e){e.method="textDocument/semanticTokens/range",e.messageDirection=ma.MessageDirection.clientToServer,e.type=new ma.ProtocolRequestType(e.method),e.registrationMethod=Y1.method})(wN||($i.SemanticTokensRangeRequest=wN={}));var PN;(function(e){e.method="workspace/semanticTokens/refresh",e.messageDirection=ma.MessageDirection.serverToClient,e.type=new ma.ProtocolRequestType0(e.method)})(PN||($i.SemanticTokensRefreshRequest=PN={}))});var AN=Q(H2=>{"use strict";Object.defineProperty(H2,"__esModule",{value:!0});H2.ShowDocumentRequest=void 0;var RN=$r(),NN;(function(e){e.method="window/showDocument",e.messageDirection=RN.MessageDirection.serverToClient,e.type=new RN.ProtocolRequestType(e.method)})(NN||(H2.ShowDocumentRequest=NN={}))});var LN=Q(V2=>{"use strict";Object.defineProperty(V2,"__esModule",{value:!0});V2.LinkedEditingRangeRequest=void 0;var kN=$r(),ON;(function(e){e.method="textDocument/linkedEditingRange",e.messageDirection=kN.MessageDirection.clientToServer,e.type=new kN.ProtocolRequestType(e.method)})(ON||(V2.LinkedEditingRangeRequest=ON={}))});var WN=Q(si=>{"use strict";Object.defineProperty(si,"__esModule",{value:!0});si.WillDeleteFilesRequest=si.DidDeleteFilesNotification=si.DidRenameFilesNotification=si.WillRenameFilesRequest=si.DidCreateFilesNotification=si.WillCreateFilesRequest=si.FileOperationPatternKind=void 0;var $o=$r(),FN;(function(e){e.file="file",e.folder="folder"})(FN||(si.FileOperationPatternKind=FN={}));var MN;(function(e){e.method="workspace/willCreateFiles",e.messageDirection=$o.MessageDirection.clientToServer,e.type=new $o.ProtocolRequestType(e.method)})(MN||(si.WillCreateFilesRequest=MN={}));var UN;(function(e){e.method="workspace/didCreateFiles",e.messageDirection=$o.MessageDirection.clientToServer,e.type=new $o.ProtocolNotificationType(e.method)})(UN||(si.DidCreateFilesNotification=UN={}));var BN;(function(e){e.method="workspace/willRenameFiles",e.messageDirection=$o.MessageDirection.clientToServer,e.type=new $o.ProtocolRequestType(e.method)})(BN||(si.WillRenameFilesRequest=BN={}));var jN;(function(e){e.method="workspace/didRenameFiles",e.messageDirection=$o.MessageDirection.clientToServer,e.type=new $o.ProtocolNotificationType(e.method)})(jN||(si.DidRenameFilesNotification=jN={}));var $N;(function(e){e.method="workspace/didDeleteFiles",e.messageDirection=$o.MessageDirection.clientToServer,e.type=new $o.ProtocolNotificationType(e.method)})($N||(si.DidDeleteFilesNotification=$N={}));var qN;(function(e){e.method="workspace/willDeleteFiles",e.messageDirection=$o.MessageDirection.clientToServer,e.type=new $o.ProtocolRequestType(e.method)})(qN||(si.WillDeleteFilesRequest=qN={}))});var KN=Q(Il=>{"use strict";Object.defineProperty(Il,"__esModule",{value:!0});Il.MonikerRequest=Il.MonikerKind=Il.UniquenessLevel=void 0;var GN=$r(),zN;(function(e){e.document="document",e.project="project",e.group="group",e.scheme="scheme",e.global="global"})(zN||(Il.UniquenessLevel=zN={}));var HN;(function(e){e.$import="import",e.$export="export",e.local="local"})(HN||(Il.MonikerKind=HN={}));var VN;(function(e){e.method="textDocument/moniker",e.messageDirection=GN.MessageDirection.clientToServer,e.type=new GN.ProtocolRequestType(e.method)})(VN||(Il.MonikerRequest=VN={}))});var ZN=Q(El=>{"use strict";Object.defineProperty(El,"__esModule",{value:!0});El.TypeHierarchySubtypesRequest=El.TypeHierarchySupertypesRequest=El.TypeHierarchyPrepareRequest=void 0;var md=$r(),YN;(function(e){e.method="textDocument/prepareTypeHierarchy",e.messageDirection=md.MessageDirection.clientToServer,e.type=new md.ProtocolRequestType(e.method)})(YN||(El.TypeHierarchyPrepareRequest=YN={}));var XN;(function(e){e.method="typeHierarchy/supertypes",e.messageDirection=md.MessageDirection.clientToServer,e.type=new md.ProtocolRequestType(e.method)})(XN||(El.TypeHierarchySupertypesRequest=XN={}));var JN;(function(e){e.method="typeHierarchy/subtypes",e.messageDirection=md.MessageDirection.clientToServer,e.type=new md.ProtocolRequestType(e.method)})(JN||(El.TypeHierarchySubtypesRequest=JN={}))});var tA=Q(pd=>{"use strict";Object.defineProperty(pd,"__esModule",{value:!0});pd.InlineValueRefreshRequest=pd.InlineValueRequest=void 0;var K2=$r(),QN;(function(e){e.method="textDocument/inlineValue",e.messageDirection=K2.MessageDirection.clientToServer,e.type=new K2.ProtocolRequestType(e.method)})(QN||(pd.InlineValueRequest=QN={}));var eA;(function(e){e.method="workspace/inlineValue/refresh",e.messageDirection=K2.MessageDirection.serverToClient,e.type=new K2.ProtocolRequestType0(e.method)})(eA||(pd.InlineValueRefreshRequest=eA={}))});var oA=Q(Cl=>{"use strict";Object.defineProperty(Cl,"__esModule",{value:!0});Cl.InlayHintRefreshRequest=Cl.InlayHintResolveRequest=Cl.InlayHintRequest=void 0;var gd=$r(),rA;(function(e){e.method="textDocument/inlayHint",e.messageDirection=gd.MessageDirection.clientToServer,e.type=new gd.ProtocolRequestType(e.method)})(rA||(Cl.InlayHintRequest=rA={}));var nA;(function(e){e.method="inlayHint/resolve",e.messageDirection=gd.MessageDirection.clientToServer,e.type=new gd.ProtocolRequestType(e.method)})(nA||(Cl.InlayHintResolveRequest=nA={}));var iA;(function(e){e.method="workspace/inlayHint/refresh",e.messageDirection=gd.MessageDirection.serverToClient,e.type=new gd.ProtocolRequestType0(e.method)})(iA||(Cl.InlayHintRefreshRequest=iA={}))});var dA=Q(qo=>{"use strict";Object.defineProperty(qo,"__esModule",{value:!0});qo.DiagnosticRefreshRequest=qo.WorkspaceDiagnosticRequest=qo.DocumentDiagnosticRequest=qo.DocumentDiagnosticReportKind=qo.DiagnosticServerCancellationData=void 0;var fA=Hc(),Tre=F2(),hd=$r(),sA;(function(e){function t(r){let n=r;return n&&Tre.boolean(n.retriggerRequest)}o(t,"is"),e.is=t})(sA||(qo.DiagnosticServerCancellationData=sA={}));var aA;(function(e){e.Full="full",e.Unchanged="unchanged"})(aA||(qo.DocumentDiagnosticReportKind=aA={}));var lA;(function(e){e.method="textDocument/diagnostic",e.messageDirection=hd.MessageDirection.clientToServer,e.type=new hd.ProtocolRequestType(e.method),e.partialResult=new fA.ProgressType})(lA||(qo.DocumentDiagnosticRequest=lA={}));var cA;(function(e){e.method="workspace/diagnostic",e.messageDirection=hd.MessageDirection.clientToServer,e.type=new hd.ProtocolRequestType(e.method),e.partialResult=new fA.ProgressType})(cA||(qo.WorkspaceDiagnosticRequest=cA={}));var uA;(function(e){e.method="workspace/diagnostic/refresh",e.messageDirection=hd.MessageDirection.serverToClient,e.type=new hd.ProtocolRequestType0(e.method)})(uA||(qo.DiagnosticRefreshRequest=uA={}))});var _A=Q(Zr=>{"use strict";Object.defineProperty(Zr,"__esModule",{value:!0});Zr.DidCloseNotebookDocumentNotification=Zr.DidSaveNotebookDocumentNotification=Zr.DidChangeNotebookDocumentNotification=Zr.NotebookCellArrayChange=Zr.DidOpenNotebookDocumentNotification=Zr.NotebookDocumentSyncRegistrationType=Zr.NotebookDocument=Zr.NotebookCell=Zr.ExecutionSummary=Zr.NotebookCellKind=void 0;var X1=(K1(),Zg(L2)),As=F2(),f0=$r(),w_;(function(e){e.Markup=1,e.Code=2;function t(r){return r===1||r===2}o(t,"is"),e.is=t})(w_||(Zr.NotebookCellKind=w_={}));var P_;(function(e){function t(i,s){let a={executionOrder:i};return(s===!0||s===!1)&&(a.success=s),a}o(t,"create"),e.create=t;function r(i){let s=i;return As.objectLiteral(s)&&X1.uinteger.is(s.executionOrder)&&(s.success===void 0||As.boolean(s.success))}o(r,"is"),e.is=r;function n(i,s){return i===s?!0:i==null||s===null||s===void 0?!1:i.executionOrder===s.executionOrder&&i.success===s.success}o(n,"equals"),e.equals=n})(P_||(Zr.ExecutionSummary=P_={}));var Y2;(function(e){function t(s,a){return{kind:s,document:a}}o(t,"create"),e.create=t;function r(s){let a=s;return As.objectLiteral(a)&&w_.is(a.kind)&&X1.DocumentUri.is(a.document)&&(a.metadata===void 0||As.objectLiteral(a.metadata))}o(r,"is"),e.is=r;function n(s,a){let l=new Set;return s.document!==a.document&&l.add("document"),s.kind!==a.kind&&l.add("kind"),s.executionSummary!==a.executionSummary&&l.add("executionSummary"),(s.metadata!==void 0||a.metadata!==void 0)&&!i(s.metadata,a.metadata)&&l.add("metadata"),(s.executionSummary!==void 0||a.executionSummary!==void 0)&&!P_.equals(s.executionSummary,a.executionSummary)&&l.add("executionSummary"),l}o(n,"diff"),e.diff=n;function i(s,a){if(s===a)return!0;if(s==null||a===null||a===void 0||typeof s!=typeof a||typeof s!="object")return!1;let l=Array.isArray(s),c=Array.isArray(a);if(l!==c)return!1;if(l&&c){if(s.length!==a.length)return!1;for(let f=0;f<s.length;f++)if(!i(s[f],a[f]))return!1}if(As.objectLiteral(s)&&As.objectLiteral(a)){let f=Object.keys(s),u=Object.keys(a);if(f.length!==u.length||(f.sort(),u.sort(),!i(f,u)))return!1;for(let d=0;d<f.length;d++){let p=f[d];if(!i(s[p],a[p]))return!1}}return!0}o(i,"equalsMetadata")})(Y2||(Zr.NotebookCell=Y2={}));var mA;(function(e){function t(n,i,s,a){return{uri:n,notebookType:i,version:s,cells:a}}o(t,"create"),e.create=t;function r(n){let i=n;return As.objectLiteral(i)&&As.string(i.uri)&&X1.integer.is(i.version)&&As.typedArray(i.cells,Y2.is)}o(r,"is"),e.is=r})(mA||(Zr.NotebookDocument=mA={}));var xd;(function(e){e.method="notebookDocument/sync",e.messageDirection=f0.MessageDirection.clientToServer,e.type=new f0.RegistrationType(e.method)})(xd||(Zr.NotebookDocumentSyncRegistrationType=xd={}));var pA;(function(e){e.method="notebookDocument/didOpen",e.messageDirection=f0.MessageDirection.clientToServer,e.type=new f0.ProtocolNotificationType(e.method),e.registrationMethod=xd.method})(pA||(Zr.DidOpenNotebookDocumentNotification=pA={}));var gA;(function(e){function t(n){let i=n;return As.objectLiteral(i)&&X1.uinteger.is(i.start)&&X1.uinteger.is(i.deleteCount)&&(i.cells===void 0||As.typedArray(i.cells,Y2.is))}o(t,"is"),e.is=t;function r(n,i,s){let a={start:n,deleteCount:i};return s!==void 0&&(a.cells=s),a}o(r,"create"),e.create=r})(gA||(Zr.NotebookCellArrayChange=gA={}));var hA;(function(e){e.method="notebookDocument/didChange",e.messageDirection=f0.MessageDirection.clientToServer,e.type=new f0.ProtocolNotificationType(e.method),e.registrationMethod=xd.method})(hA||(Zr.DidChangeNotebookDocumentNotification=hA={}));var xA;(function(e){e.method="notebookDocument/didSave",e.messageDirection=f0.MessageDirection.clientToServer,e.type=new f0.ProtocolNotificationType(e.method),e.registrationMethod=xd.method})(xA||(Zr.DidSaveNotebookDocumentNotification=xA={}));var bA;(function(e){e.method="notebookDocument/didClose",e.messageDirection=f0.MessageDirection.clientToServer,e.type=new f0.ProtocolNotificationType(e.method),e.registrationMethod=xd.method})(bA||(Zr.DidCloseNotebookDocumentNotification=bA={}))});var TA=Q(X2=>{"use strict";Object.defineProperty(X2,"__esModule",{value:!0});X2.InlineCompletionRequest=void 0;var yA=$r(),vA;(function(e){e.method="textDocument/inlineCompletion",e.messageDirection=yA.MessageDirection.clientToServer,e.type=new yA.ProtocolRequestType(e.method)})(vA||(X2.InlineCompletionRequest=vA={}))});var Lk=Q(M=>{"use strict";Object.defineProperty(M,"__esModule",{value:!0});M.WorkspaceSymbolRequest=M.CodeActionResolveRequest=M.CodeActionRequest=M.DocumentSymbolRequest=M.DocumentHighlightRequest=M.ReferencesRequest=M.DefinitionRequest=M.SignatureHelpRequest=M.SignatureHelpTriggerKind=M.HoverRequest=M.CompletionResolveRequest=M.CompletionRequest=M.CompletionTriggerKind=M.PublishDiagnosticsNotification=M.WatchKind=M.RelativePattern=M.FileChangeType=M.DidChangeWatchedFilesNotification=M.WillSaveTextDocumentWaitUntilRequest=M.WillSaveTextDocumentNotification=M.TextDocumentSaveReason=M.DidSaveTextDocumentNotification=M.DidCloseTextDocumentNotification=M.DidChangeTextDocumentNotification=M.TextDocumentContentChangeEvent=M.DidOpenTextDocumentNotification=M.TextDocumentSyncKind=M.TelemetryEventNotification=M.LogMessageNotification=M.ShowMessageRequest=M.ShowMessageNotification=M.MessageType=M.DidChangeConfigurationNotification=M.ExitNotification=M.ShutdownRequest=M.InitializedNotification=M.InitializeErrorCodes=M.InitializeRequest=M.WorkDoneProgressOptions=M.TextDocumentRegistrationOptions=M.StaticRegistrationOptions=M.PositionEncodingKind=M.FailureHandlingKind=M.ResourceOperationKind=M.UnregistrationRequest=M.RegistrationRequest=M.DocumentSelector=M.NotebookCellTextDocumentFilter=M.NotebookDocumentFilter=M.TextDocumentFilter=void 0;M.MonikerRequest=M.MonikerKind=M.UniquenessLevel=M.WillDeleteFilesRequest=M.DidDeleteFilesNotification=M.WillRenameFilesRequest=M.DidRenameFilesNotification=M.WillCreateFilesRequest=M.DidCreateFilesNotification=M.FileOperationPatternKind=M.LinkedEditingRangeRequest=M.ShowDocumentRequest=M.SemanticTokensRegistrationType=M.SemanticTokensRefreshRequest=M.SemanticTokensRangeRequest=M.SemanticTokensDeltaRequest=M.SemanticTokensRequest=M.TokenFormat=M.CallHierarchyPrepareRequest=M.CallHierarchyOutgoingCallsRequest=M.CallHierarchyIncomingCallsRequest=M.WorkDoneProgressCancelNotification=M.WorkDoneProgressCreateRequest=M.WorkDoneProgress=M.SelectionRangeRequest=M.DeclarationRequest=M.FoldingRangeRefreshRequest=M.FoldingRangeRequest=M.ColorPresentationRequest=M.DocumentColorRequest=M.ConfigurationRequest=M.DidChangeWorkspaceFoldersNotification=M.WorkspaceFoldersRequest=M.TypeDefinitionRequest=M.ImplementationRequest=M.ApplyWorkspaceEditRequest=M.ExecuteCommandRequest=M.PrepareRenameRequest=M.RenameRequest=M.PrepareSupportDefaultBehavior=M.DocumentOnTypeFormattingRequest=M.DocumentRangesFormattingRequest=M.DocumentRangeFormattingRequest=M.DocumentFormattingRequest=M.DocumentLinkResolveRequest=M.DocumentLinkRequest=M.CodeLensRefreshRequest=M.CodeLensResolveRequest=M.CodeLensRequest=M.WorkspaceSymbolResolveRequest=void 0;M.InlineCompletionRequest=M.DidCloseNotebookDocumentNotification=M.DidSaveNotebookDocumentNotification=M.DidChangeNotebookDocumentNotification=M.NotebookCellArrayChange=M.DidOpenNotebookDocumentNotification=M.NotebookDocumentSyncRegistrationType=M.NotebookDocument=M.NotebookCell=M.ExecutionSummary=M.NotebookCellKind=M.DiagnosticRefreshRequest=M.WorkspaceDiagnosticRequest=M.DocumentDiagnosticRequest=M.DocumentDiagnosticReportKind=M.DiagnosticServerCancellationData=M.InlayHintRefreshRequest=M.InlayHintResolveRequest=M.InlayHintRequest=M.InlineValueRefreshRequest=M.InlineValueRequest=M.TypeHierarchySupertypesRequest=M.TypeHierarchySubtypesRequest=M.TypeHierarchyPrepareRequest=void 0;var ve=$r(),IA=(K1(),Zg(L2)),kn=F2(),Ire=KR();Object.defineProperty(M,"ImplementationRequest",{enumerable:!0,get:o(function(){return Ire.ImplementationRequest},"get")});var Ere=JR();Object.defineProperty(M,"TypeDefinitionRequest",{enumerable:!0,get:o(function(){return Ere.TypeDefinitionRequest},"get")});var Nk=eN();Object.defineProperty(M,"WorkspaceFoldersRequest",{enumerable:!0,get:o(function(){return Nk.WorkspaceFoldersRequest},"get")});Object.defineProperty(M,"DidChangeWorkspaceFoldersNotification",{enumerable:!0,get:o(function(){return Nk.DidChangeWorkspaceFoldersNotification},"get")});var Cre=nN();Object.defineProperty(M,"ConfigurationRequest",{enumerable:!0,get:o(function(){return Cre.ConfigurationRequest},"get")});var Ak=sN();Object.defineProperty(M,"DocumentColorRequest",{enumerable:!0,get:o(function(){return Ak.DocumentColorRequest},"get")});Object.defineProperty(M,"ColorPresentationRequest",{enumerable:!0,get:o(function(){return Ak.ColorPresentationRequest},"get")});var kk=cN();Object.defineProperty(M,"FoldingRangeRequest",{enumerable:!0,get:o(function(){return kk.FoldingRangeRequest},"get")});Object.defineProperty(M,"FoldingRangeRefreshRequest",{enumerable:!0,get:o(function(){return kk.FoldingRangeRefreshRequest},"get")});var Sre=dN();Object.defineProperty(M,"DeclarationRequest",{enumerable:!0,get:o(function(){return Sre.DeclarationRequest},"get")});var wre=gN();Object.defineProperty(M,"SelectionRangeRequest",{enumerable:!0,get:o(function(){return wre.SelectionRangeRequest},"get")});var k_=_N();Object.defineProperty(M,"WorkDoneProgress",{enumerable:!0,get:o(function(){return k_.WorkDoneProgress},"get")});Object.defineProperty(M,"WorkDoneProgressCreateRequest",{enumerable:!0,get:o(function(){return k_.WorkDoneProgressCreateRequest},"get")});Object.defineProperty(M,"WorkDoneProgressCancelNotification",{enumerable:!0,get:o(function(){return k_.WorkDoneProgressCancelNotification},"get")});var O_=IN();Object.defineProperty(M,"CallHierarchyIncomingCallsRequest",{enumerable:!0,get:o(function(){return O_.CallHierarchyIncomingCallsRequest},"get")});Object.defineProperty(M,"CallHierarchyOutgoingCallsRequest",{enumerable:!0,get:o(function(){return O_.CallHierarchyOutgoingCallsRequest},"get")});Object.defineProperty(M,"CallHierarchyPrepareRequest",{enumerable:!0,get:o(function(){return O_.CallHierarchyPrepareRequest},"get")});var bd=DN();Object.defineProperty(M,"TokenFormat",{enumerable:!0,get:o(function(){return bd.TokenFormat},"get")});Object.defineProperty(M,"SemanticTokensRequest",{enumerable:!0,get:o(function(){return bd.SemanticTokensRequest},"get")});Object.defineProperty(M,"SemanticTokensDeltaRequest",{enumerable:!0,get:o(function(){return bd.SemanticTokensDeltaRequest},"get")});Object.defineProperty(M,"SemanticTokensRangeRequest",{enumerable:!0,get:o(function(){return bd.SemanticTokensRangeRequest},"get")});Object.defineProperty(M,"SemanticTokensRefreshRequest",{enumerable:!0,get:o(function(){return bd.SemanticTokensRefreshRequest},"get")});Object.defineProperty(M,"SemanticTokensRegistrationType",{enumerable:!0,get:o(function(){return bd.SemanticTokensRegistrationType},"get")});var Pre=AN();Object.defineProperty(M,"ShowDocumentRequest",{enumerable:!0,get:o(function(){return Pre.ShowDocumentRequest},"get")});var Dre=LN();Object.defineProperty(M,"LinkedEditingRangeRequest",{enumerable:!0,get:o(function(){return Dre.LinkedEditingRangeRequest},"get")});var Yc=WN();Object.defineProperty(M,"FileOperationPatternKind",{enumerable:!0,get:o(function(){return Yc.FileOperationPatternKind},"get")});Object.defineProperty(M,"DidCreateFilesNotification",{enumerable:!0,get:o(function(){return Yc.DidCreateFilesNotification},"get")});Object.defineProperty(M,"WillCreateFilesRequest",{enumerable:!0,get:o(function(){return Yc.WillCreateFilesRequest},"get")});Object.defineProperty(M,"DidRenameFilesNotification",{enumerable:!0,get:o(function(){return Yc.DidRenameFilesNotification},"get")});Object.defineProperty(M,"WillRenameFilesRequest",{enumerable:!0,get:o(function(){return Yc.WillRenameFilesRequest},"get")});Object.defineProperty(M,"DidDeleteFilesNotification",{enumerable:!0,get:o(function(){return Yc.DidDeleteFilesNotification},"get")});Object.defineProperty(M,"WillDeleteFilesRequest",{enumerable:!0,get:o(function(){return Yc.WillDeleteFilesRequest},"get")});var L_=KN();Object.defineProperty(M,"UniquenessLevel",{enumerable:!0,get:o(function(){return L_.UniquenessLevel},"get")});Object.defineProperty(M,"MonikerKind",{enumerable:!0,get:o(function(){return L_.MonikerKind},"get")});Object.defineProperty(M,"MonikerRequest",{enumerable:!0,get:o(function(){return L_.MonikerRequest},"get")});var F_=ZN();Object.defineProperty(M,"TypeHierarchyPrepareRequest",{enumerable:!0,get:o(function(){return F_.TypeHierarchyPrepareRequest},"get")});Object.defineProperty(M,"TypeHierarchySubtypesRequest",{enumerable:!0,get:o(function(){return F_.TypeHierarchySubtypesRequest},"get")});Object.defineProperty(M,"TypeHierarchySupertypesRequest",{enumerable:!0,get:o(function(){return F_.TypeHierarchySupertypesRequest},"get")});var Ok=tA();Object.defineProperty(M,"InlineValueRequest",{enumerable:!0,get:o(function(){return Ok.InlineValueRequest},"get")});Object.defineProperty(M,"InlineValueRefreshRequest",{enumerable:!0,get:o(function(){return Ok.InlineValueRefreshRequest},"get")});var M_=oA();Object.defineProperty(M,"InlayHintRequest",{enumerable:!0,get:o(function(){return M_.InlayHintRequest},"get")});Object.defineProperty(M,"InlayHintResolveRequest",{enumerable:!0,get:o(function(){return M_.InlayHintResolveRequest},"get")});Object.defineProperty(M,"InlayHintRefreshRequest",{enumerable:!0,get:o(function(){return M_.InlayHintRefreshRequest},"get")});var J1=dA();Object.defineProperty(M,"DiagnosticServerCancellationData",{enumerable:!0,get:o(function(){return J1.DiagnosticServerCancellationData},"get")});Object.defineProperty(M,"DocumentDiagnosticReportKind",{enumerable:!0,get:o(function(){return J1.DocumentDiagnosticReportKind},"get")});Object.defineProperty(M,"DocumentDiagnosticRequest",{enumerable:!0,get:o(function(){return J1.DocumentDiagnosticRequest},"get")});Object.defineProperty(M,"WorkspaceDiagnosticRequest",{enumerable:!0,get:o(function(){return J1.WorkspaceDiagnosticRequest},"get")});Object.defineProperty(M,"DiagnosticRefreshRequest",{enumerable:!0,get:o(function(){return J1.DiagnosticRefreshRequest},"get")});var d0=_A();Object.defineProperty(M,"NotebookCellKind",{enumerable:!0,get:o(function(){return d0.NotebookCellKind},"get")});Object.defineProperty(M,"ExecutionSummary",{enumerable:!0,get:o(function(){return d0.ExecutionSummary},"get")});Object.defineProperty(M,"NotebookCell",{enumerable:!0,get:o(function(){return d0.NotebookCell},"get")});Object.defineProperty(M,"NotebookDocument",{enumerable:!0,get:o(function(){return d0.NotebookDocument},"get")});Object.defineProperty(M,"NotebookDocumentSyncRegistrationType",{enumerable:!0,get:o(function(){return d0.NotebookDocumentSyncRegistrationType},"get")});Object.defineProperty(M,"DidOpenNotebookDocumentNotification",{enumerable:!0,get:o(function(){return d0.DidOpenNotebookDocumentNotification},"get")});Object.defineProperty(M,"NotebookCellArrayChange",{enumerable:!0,get:o(function(){return d0.NotebookCellArrayChange},"get")});Object.defineProperty(M,"DidChangeNotebookDocumentNotification",{enumerable:!0,get:o(function(){return d0.DidChangeNotebookDocumentNotification},"get")});Object.defineProperty(M,"DidSaveNotebookDocumentNotification",{enumerable:!0,get:o(function(){return d0.DidSaveNotebookDocumentNotification},"get")});Object.defineProperty(M,"DidCloseNotebookDocumentNotification",{enumerable:!0,get:o(function(){return d0.DidCloseNotebookDocumentNotification},"get")});var Rre=TA();Object.defineProperty(M,"InlineCompletionRequest",{enumerable:!0,get:o(function(){return Rre.InlineCompletionRequest},"get")});var D_;(function(e){function t(r){let n=r;return kn.string(n)||kn.string(n.language)||kn.string(n.scheme)||kn.string(n.pattern)}o(t,"is"),e.is=t})(D_||(M.TextDocumentFilter=D_={}));var R_;(function(e){function t(r){let n=r;return kn.objectLiteral(n)&&(kn.string(n.notebookType)||kn.string(n.scheme)||kn.string(n.pattern))}o(t,"is"),e.is=t})(R_||(M.NotebookDocumentFilter=R_={}));var N_;(function(e){function t(r){let n=r;return kn.objectLiteral(n)&&(kn.string(n.notebook)||R_.is(n.notebook))&&(n.language===void 0||kn.string(n.language))}o(t,"is"),e.is=t})(N_||(M.NotebookCellTextDocumentFilter=N_={}));var A_;(function(e){function t(r){if(!Array.isArray(r))return!1;for(let n of r)if(!kn.string(n)&&!D_.is(n)&&!N_.is(n))return!1;return!0}o(t,"is"),e.is=t})(A_||(M.DocumentSelector=A_={}));var EA;(function(e){e.method="client/registerCapability",e.messageDirection=ve.MessageDirection.serverToClient,e.type=new ve.ProtocolRequestType(e.method)})(EA||(M.RegistrationRequest=EA={}));var CA;(function(e){e.method="client/unregisterCapability",e.messageDirection=ve.MessageDirection.serverToClient,e.type=new ve.ProtocolRequestType(e.method)})(CA||(M.UnregistrationRequest=CA={}));var SA;(function(e){e.Create="create",e.Rename="rename",e.Delete="delete"})(SA||(M.ResourceOperationKind=SA={}));var wA;(function(e){e.Abort="abort",e.Transactional="transactional",e.TextOnlyTransactional="textOnlyTransactional",e.Undo="undo"})(wA||(M.FailureHandlingKind=wA={}));var PA;(function(e){e.UTF8="utf-8",e.UTF16="utf-16",e.UTF32="utf-32"})(PA||(M.PositionEncodingKind=PA={}));var DA;(function(e){function t(r){let n=r;return n&&kn.string(n.id)&&n.id.length>0}o(t,"hasId"),e.hasId=t})(DA||(M.StaticRegistrationOptions=DA={}));var RA;(function(e){function t(r){let n=r;return n&&(n.documentSelector===null||A_.is(n.documentSelector))}o(t,"is"),e.is=t})(RA||(M.TextDocumentRegistrationOptions=RA={}));var NA;(function(e){function t(n){let i=n;return kn.objectLiteral(i)&&(i.workDoneProgress===void 0||kn.boolean(i.workDoneProgress))}o(t,"is"),e.is=t;function r(n){let i=n;return i&&kn.boolean(i.workDoneProgress)}o(r,"hasWorkDoneProgress"),e.hasWorkDoneProgress=r})(NA||(M.WorkDoneProgressOptions=NA={}));var AA;(function(e){e.method="initialize",e.messageDirection=ve.MessageDirection.clientToServer,e.type=new ve.ProtocolRequestType(e.method)})(AA||(M.InitializeRequest=AA={}));var kA;(function(e){e.unknownProtocolVersion=1})(kA||(M.InitializeErrorCodes=kA={}));var OA;(function(e){e.method="initialized",e.messageDirection=ve.MessageDirection.clientToServer,e.type=new ve.ProtocolNotificationType(e.method)})(OA||(M.InitializedNotification=OA={}));var LA;(function(e){e.method="shutdown",e.messageDirection=ve.MessageDirection.clientToServer,e.type=new ve.ProtocolRequestType0(e.method)})(LA||(M.ShutdownRequest=LA={}));var FA;(function(e){e.method="exit",e.messageDirection=ve.MessageDirection.clientToServer,e.type=new ve.ProtocolNotificationType0(e.method)})(FA||(M.ExitNotification=FA={}));var MA;(function(e){e.method="workspace/didChangeConfiguration",e.messageDirection=ve.MessageDirection.clientToServer,e.type=new ve.ProtocolNotificationType(e.method)})(MA||(M.DidChangeConfigurationNotification=MA={}));var UA;(function(e){e.Error=1,e.Warning=2,e.Info=3,e.Log=4,e.Debug=5})(UA||(M.MessageType=UA={}));var BA;(function(e){e.method="window/showMessage",e.messageDirection=ve.MessageDirection.serverToClient,e.type=new ve.ProtocolNotificationType(e.method)})(BA||(M.ShowMessageNotification=BA={}));var jA;(function(e){e.method="window/showMessageRequest",e.messageDirection=ve.MessageDirection.serverToClient,e.type=new ve.ProtocolRequestType(e.method)})(jA||(M.ShowMessageRequest=jA={}));var $A;(function(e){e.method="window/logMessage",e.messageDirection=ve.MessageDirection.serverToClient,e.type=new ve.ProtocolNotificationType(e.method)})($A||(M.LogMessageNotification=$A={}));var qA;(function(e){e.method="telemetry/event",e.messageDirection=ve.MessageDirection.serverToClient,e.type=new ve.ProtocolNotificationType(e.method)})(qA||(M.TelemetryEventNotification=qA={}));var WA;(function(e){e.None=0,e.Full=1,e.Incremental=2})(WA||(M.TextDocumentSyncKind=WA={}));var GA;(function(e){e.method="textDocument/didOpen",e.messageDirection=ve.MessageDirection.clientToServer,e.type=new ve.ProtocolNotificationType(e.method)})(GA||(M.DidOpenTextDocumentNotification=GA={}));var zA;(function(e){function t(n){let i=n;return i!=null&&typeof i.text=="string"&&i.range!==void 0&&(i.rangeLength===void 0||typeof i.rangeLength=="number")}o(t,"isIncremental"),e.isIncremental=t;function r(n){let i=n;return i!=null&&typeof i.text=="string"&&i.range===void 0&&i.rangeLength===void 0}o(r,"isFull"),e.isFull=r})(zA||(M.TextDocumentContentChangeEvent=zA={}));var HA;(function(e){e.method="textDocument/didChange",e.messageDirection=ve.MessageDirection.clientToServer,e.type=new ve.ProtocolNotificationType(e.method)})(HA||(M.DidChangeTextDocumentNotification=HA={}));var VA;(function(e){e.method="textDocument/didClose",e.messageDirection=ve.MessageDirection.clientToServer,e.type=new ve.ProtocolNotificationType(e.method)})(VA||(M.DidCloseTextDocumentNotification=VA={}));var KA;(function(e){e.method="textDocument/didSave",e.messageDirection=ve.MessageDirection.clientToServer,e.type=new ve.ProtocolNotificationType(e.method)})(KA||(M.DidSaveTextDocumentNotification=KA={}));var YA;(function(e){e.Manual=1,e.AfterDelay=2,e.FocusOut=3})(YA||(M.TextDocumentSaveReason=YA={}));var XA;(function(e){e.method="textDocument/willSave",e.messageDirection=ve.MessageDirection.clientToServer,e.type=new ve.ProtocolNotificationType(e.method)})(XA||(M.WillSaveTextDocumentNotification=XA={}));var JA;(function(e){e.method="textDocument/willSaveWaitUntil",e.messageDirection=ve.MessageDirection.clientToServer,e.type=new ve.ProtocolRequestType(e.method)})(JA||(M.WillSaveTextDocumentWaitUntilRequest=JA={}));var ZA;(function(e){e.method="workspace/didChangeWatchedFiles",e.messageDirection=ve.MessageDirection.clientToServer,e.type=new ve.ProtocolNotificationType(e.method)})(ZA||(M.DidChangeWatchedFilesNotification=ZA={}));var QA;(function(e){e.Created=1,e.Changed=2,e.Deleted=3})(QA||(M.FileChangeType=QA={}));var ek;(function(e){function t(r){let n=r;return kn.objectLiteral(n)&&(IA.URI.is(n.baseUri)||IA.WorkspaceFolder.is(n.baseUri))&&kn.string(n.pattern)}o(t,"is"),e.is=t})(ek||(M.RelativePattern=ek={}));var tk;(function(e){e.Create=1,e.Change=2,e.Delete=4})(tk||(M.WatchKind=tk={}));var rk;(function(e){e.method="textDocument/publishDiagnostics",e.messageDirection=ve.MessageDirection.serverToClient,e.type=new ve.ProtocolNotificationType(e.method)})(rk||(M.PublishDiagnosticsNotification=rk={}));var nk;(function(e){e.Invoked=1,e.TriggerCharacter=2,e.TriggerForIncompleteCompletions=3})(nk||(M.CompletionTriggerKind=nk={}));var ik;(function(e){e.method="textDocument/completion",e.messageDirection=ve.MessageDirection.clientToServer,e.type=new ve.ProtocolRequestType(e.method)})(ik||(M.CompletionRequest=ik={}));var ok;(function(e){e.method="completionItem/resolve",e.messageDirection=ve.MessageDirection.clientToServer,e.type=new ve.ProtocolRequestType(e.method)})(ok||(M.CompletionResolveRequest=ok={}));var sk;(function(e){e.method="textDocument/hover",e.messageDirection=ve.MessageDirection.clientToServer,e.type=new ve.ProtocolRequestType(e.method)})(sk||(M.HoverRequest=sk={}));var ak;(function(e){e.Invoked=1,e.TriggerCharacter=2,e.ContentChange=3})(ak||(M.SignatureHelpTriggerKind=ak={}));var lk;(function(e){e.method="textDocument/signatureHelp",e.messageDirection=ve.MessageDirection.clientToServer,e.type=new ve.ProtocolRequestType(e.method)})(lk||(M.SignatureHelpRequest=lk={}));var ck;(function(e){e.method="textDocument/definition",e.messageDirection=ve.MessageDirection.clientToServer,e.type=new ve.ProtocolRequestType(e.method)})(ck||(M.DefinitionRequest=ck={}));var uk;(function(e){e.method="textDocument/references",e.messageDirection=ve.MessageDirection.clientToServer,e.type=new ve.ProtocolRequestType(e.method)})(uk||(M.ReferencesRequest=uk={}));var fk;(function(e){e.method="textDocument/documentHighlight",e.messageDirection=ve.MessageDirection.clientToServer,e.type=new ve.ProtocolRequestType(e.method)})(fk||(M.DocumentHighlightRequest=fk={}));var dk;(function(e){e.method="textDocument/documentSymbol",e.messageDirection=ve.MessageDirection.clientToServer,e.type=new ve.ProtocolRequestType(e.method)})(dk||(M.DocumentSymbolRequest=dk={}));var mk;(function(e){e.method="textDocument/codeAction",e.messageDirection=ve.MessageDirection.clientToServer,e.type=new ve.ProtocolRequestType(e.method)})(mk||(M.CodeActionRequest=mk={}));var pk;(function(e){e.method="codeAction/resolve",e.messageDirection=ve.MessageDirection.clientToServer,e.type=new ve.ProtocolRequestType(e.method)})(pk||(M.CodeActionResolveRequest=pk={}));var gk;(function(e){e.method="workspace/symbol",e.messageDirection=ve.MessageDirection.clientToServer,e.type=new ve.ProtocolRequestType(e.method)})(gk||(M.WorkspaceSymbolRequest=gk={}));var hk;(function(e){e.method="workspaceSymbol/resolve",e.messageDirection=ve.MessageDirection.clientToServer,e.type=new ve.ProtocolRequestType(e.method)})(hk||(M.WorkspaceSymbolResolveRequest=hk={}));var xk;(function(e){e.method="textDocument/codeLens",e.messageDirection=ve.MessageDirection.clientToServer,e.type=new ve.ProtocolRequestType(e.method)})(xk||(M.CodeLensRequest=xk={}));var bk;(function(e){e.method="codeLens/resolve",e.messageDirection=ve.MessageDirection.clientToServer,e.type=new ve.ProtocolRequestType(e.method)})(bk||(M.CodeLensResolveRequest=bk={}));var _k;(function(e){e.method="workspace/codeLens/refresh",e.messageDirection=ve.MessageDirection.serverToClient,e.type=new ve.ProtocolRequestType0(e.method)})(_k||(M.CodeLensRefreshRequest=_k={}));var yk;(function(e){e.method="textDocument/documentLink",e.messageDirection=ve.MessageDirection.clientToServer,e.type=new ve.ProtocolRequestType(e.method)})(yk||(M.DocumentLinkRequest=yk={}));var vk;(function(e){e.method="documentLink/resolve",e.messageDirection=ve.MessageDirection.clientToServer,e.type=new ve.ProtocolRequestType(e.method)})(vk||(M.DocumentLinkResolveRequest=vk={}));var Tk;(function(e){e.method="textDocument/formatting",e.messageDirection=ve.MessageDirection.clientToServer,e.type=new ve.ProtocolRequestType(e.method)})(Tk||(M.DocumentFormattingRequest=Tk={}));var Ik;(function(e){e.method="textDocument/rangeFormatting",e.messageDirection=ve.MessageDirection.clientToServer,e.type=new ve.ProtocolRequestType(e.method)})(Ik||(M.DocumentRangeFormattingRequest=Ik={}));var Ek;(function(e){e.method="textDocument/rangesFormatting",e.messageDirection=ve.MessageDirection.clientToServer,e.type=new ve.ProtocolRequestType(e.method)})(Ek||(M.DocumentRangesFormattingRequest=Ek={}));var Ck;(function(e){e.method="textDocument/onTypeFormatting",e.messageDirection=ve.MessageDirection.clientToServer,e.type=new ve.ProtocolRequestType(e.method)})(Ck||(M.DocumentOnTypeFormattingRequest=Ck={}));var Sk;(function(e){e.Identifier=1})(Sk||(M.PrepareSupportDefaultBehavior=Sk={}));var wk;(function(e){e.method="textDocument/rename",e.messageDirection=ve.MessageDirection.clientToServer,e.type=new ve.ProtocolRequestType(e.method)})(wk||(M.RenameRequest=wk={}));var Pk;(function(e){e.method="textDocument/prepareRename",e.messageDirection=ve.MessageDirection.clientToServer,e.type=new ve.ProtocolRequestType(e.method)})(Pk||(M.PrepareRenameRequest=Pk={}));var Dk;(function(e){e.method="workspace/executeCommand",e.messageDirection=ve.MessageDirection.clientToServer,e.type=new ve.ProtocolRequestType(e.method)})(Dk||(M.ExecuteCommandRequest=Dk={}));var Rk;(function(e){e.method="workspace/applyEdit",e.messageDirection=ve.MessageDirection.serverToClient,e.type=new ve.ProtocolRequestType("workspace/applyEdit")})(Rk||(M.ApplyWorkspaceEditRequest=Rk={}))});var Mk=Q(J2=>{"use strict";Object.defineProperty(J2,"__esModule",{value:!0});J2.createProtocolConnection=void 0;var Fk=Hc();function Nre(e,t,r,n){return Fk.ConnectionStrategy.is(n)&&(n={connectionStrategy:n}),(0,Fk.createMessageConnection)(e,t,r,n)}o(Nre,"createProtocolConnection");J2.createProtocolConnection=Nre});var Bk=Q(qi=>{"use strict";var Are=qi&&qi.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:o(function(){return t[r]},"get")}),Object.defineProperty(e,n,i)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),Z2=qi&&qi.__exportStar||function(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&Are(t,e,r)};Object.defineProperty(qi,"__esModule",{value:!0});qi.LSPErrorCodes=qi.createProtocolConnection=void 0;Z2(Hc(),qi);Z2((K1(),Zg(L2)),qi);Z2($r(),qi);Z2(Lk(),qi);var kre=Mk();Object.defineProperty(qi,"createProtocolConnection",{enumerable:!0,get:o(function(){return kre.createProtocolConnection},"get")});var Uk;(function(e){e.lspReservedErrorRangeStart=-32899,e.RequestFailed=-32803,e.ServerCancelled=-32802,e.ContentModified=-32801,e.RequestCancelled=-32800,e.lspReservedErrorRangeEnd=-32800})(Uk||(qi.LSPErrorCodes=Uk={}))});var vi=Q(m0=>{"use strict";var Ore=m0&&m0.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:o(function(){return t[r]},"get")}),Object.defineProperty(e,n,i)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),jk=m0&&m0.__exportStar||function(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&Ore(t,e,r)};Object.defineProperty(m0,"__esModule",{value:!0});m0.createProtocolConnection=void 0;var Lre=_9();jk(_9(),m0);jk(Bk(),m0);function Fre(e,t,r,n){return(0,Lre.createMessageConnection)(e,t,r,n)}o(Fre,"createProtocolConnection");m0.createProtocolConnection=Fre});var MM=Q((g$e,FM)=>{"use strict";FM.exports=OM;function OM(e,t,r){e instanceof RegExp&&(e=kM(e,r)),t instanceof RegExp&&(t=kM(t,r));var n=LM(e,t,r);return n&&{start:n[0],end:n[1],pre:r.slice(0,n[0]),body:r.slice(n[0]+e.length,n[1]),post:r.slice(n[1]+t.length)}}o(OM,"balanced");function kM(e,t){var r=t.match(e);return r?r[0]:null}o(kM,"maybeMatch");OM.range=LM;function LM(e,t,r){var n,i,s,a,l,c=r.indexOf(e),f=r.indexOf(t,c+1),u=c;if(c>=0&&f>0){if(e===t)return[c,f];for(n=[],s=r.length;u>=0&&!l;)u==c?(n.push(u),c=r.indexOf(e,u+1)):n.length==1?l=[n.pop(),f]:(i=n.pop(),i<s&&(s=i,a=f),f=r.indexOf(t,u+1)),u=c<f&&c>=0?c:f;n.length&&(l=[s,a])}return l}o(LM,"range")});var zM=Q((x$e,GM)=>{var UM=MM();GM.exports=jse;var BM="\0SLASH"+Math.random()+"\0",jM="\0OPEN"+Math.random()+"\0",_T="\0CLOSE"+Math.random()+"\0",$M="\0COMMA"+Math.random()+"\0",qM="\0PERIOD"+Math.random()+"\0";function bT(e){return parseInt(e,10)==e?parseInt(e,10):e.charCodeAt(0)}o(bT,"numeric");function Use(e){return e.split("\\\\").join(BM).split("\\{").join(jM).split("\\}").join(_T).split("\\,").join($M).split("\\.").join(qM)}o(Use,"escapeBraces");function Bse(e){return e.split(BM).join("\\").split(jM).join("{").split(_T).join("}").split($M).join(",").split(qM).join(".")}o(Bse,"unescapeBraces");function WM(e){if(!e)return[""];var t=[],r=UM("{","}",e);if(!r)return e.split(",");var n=r.pre,i=r.body,s=r.post,a=n.split(",");a[a.length-1]+="{"+i+"}";var l=WM(s);return s.length&&(a[a.length-1]+=l.shift(),a.push.apply(a,l)),t.push.apply(t,a),t}o(WM,"parseCommaParts");function jse(e){return e?(e.substr(0,2)==="{}"&&(e="\\{\\}"+e.substr(2)),lg(Use(e),!0).map(Bse)):[]}o(jse,"expandTop");function $se(e){return"{"+e+"}"}o($se,"embrace");function qse(e){return/^-?0\d/.test(e)}o(qse,"isPadded");function Wse(e,t){return e<=t}o(Wse,"lte");function Gse(e,t){return e>=t}o(Gse,"gte");function lg(e,t){var r=[],n=UM("{","}",e);if(!n)return[e];var i=n.pre,s=n.post.length?lg(n.post,!1):[""];if(/\$$/.test(n.pre))for(var a=0;a<s.length;a++){var l=i+"{"+n.body+"}"+s[a];r.push(l)}else{var c=/^-?\d+\.\.-?\d+(?:\.\.-?\d+)?$/.test(n.body),f=/^[a-zA-Z]\.\.[a-zA-Z](?:\.\.-?\d+)?$/.test(n.body),u=c||f,d=n.body.indexOf(",")>=0;if(!u&&!d)return n.post.match(/,(?!,).*\}/)?(e=n.pre+"{"+n.body+_T+n.post,lg(e)):[e];var p;if(u)p=n.body.split(/\.\./);else if(p=WM(n.body),p.length===1&&(p=lg(p[0],!1).map($se),p.length===1))return s.map(function(Y){return n.pre+p[0]+Y});var m;if(u){var g=bT(p[0]),h=bT(p[1]),_=Math.max(p[0].length,p[1].length),b=p.length==3?Math.abs(bT(p[2])):1,x=Wse,y=h<g;y&&(b*=-1,x=Gse);var E=p.some(qse);m=[];for(var S=g;x(S,h);S+=b){var w;if(f)w=String.fromCharCode(S),w==="\\"&&(w="");else if(w=String(S),E){var z=_-w.length;if(z>0){var V=new Array(z+1).join("0");S<0?w="-"+V+w.slice(1):w=V+w}}m.push(w)}}else{m=[];for(var W=0;W<p.length;W++)m.push.apply(m,lg(p[W],!1))}for(var W=0;W<m.length;W++)for(var a=0;a<s.length;a++){var l=i+m[W]+s[a];(!t||u||l)&&r.push(l)}}return r}o(lg,"expand")});var qg=Q((rut,X$)=>{var Sue="2.0.0",wue=Number.MAX_SAFE_INTEGER||9007199254740991,Pue=16,Due=250,Rue=["major","premajor","minor","preminor","patch","prepatch","prerelease"];X$.exports={MAX_LENGTH:256,MAX_SAFE_COMPONENT_LENGTH:Pue,MAX_SAFE_BUILD_LENGTH:Due,MAX_SAFE_INTEGER:wue,RELEASE_TYPES:Rue,SEMVER_SPEC_VERSION:Sue,FLAG_INCLUDE_PRERELEASE:1,FLAG_LOOSE:2}});var Wg=Q((nut,J$)=>{var Nue=typeof process=="object"&&process.env&&process.env.NODE_DEBUG&&/\bsemver\b/i.test(process.env.NODE_DEBUG)?(...e)=>console.error("SEMVER",...e):()=>{};J$.exports=Nue});var jm=Q((H0,Z$)=>{var{MAX_SAFE_COMPONENT_LENGTH:pE,MAX_SAFE_BUILD_LENGTH:Aue,MAX_LENGTH:kue}=qg(),Oue=Wg();H0=Z$.exports={};var Lue=H0.re=[],Fue=H0.safeRe=[],Le=H0.src=[],Mue=H0.safeSrc=[],Fe=H0.t={},Uue=0,gE="[a-zA-Z0-9-]",Bue=[["\\s",1],["\\d",kue],[gE,Aue]],jue=o(e=>{for(let[t,r]of Bue)e=e.split(`${t}*`).join(`${t}{0,${r}}`).split(`${t}+`).join(`${t}{1,${r}}`);return e},"makeSafeRegex"),xt=o((e,t,r)=>{let n=jue(t),i=Uue++;Oue(e,i,t),Fe[e]=i,Le[i]=t,Mue[i]=n,Lue[i]=new RegExp(t,r?"g":void 0),Fue[i]=new RegExp(n,r?"g":void 0)},"createToken");xt("NUMERICIDENTIFIER","0|[1-9]\\d*");xt("NUMERICIDENTIFIERLOOSE","\\d+");xt("NONNUMERICIDENTIFIER",`\\d*[a-zA-Z-]${gE}*`);xt("MAINVERSION",`(${Le[Fe.NUMERICIDENTIFIER]})\\.(${Le[Fe.NUMERICIDENTIFIER]})\\.(${Le[Fe.NUMERICIDENTIFIER]})`);xt("MAINVERSIONLOOSE",`(${Le[Fe.NUMERICIDENTIFIERLOOSE]})\\.(${Le[Fe.NUMERICIDENTIFIERLOOSE]})\\.(${Le[Fe.NUMERICIDENTIFIERLOOSE]})`);xt("PRERELEASEIDENTIFIER",`(?:${Le[Fe.NUMERICIDENTIFIER]}|${Le[Fe.NONNUMERICIDENTIFIER]})`);xt("PRERELEASEIDENTIFIERLOOSE",`(?:${Le[Fe.NUMERICIDENTIFIERLOOSE]}|${Le[Fe.NONNUMERICIDENTIFIER]})`);xt("PRERELEASE",`(?:-(${Le[Fe.PRERELEASEIDENTIFIER]}(?:\\.${Le[Fe.PRERELEASEIDENTIFIER]})*))`);xt("PRERELEASELOOSE",`(?:-?(${Le[Fe.PRERELEASEIDENTIFIERLOOSE]}(?:\\.${Le[Fe.PRERELEASEIDENTIFIERLOOSE]})*))`);xt("BUILDIDENTIFIER",`${gE}+`);xt("BUILD",`(?:\\+(${Le[Fe.BUILDIDENTIFIER]}(?:\\.${Le[Fe.BUILDIDENTIFIER]})*))`);xt("FULLPLAIN",`v?${Le[Fe.MAINVERSION]}${Le[Fe.PRERELEASE]}?${Le[Fe.BUILD]}?`);xt("FULL",`^${Le[Fe.FULLPLAIN]}$`);xt("LOOSEPLAIN",`[v=\\s]*${Le[Fe.MAINVERSIONLOOSE]}${Le[Fe.PRERELEASELOOSE]}?${Le[Fe.BUILD]}?`);xt("LOOSE",`^${Le[Fe.LOOSEPLAIN]}$`);xt("GTLT","((?:<|>)?=?)");xt("XRANGEIDENTIFIERLOOSE",`${Le[Fe.NUMERICIDENTIFIERLOOSE]}|x|X|\\*`);xt("XRANGEIDENTIFIER",`${Le[Fe.NUMERICIDENTIFIER]}|x|X|\\*`);xt("XRANGEPLAIN",`[v=\\s]*(${Le[Fe.XRANGEIDENTIFIER]})(?:\\.(${Le[Fe.XRANGEIDENTIFIER]})(?:\\.(${Le[Fe.XRANGEIDENTIFIER]})(?:${Le[Fe.PRERELEASE]})?${Le[Fe.BUILD]}?)?)?`);xt("XRANGEPLAINLOOSE",`[v=\\s]*(${Le[Fe.XRANGEIDENTIFIERLOOSE]})(?:\\.(${Le[Fe.XRANGEIDENTIFIERLOOSE]})(?:\\.(${Le[Fe.XRANGEIDENTIFIERLOOSE]})(?:${Le[Fe.PRERELEASELOOSE]})?${Le[Fe.BUILD]}?)?)?`);xt("XRANGE",`^${Le[Fe.GTLT]}\\s*${Le[Fe.XRANGEPLAIN]}$`);xt("XRANGELOOSE",`^${Le[Fe.GTLT]}\\s*${Le[Fe.XRANGEPLAINLOOSE]}$`);xt("COERCEPLAIN",`(^|[^\\d])(\\d{1,${pE}})(?:\\.(\\d{1,${pE}}))?(?:\\.(\\d{1,${pE}}))?`);xt("COERCE",`${Le[Fe.COERCEPLAIN]}(?:$|[^\\d])`);xt("COERCEFULL",Le[Fe.COERCEPLAIN]+`(?:${Le[Fe.PRERELEASE]})?(?:${Le[Fe.BUILD]})?(?:$|[^\\d])`);xt("COERCERTL",Le[Fe.COERCE],!0);xt("COERCERTLFULL",Le[Fe.COERCEFULL],!0);xt("LONETILDE","(?:~>?)");xt("TILDETRIM",`(\\s*)${Le[Fe.LONETILDE]}\\s+`,!0);H0.tildeTrimReplace="$1~";xt("TILDE",`^${Le[Fe.LONETILDE]}${Le[Fe.XRANGEPLAIN]}$`);xt("TILDELOOSE",`^${Le[Fe.LONETILDE]}${Le[Fe.XRANGEPLAINLOOSE]}$`);xt("LONECARET","(?:\\^)");xt("CARETTRIM",`(\\s*)${Le[Fe.LONECARET]}\\s+`,!0);H0.caretTrimReplace="$1^";xt("CARET",`^${Le[Fe.LONECARET]}${Le[Fe.XRANGEPLAIN]}$`);xt("CARETLOOSE",`^${Le[Fe.LONECARET]}${Le[Fe.XRANGEPLAINLOOSE]}$`);xt("COMPARATORLOOSE",`^${Le[Fe.GTLT]}\\s*(${Le[Fe.LOOSEPLAIN]})$|^$`);xt("COMPARATOR",`^${Le[Fe.GTLT]}\\s*(${Le[Fe.FULLPLAIN]})$|^$`);xt("COMPARATORTRIM",`(\\s*)${Le[Fe.GTLT]}\\s*(${Le[Fe.LOOSEPLAIN]}|${Le[Fe.XRANGEPLAIN]})`,!0);H0.comparatorTrimReplace="$1$2$3";xt("HYPHENRANGE",`^\\s*(${Le[Fe.XRANGEPLAIN]})\\s+-\\s+(${Le[Fe.XRANGEPLAIN]})\\s*$`);xt("HYPHENRANGELOOSE",`^\\s*(${Le[Fe.XRANGEPLAINLOOSE]})\\s+-\\s+(${Le[Fe.XRANGEPLAINLOOSE]})\\s*$`);xt("STAR","(<|>)?=?\\s*\\*");xt("GTE0","^\\s*>=\\s*0\\.0\\.0\\s*$");xt("GTE0PRE","^\\s*>=\\s*0\\.0\\.0-0\\s*$")});var Y8=Q((sut,Q$)=>{var $ue=Object.freeze({loose:!0}),que=Object.freeze({}),Wue=o(e=>e?typeof e!="object"?$ue:e:que,"parseOptions");Q$.exports=Wue});var hE=Q((lut,rq)=>{var eq=/^[0-9]+$/,tq=o((e,t)=>{let r=eq.test(e),n=eq.test(t);return r&&n&&(e=+e,t=+t),e===t?0:r&&!n?-1:n&&!r?1:e<t?-1:1},"compareIdentifiers"),Gue=o((e,t)=>tq(t,e),"rcompareIdentifiers");rq.exports={compareIdentifiers:tq,rcompareIdentifiers:Gue}});var pi=Q((uut,sq)=>{var X8=Wg(),{MAX_LENGTH:nq,MAX_SAFE_INTEGER:J8}=qg(),{safeRe:iq,safeSrc:oq,t:Z8}=jm(),zue=Y8(),{compareIdentifiers:$m}=hE(),xE=class e{static{o(this,"SemVer")}constructor(t,r){if(r=zue(r),t instanceof e){if(t.loose===!!r.loose&&t.includePrerelease===!!r.includePrerelease)return t;t=t.version}else if(typeof t!="string")throw new TypeError(`Invalid version. Must be a string. Got type "${typeof t}".`);if(t.length>nq)throw new TypeError(`version is longer than ${nq} characters`);X8("SemVer",t,r),this.options=r,this.loose=!!r.loose,this.includePrerelease=!!r.includePrerelease;let n=t.trim().match(r.loose?iq[Z8.LOOSE]:iq[Z8.FULL]);if(!n)throw new TypeError(`Invalid Version: ${t}`);if(this.raw=t,this.major=+n[1],this.minor=+n[2],this.patch=+n[3],this.major>J8||this.major<0)throw new TypeError("Invalid major version");if(this.minor>J8||this.minor<0)throw new TypeError("Invalid minor version");if(this.patch>J8||this.patch<0)throw new TypeError("Invalid patch version");n[4]?this.prerelease=n[4].split(".").map(i=>{if(/^[0-9]+$/.test(i)){let s=+i;if(s>=0&&s<J8)return s}return i}):this.prerelease=[],this.build=n[5]?n[5].split("."):[],this.format()}format(){return this.version=`${this.major}.${this.minor}.${this.patch}`,this.prerelease.length&&(this.version+=`-${this.prerelease.join(".")}`),this.version}toString(){return this.version}compare(t){if(X8("SemVer.compare",this.version,this.options,t),!(t instanceof e)){if(typeof t=="string"&&t===this.version)return 0;t=new e(t,this.options)}return t.version===this.version?0:this.compareMain(t)||this.comparePre(t)}compareMain(t){return t instanceof e||(t=new e(t,this.options)),$m(this.major,t.major)||$m(this.minor,t.minor)||$m(this.patch,t.patch)}comparePre(t){if(t instanceof e||(t=new e(t,this.options)),this.prerelease.length&&!t.prerelease.length)return-1;if(!this.prerelease.length&&t.prerelease.length)return 1;if(!this.prerelease.length&&!t.prerelease.length)return 0;let r=0;do{let n=this.prerelease[r],i=t.prerelease[r];if(X8("prerelease compare",r,n,i),n===void 0&&i===void 0)return 0;if(i===void 0)return 1;if(n===void 0)return-1;if(n===i)continue;return $m(n,i)}while(++r)}compareBuild(t){t instanceof e||(t=new e(t,this.options));let r=0;do{let n=this.build[r],i=t.build[r];if(X8("build compare",r,n,i),n===void 0&&i===void 0)return 0;if(i===void 0)return 1;if(n===void 0)return-1;if(n===i)continue;return $m(n,i)}while(++r)}inc(t,r,n){if(t.startsWith("pre")){if(!r&&n===!1)throw new Error("invalid increment argument: identifier is empty");if(r){let i=new RegExp(`^${this.options.loose?oq[Z8.PRERELEASELOOSE]:oq[Z8.PRERELEASE]}$`),s=`-${r}`.match(i);if(!s||s[1]!==r)throw new Error(`invalid identifier: ${r}`)}}switch(t){case"premajor":this.prerelease.length=0,this.patch=0,this.minor=0,this.major++,this.inc("pre",r,n);break;case"preminor":this.prerelease.length=0,this.patch=0,this.minor++,this.inc("pre",r,n);break;case"prepatch":this.prerelease.length=0,this.inc("patch",r,n),this.inc("pre",r,n);break;case"prerelease":this.prerelease.length===0&&this.inc("patch",r,n),this.inc("pre",r,n);break;case"release":if(this.prerelease.length===0)throw new Error(`version ${this.raw} is not a prerelease`);this.prerelease.length=0;break;case"major":(this.minor!==0||this.patch!==0||this.prerelease.length===0)&&this.major++,this.minor=0,this.patch=0,this.prerelease=[];break;case"minor":(this.patch!==0||this.prerelease.length===0)&&this.minor++,this.patch=0,this.prerelease=[];break;case"patch":this.prerelease.length===0&&this.patch++,this.prerelease=[];break;case"pre":{let i=Number(n)?1:0;if(this.prerelease.length===0)this.prerelease=[i];else{let s=this.prerelease.length;for(;--s>=0;)typeof this.prerelease[s]=="number"&&(this.prerelease[s]++,s=-2);if(s===-1){if(r===this.prerelease.join(".")&&n===!1)throw new Error("invalid increment argument: identifier already exists");this.prerelease.push(i)}}if(r){let s=[r,i];n===!1&&(s=[r]),$m(this.prerelease[0],r)===0?isNaN(this.prerelease[1])&&(this.prerelease=s):this.prerelease=s}break}default:throw new Error(`invalid increment argument: ${t}`)}return this.raw=this.format(),this.build.length&&(this.raw+=`+${this.build.join(".")}`),this}};sq.exports=xE});var of=Q((dut,lq)=>{var aq=pi(),Hue=o((e,t,r=!1)=>{if(e instanceof aq)return e;try{return new aq(e,t)}catch(n){if(!r)return null;throw n}},"parse");lq.exports=Hue});var uq=Q((put,cq)=>{var Vue=of(),Kue=o((e,t)=>{let r=Vue(e,t);return r?r.version:null},"valid");cq.exports=Kue});var dq=Q((hut,fq)=>{var Yue=of(),Xue=o((e,t)=>{let r=Yue(e.trim().replace(/^[=v]+/,""),t);return r?r.version:null},"clean");fq.exports=Xue});var gq=Q((but,pq)=>{var mq=pi(),Jue=o((e,t,r,n,i)=>{typeof r=="string"&&(i=n,n=r,r=void 0);try{return new mq(e instanceof mq?e.version:e,r).inc(t,n,i).version}catch{return null}},"inc");pq.exports=Jue});var bq=Q((yut,xq)=>{var hq=of(),Zue=o((e,t)=>{let r=hq(e,null,!0),n=hq(t,null,!0),i=r.compare(n);if(i===0)return null;let s=i>0,a=s?r:n,l=s?n:r,c=!!a.prerelease.length;if(!!l.prerelease.length&&!c){if(!l.patch&&!l.minor)return"major";if(l.compareMain(a)===0)return l.minor&&!l.patch?"minor":"patch"}let u=c?"pre":"";return r.major!==n.major?u+"major":r.minor!==n.minor?u+"minor":r.patch!==n.patch?u+"patch":"prerelease"},"diff");xq.exports=Zue});var yq=Q((Tut,_q)=>{var Que=pi(),efe=o((e,t)=>new Que(e,t).major,"major");_q.exports=efe});var Tq=Q((Eut,vq)=>{var tfe=pi(),rfe=o((e,t)=>new tfe(e,t).minor,"minor");vq.exports=rfe});var Eq=Q((Sut,Iq)=>{var nfe=pi(),ife=o((e,t)=>new nfe(e,t).patch,"patch");Iq.exports=ife});var Sq=Q((Put,Cq)=>{var ofe=of(),sfe=o((e,t)=>{let r=ofe(e,t);return r&&r.prerelease.length?r.prerelease:null},"prerelease");Cq.exports=sfe});var ls=Q((Rut,Pq)=>{var wq=pi(),afe=o((e,t,r)=>new wq(e,r).compare(new wq(t,r)),"compare");Pq.exports=afe});var Rq=Q((Aut,Dq)=>{var lfe=ls(),cfe=o((e,t,r)=>lfe(t,e,r),"rcompare");Dq.exports=cfe});var Aq=Q((Out,Nq)=>{var ufe=ls(),ffe=o((e,t)=>ufe(e,t,!0),"compareLoose");Nq.exports=ffe});var Q8=Q((Fut,Oq)=>{var kq=pi(),dfe=o((e,t,r)=>{let n=new kq(e,r),i=new kq(t,r);return n.compare(i)||n.compareBuild(i)},"compareBuild");Oq.exports=dfe});var Fq=Q((Uut,Lq)=>{var mfe=Q8(),pfe=o((e,t)=>e.sort((r,n)=>mfe(r,n,t)),"sort");Lq.exports=pfe});var Uq=Q((jut,Mq)=>{var gfe=Q8(),hfe=o((e,t)=>e.sort((r,n)=>gfe(n,r,t)),"rsort");Mq.exports=hfe});var Gg=Q((qut,Bq)=>{var xfe=ls(),bfe=o((e,t,r)=>xfe(e,t,r)>0,"gt");Bq.exports=bfe});var eb=Q((Gut,jq)=>{var _fe=ls(),yfe=o((e,t,r)=>_fe(e,t,r)<0,"lt");jq.exports=yfe});var bE=Q((Hut,$q)=>{var vfe=ls(),Tfe=o((e,t,r)=>vfe(e,t,r)===0,"eq");$q.exports=Tfe});var _E=Q((Kut,qq)=>{var Ife=ls(),Efe=o((e,t,r)=>Ife(e,t,r)!==0,"neq");qq.exports=Efe});var tb=Q((Xut,Wq)=>{var Cfe=ls(),Sfe=o((e,t,r)=>Cfe(e,t,r)>=0,"gte");Wq.exports=Sfe});var rb=Q((Zut,Gq)=>{var wfe=ls(),Pfe=o((e,t,r)=>wfe(e,t,r)<=0,"lte");Gq.exports=Pfe});var yE=Q((eft,zq)=>{var Dfe=bE(),Rfe=_E(),Nfe=Gg(),Afe=tb(),kfe=eb(),Ofe=rb(),Lfe=o((e,t,r,n)=>{switch(t){case"===":return typeof e=="object"&&(e=e.version),typeof r=="object"&&(r=r.version),e===r;case"!==":return typeof e=="object"&&(e=e.version),typeof r=="object"&&(r=r.version),e!==r;case"":case"=":case"==":return Dfe(e,r,n);case"!=":return Rfe(e,r,n);case">":return Nfe(e,r,n);case">=":return Afe(e,r,n);case"<":return kfe(e,r,n);case"<=":return Ofe(e,r,n);default:throw new TypeError(`Invalid operator: ${t}`)}},"cmp");zq.exports=Lfe});var Vq=Q((rft,Hq)=>{var Ffe=pi(),Mfe=of(),{safeRe:nb,t:ib}=jm(),Ufe=o((e,t)=>{if(e instanceof Ffe)return e;if(typeof e=="number"&&(e=String(e)),typeof e!="string")return null;t=t||{};let r=null;if(!t.rtl)r=e.match(t.includePrerelease?nb[ib.COERCEFULL]:nb[ib.COERCE]);else{let c=t.includePrerelease?nb[ib.COERCERTLFULL]:nb[ib.COERCERTL],f;for(;(f=c.exec(e))&&(!r||r.index+r[0].length!==e.length);)(!r||f.index+f[0].length!==r.index+r[0].length)&&(r=f),c.lastIndex=f.index+f[1].length+f[2].length;c.lastIndex=-1}if(r===null)return null;let n=r[2],i=r[3]||"0",s=r[4]||"0",a=t.includePrerelease&&r[5]?`-${r[5]}`:"",l=t.includePrerelease&&r[6]?`+${r[6]}`:"";return Mfe(`${n}.${i}.${s}${a}${l}`,t)},"coerce");Hq.exports=Ufe});var Yq=Q((ift,Kq)=>{var vE=class{static{o(this,"LRUCache")}constructor(){this.max=1e3,this.map=new Map}get(t){let r=this.map.get(t);if(r!==void 0)return this.map.delete(t),this.map.set(t,r),r}delete(t){return this.map.delete(t)}set(t,r){if(!this.delete(t)&&r!==void 0){if(this.map.size>=this.max){let i=this.map.keys().next().value;this.delete(i)}this.map.set(t,r)}return this}};Kq.exports=vE});var cs=Q((sft,Qq)=>{var Bfe=/\s+/g,TE=class e{static{o(this,"Range")}constructor(t,r){if(r=$fe(r),t instanceof e)return t.loose===!!r.loose&&t.includePrerelease===!!r.includePrerelease?t:new e(t.raw,r);if(t instanceof IE)return this.raw=t.value,this.set=[[t]],this.formatted=void 0,this;if(this.options=r,this.loose=!!r.loose,this.includePrerelease=!!r.includePrerelease,this.raw=t.trim().replace(Bfe," "),this.set=this.raw.split("||").map(n=>this.parseRange(n.trim())).filter(n=>n.length),!this.set.length)throw new TypeError(`Invalid SemVer Range: ${this.raw}`);if(this.set.length>1){let n=this.set[0];if(this.set=this.set.filter(i=>!Jq(i[0])),this.set.length===0)this.set=[n];else if(this.set.length>1){for(let i of this.set)if(i.length===1&&Kfe(i[0])){this.set=[i];break}}}this.formatted=void 0}get range(){if(this.formatted===void 0){this.formatted="";for(let t=0;t<this.set.length;t++){t>0&&(this.formatted+="||");let r=this.set[t];for(let n=0;n<r.length;n++)n>0&&(this.formatted+=" "),this.formatted+=r[n].toString().trim()}}return this.formatted}format(){return this.range}toString(){return this.range}parseRange(t){let n=((this.options.includePrerelease&&Hfe)|(this.options.loose&&Vfe))+":"+t,i=Xq.get(n);if(i)return i;let s=this.options.loose,a=s?Zi[wi.HYPHENRANGELOOSE]:Zi[wi.HYPHENRANGE];t=t.replace(a,ide(this.options.includePrerelease)),Fr("hyphen replace",t),t=t.replace(Zi[wi.COMPARATORTRIM],Wfe),Fr("comparator trim",t),t=t.replace(Zi[wi.TILDETRIM],Gfe),Fr("tilde trim",t),t=t.replace(Zi[wi.CARETTRIM],zfe),Fr("caret trim",t);let l=t.split(" ").map(d=>Yfe(d,this.options)).join(" ").split(/\s+/).map(d=>nde(d,this.options));s&&(l=l.filter(d=>(Fr("loose invalid filter",d,this.options),!!d.match(Zi[wi.COMPARATORLOOSE])))),Fr("range list",l);let c=new Map,f=l.map(d=>new IE(d,this.options));for(let d of f){if(Jq(d))return[d];c.set(d.value,d)}c.size>1&&c.has("")&&c.delete("");let u=[...c.values()];return Xq.set(n,u),u}intersects(t,r){if(!(t instanceof e))throw new TypeError("a Range is required");return this.set.some(n=>Zq(n,r)&&t.set.some(i=>Zq(i,r)&&n.every(s=>i.every(a=>s.intersects(a,r)))))}test(t){if(!t)return!1;if(typeof t=="string")try{t=new qfe(t,this.options)}catch{return!1}for(let r=0;r<this.set.length;r++)if(ode(this.set[r],t,this.options))return!0;return!1}};Qq.exports=TE;var jfe=Yq(),Xq=new jfe,$fe=Y8(),IE=zg(),Fr=Wg(),qfe=pi(),{safeRe:Zi,t:wi,comparatorTrimReplace:Wfe,tildeTrimReplace:Gfe,caretTrimReplace:zfe}=jm(),{FLAG_INCLUDE_PRERELEASE:Hfe,FLAG_LOOSE:Vfe}=qg(),Jq=o(e=>e.value==="<0.0.0-0","isNullSet"),Kfe=o(e=>e.value==="","isAny"),Zq=o((e,t)=>{let r=!0,n=e.slice(),i=n.pop();for(;r&&n.length;)r=n.every(s=>i.intersects(s,t)),i=n.pop();return r},"isSatisfiable"),Yfe=o((e,t)=>(Fr("comp",e,t),e=Zfe(e,t),Fr("caret",e),e=Xfe(e,t),Fr("tildes",e),e=ede(e,t),Fr("xrange",e),e=rde(e,t),Fr("stars",e),e),"parseComparator"),Pi=o(e=>!e||e.toLowerCase()==="x"||e==="*","isX"),Xfe=o((e,t)=>e.trim().split(/\s+/).map(r=>Jfe(r,t)).join(" "),"replaceTildes"),Jfe=o((e,t)=>{let r=t.loose?Zi[wi.TILDELOOSE]:Zi[wi.TILDE];return e.replace(r,(n,i,s,a,l)=>{Fr("tilde",e,n,i,s,a,l);let c;return Pi(i)?c="":Pi(s)?c=`>=${i}.0.0 <${+i+1}.0.0-0`:Pi(a)?c=`>=${i}.${s}.0 <${i}.${+s+1}.0-0`:l?(Fr("replaceTilde pr",l),c=`>=${i}.${s}.${a}-${l} <${i}.${+s+1}.0-0`):c=`>=${i}.${s}.${a} <${i}.${+s+1}.0-0`,Fr("tilde return",c),c})},"replaceTilde"),Zfe=o((e,t)=>e.trim().split(/\s+/).map(r=>Qfe(r,t)).join(" "),"replaceCarets"),Qfe=o((e,t)=>{Fr("caret",e,t);let r=t.loose?Zi[wi.CARETLOOSE]:Zi[wi.CARET],n=t.includePrerelease?"-0":"";return e.replace(r,(i,s,a,l,c)=>{Fr("caret",e,i,s,a,l,c);let f;return Pi(s)?f="":Pi(a)?f=`>=${s}.0.0${n} <${+s+1}.0.0-0`:Pi(l)?s==="0"?f=`>=${s}.${a}.0${n} <${s}.${+a+1}.0-0`:f=`>=${s}.${a}.0${n} <${+s+1}.0.0-0`:c?(Fr("replaceCaret pr",c),s==="0"?a==="0"?f=`>=${s}.${a}.${l}-${c} <${s}.${a}.${+l+1}-0`:f=`>=${s}.${a}.${l}-${c} <${s}.${+a+1}.0-0`:f=`>=${s}.${a}.${l}-${c} <${+s+1}.0.0-0`):(Fr("no pr"),s==="0"?a==="0"?f=`>=${s}.${a}.${l}${n} <${s}.${a}.${+l+1}-0`:f=`>=${s}.${a}.${l}${n} <${s}.${+a+1}.0-0`:f=`>=${s}.${a}.${l} <${+s+1}.0.0-0`),Fr("caret return",f),f})},"replaceCaret"),ede=o((e,t)=>(Fr("replaceXRanges",e,t),e.split(/\s+/).map(r=>tde(r,t)).join(" ")),"replaceXRanges"),tde=o((e,t)=>{e=e.trim();let r=t.loose?Zi[wi.XRANGELOOSE]:Zi[wi.XRANGE];return e.replace(r,(n,i,s,a,l,c)=>{Fr("xRange",e,n,i,s,a,l,c);let f=Pi(s),u=f||Pi(a),d=u||Pi(l),p=d;return i==="="&&p&&(i=""),c=t.includePrerelease?"-0":"",f?i===">"||i==="<"?n="<0.0.0-0":n="*":i&&p?(u&&(a=0),l=0,i===">"?(i=">=",u?(s=+s+1,a=0,l=0):(a=+a+1,l=0)):i==="<="&&(i="<",u?s=+s+1:a=+a+1),i==="<"&&(c="-0"),n=`${i+s}.${a}.${l}${c}`):u?n=`>=${s}.0.0${c} <${+s+1}.0.0-0`:d&&(n=`>=${s}.${a}.0${c} <${s}.${+a+1}.0-0`),Fr("xRange return",n),n})},"replaceXRange"),rde=o((e,t)=>(Fr("replaceStars",e,t),e.trim().replace(Zi[wi.STAR],"")),"replaceStars"),nde=o((e,t)=>(Fr("replaceGTE0",e,t),e.trim().replace(Zi[t.includePrerelease?wi.GTE0PRE:wi.GTE0],"")),"replaceGTE0"),ide=o(e=>(t,r,n,i,s,a,l,c,f,u,d,p)=>(Pi(n)?r="":Pi(i)?r=`>=${n}.0.0${e?"-0":""}`:Pi(s)?r=`>=${n}.${i}.0${e?"-0":""}`:a?r=`>=${r}`:r=`>=${r}${e?"-0":""}`,Pi(f)?c="":Pi(u)?c=`<${+f+1}.0.0-0`:Pi(d)?c=`<${f}.${+u+1}.0-0`:p?c=`<=${f}.${u}.${d}-${p}`:e?c=`<${f}.${u}.${+d+1}-0`:c=`<=${c}`,`${r} ${c}`.trim()),"hyphenReplace"),ode=o((e,t,r)=>{for(let n=0;n<e.length;n++)if(!e[n].test(t))return!1;if(t.prerelease.length&&!r.includePrerelease){for(let n=0;n<e.length;n++)if(Fr(e[n].semver),e[n].semver!==IE.ANY&&e[n].semver.prerelease.length>0){let i=e[n].semver;if(i.major===t.major&&i.minor===t.minor&&i.patch===t.patch)return!0}return!1}return!0},"testSet")});var zg=Q((lft,oW)=>{var Hg=Symbol("SemVer ANY"),SE=class e{static{o(this,"Comparator")}static get ANY(){return Hg}constructor(t,r){if(r=eW(r),t instanceof e){if(t.loose===!!r.loose)return t;t=t.value}t=t.trim().split(/\s+/).join(" "),CE("comparator",t,r),this.options=r,this.loose=!!r.loose,this.parse(t),this.semver===Hg?this.value="":this.value=this.operator+this.semver.version,CE("comp",this)}parse(t){let r=this.options.loose?tW[rW.COMPARATORLOOSE]:tW[rW.COMPARATOR],n=t.match(r);if(!n)throw new TypeError(`Invalid comparator: ${t}`);this.operator=n[1]!==void 0?n[1]:"",this.operator==="="&&(this.operator=""),n[2]?this.semver=new nW(n[2],this.options.loose):this.semver=Hg}toString(){return this.value}test(t){if(CE("Comparator.test",t,this.options.loose),this.semver===Hg||t===Hg)return!0;if(typeof t=="string")try{t=new nW(t,this.options)}catch{return!1}return EE(t,this.operator,this.semver,this.options)}intersects(t,r){if(!(t instanceof e))throw new TypeError("a Comparator is required");return this.operator===""?this.value===""?!0:new iW(t.value,r).test(this.value):t.operator===""?t.value===""?!0:new iW(this.value,r).test(t.semver):(r=eW(r),r.includePrerelease&&(this.value==="<0.0.0-0"||t.value==="<0.0.0-0")||!r.includePrerelease&&(this.value.startsWith("<0.0.0")||t.value.startsWith("<0.0.0"))?!1:!!(this.operator.startsWith(">")&&t.operator.startsWith(">")||this.operator.startsWith("<")&&t.operator.startsWith("<")||this.semver.version===t.semver.version&&this.operator.includes("=")&&t.operator.includes("=")||EE(this.semver,"<",t.semver,r)&&this.operator.startsWith(">")&&t.operator.startsWith("<")||EE(this.semver,">",t.semver,r)&&this.operator.startsWith("<")&&t.operator.startsWith(">")))}};oW.exports=SE;var eW=Y8(),{safeRe:tW,t:rW}=jm(),EE=yE(),CE=Wg(),nW=pi(),iW=cs()});var Vg=Q((uft,sW)=>{var sde=cs(),ade=o((e,t,r)=>{try{t=new sde(t,r)}catch{return!1}return t.test(e)},"satisfies");sW.exports=ade});var lW=Q((dft,aW)=>{var lde=cs(),cde=o((e,t)=>new lde(e,t).set.map(r=>r.map(n=>n.value).join(" ").trim().split(" ")),"toComparators");aW.exports=cde});var uW=Q((pft,cW)=>{var ude=pi(),fde=cs(),dde=o((e,t,r)=>{let n=null,i=null,s=null;try{s=new fde(t,r)}catch{return null}return e.forEach(a=>{s.test(a)&&(!n||i.compare(a)===-1)&&(n=a,i=new ude(n,r))}),n},"maxSatisfying");cW.exports=dde});var dW=Q((hft,fW)=>{var mde=pi(),pde=cs(),gde=o((e,t,r)=>{let n=null,i=null,s=null;try{s=new pde(t,r)}catch{return null}return e.forEach(a=>{s.test(a)&&(!n||i.compare(a)===1)&&(n=a,i=new mde(n,r))}),n},"minSatisfying");fW.exports=gde});var gW=Q((bft,pW)=>{var wE=pi(),hde=cs(),mW=Gg(),xde=o((e,t)=>{e=new hde(e,t);let r=new wE("0.0.0");if(e.test(r)||(r=new wE("0.0.0-0"),e.test(r)))return r;r=null;for(let n=0;n<e.set.length;++n){let i=e.set[n],s=null;i.forEach(a=>{let l=new wE(a.semver.version);switch(a.operator){case">":l.prerelease.length===0?l.patch++:l.prerelease.push(0),l.raw=l.format();case"":case">=":(!s||mW(l,s))&&(s=l);break;case"<":case"<=":break;default:throw new Error(`Unexpected operation: ${a.operator}`)}}),s&&(!r||mW(r,s))&&(r=s)}return r&&e.test(r)?r:null},"minVersion");pW.exports=xde});var xW=Q((yft,hW)=>{var bde=cs(),_de=o((e,t)=>{try{return new bde(e,t).range||"*"}catch{return null}},"validRange");hW.exports=_de});var ob=Q((Tft,vW)=>{var yde=pi(),yW=zg(),{ANY:vde}=yW,Tde=cs(),Ide=Vg(),bW=Gg(),_W=eb(),Ede=rb(),Cde=tb(),Sde=o((e,t,r,n)=>{e=new yde(e,n),t=new Tde(t,n);let i,s,a,l,c;switch(r){case">":i=bW,s=Ede,a=_W,l=">",c=">=";break;case"<":i=_W,s=Cde,a=bW,l="<",c="<=";break;default:throw new TypeError('Must provide a hilo val of "<" or ">"')}if(Ide(e,t,n))return!1;for(let f=0;f<t.set.length;++f){let u=t.set[f],d=null,p=null;if(u.forEach(m=>{m.semver===vde&&(m=new yW(">=0.0.0")),d=d||m,p=p||m,i(m.semver,d.semver,n)?d=m:a(m.semver,p.semver,n)&&(p=m)}),d.operator===l||d.operator===c||(!p.operator||p.operator===l)&&s(e,p.semver))return!1;if(p.operator===c&&a(e,p.semver))return!1}return!0},"outside");vW.exports=Sde});var IW=Q((Eft,TW)=>{var wde=ob(),Pde=o((e,t,r)=>wde(e,t,">",r),"gtr");TW.exports=Pde});var CW=Q((Sft,EW)=>{var Dde=ob(),Rde=o((e,t,r)=>Dde(e,t,"<",r),"ltr");EW.exports=Rde});var PW=Q((Pft,wW)=>{var SW=cs(),Nde=o((e,t,r)=>(e=new SW(e,r),t=new SW(t,r),e.intersects(t,r)),"intersects");wW.exports=Nde});var RW=Q((Rft,DW)=>{var Ade=Vg(),kde=ls();DW.exports=(e,t,r)=>{let n=[],i=null,s=null,a=e.sort((u,d)=>kde(u,d,r));for(let u of a)Ade(u,t,r)?(s=u,i||(i=u)):(s&&n.push([i,s]),s=null,i=null);i&&n.push([i,null]);let l=[];for(let[u,d]of n)u===d?l.push(u):!d&&u===a[0]?l.push("*"):d?u===a[0]?l.push(`<=${d}`):l.push(`${u} - ${d}`):l.push(`>=${u}`);let c=l.join(" || "),f=typeof t.raw=="string"?t.raw:String(t);return c.length<f.length?c:t}});var FW=Q((Nft,LW)=>{var NW=cs(),DE=zg(),{ANY:PE}=DE,Kg=Vg(),RE=ls(),Ode=o((e,t,r={})=>{if(e===t)return!0;e=new NW(e,r),t=new NW(t,r);let n=!1;e:for(let i of e.set){for(let s of t.set){let a=Fde(i,s,r);if(n=n||a!==null,a)continue e}if(n)return!1}return!0},"subset"),Lde=[new DE(">=0.0.0-0")],AW=[new DE(">=0.0.0")],Fde=o((e,t,r)=>{if(e===t)return!0;if(e.length===1&&e[0].semver===PE){if(t.length===1&&t[0].semver===PE)return!0;r.includePrerelease?e=Lde:e=AW}if(t.length===1&&t[0].semver===PE){if(r.includePrerelease)return!0;t=AW}let n=new Set,i,s;for(let m of e)m.operator===">"||m.operator===">="?i=kW(i,m,r):m.operator==="<"||m.operator==="<="?s=OW(s,m,r):n.add(m.semver);if(n.size>1)return null;let a;if(i&&s){if(a=RE(i.semver,s.semver,r),a>0)return null;if(a===0&&(i.operator!==">="||s.operator!=="<="))return null}for(let m of n){if(i&&!Kg(m,String(i),r)||s&&!Kg(m,String(s),r))return null;for(let g of t)if(!Kg(m,String(g),r))return!1;return!0}let l,c,f,u,d=s&&!r.includePrerelease&&s.semver.prerelease.length?s.semver:!1,p=i&&!r.includePrerelease&&i.semver.prerelease.length?i.semver:!1;d&&d.prerelease.length===1&&s.operator==="<"&&d.prerelease[0]===0&&(d=!1);for(let m of t){if(u=u||m.operator===">"||m.operator===">=",f=f||m.operator==="<"||m.operator==="<=",i){if(p&&m.semver.prerelease&&m.semver.prerelease.length&&m.semver.major===p.major&&m.semver.minor===p.minor&&m.semver.patch===p.patch&&(p=!1),m.operator===">"||m.operator===">="){if(l=kW(i,m,r),l===m&&l!==i)return!1}else if(i.operator===">="&&!Kg(i.semver,String(m),r))return!1}if(s){if(d&&m.semver.prerelease&&m.semver.prerelease.length&&m.semver.major===d.major&&m.semver.minor===d.minor&&m.semver.patch===d.patch&&(d=!1),m.operator==="<"||m.operator==="<="){if(c=OW(s,m,r),c===m&&c!==s)return!1}else if(s.operator==="<="&&!Kg(s.semver,String(m),r))return!1}if(!m.operator&&(s||i)&&a!==0)return!1}return!(i&&f&&!s&&a!==0||s&&u&&!i&&a!==0||p||d)},"simpleSubset"),kW=o((e,t,r)=>{if(!e)return t;let n=RE(e.semver,t.semver,r);return n>0?e:n<0||t.operator===">"&&e.operator===">="?t:e},"higherGT"),OW=o((e,t,r)=>{if(!e)return t;let n=RE(e.semver,t.semver,r);return n<0?e:n>0||t.operator==="<"&&e.operator==="<="?t:e},"lowerLT");LW.exports=Ode});var jW=Q((kft,BW)=>{var NE=jm(),MW=qg(),Mde=pi(),UW=hE(),Ude=of(),Bde=uq(),jde=dq(),$de=gq(),qde=bq(),Wde=yq(),Gde=Tq(),zde=Eq(),Hde=Sq(),Vde=ls(),Kde=Rq(),Yde=Aq(),Xde=Q8(),Jde=Fq(),Zde=Uq(),Qde=Gg(),eme=eb(),tme=bE(),rme=_E(),nme=tb(),ime=rb(),ome=yE(),sme=Vq(),ame=zg(),lme=cs(),cme=Vg(),ume=lW(),fme=uW(),dme=dW(),mme=gW(),pme=xW(),gme=ob(),hme=IW(),xme=CW(),bme=PW(),_me=RW(),yme=FW();BW.exports={parse:Ude,valid:Bde,clean:jde,inc:$de,diff:qde,major:Wde,minor:Gde,patch:zde,prerelease:Hde,compare:Vde,rcompare:Kde,compareLoose:Yde,compareBuild:Xde,sort:Jde,rsort:Zde,gt:Qde,lt:eme,eq:tme,neq:rme,gte:nme,lte:ime,cmp:ome,coerce:sme,Comparator:ame,Range:lme,satisfies:cme,toComparators:ume,maxSatisfying:fme,minSatisfying:dme,minVersion:mme,validRange:pme,outside:gme,gtr:hme,ltr:xme,intersects:bme,simplifyRange:_me,subset:yme,SemVer:Mde,re:NE.re,src:NE.src,tokens:NE.t,SEMVER_SPEC_VERSION:MW.SEMVER_SPEC_VERSION,RELEASE_TYPES:MW.RELEASE_TYPES,compareIdentifiers:UW.compareIdentifiers,rcompareIdentifiers:UW.rcompareIdentifiers}});var Ome={};Vs(Ome,{activate:()=>Pme,globalStateUserAcknowledgedStatusBarDeprecationKey:()=>Sme,onDeactivate:()=>HW});module.exports=Zg(Ome);var Ya=class extends Error{static{o(this,"CopilotAuthError")}constructor(t,r){super(t,{cause:r}),this.name="CopilotAuthError"}};var Gr="github.copilot",Qg="github-enterprise";function mb(e){return["a5db0bcaae94032fe715fb34a5e4bce2","7184f66dfcee98cb5f08a1cb936d5225","faef89d9169d5eacf1d8c8dde3412e37","4535c7beffc844b46bb1ed4aa04d759a"].find(r=>e.includes(r))}o(mb,"findKnownOrg");function jE(e){let t=e.organization_list??[];return mb(t)??""}o(jE,"getUserKind");var Ic=class{static{o(this,"Clock")}now(){return new Date}};var YC=Tt(zm());var rr=class{constructor(t=10){this.valueMap=new Map;if(t<1)throw new Error("Size limit must be at least 1");this.sizeLimit=t}static{o(this,"LRUCacheMap")}set(t,r){if(this.has(t))this.valueMap.delete(t);else if(this.valueMap.size>=this.sizeLimit){let n=this.valueMap.keys().next().value;this.delete(n)}return this.valueMap.set(t,r),this}get(t){if(this.valueMap.has(t)){let r=this.valueMap.get(t);return this.valueMap.delete(t),this.valueMap.set(t,r),r}}delete(t){return this.valueMap.delete(t)}clear(){this.valueMap.clear()}get size(){return this.valueMap.size}keys(){return new Map(this.valueMap).keys()}values(){return new Map(this.valueMap).values()}entries(){return new Map(this.valueMap).entries()}[Symbol.iterator](){return this.entries()}has(t){return this.valueMap.has(t)}forEach(t,r){new Map(this.valueMap).forEach(t,r)}get[Symbol.toStringTag](){return"LRUCacheMap"}peek(t){return this.valueMap.get(t)}},Ec=class extends rr{constructor(r,n=2*60*1e3){super(r);this.defaultTtl=n;this.expiration=new Map}static{o(this,"LRUExpirationCacheMap")}has(r){let n=!1,i=this.expiration.get(r);return i!==void 0&&(i>performance.now()&&(n=super.has(r)),n||this.delete(r)),n}get(r){let n=this.expiration.get(r);if(n!==void 0){if(n>performance.now())return super.get(r);this.delete(r)}}peek(r){let n=this.expiration.get(r);if(n!==void 0){if(n>performance.now())return super.peek(r);this.delete(r)}}set(r,n,i=this.defaultTtl){if(i<=0)throw new Error("TTL must be greater than 0");let s=super.set(r,n);return this.expiration.set(r,performance.now()+i),s}clear(){super.clear(),this.expiration.clear()}delete(r){return this.expiration.delete(r),super.delete(r)}get[Symbol.toStringTag](){return"LRUExpirationCacheMap"}},Uh=class extends rr{static{o(this,"LRUDisposableCacheMap")}delete(t){let r=this.peek(t);return r&&r.dispose(),super.delete(t)}clear(){for(let t of this.values())t.dispose();super.clear()}uncache(t){let r=this.peek(t);return super.delete(t),r}};var ds=class e{static{o(this,"ExpConfig")}constructor(t,r,n){this.variables=t,this.assignmentContext=r,this.features=n}static createFallbackConfig(t,r){return Bh(t,{reason:r}),this.createEmptyConfig()}static createEmptyConfig(){return new e({},"","")}addToTelemetry(t){t.properties["VSCode.ABExp.Features"]=this.features,t.properties["abexp.assignmentcontext"]=this.assignmentContext}};var Bn=class{static{o(this,"Fetcher")}getImplementation(){return this}},hb=class extends Error{static{o(this,"HttpTimeoutError")}constructor(t,r){super(t,{cause:r}),this.name="HttpTimeoutError"}};function Ks(e){return!e||typeof e!="object"?!1:e instanceof hb||"name"in e&&e.name==="AbortError"||"code"in e&&e.code==="ABORT_ERR"}o(Ks,"isAbortError");var af=class extends SyntaxError{constructor(r,n){super(r);this.code=n;this.name="JsonParseError"}static{o(this,"JsonParseError")}},Y0=class extends Error{static{o(this,"FetchResponseError")}constructor(t,r=`HTTP ${t.status} ${t.statusText}`){super(r),this.name="FetchResponseError",this.code=`HTTP${t.status}`}},QW=new Set(["ECONNABORTED","ECONNRESET","EHOSTUNREACH","ENETUNREACH","ENOTCONN","ENOTFOUND","ETIMEDOUT","ERR_HTTP2_STREAM_ERROR","ERR_SSL_BAD_DECRYPT","ERR_SSL_DECRYPTION_FAILED_OR_BAD_RECORD_MAC","ERR_SSL_INVALID_LIBRARY_(0)","ERR_SSL_SSLV3_ALERT_BAD_RECORD_MAC","ERR_SSL_WRONG_VERSION_NUMBER","ERR_STREAM_PREMATURE_CLOSE","ERR_TLS_CERT_ALTNAME_INVALID"]);function xb(e,t=!0){return e instanceof Error?t&&"cause"in e&&xb(e.cause,!1)?!0:e.name==="EditorFetcherError"||e.name==="FetchError"||e instanceof af||e instanceof Y0||e?.message?.startsWith("net::")||QW.has(e.code??""):!1}o(xb,"isNetworkError");var jh=class{constructor(t,r,n,i,s){this.status=t;this.statusText=r;this.headers=n;this.getText=i;this.getBody=s;this.ok=this.status>=200&&this.status<300;this.clientError=this.status>=400&&this.status<500}static{o(this,"Response")}async text(){return this.getText()}async json(){let t=await this.text(),r=this.headers.get("content-type");if(!r||!r.includes("json"))throw new af(`Response content-type is ${r??"missing"} (status=${this.status})`,`ContentType=${r}`);try{return JSON.parse(t)}catch(n){if(n instanceof SyntaxError){let i=n.message.match(/^(.*?) in JSON at position (\d+)(?: \(line \d+ column \d+\))?$/);if(i&&parseInt(i[2],10)==t.length||n.message==="Unexpected end of JSON input"){let s=new TextEncoder().encode(t).length,a=this.headers.get("content-length");throw a===null?new af(`Response body truncated: actualLength=${s}`,"Truncated"):new af(`Response body truncated: actualLength=${s}, headerLength=${a}`,"Truncated")}}throw n}}body(){return this.getBody()}};function bb(e,t,r,n,i,s,a,l,c){let f={...l,Authorization:`Bearer ${r}`,"X-Request-Id":i,"Openai-Organization":"github-copilot","VScode-SessionId":e.get(cn).sessionId,"VScode-MachineId":e.get(cn).machineId,...lf(e),"X-GitHub-Api-Version":Cc};n&&(f["OpenAI-Intent"]=n);let u={method:"POST",headers:f,json:s,timeout:c},d=e.get(Bn);if(a){let m=new AbortController;a.onCancellationRequested(()=>{Se(e,"networking.cancelRequest",Qe.createAndMarkAsIssued({headerRequestId:i})),m.abort()}),u.signal=m.signal}return d.fetch(t,u).catch(m=>{if(eG(m))return Se(e,"networking.disconnectAll"),d.disconnectAll().then(()=>d.fetch(t,u));throw m})}o(bb,"postRequest");function eG(e){return e instanceof Error?e.message=="ERR_HTTP2_GOAWAY_SESSION"?!0:"code"in e?e.code=="ECONNRESET"||e.code=="ETIMEDOUT"||e.code=="ERR_HTTP2_INVALID_SESSION":!1:!1}o(eG,"isInterruptedNetworkError");var Sc=class{static{o(this,"ExpConfigMaker")}},$h=class extends Sc{constructor(r={}){super();this.defaultFilters=r}static{o(this,"ExpConfigFromTAS")}async fetchExperiments(r,n,i){let s=r.get(Bn),a=Object.keys(i).length===0?this.defaultFilters:i,l=new URL("telemetry",n.telemetry).href,c;try{c=await s.fetch(l,{method:"GET",headers:a,timeout:5e3})}catch(p){return ds.createFallbackConfig(r,`Error fetching ExP config: ${String(p)}`)}if(!c.ok)return ds.createFallbackConfig(r,`ExP responded with ${c.status}`);let f;try{f=await c.json()}catch(p){if(p instanceof SyntaxError)return Ys(r,p,"fetchExperiments"),ds.createFallbackConfig(r,"ExP responded with invalid JSON");throw p}let u=f.Configs.find(p=>p.Id==="vscode")??{Id:"vscode",Parameters:{}},d=Object.entries(u.Parameters).map(([p,m])=>p+(m?"":"cf"));return new ds(u.Parameters,f.AssignmentContext,d.join(";"))}};var Ro="X-Copilot-RelatedPluginVersion-",Hm=(v=>(v.Market="X-MSEdge-Market",v.CorpNet="X-FD-Corpnet",v.Build="X-VSCode-Build",v.ApplicationVersion="X-VSCode-AppVersion",v.TargetPopulation="X-VSCode-TargetPopulation",v.ClientId="X-MSEdge-ClientId",v.ExtensionName="X-VSCode-ExtensionName",v.ExtensionVersion="X-VSCode-ExtensionVersion",v.ExtensionRelease="X-VSCode-ExtensionRelease",v.Language="X-VSCode-Language",v.CopilotClientTimeBucket="X-Copilot-ClientTimeBucket",v.CopilotEngine="X-Copilot-Engine",v.CopilotOverrideEngine="X-Copilot-OverrideEngine",v.CopilotRepository="X-Copilot-Repository",v.CopilotFileType="X-Copilot-FileType",v.CopilotUserKind="X-Copilot-UserKind",v.CopilotDogfood="X-Copilot-Dogfood",v.CopilotCustomModel="X-Copilot-CustomModel",v.CopilotOrgs="X-Copilot-Orgs",v.CopilotCustomModelNames="X-Copilot-CustomModelNames",v.CopilotTrackingId="X-Copilot-CopilotTrackingId",v.CopilotClientVersion="X-Copilot-ClientVersion",v.CopilotRelatedPluginVersionCppTools=Ro+"msvscodecpptools",v.CopilotRelatedPluginVersionCMakeTools=Ro+"msvscodecmaketools",v.CopilotRelatedPluginVersionMakefileTools=Ro+"msvscodemakefiletools",v.CopilotRelatedPluginVersionCSharpDevKit=Ro+"msdotnettoolscsdevkit",v.CopilotRelatedPluginVersionPython=Ro+"mspythonpython",v.CopilotRelatedPluginVersionPylance=Ro+"mspythonvscodepylance",v.CopilotRelatedPluginVersionJavaPack=Ro+"vscjavavscodejavapack",v.CopilotRelatedPluginVersionTypescript=Ro+"vscodetypescriptlanguagefeatures",v.CopilotRelatedPluginVersionTypescriptNext=Ro+"msvscodevscodetypescriptnext",v.CopilotRelatedPluginVersionCSharp=Ro+"msdotnettoolscsharp",v))(Hm||{});var tG={"X-Copilot-ClientTimeBucket":"timeBucket","X-Copilot-OverrideEngine":"engine","X-Copilot-Repository":"repo","X-Copilot-FileType":"fileType","X-Copilot-UserKind":"userKind"},wc=class e{constructor(t){this.filters=t;for(let[r,n]of Object.entries(this.filters))n===""&&delete this.filters[r]}static{o(this,"FilterSettings")}extends(t){for(let[r,n]of Object.entries(t.filters))if(this.filters[r]!==n)return!1;return!0}addToTelemetry(t){for(let[r,n]of Object.entries(this.filters)){let i=tG[r];i!==void 0&&(t.properties[i]=n)}}stringify(){let t=Object.keys(this.filters);return t.sort(),t.map(r=>`${r}:${this.filters[r]}`).join(";")}toHeaders(){return{...this.filters}}withChange(t,r){return new e({...this.filters,[t]:r})}};var qh=class{constructor(t){this.prefix=t}static{o(this,"GranularityImplementation")}getCurrentAndUpComingValues(t){let r=this.getValue(t),n=this.getUpcomingValues(t);return[r,n]}},_b=class extends qh{static{o(this,"ConstantGranularity")}getValue(t){return this.prefix}getUpcomingValues(t){return[]}},JC=o(e=>new _b(e),"DEFAULT_GRANULARITY"),Wh=class extends qh{constructor(r,n=.5,i=new Date().setUTCHours(0,0,0,0)){super(r);this.prefix=r;this.fetchBeforeFactor=n;this.anchor=i}static{o(this,"TimeBucketGranularity")}setTimePeriod(r){isNaN(r)?this.timePeriodLengthMs=void 0:this.timePeriodLengthMs=r}setByCallBuckets(r){isNaN(r)?this.numByCallBuckets=void 0:this.numByCallBuckets=r}getValue(r){return this.prefix+this.getTimePeriodBucketString(r)+(this.numByCallBuckets?this.timeHash(r):"")}getTimePeriodBucketString(r){return this.timePeriodLengthMs?this.dateToTimePartString(r):""}getUpcomingValues(r){let n=[],i=this.getUpcomingTimePeriodBucketStrings(r),s=this.getUpcomingByCallBucketStrings();for(let a of i)for(let l of s)n.push(this.prefix+a+l);return n}getUpcomingTimePeriodBucketStrings(r){if(this.timePeriodLengthMs===void 0)return[""];if((r.getTime()-this.anchor)%this.timePeriodLengthMs<this.fetchBeforeFactor*this.timePeriodLengthMs)return[this.getTimePeriodBucketString(r)];{let n=new Date(r.getTime()+this.timePeriodLengthMs);return[this.getTimePeriodBucketString(r),this.getTimePeriodBucketString(n)]}}getUpcomingByCallBucketStrings(){return this.numByCallBuckets===void 0?[""]:Array.from(Array(this.numByCallBuckets).keys()).map(r=>r.toString())}timeHash(r){return this.numByCallBuckets==null?0:7883*(r.getTime()%this.numByCallBuckets)%this.numByCallBuckets}dateToTimePartString(r){return this.timePeriodLengthMs==null?"":Math.floor((r.getTime()-this.anchor)/this.timePeriodLengthMs).toString()}};var ZC="X-Copilot-ClientTimeBucket",Gh=class{constructor(t,r){this.specs=new Map;this.prefix=t,this.clock=r,this.defaultGranularity=JC(t)}static{o(this,"GranularityDirectory")}selectGranularity(t){for(let[r,n]of this.specs.entries())if(t.extends(r))return n;return this.defaultGranularity}update(t,r,n){if(r=r>1?r:NaN,n=n>0?n:NaN,isNaN(r)&&isNaN(n))this.specs.delete(t);else{let i=new Wh(this.prefix);isNaN(r)||i.setByCallBuckets(r),isNaN(n)||i.setTimePeriod(n*3600*1e3),this.specs.set(t,i)}}extendFilters(t){let r=this.selectGranularity(t),[n,i]=r.getCurrentAndUpComingValues(this.clock.now());return{newFilterSettings:t.withChange(ZC,n),otherFilterSettingsToPrefetch:i.map(s=>t.withChange(ZC,s))}}};var Di=class{static{o(this,"NotificationSender")}async showWarningMessageOnlyOnce(t,r,...n){return this.showWarningMessage(r,...n)}};var Za=class e{constructor(t){this.flags=t}static{o(this,"RuntimeMode")}static fromEnvironment(t,r=process.argv,n=process.env){return new e({debug:QC(r,n),verboseLogging:nG(r,n),testMode:t,simulation:rG(n)})}};function ms(e){return e.get(Za).flags.testMode}o(ms,"isRunningInTest");function cf(e){return ms(e)}o(cf,"shouldFailForDebugPurposes");function yb(e){return e.get(Za).flags.debug}o(yb,"isDebugEnabled");function QC(e,t){return e.includes("--debug")||vb(t,"DEBUG")}o(QC,"determineDebugFlag");function rG(e){return vb(e,"SIMULATION")}o(rG,"determineSimulationFlag");function eS(e){return e.get(Za).flags.simulation}o(eS,"isRunningInSimulation");function nG(e,t){return t.COPILOT_AGENT_VERBOSE==="1"||t.COPILOT_AGENT_VERBOSE?.toLowerCase()==="true"||vb(t,"VERBOSE")||QC(e,t)}o(nG,"determineVerboseLoggingEnabled");function vb(e,t){for(let r of["GH_COPILOT_","GITHUB_COPILOT_"]){let n=e[`${r}${t}`];if(n)return n==="1"||n?.toLowerCase()==="true"}return!1}o(vb,"determineEnvFlagEnabled");var oS=Tt(Pc()),zh=Tt(ff());var nS;(()=>{"use strict";var e={975:R=>{function P(I){if(typeof I!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(I))}o(P,"e");function G(I,v){for(var N,T="",D=0,k=-1,L=0,U=0;U<=I.length;++U){if(U<I.length)N=I.charCodeAt(U);else{if(N===47)break;N=47}if(N===47){if(!(k===U-1||L===1))if(k!==U-1&&L===2){if(T.length<2||D!==2||T.charCodeAt(T.length-1)!==46||T.charCodeAt(T.length-2)!==46){if(T.length>2){var H=T.lastIndexOf("/");if(H!==T.length-1){H===-1?(T="",D=0):D=(T=T.slice(0,H)).length-1-T.lastIndexOf("/"),k=U,L=0;continue}}else if(T.length===2||T.length===1){T="",D=0,k=U,L=0;continue}}v&&(T.length>0?T+="/..":T="..",D=2)}else T.length>0?T+="/"+I.slice(k+1,U):T=I.slice(k+1,U),D=U-k-1;k=U,L=0}else N===46&&L!==-1?++L:L=-1}return T}o(G,"r");var A={resolve:o(function(){for(var I,v="",N=!1,T=arguments.length-1;T>=-1&&!N;T--){var D;T>=0?D=arguments[T]:(I===void 0&&(I=process.cwd()),D=I),P(D),D.length!==0&&(v=D+"/"+v,N=D.charCodeAt(0)===47)}return v=G(v,!N),N?v.length>0?"/"+v:"/":v.length>0?v:"."},"resolve"),normalize:o(function(I){if(P(I),I.length===0)return".";var v=I.charCodeAt(0)===47,N=I.charCodeAt(I.length-1)===47;return(I=G(I,!v)).length!==0||v||(I="."),I.length>0&&N&&(I+="/"),v?"/"+I:I},"normalize"),isAbsolute:o(function(I){return P(I),I.length>0&&I.charCodeAt(0)===47},"isAbsolute"),join:o(function(){if(arguments.length===0)return".";for(var I,v=0;v<arguments.length;++v){var N=arguments[v];P(N),N.length>0&&(I===void 0?I=N:I+="/"+N)}return I===void 0?".":A.normalize(I)},"join"),relative:o(function(I,v){if(P(I),P(v),I===v||(I=A.resolve(I))===(v=A.resolve(v)))return"";for(var N=1;N<I.length&&I.charCodeAt(N)===47;++N);for(var T=I.length,D=T-N,k=1;k<v.length&&v.charCodeAt(k)===47;++k);for(var L=v.length-k,U=D<L?D:L,H=-1,ae=0;ae<=U;++ae){if(ae===U){if(L>U){if(v.charCodeAt(k+ae)===47)return v.slice(k+ae+1);if(ae===0)return v.slice(k+ae)}else D>U&&(I.charCodeAt(N+ae)===47?H=ae:ae===0&&(H=0));break}var ye=I.charCodeAt(N+ae);if(ye!==v.charCodeAt(k+ae))break;ye===47&&(H=ae)}var he="";for(ae=N+H+1;ae<=T;++ae)ae!==T&&I.charCodeAt(ae)!==47||(he.length===0?he+="..":he+="/..");return he.length>0?he+v.slice(k+H):(k+=H,v.charCodeAt(k)===47&&++k,v.slice(k))},"relative"),_makeLong:o(function(I){return I},"_makeLong"),dirname:o(function(I){if(P(I),I.length===0)return".";for(var v=I.charCodeAt(0),N=v===47,T=-1,D=!0,k=I.length-1;k>=1;--k)if((v=I.charCodeAt(k))===47){if(!D){T=k;break}}else D=!1;return T===-1?N?"/":".":N&&T===1?"//":I.slice(0,T)},"dirname"),basename:o(function(I,v){if(v!==void 0&&typeof v!="string")throw new TypeError('"ext" argument must be a string');P(I);var N,T=0,D=-1,k=!0;if(v!==void 0&&v.length>0&&v.length<=I.length){if(v.length===I.length&&v===I)return"";var L=v.length-1,U=-1;for(N=I.length-1;N>=0;--N){var H=I.charCodeAt(N);if(H===47){if(!k){T=N+1;break}}else U===-1&&(k=!1,U=N+1),L>=0&&(H===v.charCodeAt(L)?--L==-1&&(D=N):(L=-1,D=U))}return T===D?D=U:D===-1&&(D=I.length),I.slice(T,D)}for(N=I.length-1;N>=0;--N)if(I.charCodeAt(N)===47){if(!k){T=N+1;break}}else D===-1&&(k=!1,D=N+1);return D===-1?"":I.slice(T,D)},"basename"),extname:o(function(I){P(I);for(var v=-1,N=0,T=-1,D=!0,k=0,L=I.length-1;L>=0;--L){var U=I.charCodeAt(L);if(U!==47)T===-1&&(D=!1,T=L+1),U===46?v===-1?v=L:k!==1&&(k=1):v!==-1&&(k=-1);else if(!D){N=L+1;break}}return v===-1||T===-1||k===0||k===1&&v===T-1&&v===N+1?"":I.slice(v,T)},"extname"),format:o(function(I){if(I===null||typeof I!="object")throw new TypeError('The "pathObject" argument must be of type Object. Received type '+typeof I);return function(v,N){var T=N.dir||N.root,D=N.base||(N.name||"")+(N.ext||"");return T?T===N.root?T+D:T+"/"+D:D}(0,I)},"format"),parse:o(function(I){P(I);var v={root:"",dir:"",base:"",ext:"",name:""};if(I.length===0)return v;var N,T=I.charCodeAt(0),D=T===47;D?(v.root="/",N=1):N=0;for(var k=-1,L=0,U=-1,H=!0,ae=I.length-1,ye=0;ae>=N;--ae)if((T=I.charCodeAt(ae))!==47)U===-1&&(H=!1,U=ae+1),T===46?k===-1?k=ae:ye!==1&&(ye=1):k!==-1&&(ye=-1);else if(!H){L=ae+1;break}return k===-1||U===-1||ye===0||ye===1&&k===U-1&&k===L+1?U!==-1&&(v.base=v.name=L===0&&D?I.slice(1,U):I.slice(L,U)):(L===0&&D?(v.name=I.slice(1,k),v.base=I.slice(1,U)):(v.name=I.slice(L,k),v.base=I.slice(L,U)),v.ext=I.slice(k,U)),L>0?v.dir=I.slice(0,L-1):D&&(v.dir="/"),v},"parse"),sep:"/",delimiter:":",win32:null,posix:null};A.posix=A,R.exports=A}},t={};function r(R){var P=t[R];if(P!==void 0)return P.exports;var G=t[R]={exports:{}};return e[R](G,G.exports,r),G.exports}o(r,"r"),r.d=(R,P)=>{for(var G in P)r.o(P,G)&&!r.o(R,G)&&Object.defineProperty(R,G,{enumerable:!0,get:P[G]})},r.o=(R,P)=>Object.prototype.hasOwnProperty.call(R,P),r.r=R=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(R,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(R,"__esModule",{value:!0})};var n={};let i;r.r(n),r.d(n,{URI:o(()=>p,"URI"),Utils:o(()=>Y,"Utils")}),typeof process=="object"?i=process.platform==="win32":typeof navigator=="object"&&(i=navigator.userAgent.indexOf("Windows")>=0);let s=/^\w[\w\d+.-]*$/,a=/^\//,l=/^\/\//;function c(R,P){if(!R.scheme&&P)throw new Error(`[UriError]: Scheme is missing: {scheme: "", authority: "${R.authority}", path: "${R.path}", query: "${R.query}", fragment: "${R.fragment}"}`);if(R.scheme&&!s.test(R.scheme))throw new Error("[UriError]: Scheme contains illegal characters.");if(R.path){if(R.authority){if(!a.test(R.path))throw new Error('[UriError]: If a URI contains an authority component, then the path component must either be empty or begin with a slash ("/") character')}else if(l.test(R.path))throw new Error('[UriError]: If a URI does not contain an authority component, then the path cannot begin with two slash characters ("//")')}}o(c,"a");let f="",u="/",d=/^(([^:/?#]+?):)?(\/\/([^/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?/;class p{static{o(this,"l")}static isUri(P){return P instanceof p||!!P&&typeof P.authority=="string"&&typeof P.fragment=="string"&&typeof P.path=="string"&&typeof P.query=="string"&&typeof P.scheme=="string"&&typeof P.fsPath=="string"&&typeof P.with=="function"&&typeof P.toString=="function"}scheme;authority;path;query;fragment;constructor(P,G,A,I,v,N=!1){typeof P=="object"?(this.scheme=P.scheme||f,this.authority=P.authority||f,this.path=P.path||f,this.query=P.query||f,this.fragment=P.fragment||f):(this.scheme=function(T,D){return T||D?T:"file"}(P,N),this.authority=G||f,this.path=function(T,D){switch(T){case"https":case"http":case"file":D?D[0]!==u&&(D=u+D):D=u}return D}(this.scheme,A||f),this.query=I||f,this.fragment=v||f,c(this,N))}get fsPath(){return x(this,!1)}with(P){if(!P)return this;let{scheme:G,authority:A,path:I,query:v,fragment:N}=P;return G===void 0?G=this.scheme:G===null&&(G=f),A===void 0?A=this.authority:A===null&&(A=f),I===void 0?I=this.path:I===null&&(I=f),v===void 0?v=this.query:v===null&&(v=f),N===void 0?N=this.fragment:N===null&&(N=f),G===this.scheme&&A===this.authority&&I===this.path&&v===this.query&&N===this.fragment?this:new g(G,A,I,v,N)}static parse(P,G=!1){let A=d.exec(P);return A?new g(A[2]||f,w(A[4]||f),w(A[5]||f),w(A[7]||f),w(A[9]||f),G):new g(f,f,f,f,f)}static file(P){let G=f;if(i&&(P=P.replace(/\\/g,u)),P[0]===u&&P[1]===u){let A=P.indexOf(u,2);A===-1?(G=P.substring(2),P=u):(G=P.substring(2,A),P=P.substring(A)||u)}return new g("file",G,P,f,f)}static from(P){let G=new g(P.scheme,P.authority,P.path,P.query,P.fragment);return c(G,!0),G}toString(P=!1){return y(this,P)}toJSON(){return this}static revive(P){if(P){if(P instanceof p)return P;{let G=new g(P);return G._formatted=P.external,G._fsPath=P._sep===m?P.fsPath:null,G}}return P}}let m=i?1:void 0;class g extends p{static{o(this,"d")}_formatted=null;_fsPath=null;get fsPath(){return this._fsPath||(this._fsPath=x(this,!1)),this._fsPath}toString(P=!1){return P?y(this,!0):(this._formatted||(this._formatted=y(this,!1)),this._formatted)}toJSON(){let P={$mid:1};return this._fsPath&&(P.fsPath=this._fsPath,P._sep=m),this._formatted&&(P.external=this._formatted),this.path&&(P.path=this.path),this.scheme&&(P.scheme=this.scheme),this.authority&&(P.authority=this.authority),this.query&&(P.query=this.query),this.fragment&&(P.fragment=this.fragment),P}}let h={58:"%3A",47:"%2F",63:"%3F",35:"%23",91:"%5B",93:"%5D",64:"%40",33:"%21",36:"%24",38:"%26",39:"%27",40:"%28",41:"%29",42:"%2A",43:"%2B",44:"%2C",59:"%3B",61:"%3D",32:"%20"};function _(R,P,G){let A,I=-1;for(let v=0;v<R.length;v++){let N=R.charCodeAt(v);if(N>=97&&N<=122||N>=65&&N<=90||N>=48&&N<=57||N===45||N===46||N===95||N===126||P&&N===47||G&&N===91||G&&N===93||G&&N===58)I!==-1&&(A+=encodeURIComponent(R.substring(I,v)),I=-1),A!==void 0&&(A+=R.charAt(v));else{A===void 0&&(A=R.substr(0,v));let T=h[N];T!==void 0?(I!==-1&&(A+=encodeURIComponent(R.substring(I,v)),I=-1),A+=T):I===-1&&(I=v)}}return I!==-1&&(A+=encodeURIComponent(R.substring(I))),A!==void 0?A:R}o(_,"m");function b(R){let P;for(let G=0;G<R.length;G++){let A=R.charCodeAt(G);A===35||A===63?(P===void 0&&(P=R.substr(0,G)),P+=h[A]):P!==void 0&&(P+=R[G])}return P!==void 0?P:R}o(b,"y");function x(R,P){let G;return G=R.authority&&R.path.length>1&&R.scheme==="file"?`//${R.authority}${R.path}`:R.path.charCodeAt(0)===47&&(R.path.charCodeAt(1)>=65&&R.path.charCodeAt(1)<=90||R.path.charCodeAt(1)>=97&&R.path.charCodeAt(1)<=122)&&R.path.charCodeAt(2)===58?P?R.path.substr(1):R.path[1].toLowerCase()+R.path.substr(2):R.path,i&&(G=G.replace(/\//g,"\\")),G}o(x,"v");function y(R,P){let G=P?b:_,A="",{scheme:I,authority:v,path:N,query:T,fragment:D}=R;if(I&&(A+=I,A+=":"),(v||I==="file")&&(A+=u,A+=u),v){let k=v.indexOf("@");if(k!==-1){let L=v.substr(0,k);v=v.substr(k+1),k=L.lastIndexOf(":"),k===-1?A+=G(L,!1,!1):(A+=G(L.substr(0,k),!1,!1),A+=":",A+=G(L.substr(k+1),!1,!0)),A+="@"}v=v.toLowerCase(),k=v.lastIndexOf(":"),k===-1?A+=G(v,!1,!0):(A+=G(v.substr(0,k),!1,!0),A+=v.substr(k))}if(N){if(N.length>=3&&N.charCodeAt(0)===47&&N.charCodeAt(2)===58){let k=N.charCodeAt(1);k>=65&&k<=90&&(N=`/${String.fromCharCode(k+32)}:${N.substr(3)}`)}else if(N.length>=2&&N.charCodeAt(1)===58){let k=N.charCodeAt(0);k>=65&&k<=90&&(N=`${String.fromCharCode(k+32)}:${N.substr(2)}`)}A+=G(N,!0,!1)}return T&&(A+="?",A+=G(T,!1,!1)),D&&(A+="#",A+=P?D:_(D,!1,!1)),A}o(y,"b");function E(R){try{return decodeURIComponent(R)}catch{return R.length>3?R.substr(0,3)+E(R.substr(3)):R}}o(E,"C");let S=/(%[0-9A-Za-z][0-9A-Za-z])+/g;function w(R){return R.match(S)?R.replace(S,P=>E(P)):R}o(w,"w");var z=r(975);let V=z.posix||z,W="/";var Y;(function(R){R.joinPath=function(P,...G){return P.with({path:V.join(P.path,...G)})},R.resolvePath=function(P,...G){let A=P.path,I=!1;A[0]!==W&&(A=W+A,I=!0);let v=V.resolve(A,...G);return I&&v[0]===W&&!P.authority&&(v=v.substring(1)),P.with({path:v})},R.dirname=function(P){if(P.path.length===0||P.path===W)return P;let G=V.dirname(P.path);return G.length===1&&G.charCodeAt(0)===46&&(G=""),P.with({path:G})},R.basename=function(P){return V.basename(P.path)},R.extname=function(P){return V.extname(P.path)}})(Y||(Y={})),nS=n})();var{URI:Qa,Utils:Vm}=nS;function sS(e){try{return decodeURIComponent(e)}catch{return e.length>3?e.substring(0,3)+sS(e.substring(3)):e}}o(sS,"decodeURIComponentGraceful");var iS=/(%[0-9A-Za-z][0-9A-Za-z])+/g;function Tb(e){return e.match(iS)?e.replace(iS,t=>sS(t)):e}o(Tb,"percentDecode");function Hh(e){if(/^[A-Za-z][A-Za-z0-9+.-]+:/.test(e))throw new Error("Path must not contain a scheme");if(!e)throw new Error("Path must not be empty");return Qa.file(e).toString()}o(Hh,"makeFsUri");function df(e){if(typeof e!="string"&&(e=e.uri),/^[A-Za-z]:\\/.test(e))throw new Error(`Could not parse <${e}>: Windows-style path`);try{let t=e.match(/^(?:([^:/?#]+?:)?\/\/)(\/\/.*)$/);return t?Qa.parse(t[1]+t[2],!0):Qa.parse(e,!0)}catch(t){throw new Error(`Could not parse <${e}>`,{cause:t})}}o(df,"parseUri");function No(e){try{return df(e).toString()}catch{return e}}o(No,"normalizeUri");var aS=new Set(["file","notebook","vscode-notebook","vscode-notebook-cell"]);function oG(e){let t=df(e);if(!aS.has(t.scheme))throw new Error(`Copilot currently does not support URI with scheme: ${t.scheme}`);if((0,oS.platform)()==="win32"){let r=t.path;return t.authority?r=`//${t.authority}${t.path}`:/^\/[A-Za-z]:/.test(r)&&(r=r.substring(1)),(0,zh.normalize)(r)}else{if(t.authority)throw new Error("Unsupported remote file path");return t.path}}o(oG,"fsPath");function Vh(e){try{return oG(e)}catch{return}}o(Vh,"getFsPath");function lS(e){let t=Vh(e);if(t)return Qa.file(t).toString()}o(lS,"getFsUri");function Dc(e,...t){let r,n=Vh(e);return n?r=Hh((0,zh.resolve)(n,...t)):r=Vm.resolvePath(df(e),...t.map(i=>cS(i))).toString(),typeof e=="string"?r:{uri:r}}o(Dc,"resolveFilePath");function Dn(e,...t){let r=Vm.joinPath(df(e),...t.map(cS)).toString();return typeof e=="string"?r:{uri:r}}o(Dn,"joinPath");function cS(e){return sG(e)?e.replaceAll("\\","/"):e}o(cS,"pathToURIPath");function sG(e){return/^[^/\\]*\\/.test(e)}o(sG,"isWinPath");function el(e){return Tb((typeof e=="string"?e:e.uri).replace(/[#?].*$/,"").replace(/\/$/,"").replace(/^.*[/:]/,""))}o(el,"basename");function X0(e){let t=Vm.dirname(df(e)),r;return aS.has(t.scheme)&&t.scheme!=="file"?r=t.with({scheme:"file",fragment:""}).toString():r=t.toString(),typeof e=="string"?r:{uri:r}}o(X0,"dirname");function uS(e){return Vm.extname(df(e))}o(uS,"extname");var tl=class{static{o(this,"NetworkConfiguration")}};function Kh(e,t){try{let r=new URL(t??"");if(r.protocol==="https:"||!Eb(e)&&r.protocol==="http:")return r.href}catch{}}o(Kh,"ensurePermittedUrl");var Km={api:"https://api.githubcopilot.com",proxy:"https://copilot-proxy.githubusercontent.com",telemetry:"https://copilot-telemetry.githubusercontent.com","origin-tracker":"https://origin-tracker.githubusercontent.com"};function Ib(e,t,r){if(r&&ms(e)){for(let n of r){let i=It(e,n);if(i)return i}return}for(let n of t){let i=It(e,n);if(i)return i}}o(Ib,"urlConfigOverride");function aG(e,t){switch(t){case"api":return Ib(e,[_e.DebugOverrideCapiUrl,_e.DebugOverrideCapiUrlLegacy],[_e.DebugTestOverrideCapiUrl,_e.DebugTestOverrideCapiUrlLegacy]);case"proxy":return Ib(e,[_e.DebugOverrideProxyUrl,_e.DebugOverrideProxyUrlLegacy],[_e.DebugTestOverrideProxyUrl,_e.DebugTestOverrideProxyUrlLegacy]);case"origin-tracker":if(!Eb(e))return Ib(e,[_e.DebugSnippyOverrideUrl])}}o(aG,"getEndpointOverrideUrl");function Yh(e,t,r,...n){let i=aG(e,r)??t.endpoints[r];return Dn(i,...n)}o(Yh,"getEndpointUrl");function fS(e){return mS(e)?.endpoints??Km}o(fS,"getLastKnownEndpoints");function dS(e,t){if(t&&!Kh(e,t)){e.get(Di).showWarningMessage(`Ignoring invalid or unsupported authentication URL "${t}".`);return}e.get(tl).setConfiguredUrls(e,{serverUrl:t})}o(dS,"updateServerUrl");function lG(e){let t=e.getCopilotIntegrationId();if(t)return t;switch(e.getEditorPluginInfo().name){case"copilot-intellij":return"jetbrains-chat";case"copilot":case"copilot-vs":return;default:return"jetbrains-chat"}}o(lG,"getIntegrationId");function Cb(e){let t={...lf(e),"X-GitHub-Api-Version":Cc},r=lG(e.get(cr));return r&&(t["Copilot-Integration-Id"]=r),t}o(Cb,"getCapiHeaders");function cG(e,t,...r){return Yh(e,t,"api",...r)}o(cG,"getCapiUrl");async function Sb(e,t){let r=await e.get(Mr).getToken(),n=cG(e,r,t),i={Authorization:`Bearer ${r.token}`,...Cb(e)};return await e.get(Bn).fetch(new URL(n).href,{method:"GET",headers:i})}o(Sb,"fetchCapiUrl");var Xh=(i=>(i[i.DEBUG=4]="DEBUG",i[i.INFO=3]="INFO",i[i.WARN=2]="WARN",i[i.ERROR=1]="ERROR",i))(Xh||{}),mf=class{static{o(this,"LogTarget")}},rl=class{static{o(this,"TelemetryLogSender")}},St=class{constructor(t){this.category=t}static{o(this,"Logger")}log(t,r,...n){t.get(mf).logIt(t,r,this.category,...n)}debug(t,...r){this.log(t,4,...r)}info(t,...r){this.log(t,3,...r)}warn(t,...r){this.log(t,2,...r)}error(t,...r){t.get(rl).sendError(t,this.category,...r),this.log(t,1,...r)}exception(t,r,n){if(r instanceof Error&&r.name==="Canceled"&&r.message==="Canceled")return;let i=n;n.startsWith(".")&&(i=n.substring(1),n=`${this.category}${n}`),t.get(rl).sendException(t,r,n);let s=r instanceof Error?r:new Error(`Non-error thrown: ${String(r)}`);this.log(t,1,`${i}:`,s)}},Lt=new St("default");var Zn={};Vs(Zn,{HasPropertyKey:()=>Jh,IsArray:()=>rn,IsAsyncIterator:()=>wb,IsBigInt:()=>Ym,IsBoolean:()=>J0,IsDate:()=>Rc,IsFunction:()=>Pb,IsIterator:()=>Db,IsNull:()=>Rb,IsNumber:()=>Qi,IsObject:()=>mr,IsRegExp:()=>Xm,IsString:()=>_r,IsSymbol:()=>Nb,IsUint8Array:()=>Z0,IsUndefined:()=>nn});function Jh(e,t){return t in e}o(Jh,"HasPropertyKey");function wb(e){return mr(e)&&!rn(e)&&!Z0(e)&&Symbol.asyncIterator in e}o(wb,"IsAsyncIterator");function rn(e){return Array.isArray(e)}o(rn,"IsArray");function Ym(e){return typeof e=="bigint"}o(Ym,"IsBigInt");function J0(e){return typeof e=="boolean"}o(J0,"IsBoolean");function Rc(e){return e instanceof globalThis.Date}o(Rc,"IsDate");function Pb(e){return typeof e=="function"}o(Pb,"IsFunction");function Db(e){return mr(e)&&!rn(e)&&!Z0(e)&&Symbol.iterator in e}o(Db,"IsIterator");function Rb(e){return e===null}o(Rb,"IsNull");function Qi(e){return typeof e=="number"}o(Qi,"IsNumber");function mr(e){return typeof e=="object"&&e!==null}o(mr,"IsObject");function Xm(e){return e instanceof globalThis.RegExp}o(Xm,"IsRegExp");function _r(e){return typeof e=="string"}o(_r,"IsString");function Nb(e){return typeof e=="symbol"}o(Nb,"IsSymbol");function Z0(e){return e instanceof globalThis.Uint8Array}o(Z0,"IsUint8Array");function nn(e){return e===void 0}o(nn,"IsUndefined");function uG(e){return e.map(t=>Zh(t))}o(uG,"ArrayType");function fG(e){return new Date(e.getTime())}o(fG,"DateType");function dG(e){return new Uint8Array(e)}o(dG,"Uint8ArrayType");function mG(e){return new RegExp(e.source,e.flags)}o(mG,"RegExpType");function pG(e){let t={};for(let r of Object.getOwnPropertyNames(e))t[r]=Zh(e[r]);for(let r of Object.getOwnPropertySymbols(e))t[r]=Zh(e[r]);return t}o(pG,"ObjectType");function Zh(e){return rn(e)?uG(e):Rc(e)?fG(e):Z0(e)?dG(e):Xm(e)?mG(e):mr(e)?pG(e):e}o(Zh,"Visit");function wr(e){return Zh(e)}o(wr,"Clone");function pf(e,t){return t===void 0?wr(e):wr({...t,...e})}o(pf,"CloneType");function Qh(e){return Et(e)&&globalThis.Symbol.asyncIterator in e}o(Qh,"IsAsyncIterator");function e5(e){return Et(e)&&globalThis.Symbol.iterator in e}o(e5,"IsIterator");function Ab(e){return Et(e)&&(globalThis.Object.getPrototypeOf(e)===Object.prototype||globalThis.Object.getPrototypeOf(e)===null)}o(Ab,"IsStandardObject");function t5(e){return e instanceof globalThis.Promise}o(t5,"IsPromise");function gi(e){return e instanceof Date&&globalThis.Number.isFinite(e.getTime())}o(gi,"IsDate");function pS(e){return e instanceof globalThis.Map}o(pS,"IsMap");function gS(e){return e instanceof globalThis.Set}o(gS,"IsSet");function Ao(e){return globalThis.ArrayBuffer.isView(e)}o(Ao,"IsTypedArray");function gf(e){return e instanceof globalThis.Uint8Array}o(gf,"IsUint8Array");function ot(e,t){return t in e}o(ot,"HasPropertyKey");function Et(e){return e!==null&&typeof e=="object"}o(Et,"IsObject");function st(e){return globalThis.Array.isArray(e)&&!globalThis.ArrayBuffer.isView(e)}o(st,"IsArray");function Pr(e){return e===void 0}o(Pr,"IsUndefined");function Q0(e){return e===null}o(Q0,"IsNull");function Js(e){return typeof e=="boolean"}o(Js,"IsBoolean");function ze(e){return typeof e=="number"}o(ze,"IsNumber");function r5(e){return globalThis.Number.isInteger(e)}o(r5,"IsInteger");function jn(e){return typeof e=="bigint"}o(jn,"IsBigInt");function Ht(e){return typeof e=="string"}o(Ht,"IsString");function nl(e){return typeof e=="function"}o(nl,"IsFunction");function ea(e){return typeof e=="symbol"}o(ea,"IsSymbol");function eo(e){return jn(e)||Js(e)||Q0(e)||ze(e)||Ht(e)||ea(e)||Pr(e)}o(eo,"IsValueType");var Ir;(function(e){e.InstanceMode="default",e.ExactOptionalPropertyTypes=!1,e.AllowArrayObject=!1,e.AllowNaN=!1,e.AllowNullVoid=!1;function t(a,l){return e.ExactOptionalPropertyTypes?l in a:a[l]!==void 0}o(t,"IsExactOptionalProperty"),e.IsExactOptionalProperty=t;function r(a){let l=Et(a);return e.AllowArrayObject?l:l&&!st(a)}o(r,"IsObjectLike"),e.IsObjectLike=r;function n(a){return r(a)&&!(a instanceof Date)&&!(a instanceof Uint8Array)}o(n,"IsRecordLike"),e.IsRecordLike=n;function i(a){return e.AllowNaN?ze(a):Number.isFinite(a)}o(i,"IsNumberLike"),e.IsNumberLike=i;function s(a){let l=Pr(a);return e.AllowNullVoid?l||a===null:l}o(s,"IsVoidLike"),e.IsVoidLike=s})(Ir||(Ir={}));function gG(e){return globalThis.Object.freeze(e).map(t=>Jm(t))}o(gG,"ImmutableArray");function hG(e){let t={};for(let r of Object.getOwnPropertyNames(e))t[r]=Jm(e[r]);for(let r of Object.getOwnPropertySymbols(e))t[r]=Jm(e[r]);return globalThis.Object.freeze(t)}o(hG,"ImmutableObject");function Jm(e){return rn(e)?gG(e):Rc(e)?e:Z0(e)?e:Xm(e)?e:mr(e)?hG(e):e}o(Jm,"Immutable");function ie(e,t){let r=t!==void 0?{...t,...e}:e;switch(Ir.InstanceMode){case"freeze":return Jm(r);case"clone":return wr(r);default:return r}}o(ie,"CreateType");var at=class extends Error{static{o(this,"TypeBoxError")}constructor(t){super(t)}};var Ur=Symbol.for("TypeBox.Transform"),ps=Symbol.for("TypeBox.Readonly"),$n=Symbol.for("TypeBox.Optional"),ko=Symbol.for("TypeBox.Hint"),te=Symbol.for("TypeBox.Kind");function hf(e){return mr(e)&&e[ps]==="Readonly"}o(hf,"IsReadonly");function Ri(e){return mr(e)&&e[$n]==="Optional"}o(Ri,"IsOptional");function kb(e){return qt(e,"Any")}o(kb,"IsAny");function Ob(e){return qt(e,"Argument")}o(Ob,"IsArgument");function gs(e){return qt(e,"Array")}o(gs,"IsArray");function Nc(e){return qt(e,"AsyncIterator")}o(Nc,"IsAsyncIterator");function Ac(e){return qt(e,"BigInt")}o(Ac,"IsBigInt");function ta(e){return qt(e,"Boolean")}o(ta,"IsBoolean");function hs(e){return qt(e,"Computed")}o(hs,"IsComputed");function xs(e){return qt(e,"Constructor")}o(xs,"IsConstructor");function xG(e){return qt(e,"Date")}o(xG,"IsDate");function bs(e){return qt(e,"Function")}o(bs,"IsFunction");function _s(e){return qt(e,"Integer")}o(_s,"IsInteger");function zr(e){return qt(e,"Intersect")}o(zr,"IsIntersect");function kc(e){return qt(e,"Iterator")}o(kc,"IsIterator");function qt(e,t){return mr(e)&&te in e&&e[te]===t}o(qt,"IsKindOf");function n5(e){return J0(e)||Qi(e)||_r(e)}o(n5,"IsLiteralValue");function to(e){return qt(e,"Literal")}o(to,"IsLiteral");function ro(e){return qt(e,"MappedKey")}o(ro,"IsMappedKey");function Dr(e){return qt(e,"MappedResult")}o(Dr,"IsMappedResult");function il(e){return qt(e,"Never")}o(il,"IsNever");function bG(e){return qt(e,"Not")}o(bG,"IsNot");function Zm(e){return qt(e,"Null")}o(Zm,"IsNull");function ys(e){return qt(e,"Number")}o(ys,"IsNumber");function on(e){return qt(e,"Object")}o(on,"IsObject");function Oc(e){return qt(e,"Promise")}o(Oc,"IsPromise");function Lc(e){return qt(e,"Record")}o(Lc,"IsRecord");function Xr(e){return qt(e,"Ref")}o(Xr,"IsRef");function Lb(e){return qt(e,"RegExp")}o(Lb,"IsRegExp");function ra(e){return qt(e,"String")}o(ra,"IsString");function Qm(e){return qt(e,"Symbol")}o(Qm,"IsSymbol");function no(e){return qt(e,"TemplateLiteral")}o(no,"IsTemplateLiteral");function _G(e){return qt(e,"This")}o(_G,"IsThis");function nr(e){return mr(e)&&Ur in e}o(nr,"IsTransform");function io(e){return qt(e,"Tuple")}o(io,"IsTuple");function na(e){return qt(e,"Undefined")}o(na,"IsUndefined");function Vt(e){return qt(e,"Union")}o(Vt,"IsUnion");function yG(e){return qt(e,"Uint8Array")}o(yG,"IsUint8Array");function vG(e){return qt(e,"Unknown")}o(vG,"IsUnknown");function TG(e){return qt(e,"Unsafe")}o(TG,"IsUnsafe");function IG(e){return qt(e,"Void")}o(IG,"IsVoid");function ol(e){return mr(e)&&te in e&&_r(e[te])}o(ol,"IsKind");function Br(e){return kb(e)||Ob(e)||gs(e)||ta(e)||Ac(e)||Nc(e)||hs(e)||xs(e)||xG(e)||bs(e)||_s(e)||zr(e)||kc(e)||to(e)||ro(e)||Dr(e)||il(e)||bG(e)||Zm(e)||ys(e)||on(e)||Oc(e)||Lc(e)||Xr(e)||Lb(e)||ra(e)||Qm(e)||no(e)||_G(e)||io(e)||na(e)||Vt(e)||yG(e)||vG(e)||TG(e)||IG(e)||ol(e)}o(Br,"IsSchema");var K={};Vs(K,{IsAny:()=>_S,IsArgument:()=>yS,IsArray:()=>vS,IsAsyncIterator:()=>TS,IsBigInt:()=>IS,IsBoolean:()=>ES,IsComputed:()=>CS,IsConstructor:()=>SS,IsDate:()=>wS,IsFunction:()=>PS,IsImport:()=>DG,IsInteger:()=>DS,IsIntersect:()=>RS,IsIterator:()=>NS,IsKind:()=>iw,IsKindOf:()=>Nt,IsLiteral:()=>t1,IsLiteralBoolean:()=>RG,IsLiteralNumber:()=>kS,IsLiteralString:()=>AS,IsLiteralValue:()=>OS,IsMappedKey:()=>LS,IsMappedResult:()=>MS,IsNever:()=>US,IsNot:()=>BS,IsNull:()=>jS,IsNumber:()=>$S,IsObject:()=>qS,IsOptional:()=>PG,IsPromise:()=>WS,IsProperties:()=>i5,IsReadonly:()=>wG,IsRecord:()=>GS,IsRecursive:()=>NG,IsRef:()=>zS,IsRegExp:()=>HS,IsSchema:()=>Rr,IsString:()=>VS,IsSymbol:()=>KS,IsTemplateLiteral:()=>YS,IsThis:()=>XS,IsTransform:()=>JS,IsTuple:()=>ZS,IsUint8Array:()=>ew,IsUndefined:()=>QS,IsUnion:()=>Bb,IsUnionLiteral:()=>AG,IsUnknown:()=>tw,IsUnsafe:()=>rw,IsVoid:()=>nw,TypeGuardUnknownTypeError:()=>Fb});var Fb=class extends at{static{o(this,"TypeGuardUnknownTypeError")}},EG=["Argument","Any","Array","AsyncIterator","BigInt","Boolean","Computed","Constructor","Date","Enum","Function","Integer","Intersect","Iterator","Literal","MappedKey","MappedResult","Not","Null","Number","Object","Promise","Record","Ref","RegExp","String","Symbol","TemplateLiteral","This","Tuple","Undefined","Union","Uint8Array","Unknown","Void"];function hS(e){try{return new RegExp(e),!0}catch{return!1}}o(hS,"IsPattern");function Mb(e){if(!_r(e))return!1;for(let t=0;t<e.length;t++){let r=e.charCodeAt(t);if(r>=7&&r<=13||r===27||r===127)return!1}return!0}o(Mb,"IsControlCharacterFree");function xS(e){return Ub(e)||Rr(e)}o(xS,"IsAdditionalProperties");function e1(e){return nn(e)||Ym(e)}o(e1,"IsOptionalBigInt");function yr(e){return nn(e)||Qi(e)}o(yr,"IsOptionalNumber");function Ub(e){return nn(e)||J0(e)}o(Ub,"IsOptionalBoolean");function pr(e){return nn(e)||_r(e)}o(pr,"IsOptionalString");function CG(e){return nn(e)||_r(e)&&Mb(e)&&hS(e)}o(CG,"IsOptionalPattern");function SG(e){return nn(e)||_r(e)&&Mb(e)}o(SG,"IsOptionalFormat");function bS(e){return nn(e)||Rr(e)}o(bS,"IsOptionalSchema");function wG(e){return mr(e)&&e[ps]==="Readonly"}o(wG,"IsReadonly");function PG(e){return mr(e)&&e[$n]==="Optional"}o(PG,"IsOptional");function _S(e){return Nt(e,"Any")&&pr(e.$id)}o(_S,"IsAny");function yS(e){return Nt(e,"Argument")&&Qi(e.index)}o(yS,"IsArgument");function vS(e){return Nt(e,"Array")&&e.type==="array"&&pr(e.$id)&&Rr(e.items)&&yr(e.minItems)&&yr(e.maxItems)&&Ub(e.uniqueItems)&&bS(e.contains)&&yr(e.minContains)&&yr(e.maxContains)}o(vS,"IsArray");function TS(e){return Nt(e,"AsyncIterator")&&e.type==="AsyncIterator"&&pr(e.$id)&&Rr(e.items)}o(TS,"IsAsyncIterator");function IS(e){return Nt(e,"BigInt")&&e.type==="bigint"&&pr(e.$id)&&e1(e.exclusiveMaximum)&&e1(e.exclusiveMinimum)&&e1(e.maximum)&&e1(e.minimum)&&e1(e.multipleOf)}o(IS,"IsBigInt");function ES(e){return Nt(e,"Boolean")&&e.type==="boolean"&&pr(e.$id)}o(ES,"IsBoolean");function CS(e){return Nt(e,"Computed")&&_r(e.target)&&rn(e.parameters)&&e.parameters.every(t=>Rr(t))}o(CS,"IsComputed");function SS(e){return Nt(e,"Constructor")&&e.type==="Constructor"&&pr(e.$id)&&rn(e.parameters)&&e.parameters.every(t=>Rr(t))&&Rr(e.returns)}o(SS,"IsConstructor");function wS(e){return Nt(e,"Date")&&e.type==="Date"&&pr(e.$id)&&yr(e.exclusiveMaximumTimestamp)&&yr(e.exclusiveMinimumTimestamp)&&yr(e.maximumTimestamp)&&yr(e.minimumTimestamp)&&yr(e.multipleOfTimestamp)}o(wS,"IsDate");function PS(e){return Nt(e,"Function")&&e.type==="Function"&&pr(e.$id)&&rn(e.parameters)&&e.parameters.every(t=>Rr(t))&&Rr(e.returns)}o(PS,"IsFunction");function DG(e){return Nt(e,"Import")&&Jh(e,"$defs")&&mr(e.$defs)&&i5(e.$defs)&&Jh(e,"$ref")&&_r(e.$ref)&&e.$ref in e.$defs}o(DG,"IsImport");function DS(e){return Nt(e,"Integer")&&e.type==="integer"&&pr(e.$id)&&yr(e.exclusiveMaximum)&&yr(e.exclusiveMinimum)&&yr(e.maximum)&&yr(e.minimum)&&yr(e.multipleOf)}o(DS,"IsInteger");function i5(e){return mr(e)&&Object.entries(e).every(([t,r])=>Mb(t)&&Rr(r))}o(i5,"IsProperties");function RS(e){return Nt(e,"Intersect")&&!(_r(e.type)&&e.type!=="object")&&rn(e.allOf)&&e.allOf.every(t=>Rr(t)&&!JS(t))&&pr(e.type)&&(Ub(e.unevaluatedProperties)||bS(e.unevaluatedProperties))&&pr(e.$id)}o(RS,"IsIntersect");function NS(e){return Nt(e,"Iterator")&&e.type==="Iterator"&&pr(e.$id)&&Rr(e.items)}o(NS,"IsIterator");function Nt(e,t){return mr(e)&&te in e&&e[te]===t}o(Nt,"IsKindOf");function AS(e){return t1(e)&&_r(e.const)}o(AS,"IsLiteralString");function kS(e){return t1(e)&&Qi(e.const)}o(kS,"IsLiteralNumber");function RG(e){return t1(e)&&J0(e.const)}o(RG,"IsLiteralBoolean");function t1(e){return Nt(e,"Literal")&&pr(e.$id)&&OS(e.const)}o(t1,"IsLiteral");function OS(e){return J0(e)||Qi(e)||_r(e)}o(OS,"IsLiteralValue");function LS(e){return Nt(e,"MappedKey")&&rn(e.keys)&&e.keys.every(t=>Qi(t)||_r(t))}o(LS,"IsMappedKey");function MS(e){return Nt(e,"MappedResult")&&i5(e.properties)}o(MS,"IsMappedResult");function US(e){return Nt(e,"Never")&&mr(e.not)&&Object.getOwnPropertyNames(e.not).length===0}o(US,"IsNever");function BS(e){return Nt(e,"Not")&&Rr(e.not)}o(BS,"IsNot");function jS(e){return Nt(e,"Null")&&e.type==="null"&&pr(e.$id)}o(jS,"IsNull");function $S(e){return Nt(e,"Number")&&e.type==="number"&&pr(e.$id)&&yr(e.exclusiveMaximum)&&yr(e.exclusiveMinimum)&&yr(e.maximum)&&yr(e.minimum)&&yr(e.multipleOf)}o($S,"IsNumber");function qS(e){return Nt(e,"Object")&&e.type==="object"&&pr(e.$id)&&i5(e.properties)&&xS(e.additionalProperties)&&yr(e.minProperties)&&yr(e.maxProperties)}o(qS,"IsObject");function WS(e){return Nt(e,"Promise")&&e.type==="Promise"&&pr(e.$id)&&Rr(e.item)}o(WS,"IsPromise");function GS(e){return Nt(e,"Record")&&e.type==="object"&&pr(e.$id)&&xS(e.additionalProperties)&&mr(e.patternProperties)&&(t=>{let r=Object.getOwnPropertyNames(t.patternProperties);return r.length===1&&hS(r[0])&&mr(t.patternProperties)&&Rr(t.patternProperties[r[0]])})(e)}o(GS,"IsRecord");function NG(e){return mr(e)&&ko in e&&e[ko]==="Recursive"}o(NG,"IsRecursive");function zS(e){return Nt(e,"Ref")&&pr(e.$id)&&_r(e.$ref)}o(zS,"IsRef");function HS(e){return Nt(e,"RegExp")&&pr(e.$id)&&_r(e.source)&&_r(e.flags)&&yr(e.maxLength)&&yr(e.minLength)}o(HS,"IsRegExp");function VS(e){return Nt(e,"String")&&e.type==="string"&&pr(e.$id)&&yr(e.minLength)&&yr(e.maxLength)&&CG(e.pattern)&&SG(e.format)}o(VS,"IsString");function KS(e){return Nt(e,"Symbol")&&e.type==="symbol"&&pr(e.$id)}o(KS,"IsSymbol");function YS(e){return Nt(e,"TemplateLiteral")&&e.type==="string"&&_r(e.pattern)&&e.pattern[0]==="^"&&e.pattern[e.pattern.length-1]==="$"}o(YS,"IsTemplateLiteral");function XS(e){return Nt(e,"This")&&pr(e.$id)&&_r(e.$ref)}o(XS,"IsThis");function JS(e){return mr(e)&&Ur in e}o(JS,"IsTransform");function ZS(e){return Nt(e,"Tuple")&&e.type==="array"&&pr(e.$id)&&Qi(e.minItems)&&Qi(e.maxItems)&&e.minItems===e.maxItems&&(nn(e.items)&&nn(e.additionalItems)&&e.minItems===0||rn(e.items)&&e.items.every(t=>Rr(t)))}o(ZS,"IsTuple");function QS(e){return Nt(e,"Undefined")&&e.type==="undefined"&&pr(e.$id)}o(QS,"IsUndefined");function AG(e){return Bb(e)&&e.anyOf.every(t=>AS(t)||kS(t))}o(AG,"IsUnionLiteral");function Bb(e){return Nt(e,"Union")&&pr(e.$id)&&mr(e)&&rn(e.anyOf)&&e.anyOf.every(t=>Rr(t))}o(Bb,"IsUnion");function ew(e){return Nt(e,"Uint8Array")&&e.type==="Uint8Array"&&pr(e.$id)&&yr(e.minByteLength)&&yr(e.maxByteLength)}o(ew,"IsUint8Array");function tw(e){return Nt(e,"Unknown")&&pr(e.$id)}o(tw,"IsUnknown");function rw(e){return Nt(e,"Unsafe")}o(rw,"IsUnsafe");function nw(e){return Nt(e,"Void")&&e.type==="void"&&pr(e.$id)}o(nw,"IsVoid");function iw(e){return mr(e)&&te in e&&_r(e[te])&&!EG.includes(e[te])}o(iw,"IsKind");function Rr(e){return mr(e)&&(_S(e)||yS(e)||vS(e)||ES(e)||IS(e)||TS(e)||CS(e)||SS(e)||wS(e)||PS(e)||DS(e)||RS(e)||NS(e)||t1(e)||LS(e)||MS(e)||US(e)||BS(e)||jS(e)||$S(e)||qS(e)||WS(e)||GS(e)||zS(e)||HS(e)||VS(e)||KS(e)||YS(e)||XS(e)||ZS(e)||QS(e)||Bb(e)||ew(e)||tw(e)||rw(e)||nw(e)||iw(e))}o(Rr,"IsSchema");var jb="(true|false)",r1="(0|[1-9][0-9]*)",$b="(.*)",kG="(?!.*)",nge=`^${jb}$`,Zs=`^${r1}$`,Qs=`^${$b}$`,ow=`^${kG}$`;var vs={};Vs(vs,{Clear:()=>LG,Delete:()=>FG,Entries:()=>OG,Get:()=>BG,Has:()=>MG,Set:()=>UG});var xf=new Map;function OG(){return new Map(xf)}o(OG,"Entries");function LG(){return xf.clear()}o(LG,"Clear");function FG(e){return xf.delete(e)}o(FG,"Delete");function MG(e){return xf.has(e)}o(MG,"Has");function UG(e,t){xf.set(e,t)}o(UG,"Set");function BG(e){return xf.get(e)}o(BG,"Get");var hi={};Vs(hi,{Clear:()=>$G,Delete:()=>qG,Entries:()=>jG,Get:()=>zG,Has:()=>WG,Set:()=>GG});var bf=new Map;function jG(){return new Map(bf)}o(jG,"Entries");function $G(){return bf.clear()}o($G,"Clear");function qG(e){return bf.delete(e)}o(qG,"Delete");function WG(e){return bf.has(e)}o(WG,"Has");function GG(e,t){bf.set(e,t)}o(GG,"Set");function zG(e){return bf.get(e)}o(zG,"Get");function sw(e,t){return e.includes(t)}o(sw,"SetIncludes");function aw(e){return[...new Set(e)]}o(aw,"SetDistinct");function HG(e,t){return e.filter(r=>t.includes(r))}o(HG,"SetIntersect");function VG(e,t){return e.reduce((r,n)=>HG(r,n),t)}o(VG,"SetIntersectManyResolve");function lw(e){return e.length===1?e[0]:e.length>1?VG(e.slice(1),e[0]):[]}o(lw,"SetIntersectMany");function cw(e){let t=[];for(let r of e)t.push(...r);return t}o(cw,"SetUnionMany");function sl(e){return ie({[te]:"Any"},e)}o(sl,"Any");function _f(e,t){return ie({[te]:"Array",type:"array",items:e},t)}o(_f,"Array");function uw(e){return ie({[te]:"Argument",index:e})}o(uw,"Argument");function yf(e,t){return ie({[te]:"AsyncIterator",type:"AsyncIterator",items:e},t)}o(yf,"AsyncIterator");function Er(e,t,r){return ie({[te]:"Computed",target:e,parameters:t},r)}o(Er,"Computed");function KG(e,t){let{[t]:r,...n}=e;return n}o(KG,"DiscardKey");function Hr(e,t){return t.reduce((r,n)=>KG(r,n),e)}o(Hr,"Discard");function _t(e){return ie({[te]:"Never",not:{}},e)}o(_t,"Never");function Jt(e){return ie({[te]:"MappedResult",properties:e})}o(Jt,"MappedResult");function vf(e,t,r){return ie({[te]:"Constructor",type:"Constructor",parameters:e,returns:t},r)}o(vf,"Constructor");function e0(e,t,r){return ie({[te]:"Function",type:"Function",parameters:e,returns:t},r)}o(e0,"Function");function n1(e,t){return ie({[te]:"Union",anyOf:e},t)}o(n1,"UnionCreate");function YG(e){return e.some(t=>Ri(t))}o(YG,"IsUnionOptional");function fw(e){return e.map(t=>Ri(t)?XG(t):t)}o(fw,"RemoveOptionalFromRest");function XG(e){return Hr(e,[$n])}o(XG,"RemoveOptionalFromType");function JG(e,t){return YG(e)?Qn(n1(fw(e),t)):n1(fw(e),t)}o(JG,"ResolveUnion");function t0(e,t){return e.length===1?ie(e[0],t):e.length===0?_t(t):JG(e,t)}o(t0,"UnionEvaluated");function ir(e,t){return e.length===0?_t(t):e.length===1?ie(e[0],t):n1(e,t)}o(ir,"Union");var o5=class extends at{static{o(this,"TemplateLiteralParserError")}};function ZG(e){return e.replace(/\\\$/g,"$").replace(/\\\*/g,"*").replace(/\\\^/g,"^").replace(/\\\|/g,"|").replace(/\\\(/g,"(").replace(/\\\)/g,")")}o(ZG,"Unescape");function qb(e,t,r){return e[t]===r&&e.charCodeAt(t-1)!==92}o(qb,"IsNonEscaped");function oa(e,t){return qb(e,t,"(")}o(oa,"IsOpenParen");function i1(e,t){return qb(e,t,")")}o(i1,"IsCloseParen");function dw(e,t){return qb(e,t,"|")}o(dw,"IsSeparator");function QG(e){if(!(oa(e,0)&&i1(e,e.length-1)))return!1;let t=0;for(let r=0;r<e.length;r++)if(oa(e,r)&&(t+=1),i1(e,r)&&(t-=1),t===0&&r!==e.length-1)return!1;return!0}o(QG,"IsGroup");function ez(e){return e.slice(1,e.length-1)}o(ez,"InGroup");function tz(e){let t=0;for(let r=0;r<e.length;r++)if(oa(e,r)&&(t+=1),i1(e,r)&&(t-=1),dw(e,r)&&t===0)return!0;return!1}o(tz,"IsPrecedenceOr");function rz(e){for(let t=0;t<e.length;t++)if(oa(e,t))return!0;return!1}o(rz,"IsPrecedenceAnd");function nz(e){let[t,r]=[0,0],n=[];for(let s=0;s<e.length;s++)if(oa(e,s)&&(t+=1),i1(e,s)&&(t-=1),dw(e,s)&&t===0){let a=e.slice(r,s);a.length>0&&n.push(Tf(a)),r=s+1}let i=e.slice(r);return i.length>0&&n.push(Tf(i)),n.length===0?{type:"const",const:""}:n.length===1?n[0]:{type:"or",expr:n}}o(nz,"Or");function iz(e){function t(i,s){if(!oa(i,s))throw new o5("TemplateLiteralParser: Index must point to open parens");let a=0;for(let l=s;l<i.length;l++)if(oa(i,l)&&(a+=1),i1(i,l)&&(a-=1),a===0)return[s,l];throw new o5("TemplateLiteralParser: Unclosed group parens in expression")}o(t,"Group");function r(i,s){for(let a=s;a<i.length;a++)if(oa(i,a))return[s,a];return[s,i.length]}o(r,"Range");let n=[];for(let i=0;i<e.length;i++)if(oa(e,i)){let[s,a]=t(e,i),l=e.slice(s,a+1);n.push(Tf(l)),i=a}else{let[s,a]=r(e,i),l=e.slice(s,a);l.length>0&&n.push(Tf(l)),i=a-1}return n.length===0?{type:"const",const:""}:n.length===1?n[0]:{type:"and",expr:n}}o(iz,"And");function Tf(e){return QG(e)?Tf(ez(e)):tz(e)?nz(e):rz(e)?iz(e):{type:"const",const:ZG(e)}}o(Tf,"TemplateLiteralParse");function If(e){return Tf(e.slice(1,e.length-1))}o(If,"TemplateLiteralParseExact");var Wb=class extends at{static{o(this,"TemplateLiteralFiniteError")}};function oz(e){return e.type==="or"&&e.expr.length===2&&e.expr[0].type==="const"&&e.expr[0].const==="0"&&e.expr[1].type==="const"&&e.expr[1].const==="[1-9][0-9]*"}o(oz,"IsNumberExpression");function sz(e){return e.type==="or"&&e.expr.length===2&&e.expr[0].type==="const"&&e.expr[0].const==="true"&&e.expr[1].type==="const"&&e.expr[1].const==="false"}o(sz,"IsBooleanExpression");function az(e){return e.type==="const"&&e.const===".*"}o(az,"IsStringExpression");function Fc(e){return oz(e)||az(e)?!1:sz(e)?!0:e.type==="and"?e.expr.every(t=>Fc(t)):e.type==="or"?e.expr.every(t=>Fc(t)):e.type==="const"?!0:(()=>{throw new Wb("Unknown expression type")})()}o(Fc,"IsTemplateLiteralExpressionFinite");function s5(e){let t=If(e.pattern);return Fc(t)}o(s5,"IsTemplateLiteralFinite");var Gb=class extends at{static{o(this,"TemplateLiteralGenerateError")}};function*mw(e){if(e.length===1)return yield*e[0];for(let t of e[0])for(let r of mw(e.slice(1)))yield`${t}${r}`}o(mw,"GenerateReduce");function*lz(e){return yield*mw(e.expr.map(t=>[...o1(t)]))}o(lz,"GenerateAnd");function*cz(e){for(let t of e.expr)yield*o1(t)}o(cz,"GenerateOr");function*uz(e){return yield e.const}o(uz,"GenerateConst");function*o1(e){return e.type==="and"?yield*lz(e):e.type==="or"?yield*cz(e):e.type==="const"?yield*uz(e):(()=>{throw new Gb("Unknown expression")})()}o(o1,"TemplateLiteralExpressionGenerate");function Ef(e){let t=If(e.pattern);return Fc(t)?[...o1(t)]:[]}o(Ef,"TemplateLiteralGenerate");function Wt(e,t){return ie({[te]:"Literal",const:e,type:typeof e},t)}o(Wt,"Literal");function a5(e){return ie({[te]:"Boolean",type:"boolean"},e)}o(a5,"Boolean");function Cf(e){return ie({[te]:"BigInt",type:"bigint"},e)}o(Cf,"BigInt");function Oo(e){return ie({[te]:"Number",type:"number"},e)}o(Oo,"Number");function xi(e){return ie({[te]:"String",type:"string"},e)}o(xi,"String");function*fz(e){let t=e.trim().replace(/"|'/g,"");return t==="boolean"?yield a5():t==="number"?yield Oo():t==="bigint"?yield Cf():t==="string"?yield xi():yield(()=>{let r=t.split("|").map(n=>Wt(n.trim()));return r.length===0?_t():r.length===1?r[0]:t0(r)})()}o(fz,"FromUnion");function*dz(e){if(e[1]!=="{"){let t=Wt("$"),r=zb(e.slice(1));return yield*[t,...r]}for(let t=2;t<e.length;t++)if(e[t]==="}"){let r=fz(e.slice(2,t)),n=zb(e.slice(t+1));return yield*[...r,...n]}yield Wt(e)}o(dz,"FromTerminal");function*zb(e){for(let t=0;t<e.length;t++)if(e[t]==="$"){let r=Wt(e.slice(0,t)),n=dz(e.slice(t));return yield*[r,...n]}yield Wt(e)}o(zb,"FromSyntax");function pw(e){return[...zb(e)]}o(pw,"TemplateLiteralSyntax");var Hb=class extends at{static{o(this,"TemplateLiteralPatternError")}};function mz(e){return e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}o(mz,"Escape");function gw(e,t){return no(e)?e.pattern.slice(1,e.pattern.length-1):Vt(e)?`(${e.anyOf.map(r=>gw(r,t)).join("|")})`:ys(e)?`${t}${r1}`:_s(e)?`${t}${r1}`:Ac(e)?`${t}${r1}`:ra(e)?`${t}${$b}`:to(e)?`${t}${mz(e.const.toString())}`:ta(e)?`${t}${jb}`:(()=>{throw new Hb(`Unexpected Kind '${e[te]}'`)})()}o(gw,"Visit");function Vb(e){return`^${e.map(t=>gw(t,"")).join("")}$`}o(Vb,"TemplateLiteralPattern");function Mc(e){let r=Ef(e).map(n=>Wt(n));return t0(r)}o(Mc,"TemplateLiteralToUnion");function l5(e,t){let r=_r(e)?Vb(pw(e)):Vb(e);return ie({[te]:"TemplateLiteral",type:"string",pattern:r},t)}o(l5,"TemplateLiteral");function pz(e){return Ef(e).map(r=>r.toString())}o(pz,"FromTemplateLiteral");function gz(e){let t=[];for(let r of e)t.push(...Ni(r));return t}o(gz,"FromUnion");function hz(e){return[e.toString()]}o(hz,"FromLiteral");function Ni(e){return[...new Set(no(e)?pz(e):Vt(e)?gz(e.anyOf):to(e)?hz(e.const):ys(e)?["[number]"]:_s(e)?["[number]"]:[])]}o(Ni,"IndexPropertyKeys");function xz(e,t,r){let n={};for(let i of Object.getOwnPropertyNames(t))n[i]=al(e,Ni(t[i]),r);return n}o(xz,"FromProperties");function bz(e,t,r){return xz(e,t.properties,r)}o(bz,"FromMappedResult");function hw(e,t,r){let n=bz(e,t,r);return Jt(n)}o(hw,"IndexFromMappedResult");function bw(e,t){return e.map(r=>_w(r,t))}o(bw,"FromRest");function _z(e){return e.filter(t=>!il(t))}o(_z,"FromIntersectRest");function yz(e,t){return c5(_z(bw(e,t)))}o(yz,"FromIntersect");function vz(e){return e.some(t=>il(t))?[]:e}o(vz,"FromUnionRest");function Tz(e,t){return t0(vz(bw(e,t)))}o(Tz,"FromUnion");function Iz(e,t){return t in e?e[t]:t==="[number]"?t0(e):_t()}o(Iz,"FromTuple");function Ez(e,t){return t==="[number]"?e:_t()}o(Ez,"FromArray");function Cz(e,t){return t in e?e[t]:_t()}o(Cz,"FromProperty");function _w(e,t){return zr(e)?yz(e.allOf,t):Vt(e)?Tz(e.anyOf,t):io(e)?Iz(e.items??[],t):gs(e)?Ez(e.items,t):on(e)?Cz(e.properties,t):_t()}o(_w,"IndexFromPropertyKey");function s1(e,t){return t.map(r=>_w(e,r))}o(s1,"IndexFromPropertyKeys");function xw(e,t){return t0(s1(e,t))}o(xw,"FromSchema");function al(e,t,r){if(Xr(e)||Xr(t)){let n="Index types using Ref parameters require both Type and Key to be of TSchema";if(!Br(e)||!Br(t))throw new at(n);return Er("Index",[e,t])}return Dr(t)?hw(e,t,r):ro(t)?yw(e,t,r):ie(Br(t)?xw(e,Ni(t)):xw(e,t),r)}o(al,"Index");function Sz(e,t,r){return{[t]:al(e,[t],wr(r))}}o(Sz,"MappedIndexPropertyKey");function wz(e,t,r){return t.reduce((n,i)=>({...n,...Sz(e,i,r)}),{})}o(wz,"MappedIndexPropertyKeys");function Pz(e,t,r){return wz(e,t.keys,r)}o(Pz,"MappedIndexProperties");function yw(e,t,r){let n=Pz(e,t,r);return Jt(n)}o(yw,"IndexFromMappedKey");function Sf(e,t){return ie({[te]:"Iterator",type:"Iterator",items:e},t)}o(Sf,"Iterator");function Dz(e){let t=[];for(let r in e)Ri(e[r])||t.push(r);return t}o(Dz,"RequiredKeys");function Rz(e,t){let r=Dz(e),n=r.length>0?{[te]:"Object",type:"object",properties:e,required:r}:{[te]:"Object",type:"object",properties:e};return ie(n,t)}o(Rz,"_Object");var or=Rz;function u5(e,t){return ie({[te]:"Promise",type:"Promise",item:e},t)}o(u5,"Promise");function Nz(e){return ie(Hr(e,[ps]))}o(Nz,"RemoveReadonly");function Az(e){return ie({...e,[ps]:"Readonly"})}o(Az,"AddReadonly");function kz(e,t){return t===!1?Nz(e):Az(e)}o(kz,"ReadonlyWithFlag");function Ai(e,t){let r=t??!0;return Dr(e)?vw(e,r):kz(e,r)}o(Ai,"Readonly");function Oz(e,t){let r={};for(let n of globalThis.Object.getOwnPropertyNames(e))r[n]=Ai(e[n],t);return r}o(Oz,"FromProperties");function Lz(e,t){return Oz(e.properties,t)}o(Lz,"FromMappedResult");function vw(e,t){let r=Lz(e,t);return Jt(r)}o(vw,"ReadonlyFromMappedResult");function Lo(e,t){return ie(e.length>0?{[te]:"Tuple",type:"array",items:e,additionalItems:!1,minItems:e.length,maxItems:e.length}:{[te]:"Tuple",type:"array",minItems:e.length,maxItems:e.length},t)}o(Lo,"Tuple");function Tw(e,t){return e in t?Fo(e,t[e]):Jt(t)}o(Tw,"FromMappedResult");function Fz(e){return{[e]:Wt(e)}}o(Fz,"MappedKeyToKnownMappedResultProperties");function Mz(e){let t={};for(let r of e)t[r]=Wt(r);return t}o(Mz,"MappedKeyToUnknownMappedResultProperties");function Uz(e,t){return sw(t,e)?Fz(e):Mz(t)}o(Uz,"MappedKeyToMappedResultProperties");function Bz(e,t){let r=Uz(e,t);return Tw(e,r)}o(Bz,"FromMappedKey");function a1(e,t){return t.map(r=>Fo(e,r))}o(a1,"FromRest");function jz(e,t){let r={};for(let n of globalThis.Object.getOwnPropertyNames(t))r[n]=Fo(e,t[n]);return r}o(jz,"FromProperties");function Fo(e,t){let r={...t};return Ri(t)?Qn(Fo(e,Hr(t,[$n]))):hf(t)?Ai(Fo(e,Hr(t,[ps]))):Dr(t)?Tw(e,t.properties):ro(t)?Bz(e,t.keys):xs(t)?vf(a1(e,t.parameters),Fo(e,t.returns),r):bs(t)?e0(a1(e,t.parameters),Fo(e,t.returns),r):Nc(t)?yf(Fo(e,t.items),r):kc(t)?Sf(Fo(e,t.items),r):zr(t)?ei(a1(e,t.allOf),r):Vt(t)?ir(a1(e,t.anyOf),r):io(t)?Lo(a1(e,t.items??[]),r):on(t)?or(jz(e,t.properties),r):gs(t)?_f(Fo(e,t.items),r):Oc(t)?u5(Fo(e,t.item),r):t}o(Fo,"FromSchemaType");function $z(e,t){let r={};for(let n of e)r[n]=Fo(n,t);return r}o($z,"MappedFunctionReturnType");function Iw(e,t,r){let n=Br(e)?Ni(e):e,i=t({[te]:"MappedKey",keys:n}),s=$z(n,i);return or(s,r)}o(Iw,"Mapped");function qz(e){return ie(Hr(e,[$n]))}o(qz,"RemoveOptional");function Wz(e){return ie({...e,[$n]:"Optional"})}o(Wz,"AddOptional");function Gz(e,t){return t===!1?qz(e):Wz(e)}o(Gz,"OptionalWithFlag");function Qn(e,t){let r=t??!0;return Dr(e)?Ew(e,r):Gz(e,r)}o(Qn,"Optional");function zz(e,t){let r={};for(let n of globalThis.Object.getOwnPropertyNames(e))r[n]=Qn(e[n],t);return r}o(zz,"FromProperties");function Hz(e,t){return zz(e.properties,t)}o(Hz,"FromMappedResult");function Ew(e,t){let r=Hz(e,t);return Jt(r)}o(Ew,"OptionalFromMappedResult");function l1(e,t={}){let r=e.every(i=>on(i)),n=Br(t.unevaluatedProperties)?{unevaluatedProperties:t.unevaluatedProperties}:{};return ie(t.unevaluatedProperties===!1||Br(t.unevaluatedProperties)||r?{...n,[te]:"Intersect",type:"object",allOf:e}:{...n,[te]:"Intersect",allOf:e},t)}o(l1,"IntersectCreate");function Vz(e){return e.every(t=>Ri(t))}o(Vz,"IsIntersectOptional");function Kz(e){return Hr(e,[$n])}o(Kz,"RemoveOptionalFromType");function Cw(e){return e.map(t=>Ri(t)?Kz(t):t)}o(Cw,"RemoveOptionalFromRest");function Yz(e,t){return Vz(e)?Qn(l1(Cw(e),t)):l1(Cw(e),t)}o(Yz,"ResolveIntersect");function c5(e,t={}){if(e.length===1)return ie(e[0],t);if(e.length===0)return _t(t);if(e.some(r=>nr(r)))throw new Error("Cannot intersect transform types");return Yz(e,t)}o(c5,"IntersectEvaluated");function ei(e,t){if(e.length===1)return ie(e[0],t);if(e.length===0)return _t(t);if(e.some(r=>nr(r)))throw new Error("Cannot intersect transform types");return l1(e,t)}o(ei,"Intersect");function Mo(...e){let[t,r]=typeof e[0]=="string"?[e[0],e[1]]:[e[0].$id,e[1]];if(typeof t!="string")throw new at("Ref: $ref must be a string");return ie({[te]:"Ref",$ref:t},r)}o(Mo,"Ref");function Xz(e,t){return Er("Awaited",[Er(e,t)])}o(Xz,"FromComputed");function Jz(e){return Er("Awaited",[Mo(e)])}o(Jz,"FromRef");function Zz(e){return ei(Sw(e))}o(Zz,"FromIntersect");function Qz(e){return ir(Sw(e))}o(Qz,"FromUnion");function eH(e){return wf(e)}o(eH,"FromPromise");function Sw(e){return e.map(t=>wf(t))}o(Sw,"FromRest");function wf(e,t){return ie(hs(e)?Xz(e.target,e.parameters):zr(e)?Zz(e.allOf):Vt(e)?Qz(e.anyOf):Oc(e)?eH(e.item):Xr(e)?Jz(e.$ref):e,t)}o(wf,"Awaited");function ww(e){let t=[];for(let r of e)t.push(ki(r));return t}o(ww,"FromRest");function tH(e){let t=ww(e);return cw(t)}o(tH,"FromIntersect");function rH(e){let t=ww(e);return lw(t)}o(rH,"FromUnion");function nH(e){return e.map((t,r)=>r.toString())}o(nH,"FromTuple");function iH(e){return["[number]"]}o(iH,"FromArray");function oH(e){return globalThis.Object.getOwnPropertyNames(e)}o(oH,"FromProperties");function sH(e){return Kb?globalThis.Object.getOwnPropertyNames(e).map(r=>r[0]==="^"&&r[r.length-1]==="$"?r.slice(1,r.length-1):r):[]}o(sH,"FromPatternProperties");function ki(e){return zr(e)?tH(e.allOf):Vt(e)?rH(e.anyOf):io(e)?nH(e.items??[]):gs(e)?iH(e.items):on(e)?oH(e.properties):Lc(e)?sH(e.patternProperties):[]}o(ki,"KeyOfPropertyKeys");var Kb=!1;function sa(e){Kb=!0;let t=ki(e);return Kb=!1,`^(${t.map(n=>`(${n})`).join("|")})$`}o(sa,"KeyOfPattern");function aH(e,t){return Er("KeyOf",[Er(e,t)])}o(aH,"FromComputed");function lH(e){return Er("KeyOf",[Mo(e)])}o(lH,"FromRef");function cH(e,t){let r=ki(e),n=uH(r),i=t0(n);return ie(i,t)}o(cH,"KeyOfFromType");function uH(e){return e.map(t=>t==="[number]"?Oo():Wt(t))}o(uH,"KeyOfPropertyKeysToRest");function Pf(e,t){return hs(e)?aH(e.target,e.parameters):Xr(e)?lH(e.$ref):Dr(e)?Pw(e,t):cH(e,t)}o(Pf,"KeyOf");function fH(e,t){let r={};for(let n of globalThis.Object.getOwnPropertyNames(e))r[n]=Pf(e[n],wr(t));return r}o(fH,"FromProperties");function dH(e,t){return fH(e.properties,t)}o(dH,"FromMappedResult");function Pw(e,t){let r=dH(e,t);return Jt(r)}o(Pw,"KeyOfFromMappedResult");function f5(e){let t=ki(e),r=s1(e,t);return t.map((n,i)=>[t[i],r[i]])}o(f5,"KeyOfPropertyEntries");function mH(e){let t=[];for(let r of e)t.push(...ki(r));return aw(t)}o(mH,"CompositeKeys");function pH(e){return e.filter(t=>!il(t))}o(pH,"FilterNever");function gH(e,t){let r=[];for(let n of e)r.push(...s1(n,[t]));return pH(r)}o(gH,"CompositeProperty");function hH(e,t){let r={};for(let n of t)r[n]=c5(gH(e,n));return r}o(hH,"CompositeProperties");function Dw(e,t){let r=mH(e),n=hH(e,r);return or(n,t)}o(Dw,"Composite");function d5(e){return ie({[te]:"Date",type:"Date"},e)}o(d5,"Date");function m5(e){return ie({[te]:"Null",type:"null"},e)}o(m5,"Null");function p5(e){return ie({[te]:"Symbol",type:"symbol"},e)}o(p5,"Symbol");function g5(e){return ie({[te]:"Undefined",type:"undefined"},e)}o(g5,"Undefined");function h5(e){return ie({[te]:"Uint8Array",type:"Uint8Array"},e)}o(h5,"Uint8Array");function Ts(e){return ie({[te]:"Unknown"},e)}o(Ts,"Unknown");function xH(e){return e.map(t=>Yb(t,!1))}o(xH,"FromArray");function bH(e){let t={};for(let r of globalThis.Object.getOwnPropertyNames(e))t[r]=Ai(Yb(e[r],!1));return t}o(bH,"FromProperties");function x5(e,t){return t===!0?e:Ai(e)}o(x5,"ConditionalReadonly");function Yb(e,t){return wb(e)?x5(sl(),t):Db(e)?x5(sl(),t):rn(e)?Ai(Lo(xH(e))):Z0(e)?h5():Rc(e)?d5():mr(e)?x5(or(bH(e)),t):Pb(e)?x5(e0([],Ts()),t):nn(e)?g5():Rb(e)?m5():Nb(e)?p5():Ym(e)?Cf():Qi(e)?Wt(e):J0(e)?Wt(e):_r(e)?Wt(e):or({})}o(Yb,"FromValue");function Rw(e,t){return ie(Yb(e,!0),t)}o(Rw,"Const");function Nw(e,t){return xs(e)?Lo(e.parameters,t):_t(t)}o(Nw,"ConstructorParameters");function Aw(e,t){if(nn(e))throw new Error("Enum undefined or empty");let r=globalThis.Object.getOwnPropertyNames(e).filter(s=>isNaN(s)).map(s=>e[s]),i=[...new Set(r)].map(s=>Wt(s));return ir(i,{...t,[ko]:"Enum"})}o(Aw,"Enum");var Jb=class extends at{static{o(this,"ExtendsResolverError")}},oe;(function(e){e[e.Union=0]="Union",e[e.True=1]="True",e[e.False=2]="False"})(oe||(oe={}));function Uo(e){return e===oe.False?e:oe.True}o(Uo,"IntoBooleanResult");function Df(e){throw new Jb(e)}o(Df,"Throw");function un(e){return K.IsNever(e)||K.IsIntersect(e)||K.IsUnion(e)||K.IsUnknown(e)||K.IsAny(e)}o(un,"IsStructuralRight");function fn(e,t){return K.IsNever(t)?Bw(e,t):K.IsIntersect(t)?b5(e,t):K.IsUnion(t)?t6(e,t):K.IsUnknown(t)?Ww(e,t):K.IsAny(t)?e6(e,t):Df("StructuralRight")}o(fn,"StructuralRight");function e6(e,t){return oe.True}o(e6,"FromAnyRight");function _H(e,t){return K.IsIntersect(t)?b5(e,t):K.IsUnion(t)&&t.anyOf.some(r=>K.IsAny(r)||K.IsUnknown(r))?oe.True:K.IsUnion(t)?oe.Union:K.IsUnknown(t)||K.IsAny(t)?oe.True:oe.Union}o(_H,"FromAny");function yH(e,t){return K.IsUnknown(e)?oe.False:K.IsAny(e)?oe.Union:K.IsNever(e)?oe.True:oe.False}o(yH,"FromArrayRight");function vH(e,t){return K.IsObject(t)&&_5(t)?oe.True:un(t)?fn(e,t):K.IsArray(t)?Uo(gr(e.items,t.items)):oe.False}o(vH,"FromArray");function TH(e,t){return un(t)?fn(e,t):K.IsAsyncIterator(t)?Uo(gr(e.items,t.items)):oe.False}o(TH,"FromAsyncIterator");function IH(e,t){return un(t)?fn(e,t):K.IsObject(t)?ti(e,t):K.IsRecord(t)?Bo(e,t):K.IsBigInt(t)?oe.True:oe.False}o(IH,"FromBigInt");function Mw(e,t){return K.IsLiteralBoolean(e)||K.IsBoolean(e)?oe.True:oe.False}o(Mw,"FromBooleanRight");function EH(e,t){return un(t)?fn(e,t):K.IsObject(t)?ti(e,t):K.IsRecord(t)?Bo(e,t):K.IsBoolean(t)?oe.True:oe.False}o(EH,"FromBoolean");function CH(e,t){return un(t)?fn(e,t):K.IsObject(t)?ti(e,t):K.IsConstructor(t)?e.parameters.length>t.parameters.length?oe.False:e.parameters.every((r,n)=>Uo(gr(t.parameters[n],r))===oe.True)?Uo(gr(e.returns,t.returns)):oe.False:oe.False}o(CH,"FromConstructor");function SH(e,t){return un(t)?fn(e,t):K.IsObject(t)?ti(e,t):K.IsRecord(t)?Bo(e,t):K.IsDate(t)?oe.True:oe.False}o(SH,"FromDate");function wH(e,t){return un(t)?fn(e,t):K.IsObject(t)?ti(e,t):K.IsFunction(t)?e.parameters.length>t.parameters.length?oe.False:e.parameters.every((r,n)=>Uo(gr(t.parameters[n],r))===oe.True)?Uo(gr(e.returns,t.returns)):oe.False:oe.False}o(wH,"FromFunction");function Uw(e,t){return K.IsLiteral(e)&&Zn.IsNumber(e.const)||K.IsNumber(e)||K.IsInteger(e)?oe.True:oe.False}o(Uw,"FromIntegerRight");function PH(e,t){return K.IsInteger(t)||K.IsNumber(t)?oe.True:un(t)?fn(e,t):K.IsObject(t)?ti(e,t):K.IsRecord(t)?Bo(e,t):oe.False}o(PH,"FromInteger");function b5(e,t){return t.allOf.every(r=>gr(e,r)===oe.True)?oe.True:oe.False}o(b5,"FromIntersectRight");function DH(e,t){return e.allOf.some(r=>gr(r,t)===oe.True)?oe.True:oe.False}o(DH,"FromIntersect");function RH(e,t){return un(t)?fn(e,t):K.IsIterator(t)?Uo(gr(e.items,t.items)):oe.False}o(RH,"FromIterator");function NH(e,t){return K.IsLiteral(t)&&t.const===e.const?oe.True:un(t)?fn(e,t):K.IsObject(t)?ti(e,t):K.IsRecord(t)?Bo(e,t):K.IsString(t)?qw(e,t):K.IsNumber(t)?jw(e,t):K.IsInteger(t)?Uw(e,t):K.IsBoolean(t)?Mw(e,t):oe.False}o(NH,"FromLiteral");function Bw(e,t){return oe.False}o(Bw,"FromNeverRight");function AH(e,t){return oe.True}o(AH,"FromNever");function kw(e){let[t,r]=[e,0];for(;K.IsNot(t);)t=t.not,r+=1;return r%2===0?t:Ts()}o(kw,"UnwrapTNot");function kH(e,t){return K.IsNot(e)?gr(kw(e),t):K.IsNot(t)?gr(e,kw(t)):Df("Invalid fallthrough for Not")}o(kH,"FromNot");function OH(e,t){return un(t)?fn(e,t):K.IsObject(t)?ti(e,t):K.IsRecord(t)?Bo(e,t):K.IsNull(t)?oe.True:oe.False}o(OH,"FromNull");function jw(e,t){return K.IsLiteralNumber(e)||K.IsNumber(e)||K.IsInteger(e)?oe.True:oe.False}o(jw,"FromNumberRight");function LH(e,t){return un(t)?fn(e,t):K.IsObject(t)?ti(e,t):K.IsRecord(t)?Bo(e,t):K.IsInteger(t)||K.IsNumber(t)?oe.True:oe.False}o(LH,"FromNumber");function Oi(e,t){return Object.getOwnPropertyNames(e.properties).length===t}o(Oi,"IsObjectPropertyCount");function Ow(e){return _5(e)}o(Ow,"IsObjectStringLike");function Lw(e){return Oi(e,0)||Oi(e,1)&&"description"in e.properties&&K.IsUnion(e.properties.description)&&e.properties.description.anyOf.length===2&&(K.IsString(e.properties.description.anyOf[0])&&K.IsUndefined(e.properties.description.anyOf[1])||K.IsString(e.properties.description.anyOf[1])&&K.IsUndefined(e.properties.description.anyOf[0]))}o(Lw,"IsObjectSymbolLike");function Xb(e){return Oi(e,0)}o(Xb,"IsObjectNumberLike");function Fw(e){return Oi(e,0)}o(Fw,"IsObjectBooleanLike");function FH(e){return Oi(e,0)}o(FH,"IsObjectBigIntLike");function MH(e){return Oi(e,0)}o(MH,"IsObjectDateLike");function UH(e){return _5(e)}o(UH,"IsObjectUint8ArrayLike");function BH(e){let t=Oo();return Oi(e,0)||Oi(e,1)&&"length"in e.properties&&Uo(gr(e.properties.length,t))===oe.True}o(BH,"IsObjectFunctionLike");function jH(e){return Oi(e,0)}o(jH,"IsObjectConstructorLike");function _5(e){let t=Oo();return Oi(e,0)||Oi(e,1)&&"length"in e.properties&&Uo(gr(e.properties.length,t))===oe.True}o(_5,"IsObjectArrayLike");function $H(e){let t=e0([sl()],sl());return Oi(e,0)||Oi(e,1)&&"then"in e.properties&&Uo(gr(e.properties.then,t))===oe.True}o($H,"IsObjectPromiseLike");function $w(e,t){return gr(e,t)===oe.False||K.IsOptional(e)&&!K.IsOptional(t)?oe.False:oe.True}o($w,"Property");function ti(e,t){return K.IsUnknown(e)?oe.False:K.IsAny(e)?oe.Union:K.IsNever(e)||K.IsLiteralString(e)&&Ow(t)||K.IsLiteralNumber(e)&&Xb(t)||K.IsLiteralBoolean(e)&&Fw(t)||K.IsSymbol(e)&&Lw(t)||K.IsBigInt(e)&&FH(t)||K.IsString(e)&&Ow(t)||K.IsSymbol(e)&&Lw(t)||K.IsNumber(e)&&Xb(t)||K.IsInteger(e)&&Xb(t)||K.IsBoolean(e)&&Fw(t)||K.IsUint8Array(e)&&UH(t)||K.IsDate(e)&&MH(t)||K.IsConstructor(e)&&jH(t)||K.IsFunction(e)&&BH(t)?oe.True:K.IsRecord(e)&&K.IsString(Zb(e))?t[ko]==="Record"?oe.True:oe.False:K.IsRecord(e)&&K.IsNumber(Zb(e))?Oi(t,0)?oe.True:oe.False:oe.False}o(ti,"FromObjectRight");function qH(e,t){return un(t)?fn(e,t):K.IsRecord(t)?Bo(e,t):K.IsObject(t)?(()=>{for(let r of Object.getOwnPropertyNames(t.properties)){if(!(r in e.properties)&&!K.IsOptional(t.properties[r]))return oe.False;if(K.IsOptional(t.properties[r]))return oe.True;if($w(e.properties[r],t.properties[r])===oe.False)return oe.False}return oe.True})():oe.False}o(qH,"FromObject");function WH(e,t){return un(t)?fn(e,t):K.IsObject(t)&&$H(t)?oe.True:K.IsPromise(t)?Uo(gr(e.item,t.item)):oe.False}o(WH,"FromPromise");function Zb(e){return Zs in e.patternProperties?Oo():Qs in e.patternProperties?xi():Df("Unknown record key pattern")}o(Zb,"RecordKey");function Qb(e){return Zs in e.patternProperties?e.patternProperties[Zs]:Qs in e.patternProperties?e.patternProperties[Qs]:Df("Unable to get record value schema")}o(Qb,"RecordValue");function Bo(e,t){let[r,n]=[Zb(t),Qb(t)];return K.IsLiteralString(e)&&K.IsNumber(r)&&Uo(gr(e,n))===oe.True?oe.True:K.IsUint8Array(e)&&K.IsNumber(r)||K.IsString(e)&&K.IsNumber(r)||K.IsArray(e)&&K.IsNumber(r)?gr(e,n):K.IsObject(e)?(()=>{for(let i of Object.getOwnPropertyNames(e.properties))if($w(n,e.properties[i])===oe.False)return oe.False;return oe.True})():oe.False}o(Bo,"FromRecordRight");function GH(e,t){return un(t)?fn(e,t):K.IsObject(t)?ti(e,t):K.IsRecord(t)?gr(Qb(e),Qb(t)):oe.False}o(GH,"FromRecord");function zH(e,t){let r=K.IsRegExp(e)?xi():e,n=K.IsRegExp(t)?xi():t;return gr(r,n)}o(zH,"FromRegExp");function qw(e,t){return K.IsLiteral(e)&&Zn.IsString(e.const)||K.IsString(e)?oe.True:oe.False}o(qw,"FromStringRight");function HH(e,t){return un(t)?fn(e,t):K.IsObject(t)?ti(e,t):K.IsRecord(t)?Bo(e,t):K.IsString(t)?oe.True:oe.False}o(HH,"FromString");function VH(e,t){return un(t)?fn(e,t):K.IsObject(t)?ti(e,t):K.IsRecord(t)?Bo(e,t):K.IsSymbol(t)?oe.True:oe.False}o(VH,"FromSymbol");function KH(e,t){return K.IsTemplateLiteral(e)?gr(Mc(e),t):K.IsTemplateLiteral(t)?gr(e,Mc(t)):Df("Invalid fallthrough for TemplateLiteral")}o(KH,"FromTemplateLiteral");function YH(e,t){return K.IsArray(t)&&e.items!==void 0&&e.items.every(r=>gr(r,t.items)===oe.True)}o(YH,"IsArrayOfTuple");function XH(e,t){return K.IsNever(e)?oe.True:K.IsUnknown(e)?oe.False:K.IsAny(e)?oe.Union:oe.False}o(XH,"FromTupleRight");function JH(e,t){return un(t)?fn(e,t):K.IsObject(t)&&_5(t)||K.IsArray(t)&&YH(e,t)?oe.True:K.IsTuple(t)?Zn.IsUndefined(e.items)&&!Zn.IsUndefined(t.items)||!Zn.IsUndefined(e.items)&&Zn.IsUndefined(t.items)?oe.False:Zn.IsUndefined(e.items)&&!Zn.IsUndefined(t.items)||e.items.every((r,n)=>gr(r,t.items[n])===oe.True)?oe.True:oe.False:oe.False}o(JH,"FromTuple");function ZH(e,t){return un(t)?fn(e,t):K.IsObject(t)?ti(e,t):K.IsRecord(t)?Bo(e,t):K.IsUint8Array(t)?oe.True:oe.False}o(ZH,"FromUint8Array");function QH(e,t){return un(t)?fn(e,t):K.IsObject(t)?ti(e,t):K.IsRecord(t)?Bo(e,t):K.IsVoid(t)?rV(e,t):K.IsUndefined(t)?oe.True:oe.False}o(QH,"FromUndefined");function t6(e,t){return t.anyOf.some(r=>gr(e,r)===oe.True)?oe.True:oe.False}o(t6,"FromUnionRight");function eV(e,t){return e.anyOf.every(r=>gr(r,t)===oe.True)?oe.True:oe.False}o(eV,"FromUnion");function Ww(e,t){return oe.True}o(Ww,"FromUnknownRight");function tV(e,t){return K.IsNever(t)?Bw(e,t):K.IsIntersect(t)?b5(e,t):K.IsUnion(t)?t6(e,t):K.IsAny(t)?e6(e,t):K.IsString(t)?qw(e,t):K.IsNumber(t)?jw(e,t):K.IsInteger(t)?Uw(e,t):K.IsBoolean(t)?Mw(e,t):K.IsArray(t)?yH(e,t):K.IsTuple(t)?XH(e,t):K.IsObject(t)?ti(e,t):K.IsUnknown(t)?oe.True:oe.False}o(tV,"FromUnknown");function rV(e,t){return K.IsUndefined(e)||K.IsUndefined(e)?oe.True:oe.False}o(rV,"FromVoidRight");function nV(e,t){return K.IsIntersect(t)?b5(e,t):K.IsUnion(t)?t6(e,t):K.IsUnknown(t)?Ww(e,t):K.IsAny(t)?e6(e,t):K.IsObject(t)?ti(e,t):K.IsVoid(t)?oe.True:oe.False}o(nV,"FromVoid");function gr(e,t){return K.IsTemplateLiteral(e)||K.IsTemplateLiteral(t)?KH(e,t):K.IsRegExp(e)||K.IsRegExp(t)?zH(e,t):K.IsNot(e)||K.IsNot(t)?kH(e,t):K.IsAny(e)?_H(e,t):K.IsArray(e)?vH(e,t):K.IsBigInt(e)?IH(e,t):K.IsBoolean(e)?EH(e,t):K.IsAsyncIterator(e)?TH(e,t):K.IsConstructor(e)?CH(e,t):K.IsDate(e)?SH(e,t):K.IsFunction(e)?wH(e,t):K.IsInteger(e)?PH(e,t):K.IsIntersect(e)?DH(e,t):K.IsIterator(e)?RH(e,t):K.IsLiteral(e)?NH(e,t):K.IsNever(e)?AH(e,t):K.IsNull(e)?OH(e,t):K.IsNumber(e)?LH(e,t):K.IsObject(e)?qH(e,t):K.IsRecord(e)?GH(e,t):K.IsString(e)?HH(e,t):K.IsSymbol(e)?VH(e,t):K.IsTuple(e)?JH(e,t):K.IsPromise(e)?WH(e,t):K.IsUint8Array(e)?ZH(e,t):K.IsUndefined(e)?QH(e,t):K.IsUnion(e)?eV(e,t):K.IsUnknown(e)?tV(e,t):K.IsVoid(e)?nV(e,t):Df(`Unknown left type operand '${e[te]}'`)}o(gr,"Visit");function ll(e,t){return gr(e,t)}o(ll,"ExtendsCheck");function iV(e,t,r,n,i){let s={};for(let a of globalThis.Object.getOwnPropertyNames(e))s[a]=Rf(e[a],t,r,n,wr(i));return s}o(iV,"FromProperties");function oV(e,t,r,n,i){return iV(e.properties,t,r,n,i)}o(oV,"FromMappedResult");function Gw(e,t,r,n,i){let s=oV(e,t,r,n,i);return Jt(s)}o(Gw,"ExtendsFromMappedResult");function sV(e,t,r,n){let i=ll(e,t);return i===oe.Union?ir([r,n]):i===oe.True?r:n}o(sV,"ExtendsResolve");function Rf(e,t,r,n,i){return Dr(e)?Gw(e,t,r,n,i):ro(e)?ie(zw(e,t,r,n,i)):ie(sV(e,t,r,n),i)}o(Rf,"Extends");function aV(e,t,r,n,i){return{[e]:Rf(Wt(e),t,r,n,wr(i))}}o(aV,"FromPropertyKey");function lV(e,t,r,n,i){return e.reduce((s,a)=>({...s,...aV(a,t,r,n,i)}),{})}o(lV,"FromPropertyKeys");function cV(e,t,r,n,i){return lV(e.keys,t,r,n,i)}o(cV,"FromMappedKey");function zw(e,t,r,n,i){let s=cV(e,t,r,n,i);return Jt(s)}o(zw,"ExtendsFromMappedKey");function uV(e){return e.allOf.every(t=>aa(t))}o(uV,"Intersect");function fV(e){return e.anyOf.some(t=>aa(t))}o(fV,"Union");function dV(e){return!aa(e.not)}o(dV,"Not");function aa(e){return e[te]==="Intersect"?uV(e):e[te]==="Union"?fV(e):e[te]==="Not"?dV(e):e[te]==="Undefined"}o(aa,"ExtendsUndefinedCheck");function Hw(e,t){return Nf(Mc(e),t)}o(Hw,"ExcludeFromTemplateLiteral");function mV(e,t){let r=e.filter(n=>ll(n,t)===oe.False);return r.length===1?r[0]:ir(r)}o(mV,"ExcludeRest");function Nf(e,t,r={}){return no(e)?ie(Hw(e,t),r):Dr(e)?ie(Vw(e,t),r):ie(Vt(e)?mV(e.anyOf,t):ll(e,t)!==oe.False?_t():e,r)}o(Nf,"Exclude");function pV(e,t){let r={};for(let n of globalThis.Object.getOwnPropertyNames(e))r[n]=Nf(e[n],t);return r}o(pV,"FromProperties");function gV(e,t){return pV(e.properties,t)}o(gV,"FromMappedResult");function Vw(e,t){let r=gV(e,t);return Jt(r)}o(Vw,"ExcludeFromMappedResult");function Kw(e,t){return Af(Mc(e),t)}o(Kw,"ExtractFromTemplateLiteral");function hV(e,t){let r=e.filter(n=>ll(n,t)!==oe.False);return r.length===1?r[0]:ir(r)}o(hV,"ExtractRest");function Af(e,t,r){return no(e)?ie(Kw(e,t),r):Dr(e)?ie(Yw(e,t),r):ie(Vt(e)?hV(e.anyOf,t):ll(e,t)!==oe.False?e:_t(),r)}o(Af,"Extract");function xV(e,t){let r={};for(let n of globalThis.Object.getOwnPropertyNames(e))r[n]=Af(e[n],t);return r}o(xV,"FromProperties");function bV(e,t){return xV(e.properties,t)}o(bV,"FromMappedResult");function Yw(e,t){let r=bV(e,t);return Jt(r)}o(Yw,"ExtractFromMappedResult");function Xw(e,t){return xs(e)?ie(e.returns,t):_t(t)}o(Xw,"InstanceType");function y5(e){return Ai(Qn(e))}o(y5,"ReadonlyOptional");function Uc(e,t,r){return ie({[te]:"Record",type:"object",patternProperties:{[e]:t}},r)}o(Uc,"RecordCreateFromPattern");function r6(e,t,r){let n={};for(let i of e)n[i]=t;return or(n,{...r,[ko]:"Record"})}o(r6,"RecordCreateFromKeys");function _V(e,t,r){return s5(e)?r6(Ni(e),t,r):Uc(e.pattern,t,r)}o(_V,"FromTemplateLiteralKey");function yV(e,t,r){return r6(Ni(ir(e)),t,r)}o(yV,"FromUnionKey");function vV(e,t,r){return r6([e.toString()],t,r)}o(vV,"FromLiteralKey");function TV(e,t,r){return Uc(e.source,t,r)}o(TV,"FromRegExpKey");function IV(e,t,r){let n=nn(e.pattern)?Qs:e.pattern;return Uc(n,t,r)}o(IV,"FromStringKey");function EV(e,t,r){return Uc(Qs,t,r)}o(EV,"FromAnyKey");function CV(e,t,r){return Uc(ow,t,r)}o(CV,"FromNeverKey");function SV(e,t,r){return or({true:t,false:t},r)}o(SV,"FromBooleanKey");function wV(e,t,r){return Uc(Zs,t,r)}o(wV,"FromIntegerKey");function PV(e,t,r){return Uc(Zs,t,r)}o(PV,"FromNumberKey");function v5(e,t,r={}){return Vt(e)?yV(e.anyOf,t,r):no(e)?_V(e,t,r):to(e)?vV(e.const,t,r):ta(e)?SV(e,t,r):_s(e)?wV(e,t,r):ys(e)?PV(e,t,r):Lb(e)?TV(e,t,r):ra(e)?IV(e,t,r):kb(e)?EV(e,t,r):il(e)?CV(e,t,r):_t(r)}o(v5,"Record");function T5(e){return globalThis.Object.getOwnPropertyNames(e.patternProperties)[0]}o(T5,"RecordPattern");function Jw(e){let t=T5(e);return t===Qs?xi():t===Zs?Oo():xi({pattern:t})}o(Jw,"RecordKey");function I5(e){return e.patternProperties[T5(e)]}o(I5,"RecordValue");function DV(e,t){return t.parameters=c1(e,t.parameters),t.returns=Is(e,t.returns),t}o(DV,"FromConstructor");function RV(e,t){return t.parameters=c1(e,t.parameters),t.returns=Is(e,t.returns),t}o(RV,"FromFunction");function NV(e,t){return t.allOf=c1(e,t.allOf),t}o(NV,"FromIntersect");function AV(e,t){return t.anyOf=c1(e,t.anyOf),t}o(AV,"FromUnion");function kV(e,t){return nn(t.items)||(t.items=c1(e,t.items)),t}o(kV,"FromTuple");function OV(e,t){return t.items=Is(e,t.items),t}o(OV,"FromArray");function LV(e,t){return t.items=Is(e,t.items),t}o(LV,"FromAsyncIterator");function FV(e,t){return t.items=Is(e,t.items),t}o(FV,"FromIterator");function MV(e,t){return t.item=Is(e,t.item),t}o(MV,"FromPromise");function UV(e,t){let r=qV(e,t.properties);return{...t,...or(r)}}o(UV,"FromObject");function BV(e,t){let r=Is(e,Jw(t)),n=Is(e,I5(t)),i=v5(r,n);return{...t,...i}}o(BV,"FromRecord");function jV(e,t){return t.index in e?e[t.index]:Ts()}o(jV,"FromArgument");function $V(e,t){let r=hf(t),n=Ri(t),i=Is(e,t);return r&&n?y5(i):r&&!n?Ai(i):!r&&n?Qn(i):i}o($V,"FromProperty");function qV(e,t){return globalThis.Object.getOwnPropertyNames(t).reduce((r,n)=>({...r,[n]:$V(e,t[n])}),{})}o(qV,"FromProperties");function c1(e,t){return t.map(r=>Is(e,r))}o(c1,"FromTypes");function Is(e,t){return xs(t)?DV(e,t):bs(t)?RV(e,t):zr(t)?NV(e,t):Vt(t)?AV(e,t):io(t)?kV(e,t):gs(t)?OV(e,t):Nc(t)?LV(e,t):kc(t)?FV(e,t):Oc(t)?MV(e,t):on(t)?UV(e,t):Lc(t)?BV(e,t):Ob(t)?jV(e,t):t}o(Is,"FromType");function Zw(e,t){return Is(t,pf(e))}o(Zw,"Instantiate");function Qw(e){return ie({[te]:"Integer",type:"integer"},e)}o(Qw,"Integer");function WV(e,t,r){return{[e]:Es(Wt(e),t,wr(r))}}o(WV,"MappedIntrinsicPropertyKey");function GV(e,t,r){return e.reduce((i,s)=>({...i,...WV(s,t,r)}),{})}o(GV,"MappedIntrinsicPropertyKeys");function zV(e,t,r){return GV(e.keys,t,r)}o(zV,"MappedIntrinsicProperties");function eP(e,t,r){let n=zV(e,t,r);return Jt(n)}o(eP,"IntrinsicFromMappedKey");function HV(e){let[t,r]=[e.slice(0,1),e.slice(1)];return[t.toLowerCase(),r].join("")}o(HV,"ApplyUncapitalize");function VV(e){let[t,r]=[e.slice(0,1),e.slice(1)];return[t.toUpperCase(),r].join("")}o(VV,"ApplyCapitalize");function KV(e){return e.toUpperCase()}o(KV,"ApplyUppercase");function YV(e){return e.toLowerCase()}o(YV,"ApplyLowercase");function XV(e,t,r){let n=If(e.pattern);if(!Fc(n))return{...e,pattern:tP(e.pattern,t)};let a=[...o1(n)].map(f=>Wt(f)),l=rP(a,t),c=ir(l);return l5([c],r)}o(XV,"FromTemplateLiteral");function tP(e,t){return typeof e=="string"?t==="Uncapitalize"?HV(e):t==="Capitalize"?VV(e):t==="Uppercase"?KV(e):t==="Lowercase"?YV(e):e:e.toString()}o(tP,"FromLiteralValue");function rP(e,t){return e.map(r=>Es(r,t))}o(rP,"FromRest");function Es(e,t,r={}){return ro(e)?eP(e,t,r):no(e)?XV(e,t,r):Vt(e)?ir(rP(e.anyOf,t),r):to(e)?Wt(tP(e.const,t),r):ie(e,r)}o(Es,"Intrinsic");function nP(e,t={}){return Es(e,"Capitalize",t)}o(nP,"Capitalize");function iP(e,t={}){return Es(e,"Lowercase",t)}o(iP,"Lowercase");function oP(e,t={}){return Es(e,"Uncapitalize",t)}o(oP,"Uncapitalize");function sP(e,t={}){return Es(e,"Uppercase",t)}o(sP,"Uppercase");function JV(e,t,r){let n={};for(let i of globalThis.Object.getOwnPropertyNames(e))n[i]=cl(e[i],t,wr(r));return n}o(JV,"FromProperties");function ZV(e,t,r){return JV(e.properties,t,r)}o(ZV,"FromMappedResult");function aP(e,t,r){let n=ZV(e,t,r);return Jt(n)}o(aP,"OmitFromMappedResult");function QV(e,t){return e.map(r=>n6(r,t))}o(QV,"FromIntersect");function eK(e,t){return e.map(r=>n6(r,t))}o(eK,"FromUnion");function tK(e,t){let{[t]:r,...n}=e;return n}o(tK,"FromProperty");function rK(e,t){return t.reduce((r,n)=>tK(r,n),e)}o(rK,"FromProperties");function nK(e,t){let r=Hr(e,[Ur,"$id","required","properties"]),n=rK(e.properties,t);return or(n,r)}o(nK,"FromObject");function iK(e){let t=e.reduce((r,n)=>n5(n)?[...r,Wt(n)]:r,[]);return ir(t)}o(iK,"UnionFromPropertyKeys");function n6(e,t){return zr(e)?ei(QV(e.allOf,t)):Vt(e)?ir(eK(e.anyOf,t)):on(e)?nK(e,t):or({})}o(n6,"OmitResolve");function cl(e,t,r){let n=rn(t)?iK(t):t,i=Br(t)?Ni(t):t,s=Xr(e),a=Xr(t);return Dr(e)?aP(e,i,r):ro(t)?lP(e,t,r):s&&a?Er("Omit",[e,n],r):!s&&a?Er("Omit",[e,n],r):s&&!a?Er("Omit",[e,n],r):ie({...n6(e,i),...r})}o(cl,"Omit");function oK(e,t,r){return{[t]:cl(e,[t],wr(r))}}o(oK,"FromPropertyKey");function sK(e,t,r){return t.reduce((n,i)=>({...n,...oK(e,i,r)}),{})}o(sK,"FromPropertyKeys");function aK(e,t,r){return sK(e,t.keys,r)}o(aK,"FromMappedKey");function lP(e,t,r){let n=aK(e,t,r);return Jt(n)}o(lP,"OmitFromMappedKey");function lK(e,t,r){let n={};for(let i of globalThis.Object.getOwnPropertyNames(e))n[i]=ul(e[i],t,wr(r));return n}o(lK,"FromProperties");function cK(e,t,r){return lK(e.properties,t,r)}o(cK,"FromMappedResult");function cP(e,t,r){let n=cK(e,t,r);return Jt(n)}o(cP,"PickFromMappedResult");function uK(e,t){return e.map(r=>i6(r,t))}o(uK,"FromIntersect");function fK(e,t){return e.map(r=>i6(r,t))}o(fK,"FromUnion");function dK(e,t){let r={};for(let n of t)n in e&&(r[n]=e[n]);return r}o(dK,"FromProperties");function mK(e,t){let r=Hr(e,[Ur,"$id","required","properties"]),n=dK(e.properties,t);return or(n,r)}o(mK,"FromObject");function pK(e){let t=e.reduce((r,n)=>n5(n)?[...r,Wt(n)]:r,[]);return ir(t)}o(pK,"UnionFromPropertyKeys");function i6(e,t){return zr(e)?ei(uK(e.allOf,t)):Vt(e)?ir(fK(e.anyOf,t)):on(e)?mK(e,t):or({})}o(i6,"PickResolve");function ul(e,t,r){let n=rn(t)?pK(t):t,i=Br(t)?Ni(t):t,s=Xr(e),a=Xr(t);return Dr(e)?cP(e,i,r):ro(t)?uP(e,t,r):s&&a?Er("Pick",[e,n],r):!s&&a?Er("Pick",[e,n],r):s&&!a?Er("Pick",[e,n],r):ie({...i6(e,i),...r})}o(ul,"Pick");function gK(e,t,r){return{[t]:ul(e,[t],wr(r))}}o(gK,"FromPropertyKey");function hK(e,t,r){return t.reduce((n,i)=>({...n,...gK(e,i,r)}),{})}o(hK,"FromPropertyKeys");function xK(e,t,r){return hK(e,t.keys,r)}o(xK,"FromMappedKey");function uP(e,t,r){let n=xK(e,t,r);return Jt(n)}o(uP,"PickFromMappedKey");function bK(e,t){return Er("Partial",[Er(e,t)])}o(bK,"FromComputed");function _K(e){return Er("Partial",[Mo(e)])}o(_K,"FromRef");function yK(e){let t={};for(let r of globalThis.Object.getOwnPropertyNames(e))t[r]=Qn(e[r]);return t}o(yK,"FromProperties");function vK(e){let t=Hr(e,[Ur,"$id","required","properties"]),r=yK(e.properties);return or(r,t)}o(vK,"FromObject");function fP(e){return e.map(t=>dP(t))}o(fP,"FromRest");function dP(e){return hs(e)?bK(e.target,e.parameters):Xr(e)?_K(e.$ref):zr(e)?ei(fP(e.allOf)):Vt(e)?ir(fP(e.anyOf)):on(e)?vK(e):Ac(e)||ta(e)||_s(e)||to(e)||Zm(e)||ys(e)||ra(e)||Qm(e)||na(e)?e:or({})}o(dP,"PartialResolve");function kf(e,t){return Dr(e)?mP(e,t):ie({...dP(e),...t})}o(kf,"Partial");function TK(e,t){let r={};for(let n of globalThis.Object.getOwnPropertyNames(e))r[n]=kf(e[n],wr(t));return r}o(TK,"FromProperties");function IK(e,t){return TK(e.properties,t)}o(IK,"FromMappedResult");function mP(e,t){let r=IK(e,t);return Jt(r)}o(mP,"PartialFromMappedResult");function EK(e,t){return Er("Required",[Er(e,t)])}o(EK,"FromComputed");function CK(e){return Er("Required",[Mo(e)])}o(CK,"FromRef");function SK(e){let t={};for(let r of globalThis.Object.getOwnPropertyNames(e))t[r]=Hr(e[r],[$n]);return t}o(SK,"FromProperties");function wK(e){let t=Hr(e,[Ur,"$id","required","properties"]),r=SK(e.properties);return or(r,t)}o(wK,"FromObject");function pP(e){return e.map(t=>gP(t))}o(pP,"FromRest");function gP(e){return hs(e)?EK(e.target,e.parameters):Xr(e)?CK(e.$ref):zr(e)?ei(pP(e.allOf)):Vt(e)?ir(pP(e.anyOf)):on(e)?wK(e):Ac(e)||ta(e)||_s(e)||to(e)||Zm(e)||ys(e)||ra(e)||Qm(e)||na(e)?e:or({})}o(gP,"RequiredResolve");function Of(e,t){return Dr(e)?hP(e,t):ie({...gP(e),...t})}o(Of,"Required");function PK(e,t){let r={};for(let n of globalThis.Object.getOwnPropertyNames(e))r[n]=Of(e[n],t);return r}o(PK,"FromProperties");function DK(e,t){return PK(e.properties,t)}o(DK,"FromMappedResult");function hP(e,t){let r=DK(e,t);return Jt(r)}o(hP,"RequiredFromMappedResult");function RK(e,t){return t.map(r=>Xr(r)?o6(e,r.$ref):oo(e,r))}o(RK,"DereferenceParameters");function o6(e,t){return t in e?Xr(e[t])?o6(e,e[t].$ref):oo(e,e[t]):_t()}o(o6,"Dereference");function NK(e){return wf(e[0])}o(NK,"FromAwaited");function AK(e){return al(e[0],e[1])}o(AK,"FromIndex");function kK(e){return Pf(e[0])}o(kK,"FromKeyOf");function OK(e){return kf(e[0])}o(OK,"FromPartial");function LK(e){return cl(e[0],e[1])}o(LK,"FromOmit");function FK(e){return ul(e[0],e[1])}o(FK,"FromPick");function MK(e){return Of(e[0])}o(MK,"FromRequired");function UK(e,t,r){let n=RK(e,r);return t==="Awaited"?NK(n):t==="Index"?AK(n):t==="KeyOf"?kK(n):t==="Partial"?OK(n):t==="Omit"?LK(n):t==="Pick"?FK(n):t==="Required"?MK(n):_t()}o(UK,"FromComputed");function BK(e,t){return _f(oo(e,t))}o(BK,"FromArray");function jK(e,t){return yf(oo(e,t))}o(jK,"FromAsyncIterator");function $K(e,t,r){return vf(u1(e,t),oo(e,r))}o($K,"FromConstructor");function qK(e,t,r){return e0(u1(e,t),oo(e,r))}o(qK,"FromFunction");function WK(e,t){return ei(u1(e,t))}o(WK,"FromIntersect");function GK(e,t){return Sf(oo(e,t))}o(GK,"FromIterator");function zK(e,t){return or(globalThis.Object.keys(t).reduce((r,n)=>({...r,[n]:oo(e,t[n])}),{}))}o(zK,"FromObject");function HK(e,t){let[r,n]=[oo(e,I5(t)),T5(t)],i=pf(t);return i.patternProperties[n]=r,i}o(HK,"FromRecord");function VK(e,t){return Xr(t)?{...o6(e,t.$ref),[Ur]:t[Ur]}:t}o(VK,"FromTransform");function KK(e,t){return Lo(u1(e,t))}o(KK,"FromTuple");function YK(e,t){return ir(u1(e,t))}o(YK,"FromUnion");function u1(e,t){return t.map(r=>oo(e,r))}o(u1,"FromTypes");function oo(e,t){return Ri(t)?ie(oo(e,Hr(t,[$n])),t):hf(t)?ie(oo(e,Hr(t,[ps])),t):nr(t)?ie(VK(e,t),t):gs(t)?ie(BK(e,t.items),t):Nc(t)?ie(jK(e,t.items),t):hs(t)?ie(UK(e,t.target,t.parameters)):xs(t)?ie($K(e,t.parameters,t.returns),t):bs(t)?ie(qK(e,t.parameters,t.returns),t):zr(t)?ie(WK(e,t.allOf),t):kc(t)?ie(GK(e,t.items),t):on(t)?ie(zK(e,t.properties),t):Lc(t)?ie(HK(e,t)):io(t)?ie(KK(e,t.items||[]),t):Vt(t)?ie(YK(e,t.anyOf),t):t}o(oo,"FromType");function XK(e,t){return t in e?oo(e,e[t]):_t()}o(XK,"ComputeType");function xP(e){return globalThis.Object.getOwnPropertyNames(e).reduce((t,r)=>({...t,[r]:XK(e,r)}),{})}o(xP,"ComputeModuleProperties");var s6=class{static{o(this,"TModule")}constructor(t){let r=xP(t),n=this.WithIdentifiers(r);this.$defs=n}Import(t,r){let n={...this.$defs,[t]:ie(this.$defs[t],r)};return ie({[te]:"Import",$defs:n,$ref:t})}WithIdentifiers(t){return globalThis.Object.getOwnPropertyNames(t).reduce((r,n)=>({...r,[n]:{...t[n],$id:n}}),{})}};function bP(e){return new s6(e)}o(bP,"Module");function _P(e,t){return ie({[te]:"Not",not:e},t)}o(_P,"Not");function yP(e,t){return bs(e)?Lo(e.parameters,t):_t()}o(yP,"Parameters");var JK=0;function vP(e,t={}){nn(t.$id)&&(t.$id=`T${JK++}`);let r=pf(e({[te]:"This",$ref:`${t.$id}`}));return r.$id=t.$id,ie({[ko]:"Recursive",...r},t)}o(vP,"Recursive");function TP(e,t){let r=_r(e)?new globalThis.RegExp(e):e;return ie({[te]:"RegExp",type:"RegExp",source:r.source,flags:r.flags},t)}o(TP,"RegExp");function ZK(e){return zr(e)?e.allOf:Vt(e)?e.anyOf:io(e)?e.items??[]:[]}o(ZK,"RestResolve");function IP(e){return ZK(e)}o(IP,"Rest");function EP(e,t){return bs(e)?ie(e.returns,t):_t(t)}o(EP,"ReturnType");var a6=class{static{o(this,"TransformDecodeBuilder")}constructor(t){this.schema=t}Decode(t){return new l6(this.schema,t)}},l6=class{static{o(this,"TransformEncodeBuilder")}constructor(t,r){this.schema=t,this.decode=r}EncodeTransform(t,r){let s={Encode:o(a=>r[Ur].Encode(t(a)),"Encode"),Decode:o(a=>this.decode(r[Ur].Decode(a)),"Decode")};return{...r,[Ur]:s}}EncodeSchema(t,r){let n={Decode:this.decode,Encode:t};return{...r,[Ur]:n}}Encode(t){return nr(this.schema)?this.EncodeTransform(t,this.schema):this.EncodeSchema(t,this.schema)}};function CP(e){return new a6(e)}o(CP,"Transform");function SP(e={}){return ie({[te]:e[te]??"Unsafe"},e)}o(SP,"Unsafe");function wP(e){return ie({[te]:"Void",type:"void"},e)}o(wP,"Void");var c6={};Vs(c6,{Any:()=>sl,Argument:()=>uw,Array:()=>_f,AsyncIterator:()=>yf,Awaited:()=>wf,BigInt:()=>Cf,Boolean:()=>a5,Capitalize:()=>nP,Composite:()=>Dw,Const:()=>Rw,Constructor:()=>vf,ConstructorParameters:()=>Nw,Date:()=>d5,Enum:()=>Aw,Exclude:()=>Nf,Extends:()=>Rf,Extract:()=>Af,Function:()=>e0,Index:()=>al,InstanceType:()=>Xw,Instantiate:()=>Zw,Integer:()=>Qw,Intersect:()=>ei,Iterator:()=>Sf,KeyOf:()=>Pf,Literal:()=>Wt,Lowercase:()=>iP,Mapped:()=>Iw,Module:()=>bP,Never:()=>_t,Not:()=>_P,Null:()=>m5,Number:()=>Oo,Object:()=>or,Omit:()=>cl,Optional:()=>Qn,Parameters:()=>yP,Partial:()=>kf,Pick:()=>ul,Promise:()=>u5,Readonly:()=>Ai,ReadonlyOptional:()=>y5,Record:()=>v5,Recursive:()=>vP,Ref:()=>Mo,RegExp:()=>TP,Required:()=>Of,Rest:()=>IP,ReturnType:()=>EP,String:()=>xi,Symbol:()=>p5,TemplateLiteral:()=>l5,Transform:()=>CP,Tuple:()=>Lo,Uint8Array:()=>h5,Uncapitalize:()=>oP,Undefined:()=>g5,Union:()=>ir,Unknown:()=>Ts,Unsafe:()=>SP,Uppercase:()=>sP,Void:()=>wP});var B=c6;var w_e=10*60*1e3,f1={Gpt35turbo:"gpt-3.5-turbo",Gpt4:"gpt-4",Gpt4turbo:"gpt-4-turbo",Gpt4o:"gpt-4o",Gpt4oMini:"gpt-4o-mini",O1Mini:"o1-mini",O1Ga:"o1-ga",Claude35Sonnet:"claude-3.5-sonnet",O3Mini:"o3-mini",Gemini20Flash:"gemini-2.0-flash",Gemini20Pro:"gemini-2.0-pro",Claude37Sonnet:"claude-3.7-sonnet",Claude37SonnetThought:"claude-3.7-sonnet-thought",Gpt45:"gpt-4.5",Gpt41:"gpt-4.1",CopilotBase:"copilot-base",Unknown:"unknown"},P_e=new Set([f1.O1Ga,f1.O3Mini,f1.O1Mini,f1.Gemini20Pro,f1.Gemini20Flash]);var QK=B.Object({type:B.Union([B.Literal("chat"),B.Literal("embeddings"),B.Literal("completion")]),tokenizer:B.String(),family:B.String(),object:B.String(),supports:B.Optional(B.Object({tool_calls:B.Optional(B.Boolean()),parallel_tool_calls:B.Optional(B.Boolean()),streaming:B.Optional(B.Boolean()),vision:B.Optional(B.Boolean())})),limits:B.Optional(B.Object({max_inputs:B.Optional(B.Number()),max_prompt_tokens:B.Optional(B.Number()),max_output_tokens:B.Optional(B.Number()),max_context_window_tokens:B.Optional(B.Number())}))}),eY=B.Object({id:B.String(),name:B.String(),version:B.String(),model_picker_enabled:B.Boolean(),is_chat_default:B.Optional(B.Boolean()),is_chat_fallback:B.Optional(B.Boolean()),capabilities:QK,billing:B.Optional(B.Object({is_premium:B.Optional(B.Boolean()),multiplier:B.Optional(B.Number())})),object:B.String(),preview:B.Optional(B.Boolean()),isExperimental:B.Optional(B.Boolean()),policy:B.Optional(B.Object({state:B.String(),terms:B.String()}))}),PP=B.Object({data:B.Array(eY)});function d1(e){let t=It(e,_e.UserSelectedCompletionModel);return typeof t=="string"&&t.length>0?t:null}o(d1,"getUserSelectedModelConfiguration");var Lf=class extends Error{constructor(r,n){super(r,{cause:n});this.code="CopilotPromptLoadFailure"}static{o(this,"CopilotPromptLoadFailure")}};var E5=Tt(require("vscode"));async function C5(e){return await E5.default.workspace.fs.readFile(RP(e))}o(C5,"readFile");function DP(e){return RP(e).toString()}o(DP,"locateFile");function RP(e){let{extensionUri:t}=E5.default.extensions.getExtension("github.copilot");return E5.default.Uri.joinPath(t,"dist",e)}o(RP,"remoteUri");var Ff=Tt(GP());var N5=new Map;function Mf(e="o200k_base"){let t=N5.get(e);return t!==void 0||(t=N5.get("o200k_base"),t!==void 0)?t:new A5}o(Mf,"getTokenizer");async function hY(e){if(!e.endsWith(".tiktoken.noindex"))throw new Error("File does not end with .tiktoken.noindex");let t=await C5(e),r=new Map,n=[];for(let i=0;i<t.length;i++){if(t[i]!==255||n.length===0){n.push(t[i]);continue}r.set(Uint8Array.from(n),r.size),n=[]}return r.set(Uint8Array.from(n),r.size),r}o(hY,"parseTikTokenNoIndex");var y6=class e{constructor(t){this._tokenizer=t}static{o(this,"TTokenizer")}static async create(t){try{let r=(0,Ff.createTokenizer)(await hY(`resources/${t}.tiktoken.noindex`),(0,Ff.getSpecialTokensByEncoder)(t),(0,Ff.getRegexByEncoder)(t),32768);return new e(r)}catch(r){throw r instanceof Error?new Lf("Could not load tokenizer",r):r}}tokenize(t){return this._tokenizer.encode(t)}detokenize(t){return this._tokenizer.decode(t)}tokenLength(t){return this.tokenize(t).length}tokenizeStrings(t){return this.tokenize(t).map(n=>this.detokenize([n]))}takeLastTokens(t,r){if(r<=0)return{text:"",tokens:[]};let n=4,i=1,s=Math.min(t.length,r*n),a=t.slice(-s),l=this.tokenize(a);for(;l.length<r+2&&s<t.length;)s=Math.min(t.length,s+r*i),a=t.slice(-s),l=this.tokenize(a);return l.length<r?{text:t,tokens:l}:(l=l.slice(-r),{text:this.detokenize(l),tokens:l})}takeFirstTokens(t,r){if(r<=0)return{text:"",tokens:[]};let n=4,i=1,s=Math.min(t.length,r*n),a=t.slice(0,s),l=this.tokenize(a);for(;l.length<r+2&&s<t.length;)s=Math.min(t.length,s+r*i),a=t.slice(0,s),l=this.tokenize(a);return l.length<r?{text:t,tokens:l}:(l=l.slice(0,r),{text:this.detokenize(l),tokens:l})}takeLastLinesTokens(t,r){let{text:n}=this.takeLastTokens(t,r);if(n.length===t.length||t[t.length-n.length-1]===`
`)return n;let i=n.indexOf(`
`);return n.substring(i+1)}},v6=class{constructor(){this.hash=o(t=>{let r=0;for(let n=0;n<t.length;n++){let i=t.charCodeAt(n);r=(r<<5)-r+i,r&=r&65535}return r},"hash")}static{o(this,"MockTokenizer")}tokenize(t){return this.tokenizeStrings(t).map(this.hash)}detokenize(t){return t.map(r=>r.toString()).join(" ")}tokenizeStrings(t){return t.split(/\b/)}tokenLength(t){return this.tokenizeStrings(t).length}takeLastTokens(t,r){let n=this.tokenizeStrings(t).slice(-r);return{text:n.join(""),tokens:n.map(this.hash)}}takeFirstTokens(t,r){let n=this.tokenizeStrings(t).slice(0,r);return{text:n.join(""),tokens:n.map(this.hash)}}takeLastLinesTokens(t,r){let{text:n}=this.takeLastTokens(t,r);if(n.length===t.length||t[t.length-n.length-1]===`
`)return n;let i=n.indexOf(`
`);return n.substring(i+1)}},xY={cl100k_base:{python:3.99,typescript:4.54,typescriptreact:4.58,javascript:4.76,csharp:5.13,java:4.86,cpp:3.85,php:4.1,html:4.57,vue:4.22,go:3.93,dart:5.66,javascriptreact:4.81,css:3.37},o200k_base:{python:4.05,typescript:4.12,typescriptreact:5.01,javascript:4.47,csharp:5.47,java:4.86,cpp:3.8,php:4.35,html:4.86,vue:4.3,go:4.21,dart:5.7,javascriptreact:4.83,css:3.33}},_6=4,A5=class{constructor(t="o200k_base",r){this.languageId=r;this.tokenizerName=t}static{o(this,"ApproximateTokenizer")}tokenize(t){return this.tokenizeStrings(t).map(r=>{let n=0;for(let i=0;i<r.length;i++)n=n*Math.pow(10,_6)+r.charCodeAt(i);return n})}detokenize(t){return t.map(r=>{let n=[],i=r.toString();for(;i.length>0;){let s=i.slice(-_6),a=String.fromCharCode(parseInt(s));n.unshift(a),i=i.slice(0,-_6)}return n.join("")}).join("")}tokenizeStrings(t){return t.match(/.{1,4}/g)??[]}getEffectiveTokenLength(){return this.tokenizerName&&this.languageId?xY[this.tokenizerName]?.[this.languageId]??4:4}tokenLength(t){return Math.ceil(t.length/this.getEffectiveTokenLength())}takeLastTokens(t,r){if(r<=0)return{text:"",tokens:[]};let n=t.slice(-Math.floor(r*this.getEffectiveTokenLength()));return{text:n,tokens:Array.from({length:this.tokenLength(n)},(i,s)=>s)}}takeFirstTokens(t,r){if(r<=0)return{text:"",tokens:[]};let n=t.slice(0,Math.floor(r*this.getEffectiveTokenLength()));return{text:n,tokens:Array.from({length:this.tokenLength(n)},(i,s)=>s)}}takeLastLinesTokens(t,r){let{text:n}=this.takeLastTokens(t,r);if(n.length===t.length||t[t.length-n.length-1]===`
`)return n;let i=n.indexOf(`
`);return n.substring(i+1)}};async function zP(e){try{let t=await y6.create(e);N5.set(e,t)}catch{}}o(zP,"setTokenizer");var k5=(async()=>{N5.set("mock",new v6),await Promise.all([zP("cl100k_base"),zP("o200k_base")])})();function bY(e){switch(e.errorType){case ee.ArrayContains:return"Expected array to contain at least one matching value";case ee.ArrayMaxContains:return`Expected array to contain no more than ${e.schema.maxContains} matching values`;case ee.ArrayMinContains:return`Expected array to contain at least ${e.schema.minContains} matching values`;case ee.ArrayMaxItems:return`Expected array length to be less or equal to ${e.schema.maxItems}`;case ee.ArrayMinItems:return`Expected array length to be greater or equal to ${e.schema.minItems}`;case ee.ArrayUniqueItems:return"Expected array elements to be unique";case ee.Array:return"Expected array";case ee.AsyncIterator:return"Expected AsyncIterator";case ee.BigIntExclusiveMaximum:return`Expected bigint to be less than ${e.schema.exclusiveMaximum}`;case ee.BigIntExclusiveMinimum:return`Expected bigint to be greater than ${e.schema.exclusiveMinimum}`;case ee.BigIntMaximum:return`Expected bigint to be less or equal to ${e.schema.maximum}`;case ee.BigIntMinimum:return`Expected bigint to be greater or equal to ${e.schema.minimum}`;case ee.BigIntMultipleOf:return`Expected bigint to be a multiple of ${e.schema.multipleOf}`;case ee.BigInt:return"Expected bigint";case ee.Boolean:return"Expected boolean";case ee.DateExclusiveMinimumTimestamp:return`Expected Date timestamp to be greater than ${e.schema.exclusiveMinimumTimestamp}`;case ee.DateExclusiveMaximumTimestamp:return`Expected Date timestamp to be less than ${e.schema.exclusiveMaximumTimestamp}`;case ee.DateMinimumTimestamp:return`Expected Date timestamp to be greater or equal to ${e.schema.minimumTimestamp}`;case ee.DateMaximumTimestamp:return`Expected Date timestamp to be less or equal to ${e.schema.maximumTimestamp}`;case ee.DateMultipleOfTimestamp:return`Expected Date timestamp to be a multiple of ${e.schema.multipleOfTimestamp}`;case ee.Date:return"Expected Date";case ee.Function:return"Expected function";case ee.IntegerExclusiveMaximum:return`Expected integer to be less than ${e.schema.exclusiveMaximum}`;case ee.IntegerExclusiveMinimum:return`Expected integer to be greater than ${e.schema.exclusiveMinimum}`;case ee.IntegerMaximum:return`Expected integer to be less or equal to ${e.schema.maximum}`;case ee.IntegerMinimum:return`Expected integer to be greater or equal to ${e.schema.minimum}`;case ee.IntegerMultipleOf:return`Expected integer to be a multiple of ${e.schema.multipleOf}`;case ee.Integer:return"Expected integer";case ee.IntersectUnevaluatedProperties:return"Unexpected property";case ee.Intersect:return"Expected all values to match";case ee.Iterator:return"Expected Iterator";case ee.Literal:return`Expected ${typeof e.schema.const=="string"?`'${e.schema.const}'`:e.schema.const}`;case ee.Never:return"Never";case ee.Not:return"Value should not match";case ee.Null:return"Expected null";case ee.NumberExclusiveMaximum:return`Expected number to be less than ${e.schema.exclusiveMaximum}`;case ee.NumberExclusiveMinimum:return`Expected number to be greater than ${e.schema.exclusiveMinimum}`;case ee.NumberMaximum:return`Expected number to be less or equal to ${e.schema.maximum}`;case ee.NumberMinimum:return`Expected number to be greater or equal to ${e.schema.minimum}`;case ee.NumberMultipleOf:return`Expected number to be a multiple of ${e.schema.multipleOf}`;case ee.Number:return"Expected number";case ee.Object:return"Expected object";case ee.ObjectAdditionalProperties:return"Unexpected property";case ee.ObjectMaxProperties:return`Expected object to have no more than ${e.schema.maxProperties} properties`;case ee.ObjectMinProperties:return`Expected object to have at least ${e.schema.minProperties} properties`;case ee.ObjectRequiredProperty:return"Expected required property";case ee.Promise:return"Expected Promise";case ee.RegExp:return"Expected string to match regular expression";case ee.StringFormatUnknown:return`Unknown format '${e.schema.format}'`;case ee.StringFormat:return`Expected string to match '${e.schema.format}' format`;case ee.StringMaxLength:return`Expected string length less or equal to ${e.schema.maxLength}`;case ee.StringMinLength:return`Expected string length greater or equal to ${e.schema.minLength}`;case ee.StringPattern:return`Expected string to match '${e.schema.pattern}'`;case ee.String:return"Expected string";case ee.Symbol:return"Expected symbol";case ee.TupleLength:return`Expected tuple to have ${e.schema.maxItems||0} elements`;case ee.Tuple:return"Expected tuple";case ee.Uint8ArrayMaxByteLength:return`Expected byte length less or equal to ${e.schema.maxByteLength}`;case ee.Uint8ArrayMinByteLength:return`Expected byte length greater or equal to ${e.schema.minByteLength}`;case ee.Uint8Array:return"Expected Uint8Array";case ee.Undefined:return"Expected undefined";case ee.Union:return"Expected union value";case ee.Void:return"Expected void";case ee.Kind:return`Expected kind '${e.schema[te]}'`;default:return"Unknown error type"}}o(bY,"DefaultErrorFunction");var _Y=bY;function HP(){return _Y}o(HP,"GetErrorFunction");var T6=class extends at{static{o(this,"TypeDereferenceError")}constructor(t){super(`Unable to dereference schema with $id '${t.$ref}'`),this.schema=t}};function yY(e,t){let r=t.find(n=>n.$id===e.$ref);if(r===void 0)throw new T6(e);return Zt(r,t)}o(yY,"Resolve");function Rn(e,t){return!Ht(e.$id)||t.some(r=>r.$id===e.$id)||t.push(e),t}o(Rn,"Pushref");function Zt(e,t){return e[te]==="This"||e[te]==="Ref"?yY(e,t):e}o(Zt,"Deref");var I6=class extends at{static{o(this,"ValueHashError")}constructor(t){super("Unable to hash value"),this.value=t}},so;(function(e){e[e.Undefined=0]="Undefined",e[e.Null=1]="Null",e[e.Boolean=2]="Boolean",e[e.Number=3]="Number",e[e.String=4]="String",e[e.Object=5]="Object",e[e.Array=6]="Array",e[e.Date=7]="Date",e[e.Uint8Array=8]="Uint8Array",e[e.Symbol=9]="Symbol",e[e.BigInt=10]="BigInt"})(so||(so={}));var Uf=BigInt("14695981039346656037"),[vY,TY]=[BigInt("1099511628211"),BigInt("18446744073709551616")],IY=Array.from({length:256}).map((e,t)=>BigInt(t)),VP=new Float64Array(1),KP=new DataView(VP.buffer),YP=new Uint8Array(VP.buffer);function*EY(e){let t=e===0?1:Math.ceil(Math.floor(Math.log2(e)+1)/8);for(let r=0;r<t;r++)yield e>>8*(t-1-r)&255}o(EY,"NumberToBytes");function CY(e){ri(so.Array);for(let t of e)Bf(t)}o(CY,"ArrayType");function SY(e){ri(so.Boolean),ri(e?1:0)}o(SY,"BooleanType");function wY(e){ri(so.BigInt),KP.setBigInt64(0,e);for(let t of YP)ri(t)}o(wY,"BigIntType");function PY(e){ri(so.Date),Bf(e.getTime())}o(PY,"DateType");function DY(e){ri(so.Null)}o(DY,"NullType");function RY(e){ri(so.Number),KP.setFloat64(0,e);for(let t of YP)ri(t)}o(RY,"NumberType");function NY(e){ri(so.Object);for(let t of globalThis.Object.getOwnPropertyNames(e).sort())Bf(t),Bf(e[t])}o(NY,"ObjectType");function AY(e){ri(so.String);for(let t=0;t<e.length;t++)for(let r of EY(e.charCodeAt(t)))ri(r)}o(AY,"StringType");function kY(e){ri(so.Symbol),Bf(e.description)}o(kY,"SymbolType");function OY(e){ri(so.Uint8Array);for(let t=0;t<e.length;t++)ri(e[t])}o(OY,"Uint8ArrayType");function LY(e){return ri(so.Undefined)}o(LY,"UndefinedType");function Bf(e){if(st(e))return CY(e);if(Js(e))return SY(e);if(jn(e))return wY(e);if(gi(e))return PY(e);if(Q0(e))return DY(e);if(ze(e))return RY(e);if(Et(e))return NY(e);if(Ht(e))return AY(e);if(ea(e))return kY(e);if(gf(e))return OY(e);if(Pr(e))return LY(e);throw new I6(e)}o(Bf,"Visit");function ri(e){Uf=Uf^IY[e],Uf=Uf*vY%TY}o(ri,"FNV1A64");function dl(e){return Uf=BigInt("14695981039346656037"),Bf(e),Uf}o(dl,"Hash");var E6=class extends at{static{o(this,"ValueCheckUnknownTypeError")}constructor(t){super("Unknown type"),this.schema=t}};function FY(e){return e[te]==="Any"||e[te]==="Unknown"}o(FY,"IsAnyOrUnknown");function Ft(e){return e!==void 0}o(Ft,"IsDefined");function MY(e,t,r){return!0}o(MY,"FromAny");function UY(e,t,r){return!0}o(UY,"FromArgument");function BY(e,t,r){if(!st(r)||Ft(e.minItems)&&!(r.length>=e.minItems)||Ft(e.maxItems)&&!(r.length<=e.maxItems)||!r.every(s=>Nn(e.items,t,s))||e.uniqueItems===!0&&!function(){let s=new Set;for(let a of r){let l=dl(a);if(s.has(l))return!1;s.add(l)}return!0}())return!1;if(!(Ft(e.contains)||ze(e.minContains)||ze(e.maxContains)))return!0;let n=Ft(e.contains)?e.contains:_t(),i=r.reduce((s,a)=>Nn(n,t,a)?s+1:s,0);return!(i===0||ze(e.minContains)&&i<e.minContains||ze(e.maxContains)&&i>e.maxContains)}o(BY,"FromArray");function jY(e,t,r){return Qh(r)}o(jY,"FromAsyncIterator");function $Y(e,t,r){return!(!jn(r)||Ft(e.exclusiveMaximum)&&!(r<e.exclusiveMaximum)||Ft(e.exclusiveMinimum)&&!(r>e.exclusiveMinimum)||Ft(e.maximum)&&!(r<=e.maximum)||Ft(e.minimum)&&!(r>=e.minimum)||Ft(e.multipleOf)&&r%e.multipleOf!==BigInt(0))}o($Y,"FromBigInt");function qY(e,t,r){return Js(r)}o(qY,"FromBoolean");function WY(e,t,r){return Nn(e.returns,t,r.prototype)}o(WY,"FromConstructor");function GY(e,t,r){return!(!gi(r)||Ft(e.exclusiveMaximumTimestamp)&&!(r.getTime()<e.exclusiveMaximumTimestamp)||Ft(e.exclusiveMinimumTimestamp)&&!(r.getTime()>e.exclusiveMinimumTimestamp)||Ft(e.maximumTimestamp)&&!(r.getTime()<=e.maximumTimestamp)||Ft(e.minimumTimestamp)&&!(r.getTime()>=e.minimumTimestamp)||Ft(e.multipleOfTimestamp)&&r.getTime()%e.multipleOfTimestamp!==0)}o(GY,"FromDate");function zY(e,t,r){return nl(r)}o(zY,"FromFunction");function HY(e,t,r){let n=globalThis.Object.values(e.$defs),i=e.$defs[e.$ref];return Nn(i,[...t,...n],r)}o(HY,"FromImport");function VY(e,t,r){return!(!r5(r)||Ft(e.exclusiveMaximum)&&!(r<e.exclusiveMaximum)||Ft(e.exclusiveMinimum)&&!(r>e.exclusiveMinimum)||Ft(e.maximum)&&!(r<=e.maximum)||Ft(e.minimum)&&!(r>=e.minimum)||Ft(e.multipleOf)&&r%e.multipleOf!==0)}o(VY,"FromInteger");function KY(e,t,r){let n=e.allOf.every(i=>Nn(i,t,r));if(e.unevaluatedProperties===!1){let i=new RegExp(sa(e)),s=Object.getOwnPropertyNames(r).every(a=>i.test(a));return n&&s}else if(Br(e.unevaluatedProperties)){let i=new RegExp(sa(e)),s=Object.getOwnPropertyNames(r).every(a=>i.test(a)||Nn(e.unevaluatedProperties,t,r[a]));return n&&s}else return n}o(KY,"FromIntersect");function YY(e,t,r){return e5(r)}o(YY,"FromIterator");function XY(e,t,r){return r===e.const}o(XY,"FromLiteral");function JY(e,t,r){return!1}o(JY,"FromNever");function ZY(e,t,r){return!Nn(e.not,t,r)}o(ZY,"FromNot");function QY(e,t,r){return Q0(r)}o(QY,"FromNull");function eX(e,t,r){return!(!Ir.IsNumberLike(r)||Ft(e.exclusiveMaximum)&&!(r<e.exclusiveMaximum)||Ft(e.exclusiveMinimum)&&!(r>e.exclusiveMinimum)||Ft(e.minimum)&&!(r>=e.minimum)||Ft(e.maximum)&&!(r<=e.maximum)||Ft(e.multipleOf)&&r%e.multipleOf!==0)}o(eX,"FromNumber");function tX(e,t,r){if(!Ir.IsObjectLike(r)||Ft(e.minProperties)&&!(Object.getOwnPropertyNames(r).length>=e.minProperties)||Ft(e.maxProperties)&&!(Object.getOwnPropertyNames(r).length<=e.maxProperties))return!1;let n=Object.getOwnPropertyNames(e.properties);for(let i of n){let s=e.properties[i];if(e.required&&e.required.includes(i)){if(!Nn(s,t,r[i])||(aa(s)||FY(s))&&!(i in r))return!1}else if(Ir.IsExactOptionalProperty(r,i)&&!Nn(s,t,r[i]))return!1}if(e.additionalProperties===!1){let i=Object.getOwnPropertyNames(r);return e.required&&e.required.length===n.length&&i.length===n.length?!0:i.every(s=>n.includes(s))}else return typeof e.additionalProperties=="object"?Object.getOwnPropertyNames(r).every(s=>n.includes(s)||Nn(e.additionalProperties,t,r[s])):!0}o(tX,"FromObject");function rX(e,t,r){return t5(r)}o(rX,"FromPromise");function nX(e,t,r){if(!Ir.IsRecordLike(r)||Ft(e.minProperties)&&!(Object.getOwnPropertyNames(r).length>=e.minProperties)||Ft(e.maxProperties)&&!(Object.getOwnPropertyNames(r).length<=e.maxProperties))return!1;let[n,i]=Object.entries(e.patternProperties)[0],s=new RegExp(n),a=Object.entries(r).every(([f,u])=>s.test(f)?Nn(i,t,u):!0),l=typeof e.additionalProperties=="object"?Object.entries(r).every(([f,u])=>s.test(f)?!0:Nn(e.additionalProperties,t,u)):!0,c=e.additionalProperties===!1?Object.getOwnPropertyNames(r).every(f=>s.test(f)):!0;return a&&l&&c}o(nX,"FromRecord");function iX(e,t,r){return Nn(Zt(e,t),t,r)}o(iX,"FromRef");function oX(e,t,r){let n=new RegExp(e.source,e.flags);return Ft(e.minLength)&&!(r.length>=e.minLength)||Ft(e.maxLength)&&!(r.length<=e.maxLength)?!1:n.test(r)}o(oX,"FromRegExp");function sX(e,t,r){return!Ht(r)||Ft(e.minLength)&&!(r.length>=e.minLength)||Ft(e.maxLength)&&!(r.length<=e.maxLength)||Ft(e.pattern)&&!new RegExp(e.pattern).test(r)?!1:Ft(e.format)?vs.Has(e.format)?vs.Get(e.format)(r):!1:!0}o(sX,"FromString");function aX(e,t,r){return ea(r)}o(aX,"FromSymbol");function lX(e,t,r){return Ht(r)&&new RegExp(e.pattern).test(r)}o(lX,"FromTemplateLiteral");function cX(e,t,r){return Nn(Zt(e,t),t,r)}o(cX,"FromThis");function uX(e,t,r){if(!st(r)||e.items===void 0&&r.length!==0||r.length!==e.maxItems)return!1;if(!e.items)return!0;for(let n=0;n<e.items.length;n++)if(!Nn(e.items[n],t,r[n]))return!1;return!0}o(uX,"FromTuple");function fX(e,t,r){return Pr(r)}o(fX,"FromUndefined");function dX(e,t,r){return e.anyOf.some(n=>Nn(n,t,r))}o(dX,"FromUnion");function mX(e,t,r){return!(!gf(r)||Ft(e.maxByteLength)&&!(r.length<=e.maxByteLength)||Ft(e.minByteLength)&&!(r.length>=e.minByteLength))}o(mX,"FromUint8Array");function pX(e,t,r){return!0}o(pX,"FromUnknown");function gX(e,t,r){return Ir.IsVoidLike(r)}o(gX,"FromVoid");function hX(e,t,r){return hi.Has(e[te])?hi.Get(e[te])(e,r):!1}o(hX,"FromKind");function Nn(e,t,r){let n=Ft(e.$id)?Rn(e,t):t,i=e;switch(i[te]){case"Any":return MY(i,n,r);case"Argument":return UY(i,n,r);case"Array":return BY(i,n,r);case"AsyncIterator":return jY(i,n,r);case"BigInt":return $Y(i,n,r);case"Boolean":return qY(i,n,r);case"Constructor":return WY(i,n,r);case"Date":return GY(i,n,r);case"Function":return zY(i,n,r);case"Import":return HY(i,n,r);case"Integer":return VY(i,n,r);case"Intersect":return KY(i,n,r);case"Iterator":return YY(i,n,r);case"Literal":return XY(i,n,r);case"Never":return JY(i,n,r);case"Not":return ZY(i,n,r);case"Null":return QY(i,n,r);case"Number":return eX(i,n,r);case"Object":return tX(i,n,r);case"Promise":return rX(i,n,r);case"Record":return nX(i,n,r);case"Ref":return iX(i,n,r);case"RegExp":return oX(i,n,r);case"String":return sX(i,n,r);case"Symbol":return aX(i,n,r);case"TemplateLiteral":return lX(i,n,r);case"This":return cX(i,n,r);case"Tuple":return uX(i,n,r);case"Undefined":return fX(i,n,r);case"Union":return dX(i,n,r);case"Uint8Array":return mX(i,n,r);case"Unknown":return pX(i,n,r);case"Void":return gX(i,n,r);default:if(!hi.Has(i[te]))throw new E6(i);return hX(i,n,r)}}o(Nn,"Visit");function wt(...e){return e.length===3?Nn(e[0],e[1],e[2]):Nn(e[0],[],e[1])}o(wt,"Check");var ee;(function(e){e[e.ArrayContains=0]="ArrayContains",e[e.ArrayMaxContains=1]="ArrayMaxContains",e[e.ArrayMaxItems=2]="ArrayMaxItems",e[e.ArrayMinContains=3]="ArrayMinContains",e[e.ArrayMinItems=4]="ArrayMinItems",e[e.ArrayUniqueItems=5]="ArrayUniqueItems",e[e.Array=6]="Array",e[e.AsyncIterator=7]="AsyncIterator",e[e.BigIntExclusiveMaximum=8]="BigIntExclusiveMaximum",e[e.BigIntExclusiveMinimum=9]="BigIntExclusiveMinimum",e[e.BigIntMaximum=10]="BigIntMaximum",e[e.BigIntMinimum=11]="BigIntMinimum",e[e.BigIntMultipleOf=12]="BigIntMultipleOf",e[e.BigInt=13]="BigInt",e[e.Boolean=14]="Boolean",e[e.DateExclusiveMaximumTimestamp=15]="DateExclusiveMaximumTimestamp",e[e.DateExclusiveMinimumTimestamp=16]="DateExclusiveMinimumTimestamp",e[e.DateMaximumTimestamp=17]="DateMaximumTimestamp",e[e.DateMinimumTimestamp=18]="DateMinimumTimestamp",e[e.DateMultipleOfTimestamp=19]="DateMultipleOfTimestamp",e[e.Date=20]="Date",e[e.Function=21]="Function",e[e.IntegerExclusiveMaximum=22]="IntegerExclusiveMaximum",e[e.IntegerExclusiveMinimum=23]="IntegerExclusiveMinimum",e[e.IntegerMaximum=24]="IntegerMaximum",e[e.IntegerMinimum=25]="IntegerMinimum",e[e.IntegerMultipleOf=26]="IntegerMultipleOf",e[e.Integer=27]="Integer",e[e.IntersectUnevaluatedProperties=28]="IntersectUnevaluatedProperties",e[e.Intersect=29]="Intersect",e[e.Iterator=30]="Iterator",e[e.Kind=31]="Kind",e[e.Literal=32]="Literal",e[e.Never=33]="Never",e[e.Not=34]="Not",e[e.Null=35]="Null",e[e.NumberExclusiveMaximum=36]="NumberExclusiveMaximum",e[e.NumberExclusiveMinimum=37]="NumberExclusiveMinimum",e[e.NumberMaximum=38]="NumberMaximum",e[e.NumberMinimum=39]="NumberMinimum",e[e.NumberMultipleOf=40]="NumberMultipleOf",e[e.Number=41]="Number",e[e.ObjectAdditionalProperties=42]="ObjectAdditionalProperties",e[e.ObjectMaxProperties=43]="ObjectMaxProperties",e[e.ObjectMinProperties=44]="ObjectMinProperties",e[e.ObjectRequiredProperty=45]="ObjectRequiredProperty",e[e.Object=46]="Object",e[e.Promise=47]="Promise",e[e.RegExp=48]="RegExp",e[e.StringFormatUnknown=49]="StringFormatUnknown",e[e.StringFormat=50]="StringFormat",e[e.StringMaxLength=51]="StringMaxLength",e[e.StringMinLength=52]="StringMinLength",e[e.StringPattern=53]="StringPattern",e[e.String=54]="String",e[e.Symbol=55]="Symbol",e[e.TupleLength=56]="TupleLength",e[e.Tuple=57]="Tuple",e[e.Uint8ArrayMaxByteLength=58]="Uint8ArrayMaxByteLength",e[e.Uint8ArrayMinByteLength=59]="Uint8ArrayMinByteLength",e[e.Uint8Array=60]="Uint8Array",e[e.Undefined=61]="Undefined",e[e.Union=62]="Union",e[e.Void=63]="Void"})(ee||(ee={}));var C6=class extends at{static{o(this,"ValueErrorsUnknownTypeError")}constructor(t){super("Unknown type"),this.schema=t}};function la(e){return e.replace(/~/g,"~0").replace(/\//g,"~1")}o(la,"EscapeKey");function Mt(e){return e!==void 0}o(Mt,"IsDefined");var ml=class{static{o(this,"ValueErrorIterator")}constructor(t){this.iterator=t}[Symbol.iterator](){return this.iterator}First(){let t=this.iterator.next();return t.done?void 0:t.value}};function Pe(e,t,r,n,i=[]){return{type:e,schema:t,path:r,value:n,message:HP()({errorType:e,path:r,schema:t,value:n,errors:i}),errors:i}}o(Pe,"Create");function*xX(e,t,r,n){}o(xX,"FromAny");function*bX(e,t,r,n){}o(bX,"FromArgument");function*_X(e,t,r,n){if(!st(n))return yield Pe(ee.Array,e,r,n);Mt(e.minItems)&&!(n.length>=e.minItems)&&(yield Pe(ee.ArrayMinItems,e,r,n)),Mt(e.maxItems)&&!(n.length<=e.maxItems)&&(yield Pe(ee.ArrayMaxItems,e,r,n));for(let a=0;a<n.length;a++)yield*An(e.items,t,`${r}/${a}`,n[a]);if(e.uniqueItems===!0&&!function(){let a=new Set;for(let l of n){let c=dl(l);if(a.has(c))return!1;a.add(c)}return!0}()&&(yield Pe(ee.ArrayUniqueItems,e,r,n)),!(Mt(e.contains)||Mt(e.minContains)||Mt(e.maxContains)))return;let i=Mt(e.contains)?e.contains:_t(),s=n.reduce((a,l,c)=>An(i,t,`${r}${c}`,l).next().done===!0?a+1:a,0);s===0&&(yield Pe(ee.ArrayContains,e,r,n)),ze(e.minContains)&&s<e.minContains&&(yield Pe(ee.ArrayMinContains,e,r,n)),ze(e.maxContains)&&s>e.maxContains&&(yield Pe(ee.ArrayMaxContains,e,r,n))}o(_X,"FromArray");function*yX(e,t,r,n){Qh(n)||(yield Pe(ee.AsyncIterator,e,r,n))}o(yX,"FromAsyncIterator");function*vX(e,t,r,n){if(!jn(n))return yield Pe(ee.BigInt,e,r,n);Mt(e.exclusiveMaximum)&&!(n<e.exclusiveMaximum)&&(yield Pe(ee.BigIntExclusiveMaximum,e,r,n)),Mt(e.exclusiveMinimum)&&!(n>e.exclusiveMinimum)&&(yield Pe(ee.BigIntExclusiveMinimum,e,r,n)),Mt(e.maximum)&&!(n<=e.maximum)&&(yield Pe(ee.BigIntMaximum,e,r,n)),Mt(e.minimum)&&!(n>=e.minimum)&&(yield Pe(ee.BigIntMinimum,e,r,n)),Mt(e.multipleOf)&&n%e.multipleOf!==BigInt(0)&&(yield Pe(ee.BigIntMultipleOf,e,r,n))}o(vX,"FromBigInt");function*TX(e,t,r,n){Js(n)||(yield Pe(ee.Boolean,e,r,n))}o(TX,"FromBoolean");function*IX(e,t,r,n){yield*An(e.returns,t,r,n.prototype)}o(IX,"FromConstructor");function*EX(e,t,r,n){if(!gi(n))return yield Pe(ee.Date,e,r,n);Mt(e.exclusiveMaximumTimestamp)&&!(n.getTime()<e.exclusiveMaximumTimestamp)&&(yield Pe(ee.DateExclusiveMaximumTimestamp,e,r,n)),Mt(e.exclusiveMinimumTimestamp)&&!(n.getTime()>e.exclusiveMinimumTimestamp)&&(yield Pe(ee.DateExclusiveMinimumTimestamp,e,r,n)),Mt(e.maximumTimestamp)&&!(n.getTime()<=e.maximumTimestamp)&&(yield Pe(ee.DateMaximumTimestamp,e,r,n)),Mt(e.minimumTimestamp)&&!(n.getTime()>=e.minimumTimestamp)&&(yield Pe(ee.DateMinimumTimestamp,e,r,n)),Mt(e.multipleOfTimestamp)&&n.getTime()%e.multipleOfTimestamp!==0&&(yield Pe(ee.DateMultipleOfTimestamp,e,r,n))}o(EX,"FromDate");function*CX(e,t,r,n){nl(n)||(yield Pe(ee.Function,e,r,n))}o(CX,"FromFunction");function*SX(e,t,r,n){let i=globalThis.Object.values(e.$defs),s=e.$defs[e.$ref];yield*An(s,[...t,...i],r,n)}o(SX,"FromImport");function*wX(e,t,r,n){if(!r5(n))return yield Pe(ee.Integer,e,r,n);Mt(e.exclusiveMaximum)&&!(n<e.exclusiveMaximum)&&(yield Pe(ee.IntegerExclusiveMaximum,e,r,n)),Mt(e.exclusiveMinimum)&&!(n>e.exclusiveMinimum)&&(yield Pe(ee.IntegerExclusiveMinimum,e,r,n)),Mt(e.maximum)&&!(n<=e.maximum)&&(yield Pe(ee.IntegerMaximum,e,r,n)),Mt(e.minimum)&&!(n>=e.minimum)&&(yield Pe(ee.IntegerMinimum,e,r,n)),Mt(e.multipleOf)&&n%e.multipleOf!==0&&(yield Pe(ee.IntegerMultipleOf,e,r,n))}o(wX,"FromInteger");function*PX(e,t,r,n){let i=!1;for(let s of e.allOf)for(let a of An(s,t,r,n))i=!0,yield a;if(i)return yield Pe(ee.Intersect,e,r,n);if(e.unevaluatedProperties===!1){let s=new RegExp(sa(e));for(let a of Object.getOwnPropertyNames(n))s.test(a)||(yield Pe(ee.IntersectUnevaluatedProperties,e,`${r}/${a}`,n))}if(typeof e.unevaluatedProperties=="object"){let s=new RegExp(sa(e));for(let a of Object.getOwnPropertyNames(n))if(!s.test(a)){let l=An(e.unevaluatedProperties,t,`${r}/${a}`,n[a]).next();l.done||(yield l.value)}}}o(PX,"FromIntersect");function*DX(e,t,r,n){e5(n)||(yield Pe(ee.Iterator,e,r,n))}o(DX,"FromIterator");function*RX(e,t,r,n){n!==e.const&&(yield Pe(ee.Literal,e,r,n))}o(RX,"FromLiteral");function*NX(e,t,r,n){yield Pe(ee.Never,e,r,n)}o(NX,"FromNever");function*AX(e,t,r,n){An(e.not,t,r,n).next().done===!0&&(yield Pe(ee.Not,e,r,n))}o(AX,"FromNot");function*kX(e,t,r,n){Q0(n)||(yield Pe(ee.Null,e,r,n))}o(kX,"FromNull");function*OX(e,t,r,n){if(!Ir.IsNumberLike(n))return yield Pe(ee.Number,e,r,n);Mt(e.exclusiveMaximum)&&!(n<e.exclusiveMaximum)&&(yield Pe(ee.NumberExclusiveMaximum,e,r,n)),Mt(e.exclusiveMinimum)&&!(n>e.exclusiveMinimum)&&(yield Pe(ee.NumberExclusiveMinimum,e,r,n)),Mt(e.maximum)&&!(n<=e.maximum)&&(yield Pe(ee.NumberMaximum,e,r,n)),Mt(e.minimum)&&!(n>=e.minimum)&&(yield Pe(ee.NumberMinimum,e,r,n)),Mt(e.multipleOf)&&n%e.multipleOf!==0&&(yield Pe(ee.NumberMultipleOf,e,r,n))}o(OX,"FromNumber");function*LX(e,t,r,n){if(!Ir.IsObjectLike(n))return yield Pe(ee.Object,e,r,n);Mt(e.minProperties)&&!(Object.getOwnPropertyNames(n).length>=e.minProperties)&&(yield Pe(ee.ObjectMinProperties,e,r,n)),Mt(e.maxProperties)&&!(Object.getOwnPropertyNames(n).length<=e.maxProperties)&&(yield Pe(ee.ObjectMaxProperties,e,r,n));let i=Array.isArray(e.required)?e.required:[],s=Object.getOwnPropertyNames(e.properties),a=Object.getOwnPropertyNames(n);for(let l of i)a.includes(l)||(yield Pe(ee.ObjectRequiredProperty,e.properties[l],`${r}/${la(l)}`,void 0));if(e.additionalProperties===!1)for(let l of a)s.includes(l)||(yield Pe(ee.ObjectAdditionalProperties,e,`${r}/${la(l)}`,n[l]));if(typeof e.additionalProperties=="object")for(let l of a)s.includes(l)||(yield*An(e.additionalProperties,t,`${r}/${la(l)}`,n[l]));for(let l of s){let c=e.properties[l];e.required&&e.required.includes(l)?(yield*An(c,t,`${r}/${la(l)}`,n[l]),aa(e)&&!(l in n)&&(yield Pe(ee.ObjectRequiredProperty,c,`${r}/${la(l)}`,void 0))):Ir.IsExactOptionalProperty(n,l)&&(yield*An(c,t,`${r}/${la(l)}`,n[l]))}}o(LX,"FromObject");function*FX(e,t,r,n){t5(n)||(yield Pe(ee.Promise,e,r,n))}o(FX,"FromPromise");function*MX(e,t,r,n){if(!Ir.IsRecordLike(n))return yield Pe(ee.Object,e,r,n);Mt(e.minProperties)&&!(Object.getOwnPropertyNames(n).length>=e.minProperties)&&(yield Pe(ee.ObjectMinProperties,e,r,n)),Mt(e.maxProperties)&&!(Object.getOwnPropertyNames(n).length<=e.maxProperties)&&(yield Pe(ee.ObjectMaxProperties,e,r,n));let[i,s]=Object.entries(e.patternProperties)[0],a=new RegExp(i);for(let[l,c]of Object.entries(n))a.test(l)&&(yield*An(s,t,`${r}/${la(l)}`,c));if(typeof e.additionalProperties=="object")for(let[l,c]of Object.entries(n))a.test(l)||(yield*An(e.additionalProperties,t,`${r}/${la(l)}`,c));if(e.additionalProperties===!1){for(let[l,c]of Object.entries(n))if(!a.test(l))return yield Pe(ee.ObjectAdditionalProperties,e,`${r}/${la(l)}`,c)}}o(MX,"FromRecord");function*UX(e,t,r,n){yield*An(Zt(e,t),t,r,n)}o(UX,"FromRef");function*BX(e,t,r,n){if(!Ht(n))return yield Pe(ee.String,e,r,n);if(Mt(e.minLength)&&!(n.length>=e.minLength)&&(yield Pe(ee.StringMinLength,e,r,n)),Mt(e.maxLength)&&!(n.length<=e.maxLength)&&(yield Pe(ee.StringMaxLength,e,r,n)),!new RegExp(e.source,e.flags).test(n))return yield Pe(ee.RegExp,e,r,n)}o(BX,"FromRegExp");function*jX(e,t,r,n){if(!Ht(n))return yield Pe(ee.String,e,r,n);Mt(e.minLength)&&!(n.length>=e.minLength)&&(yield Pe(ee.StringMinLength,e,r,n)),Mt(e.maxLength)&&!(n.length<=e.maxLength)&&(yield Pe(ee.StringMaxLength,e,r,n)),Ht(e.pattern)&&(new RegExp(e.pattern).test(n)||(yield Pe(ee.StringPattern,e,r,n))),Ht(e.format)&&(vs.Has(e.format)?vs.Get(e.format)(n)||(yield Pe(ee.StringFormat,e,r,n)):yield Pe(ee.StringFormatUnknown,e,r,n))}o(jX,"FromString");function*$X(e,t,r,n){ea(n)||(yield Pe(ee.Symbol,e,r,n))}o($X,"FromSymbol");function*qX(e,t,r,n){if(!Ht(n))return yield Pe(ee.String,e,r,n);new RegExp(e.pattern).test(n)||(yield Pe(ee.StringPattern,e,r,n))}o(qX,"FromTemplateLiteral");function*WX(e,t,r,n){yield*An(Zt(e,t),t,r,n)}o(WX,"FromThis");function*GX(e,t,r,n){if(!st(n))return yield Pe(ee.Tuple,e,r,n);if(e.items===void 0&&n.length!==0)return yield Pe(ee.TupleLength,e,r,n);if(n.length!==e.maxItems)return yield Pe(ee.TupleLength,e,r,n);if(e.items)for(let i=0;i<e.items.length;i++)yield*An(e.items[i],t,`${r}/${i}`,n[i])}o(GX,"FromTuple");function*zX(e,t,r,n){Pr(n)||(yield Pe(ee.Undefined,e,r,n))}o(zX,"FromUndefined");function*HX(e,t,r,n){if(wt(e,t,n))return;let i=e.anyOf.map(s=>new ml(An(s,t,r,n)));yield Pe(ee.Union,e,r,n,i)}o(HX,"FromUnion");function*VX(e,t,r,n){if(!gf(n))return yield Pe(ee.Uint8Array,e,r,n);Mt(e.maxByteLength)&&!(n.length<=e.maxByteLength)&&(yield Pe(ee.Uint8ArrayMaxByteLength,e,r,n)),Mt(e.minByteLength)&&!(n.length>=e.minByteLength)&&(yield Pe(ee.Uint8ArrayMinByteLength,e,r,n))}o(VX,"FromUint8Array");function*KX(e,t,r,n){}o(KX,"FromUnknown");function*YX(e,t,r,n){Ir.IsVoidLike(n)||(yield Pe(ee.Void,e,r,n))}o(YX,"FromVoid");function*XX(e,t,r,n){hi.Get(e[te])(e,n)||(yield Pe(ee.Kind,e,r,n))}o(XX,"FromKind");function*An(e,t,r,n){let i=Mt(e.$id)?[...t,e]:t,s=e;switch(s[te]){case"Any":return yield*xX(s,i,r,n);case"Argument":return yield*bX(s,i,r,n);case"Array":return yield*_X(s,i,r,n);case"AsyncIterator":return yield*yX(s,i,r,n);case"BigInt":return yield*vX(s,i,r,n);case"Boolean":return yield*TX(s,i,r,n);case"Constructor":return yield*IX(s,i,r,n);case"Date":return yield*EX(s,i,r,n);case"Function":return yield*CX(s,i,r,n);case"Import":return yield*SX(s,i,r,n);case"Integer":return yield*wX(s,i,r,n);case"Intersect":return yield*PX(s,i,r,n);case"Iterator":return yield*DX(s,i,r,n);case"Literal":return yield*RX(s,i,r,n);case"Never":return yield*NX(s,i,r,n);case"Not":return yield*AX(s,i,r,n);case"Null":return yield*kX(s,i,r,n);case"Number":return yield*OX(s,i,r,n);case"Object":return yield*LX(s,i,r,n);case"Promise":return yield*FX(s,i,r,n);case"Record":return yield*MX(s,i,r,n);case"Ref":return yield*UX(s,i,r,n);case"RegExp":return yield*BX(s,i,r,n);case"String":return yield*jX(s,i,r,n);case"Symbol":return yield*$X(s,i,r,n);case"TemplateLiteral":return yield*qX(s,i,r,n);case"This":return yield*WX(s,i,r,n);case"Tuple":return yield*GX(s,i,r,n);case"Undefined":return yield*zX(s,i,r,n);case"Union":return yield*HX(s,i,r,n);case"Uint8Array":return yield*VX(s,i,r,n);case"Unknown":return yield*KX(s,i,r,n);case"Void":return yield*YX(s,i,r,n);default:if(!hi.Has(s[te]))throw new C6(e);return yield*XX(s,i,r,n)}}o(An,"Visit");function i0(...e){let t=e.length===3?An(e[0],e[1],"",e[2]):An(e[0],[],"",e[1]);return new ml(t)}o(i0,"Errors");var JX=function(e,t,r,n,i){if(n==="m")throw new TypeError("Private method is not writable");if(n==="a"&&!i)throw new TypeError("Private accessor was defined without a setter");if(typeof t=="function"?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return n==="a"?i.call(e,r):i?i.value=r:t.set(e,r),r},JP=function(e,t,r,n){if(r==="a"&&!n)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?e!==t||!n:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return r==="m"?n:r==="a"?n.call(e):n?n.value:t.get(e)},S6,O5,ZP,w6=class extends at{static{o(this,"AssertError")}constructor(t){let r=t.First();super(r===void 0?"Invalid Value":r.message),S6.add(this),O5.set(this,void 0),JX(this,O5,t,"f"),this.error=r}Errors(){return new ml(JP(this,S6,"m",ZP).call(this))}};O5=new WeakMap,S6=new WeakSet,ZP=o(function*(){this.error&&(yield this.error),yield*JP(this,O5,"f")},"_AssertError_Iterator");function XP(e,t,r){if(!wt(e,t,r))throw new w6(i0(e,t,r))}o(XP,"AssertValue");function L5(...e){return e.length===3?XP(e[0],e[1],e[2]):XP(e[0],[],e[1])}o(L5,"Assert");function ZX(e){let t={};for(let r of Object.getOwnPropertyNames(e))t[r]=Qt(e[r]);for(let r of Object.getOwnPropertySymbols(e))t[r]=Qt(e[r]);return t}o(ZX,"FromObject");function QX(e){return e.map(t=>Qt(t))}o(QX,"FromArray");function eJ(e){return e.slice()}o(eJ,"FromTypedArray");function tJ(e){return new Map(Qt([...e.entries()]))}o(tJ,"FromMap");function rJ(e){return new Set(Qt([...e.entries()]))}o(rJ,"FromSet");function nJ(e){return new Date(e.toISOString())}o(nJ,"FromDate");function Qt(e){if(st(e))return QX(e);if(gi(e))return nJ(e);if(Ao(e))return eJ(e);if(pS(e))return tJ(e);if(gS(e))return rJ(e);if(Et(e))return ZX(e);if(eo(e))return e;throw new Error("ValueClone: Unable to clone value")}o(Qt,"Clone");var ao=class extends at{static{o(this,"ValueCreateError")}constructor(t,r){super(r),this.schema=t}};function er(e){return nl(e)?e():Qt(e)}o(er,"FromDefault");function iJ(e,t){return ot(e,"default")?er(e.default):{}}o(iJ,"FromAny");function oJ(e,t){return{}}o(oJ,"FromArgument");function sJ(e,t){if(e.uniqueItems===!0&&!ot(e,"default"))throw new ao(e,"Array with the uniqueItems constraint requires a default value");if("contains"in e&&!ot(e,"default"))throw new ao(e,"Array with the contains constraint requires a default value");return"default"in e?er(e.default):e.minItems!==void 0?Array.from({length:e.minItems}).map(r=>Li(e.items,t)):[]}o(sJ,"FromArray");function aJ(e,t){return ot(e,"default")?er(e.default):async function*(){}()}o(aJ,"FromAsyncIterator");function lJ(e,t){return ot(e,"default")?er(e.default):BigInt(0)}o(lJ,"FromBigInt");function cJ(e,t){return ot(e,"default")?er(e.default):!1}o(cJ,"FromBoolean");function uJ(e,t){if(ot(e,"default"))return er(e.default);{let r=Li(e.returns,t);return typeof r=="object"&&!Array.isArray(r)?class{constructor(){for(let[n,i]of Object.entries(r)){let s=this;s[n]=i}}}:class{}}}o(uJ,"FromConstructor");function fJ(e,t){return ot(e,"default")?er(e.default):e.minimumTimestamp!==void 0?new Date(e.minimumTimestamp):new Date}o(fJ,"FromDate");function dJ(e,t){return ot(e,"default")?er(e.default):()=>Li(e.returns,t)}o(dJ,"FromFunction");function mJ(e,t){let r=globalThis.Object.values(e.$defs),n=e.$defs[e.$ref];return Li(n,[...t,...r])}o(mJ,"FromImport");function pJ(e,t){return ot(e,"default")?er(e.default):e.minimum!==void 0?e.minimum:0}o(pJ,"FromInteger");function gJ(e,t){if(ot(e,"default"))return er(e.default);{let r=e.allOf.reduce((n,i)=>{let s=Li(i,t);return typeof s=="object"?{...n,...s}:s},{});if(!wt(e,t,r))throw new ao(e,"Intersect produced invalid value. Consider using a default value.");return r}}o(gJ,"FromIntersect");function hJ(e,t){return ot(e,"default")?er(e.default):function*(){}()}o(hJ,"FromIterator");function xJ(e,t){return ot(e,"default")?er(e.default):e.const}o(xJ,"FromLiteral");function bJ(e,t){if(ot(e,"default"))return er(e.default);throw new ao(e,"Never types cannot be created. Consider using a default value.")}o(bJ,"FromNever");function _J(e,t){if(ot(e,"default"))return er(e.default);throw new ao(e,"Not types must have a default value")}o(_J,"FromNot");function yJ(e,t){return ot(e,"default")?er(e.default):null}o(yJ,"FromNull");function vJ(e,t){return ot(e,"default")?er(e.default):e.minimum!==void 0?e.minimum:0}o(vJ,"FromNumber");function TJ(e,t){if(ot(e,"default"))return er(e.default);{let r=new Set(e.required),n={};for(let[i,s]of Object.entries(e.properties))r.has(i)&&(n[i]=Li(s,t));return n}}o(TJ,"FromObject");function IJ(e,t){return ot(e,"default")?er(e.default):Promise.resolve(Li(e.item,t))}o(IJ,"FromPromise");function EJ(e,t){let[r,n]=Object.entries(e.patternProperties)[0];if(ot(e,"default"))return er(e.default);if(r===Qs||r===Zs)return{};{let i=r.slice(1,r.length-1).split("|"),s={};for(let a of i)s[a]=Li(n,t);return s}}o(EJ,"FromRecord");function CJ(e,t){return ot(e,"default")?er(e.default):Li(Zt(e,t),t)}o(CJ,"FromRef");function SJ(e,t){if(ot(e,"default"))return er(e.default);throw new ao(e,"RegExp types cannot be created. Consider using a default value.")}o(SJ,"FromRegExp");function wJ(e,t){if(e.pattern!==void 0){if(ot(e,"default"))return er(e.default);throw new ao(e,"String types with patterns must specify a default value")}else if(e.format!==void 0){if(ot(e,"default"))return er(e.default);throw new ao(e,"String types with formats must specify a default value")}else return ot(e,"default")?er(e.default):e.minLength!==void 0?Array.from({length:e.minLength}).map(()=>" ").join(""):""}o(wJ,"FromString");function PJ(e,t){return ot(e,"default")?er(e.default):"value"in e?Symbol.for(e.value):Symbol()}o(PJ,"FromSymbol");function DJ(e,t){if(ot(e,"default"))return er(e.default);if(!s5(e))throw new ao(e,"Can only create template literals that produce a finite variants. Consider using a default value.");return Ef(e)[0]}o(DJ,"FromTemplateLiteral");function RJ(e,t){if(QP++>UJ)throw new ao(e,"Cannot create recursive type as it appears possibly infinite. Consider using a default.");return ot(e,"default")?er(e.default):Li(Zt(e,t),t)}o(RJ,"FromThis");function NJ(e,t){return ot(e,"default")?er(e.default):e.items===void 0?[]:Array.from({length:e.minItems}).map((r,n)=>Li(e.items[n],t))}o(NJ,"FromTuple");function AJ(e,t){if(ot(e,"default"))return er(e.default)}o(AJ,"FromUndefined");function kJ(e,t){if(ot(e,"default"))return er(e.default);if(e.anyOf.length===0)throw new Error("ValueCreate.Union: Cannot create Union with zero variants");return Li(e.anyOf[0],t)}o(kJ,"FromUnion");function OJ(e,t){return ot(e,"default")?er(e.default):e.minByteLength!==void 0?new Uint8Array(e.minByteLength):new Uint8Array(0)}o(OJ,"FromUint8Array");function LJ(e,t){return ot(e,"default")?er(e.default):{}}o(LJ,"FromUnknown");function FJ(e,t){if(ot(e,"default"))return er(e.default)}o(FJ,"FromVoid");function MJ(e,t){if(ot(e,"default"))return er(e.default);throw new Error("User defined types must specify a default value")}o(MJ,"FromKind");function Li(e,t){let r=Rn(e,t),n=e;switch(n[te]){case"Any":return iJ(n,r);case"Argument":return oJ(n,r);case"Array":return sJ(n,r);case"AsyncIterator":return aJ(n,r);case"BigInt":return lJ(n,r);case"Boolean":return cJ(n,r);case"Constructor":return uJ(n,r);case"Date":return fJ(n,r);case"Function":return dJ(n,r);case"Import":return mJ(n,r);case"Integer":return pJ(n,r);case"Intersect":return gJ(n,r);case"Iterator":return hJ(n,r);case"Literal":return xJ(n,r);case"Never":return bJ(n,r);case"Not":return _J(n,r);case"Null":return yJ(n,r);case"Number":return vJ(n,r);case"Object":return TJ(n,r);case"Promise":return IJ(n,r);case"Record":return EJ(n,r);case"Ref":return CJ(n,r);case"RegExp":return SJ(n,r);case"String":return wJ(n,r);case"Symbol":return PJ(n,r);case"TemplateLiteral":return DJ(n,r);case"This":return RJ(n,r);case"Tuple":return NJ(n,r);case"Undefined":return AJ(n,r);case"Union":return kJ(n,r);case"Uint8Array":return OJ(n,r);case"Unknown":return LJ(n,r);case"Void":return FJ(n,r);default:if(!hi.Has(n[te]))throw new ao(n,"Unknown type");return MJ(n,r)}}o(Li,"Visit");var UJ=512,QP=0;function jo(...e){return QP=0,e.length===2?Li(e[0],e[1]):Li(e[0],[])}o(jo,"Create");var F5=class extends at{static{o(this,"ValueCastError")}constructor(t,r){super(r),this.schema=t}};function BJ(e,t,r){if(e[te]==="Object"&&typeof r=="object"&&!Q0(r)){let n=e,i=Object.getOwnPropertyNames(r),s=Object.entries(n.properties),[a,l]=[1/s.length,s.length];return s.reduce((c,[f,u])=>{let d=u[te]==="Literal"&&u.const===r[f]?l:0,p=wt(u,t,r[f])?a:0,m=i.includes(f)?a:0;return c+(d+p+m)},0)}else return wt(e,t,r)?1:0}o(BJ,"ScoreUnion");function jJ(e,t,r){let n=e.anyOf.map(a=>Zt(a,t)),[i,s]=[n[0],0];for(let a of n){let l=BJ(a,t,r);l>s&&(i=a,s=l)}return i}o(jJ,"SelectUnion");function $J(e,t,r){if("default"in e)return typeof r=="function"?e.default:Qt(e.default);{let n=jJ(e,t,r);return p1(n,t,r)}}o($J,"CastUnion");function qJ(e,t,r){return wt(e,t,r)?Qt(r):jo(e,t)}o(qJ,"DefaultClone");function WJ(e,t,r){return wt(e,t,r)?r:jo(e,t)}o(WJ,"Default");function GJ(e,t,r){if(wt(e,t,r))return Qt(r);let n=st(r)?Qt(r):jo(e,t),i=ze(e.minItems)&&n.length<e.minItems?[...n,...Array.from({length:e.minItems-n.length},()=>null)]:n,a=(ze(e.maxItems)&&i.length>e.maxItems?i.slice(0,e.maxItems):i).map(c=>Cs(e.items,t,c));if(e.uniqueItems!==!0)return a;let l=[...new Set(a)];if(!wt(e,t,l))throw new F5(e,"Array cast produced invalid data due to uniqueItems constraint");return l}o(GJ,"FromArray");function zJ(e,t,r){if(wt(e,t,r))return jo(e,t);let n=new Set(e.returns.required||[]),i=o(function(){},"result");for(let[s,a]of Object.entries(e.returns.properties))!n.has(s)&&r.prototype[s]===void 0||(i.prototype[s]=Cs(a,t,r.prototype[s]));return i}o(zJ,"FromConstructor");function HJ(e,t,r){let n=globalThis.Object.values(e.$defs),i=e.$defs[e.$ref];return Cs(i,[...t,...n],r)}o(HJ,"FromImport");function VJ(e,t,r){let n=jo(e,t),i=Et(n)&&Et(r)?{...n,...r}:r;return wt(e,t,i)?i:jo(e,t)}o(VJ,"FromIntersect");function KJ(e,t,r){throw new F5(e,"Never types cannot be cast")}o(KJ,"FromNever");function YJ(e,t,r){if(wt(e,t,r))return r;if(r===null||typeof r!="object")return jo(e,t);let n=new Set(e.required||[]),i={};for(let[s,a]of Object.entries(e.properties))!n.has(s)&&r[s]===void 0||(i[s]=Cs(a,t,r[s]));if(typeof e.additionalProperties=="object"){let s=Object.getOwnPropertyNames(e.properties);for(let a of Object.getOwnPropertyNames(r))s.includes(a)||(i[a]=Cs(e.additionalProperties,t,r[a]))}return i}o(YJ,"FromObject");function XJ(e,t,r){if(wt(e,t,r))return Qt(r);if(r===null||typeof r!="object"||Array.isArray(r)||r instanceof Date)return jo(e,t);let n=Object.getOwnPropertyNames(e.patternProperties)[0],i=e.patternProperties[n],s={};for(let[a,l]of Object.entries(r))s[a]=Cs(i,t,l);return s}o(XJ,"FromRecord");function JJ(e,t,r){return Cs(Zt(e,t),t,r)}o(JJ,"FromRef");function ZJ(e,t,r){return Cs(Zt(e,t),t,r)}o(ZJ,"FromThis");function QJ(e,t,r){return wt(e,t,r)?Qt(r):st(r)?e.items===void 0?[]:e.items.map((n,i)=>Cs(n,t,r[i])):jo(e,t)}o(QJ,"FromTuple");function eZ(e,t,r){return wt(e,t,r)?Qt(r):$J(e,t,r)}o(eZ,"FromUnion");function Cs(e,t,r){let n=Ht(e.$id)?Rn(e,t):t,i=e;switch(e[te]){case"Array":return GJ(i,n,r);case"Constructor":return zJ(i,n,r);case"Import":return HJ(i,n,r);case"Intersect":return VJ(i,n,r);case"Never":return KJ(i,n,r);case"Object":return YJ(i,n,r);case"Record":return XJ(i,n,r);case"Ref":return JJ(i,n,r);case"This":return ZJ(i,n,r);case"Tuple":return QJ(i,n,r);case"Union":return eZ(i,n,r);case"Date":case"Symbol":case"Uint8Array":return qJ(e,t,r);default:return WJ(i,n,r)}}o(Cs,"Visit");function p1(...e){return e.length===3?Cs(e[0],e[1],e[2]):Cs(e[0],[],e[1])}o(p1,"Cast");function tZ(e){return ol(e)&&e[te]!=="Unsafe"}o(tZ,"IsCheckable");function rZ(e,t,r){return st(r)?r.map(n=>Fi(e.items,t,n)):r}o(rZ,"FromArray");function nZ(e,t,r){let n=globalThis.Object.values(e.$defs),i=e.$defs[e.$ref];return Fi(i,[...t,...n],r)}o(nZ,"FromImport");function iZ(e,t,r){let n=e.unevaluatedProperties,s=e.allOf.map(l=>Fi(l,t,Qt(r))).reduce((l,c)=>Et(c)?{...l,...c}:c,{});if(!Et(r)||!Et(s)||!ol(n))return s;let a=ki(e);for(let l of Object.getOwnPropertyNames(r))a.includes(l)||wt(n,t,r[l])&&(s[l]=Fi(n,t,r[l]));return s}o(iZ,"FromIntersect");function oZ(e,t,r){if(!Et(r)||st(r))return r;let n=e.additionalProperties;for(let i of Object.getOwnPropertyNames(r)){if(ot(e.properties,i)){r[i]=Fi(e.properties[i],t,r[i]);continue}if(ol(n)&&wt(n,t,r[i])){r[i]=Fi(n,t,r[i]);continue}delete r[i]}return r}o(oZ,"FromObject");function sZ(e,t,r){if(!Et(r))return r;let n=e.additionalProperties,i=Object.getOwnPropertyNames(r),[s,a]=Object.entries(e.patternProperties)[0],l=new RegExp(s);for(let c of i){if(l.test(c)){r[c]=Fi(a,t,r[c]);continue}if(ol(n)&&wt(n,t,r[c])){r[c]=Fi(n,t,r[c]);continue}delete r[c]}return r}o(sZ,"FromRecord");function aZ(e,t,r){return Fi(Zt(e,t),t,r)}o(aZ,"FromRef");function lZ(e,t,r){return Fi(Zt(e,t),t,r)}o(lZ,"FromThis");function cZ(e,t,r){if(!st(r))return r;if(Pr(e.items))return[];let n=Math.min(r.length,e.items.length);for(let i=0;i<n;i++)r[i]=Fi(e.items[i],t,r[i]);return r.length>n?r.slice(0,n):r}o(cZ,"FromTuple");function uZ(e,t,r){for(let n of e.anyOf)if(tZ(n)&&wt(n,t,r))return Fi(n,t,r);return r}o(uZ,"FromUnion");function Fi(e,t,r){let n=Ht(e.$id)?Rn(e,t):t,i=e;switch(i[te]){case"Array":return rZ(i,n,r);case"Import":return nZ(i,n,r);case"Intersect":return iZ(i,n,r);case"Object":return oZ(i,n,r);case"Record":return sZ(i,n,r);case"Ref":return aZ(i,n,r);case"This":return lZ(i,n,r);case"Tuple":return cZ(i,n,r);case"Union":return uZ(i,n,r);default:return r}}o(Fi,"Visit");function M5(...e){return e.length===3?Fi(e[0],e[1],e[2]):Fi(e[0],[],e[1])}o(M5,"Clean");function U5(e){return Ht(e)&&!isNaN(e)&&!isNaN(parseFloat(e))}o(U5,"IsStringNumeric");function fZ(e){return jn(e)||Js(e)||ze(e)}o(fZ,"IsValueToString");function g1(e){return e===!0||ze(e)&&e===1||jn(e)&&e===BigInt("1")||Ht(e)&&(e.toLowerCase()==="true"||e==="1")}o(g1,"IsValueTrue");function h1(e){return e===!1||ze(e)&&(e===0||Object.is(e,-0))||jn(e)&&e===BigInt("0")||Ht(e)&&(e.toLowerCase()==="false"||e==="0"||e==="-0")}o(h1,"IsValueFalse");function dZ(e){return Ht(e)&&/^(?:[0-2]\d:[0-5]\d:[0-5]\d|23:59:60)(?:\.\d+)?(?:z|[+-]\d\d(?::?\d\d)?)$/i.test(e)}o(dZ,"IsTimeStringWithTimeZone");function mZ(e){return Ht(e)&&/^(?:[0-2]\d:[0-5]\d:[0-5]\d|23:59:60)?$/i.test(e)}o(mZ,"IsTimeStringWithoutTimeZone");function pZ(e){return Ht(e)&&/^\d\d\d\d-[0-1]\d-[0-3]\dt(?:[0-2]\d:[0-5]\d:[0-5]\d|23:59:60)(?:\.\d+)?(?:z|[+-]\d\d(?::?\d\d)?)$/i.test(e)}o(pZ,"IsDateTimeStringWithTimeZone");function gZ(e){return Ht(e)&&/^\d\d\d\d-[0-1]\d-[0-3]\dt(?:[0-2]\d:[0-5]\d:[0-5]\d|23:59:60)?$/i.test(e)}o(gZ,"IsDateTimeStringWithoutTimeZone");function hZ(e){return Ht(e)&&/^\d\d\d\d-[0-1]\d-[0-3]\d$/i.test(e)}o(hZ,"IsDateString");function xZ(e,t){let r=tD(e);return r===t?r:e}o(xZ,"TryConvertLiteralString");function bZ(e,t){let r=rD(e);return r===t?r:e}o(bZ,"TryConvertLiteralNumber");function _Z(e,t){let r=eD(e);return r===t?r:e}o(_Z,"TryConvertLiteralBoolean");function yZ(e,t){return Ht(e.const)?xZ(t,e.const):ze(e.const)?bZ(t,e.const):Js(e.const)?_Z(t,e.const):t}o(yZ,"TryConvertLiteral");function eD(e){return g1(e)?!0:h1(e)?!1:e}o(eD,"TryConvertBoolean");function vZ(e){let t=o(r=>r.split(".")[0],"truncateInteger");return U5(e)?BigInt(t(e)):ze(e)?BigInt(Math.trunc(e)):h1(e)?BigInt(0):g1(e)?BigInt(1):e}o(vZ,"TryConvertBigInt");function tD(e){return ea(e)&&e.description!==void 0?e.description.toString():fZ(e)?e.toString():e}o(tD,"TryConvertString");function rD(e){return U5(e)?parseFloat(e):g1(e)?1:h1(e)?0:e}o(rD,"TryConvertNumber");function TZ(e){return U5(e)?parseInt(e):ze(e)?Math.trunc(e):g1(e)?1:h1(e)?0:e}o(TZ,"TryConvertInteger");function IZ(e){return Ht(e)&&e.toLowerCase()==="null"?null:e}o(IZ,"TryConvertNull");function EZ(e){return Ht(e)&&e==="undefined"?void 0:e}o(EZ,"TryConvertUndefined");function CZ(e){return gi(e)?e:ze(e)?new Date(e):g1(e)?new Date(1):h1(e)?new Date(0):U5(e)?new Date(parseInt(e)):mZ(e)?new Date(`1970-01-01T${e}.000Z`):dZ(e)?new Date(`1970-01-01T${e}`):gZ(e)?new Date(`${e}.000Z`):pZ(e)?new Date(e):hZ(e)?new Date(`${e}T00:00:00.000Z`):e}o(CZ,"TryConvertDate");function SZ(e,t,r){return(st(r)?r:[r]).map(i=>Ss(e.items,t,i))}o(SZ,"FromArray");function wZ(e,t,r){return vZ(r)}o(wZ,"FromBigInt");function PZ(e,t,r){return eD(r)}o(PZ,"FromBoolean");function DZ(e,t,r){return CZ(r)}o(DZ,"FromDate");function RZ(e,t,r){let n=globalThis.Object.values(e.$defs),i=e.$defs[e.$ref];return Ss(i,[...t,...n],r)}o(RZ,"FromImport");function NZ(e,t,r){return TZ(r)}o(NZ,"FromInteger");function AZ(e,t,r){return e.allOf.reduce((n,i)=>Ss(i,t,n),r)}o(AZ,"FromIntersect");function kZ(e,t,r){return yZ(e,r)}o(kZ,"FromLiteral");function OZ(e,t,r){return IZ(r)}o(OZ,"FromNull");function LZ(e,t,r){return rD(r)}o(LZ,"FromNumber");function FZ(e,t,r){if(!Et(r))return r;for(let n of Object.getOwnPropertyNames(e.properties))ot(r,n)&&(r[n]=Ss(e.properties[n],t,r[n]));return r}o(FZ,"FromObject");function MZ(e,t,r){if(!Et(r))return r;let i=Object.getOwnPropertyNames(e.patternProperties)[0],s=e.patternProperties[i];for(let[a,l]of Object.entries(r))r[a]=Ss(s,t,l);return r}o(MZ,"FromRecord");function UZ(e,t,r){return Ss(Zt(e,t),t,r)}o(UZ,"FromRef");function BZ(e,t,r){return tD(r)}o(BZ,"FromString");function jZ(e,t,r){return Ht(r)||ze(r)?Symbol(r):r}o(jZ,"FromSymbol");function $Z(e,t,r){return Ss(Zt(e,t),t,r)}o($Z,"FromThis");function qZ(e,t,r){return st(r)&&!Pr(e.items)?r.map((i,s)=>s<e.items.length?Ss(e.items[s],t,i):i):r}o(qZ,"FromTuple");function WZ(e,t,r){return EZ(r)}o(WZ,"FromUndefined");function GZ(e,t,r){for(let n of e.anyOf){let i=Ss(n,t,Qt(r));if(wt(n,t,i))return i}return r}o(GZ,"FromUnion");function Ss(e,t,r){let n=Rn(e,t),i=e;switch(e[te]){case"Array":return SZ(i,n,r);case"BigInt":return wZ(i,n,r);case"Boolean":return PZ(i,n,r);case"Date":return DZ(i,n,r);case"Import":return RZ(i,n,r);case"Integer":return NZ(i,n,r);case"Intersect":return AZ(i,n,r);case"Literal":return kZ(i,n,r);case"Null":return OZ(i,n,r);case"Number":return LZ(i,n,r);case"Object":return FZ(i,n,r);case"Record":return MZ(i,n,r);case"Ref":return UZ(i,n,r);case"String":return BZ(i,n,r);case"Symbol":return jZ(i,n,r);case"This":return $Z(i,n,r);case"Tuple":return qZ(i,n,r);case"Undefined":return WZ(i,n,r);case"Union":return GZ(i,n,r);default:return r}}o(Ss,"Visit");function B5(...e){return e.length===3?Ss(e[0],e[1],e[2]):Ss(e[0],[],e[1])}o(B5,"Convert");var jf=class extends at{static{o(this,"TransformDecodeCheckError")}constructor(t,r,n){super("Unable to decode value as it does not match the expected schema"),this.schema=t,this.value=r,this.error=n}},P6=class extends at{static{o(this,"TransformDecodeError")}constructor(t,r,n,i){super(i instanceof Error?i.message:"Unknown error"),this.schema=t,this.path=r,this.value=n,this.error=i}};function jr(e,t,r){try{return nr(e)?e[Ur].Decode(r):r}catch(n){throw new P6(e,t,r,n)}}o(jr,"Default");function zZ(e,t,r,n){return st(n)?jr(e,r,n.map((i,s)=>ws(e.items,t,`${r}/${s}`,i))):jr(e,r,n)}o(zZ,"FromArray");function HZ(e,t,r,n){if(!Et(n)||eo(n))return jr(e,r,n);let i=f5(e),s=i.map(u=>u[0]),a={...n};for(let[u,d]of i)u in a&&(a[u]=ws(d,t,`${r}/${u}`,a[u]));if(!nr(e.unevaluatedProperties))return jr(e,r,a);let l=Object.getOwnPropertyNames(a),c=e.unevaluatedProperties,f={...a};for(let u of l)s.includes(u)||(f[u]=jr(c,`${r}/${u}`,f[u]));return jr(e,r,f)}o(HZ,"FromIntersect");function VZ(e,t,r,n){let i=globalThis.Object.values(e.$defs),s=e.$defs[e.$ref],a=ws(s,[...t,...i],r,n);return jr(e,r,a)}o(VZ,"FromImport");function KZ(e,t,r,n){return jr(e,r,ws(e.not,t,r,n))}o(KZ,"FromNot");function YZ(e,t,r,n){if(!Et(n))return jr(e,r,n);let i=ki(e),s={...n};for(let f of i)ot(s,f)&&(Pr(s[f])&&(!na(e.properties[f])||Ir.IsExactOptionalProperty(s,f))||(s[f]=ws(e.properties[f],t,`${r}/${f}`,s[f])));if(!Br(e.additionalProperties))return jr(e,r,s);let a=Object.getOwnPropertyNames(s),l=e.additionalProperties,c={...s};for(let f of a)i.includes(f)||(c[f]=jr(l,`${r}/${f}`,c[f]));return jr(e,r,c)}o(YZ,"FromObject");function XZ(e,t,r,n){if(!Et(n))return jr(e,r,n);let i=Object.getOwnPropertyNames(e.patternProperties)[0],s=new RegExp(i),a={...n};for(let u of Object.getOwnPropertyNames(n))s.test(u)&&(a[u]=ws(e.patternProperties[i],t,`${r}/${u}`,a[u]));if(!Br(e.additionalProperties))return jr(e,r,a);let l=Object.getOwnPropertyNames(a),c=e.additionalProperties,f={...a};for(let u of l)s.test(u)||(f[u]=jr(c,`${r}/${u}`,f[u]));return jr(e,r,f)}o(XZ,"FromRecord");function JZ(e,t,r,n){let i=Zt(e,t);return jr(e,r,ws(i,t,r,n))}o(JZ,"FromRef");function ZZ(e,t,r,n){let i=Zt(e,t);return jr(e,r,ws(i,t,r,n))}o(ZZ,"FromThis");function QZ(e,t,r,n){return st(n)&&st(e.items)?jr(e,r,e.items.map((i,s)=>ws(i,t,`${r}/${s}`,n[s]))):jr(e,r,n)}o(QZ,"FromTuple");function eQ(e,t,r,n){for(let i of e.anyOf){if(!wt(i,t,n))continue;let s=ws(i,t,r,n);return jr(e,r,s)}return jr(e,r,n)}o(eQ,"FromUnion");function ws(e,t,r,n){let i=Rn(e,t),s=e;switch(e[te]){case"Array":return zZ(s,i,r,n);case"Import":return VZ(s,i,r,n);case"Intersect":return HZ(s,i,r,n);case"Not":return KZ(s,i,r,n);case"Object":return YZ(s,i,r,n);case"Record":return XZ(s,i,r,n);case"Ref":return JZ(s,i,r,n);case"Symbol":return jr(s,r,n);case"This":return ZZ(s,i,r,n);case"Tuple":return QZ(s,i,r,n);case"Union":return eQ(s,i,r,n);default:return jr(s,r,n)}}o(ws,"Visit");function $f(e,t,r){return ws(e,t,"",r)}o($f,"TransformDecode");var qf=class extends at{static{o(this,"TransformEncodeCheckError")}constructor(t,r,n){super("The encoded value does not match the expected schema"),this.schema=t,this.value=r,this.error=n}},D6=class extends at{static{o(this,"TransformEncodeError")}constructor(t,r,n,i){super(`${i instanceof Error?i.message:"Unknown error"}`),this.schema=t,this.path=r,this.value=n,this.error=i}};function qn(e,t,r){try{return nr(e)?e[Ur].Encode(r):r}catch(n){throw new D6(e,t,r,n)}}o(qn,"Default");function tQ(e,t,r,n){let i=qn(e,r,n);return st(i)?i.map((s,a)=>Ps(e.items,t,`${r}/${a}`,s)):i}o(tQ,"FromArray");function rQ(e,t,r,n){let i=globalThis.Object.values(e.$defs),s=e.$defs[e.$ref],a=qn(e,r,n);return Ps(s,[...t,...i],r,a)}o(rQ,"FromImport");function nQ(e,t,r,n){let i=qn(e,r,n);if(!Et(n)||eo(n))return i;let s=f5(e),a=s.map(d=>d[0]),l={...i};for(let[d,p]of s)d in l&&(l[d]=Ps(p,t,`${r}/${d}`,l[d]));if(!nr(e.unevaluatedProperties))return l;let c=Object.getOwnPropertyNames(l),f=e.unevaluatedProperties,u={...l};for(let d of c)a.includes(d)||(u[d]=qn(f,`${r}/${d}`,u[d]));return u}o(nQ,"FromIntersect");function iQ(e,t,r,n){return qn(e.not,r,qn(e,r,n))}o(iQ,"FromNot");function oQ(e,t,r,n){let i=qn(e,r,n);if(!Et(i))return i;let s=ki(e),a={...i};for(let u of s)ot(a,u)&&(Pr(a[u])&&(!na(e.properties[u])||Ir.IsExactOptionalProperty(a,u))||(a[u]=Ps(e.properties[u],t,`${r}/${u}`,a[u])));if(!Br(e.additionalProperties))return a;let l=Object.getOwnPropertyNames(a),c=e.additionalProperties,f={...a};for(let u of l)s.includes(u)||(f[u]=qn(c,`${r}/${u}`,f[u]));return f}o(oQ,"FromObject");function sQ(e,t,r,n){let i=qn(e,r,n);if(!Et(n))return i;let s=Object.getOwnPropertyNames(e.patternProperties)[0],a=new RegExp(s),l={...i};for(let d of Object.getOwnPropertyNames(n))a.test(d)&&(l[d]=Ps(e.patternProperties[s],t,`${r}/${d}`,l[d]));if(!Br(e.additionalProperties))return l;let c=Object.getOwnPropertyNames(l),f=e.additionalProperties,u={...l};for(let d of c)a.test(d)||(u[d]=qn(f,`${r}/${d}`,u[d]));return u}o(sQ,"FromRecord");function aQ(e,t,r,n){let i=Zt(e,t),s=Ps(i,t,r,n);return qn(e,r,s)}o(aQ,"FromRef");function lQ(e,t,r,n){let i=Zt(e,t),s=Ps(i,t,r,n);return qn(e,r,s)}o(lQ,"FromThis");function cQ(e,t,r,n){let i=qn(e,r,n);return st(e.items)?e.items.map((s,a)=>Ps(s,t,`${r}/${a}`,i[a])):[]}o(cQ,"FromTuple");function uQ(e,t,r,n){for(let i of e.anyOf){if(!wt(i,t,n))continue;let s=Ps(i,t,r,n);return qn(e,r,s)}for(let i of e.anyOf){let s=Ps(i,t,r,n);if(wt(e,t,s))return qn(e,r,s)}return qn(e,r,n)}o(uQ,"FromUnion");function Ps(e,t,r,n){let i=Rn(e,t),s=e;switch(e[te]){case"Array":return tQ(s,i,r,n);case"Import":return rQ(s,i,r,n);case"Intersect":return nQ(s,i,r,n);case"Not":return iQ(s,i,r,n);case"Object":return oQ(s,i,r,n);case"Record":return sQ(s,i,r,n);case"Ref":return aQ(s,i,r,n);case"This":return lQ(s,i,r,n);case"Tuple":return cQ(s,i,r,n);case"Union":return uQ(s,i,r,n);default:return qn(s,r,n)}}o(Ps,"Visit");function Wf(e,t,r){return Ps(e,t,"",r)}o(Wf,"TransformEncode");function fQ(e,t){return nr(e)||Tn(e.items,t)}o(fQ,"FromArray");function dQ(e,t){return nr(e)||Tn(e.items,t)}o(dQ,"FromAsyncIterator");function mQ(e,t){return nr(e)||Tn(e.returns,t)||e.parameters.some(r=>Tn(r,t))}o(mQ,"FromConstructor");function pQ(e,t){return nr(e)||Tn(e.returns,t)||e.parameters.some(r=>Tn(r,t))}o(pQ,"FromFunction");function gQ(e,t){return nr(e)||nr(e.unevaluatedProperties)||e.allOf.some(r=>Tn(r,t))}o(gQ,"FromIntersect");function hQ(e,t){let r=globalThis.Object.getOwnPropertyNames(e.$defs).reduce((i,s)=>[...i,e.$defs[s]],[]),n=e.$defs[e.$ref];return nr(e)||Tn(n,[...r,...t])}o(hQ,"FromImport");function xQ(e,t){return nr(e)||Tn(e.items,t)}o(xQ,"FromIterator");function bQ(e,t){return nr(e)||Tn(e.not,t)}o(bQ,"FromNot");function _Q(e,t){return nr(e)||Object.values(e.properties).some(r=>Tn(r,t))||Br(e.additionalProperties)&&Tn(e.additionalProperties,t)}o(_Q,"FromObject");function yQ(e,t){return nr(e)||Tn(e.item,t)}o(yQ,"FromPromise");function vQ(e,t){let r=Object.getOwnPropertyNames(e.patternProperties)[0],n=e.patternProperties[r];return nr(e)||Tn(n,t)||Br(e.additionalProperties)&&nr(e.additionalProperties)}o(vQ,"FromRecord");function TQ(e,t){return nr(e)?!0:Tn(Zt(e,t),t)}o(TQ,"FromRef");function IQ(e,t){return nr(e)?!0:Tn(Zt(e,t),t)}o(IQ,"FromThis");function EQ(e,t){return nr(e)||!Pr(e.items)&&e.items.some(r=>Tn(r,t))}o(EQ,"FromTuple");function CQ(e,t){return nr(e)||e.anyOf.some(r=>Tn(r,t))}o(CQ,"FromUnion");function Tn(e,t){let r=Rn(e,t),n=e;if(e.$id&&R6.has(e.$id))return!1;switch(e.$id&&R6.add(e.$id),e[te]){case"Array":return fQ(n,r);case"AsyncIterator":return dQ(n,r);case"Constructor":return mQ(n,r);case"Function":return pQ(n,r);case"Import":return hQ(n,r);case"Intersect":return gQ(n,r);case"Iterator":return xQ(n,r);case"Not":return bQ(n,r);case"Object":return _Q(n,r);case"Promise":return yQ(n,r);case"Record":return vQ(n,r);case"Ref":return TQ(n,r);case"This":return IQ(n,r);case"Tuple":return EQ(n,r);case"Union":return CQ(n,r);default:return nr(e)}}o(Tn,"Visit");var R6=new Set;function ca(e,t){return R6.clear(),Tn(e,t)}o(ca,"HasTransform");function nD(...e){let[t,r,n]=e.length===3?[e[0],e[1],e[2]]:[e[0],[],e[1]];if(!wt(t,r,n))throw new jf(t,n,i0(t,r,n).First());return ca(t,r)?$f(t,r,n):n}o(nD,"Decode");function ua(e,t){let r=ot(e,"default")?e.default:void 0,n=nl(r)?r():Qt(r);return Pr(t)?n:Et(t)&&Et(n)?Object.assign(n,t):t}o(ua,"ValueOrDefault");function N6(e){return ol(e)&&"default"in e}o(N6,"HasDefaultProperty");function SQ(e,t,r){if(st(r)){for(let i=0;i<r.length;i++)r[i]=_i(e.items,t,r[i]);return r}let n=ua(e,r);if(!st(n))return n;for(let i=0;i<n.length;i++)n[i]=_i(e.items,t,n[i]);return n}o(SQ,"FromArray");function wQ(e,t,r){return gi(r)?r:ua(e,r)}o(wQ,"FromDate");function PQ(e,t,r){let n=globalThis.Object.values(e.$defs),i=e.$defs[e.$ref];return _i(i,[...t,...n],r)}o(PQ,"FromImport");function DQ(e,t,r){let n=ua(e,r);return e.allOf.reduce((i,s)=>{let a=_i(s,t,n);return Et(a)?{...i,...a}:a},{})}o(DQ,"FromIntersect");function RQ(e,t,r){let n=ua(e,r);if(!Et(n))return n;let i=Object.getOwnPropertyNames(e.properties);for(let s of i){let a=_i(e.properties[s],t,n[s]);Pr(a)||(n[s]=_i(e.properties[s],t,n[s]))}if(!N6(e.additionalProperties))return n;for(let s of Object.getOwnPropertyNames(n))i.includes(s)||(n[s]=_i(e.additionalProperties,t,n[s]));return n}o(RQ,"FromObject");function NQ(e,t,r){let n=ua(e,r);if(!Et(n))return n;let i=e.additionalProperties,[s,a]=Object.entries(e.patternProperties)[0],l=new RegExp(s);for(let c of Object.getOwnPropertyNames(n))l.test(c)&&N6(a)&&(n[c]=_i(a,t,n[c]));if(!N6(i))return n;for(let c of Object.getOwnPropertyNames(n))l.test(c)||(n[c]=_i(i,t,n[c]));return n}o(NQ,"FromRecord");function AQ(e,t,r){return _i(Zt(e,t),t,ua(e,r))}o(AQ,"FromRef");function kQ(e,t,r){return _i(Zt(e,t),t,r)}o(kQ,"FromThis");function OQ(e,t,r){let n=ua(e,r);if(!st(n)||Pr(e.items))return n;let[i,s]=[e.items,Math.max(e.items.length,n.length)];for(let a=0;a<s;a++)a<i.length&&(n[a]=_i(i[a],t,n[a]));return n}o(OQ,"FromTuple");function LQ(e,t,r){let n=ua(e,r);for(let i of e.anyOf){let s=_i(i,t,Qt(n));if(wt(i,t,s))return s}return n}o(LQ,"FromUnion");function _i(e,t,r){let n=Rn(e,t),i=e;switch(i[te]){case"Array":return SQ(i,n,r);case"Date":return wQ(i,n,r);case"Import":return PQ(i,n,r);case"Intersect":return DQ(i,n,r);case"Object":return RQ(i,n,r);case"Record":return NQ(i,n,r);case"Ref":return AQ(i,n,r);case"This":return kQ(i,n,r);case"Tuple":return OQ(i,n,r);case"Union":return LQ(i,n,r);default:return ua(i,r)}}o(_i,"Visit");function j5(...e){return e.length===3?_i(e[0],e[1],e[2]):_i(e[0],[],e[1])}o(j5,"Default");var Ds={};Vs(Ds,{Delete:()=>MQ,Format:()=>x1,Get:()=>BQ,Has:()=>UQ,Set:()=>FQ,ValuePointerRootDeleteError:()=>q5,ValuePointerRootSetError:()=>$5});var $5=class extends at{static{o(this,"ValuePointerRootSetError")}constructor(t,r,n){super("Cannot set root value"),this.value=t,this.path=r,this.update=n}},q5=class extends at{static{o(this,"ValuePointerRootDeleteError")}constructor(t,r){super("Cannot delete root value"),this.value=t,this.path=r}};function iD(e){return e.indexOf("~")===-1?e:e.replace(/~1/g,"/").replace(/~0/g,"~")}o(iD,"Escape");function*x1(e){if(e==="")return;let[t,r]=[0,0];for(let n=0;n<e.length;n++)e.charAt(n)==="/"?(n===0||(r=n,yield iD(e.slice(t,r))),t=n+1):r=n;yield iD(e.slice(t))}o(x1,"Format");function FQ(e,t,r){if(t==="")throw new $5(e,t,r);let[n,i,s]=[null,e,""];for(let a of x1(t))i[a]===void 0&&(i[a]={}),n=i,i=i[a],s=a;n[s]=r}o(FQ,"Set");function MQ(e,t){if(t==="")throw new q5(e,t);let[r,n,i]=[null,e,""];for(let s of x1(t)){if(n[s]===void 0||n[s]===null)return;r=n,n=n[s],i=s}if(Array.isArray(r)){let s=parseInt(i);r.splice(s,1)}else delete r[i]}o(MQ,"Delete");function UQ(e,t){if(t==="")return!0;let[r,n,i]=[null,e,""];for(let s of x1(t)){if(n[s]===void 0)return!1;r=n,n=n[s],i=s}return Object.getOwnPropertyNames(r).includes(i)}o(UQ,"Has");function BQ(e,t){if(t==="")return e;let r=e;for(let n of x1(t)){if(r[n]===void 0)return;r=r[n]}return r}o(BQ,"Get");function jQ(e,t){if(!Et(t))return!1;let r=[...Object.keys(e),...Object.getOwnPropertySymbols(e)],n=[...Object.keys(t),...Object.getOwnPropertySymbols(t)];return r.length!==n.length?!1:r.every(i=>Bc(e[i],t[i]))}o(jQ,"ObjectType");function $Q(e,t){return gi(t)&&e.getTime()===t.getTime()}o($Q,"DateType");function qQ(e,t){return!st(t)||e.length!==t.length?!1:e.every((r,n)=>Bc(r,t[n]))}o(qQ,"ArrayType");function WQ(e,t){return!Ao(t)||e.length!==t.length||Object.getPrototypeOf(e).constructor.name!==Object.getPrototypeOf(t).constructor.name?!1:e.every((r,n)=>Bc(r,t[n]))}o(WQ,"TypedArrayType");function GQ(e,t){return e===t}o(GQ,"ValueType");function Bc(e,t){if(gi(e))return $Q(e,t);if(Ao(e))return WQ(e,t);if(st(e))return qQ(e,t);if(Et(e))return jQ(e,t);if(eo(e))return GQ(e,t);throw new Error("ValueEquals: Unable to compare value")}o(Bc,"Equal");var zQ=or({type:Wt("insert"),path:xi(),value:Ts()}),HQ=or({type:Wt("update"),path:xi(),value:Ts()}),VQ=or({type:Wt("delete"),path:xi()}),sD=ir([zQ,HQ,VQ]),W5=class extends at{static{o(this,"ValueDiffError")}constructor(t,r){super(r),this.value=t}};function G5(e,t){return{type:"update",path:e,value:t}}o(G5,"CreateUpdate");function aD(e,t){return{type:"insert",path:e,value:t}}o(aD,"CreateInsert");function lD(e){return{type:"delete",path:e}}o(lD,"CreateDelete");function oD(e){if(globalThis.Object.getOwnPropertySymbols(e).length>0)throw new W5(e,"Cannot diff objects with symbols")}o(oD,"AssertDiffable");function*KQ(e,t,r){if(oD(t),oD(r),!Ab(r))return yield G5(e,r);let n=globalThis.Object.getOwnPropertyNames(t),i=globalThis.Object.getOwnPropertyNames(r);for(let s of i)ot(t,s)||(yield aD(`${e}/${s}`,r[s]));for(let s of n)ot(r,s)&&(Bc(t,r)||(yield*z5(`${e}/${s}`,t[s],r[s])));for(let s of n)ot(r,s)||(yield lD(`${e}/${s}`))}o(KQ,"ObjectType");function*YQ(e,t,r){if(!st(r))return yield G5(e,r);for(let n=0;n<Math.min(t.length,r.length);n++)yield*z5(`${e}/${n}`,t[n],r[n]);for(let n=0;n<r.length;n++)n<t.length||(yield aD(`${e}/${n}`,r[n]));for(let n=t.length-1;n>=0;n--)n<r.length||(yield lD(`${e}/${n}`))}o(YQ,"ArrayType");function*XQ(e,t,r){if(!Ao(r)||t.length!==r.length||globalThis.Object.getPrototypeOf(t).constructor.name!==globalThis.Object.getPrototypeOf(r).constructor.name)return yield G5(e,r);for(let n=0;n<Math.min(t.length,r.length);n++)yield*z5(`${e}/${n}`,t[n],r[n])}o(XQ,"TypedArrayType");function*JQ(e,t,r){t!==r&&(yield G5(e,r))}o(JQ,"ValueType");function*z5(e,t,r){if(Ab(t))return yield*KQ(e,t,r);if(st(t))return yield*YQ(e,t,r);if(Ao(t))return yield*XQ(e,t,r);if(eo(t))return yield*JQ(e,t,r);throw new W5(t,"Unable to diff value")}o(z5,"Visit");function cD(e,t){return[...z5("",e,t)]}o(cD,"Diff");function ZQ(e){return e.length>0&&e[0].path===""&&e[0].type==="update"}o(ZQ,"IsRootUpdate");function QQ(e){return e.length===0}o(QQ,"IsIdentity");function uD(e,t){if(ZQ(t))return Qt(t[0].value);if(QQ(t))return Qt(e);let r=Qt(e);for(let n of t)switch(n.type){case"insert":{Ds.Set(r,n.path,n.value);break}case"update":{Ds.Set(r,n.path,n.value);break}case"delete":{Ds.Delete(r,n.path);break}}return r}o(uD,"Patch");function fD(...e){let[t,r,n]=e.length===3?[e[0],e[1],e[2]]:[e[0],[],e[1]],i=ca(t,r)?Wf(t,r,n):n;if(!wt(t,r,i))throw new qf(t,i,i0(t,r,i).First());return i}o(fD,"Encode");function H5(e){return Et(e)&&!st(e)}o(H5,"IsStandardObject");var V5=class extends at{static{o(this,"ValueMutateError")}constructor(t){super(t)}};function eee(e,t,r,n){if(!H5(r))Ds.Set(e,t,Qt(n));else{let i=Object.getOwnPropertyNames(r),s=Object.getOwnPropertyNames(n);for(let a of i)s.includes(a)||delete r[a];for(let a of s)i.includes(a)||(r[a]=null);for(let a of s)A6(e,`${t}/${a}`,r[a],n[a])}}o(eee,"ObjectType");function tee(e,t,r,n){if(!st(r))Ds.Set(e,t,Qt(n));else{for(let i=0;i<n.length;i++)A6(e,`${t}/${i}`,r[i],n[i]);r.splice(n.length)}}o(tee,"ArrayType");function ree(e,t,r,n){if(Ao(r)&&r.length===n.length)for(let i=0;i<r.length;i++)r[i]=n[i];else Ds.Set(e,t,Qt(n))}o(ree,"TypedArrayType");function nee(e,t,r,n){r!==n&&Ds.Set(e,t,n)}o(nee,"ValueType");function A6(e,t,r,n){if(st(n))return tee(e,t,r,n);if(Ao(n))return ree(e,t,r,n);if(H5(n))return eee(e,t,r,n);if(eo(n))return nee(e,t,r,n)}o(A6,"Visit");function dD(e){return Ao(e)||eo(e)}o(dD,"IsNonMutableValue");function iee(e,t){return H5(e)&&st(t)||st(e)&&H5(t)}o(iee,"IsMismatchedValue");function mD(e,t){if(dD(e)||dD(t))throw new V5("Only object and array types can be mutated at the root level");if(iee(e,t))throw new V5("Cannot assign due type mismatch of assignable values");A6(e,"",e,t)}o(mD,"Mutate");var K5=class extends at{static{o(this,"ParseError")}constructor(t){super(t)}},k6;(function(e){let t=new Map([["Assert",(s,a,l)=>(L5(s,a,l),l)],["Cast",(s,a,l)=>p1(s,a,l)],["Clean",(s,a,l)=>M5(s,a,l)],["Clone",(s,a,l)=>Qt(l)],["Convert",(s,a,l)=>B5(s,a,l)],["Decode",(s,a,l)=>ca(s,a)?$f(s,a,l):l],["Default",(s,a,l)=>j5(s,a,l)],["Encode",(s,a,l)=>ca(s,a)?Wf(s,a,l):l]]);function r(s){t.delete(s)}o(r,"Delete"),e.Delete=r;function n(s,a){t.set(s,a)}o(n,"Set"),e.Set=n;function i(s){return t.get(s)}o(i,"Get"),e.Get=i})(k6||(k6={}));var pD=["Clone","Clean","Default","Convert","Assert","Decode"];function oee(e,t,r,n){return e.reduce((i,s)=>{let a=k6.Get(s);if(Pr(a))throw new K5(`Unable to find Parse operation '${s}'`);return a(t,r,i)},n)}o(oee,"ParseValue");function gD(...e){let[t,r,n,i]=e.length===4?[e[0],e[1],e[2],e[3]]:e.length===3?st(e[0])?[e[0],e[1],[],e[2]]:[pD,e[0],e[1],e[2]]:e.length===2?[pD,e[0],[],e[1]]:(()=>{throw new K5("Invalid Arguments")})();return oee(t,r,n,i)}o(gD,"Parse");var pl={};Vs(pl,{Assert:()=>L5,Cast:()=>p1,Check:()=>wt,Clean:()=>M5,Clone:()=>Qt,Convert:()=>B5,Create:()=>jo,Decode:()=>nD,Default:()=>j5,Diff:()=>cD,Edit:()=>sD,Encode:()=>fD,Equal:()=>Bc,Errors:()=>i0,Hash:()=>dl,Mutate:()=>mD,Parse:()=>gD,Patch:()=>uD,ValueErrorIterator:()=>ml});var see="gpt-4o-copilot",o0=class e{constructor(t,r=!0){this._ctx=t;this.onModelsFetchedCallbacks=[];this.fetchedModelData=[];this.customModels=[];this.editorPreviewFeaturesDisabled=!1;r&&Vr(this._ctx,n=>this.refreshAvailableModels(n))}static{o(this,"AvailableModelsManager")}async refreshAvailableModels(t){await this.refreshModels(t);for(let r of this.onModelsFetchedCallbacks)r()}addHandler(t){this.onModelsFetchedCallbacks.push(t)}getDefaultModelId(){if(this.fetchedModelData){let t=e.filterCompletionModels(this.fetchedModelData,this.editorPreviewFeaturesDisabled)[0];if(t)return t.id}return see}parseModelsResponse(t){try{return pl.Parse(PP,t)}catch(r){Lt.exception(this._ctx,r,"Failed to parse /models response from CAPI");return}}async refreshModels(t){let r=await this.fetchModels(t);r&&(this.fetchedModelData=r)}async fetchModels(t){return this.customModels=t.getTokenValue("cml")?.split(",")??[],this.editorPreviewFeaturesDisabled=t.getTokenValue("editor_preview_features")=="0",await this.fetch()}async fetch(){let t=await Sb(this._ctx,"/models");return t.ok?this.parseModelsResponse(await t.json())?.data??[]:(Lt.error(this._ctx,"Failed to fetch models from CAPI",{status:t.status,statusText:t.statusText}),null)}getGenericCompletionModels(){let t=e.filterCompletionModels(this.fetchedModelData,this.editorPreviewFeaturesDisabled);return e.mapCompletionModels(t)}getTokenizerForModel(t){let n=this.getGenericCompletionModels().find(i=>i.modelId===t);return n?n.tokenizer:"o200k_base"}static filterCompletionModels(t,r){return t.filter(n=>n.capabilities.type==="completion").filter(n=>!r||n.preview===!1||n.preview===void 0)}static filterModelsWithEditorPreviewFeatures(t,r){return t.filter(n=>!r||n.preview===!1||n.preview===void 0)}static mapCompletionModels(t){return t.map(r=>({modelId:r.id,label:r.name,preview:!!r.preview,tokenizer:r.capabilities.tokenizer}))}getCurrentModelRequestInfo(t=void 0){let r=this.getDefaultModelId(),n=d1(this._ctx);if(n){let l=this.getGenericCompletionModels().map(c=>c.modelId);l.includes(n)||(l.length>0&&Lt.error(this._ctx,`User selected model ${n} is not in the list of generic models: ${l.join(", ")}, falling back to default model.`),n=null),r===n&&(n=null)}let i=It(this._ctx,_e.DebugOverrideEngine)||It(this._ctx,_e.DebugOverrideEngineLegacy);if(i)return new gl(i,"override");let s=t?this._ctx.get(Be).customEngine(t):"",a=t?this._ctx.get(Be).customEngineTargetEngine(t):void 0;return n?s&&a&&n===a?new gl(s,"exp"):new gl(n,"modelpicker"):s?new gl(s,"exp"):this.customModels.length>0?new gl(this.customModels[0],"custommodel"):new gl(r,"default")}},gl=class{constructor(t,r){this.modelId=t;this.modelChoiceSource=r}static{o(this,"ModelRequestInfo")}get headers(){return{}}};function Gf(e,t=void 0){let r=e.get(o0),n=r.getCurrentModelRequestInfo(t),i=r.getTokenizerForModel(n.modelId);return{headers:n.headers,modelId:n.modelId,engineChoiceSource:n.modelChoiceSource,tokenizer:i}}o(Gf,"getEngineRequestInfo");var Jr=class{static{o(this,"FileSystem")}};var kD=Tt(AD());function OD(e){if(e===void 0||e===0)return"";let t=b1(e);if(t==="github/github")return t;let r=Aee(e)?.toLowerCase();return r!==void 0?r:""}o(OD,"getDogFood");function b1(e){if(e!==void 0&&e!==0&&e.hostname==="github.com")return e.owner+"/"+e.repo}o(b1,"tryGetGitHubNWO");function Aee(e){if(e!==void 0&&e!==0&&(e.hostname.endsWith("azure.com")||e.hostname.endsWith("visualstudio.com")))return e.owner+"/"+e.repo}o(Aee,"tryGetADONWO");function zf(e,t){let r=X0(t);return kee(e,r)}o(zf,"extractRepoInfoInBackground");var kee=Uee(Oee,1e4);async function Oee(e,t){let r=lS(t);if(!r)return;let n=await Fee(e,r);if(!n)return;let i=e.get(Jr),s=Dn(n,".git","config"),a;try{a=await i.readFileString(s)}catch{return}let l=Mee(a)??"",c=Lee(l),f={uri:n};return c===void 0?{baseFolder:f,url:l,hostname:"",owner:"",repo:"",pathname:""}:{baseFolder:f,url:l,...c}}o(Oee,"extractRepoInfo");function Lee(e){let t;try{if(t=(0,kD.default)(e),t.resource==""||t.owner==""||t.name==""||t.pathname=="")return}catch{return}return{hostname:t.resource,owner:t.owner,repo:t.name,pathname:t.pathname}}o(Lee,"parseRepoUrl");async function Fee(e,t){let r=t+"_add_to_make_longer",n=e.get(Jr);for(;t!=="file:///"&&t.length<r.length;){let i=Dn(t,".git","config"),s=!1;try{await n.stat(i),s=!0}catch{s=!1}if(s)return t;r=t,t=X0(t)}}o(Fee,"getRepoBaseUri");function Mee(e){let t=/^\s*\[\s*remote\s+"((\\\\|\\"|[^\\"])+)"/,r=/^\s*\[remote.([^"\s]+)/,n=/^\s*url\s*=\s*([^\s#;]+)/,i=/^\s*\[/,s,a,l=!1;for(let c of e.split(`
`))if(l&&s!==void 0){if(s+=c,c.endsWith("\\"))s=s.substring(0,s.length-1);else if(l=!1,a==="origin")return s}else{let f=c.match(t)??c.match(r);if(f)a=f[1];else if(c.match(i))a=void 0;else{if(s&&a!=="origin")continue;{let u=c.match(n);if(u){if(s=u[1],s.endsWith("\\"))s=s.substring(0,s.length-1),l=!0;else if(a==="origin")return s}}}}return s}o(Mee,"getRepoUrlFromConfigText");var M6=class{static{o(this,"CompletedComputation")}constructor(t){this.result=t}};function Uee(e,t){let r=new rr(t),n=new Set;return(i,...s)=>{let a=JSON.stringify(s),l=r.get(a);if(l)return l.result;if(n.has(a))return 0;let c=e(i,...s);return n.add(a),c.then(f=>{r.set(a,new M6(f)),n.delete(a)}),0}}o(Uee,"computeInBackgroundAndMemoize");var _1=500,LD=8192-_1,FD=4,Y5=10,MD=15,Bee={javascriptreact:"javascript",jsx:"javascript",typescriptreact:"typescript",jade:"pug",cshtml:"razor",c:"cpp"};function y1(e){return e=e.toLowerCase(),Bee[e]??e}o(y1,"normalizeLanguageId");var U6=class{constructor(t){this.ctx=t;this.cache=new rr(200)}static{o(this,"FilterSettingsToExpConfigs")}async fetchExpConfig(t,r){let n=t.stringify()+`
`+JSON.stringify(r),i=this.cache.get(n);return i||(i=new B6(()=>this.ctx.get(Sc).fetchExperiments(this.ctx,r,t.toHeaders()),1e3*60*60),this.cache.set(n,i)),i.run()}getCachedExpConfig(t){return this.cache.get(t.stringify())?.value()}},B6=class{constructor(t,r=1/0){this.producer=t;this.expirationMs=r}static{o(this,"Task")}async run(){return this.promise===void 0&&(this.promise=this.producer(),this.storeResult(this.promise).then(()=>{this.expirationMs<1/0&&this.promise!==void 0&&setTimeout(()=>this.promise=void 0,this.expirationMs)})),this.promise}async storeResult(t){try{this.result=await t}finally{this.result===void 0&&(this.promise=void 0)}}value(){return this.result}};function $ee(e){return"uri"in e}o($ee,"isCompletionsFiltersInfo");var Be=class e{constructor(t){this.ctx=t;this.staticFilters={};this.dynamicFilters={};this.dynamicFilterGroups=[];this.upcomingDynamicFilters={};this.assignments=new U6(this.ctx)}static{o(this,"Features")}static{this.upcomingDynamicFilterCheckDelayMs=20}static{this.upcomingTimeBucketMinutes=5+Math.floor(Math.random()*11)}registerStaticFilters(t){Object.assign(this.staticFilters,t)}registerDynamicFilter(t,r){this.dynamicFilters[t]=r}registerDynamicFilterGroup(t){this.dynamicFilterGroups.push(t)}getDynamicFilterValues(){let t={};for(let r of this.dynamicFilterGroups)Object.assign(t,r());for(let[r,n]of Object.entries(this.dynamicFilters))t[r]=n();return t}registerUpcomingDynamicFilter(t,r){this.upcomingDynamicFilters[t]=r}async updateExPValuesAndAssignments(t,r=Qe.createAndMarkAsIssued(),n=void 0){if(r instanceof v1)throw new Error("updateExPValuesAndAssignments should not be called with TelemetryWithExp");let i=t&&$ee(t)?zf(this.ctx,t.uri):void 0,s=b1(i)??"",a=OD(i)??"",l=t?.languageId??"",c=Gf(this.ctx).modelId;n??=await this.ctx.get(Mr).getToken();let f=jE(n),u=n.getTokenValue("ft")??"",d=n.getTokenValue("ol")??"",p=n.getTokenValue("cml")??"",m=n.getTokenValue("tid")??"",g=n.endpoints,h={"X-Copilot-Repository":s,"X-Copilot-FileType":l,"X-Copilot-UserKind":f,"X-Copilot-Dogfood":a,"X-Copilot-Engine":c,"X-Copilot-CustomModel":u,"X-Copilot-Orgs":d,"X-Copilot-CustomModelNames":p,"X-Copilot-CopilotTrackingId":m},_=this.getGranularityDirectory(),b=this.makeFilterSettings(h),x=_.extendFilters(b),y=await this.getExpConfig(x.newFilterSettings,g);_.update(b,+(y.variables.copilotbycallbuckets??NaN),+(y.variables.copilottimeperiodsizeinh??NaN));let E=_.extendFilters(b),S=E.newFilterSettings,w=await this.getExpConfig(S,g),z=new Promise(V=>setTimeout(V,e.upcomingDynamicFilterCheckDelayMs));for(let V of E.otherFilterSettingsToPrefetch)z=z.then(async()=>{await new Promise(W=>setTimeout(W,e.upcomingDynamicFilterCheckDelayMs)),this.getExpConfig(V,g)});return this.prepareForUpcomingFilters(S,g),new v1(r.properties,r.measurements,r.issuedTime,{filters:S,exp:w})}getGranularityDirectory(){if(!this.granularityDirectory){let t=this.ctx.get(cn).machineId;this.granularityDirectory=new Gh(t,this.ctx.get(Ic))}return this.granularityDirectory}makeFilterSettings(t){return new wc({...this.staticFilters,...this.getDynamicFilterValues(),...t})}async getExpConfig(t,r){try{return this.assignments.fetchExpConfig(t,r)}catch(n){return ds.createFallbackConfig(this.ctx,`Error fetching ExP config: ${String(n)}`)}}async prepareForUpcomingFilters(t,r){if(!(new Date().getMinutes()<60-e.upcomingTimeBucketMinutes))for(let[n,i]of Object.entries(this.upcomingDynamicFilters))await new Promise(s=>setTimeout(s,e.upcomingDynamicFilterCheckDelayMs)),this.getExpConfig(t.withChange(n,i()),r)}stringify(){let t=this.assignments.getCachedExpConfig(new wc({}));return JSON.stringify(t?.variables??{})}async getFallbackExpAndFilters(){let t=this.makeFilterSettings({}),r=fS(this.ctx),n=await this.getExpConfig(t,r);return{filters:t,exp:n}}disableLogProb(t){return t.filtersAndExp.exp.variables.copilotdisablelogprob??!0}overrideBlockMode(t){return t.filtersAndExp.exp.variables.copilotoverrideblockmode||void 0}customEngine(t){return t.filtersAndExp.exp.variables.copilotcustomengine??""}customEngineTargetEngine(t){return t.filtersAndExp.exp.variables.copilotcustomenginetargetengine}suffixPercent(t){return t.filtersAndExp.exp.variables.CopilotSuffixPercent??MD}suffixMatchThreshold(t){return t.filtersAndExp.exp.variables.copilotsuffixmatchthreshold??Y5}cppHeadersEnableSwitch(t){return t.filtersAndExp.exp.variables.copilotcppheadersenableswitch??!1}relatedFilesVSCodeCSharp(t){return t.filtersAndExp.exp.variables.copilotrelatedfilesvscodecsharp??!1}relatedFilesVSCodeTypeScript(t){return t.filtersAndExp.exp.variables.copilotrelatedfilesvscodetypescript??!1}relatedFilesVSCode(t){return t.filtersAndExp.exp.variables.copilotrelatedfilesvscode??!1}contextProviders(t){let r=t.filtersAndExp.exp.variables.copilotcontextproviders??"";return r?r.split(",").map(n=>n.trim()):[]}contextProviderTimeBudget(t){return t.filtersAndExp.exp.variables.copilotcontextprovidertimebudget??150}includeNeighboringFiles(t){return t.filtersAndExp.exp.variables.copilotincludeneighboringfiles??!1}excludeRelatedFiles(t){return t.filtersAndExp.exp.variables.copilotexcluderelatedfiles??!1}maxPromptCompletionTokens(t){return t.filtersAndExp.exp.variables.maxpromptcompletionTokens??LD+_1}ideChatMaxRequestTokens(t){return t.filtersAndExp.exp.variables.idechatmaxrequesttokens??-1}ideChatExpModelIds(t){return t.filtersAndExp.exp.variables.idechatexpmodelids??""}ideChatEnableProjectMetadata(t){return t.filtersAndExp.exp.variables.idechatenableprojectmetadata??!1}workspaceContextCoordinator(t){return t.filtersAndExp.exp.variables.copilotworkspacecontextcoordinator??!1}enableSpeculativeRequests(t){return t.filtersAndExp.exp.variables.copilotspeculativerequests??!1}enableSpeculativeRequestsShown(t){return t.filtersAndExp.exp.variables.copilotspeculativerequestsshown??!1}cppContextProviderParams(t){return t.filtersAndExp.exp.variables.copilotcppContextProviderParams}csharpContextProviderParams(t){return t.filtersAndExp.exp.variables.copilotcsharpcontextproviderparams}javaContextProviderParams(t){return t.filtersAndExp.exp.variables.copilotjavacontextproviderparams}multiLanguageContextProviderParams(t){return t.filtersAndExp.exp.variables.copilotmultilanguagecontextproviderparams}tsContextProviderParams(t){return t.filtersAndExp.exp.variables.copilottscontextproviderparams}completionsDebounce(t){return t.filtersAndExp.exp.variables.copilotcompletionsdebounce}enableElectronFetcher(t){return t.filtersAndExp.exp.variables.copilotelectronfetcher??!1}asyncCompletionsTimeout(t){return t.filtersAndExp.exp.variables.copilotasynccompletionstimeout??200}enablePromptContextProxyField(t){return t.filtersAndExp.exp.variables.copilotenablepromptcontextproxyfield??!1}enableProgressiveReveal(t){return t.filtersAndExp.exp.variables.copilotprogressivereveal??!1}modelAlwaysTerminatesSingleline(t){return t.filtersAndExp.exp.variables.copilotmodelterminatesingleline??!1}longLookaheadSize(t){return t.filtersAndExp.exp.variables.copilotprogressivereveallonglookaheadsize??7}shortLookaheadSize(t){return t.filtersAndExp.exp.variables.copilotprogressiverevealshortlookaheadsize??3}multilineAfterAcceptLines(t){return t.filtersAndExp.exp.variables.copilotmultilineafteracceptlines??1}enableNESXTab(t){return t.filtersAndExp.exp.variables.copilotnesxtab??!1}getNESXTabModelID(t){return t.filtersAndExp.exp.variables.copilotnesxtabmodelid??"copilot-nes-xtab"}completionsDelay(t){return t.filtersAndExp.exp.variables.copilotcompletionsdelay??0}singleLineUnlessAccepted(t){return t.filtersAndExp.exp.variables.copilotsinglelineunlessaccepted??!1}};var J5=Tt(X5());var $6={python:"python",javascript:"javascript",javascriptreact:"javascript",jsx:"javascript",typescript:"typescript",typescriptreact:"tsx",go:"go",ruby:"ruby",csharp:"c_sharp",java:"java",php:"php",c:"cpp",cpp:"cpp"};function s0(e){return e in $6&&e!=="csharp"&&e!=="java"&&e!=="php"&&e!=="c"&&e!=="cpp"}o(s0,"isSupportedLanguageId");function Z5(e){if(!(e in $6))throw new Error(`Unrecognized language: ${e}`);return $6[e]}o(Z5,"languageIdToWasmLanguage");var j6=new Map;async function qee(e){let t;try{t=await C5(`tree-sitter-${e}.wasm`)}catch(r){throw r instanceof Error&&"code"in r&&typeof r.code=="string"&&r.name==="Error"?new Lf(`Could not load tree-sitter-${e}.wasm`,r):r}return J5.default.Language.load(t)}o(qee,"loadWasmLanguage");function W6(e){let t=Z5(e);if(!j6.has(t)){let r=qee(t);j6.set(t,r)}return j6.get(t)}o(W6,"getLanguage");var q6=class extends Error{static{o(this,"WrappedError")}constructor(t,r){super(t,{cause:r})}};async function jc(e,t){await J5.default.init({locateFile:o(s=>DP(s),"locateFile")});let r;try{r=new J5.default}catch(s){throw s&&typeof s=="object"&&"message"in s&&typeof s.message=="string"&&s.message.includes("table index is out of bounds")?new q6(`Could not init Parse for language <${e}>`,s):s}let n=await W6(e);r.setLanguage(n);let i=r.parse(t);return r.delete(),i}o(jc,"parseTreeSitter");function UD(e){switch(Z5(e)){case"python":return null;case"javascript":case"typescript":case"tsx":case"go":case"c_sharp":case"java":case"php":case"cpp":return"}";case"ruby":return"end"}}o(UD,"getBlockCloseToken");function Wee(e,t){let r=[];for(let n of e){if(!n[1]){let i=t.tree.getLanguage();n[1]=i.query(n[0])}r.push(...n[1].matches(t))}return r}o(Wee,"innerQuery");var Gee=[`[
    (class_definition (block (expression_statement (string))))
    (function_definition (block (expression_statement (string))))
]`];function BD(e){return Wee([Gee],e).length==1}o(BD,"queryPythonIsDocstring");var a0=class{constructor(t){this.node=t;this.children=[];this.collapsed=!1}static{o(this,"StatementNode")}addChild(t){t.parent=this,t.nextSibling=void 0,this.children.length>0&&(this.children[this.children.length-1].nextSibling=t),this.children.push(t)}childrenFinished(){}containsStatement(t){return this.node.startIndex<=t.node.startIndex&&this.node.endIndex>=t.node.endIndex}statementAt(t){if(this.node.startIndex>t||this.node.endIndex<t)return;let r;return this.children.find(n=>(r=n.statementAt(t),r!==void 0)),r??this}collapse(){this.children.length=0,this.collapsed=!0}get description(){return`${this.node.type} ([${this.node.startPosition.row},${this.node.startPosition.column}]..[${this.node.endPosition.row},${this.node.endPosition.column}]): ${JSON.stringify(this.node.text.length>33?this.node.text.substring(0,15)+"..."+this.node.text.slice(-15):this.node.text)}`}dump(t="",r=""){let n=[`${t}${this.description}`];return this.children.forEach(i=>{n.push(i.dump(`${r}+- `,i.nextSibling===void 0?`${r}   `:`${r}|  `))}),n.join(`
`)}dumpPath(t="",r="",n=!1){if(this.parent){let i=this.parent.dumpPath(t,r,!0),s=i.length-i.lastIndexOf(`
`)-1-r.length,a=" ".repeat(s),l=n?`
${r}${a}+- `:"";return i+this.description+l}else{let i=n?`
${r}+- `:"";return t+this.description+i}}},ni=class{constructor(t,r,n,i){this.languageId=t;this.text=r;this.startOffset=n;this.endOffset=i;this.statements=[]}static{o(this,"StatementTree")}static isSupported(t){return T1.languageIds.has(t)||I1.languageIds.has(t)||E1.languageIds.has(t)||C1.languageIds.has(t)||S1.languageIds.has(t)||w1.languageIds.has(t)||P1.languageIds.has(t)||D1.languageIds.has(t)}static create(t,r,n,i){if(T1.languageIds.has(t))return new T1(t,r,n,i);if(I1.languageIds.has(t))return new I1(t,r,n,i);if(E1.languageIds.has(t))return new E1(t,r,n,i);if(w1.languageIds.has(t))return new w1(t,r,n,i);if(C1.languageIds.has(t))return new C1(t,r,n,i);if(S1.languageIds.has(t))return new S1(t,r,n,i);if(P1.languageIds.has(t))return new P1(t,r,n,i);if(D1.languageIds.has(t))return new D1(t,r,n,i);throw new Error(`Unsupported languageId: ${t}`)}[Symbol.dispose](){this.tree&&(this.tree.delete(),this.tree=void 0)}clear(){this.statements.length=0}statementAt(t){let r;return this.statements.find(n=>(r=n.statementAt(t),r!==void 0)),r}async build(){let t=[];this.clear();let r=await this.parse();this.getStatementQuery(r).captures(r.rootNode,this.offsetToPosition(this.startOffset),this.offsetToPosition(this.endOffset)).forEach(i=>{let s=this.createNode(i.node);for(;t.length>0&&!t[0].containsStatement(s);)t.shift()?.childrenFinished();t.length>0?t[0].addChild(s):this.addStatement(s),t.unshift(s)}),t.forEach(i=>i.childrenFinished())}addStatement(t){t.parent=void 0,t.nextSibling=void 0,this.statements.length>0&&(this.statements[this.statements.length-1].nextSibling=t),this.statements.push(t)}async parse(){return this.tree||(this.tree=await jc(this.languageId,this.text)),this.tree}getStatementQuery(t){return this.getQuery(t.getLanguage(),this.getStatementQueryText())}getQuery(t,r){return t.query(r)}offsetToPosition(t){let r=this.text.slice(0,t).split(`
`),n=r.length-1,i=r[r.length-1].length;return{row:n,column:i}}dump(t=""){let r=[];return this.statements.forEach((n,i)=>{let s=`[${i}]`,a=" ".repeat(s.length);r.push(n.dump(`${t} ${s} `,`${t} ${a} `))}),r.join(`
`)}},G6=class e extends a0{static{o(this,"JSStatementNode")}static{this.compoundTypeNames=new Set(["function_declaration","generator_function_declaration","class_declaration","statement_block","if_statement","switch_statement","for_statement","for_in_statement","while_statement","do_statement","try_statement","with_statement","labeled_statement","method_definition","interface_declaration"])}get isCompoundStatementType(){return!this.collapsed&&e.compoundTypeNames.has(this.node.type)}childrenFinished(){this.isSingleLineIfStatement()&&this.collapse()}isSingleLineIfStatement(){return this.node.type!=="if_statement"||this.node.startPosition.row!==this.node.endPosition.row?!1:this.children.length===1&&this.children[0].node.type!=="statement_block"||this.children.length===2&&this.node.childForFieldName("else")!==null&&this.children[0].node.type!=="statement_block"&&this.children[1].node.type!=="statement_block"}},T1=class extends ni{static{o(this,"JSStatementTree")}static{this.languageIds=new Set(["javascript","javascriptreact","jsx","typescript","typescriptreact"])}createNode(t){return new G6(t)}getStatementQueryText(){return`[
            (export_statement)
            (import_statement)
            (debugger_statement)
            (expression_statement)
            (declaration)
            (statement_block)
            (if_statement)
            (switch_statement)
            (for_statement)
            (for_in_statement)
            (while_statement)
            (do_statement)
            (try_statement)
            (with_statement)
            (break_statement)
            (continue_statement)
            (return_statement)
            (throw_statement)
            (empty_statement)
            (labeled_statement)
            (method_definition)
            (public_field_definition)
        ] @statement`}},z6=class e extends a0{static{o(this,"PyStatementNode")}static{this.compoundTypeNames=new Set(["if_statement","for_statement","while_statement","try_statement","with_statement","function_definition","class_definition","decorated_definition","match_statement","block"])}get isCompoundStatementType(){return!this.collapsed&&e.compoundTypeNames.has(this.node.type)}childrenFinished(){this.isSingleLineIfStatement()&&this.collapse()}isSingleLineIfStatement(){return this.node.type!=="if_statement"?!1:this.node.startPosition.row===this.node.endPosition.row}},I1=class extends ni{static{o(this,"PyStatementTree")}static{this.languageIds=new Set(["python"])}createNode(t){return new z6(t)}getStatementQueryText(){return`[
            (future_import_statement)
            (import_statement)
            (import_from_statement)
            (print_statement)
            (assert_statement)
            (expression_statement)
            (return_statement)
            (delete_statement)
            (raise_statement)
            (pass_statement)
            (break_statement)
            (continue_statement)
            (global_statement)
            (nonlocal_statement)
            (exec_statement)
            (if_statement)
            (for_statement)
            (while_statement)
            (try_statement)
            (with_statement)
            (function_definition)
            (class_definition)
            (decorated_definition)
            (match_statement)
            (block)
        ] @statement`}},H6=class e extends a0{static{o(this,"GoStatementNode")}static{this.compoundTypeNames=new Set(["function_declaration","method_declaration","if_statement","for_statement","expression_switch_statement","type_switch_statement","select_statement","block"])}get isCompoundStatementType(){return!this.collapsed&&e.compoundTypeNames.has(this.node.type)}},E1=class extends ni{static{o(this,"GoStatementTree")}static{this.languageIds=new Set(["go"])}createNode(t){return new H6(t)}getStatementQueryText(){return`[
            (package_clause)
            (function_declaration)
            (method_declaration)
            (import_declaration)
            (_statement)
            (block)
        ] @statement`}},V6=class e extends a0{static{o(this,"PhpStatementNode")}static{this.compoundTypeNames=new Set(["if_statement","else_clause","else_if_clause","for_statement","foreach_statement","while_statement","do_statement","switch_statement","try_statement","catch_clause","finally_clause","anonymous_function","compound_statement"])}get isCompoundStatementType(){return!this.collapsed&&e.compoundTypeNames.has(this.node.type)}},C1=class extends ni{static{o(this,"PhpStatementTree")}static{this.languageIds=new Set(["php"])}createNode(t){return new V6(t)}getStatementQueryText(){return`[
            (statement)
            (compound_statement)
            (method_declaration)
            (property_declaration)
            (const_declaration)
            (use_declaration)
        ] @statement`}},K6=class e extends a0{static{o(this,"RubyStatementNode")}static{this.compoundTypeNames=new Set(["if","case","while","until","for","begin","module","class","method"])}get isCompoundStatementType(){return!this.collapsed&&e.compoundTypeNames.has(this.node.type)}},S1=class extends ni{static{o(this,"RubyStatementTree")}static{this.languageIds=new Set(["ruby"])}createNode(t){return new K6(t)}getStatementQueryText(){return`[
            (_statement)
            (when)
        ] @statement`}},Y6=class e extends a0{static{o(this,"JavaStatementNode")}static{this.compoundTypeNames=new Set(["block","do_statement","enhanced_for_statement","for_statement","if_statement","labeled_statement","switch_expression","synchronized_statement","try_statement","try_with_resources_statement","while_statement","interface_declaration","method_declaration","constructor_declaration","compact_constructor_declaration","class_declaration","annotation_type_declaration","static_initializer"])}get isCompoundStatementType(){return!this.collapsed&&e.compoundTypeNames.has(this.node.type)}childrenFinished(){this.isSingleLineIfStatement()&&this.collapse()}isSingleLineIfStatement(){return this.node.type!=="if_statement"||this.node.startPosition.row!==this.node.endPosition.row?!1:this.children.length===1&&this.children[0].node.type!=="block"}},w1=class extends ni{static{o(this,"JavaStatementTree")}static{this.languageIds=new Set(["java"])}createNode(t){return new Y6(t)}getStatementQueryText(){return`[
            (statement)
            (field_declaration)
            (record_declaration)
            (method_declaration)
            (compact_constructor_declaration)
            (class_declaration)
            (interface_declaration)
            (annotation_type_declaration)
            (enum_declaration)
            (block)
            (static_initializer)
            (constructor_declaration)
            ] @statement`}},X6=class e extends a0{static{o(this,"CSharpStatementNode")}static{this.compoundTypeNames=new Set(["block","checked_statement","class_declaration","constructor_declaration","destructor_declaration","do_statement","fixed_statement","for_statement","foreach_statement","if_statement","interface_declaration","lock_statement","method_declaration","struct_declaration","switch_statement","try_statement","unsafe_statement","while_statement"])}get isCompoundStatementType(){return!this.collapsed&&e.compoundTypeNames.has(this.node.type)}childrenFinished(){this.isSingleLineIfStatement()&&this.collapse()}isSingleLineIfStatement(){return this.node.type!=="if_statement"||this.node.startPosition.row!==this.node.endPosition.row?!1:this.children.length===1&&this.children[0].node.type!=="block"}},P1=class extends ni{static{o(this,"CSharpStatementTree")}static{this.languageIds=new Set(["csharp"])}createNode(t){return new X6(t)}getStatementQueryText(){return`[
            (extern_alias_directive)
            (using_directive)
            (global_attribute)
            (preproc_if)
            (namespace_declaration)
            (file_scoped_namespace_declaration)
            (statement)
            (type_declaration)
            (declaration)
            (accessor_declaration)
            (block)
        ] @statement`}},J6=class e extends a0{static{o(this,"CStatementNode")}static{this.compoundTypeNames=new Set(["declaration","function_definition","enum_specifier","field_declaration_list","type_definition","compound_statement","if_statement","switch_statement","while_statement","for_statement","do_statement","preproc_if","preproc_ifdef","namespace_definition","class_specifier","field_declaration_list","concept_definition","template_declaration"])}get isCompoundStatementType(){return!this.collapsed&&e.compoundTypeNames.has(this.node.type)}childrenFinished(){(this.isSingleLineDeclarationStatement()||this.isSingleLineConceptDefinition())&&this.collapse()}isSingleLineDeclarationStatement(){return!(this.node.type!=="declaration"||this.node.startPosition.row!==this.node.endPosition.row)}isSingleLineConceptDefinition(){return!(this.node.type!=="concept_definition"||this.node.startPosition.row!==this.node.endPosition.row)}},D1=class extends ni{static{o(this,"CStatementTree")}static{this.languageIds=new Set(["c","cpp"])}createNode(t){return new J6(t)}getStatementQueryText(){return`[
            (declaration)
            (function_definition)
            (type_definition)
            (field_declaration)
            (enum_specifier)
            (return_statement)
            (compound_statement)
            (if_statement)
            (expression_statement)
            (switch_statement)
            (break_statement)
            (case_statement)
            (while_statement)
            (for_statement)
            (do_statement)
            (goto_statement)
            (labeled_statement)
            (preproc_if)
            (preproc_def)
            (preproc_ifdef)
            (preproc_include)
            (preproc_call)
            (preproc_function_def)
            (continue_statement)

            ;C++ specific:
            (namespace_definition)
            (class_specifier)
            (field_declaration_list)
            (field_declaration)
            (concept_definition)
            (compound_requirement)
            (template_declaration)
            (using_declaration)
            (alias_declaration)
            (static_assert_declaration)
        ] @statement`}};function zee(e){return e.HTTPS_PROXY||e.https_proxy||e.HTTP_PROXY||e.http_proxy}o(zee,"getProxyFromEnvironment");function Hee(e){return e.NODE_TLS_REJECT_UNAUTHORIZED!=="0"}o(Hee,"getRejectUnauthorizedFromEnvironment");var nCe=B.Object({proxy:B.Optional(B.String()),proxyStrictSSL:B.Optional(B.Boolean()),proxyAuthorization:B.Optional(B.String()),proxyKerberosServicePrincipal:B.Optional(B.String())});function jD(e){let t=zee(e),r=Q5({proxy:t,proxyStrictSSL:Hee(e)}),n=e.GH_COPILOT_KERBEROS_SERVICE_PRINCIPAL??e.GITHUB_COPILOT_KERBEROS_SERVICE_PRINCIPAL??e.AGENT_KERBEROS_SERVICE_PRINCIPAL;return n&&(r.proxyKerberosServicePrincipal=n),r}o(jD,"getHttpSettingsFromEnvironment");function Q5(e){if(!e.proxy)return{...e,proxy:""};try{let{protocol:t,host:r,username:n,password:i,pathname:s,search:a,hash:l}=new URL(e.proxy);return{...e,proxy:`${t}//${r}${s}${a}${l}`,proxyAuthorization:e.proxyAuthorization||Vee(n,i)}}catch{return{...e,proxy:""}}}o(Q5,"normalizeHttpSettings");function Vee(e,t){return!e||!t?"":`${decodeURIComponent(e)}:${decodeURIComponent(t)}`}o(Vee,"getAuth");var Pte=Tt(R1());var $c={};Vs($c,{activationEvents:()=>_te,badges:()=>bte,browser:()=>yte,bugs:()=>ute,build:()=>ite,buildType:()=>ote,categories:()=>hte,contributes:()=>Q6,default:()=>wte,dependencies:()=>Cte,description:()=>rte,devDependencies:()=>Ete,displayName:()=>tte,enabledApiProposals:()=>Tte,engines:()=>gte,extensionPack:()=>pte,homepage:()=>lte,icon:()=>dte,keywords:()=>xte,license:()=>cte,main:()=>vte,name:()=>ete,overrides:()=>Ste,preview:()=>ate,pricing:()=>mte,publisher:()=>ste,qna:()=>fte,scripts:()=>Ite,version:()=>nte});var ete="copilot",tte="GitHub Copilot",rte="Your AI pair programmer",nte="1.344.0",ite="1677",ote="prod",ste="GitHub",ate=!1,lte="https://github.com/features/copilot?editor=vscode",cte="https://docs.github.com/en/site-policy/github-terms/github-terms-for-additional-products-and-features",ute={url:"https://github.com/microsoft/vscode/issues"},fte="https://github.com/github-community/community/discussions/categories/copilot",dte="assets/Copilot-App-Icon.png",mte="Trial",pte=["GitHub.copilot-chat","GitHub.copilot"],gte={vscode:"^1.98.0",node:">=20.0.0",npm:">=9.0.0"},hte=["AI","Chat","Programming Languages","Machine Learning"],xte=["ai","openai","codex","pilot","snippets","documentation","autocomplete","intellisense","refactor","javascript","python","typescript","php","go","golang","ruby","c++","c#","java","kotlin","co-pilot"],bte=[{url:"https://img.shields.io/badge/GitHub%20Copilot-Subscription%20Required-orange",href:"https://github.com/github-copilot/signup?editor=vscode",description:"Sign up for GitHub Copilot"},{url:"https://img.shields.io/github/stars/github/copilot-docs?style=social",href:"https://github.com/github/copilot-docs",description:"Star Copilot on GitHub"},{url:"https://img.shields.io/youtube/channel/views/UC7c3Kb6jYCRj4JOHHZTxKsQ?style=social",href:"https://www.youtube.com/@GitHub/search?query=copilot",description:"Check out GitHub on Youtube"},{url:"https://img.shields.io/twitter/follow/github?style=social",href:"https://twitter.com/github",description:"Follow GitHub on Twitter"}],_te=["onStartupFinished"],yte="./dist/web",vte="./dist/extension",Tte=["inlineCompletionsAdditions"],Q6={commands:[{command:"github.copilot.toggleStatusMenu",title:"Open Status Menu",category:"GitHub Copilot"},{command:"github.copilot.signIn",title:"Sign In",category:"GitHub Copilot",enablement:"!github.copilot.activated"},{command:"github.copilot.acceptCursorPanelSolution",title:"Accept Panel Suggestion at the Cursor",enablement:"github.copilot.panelVisible",category:"GitHub Copilot"},{command:"github.copilot.previousPanelSolution",title:"Navigate to the Previous Panel Suggestion",enablement:"github.copilot.panelVisible",category:"GitHub Copilot"},{command:"github.copilot.nextPanelSolution",title:"Navigate to the Next Panel Suggestion",enablement:"github.copilot.panelVisible",category:"GitHub Copilot"},{command:"github.copilot.generate",title:"Open Completions Panel",enablement:"github.copilot.activated && !isWeb",category:"GitHub Copilot"},{command:"github.copilot.generateComparison",title:"Open Comparison Panel",enablement:"github.copilot.activated && !isWeb && github.copilot.comparisonPanelEnabled",category:"GitHub Copilot"},{command:"github.copilot.acceptCursorComparisonPanelSolution",title:"Accept Comparison Panel Suggestion at the Cursor",enablement:"github.copilot.comparisonPanelVisible && github.copilot.comparisonPanelEnabled",category:"GitHub Copilot"},{command:"github.copilot.previousComparisonPanelSolution",title:"Navigate to the Previous Comparison Panel Suggestion",enablement:"github.copilot.comparisonPanelVisible && github.copilot.comparisonPanelEnabled",category:"GitHub Copilot"},{command:"github.copilot.nextComparisonPanelSolution",title:"Navigate to the Next Comparison Panel Suggestion",enablement:"github.copilot.comparisonPanelVisible && github.copilot.comparisonPanelEnabled",category:"GitHub Copilot"},{command:"github.copilot.completions.disable",title:"Disable Completions",enablement:"github.copilot.activated && config.editor.inlineSuggest.enabled && github.copilot.completions.enabled",category:"GitHub Copilot"},{command:"github.copilot.completions.enable",title:"Enable Completions",enablement:"github.copilot.activated && !(config.editor.inlineSuggest.enabled && github.copilot.completions.enabled)",category:"GitHub Copilot"},{command:"github.copilot.completions.toggle",title:"Toggle (Enable/Disable) Completions",enablement:"github.copilot.activated",category:"GitHub Copilot"},{command:"github.copilot.sendFeedback",title:"Send Feedback",category:"GitHub Copilot"},{command:"github.copilot.collectDiagnostics",title:"Collect Diagnostics",category:"GitHub Copilot",enablement:"!isWeb"},{command:"github.copilot.openLogs",title:"Open Logs",category:"GitHub Copilot"},{command:"github.copilot.openModelPicker",title:"Change Completions Model",category:"GitHub Copilot",enablement:"!isWeb"},{command:"github.copilot.sendCompletionFeedback",title:"Send Copilot Completion Feedback",category:"GitHub Copilot",enablement:"!isWeb"}],keybindings:[{command:"github.copilot.acceptCursorPanelSolution",key:"ctrl+/",mac:"ctrl+/",when:"activeWebviewPanelId == 'GitHub Copilot Suggestions'"},{command:"github.copilot.previousPanelSolution",key:"alt+[",mac:"alt+[",when:"activeWebviewPanelId == 'GitHub Copilot Suggestions'"},{command:"github.copilot.nextPanelSolution",key:"alt+]",mac:"alt+]",when:"activeWebviewPanelId == 'GitHub Copilot Suggestions'"},{command:"github.copilot.acceptCursorComparisonPanelSolution",key:"ctrl+shift+/",mac:"ctrl+shift+/",when:"activeWebviewPanelId == 'GitHub Copilot Comparison' && github.copilot.comparisonPanelEnabled"},{command:"github.copilot.previousComparisonPanelSolution",key:"alt+shift+[",mac:"alt+shift+[",when:"activeWebviewPanelId == 'GitHub Copilot Comparison' && github.copilot.comparisonPanelEnabled"},{command:"github.copilot.nextComparisonPanelSolution",key:"alt+shift+]",mac:"alt+shift+]",when:"activeWebviewPanelId == 'GitHub Copilot Comparison' && github.copilot.comparisonPanelEnabled"},{command:"editor.action.inlineSuggest.trigger",key:"alt+\\",when:"editorTextFocus && !editorHasSelection && !inlineSuggestionsVisible"}],configuration:[{title:"GitHub Copilot",properties:{"github.copilot.selectedCompletionModel":{type:"string",default:"",markdownDescription:'The currently selected completion model ID. To select from a list of available models, use the __"Change Completions Model"__ command or open the model picker (from the Copilot menu in the VS Code title bar, select __"Configure Code Completions"__ then __"Change Completions Model"__. The value must be a valid model ID. An empty value indicates that the default model will be used.'},"github.copilot.advanced":{type:"object",title:"Advanced Settings",properties:{authProvider:{type:"string",enum:["github","github-enterprise"],enumDescriptions:["GitHub.com","GitHub Enterprise"],default:"github",description:"The GitHub identity to use for Copilot"},authPermissions:{type:"string",enum:["default","minimal"],markdownEnumDescriptions:["Default (recommended) - The default permissions enable the best that Copilot has to offer including, but not limited to, faster repo indexing and the power of the `@github` agent.","Minimal - The minimal permissions required for Copilot functionality."],default:"default",markdownDescription:"Controls what kind of permissions are asked for when signing in to Copilot. The options are\n* `default` - (strongly recommended) The default permissions enable the best that Copilot has to offer including, but not limited to, faster repo indexing and the power of the `@github` agent.\n* `minimal` - The minimal permissions are the least that Copilot needs to function. Some features may behave slower or not at all."},useLanguageServer:{type:"boolean",default:!1,description:"Experimental: Use language server"},"debug.overrideEngine":{type:"string",default:"",description:"Override engine name"},"debug.overrideProxyUrl":{type:"string",default:"",description:"Override GitHub authentication proxy full URL"},"debug.testOverrideProxyUrl":{type:"string",default:"",description:"Override GitHub authentication proxy URL when running tests"},"debug.overrideCapiUrl":{type:"string",default:"",description:"Override GitHub Copilot API full URL"},"debug.testOverrideCapiUrl":{type:"string",default:"",description:"Override GitHub Copilot API URL when running tests"},"debug.filterLogCategories":{type:"array",default:[],deprecationMessage:"Set overrideLogLevels.* to ERROR to filter out unwanted categories.",description:"Show only log categories listed in this setting. If an array is empty, show all loggers"}}},"github.copilot.enable":{type:"object",scope:"window",default:{"*":!0,plaintext:!1,markdown:!1,scminput:!1},additionalProperties:{type:"boolean"},markdownDescription:"Enable or disable auto triggering of Copilot completions for specified [languages](https://code.visualstudio.com/docs/languages/identifiers). You can still trigger suggestions manually using `Alt + \\`"}}}],configurationDefaults:{"editor.tokenColorCustomizations":{"[*Light*]":{textMateRules:[{scope:"ref.matchtext",settings:{foreground:"#000"}}]},"[*Dark*]":{textMateRules:[{scope:"ref.matchtext",settings:{foreground:"#fff"}}]}}},languages:[{id:"code-referencing"}],grammars:[{language:"code-referencing",scopeName:"text.ref",path:"./syntaxes/ref.tmGrammar.json"}],iconFonts:[{id:"copilot-font",src:[{path:"assets/copilot.woff",format:"woff"}]}]},Ite={build:"tsx esbuild.ts",clean:"./script/build/clean.sh",compress:"tsx ./script/compressTokenizer.ts","forbid-sources-content:extension":"node script/forbid-sources-content.js --extension",generate_languages:"tsx script/generateLanguages.ts && prettier --write lib/src/language/generatedLanguages.ts",get_token:"tsx script/getToken.ts",lint:'run-p --aggregate-output "lint:*"',"lint:deps":"depcruise -c .dependency-cruiser.js .","lint:eslint":"eslint -f visualstudio --quiet --cache .","lint:prettier":"prettier --check . 2>&1","lint:types":"tsc --noEmit && tsc --noEmit -p extension/src/copilotPanel/webview",prebuild:"npm install",pretest:"npm run build","pretest:headless":"npm run build","pretest:extension":"npm run build","pretest:lsp-client":"npm run build","pretest:lib-e2e":"npm run build",prewatch:"npm run build","prewatch:esbuild":"npm run build",start:"npm run watch",test:'npm-run-all "test:extension --ignore-scripts" "test:headless --ignore-scripts" lint',"test:headless":'npm-run-all test:lib test:agent "test:lib-e2e --ignore-scripts" test:prompt "test:lsp-client --ignore-scripts" lint',"test:agent":'mocha "agent/src/**/*.test.{ts,tsx}"',"test:extension":"tsx extension/test/runTest.ts","test:lib":'mocha "lib/src/**/*.test.{ts,tsx}"',"test:lib-e2e":'mocha "lib/e2e/src/**/*.test.{ts,tsx}" --exclude "lib/e2e/src/prompt/**/*.test.ts"',"test:lib-e2e-no-ci":'mocha "lib/e2e/no-ci/**/*.test.{ts,tsx}"',"test:lib-prompt-e2e":'mocha "lib/e2e/src/prompt/prompt.test.ts"',"test:lib-prompt-e2e-perf":"INCLUDE_PERFORMANCE=true npm run test:lib-prompt-e2e","test:lsp-client":'mocha "lsp-client/test/*.test.{ts,tsx}"',"test:prompt":'mocha "prompt/test/**/*.test.{ts,tsx}"',"vscode-dts":"vscode-dts dev && mv vscode.proposed.*.ts extension/src","vscode:prepublish":'run-s "build --ignore-scripts" forbid-sources-content:extension',"vscode:uninstall":"node dist/extensionUninstalled.js",vsix:"vsce package --allow-missing-repository",watch:'run-p "watch:esbuild --ignore-scripts" "watch:types -- --preserveWatchOutput"',"watch:esbuild":"tsx esbuild.ts --watch","watch:types":"tsc --noEmit --watch"},Ete={"@datadog/datadog-ci":"^3.5.0","@github/prettier-config":"0.0.6","@limegrass/eslint-plugin-import-alias":"^1.5.1","@parcel/watcher":"^2.5.1","@types/benchmark":"^2.1.5","@types/crypto-js":"^4.2.2","@types/diff":"^7.0.2","@types/git-url-parse":"^16.0.0","@types/js-yaml":"^4.0.6","@types/kerberos":"^1.1.2","@types/mocha":"^10.0.10","@types/node":"~20.8.0","@types/semver":"^7.7.0","@types/sinon":"^17.0.4","@types/uuid":"^10.0.0","@types/vscode":"1.98.0","@types/yargs":"^17.0.24","@vscode/test-electron":"^2.5.2","@vscode/vsce":"^3.3.2","@yao-pkg/pkg":"^6.4.1",benchmark:"^2.1.4",boxen:"^8.0.1",chalk:"^5.4.1","dependency-cruiser":"^16.10.2",electron:"^28.1.4",esbuild:"^0.25.4","esbuild-plugin-copy":"^2.1.1",eslint:"^9.26.0","eslint-formatter-visualstudio":"^8.40.0","eslint-plugin-mocha":"^10.5.0",fantasticon:"^3.0.0",glob:"^11.0.2",globals:"^16.1.0","js-yaml":"^4.1.0",mocha:"^11.2.2","mocha-junit-reporter":"^2.2.1","mocha-multi-reporters":"^1.5.1","npm-run-all":"^4.1.5",prettier:"^3.5.3","prettier-plugin-organize-imports":"^4.1.0",proxy:"^2.1.1","simple-git":"^3.27.0",sinon:"^20.0.0","ts-dedent":"^2.2.0",tsx:"^4.19.4",typescript:"^5.8.3","typescript-eslint":"^8.32.0","vscode-dts":"^0.3.3"},Cte={"@adobe/helix-fetch":"github:devm33/helix-fetch#2a08fa939591a0e14f34f611adcc3ed767579e9a","@github/memoize":"1.1.5","@microsoft/1ds-post-js":"^4.3.6","@microsoft/applicationinsights-web-basic":"^3.3.6","@microsoft/tiktokenizer":"^1.0.10","@modelcontextprotocol/sdk":"^1.11.1","@sinclair/typebox":"^0.34.33","@types/vscode-webview":"^1.57.4","@vscode/codicons":"^0.0.36","@vscode/prompt-tsx":"0.4.0-alpha.1","@vscode/webview-ui-toolkit":"^1.3.1","await-lock":"^2.2.2","crypto-js":"^4.2.0",diff:"^7.0.0",dldr:"^0.0.10","get-stream":"^6.0.1","git-url-parse":"^16.0.3",kerberos:"^2.2.0","mac-ca":"^3.1.1",microjob:"^0.7.0",minimatch:"^9.0.3",open:"^10.1.2","os-browserify":"^0.3.0","path-browserify":"^1.0.1",semver:"^7.7.1",shiki:"~1.15.0","source-map-support":"^0.5.21",sqlite3:"^5.1.7",uuid:"^11.1.0","vscode-languageclient":"^9.0.0","vscode-languageserver":"^9.0.0","vscode-languageserver-protocol":"^3.17","vscode-languageserver-textdocument":"~1.0.11","vscode-uri":"^3.1.0","web-tree-sitter":"^0.20.8","windows-ca-certs":"^0.1.0",yargs:"^17.7.2"},Ste={fsevents:"<0",bindings:"npm:bundled-bindings@^1.5.0"},wte={name:ete,displayName:tte,description:rte,version:nte,build:ite,buildType:ote,publisher:ste,preview:ate,homepage:lte,license:cte,bugs:ute,qna:fte,icon:dte,pricing:mte,extensionPack:pte,engines:gte,categories:hte,keywords:xte,badges:bte,activationEvents:_te,browser:yte,main:vte,enabledApiProposals:Tte,contributes:Q6,scripts:Ite,devDependencies:Ete,dependencies:Cte,overrides:Ste};var _e={Enable:"enable",UserSelectedCompletionModel:"selectedCompletionModel",ShowEditorCompletions:"editor.showEditorCompletions",EnableAutoCompletions:"editor.enableAutoCompletions",DelayCompletions:"editor.delayCompletions",FilterCompletions:"editor.filterCompletions",FetchStrategy:"fetchStrategy",RelatedFilesVSCodeCSharp:"advanced.relatedFilesVSCodeCSharp",RelatedFilesVSCodeTypeScript:"advanced.relatedFilesVSCodeTypeScript",RelatedFilesVSCode:"advanced.relatedFilesVSCode",ContextProviders:"advanced.contextProviders",DebugOverrideLogLevels:"advanced.debug.overrideLogLevels",DebugFilterLogCategories:"advanced.debug.filterLogCategories",DebugSnippyOverrideUrl:"advanced.debug.codeRefOverrideUrl",DebugUseElectronFetcher:"advanced.debug.useElectronFetcher",DebugUseEditorFetcher:"advanced.debug.useEditorFetcher",UseSubsetMatching:"advanced.useSubsetMatching",ContextProviderTimeBudget:"advanced.contextProviderTimeBudget",DebugOverrideCapiUrl:"internal.capiUrl",DebugOverrideCapiUrlLegacy:"advanced.debug.overrideCapiUrl",DebugTestOverrideCapiUrl:"internal.capiTestUrl",DebugTestOverrideCapiUrlLegacy:"advanced.debug.testOverrideCapiUrl",DebugOverrideProxyUrl:"internal.completionsUrl",DebugOverrideProxyUrlLegacy:"advanced.debug.overrideProxyUrl",DebugTestOverrideProxyUrl:"internal.completionsTestUrl",DebugTestOverrideProxyUrlLegacy:"advanced.debug.testOverrideProxyUrl",DebugOverrideEngine:"internal.completionModel",DebugOverrideEngineLegacy:"advanced.debug.overrideEngine",EnableSpeculativeRequests:"internal.enableSpeculativeRequests",EnableSpeculativeRequestsShown:"internal.enableSpeculativeRequestsShown",CompletionsDelay:"internal.completionsDelay",AlwaysRequestMultiline:"internal.alwaysRequestMultiline",ModelAlwaysTerminatesSingleline:"internal.modelAlwaysTerminatesSingleline",TrimCompletionsAggressively:"internal.trimCompletionsAggressively",CompletionsDebounce:"internal.completionsDebounce",UseWorkspaceContextCoordinator:"internal.useWorkspaceContextCoordinator",IncludeNeighboringFiles:"internal.includeNeighboringFiles",ExcludeRelatedFiles:"internal.excludeRelatedFiles",DebugOverrideCppHeadersEnableSwitch:"internal.cppHeadersEnableSwitch",NESXTab:"internal.useXTab",UseSplitContextPrompt:"internal.useSplitContextPrompt",UseCompletionsComparisonPanel:"internal.useCompletionsComparisonPanel",ComparisonPanelModelIds:"internal.comparisonPanelModelIds",ComparisonPanelRandomizedMode:"internal.comparisonPanelRandomizedMode"};function ZD(e){return["server","parsingandserver"].includes(e)}o(ZD,"shouldDoServerTrimming");var qc=class{static{o(this,"BlockModeConfig")}},r2=class extends qc{static{o(this,"ConfigBlockModeConfig")}forLanguage(t,r,n){let i=t.get(Be).overrideBlockMode(n);if(i)return JD(i,r);let s=t.get(Be).enableProgressiveReveal(n);return It(t,_e.AlwaysRequestMultiline)??s?JD("moremultiline",r):r=="ruby"?"parsing":s0(r)?"parsingandserver":"server"}};function Dte(e){return["parsing","parsingandserver","moremultiline"].includes(e)}o(Dte,"blockModeRequiresTreeSitter");function JD(e,t){return e==="moremultiline"&&ni.isSupported(t)?e:Dte(e)&&!s0(t)?"server":e}o(JD,"toApplicableBlockMode");var Rs=class{static{o(this,"ConfigProvider")}};function Rte(e){return e?.type==="object"&&"properties"in e}o(Rte,"isContributesObject");function e7(e,t){let r=e,n=[];for(let i of t.split(".")){let s=[...n,i].join(".");r&&typeof r=="object"&&s in r?(r=r[s],n.length=0):n.push(i)}if(!(r===void 0||n.length>0))return r}o(e7,"getConfigKeyRecursively");function QD(e){if(Vf.has(e))return Vf.get(e);throw new Error(`Missing config default value: ${Gr}.${e}`)}o(QD,"getConfigDefaultForKey");function eR(e){return Vf.get(e)}o(eR,"getOptionalConfigDefaultForKey");var Vf=new Map([[_e.DebugOverrideCppHeadersEnableSwitch,!1],[_e.RelatedFilesVSCodeCSharp,!1],[_e.RelatedFilesVSCodeTypeScript,!1],[_e.RelatedFilesVSCode,!1],[_e.IncludeNeighboringFiles,!1],[_e.ExcludeRelatedFiles,!1],[_e.ContextProviders,[]],[_e.DebugUseEditorFetcher,null],[_e.DebugUseElectronFetcher,null],[_e.DebugOverrideLogLevels,{}],[_e.DebugSnippyOverrideUrl,""],[_e.FetchStrategy,"auto"],[_e.UseSubsetMatching,null],[_e.ContextProviderTimeBudget,void 0],[_e.DebugOverrideCapiUrl,""],[_e.DebugTestOverrideCapiUrl,""],[_e.DebugOverrideProxyUrl,""],[_e.DebugTestOverrideProxyUrl,""],[_e.DebugOverrideEngine,""],[_e.EnableSpeculativeRequests,void 0],[_e.EnableSpeculativeRequestsShown,void 0],[_e.AlwaysRequestMultiline,void 0],[_e.ModelAlwaysTerminatesSingleline,void 0],[_e.TrimCompletionsAggressively,void 0],[_e.CompletionsDebounce,void 0],[_e.NESXTab,void 0],[_e.UseWorkspaceContextCoordinator,void 0],[_e.CompletionsDelay,void 0],[_e.UseSplitContextPrompt,void 0],[_e.UseCompletionsComparisonPanel,!1],[_e.ComparisonPanelModelIds,["gpt-4o-copilot","chat-v6"]],[_e.ComparisonPanelRandomizedMode,!1],[_e.ShowEditorCompletions,void 0],[_e.EnableAutoCompletions,void 0],[_e.DelayCompletions,void 0],[_e.FilterCompletions,void 0]]);for(let e of Object.values(_e)){let t=Q6.configuration[0],r=[],n=`${Gr}.${e}`.split(".");for(;n.length>0;){r.push(n.shift());let i=t.properties[r.join(".")];if(Rte(i))r.length=0,t=i;else if(n.length==0&&i?.default!==void 0){if(Vf.has(e))throw new Error(`Duplicate config default value ${Gr}.${e}`);Vf.set(e,i.default)}}if(!Vf.has(e))throw new Error(`Missing config default value ${Gr}.${e}`)}function It(e,t){return e.get(Rs).getConfig(t)}o(It,"getConfig");function tR(e){return e.get(Rs).dumpForTelemetry()}o(tR,"dumpForTelemetry");var In=class{constructor(){this.packageJson=$c}static{o(this,"BuildInfo")}isPreRelease(){return this.getBuildType()==="nightly"}isProduction(){return this.getBuildType()!=="dev"}getBuildType(){return this.packageJson.buildType}getVersion(){return this.packageJson.version}getDisplayVersion(){return this.getBuildType()==="dev"?`${this.getVersion()}-dev`:this.getVersion()}getBuild(){return this.packageJson.build}getName(){return this.packageJson.name}};function Eb(e){return e.get(In).isProduction()}o(Eb,"isProduction");function rR(e){return e.get(In).getBuildType()==="dev"}o(rR,"isDevBuild");function N1(e){return e.get(In).getBuildType()}o(N1,"getBuildType");function nR(e){return e.get(In).getBuild()}o(nR,"getBuild");function A1(e){return e.get(In).getVersion()}o(A1,"getVersion");var cn=class{constructor(t,r,n="none",i="desktop"){this.sessionId=t;this.machineId=r;this.remoteName=n;this.uiKind=i}static{o(this,"EditorSession")}};function l0({name:e,version:t}){return`${e}/${t}`}o(l0,"formatNameAndVersion");var cr=class{static{o(this,"EditorAndPluginInfo")}getCopilotIntegrationId(){}},Cc="2025-05-01";function lf(e){let t=e.get(cr);return{"Editor-Version":l0(t.getEditorInfo()),"Editor-Plugin-Version":l0(t.getEditorPluginInfo()),"Copilot-Language-Server-Version":A1(e)}}o(lf,"editorVersionHeaders");var iR="Iv1.b507a08c87ecfe98",Kf=class{static{o(this,"GitHubAppInfo")}findAppIdToAuthenticate(){return this.githubAppId??iR}};var Mi=class{static{o(this,"TelemetryUserConfig")}constructor(t,r,n,i){this.trackingId=r,this.optedIn=n??!1,this.ftFlag=i??"",this.setupUpdateOnToken(t)}setupUpdateOnToken(t){Vr(t,r=>{let n=r.getTokenValue("rt")==="1",i=r.getTokenValue("ft")??"",s=r.getTokenValue("tid"),a=r.organization_list,l=r.enterprise_list,c=r.getTokenValue("sku");s!==void 0&&(this.trackingId=s,this.organizationsList=a?.toString(),this.enterpriseList=l?.toString(),this.sku=c,this.optedIn=n,this.ftFlag=i)})}};var n2=Tt(zm()),i2=Tt(Pc());var Nte=/^(\s+at)?(.*?)(@|\s\(|\s)([^(\n]+?)(:\d+)?(:\d+)?(\)?)$/;function Ate(e){let t={type:e.name,value:e.message},r=e.stack?.replace(/^.*?:\d+\n.*\n *\^?\n\n/,"");if(r?.startsWith(e.toString()+`
`)){t.stacktrace=[];for(let n of r.slice(e.toString().length+1).split(/\n/).reverse()){let i=n.match(Nte),s={filename:"",function:""};i&&(s.function=i[2]?.trim()?.replace(/^[^.]{1,2}(\.|$)/,"_$1")??s.function,s.filename=(i[4]?.trim()??s.filename).replace(/^\.\/dist\//,"/github-copilot/dist/"),i[5]&&i[5]!==":0"&&(s.lineno=i[5].slice(1)),i[6]&&i[5]!==":0"&&(s.colno=i[6].slice(1)),s.in_app=!/[[<:]|(?:^|\/)node_modules\//.test(s.filename)),t.stacktrace.push(s)}}return t}o(Ate,"buildExceptionDetail");function kte(e,t){let r=e.get(cr),n=r.getEditorInfo(),i=e.get(Mi),s={"#editor":n.devName??n.name,"#editor_version":l0({name:n.devName??n.name,version:n.version}),"#plugin":r.getEditorPluginInfo().name,"#plugin_version":l0(r.getEditorPluginInfo()),"#session_id":e.get(cn).sessionId,"#machine_id":e.get(cn).machineId,"#architecture":i2.arch(),"#os_platform":i2.platform(),...t};return i.trackingId&&(s.user=i.trackingId,s["#tracking_id"]=i.trackingId),s}o(kte,"buildContext");function sR(e,t){let r=e.get(In),n=e.get(cr).getEditorInfo(),i=typeof process<"u"?process.versions.node:"web",s={app:"copilot-client",rollup_id:"auto",platform:"node",release:r.getBuildType()!=="dev"?`copilot-client@${r.getVersion()}`:void 0,deployed_to:r.getBuildType(),catalog_service:n.name==="vscode"?"CopilotCompletionsVSCode":"CopilotLanguageServer",context:kte(e,{"#node_version":i}),sensitive_context:{}},a=[];s.exception_detail=[];let l=0,c=t;for(;c instanceof Error&&l<10;){let u=Ate(c);s.exception_detail.unshift(u),a.unshift([c,u]),l+=1,c=c.cause}let f=[];for(let[u,d]of a)if(d.stacktrace&&d.stacktrace.length>0){f.push(`${d.type}: ${u.code??""}`);let p=[...d.stacktrace].reverse();for(let m of p)if(m.filename?.startsWith("/github-copilot/"))return s;for(let m of p)if(m.in_app){f.push(`${m.filename?.replace(/^\.\//,"")}:${m.lineno}:${m.colno}`);break}f.push(`${p[0].filename?.replace(/^\.\//,"")}`)}else return s;return s.exception_detail.length>0&&(s.rollup_id=(0,n2.SHA256)(n2.enc.Utf16.parse(f.join(`
`))).toString()),s}o(sR,"buildPayload");var k1=class{static{o(this,"FailingTelemetryReporter")}sendTelemetryEvent(t,r,n){throw new Error("Telemetry disabled")}sendTelemetryErrorEvent(t,r,n,i){throw new Error("Telemetry disabled")}dispose(){return Promise.resolve()}hackOptOutListener(){}};var Wc=class{constructor(t=5){this.perTenMinutes=t;this.cache=new rr}static{o(this,"ExceptionRateLimiter")}isThrottled(t){let r=Date.now(),n=this.cache.get(t)||new Array(this.perTenMinutes).fill(0);return r-n[0]<6e5?!0:(n.push(r),n.shift(),this.cache.set(t,n),!1)}};var Ui=class{constructor(){this.promises=new Set}static{o(this,"PromiseQueue")}register(t){this.promises.add(t),t.finally(()=>this.promises.delete(t))}async flush(){await Promise.allSettled(this.promises)}};var cR=Tt(Pc()),uR=Tt(ff());function O1(e){return e.replace(/(file:\/\/)([^\s<>]+)/gi,"$1[redacted]").replace(/(^|[\s|:=(<'"`])((?:\/(?=[^/])|\\|[a-zA-Z]:[\\/])[^\s:)>'"`]+)/g,"$1[redacted]")}o(O1,"redactPaths");var Lte=new Set(["Maximum call stack size exceeded","Set maximum size exceeded","Invalid arguments"]),Fte=[/^[\p{L}\p{Nl}$\p{Mn}\p{Mc}\p{Nd}\p{Pc}.]+ is not a function[ \w]*$/u,/^Cannot read properties of undefined \(reading '[\p{L}\p{Nl}$\p{Mn}\p{Mc}\p{Nd}\p{Pc}]+'\)$/u];function r7(e){if(Lte.has(e))return e;for(let t of Fte)if(t.test(e))return e;return O1(e).replace(/\bDNS:(?:\*\.)?[\w.-]+/gi,"DNS:[redacted]")}o(r7,"redactMessage");function o2(e){return e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}o(o2,"escapeForRegExp");var Mte=new RegExp("(?<=^|[\\s|(\"'`]|file://)"+o2((0,cR.homedir)())+"(?=$|[\\\\/:\"'`])","gi");function t7(e){return e.replace(Mte,"~")}o(t7,"redactHomeDir");var fR="[\\\\/]?([^:)]*)(?=:\\d)",aR=new RegExp(o2(uR.sep),"g"),lR=new RegExp(o2("".replace(/[\\/]lib[\\/]src[\\/]util$|[\\/]dist$/,""))+fR,"gi");function n7(e,t,r=!1,n=[]){let i=new Error(t(e));i.name=e.name,typeof e.syscall=="string"&&(i.syscall=e.syscall),typeof e.code=="string"&&(i.code=e.code),typeof e.errno=="number"&&(i.errno=e.errno),i.stack=void 0;let s=e.stack?.replace(/^.*?:\d+\n.*\n *\^?\n\n/,""),a;for(let l of[e.toString(),`${e.name}: ${e.message}`])if(s?.startsWith(l+`
`)){a=s.slice(l.length+1).split(/\n/);break}if(a){i.stack=i.toString();for(let l of a)if(lR.test(l))i.stack+=`
${O1(l.replace(lR,(c,f)=>"./"+f.replace(aR,"/")))}`;else if(/[ (]node:|[ (]wasm:\/\/wasm\/| \(<anonymous>\)$/.test(l))i.stack+=`
${O1(l)}`;else{let c=!1;for(let{prefix:f,path:u}of n){let d=new RegExp(o2(u.replace(/[\\/]$/,""))+fR,"gi");if(d.test(l)){i.stack+=`
${O1(l.replace(d,(p,m)=>f+m.replace(aR,"/")))}`,c=!0;break}}if(c)continue;r?i.stack+=`
${t7(l)}`:i.stack+=`
    at [redacted]:0:0`}}else r&&s&&(i.stack=t7(s));return e.cause instanceof Error&&(i.cause=n7(e.cause,t,r,n)),i}o(n7,"cloneError");function dR(e){let t=e.message;return typeof e.path=="string"&&e.path.length>0&&(t=t.replaceAll(e.path,"<path>")),t}o(dR,"errorMessageWithoutPath");function mR(e,t){return n7(e,o(function(n){return t7(dR(n))},"prepareMessage"),!0,t)}o(mR,"prepareErrorForRestrictedTelemetry");function pR(e,t,r=!1){return n7(e,o(function(i){if(r)return r7(dR(i));let s="[redacted]";return typeof i.code=="string"&&(s=i.code+" "+s),typeof i.syscall=="string"?s=O1(i.syscall)+" "+s:"erroredSysCall"in i&&typeof i.erroredSysCall=="string"&&(s=i.erroredSysCall+" "+s),s},"prepareMessage"),!1,t)}o(pR,"redactError");var i7=class{static{o(this,"TypeCheck")}constructor(t,r,n,i){this.schema=t,this.references=r,this.checkFunc=n,this.code=i,this.hasTransform=ca(t,r)}Code(){return this.code}Schema(){return this.schema}References(){return this.references}Errors(t){return i0(this.schema,this.references,t)}Check(t){return this.checkFunc(t)}Decode(t){if(!this.checkFunc(t))throw new jf(this.schema,t,this.Errors(t).First());return this.hasTransform?$f(this.schema,this.references,t):t}Encode(t){let r=this.hasTransform?Wf(this.schema,this.references,t):t;if(!this.checkFunc(r))throw new qf(this.schema,t,this.Errors(t).First());return r}},fa;(function(e){function t(s){return s===36}o(t,"DollarSign"),e.DollarSign=t;function r(s){return s===95}o(r,"IsUnderscore"),e.IsUnderscore=r;function n(s){return s>=65&&s<=90||s>=97&&s<=122}o(n,"IsAlpha"),e.IsAlpha=n;function i(s){return s>=48&&s<=57}o(i,"IsNumeric"),e.IsNumeric=i})(fa||(fa={}));var s2;(function(e){function t(s){return s.length===0?!1:fa.IsNumeric(s.charCodeAt(0))}o(t,"IsFirstCharacterNumeric");function r(s){if(t(s))return!1;for(let a=0;a<s.length;a++){let l=s.charCodeAt(a);if(!(fa.IsAlpha(l)||fa.IsNumeric(l)||fa.DollarSign(l)||fa.IsUnderscore(l)))return!1}return!0}o(r,"IsAccessor");function n(s){return s.replace(/'/g,"\\'")}o(n,"EscapeHyphen");function i(s,a){return r(a)?`${s}.${a}`:`${s}['${n(a)}']`}o(i,"Encode"),e.Encode=i})(s2||(s2={}));var o7;(function(e){function t(r){let n=[];for(let i=0;i<r.length;i++){let s=r.charCodeAt(i);fa.IsNumeric(s)||fa.IsAlpha(s)?n.push(r.charAt(i)):n.push(`_${s}_`)}return n.join("").replace(/__/g,"_")}o(t,"Encode"),e.Encode=t})(o7||(o7={}));var s7;(function(e){function t(r){return r.replace(/'/g,"\\'")}o(t,"Escape"),e.Escape=t})(s7||(s7={}));var a7=class extends at{static{o(this,"TypeCompilerUnknownTypeError")}constructor(t){super("Unknown type"),this.schema=t}},a2=class extends at{static{o(this,"TypeCompilerTypeGuardError")}constructor(t){super("Preflight validation check failed to guard for the given schema"),this.schema=t}},Gc;(function(e){function t(a,l,c){return Ir.ExactOptionalPropertyTypes?`('${l}' in ${a} ? ${c} : true)`:`(${s2.Encode(a,l)} !== undefined ? ${c} : true)`}o(t,"IsExactOptionalProperty"),e.IsExactOptionalProperty=t;function r(a){return Ir.AllowArrayObject?`(typeof ${a} === 'object' && ${a} !== null)`:`(typeof ${a} === 'object' && ${a} !== null && !Array.isArray(${a}))`}o(r,"IsObjectLike"),e.IsObjectLike=r;function n(a){return Ir.AllowArrayObject?`(typeof ${a} === 'object' && ${a} !== null && !(${a} instanceof Date) && !(${a} instanceof Uint8Array))`:`(typeof ${a} === 'object' && ${a} !== null && !Array.isArray(${a}) && !(${a} instanceof Date) && !(${a} instanceof Uint8Array))`}o(n,"IsRecordLike"),e.IsRecordLike=n;function i(a){return Ir.AllowNaN?`typeof ${a} === 'number'`:`Number.isFinite(${a})`}o(i,"IsNumberLike"),e.IsNumberLike=i;function s(a){return Ir.AllowNullVoid?`(${a} === undefined || ${a} === null)`:`${a} === undefined`}o(s,"IsVoidLike"),e.IsVoidLike=s})(Gc||(Gc={}));var hl;(function(e){function t(F){return F[te]==="Any"||F[te]==="Unknown"}o(t,"IsAnyOrUnknown");function*r(F,ne,j){yield"true"}o(r,"FromAny");function*n(F,ne,j){yield"true"}o(n,"FromArgument");function*i(F,ne,j){yield`Array.isArray(${j})`;let[ge,le]=[he("value","any"),he("acc","number")];ze(F.maxItems)&&(yield`${j}.length <= ${F.maxItems}`),ze(F.minItems)&&(yield`${j}.length >= ${F.minItems}`);let $=U(F.items,ne,"value");if(yield`${j}.every((${ge}) => ${$})`,Rr(F.contains)||ze(F.minContains)||ze(F.maxContains)){let re=Rr(F.contains)?F.contains:_t(),xe=U(re,ne,"value"),ue=ze(F.minContains)?[`(count >= ${F.minContains})`]:[],de=ze(F.maxContains)?[`(count <= ${F.maxContains})`]:[],Ie=`const count = value.reduce((${le}, ${ge}) => ${xe} ? acc + 1 : acc, 0)`,we=["(count > 0)",...ue,...de].join(" && ");yield`((${ge}) => { ${Ie}; return ${we}})(${j})`}F.uniqueItems===!0&&(yield`((${ge}) => { const set = new Set(); for(const element of value) { const hashed = hash(element); if(set.has(hashed)) { return false } else { set.add(hashed) } } return true } )(${j})`)}o(i,"FromArray");function*s(F,ne,j){yield`(typeof value === 'object' && Symbol.asyncIterator in ${j})`}o(s,"FromAsyncIterator");function*a(F,ne,j){yield`(typeof ${j} === 'bigint')`,jn(F.exclusiveMaximum)&&(yield`${j} < BigInt(${F.exclusiveMaximum})`),jn(F.exclusiveMinimum)&&(yield`${j} > BigInt(${F.exclusiveMinimum})`),jn(F.maximum)&&(yield`${j} <= BigInt(${F.maximum})`),jn(F.minimum)&&(yield`${j} >= BigInt(${F.minimum})`),jn(F.multipleOf)&&(yield`(${j} % BigInt(${F.multipleOf})) === 0`)}o(a,"FromBigInt");function*l(F,ne,j){yield`(typeof ${j} === 'boolean')`}o(l,"FromBoolean");function*c(F,ne,j){yield*k(F.returns,ne,`${j}.prototype`)}o(c,"FromConstructor");function*f(F,ne,j){yield`(${j} instanceof Date) && Number.isFinite(${j}.getTime())`,ze(F.exclusiveMaximumTimestamp)&&(yield`${j}.getTime() < ${F.exclusiveMaximumTimestamp}`),ze(F.exclusiveMinimumTimestamp)&&(yield`${j}.getTime() > ${F.exclusiveMinimumTimestamp}`),ze(F.maximumTimestamp)&&(yield`${j}.getTime() <= ${F.maximumTimestamp}`),ze(F.minimumTimestamp)&&(yield`${j}.getTime() >= ${F.minimumTimestamp}`),ze(F.multipleOfTimestamp)&&(yield`(${j}.getTime() % ${F.multipleOfTimestamp}) === 0`)}o(f,"FromDate");function*u(F,ne,j){yield`(typeof ${j} === 'function')`}o(u,"FromFunction");function*d(F,ne,j){let ge=globalThis.Object.getOwnPropertyNames(F.$defs).reduce((le,$)=>[...le,F.$defs[$]],[]);yield*k(Mo(F.$ref),[...ne,...ge],j)}o(d,"FromImport");function*p(F,ne,j){yield`Number.isInteger(${j})`,ze(F.exclusiveMaximum)&&(yield`${j} < ${F.exclusiveMaximum}`),ze(F.exclusiveMinimum)&&(yield`${j} > ${F.exclusiveMinimum}`),ze(F.maximum)&&(yield`${j} <= ${F.maximum}`),ze(F.minimum)&&(yield`${j} >= ${F.minimum}`),ze(F.multipleOf)&&(yield`(${j} % ${F.multipleOf}) === 0`)}o(p,"FromInteger");function*m(F,ne,j){let ge=F.allOf.map(le=>U(le,ne,j)).join(" && ");if(F.unevaluatedProperties===!1){let le=ae(`${new RegExp(sa(F))};`),$=`Object.getOwnPropertyNames(${j}).every(key => ${le}.test(key))`;yield`(${ge} && ${$})`}else if(Rr(F.unevaluatedProperties)){let le=ae(`${new RegExp(sa(F))};`),$=`Object.getOwnPropertyNames(${j}).every(key => ${le}.test(key) || ${U(F.unevaluatedProperties,ne,`${j}[key]`)})`;yield`(${ge} && ${$})`}else yield`(${ge})`}o(m,"FromIntersect");function*g(F,ne,j){yield`(typeof value === 'object' && Symbol.iterator in ${j})`}o(g,"FromIterator");function*h(F,ne,j){typeof F.const=="number"||typeof F.const=="boolean"?yield`(${j} === ${F.const})`:yield`(${j} === '${s7.Escape(F.const)}')`}o(h,"FromLiteral");function*_(F,ne,j){yield"false"}o(_,"FromNever");function*b(F,ne,j){yield`(!${U(F.not,ne,j)})`}o(b,"FromNot");function*x(F,ne,j){yield`(${j} === null)`}o(x,"FromNull");function*y(F,ne,j){yield Gc.IsNumberLike(j),ze(F.exclusiveMaximum)&&(yield`${j} < ${F.exclusiveMaximum}`),ze(F.exclusiveMinimum)&&(yield`${j} > ${F.exclusiveMinimum}`),ze(F.maximum)&&(yield`${j} <= ${F.maximum}`),ze(F.minimum)&&(yield`${j} >= ${F.minimum}`),ze(F.multipleOf)&&(yield`(${j} % ${F.multipleOf}) === 0`)}o(y,"FromNumber");function*E(F,ne,j){yield Gc.IsObjectLike(j),ze(F.minProperties)&&(yield`Object.getOwnPropertyNames(${j}).length >= ${F.minProperties}`),ze(F.maxProperties)&&(yield`Object.getOwnPropertyNames(${j}).length <= ${F.maxProperties}`);let ge=Object.getOwnPropertyNames(F.properties);for(let le of ge){let $=s2.Encode(j,le),re=F.properties[le];if(F.required&&F.required.includes(le))yield*k(re,ne,$),(aa(re)||t(re))&&(yield`('${le}' in ${j})`);else{let xe=U(re,ne,$);yield Gc.IsExactOptionalProperty(j,le,xe)}}if(F.additionalProperties===!1)if(F.required&&F.required.length===ge.length)yield`Object.getOwnPropertyNames(${j}).length === ${ge.length}`;else{let le=`[${ge.map($=>`'${$}'`).join(", ")}]`;yield`Object.getOwnPropertyNames(${j}).every(key => ${le}.includes(key))`}if(typeof F.additionalProperties=="object"){let le=U(F.additionalProperties,ne,`${j}[key]`),$=`[${ge.map(re=>`'${re}'`).join(", ")}]`;yield`(Object.getOwnPropertyNames(${j}).every(key => ${$}.includes(key) || ${le}))`}}o(E,"FromObject");function*S(F,ne,j){yield`${j} instanceof Promise`}o(S,"FromPromise");function*w(F,ne,j){yield Gc.IsRecordLike(j),ze(F.minProperties)&&(yield`Object.getOwnPropertyNames(${j}).length >= ${F.minProperties}`),ze(F.maxProperties)&&(yield`Object.getOwnPropertyNames(${j}).length <= ${F.maxProperties}`);let[ge,le]=Object.entries(F.patternProperties)[0],$=ae(`${new RegExp(ge)}`),re=U(le,ne,"value"),xe=Rr(F.additionalProperties)?U(F.additionalProperties,ne,j):F.additionalProperties===!1?"false":"true",ue=`(${$}.test(key) ? ${re} : ${xe})`;yield`(Object.entries(${j}).every(([key, value]) => ${ue}))`}o(w,"FromRecord");function*z(F,ne,j){let ge=Zt(F,ne);if(L.functions.has(F.$ref))return yield`${H(F.$ref)}(${j})`;yield*k(ge,ne,j)}o(z,"FromRef");function*V(F,ne,j){let ge=ae(`${new RegExp(F.source,F.flags)};`);yield`(typeof ${j} === 'string')`,ze(F.maxLength)&&(yield`${j}.length <= ${F.maxLength}`),ze(F.minLength)&&(yield`${j}.length >= ${F.minLength}`),yield`${ge}.test(${j})`}o(V,"FromRegExp");function*W(F,ne,j){yield`(typeof ${j} === 'string')`,ze(F.maxLength)&&(yield`${j}.length <= ${F.maxLength}`),ze(F.minLength)&&(yield`${j}.length >= ${F.minLength}`),F.pattern!==void 0&&(yield`${ae(`${new RegExp(F.pattern)};`)}.test(${j})`),F.format!==void 0&&(yield`format('${F.format}', ${j})`)}o(W,"FromString");function*Y(F,ne,j){yield`(typeof ${j} === 'symbol')`}o(Y,"FromSymbol");function*R(F,ne,j){yield`(typeof ${j} === 'string')`,yield`${ae(`${new RegExp(F.pattern)};`)}.test(${j})`}o(R,"FromTemplateLiteral");function*P(F,ne,j){yield`${H(F.$ref)}(${j})`}o(P,"FromThis");function*G(F,ne,j){if(yield`Array.isArray(${j})`,F.items===void 0)return yield`${j}.length === 0`;yield`(${j}.length === ${F.maxItems})`;for(let ge=0;ge<F.items.length;ge++)yield`${U(F.items[ge],ne,`${j}[${ge}]`)}`}o(G,"FromTuple");function*A(F,ne,j){yield`${j} === undefined`}o(A,"FromUndefined");function*I(F,ne,j){yield`(${F.anyOf.map(le=>U(le,ne,j)).join(" || ")})`}o(I,"FromUnion");function*v(F,ne,j){yield`${j} instanceof Uint8Array`,ze(F.maxByteLength)&&(yield`(${j}.length <= ${F.maxByteLength})`),ze(F.minByteLength)&&(yield`(${j}.length >= ${F.minByteLength})`)}o(v,"FromUint8Array");function*N(F,ne,j){yield"true"}o(N,"FromUnknown");function*T(F,ne,j){yield Gc.IsVoidLike(j)}o(T,"FromVoid");function*D(F,ne,j){let ge=L.instances.size;L.instances.set(ge,F),yield`kind('${F[te]}', ${ge}, ${j})`}o(D,"FromKind");function*k(F,ne,j,ge=!0){let le=Ht(F.$id)?[...ne,F]:ne,$=F;if(ge&&Ht(F.$id)){let re=H(F.$id);if(L.functions.has(re))return yield`${re}(${j})`;{L.functions.set(re,"<deferred>");let xe=ye(re,F,ne,"value",!1);return L.functions.set(re,xe),yield`${re}(${j})`}}switch($[te]){case"Any":return yield*r($,le,j);case"Argument":return yield*n($,le,j);case"Array":return yield*i($,le,j);case"AsyncIterator":return yield*s($,le,j);case"BigInt":return yield*a($,le,j);case"Boolean":return yield*l($,le,j);case"Constructor":return yield*c($,le,j);case"Date":return yield*f($,le,j);case"Function":return yield*u($,le,j);case"Import":return yield*d($,le,j);case"Integer":return yield*p($,le,j);case"Intersect":return yield*m($,le,j);case"Iterator":return yield*g($,le,j);case"Literal":return yield*h($,le,j);case"Never":return yield*_($,le,j);case"Not":return yield*b($,le,j);case"Null":return yield*x($,le,j);case"Number":return yield*y($,le,j);case"Object":return yield*E($,le,j);case"Promise":return yield*S($,le,j);case"Record":return yield*w($,le,j);case"Ref":return yield*z($,le,j);case"RegExp":return yield*V($,le,j);case"String":return yield*W($,le,j);case"Symbol":return yield*Y($,le,j);case"TemplateLiteral":return yield*R($,le,j);case"This":return yield*P($,le,j);case"Tuple":return yield*G($,le,j);case"Undefined":return yield*A($,le,j);case"Union":return yield*I($,le,j);case"Uint8Array":return yield*v($,le,j);case"Unknown":return yield*N($,le,j);case"Void":return yield*T($,le,j);default:if(!hi.Has($[te]))throw new a7(F);return yield*D($,le,j)}}o(k,"Visit");let L={language:"javascript",functions:new Map,variables:new Map,instances:new Map};function U(F,ne,j,ge=!0){return`(${[...k(F,ne,j,ge)].join(" && ")})`}o(U,"CreateExpression");function H(F){return`check_${o7.Encode(F)}`}o(H,"CreateFunctionName");function ae(F){let ne=`local_${L.variables.size}`;return L.variables.set(ne,`const ${ne} = ${F}`),ne}o(ae,"CreateVariable");function ye(F,ne,j,ge,le=!0){let[$,re]=[`
`,Ie=>"".padStart(Ie," ")],xe=he("value","any"),ue=Ue("boolean"),de=[...k(ne,j,ge,le)].map(Ie=>`${re(4)}${Ie}`).join(` &&${$}`);return`function ${F}(${xe})${ue} {${$}${re(2)}return (${$}${de}${$}${re(2)})
}`}o(ye,"CreateFunction");function he(F,ne){let j=L.language==="typescript"?`: ${ne}`:"";return`${F}${j}`}o(he,"CreateParameter");function Ue(F){return L.language==="typescript"?`: ${F}`:""}o(Ue,"CreateReturns");function He(F,ne,j){let ge=ye("check",F,ne,"value"),le=he("value","any"),$=Ue("boolean"),re=[...L.functions.values()],xe=[...L.variables.values()],ue=Ht(F.$id)?`return function check(${le})${$} {
  return ${H(F.$id)}(value)
}`:`return ${ge}`;return[...xe,...re,ue].join(`
`)}o(He,"Build");function Ve(...F){let ne={language:"javascript"},[j,ge,le]=F.length===2&&st(F[1])?[F[0],F[1],ne]:F.length===2&&!st(F[1])?[F[0],[],F[1]]:F.length===3?[F[0],F[1],F[2]]:F.length===1?[F[0],[],ne]:[null,[],ne];if(L.language=le.language,L.variables.clear(),L.functions.clear(),L.instances.clear(),!Rr(j))throw new a2(j);for(let $ of ge)if(!Rr($))throw new a2($);return He(j,ge,le)}o(Ve,"Code"),e.Code=Ve;function Ze(F,ne=[]){let j=Ve(F,ne,{language:"javascript"}),ge=globalThis.Function("kind","format","hash",j),le=new Map(L.instances);function $(de,Ie,we){if(!hi.Has(de)||!le.has(Ie))return!1;let ke=hi.Get(de),qe=le.get(Ie);return ke(qe,we)}o($,"typeRegistryFunction");function re(de,Ie){return vs.Has(de)?vs.Get(de)(Ie):!1}o(re,"formatRegistryFunction");function xe(de){return dl(de)}o(xe,"hashFunction");let ue=ge($,re,xe);return new i7(F,ne,ue,j)}o(Ze,"Compile"),e.Compile=Ze})(hl||(hl={}));var Q2=Tt(zm());var Wn=[];for(let e=0;e<256;++e)Wn.push((e+256).toString(16).slice(1));function gR(e,t=0){return(Wn[e[t+0]]+Wn[e[t+1]]+Wn[e[t+2]]+Wn[e[t+3]]+"-"+Wn[e[t+4]]+Wn[e[t+5]]+"-"+Wn[e[t+6]]+Wn[e[t+7]]+"-"+Wn[e[t+8]]+Wn[e[t+9]]+"-"+Wn[e[t+10]]+Wn[e[t+11]]+Wn[e[t+12]]+Wn[e[t+13]]+Wn[e[t+14]]+Wn[e[t+15]]).toLowerCase()}o(gR,"unsafeStringify");var l7,Ute=new Uint8Array(16);function c7(){if(!l7){if(typeof crypto>"u"||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");l7=crypto.getRandomValues.bind(crypto)}return l7(Ute)}o(c7,"rng");var Bte=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),u7={randomUUID:Bte};function jte(e,t,r){if(u7.randomUUID&&!t&&!e)return u7.randomUUID();e=e||{};let n=e.random??e.rng?.()??c7();if(n.length<16)throw new Error("Random bytes length must be >= 16");if(n[6]=n[6]&15|64,n[8]=n[8]&63|128,t){if(r=r||0,r<0||r+16>t.length)throw new RangeError(`UUID byte range ${r}:${r+15} is out of buffer bounds`);for(let i=0;i<16;++i)t[r+i]=n[i];return t}return gR(n)}o(jte,"v4");var yi=jte;var e4=Tt(vi());function _d(e){return e===1}o(_d,"isRestricted");var Mre=["engine.prompt","engine.completion","ghostText.capturedAfterAccepted","ghostText.capturedAfterRejected"],Z1=8192,Ure=21;var ks=class{static{o(this,"TelemetryReporters")}getReporter(t,r=0){return _d(r)?this.getRestrictedReporter(t):this.reporter}getRestrictedReporter(t){if(r4(t))return this.reporterRestricted;if(cf(t))return new k1}getFTReporter(t){if($k(t))return this.reporterFT;if(cf(t))return new k1}setReporter(t){this.reporter=t}setRestrictedReporter(t){this.reporterRestricted=t}setFTReporter(t){this.reporterFT=t}async deactivate(){let t=[this.reporter,this.reporterRestricted,this.reporterFT];this.reporter=this.reporterRestricted=this.reporterFT=void 0,await Promise.all(t.map(r=>r?.dispose()))}},Bre=B.Object({},{additionalProperties:B.String()}),jre=B.Object({meanLogProb:B.Optional(B.Number()),meanAlternativeLogProb:B.Optional(B.Number())},{additionalProperties:B.Number()}),$re=new Set(["ERR_WORKER_OUT_OF_MEMORY","ENOMEM"]);function qre(e){return $re.has(e.code??"")||e.name==="RangeError"&&e.message==="WebAssembly.Memory(): could not allocate memory"}o(qre,"isOomError");function Wre(e){return xb(e)?"network":qre(e)||e.code==="EMFILE"||e.code==="ENFILE"||e.syscall==="uv_cwd"&&(e.code==="ENOENT"||e.code=="EIO")||e.code==="CopilotPromptLoadFailure"||`${e.code}`.startsWith("CopilotPromptWorkerExit")?"local":"exception"}o(Wre,"getErrorType");var Qe=class e{static{o(this,"TelemetryData")}static{this.validateTelemetryProperties=hl.Compile(Bre)}static{this.validateTelemetryMeasurements=hl.Compile(jre)}static{this.keysExemptedFromSanitization=["abexp.assignmentcontext","VSCode.ABExp.Features"]}constructor(t,r,n){this.properties=t,this.measurements=r,this.issuedTime=n}static createAndMarkAsIssued(t,r){return new e(t||{},r||{},gn())}extendedBy(t,r){let n={...this.properties,...t},i={...this.measurements,...r},s=new e(n,i,this.issuedTime);return s.displayedTime=this.displayedTime,s}markAsDisplayed(){this.displayedTime===void 0&&(this.displayedTime=gn())}async extendWithExpTelemetry(t){let{filters:r,exp:n}=await t.get(Be).getFallbackExpAndFilters();n.addToTelemetry(this),r.addToTelemetry(this)}extendWithEditorAgnosticFields(t){this.properties.editor_version=l0(t.get(cr).getEditorInfo()),this.properties.editor_plugin_version=l0(t.get(cr).getEditorPluginInfo());let r=t.get(cn);this.properties.client_machineid=r.machineId,this.properties.client_sessionid=r.sessionId,this.properties.copilot_version=`copilot/${A1(t)}`,typeof process<"u"&&(this.properties.runtime_version=`node/${process.versions.node}`);let n=t.get(cr);this.properties.common_extname=n.getEditorPluginInfo().name,this.properties.common_extversion=n.getEditorPluginInfo().version,this.properties.common_vscodeversion=l0(n.getEditorInfo());let i=t.get(Bn);this.properties.fetcher=i.name;let s=t.get(Rs).getHttpSettings();this.properties.proxy_enabled=s.proxy?"true":"false",this.properties.proxy_auth=s.proxyAuthorization?"true":"false",this.properties.proxy_kerberos_spn=s.proxyKerberosServicePrincipal?"true":"false",this.properties.reject_unauthorized=s.proxyStrictSSL!==!1?"true":"false"}extendWithConfigProperties(t){let r=tR(t);r["copilot.build"]=nR(t),r["copilot.buildType"]=N1(t),this.properties={...this.properties,...r}}extendWithRequestId(t){let r={headerRequestId:t.headerRequestId,serverExperiments:t.serverExperiments,deploymentId:t.deploymentId};this.properties={...this.properties,...r}}static{this.keysToRemoveFromStandardTelemetryHack=["gitRepoHost","gitRepoName","gitRepoOwner","gitRepoUrl","gitRepoPath","repo","request_option_nwo","userKind"]}static maybeRemoveRepoInfoFromPropertiesHack(t,r){if(_d(t))return r;let n={};for(let i in r)e.keysToRemoveFromStandardTelemetryHack.includes(i)||(n[i]=r[i]);return n}sanitizeKeys(){this.properties=e.sanitizeKeys(this.properties),this.measurements=e.sanitizeKeys(this.measurements);for(let t in this.measurements)isNaN(this.measurements[t])&&delete this.measurements[t]}multiplexProperties(){this.properties=e.multiplexProperties(this.properties)}static sanitizeKeys(t){t=t||{};let r={};for(let n in t){let i=e.keysExemptedFromSanitization.includes(n)?n:n.replace(/\./g,"_");r[i]=t[n]}return r}static multiplexProperties(t){let r={...t};for(let n in t){let i=t[n],s=i?.length??0;if(s>Z1){let a=0,l=0;for(;s>0&&l<Ure;){l+=1;let c=n;l>1&&(c=n+"_"+(l<10?"0":"")+l);let f=a+Z1;s<Z1&&(f=a+s),r[c]=i.slice(a,f),s-=Z1,a+=Z1}}}return r}updateMeasurements(t){let r=t-this.issuedTime;if(this.measurements.timeSinceIssuedMs=r,this.displayedTime!==void 0){let n=t-this.displayedTime;this.measurements.timeSinceDisplayedMs=n}this.measurements.current_time===void 0&&(this.measurements.current_time=Hre(t))}validateData(t,r){let n;if(e.validateTelemetryProperties.Check(this.properties)||(n={problem:"properties",error:JSON.stringify([...e.validateTelemetryProperties.Errors(this.properties)])}),!e.validateTelemetryMeasurements.Check(this.measurements)){let i=JSON.stringify([...e.validateTelemetryMeasurements.Errors(this.measurements)]);n===void 0?n={problem:"measurements",error:i}:(n.problem="both",n.error+=`; ${i}`)}if(n===void 0)return!0;if(cf(t))throw new Error(`Invalid telemetry data: ${n.problem} ${n.error} properties=${JSON.stringify(this.properties)} measurements=${JSON.stringify(this.measurements)}`);return Os(t,"invalidTelemetryData",e.createAndMarkAsIssued({properties:JSON.stringify(this.properties),measurements:JSON.stringify(this.measurements),problem:n.problem,validationError:n.error}),r),_d(r)&&Os(t,"invalidTelemetryData_in_secure",e.createAndMarkAsIssued({problem:n.problem,requestId:this.properties.requestId??"unknown"}),0),!1}async makeReadyForSending(t,r,n,i){this.extendWithConfigProperties(t),this.extendWithEditorAgnosticFields(t),this.sanitizeKeys(),this.multiplexProperties(),n==="IncludeExp"&&await this.extendWithExpTelemetry(t),this.updateMeasurements(i),this.validateData(t,r)||(this.properties.telemetry_failed_validation="true"),Object.assign(this.properties,qk(t))}},v1=class e extends Qe{static{o(this,"TelemetryWithExp")}constructor(t,r,n,i){super(t,r,n),this.filtersAndExp=i}extendedBy(t,r){let n={...this.properties,...t},i={...this.measurements,...r},s=new e(n,i,this.issuedTime,this.filtersAndExp);return s.displayedTime=this.displayedTime,s}async extendWithExpTelemetry(t){this.filtersAndExp.exp.addToTelemetry(this),this.filtersAndExp.filters.addToTelemetry(this)}static createEmptyConfigForTesting(){return new e({},{},0,{filters:new wc({}),exp:ds.createEmptyConfig()})}};function Q1(e,t,r,n){e.get(ks).getReporter(e,t)?.sendTelemetryEvent(r,Qe.maybeRemoveRepoInfoFromPropertiesHack(t,n.properties),n.measurements)}o(Q1,"sendTelemetryEvent");function Gre(e,t,r,n){e.get(ks).getReporter(e,t)?.sendTelemetryErrorEvent(r,Qe.maybeRemoveRepoInfoFromPropertiesHack(t,n.properties),n.measurements)}o(Gre,"sendTelemetryErrorEvent");function zre(e,t,r,n){e.get(ks).getFTReporter(e)?.sendTelemetryEvent(r,Qe.maybeRemoveRepoInfoFromPropertiesHack(t,n.properties),n.measurements)}o(zre,"sendFTTelemetryEvent");function t4(e){return{promptCharLen:e.prefix.length+(e.context?.reduce((t,r)=>t+r.length,0)??0),promptSuffixCharLen:e.suffix.length}}o(t4,"telemetrizePromptLength");function gn(){return performance.now()}o(gn,"now");function Hre(e){return Math.floor(e/1e3)}o(Hre,"nowSeconds");function r4(e){return e.get(Mi).optedIn}o(r4,"shouldSendRestricted");function $k(e){return e.get(Mi).ftFlag!==""}o($k,"shouldSendFinetuningTelemetry");function Se(e,t,r,n){return e.get(Ui).register(Vre(e,t,gn(),r?.extendedBy(),n))}o(Se,"telemetry");async function Vre(e,t,r,n,i=0){let s=n||Qe.createAndMarkAsIssued({},{});await s.makeReadyForSending(e,i??!1,"IncludeExp",r),(!_d(i)||r4(e))&&Q1(e,i,t,s),_d(i)&&Mre.includes(t)&&$k(e)&&zre(e,i,t,s)}o(Vre,"_telemetry");function Bh(e,t){return e.get(Ui).register(Kre(e,t,gn()))}o(Bh,"telemetryExpProblem");async function Kre(e,t,r){let n="expProblem",i=Qe.createAndMarkAsIssued(t,{});await i.makeReadyForSending(e,0,"SkipExp",r),Q1(e,0,n,i)}o(Kre,"_telemetryExpProblem");function B_(e,t,r,n){return e.get(Ui).register(Yre(e,t,r,n))}o(B_,"telemetryRaw");async function Yre(e,t,r,n){let i={...r,...qk(e)};Q1(e,0,t,{properties:i,measurements:n})}o(Yre,"_telemetryRaw");function qk(e){let t=e.get(cr),r={unique_id:yi(),common_extname:t.getEditorPluginInfo().name,common_extversion:t.getEditorPluginInfo().version,common_vscodeversion:l0(t.getEditorInfo())},n=e.get(Mi);return n.trackingId&&(r.copilot_trackingId=n.trackingId),n.organizationsList&&(r.organizations_list=n.organizationsList),n.enterpriseList&&(r.enterprise_list=n.enterpriseList),n.sku&&(r.sku=n.sku),r}o(qk,"createRequiredProperties");var U_=class extends Error{static{o(this,"CopilotNonError")}constructor(t){let r;try{r=JSON.stringify(t)}catch{r=String(t)}super(r),this.name="CopilotNonError",this.code=(0,Q2.SHA256)(Q2.enc.Utf16.parse(this.message)).toString().slice(0,16)}};function Ys(e,t,r,n,i){return e.get(Ui).register(Wk(e,t,gn(),r,{...n},i))}o(Ys,"telemetryException");async function Wk(e,t,r,n,i,s){let a;if(t instanceof Error){if(a=t,a.name==="Canceled"&&a.message==="Canceled"||a.name==="CodeExpectedError"||Ks(a)||a instanceof Ya||a instanceof e4.ConnectionError||a instanceof e4.ResponseError)return}else{if(a=new U_(t),t&&typeof t=="object"&&t.name==="ExitStatus")return;if(a.stack?.startsWith(`${a}
`)){let h=a.stack.slice(`${a}
`.length).split(`
`);/^\s*(?:at )?(?:\w+\.)*_telemetryException\b/.test(h[0]??"")&&h.shift(),/^\s*(?:at )?(?:\w+\.)*telemetryException\b/.test(h[0]??"")&&h.shift(),a.stack=`${a}
${h.join(`
`)}`}}let l=e.get(cr).getEditorInfo(),c;l.root&&(c=[{prefix:`${l.name}:`,path:l.root}]);let f=r4(e),u=pR(a,c,f),d=Wre(a),p=d==="exception",m=Qe.createAndMarkAsIssued({origin:n??"",type:a.name,code:`${a.code??""}`,reason:u.stack||u.toString(),message:u.message,...i});if(await m.makeReadyForSending(e,0,"IncludeExp",r),s?.exception_detail)for(let h of s.exception_detail)h.value&&(f?h.value=r7(h.value):h.value="[redacted]");if(s??=sR(e,u),s.context={...s.context,"copilot_event.unique_id":m.properties.unique_id,"#restricted_telemetry":f?"true":"false"},n&&(s.context["#origin"]=n,s.transaction=n),s.rollup_id!=="auto"&&(m.properties.errno=s.rollup_id),s.created_at=new Date(m.issuedTime).toISOString(),f){let h=mR(a,c),_=Qe.createAndMarkAsIssued({origin:n??"",type:a.name,code:`${a.code??""}`,reason:h.stack||h.toString(),message:h.message,...i});s.rollup_id!=="auto"&&(_.properties.errno=s.rollup_id),await _.makeReadyForSending(e,1,"IncludeExp",r),_.properties.unique_id=m.properties.unique_id,m.properties.restricted_unique_id=_.properties.unique_id,Q1(e,1,`error.${d}`,_)}let g=s.rollup_id==="auto"?a.stack??"":s.rollup_id;p&&!e.get(Wc).isThrottled(g)&&(m.properties.failbot_payload=JSON.stringify(s)),Q1(e,0,`error.${d}`,m)}o(Wk,"_telemetryException");function pa(e,t,r,n){let i=o(async(...s)=>{try{await t(...s)}catch(a){await Wk(e,a,gn(),r,n)}},"wrapped");return(...s)=>e.get(Ui).register(i(...s))}o(pa,"telemetryCatch");function Os(e,t,r,n){return e.get(Ui).register(Xre(e,t,gn(),r?.extendedBy(),n))}o(Os,"telemetryError");async function Xre(e,t,r,n,i=0){if(_d(i)&&!r4(e))return;let s=n||Qe.createAndMarkAsIssued({},{});await s.makeReadyForSending(e,i,"IncludeExp",r),Gre(e,i,t,s)}o(Xre,"_telemetryError");function Gk(e,t,r,n,i){let s=Qe.createAndMarkAsIssued({completionTextJson:JSON.stringify(t),choiceIndex:i.toString()});if(r.logprobs)for(let[a,l]of Object.entries(r.logprobs))s.properties["logprobs_"+a]=JSON.stringify(l)??"unset";return s.extendWithRequestId(n),Se(e,"engine.completion",s,1)}o(Gk,"logEngineCompletion");function zk(e,t,r){let n={promptJson:JSON.stringify({prefix:t.prefix,context:t.context}),promptSuffixJson:JSON.stringify(t.suffix)};if(t.context){let s=r.properties["request.option.extra"]?JSON.parse(r.properties["request.option.extra"]):{};s.context=t.context,n["request.option.extra"]=JSON.stringify(s)}let i=r.extendedBy(n);return Se(e,"engine.prompt",i,1)}o(zk,"logEnginePrompt");var Hk=Tt(vi()),Bwe=B.Object({accessToken:B.Optional(B.String({minLength:1})),handle:B.Optional(B.String({minLength:1})),githubAppId:B.Optional(B.String({minLength:1}))}),Zre;(r=>(r.method="github/didChangeAuth",r.type=new Hk.ProtocolNotificationType(r.method)))(Zre||={});var Vk=Tt(vi()),Qre;(r=>(r.method="copilot/ipCodeCitation",r.type=new Vk.NotificationType(r.method)))(Qre||={});var Kk=Tt(vi()),ene;(r=>(r.method="context/update",r.type=new Kk.ProtocolRequestType(r.method)))(ene||={});var Kt=Tt(vi()),tne=B.String(),rne=B.Object({uri:tne}),Xc=B.Intersect([rne,B.Object({version:B.Optional(B.Integer())})]),Vwe=B.Required(Xc),Sl=B.Object({line:B.Integer({minimum:0}),character:B.Integer({minimum:0})}),Yk=B.Object({start:Sl,end:Sl}),j_=B.Union([B.Integer(),B.String()]),Kwe=B.Object({isCancellationRequested:B.Boolean(),onCancellationRequested:B.Any()});var Xk=Tt(vi()),nne;(r=>(r.method="textDocument/didFocus",r.type=new Xk.ProtocolNotificationType(r.method)))(nne||={});var ine=B.Object({didChangeFeatureFlags:B.Boolean(),fetch:B.Boolean(),ipCodeCitation:B.Boolean(),redirectedTelemetry:B.Boolean(),related:B.Boolean(),token:B.Boolean(),watchedFiles:B.Boolean(),showPanelMessage:B.Boolean()}),one=B.Object({name:B.String(),version:B.String(),readableName:B.Optional(B.String())}),Jk=B.Object({name:B.String(),version:B.Optional(B.String()),readableName:B.Optional(B.String())}),Qwe=B.Object({editorInfo:B.Optional(Jk),editorPluginInfo:B.Optional(Jk),relatedPluginInfo:B.Optional(B.Array(one)),copilotIntegrationId:B.Optional(B.String()),copilotCapabilities:B.Optional(B.Partial(ine)),githubAppId:B.Optional(B.String())});var ep=Tt(vi());var Zk=(r=>(r[r.Invoked=1]="Invoked",r[r.Automatic=2]="Automatic",r))(Zk||{}),sne=B.Enum(Zk),ane=B.Object({triggerKind:sne,selectedCompletionInfo:B.Optional(B.Object({text:B.String(),range:Yk,tooltipSignature:B.Optional(B.String())}))}),Qk=B.Object({textDocument:Xc,position:Sl,formattingOptions:B.Optional(B.Object({tabSize:B.Optional(B.Union([B.Integer({minimum:1}),B.String()])),insertSpaces:B.Optional(B.Union([B.Boolean(),B.String()]))})),context:ane,data:B.Optional(B.Unknown())}),lne;(r=>(r.method="textDocument/inlineCompletion",r.type=new ep.ProtocolRequestType(r.method)))(lne||={});var eO=B.Object({command:B.Object({arguments:B.Tuple([B.String({minLength:1})])})}),iPe=B.Object({item:eO}),cne;(r=>(r.method="textDocument/didShowCompletion",r.type=new ep.ProtocolNotificationType(r.method)))(cne||={});var oPe=B.Object({item:eO,acceptedLength:B.Integer({minimum:1})}),une;(r=>(r.method="textDocument/didPartiallyAcceptCompletion",r.type=new ep.ProtocolNotificationType(r.method)))(une||={});var tO=Tt(vi()),fne;(r=>(r.method="textDocument/inlineCompletionPrompt",r.type=new tO.ProtocolRequestType(r.method)))(fne||={});var rO=Tt(vi()),fPe=B.Object({textDocument:Xc,position:Sl}),dne=B.Object({command:B.Object({arguments:B.Tuple([B.String({minLength:1})])})}),dPe=B.Object({item:dne}),mne;(r=>(r.method="textDocument/didShowInlineEdit",r.type=new rO.ProtocolNotificationType(r.method)))(mne||={});var n4=Tt(vi());var bPe=B.Object({textDocument:Xc,position:Sl,partialResultToken:B.Optional(j_),workDoneToken:B.Optional(j_)}),pne;(n=>(n.method="textDocument/copilotPanelCompletion",n.type=new n4.ProtocolRequestType(n.method),n.partialResult=new n4.ProgressType))(pne||={});var nO=Tt(vi()),gne;(r=>(r.method="copilot/related",r.type=new nO.ProtocolRequestType(r.method)))(gne||={});var iO=Tt(vi()),hne;(r=>(r.method="statusNotification",r.type=new iO.ProtocolNotificationType(r.method)))(hne||={});var oO=Tt(R1());var wl=class{static{o(this,"CopilotTokenNotifier")}#e=new oO.default;#t;constructor(){this.#e.setMaxListeners(20)}get lastToken(){return this.#t}emitToken(t){if(t.token!==this.#t?.token)return this.#t=t,this.emit("CopilotToken",t)}emit(t,...r){return this.#e.emit(t,...r)}on(t,r,n){let i=pa(t,n,`event.${r}`);return this.#e.on(r,i),Kt.Disposable.create(()=>this.#e.off(r,i))}};function Vr(e,t){return e.get(wl).on(e,"CopilotToken",t)}o(Vr,"onCopilotToken");function sO(e,t){return e.get(wl).emitToken(t)}o(sO,"emitCopilotToken");function mS(e){return e.get(wl).lastToken}o(mS,"getLastCopilotToken");var i4=class{constructor(t){this.userInfo=t}static{o(this,"CopilotUserInfoWrapper")}get sku(){return this.userInfo?.access_type_sku}get isFreeUser(){return this.sku==="free_limited_copilot"}get copilotPlan(){if(this.isFreeUser)return"free";let t=this.userInfo?.copilot_plan;switch(t){case"individual":case"individual_pro":case"business":case"enterprise":return t;default:return"individual"}}get quotaInfo(){return{quota_snapshots:this.userInfo?.quota_snapshots,quota_reset_date:this.userInfo?.quota_reset_date}}get raw(){return this.userInfo}};var ga=class{static{o(this,"UrlOpener")}};var xne=["UNABLE_TO_VERIFY_LEAF_SIGNATURE","CERT_SIGNATURE_FAILURE"],aO="Your proxy connection requires a trusted certificate. Please make sure the proxy certificate and any issuers are configured correctly and trusted by your operating system.",lO="https://gh.io/copilot-network-errors",p0=class{constructor(){this.notifiedErrorCodes=[]}static{o(this,"UserErrorNotifier")}notifyUser(t,r){if(!(r instanceof Error))return;let n=r;n.code&&xne.includes(n.code)&&!this.didNotifyBefore(n.code)&&(this.notifiedErrorCodes.push(n.code),this.displayCertificateErrorNotification(t,n))}async displayCertificateErrorNotification(t,r){new St("certificates").error(t,`${aO} Please visit ${lO} to learn more. Original cause:`,r);let n={title:"Learn more"};return t.get(Di).showWarningMessage(aO,n).then(i=>{if(i?.title===n.title)return t.get(ga).open(lO)})}didNotifyBefore(t){return this.notifiedErrorCodes.indexOf(t)!==-1}};function Pl(){return typeof process>"u"}o(Pl,"isWeb");var $_=class extends Y0{static{o(this,"ProxiedResponseError")}constructor(t){super(t,`HTTP ${t.status} response does not appear to originate from GitHub. Is a proxy or firewall intercepting this request? https://gh.io/copilot-firewall`)}};async function Jc(e,t,r,n={}){n={...n,headers:{Authorization:`Bearer ${t.accessToken}`,...Pl()?{}:lf(e),...n.headers}};let i=await e.get(Bn).fetch(new URL(r,t.apiUrl).href,n);if(i.status>=500)throw new Y0(i);if(!i.headers.get("x-github-request-id"))throw new $_(i);return i}o(Jc,"apiFetch");var ha=new St("auth"),uO=60;function tp(e){let t=e.serverUrl?.match(/^https?:\/\//)?e.serverUrl:"",r=e.apiUrl?.match(/^https?:\/\//)?e.apiUrl:"";return t?r||=t.replace("://","://api."):r?.includes("://api.")&&(t||=r.replace("://api.","://")),(!t||!r)&&(t="https://github.com/",r="https://api.github.com/"),{apiUrl:r,serverUrl:t}}o(tp,"fillGitHubUrls");function o4(){return Math.floor(Date.now()/1e3)}o(o4,"nowSeconds");async function fO(e,t){let r=Qe.createAndMarkAsIssued({},{});Se(e,"auth.new_login");let n=await bne(e,t),i=await n.json(),s=i.user_notification;if(cO(e,s,t),n.status===401){let u="Failed to get copilot token due to 401 status. Please sign out and try again.";return ha.info(e,u),Os(e,"auth.unknown_401",r),{kind:"failure",reason:"HTTP401",message:u,envelope:i}}if(!n.ok||!i.token){ha.info(e,`Invalid copilot token: missing token: ${n.status} ${n.statusText}`),Os(e,"auth.invalid_token",r.extendedBy({status:n.status.toString(),status_text:n.statusText}));let u=i.error_details;return u?.notification_id!=="not_signed_up"&&cO(e,u,t),{kind:"failure",reason:"NotAuthorized",message:"User not authorized",envelope:i,...u}}let a=i.expires_at;i.expires_at=o4()+i.refresh_in+uO;let l=await _ne(e,t),c;l.ok&&(c=await l.json());let f=new q_(i,c);return sO(e,f),Se(e,"auth.new_token",r.extendedBy({},{adjusted_expires_at:i.expires_at,expires_at:a,current_time:o4()})),{kind:"success",copilotToken:f}}o(fO,"authFromGitHubSession");async function bne(e,t){let r={"X-GitHub-Api-Version":"2024-12-15"},n=t.devOverride?.copilotTokenUrl??"copilot_internal/v2/token";try{return await Jc(e,t,n,{timeout:12e4,headers:r})}catch(i){throw e.get(p0).notifyUser(e,i),i}}o(bne,"fetchCopilotToken");async function _ne(e,t){let r={"X-GitHub-Api-Version":Cc},n=t.devOverride?.copilotUserInfoUrl??"copilot_internal/user";try{return await Jc(e,t,n,{timeout:12e4,headers:r})}catch(i){throw e.get(p0).notifyUser(e,i),i}}o(_ne,"fetchCopilotUserInfo");function cO(e,t,r){t&&e.get(Di).showWarningMessageOnlyOnce(t.notification_id,t.message,{title:t.title},{title:"Dismiss"}).then(async n=>{let i=n?.title===t.title,s=i||n?.title==="Dismiss";if(i){let a=e.get(cr).getEditorPluginInfo(),l=t.url.replace("{EDITOR}",encodeURIComponent(a.name+"_"+a.version));await e.get(ga).open(l)}t.notification_id&&s&&await yne(e,t.notification_id,r)}).catch(n=>{ha.exception(e,n,"copilotToken.notification")})}o(cO,"notifyUser");async function yne(e,t,r){let n=r.devOverride?.notificationUrl??"copilot_internal/notification",i=await Jc(e,r,n,{method:"POST",body:JSON.stringify({notification_id:t})});(!i||!i.ok)&&ha.error(e,`Failed to send notification result to GitHub: ${i?.status} ${i?.statusText}`)}o(yne,"sendNotificationResultToGitHub");var q_=class{constructor(t,r){this.envelope=t;this.token=t.token,this.organization_list=t.organization_list,this.enterprise_list=t.enterprise_list,this.tokenMap=this.parseToken(this.token),this.userInfo=new i4(r)}static{o(this,"CopilotToken")}get endpoints(){return this.envelope.endpoints??Km}needsRefresh(){return(this.envelope.expires_at-uO)*1e3<Date.now()}isExpired(){return this.envelope.expires_at*1e3<Date.now()}get hasKnownOrg(){return mb(this.organization_list||[])!==void 0}parseToken(t){let r=new Map,i=(t??"").split(":")[0].split(";");for(let s of i){let[a,l]=s.split("=");r.set(a,l)}return r}getTokenValue(t){return this.tokenMap.get(t)}getTokenValues(){return Object.fromEntries(this.tokenMap)}};function ba(e,t){return e||t}o(ba,"_pureAssign");function Fn(e,t){return e[t]}o(Fn,"_pureRef");var Wi=void 0,hn=null,ry="",m4="function",np="object",xa="prototype",ey="__proto__",Zc="undefined",c4="constructor",ny="Symbol",vne="_polyfill",vd="length",u4="name",ai="call",p4="toString",Wo=ba(Object),iy=Fn(Wo,xa),xO=ba(String),Id=Fn(xO,xa),g4=ba(Math),bO=ba(Array),h4=Fn(bO,xa),Dl=Fn(h4,"slice");function Ln(e,t){try{return{v:e.apply(this,t)}}catch(r){return{e:r}}}o(Ln,"safe");function Tne(e,t){var r=Ln(e);return r.e?t:r.v}o(Tne,"safeGet");var W_;function x4(e){return function(t){return typeof t===e}}o(x4,"_createIs");function _O(e){var t="[object "+e+"]";return function(r){return!!(r&&b4(r)===t)}}o(_O,"_createObjIs");function b4(e){return iy[p4].call(e)}o(b4,"objToString");function sr(e){return typeof e===Zc||e===Zc}o(sr,"isUndefined");function Ine(e){return!_4(e)}o(Ine,"isStrictUndefined");function Oe(e){return e===hn||sr(e)}o(Oe,"isNullOrUndefined");function Ene(e){return e===hn||!_4(e)}o(Ene,"isStrictNullOrUndefined");function _4(e){return!!e||e!==Wi}o(_4,"isDefined");function Cne(e){return!W_&&(W_=["string","number","boolean",Zc,"symbol","bigint"]),e!==np&&W_.indexOf(e)!==-1}o(Cne,"isPrimitiveType");var Yt=x4("string"),dt=x4(m4);function li(e){return!e&&Oe(e)?!1:!!e&&typeof e===np}o(li,"isObject");var et=Fn(bO,"isArray"),yO=_O("Date"),_a=x4("number"),ip=x4("boolean");var op=_O("Error");function fo(e){return!!(e&&e.then&&dt(e.then))}o(fo,"isPromiseLike");function Rl(e){return!(!e||Tne(function(){return!(e&&0+e)},!e))}o(Rl,"isTruthy");var y4=Fn(Wo,"getOwnPropertyDescriptor");function Gi(e,t){return!!e&&iy.hasOwnProperty[ai](e,t)}o(Gi,"objHasOwnProperty");var g0=ba(Fn(Wo,"hasOwn"),Sne);function Sne(e,t){return Gi(e,t)||!!y4(e,t)}o(Sne,"polyObjHasOwn");function gt(e,t,r){if(e&&li(e)){for(var n in e)if(g0(e,n)&&t[ai](r||e,n,e[n])===-1)break}}o(gt,"objForEachKey");var s4={e:"enumerable",c:"configurable",v:"value",w:"writable",g:"get",s:"set"};function wne(e){var t={};if(t[s4.c]=!0,t[s4.e]=!0,e.l){t.get=function(){return e.l.v};var r=y4(e.l,"v");r&&r.set&&(t.set=function(n){e.l.v=n})}return gt(e,function(n,i){t[s4[n]]=Ine(i)?t[s4[n]]:i}),t}o(wne,"_createProp");var uo=Fn(Wo,"defineProperty"),vO=Fn(Wo,"defineProperties");function dr(e,t,r){return uo(e,t,wne(r))}o(dr,"objDefine");function TO(e,t,r,n,i){var s={};return gt(e,function(a,l){f4(s,a,t?l:a),f4(s,l,r?l:a)}),n?n(s):s}o(TO,"_createKeyValueMap");function f4(e,t,r,n){uo(e,t,{value:r,enumerable:!0,writable:!1})}o(f4,"_assignMapValue");var xn=ba(xO),Pne="[object Error]";function Je(e,t){var r=ry,n=iy[p4][ai](e);n===Pne&&(e={stack:xn(e.stack),message:xn(e.message),name:xn(e.name)});try{r=JSON.stringify(e,hn,t?typeof t=="number"?t:4:Wi),r=(r?r.replace(/"(\w+)"\s*:\s{0,1}/g,"$1: "):hn)||xn(e)}catch(i){r=" - "+Je(i,t)}return n+": "+r}o(Je,"dumpObj");function zi(e){throw new Error(e)}o(zi,"throwError");function ci(e){throw new TypeError(e)}o(ci,"throwTypeError");var IO=Fn(Wo,"freeze");function Dne(e){return e}o(Dne,"_doNothing");function Rne(e){return e[ey]||hn}o(Rne,"_getProto");var Ed=Fn(Wo,"assign"),Go=Fn(Wo,"keys");function Qc(e){return IO&&gt(e,function(t,r){(et(r)||li(r))&&Qc(r)}),mo(e)}o(Qc,"objDeepFreeze");var mo=ba(IO,Dne);var ty=ba(Fn(Wo,"getPrototypeOf"),Rne);function EO(e){return TO(e,1,0,mo)}o(EO,"createEnum");function Nne(e){return TO(e,0,0,mo)}o(Nne,"createEnumKeyMap");function Ane(e){var t={};return gt(e,function(r,n){f4(t,r,n[1]),f4(t,n[0],n[1])}),mo(t)}o(Ane,"createSimpleMap");function CO(e){return Ane(e)}o(CO,"createTypeMap");var SO=Nne({asyncIterator:0,hasInstance:1,isConcatSpreadable:2,iterator:3,match:4,matchAll:5,replace:6,search:7,species:8,split:9,toPrimitive:10,toStringTag:11,unscopables:12}),dO="__tsUtils$gblCfg",G_;function wO(){var e;return typeof globalThis!==Zc&&(e=globalThis),!e&&typeof self!==Zc&&(e=self),!e&&typeof window!==Zc&&(e=window),!e&&typeof global!==Zc&&(e=global),e}o(wO,"_getGlobalValue");function PO(){if(!G_){var e=Ln(wO).v||{};G_=e[dO]=e[dO]||{}}return G_}o(PO,"_getGlobalConfig");var Cd=v4;function v4(e,t,r){var n=t?t[e]:hn;return function(i){var s=(i?i[e]:hn)||n;if(s||r){var a=arguments;return(s||r).apply(i,s?Dl[ai](a,1):a)}ci('"'+xn(e)+'" not defined for '+Je(i))}}o(v4,"_unwrapFunctionWithPoly");function kne(e){return function(t){return t[e]}}o(kne,"_unwrapProp");var DO=Fn(g4,"min"),eu=Fn(g4,"max"),mO=Cd("slice",Id),zo=Cd("substring",Id),RO=v4("substr",Id,One);function One(e,t,r){return Oe(e)&&ci("Invalid "+Je(e)),r<0?ry:(t=t||0,t<0&&(t=eu(t+e[vd],0)),sr(r)?mO(e,t):mO(e,t,t+r))}o(One,"polyStrSubstr");function oy(e,t){return zo(e,0,t)}o(oy,"strLeft");var pO="_urid",z_;function Lne(){if(!z_){var e=PO();z_=e.gblSym=e.gblSym||{k:{},s:{}}}return z_}o(Lne,"_globalSymbolRegistry");var a4;function sy(e){var t={description:xn(e),toString:o(function(){return ny+"("+e+")"},"toString")};return t[vne]=!0,t}o(sy,"polyNewSymbol");function Fne(e){var t=Lne();if(!g0(t.k,e)){var r=sy(e),n=Go(t.s).length;r[pO]=function(){return n+"_"+r[p4]()},t.k[e]=r,t.s[r[pO]()]=xn(e)}return t.k[e]}o(Fne,"polySymbolFor");function Mne(e){!a4&&(a4={});var t,r=SO[e];return r&&(t=a4[r]=a4[r]||sy(ny+"."+r)),t}o(Mne,"polyGetKnownSymbol");var On;function tu(){On=PO()}o(tu,"_initTestHooks");function NO(e){var t={};return!On&&tu(),t.b=On.lzy,uo(t,"v",{configurable:!0,get:o(function(){var r=e();return On.lzy||uo(t,"v",{value:r}),t.b=On.lzy,r},"get")}),t}o(NO,"getLazy");function Ho(e){return uo({toJSON:o(function(){return e},"toJSON")},"v",{value:e})}o(Ho,"createCachedValue");var AO="window",rp;function T4(e,t){var r;return function(){return!On&&tu(),(!r||On.lzy)&&(r=Ho(Ln(e,t).v)),r.v}}o(T4,"_getGlobalInstFn");function po(e){return!On&&tu(),(!rp||e===!1||On.lzy)&&(rp=Ho(Ln(wO).v||hn)),rp.v}o(po,"getGlobal");function Ar(e,t){var r;if(!rp||t===!1?r=po(t):r=rp.v,r&&r[e])return r[e];if(e===AO)try{return window}catch{}return hn}o(Ar,"getInst");function ay(){return!!go()}o(ay,"hasDocument");var go=T4(Ar,["document"]);function kO(){return!!Hi()}o(kO,"hasWindow");var Hi=T4(Ar,[AO]);function ly(){return!!Vo()}o(ly,"hasNavigator");var Vo=T4(Ar,["navigator"]);var OO=T4(function(){return!!Ln(function(){return process&&(process.versions||{}).node}).v});var Td,H_;function I4(){return Td=Ho(Ln(Ar,[ny]).v),Td}o(I4,"_initSymbol");function Une(e){var t=(On.lzy?0:Td)||I4();return t.v?t.v[e]:Wi}o(Une,"_getSymbolKey");function LO(){return!!Bne()}o(LO,"hasSymbol");function Bne(){return!On&&tu(),((On.lzy?0:Td)||I4()).v}o(Bne,"getSymbol");function sp(e,t){var r=SO[e];!On&&tu();var n=(On.lzy?0:Td)||I4();return n.v?n.v[r||e]:t?Wi:Mne(e)}o(sp,"getKnownSymbol");function Sd(e,t){!On&&tu();var r=(On.lzy?0:Td)||I4();return r.v?r.v(e):t?hn:sy(e)}o(Sd,"newSymbol");function E4(e){return!On&&tu(),H_=(On.lzy?0:H_)||Ho(Ln(Une,["for"]).v),(H_.v||Fne)(e)}o(E4,"symbolFor");function d4(e){return!!e&&dt(e.next)}o(d4,"isIterator");function cy(e){return!Ene(e)&&dt(e[sp(3)])}o(cy,"isIterable");var l4;function C4(e,t,r){if(e&&(d4(e)||(!l4&&(l4=Ho(sp(3))),e=e[l4.v]?e[l4.v]():hn),d4(e))){var n=Wi,i=Wi;try{for(var s=0;!(i=e.next()).done&&t[ai](r||e,i.value,s,e)!==-1;)s++}catch(a){n={e:a},e.throw&&(i=hn,e.throw(n))}finally{try{i&&!i.done&&e.return&&e.return(i)}finally{if(n)throw n.e}}}}o(C4,"iterForOf");function yd(e,t,r){return e.apply(t,r)}o(yd,"fnApply");function ya(e,t){return!sr(t)&&e&&(et(t)?yd(e.push,e,t):d4(t)||cy(t)?C4(t,function(r){e.push(r)}):e.push(t)),e}o(ya,"arrAppend");function Ae(e,t,r){if(e)for(var n=e[vd]>>>0,i=0;i<n&&!(i in e&&t[ai](r||e,e[i],i,e)===-1);i++);}o(Ae,"arrForEach");var sn=Cd("indexOf",h4);var ru=Cd("map",h4);function wd(e,t,r){return((e?e.slice:hn)||Dl).apply(e,Dl[ai](arguments,1))}o(wd,"arrSlice");var uy=Cd("reduce",h4);var h0=ba(Fn(Wo,"create"),jne);function jne(e){if(!e)return{};var t=typeof e;t!==np&&t!==m4&&ci("Prototype must be an Object or function: "+Je(e));function r(){}return o(r,"tempFunc"),r[xa]=e,new r}o(jne,"polyObjCreate");var V_;function FO(e,t){var r=Wo.setPrototypeOf||function(n,i){var s;!V_&&(V_=Ho((s={},s[ey]=[],s instanceof Array))),V_.v?n[ey]=i:gt(i,function(a,l){return n[a]=l})};return r(e,t)}o(FO,"objSetPrototypeOf");function $ne(e,t,r){Ln(dr,[t,u4,{v:e,c:!0,e:!1}]),t=FO(t,r);function n(){this[c4]=t,Ln(dr,[this,u4,{v:e,c:!0,e:!1}])}return o(n,"__"),t[xa]=r===hn?h0(r):(n[xa]=r[xa],new n),t}o($ne,"_createCustomError");function gO(e,t){t&&(e[u4]=t)}o(gO,"_setName");function fy(e,t,r){var n=r||Error,i=n[xa][u4],s=Error.captureStackTrace;return $ne(e,function(){var a=this,l=arguments;try{Ln(gO,[n,e]);var c=yd(n,a,Dl[ai](l))||a;if(c!==a){var f=ty(a);f!==ty(c)&&FO(c,f)}return s&&s(c,a[c4]),t&&t(c,l),c}finally{Ln(gO,[n,i])}},n)}o(fy,"createCustomError");function ho(){return(Date.now||qne)()}o(ho,"utcNow");function qne(){return new Date().getTime()}o(qne,"polyUtcNow");function Wne(e){return o(function(r){return Oe(r)&&ci("strTrim called ["+Je(r)+"]"),r&&r.replace&&(r=r.replace(e,ry)),r},"_doTrim")}o(Wne,"_createTrimFn");var Gne=Wne(/^\s+|(?=\s)\s+$/g);var xr=v4("trim",Id,Gne);var va=Fn(g4,"floor");var K_,Y_,X_;function Vn(e){if(!e||typeof e!==np)return!1;X_||(X_=kO()?Hi():!0);var t=!1;if(e!==X_){Y_||(K_=Function[xa][p4],Y_=K_[ai](Wo));try{var r=ty(e);t=!r,t||(Gi(r,c4)&&(r=r[c4]),t=!!(r&&typeof r===m4&&K_[ai](r)===Y_))}catch{}}return t}o(Vn,"isPlainObject");function zne(e){return e.value&&UO(e),!0}o(zne,"_defaultDeepCopyHandler");var hO=[Yne,UO,Jne,Xne];function Hne(e,t,r,n){var i;return Ae(e,function(s){if(s.k===t)return i=s,-1}),i||(i={k:t,v:t},e.push(i),n(i)),i.v}o(Hne,"_getSetVisited");function dy(e,t,r,n){var i=r.handler,s=r.path?n?r.path.concat(n):r.path:[],a={handler:r.handler,src:r.src,path:s},l=typeof t,c=!1,f=t===hn;f||(t&&l===np?c=Vn(t):f=Cne(l));var u={type:l,isPrim:f,isPlain:c,value:t,result:t,path:s,origin:r.src,copy:o(function(d,p){return dy(e,d,p?a:r,p)},"copy"),copyTo:o(function(d,p){return MO(e,d,p,a)},"copyTo")};return u.isPrim?i&&i[ai](r,u)?u.result:t:Hne(e,t,s,function(d){dr(u,"result",{g:o(function(){return d.v},"g"),s:o(function(g){d.v=g},"s")});for(var p=0,m=i;!(m||(p<hO.length?hO[p++]:zne))[ai](r,u);)m=hn})}o(dy,"_deepCopy");function MO(e,t,r,n){if(!Oe(r))for(var i in r)t[i]=dy(e,r[i],n,i);return t}o(MO,"_copyProps");function Vne(e,t,r){var n={handler:r,src:t,path:[]};return MO([],e,t,n)}o(Vne,"objCopyProps");function Kne(e,t){var r={handler:t,src:e};return dy([],e,r)}o(Kne,"objDeepCopy");function Yne(e){var t=e.value;if(et(t)){var r=e.result=[];return r.length=t.length,e.copyTo(r,t),!0}return!1}o(Yne,"arrayDeepCopyHandler");function Xne(e){var t=e.value;return yO(t)?(e.result=new Date(t.getTime()),!0):!1}o(Xne,"dateDeepCopyHandler");function Jne(e){return e.type===m4}o(Jne,"functionDeepCopyHandler");function UO(e){var t=e.value;if(t&&e.isPlain){var r=e.result={};return e.copyTo(r,t),!0}return!1}o(UO,"plainObjDeepCopyHandler");function Zne(e,t){return Ae(t,function(r){Vne(e,r)}),e}o(Zne,"_doExtend");function my(e,t,r,n,i,s,a){return Zne(Kne(e)||{},Dl[ai](arguments))}o(my,"deepExtend");var py=kne(vd);var BO=Fn(g4,"round");var ap=v4("endsWith",Id,Qne);function Qne(e,t,r){Yt(e)||ci("'"+Je(e)+"' is not a string");var n=Yt(t)?t:xn(t),i=!sr(r)&&r<e[vd]?r:e[vd];return zo(e,i-n[vd],i)===n}o(Qne,"polyStrEndsWith");var x0=Cd("indexOf",Id);var J_="ref",Z_="unref",Q_="hasRef",eie="enabled";function tie(e,t,r){var n=!0,i=e?t(hn):hn,s;function a(){return n=!1,i&&i[Z_]&&i[Z_](),s}o(a,"_unref");function l(){i&&r(i),i=hn}o(l,"_cancel");function c(){return i=t(i),n||a(),s}o(c,"_refresh");function f(u){!u&&i&&l(),u&&!i&&c()}return o(f,"_setEnabled"),s={cancel:l,refresh:c},s[Q_]=function(){return i&&i[Q_]?i[Q_]():n},s[J_]=function(){return n=!0,i&&i[J_]&&i[J_](),s},s[Z_]=a,s=uo(s,eie,{get:o(function(){return!!i},"get"),set:f}),{h:s,dn:o(function(){i=hn},"dn")}}o(tie,"_createTimerHandler");function jO(e,t,r){var n=et(t),i=n?t.length:0,s=(i>0?t[0]:n?Wi:t)||setTimeout,a=(i>1?t[1]:Wi)||clearTimeout,l=r[0];r[0]=function(){c.dn(),yd(l,Wi,Dl[ai](arguments))};var c=tie(e,function(f){if(f){if(f.refresh)return f.refresh(),f;yd(a,Wi,[f])}return yd(s,Wi,r)},function(f){yd(a,Wi,[f])});return c.h}o(jO,"_createTimeoutWith");function xo(e,t){return jO(!0,Wi,Dl[ai](arguments))}o(xo,"scheduleTimeout");function $O(e,t){return jO(!1,Wi,Dl[ai](arguments))}o($O,"createTimeout");var nu=EO,gy=CO;var Ls=nu({NONE:0,PENDING:3,INACTIVE:1,ACTIVE:2});var Fs="toLowerCase",je="length",Pd="warnToConsole",Ta="throwInternal",b0="watch",Nl="apply",yt="push",_0="splice",kr="logger",Ia="cancel",Ea="initialize",y0="identifier",Dd="removeNotificationListener",Rd="addNotificationListener",Vi="isInitialized",iu="value",lp="getNotifyMgr",Al="getPlugin",bo="name",En="processNext",S4="getProcessTelContext",kl="enabled",hy="stopPollingInternalLogs",Ko="unload",cp="onComplete",w4="version",P4="loggingLevelConsole",v0="createNew",_o="teardown",Nd="messageId",T0="message",Ki="diagLog",Ol="_doTeardown",ou="update",yo="getNext",Ll="setNextPlugin",up="userAgent",Ms="split",Us="replace",Ca="type",xy="evtName",su="status",by="getAllResponseHeaders",fp="isChildEvt",Fl="data",au="getCtx",Bs="setCtx",_y="itemsReceived",Ad="urlString",D4="headers",lu="timeout",R4="traceFlags";var yy;function qO(e,t){yy||(yy=fy("AggregationError",function(n,i){i[je]>1&&(n.errors=i[1])}));var r=e||"One or more errors occurred.";throw Ae(t,function(n,i){r+=`
`.concat(i," > ").concat(Je(n))}),new yy(r,t||[])}o(qO,"throwAggregationError");var N4="function",dp="object",mp="undefined",Sa="prototype";var kd=Object,vy=kd[Sa];var FDe=(po()||{}).Symbol,MDe=(po()||{}).Reflect;var WO="hasOwnProperty",nie=o(function(e){for(var t,r=1,n=arguments.length;r<n;r++){t=arguments[r];for(var i in t)vy[WO].call(t,i)&&(e[i]=t[i])}return e},"__objAssignFnImpl"),Yo=Ed||nie,Ty=o(function(e,t){return Ty=kd.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)n[WO](i)&&(r[i]=n[i])},Ty(e,t)},"extendStaticsFn");function I0(e,t){typeof t!==N4&&t!==null&&ci("Class extends value "+String(t)+" is not a constructor or null"),Ty(e,t);function r(){this.constructor=e}o(r,"__"),e[Sa]=t===null?h0(t):(r[Sa]=t[Sa],new r)}o(I0,"__extendsFn");function A4(e,t){for(var r=0,n=t.length,i=e.length;r<n;r++,i++)e[i]=t[r];return e}o(A4,"__spreadArrayFn");var k4;var M4="constructor",wa="prototype",U4="function",B4="_dynInstFuncs",Cy="_isDynProxy",Od="_dynClass",iie="_dynCls$",Sy="_dynInstChk",pp=Sy,KO="_dfOpts",GO="_unknown_",Dy="__proto__",O4="_dyn"+Dy,zO="__dynProto$Gbl",Iy="_dynInstProto",L4="useBaseInst",wy="setInstFuncs",Ry=Object,gp=Ry.getPrototypeOf,HO=Ry.getOwnPropertyNames,VO=po(),Py=VO[zO]||(VO[zO]={o:(k4={},k4[wy]=!0,k4[L4]=!0,k4),n:1e3});function F4(e){return e&&(e===Ry[wa]||e===Array[wa])}o(F4,"_isObjectOrArrayPrototype");function Ny(e){return F4(e)||e===Function[wa]}o(Ny,"_isObjectArrayOrFunctionPrototype");function cu(e){var t;if(e){if(gp)return gp(e);var r=e[Dy]||e[wa]||(e[M4]?e[M4][wa]:null);t=e[O4]||r,Gi(e,O4)||(delete e[Iy],t=e[O4]=e[Iy]||e[O4],e[Iy]=r)}return t}o(cu,"_getObjProto");function j4(e,t){var r=[];if(HO)r=HO(e);else for(var n in e)typeof n=="string"&&Gi(e,n)&&r.push(n);if(r&&r.length>0)for(var i=0;i<r.length;i++)t(r[i])}o(j4,"_forEachProp");function Ay(e,t,r){return t!==M4&&typeof e[t]===U4&&(r||Gi(e,t))&&t!==Dy&&t!==wa}o(Ay,"_isDynamicCandidate");function $4(e){ci("DynamicProto: "+e)}o($4,"_throwTypeError");function oie(e){var t=h0(null);return j4(e,function(r){!t[r]&&Ay(e,r,!1)&&(t[r]=e[r])}),t}o(oie,"_getInstanceFuncs");function ky(e,t){for(var r=e.length-1;r>=0;r--)if(e[r]===t)return!0;return!1}o(ky,"_hasVisited");function sie(e,t,r,n){function i(c,f,u){var d=f[u];if(d[Cy]&&n){var p=c[B4]||{};p[pp]!==!1&&(d=(p[f[Od]]||{})[u]||d)}return function(){return d.apply(c,arguments)}}o(i,"_instFuncProxy");var s=h0(null);j4(r,function(c){s[c]=i(t,r,c)});for(var a=cu(e),l=[];a&&!Ny(a)&&!ky(l,a);)j4(a,function(c){!s[c]&&Ay(a,c,!gp)&&(s[c]=i(t,a,c))}),l.push(a),a=cu(a);return s}o(sie,"_getBaseFuncs");function aie(e,t,r,n){var i=null;if(e&&Gi(r,Od)){var s=e[B4]||h0(null);if(i=(s[r[Od]]||h0(null))[t],i||$4("Missing ["+t+"] "+U4),!i[Sy]&&s[pp]!==!1){for(var a=!Gi(e,t),l=cu(e),c=[];a&&l&&!Ny(l)&&!ky(c,l);){var f=l[t];if(f){a=f===n;break}c.push(l),l=cu(l)}try{a&&(e[t]=i),i[Sy]=1}catch{s[pp]=!1}}}return i}o(aie,"_getInstFunc");function lie(e,t,r){var n=t[e];return n===r&&(n=cu(t)[e]),typeof n!==U4&&$4("["+e+"] is not a "+U4),n}o(lie,"_getProtoFunc");function cie(e,t,r,n,i){function s(c,f){var u=o(function(){var d=aie(this,f,c,u)||lie(f,c,u);return d.apply(this,arguments)},"dynProtoProxy");return u[Cy]=1,u}if(o(s,"_createDynamicPrototype"),!F4(e)){var a=r[B4]=r[B4]||h0(null);if(!F4(a)){var l=a[t]=a[t]||h0(null);a[pp]!==!1&&(a[pp]=!!i),F4(l)||j4(r,function(c){Ay(r,c,!1)&&r[c]!==n[c]&&(l[c]=r[c],delete r[c],(!Gi(e,c)||e[c]&&!e[c][Cy])&&(e[c]=s(e,c)))})}}}o(cie,"_populatePrototype");function uie(e,t){if(gp){for(var r=[],n=cu(t);n&&!Ny(n)&&!ky(r,n);){if(n===e)return!0;r.push(n),n=cu(n)}return!1}return!0}o(uie,"_checkPrototype");function Ey(e,t){return Gi(e,wa)?e.name||t||GO:((e||{})[M4]||{}).name||t||GO}o(Ey,"_getObjName");function Tr(e,t,r,n){Gi(e,wa)||$4("theClass is an invalid class definition.");var i=e[wa];uie(i,t)||$4("["+Ey(e)+"] not in hierarchy of ["+Ey(t)+"]");var s=null;Gi(i,Od)?s=i[Od]:(s=iie+Ey(e,"_")+"$"+Py.n,Py.n++,i[Od]=s);var a=Tr[KO],l=!!a[L4];l&&n&&n[L4]!==void 0&&(l=!!n[L4]);var c=oie(t),f=sie(i,t,c,l);r(t,f);var u=!!gp&&!!a[wy];u&&n&&(u=!!n[wy]),cie(i,s,t,c,u!==!1)}o(Tr,"dynamicProto");Tr[KO]=Py.o;var W4="Promise";var $y="rejected";function vo(e,t){return ZO(e,function(r){return t?t({status:"fulfilled",rejected:!1,value:r}):r},function(r){return t?t({status:$y,rejected:!0,reason:r}):r})}o(vo,"doAwaitResponse");function ZO(e,t,r,n){var i=e;try{if(fo(e))(t||r)&&(i=e.then(t,r));else try{t&&(i=t(e))}catch(s){if(r)i=r(s);else throw s}}finally{n&&fie(i,n)}return i}o(ZO,"doAwait");function fie(e,t){var r=e;return t&&(fo(e)?e.finally?r=e.finally(t):r=e.then(function(n){return t(),n},function(n){throw t(),n}):t()),r}o(fie,"doFinally");var Oy,Ly,Fy,YO=!1;function die(e,t,r,n){Oy=Oy||{toString:o(function(){return"[[PromiseState]]"},"toString")},Ly=Ly||{toString:o(function(){return"[[PromiseResult]]"},"toString")},Fy=Fy||{toString:o(function(){return"[[PromiseIsHandled]]"},"toString")};var i={};i[Oy]={get:t},i[Ly]={get:r},i[Fy]={get:n},vO(e,i)}o(die,"_addDebugState$1");var QO=["pending","resolving","resolved",$y],XO="dispatchEvent",q4;function mie(e){var t;return e&&e.createEvent&&(t=e.createEvent("Event")),!!t&&t.initEvent}o(mie,"_hasInitEventFn");function pie(e,t,r,n){var i=go();!q4&&(q4=Ho(!!Ln(mie,[i]).v));var s=q4.v?i.createEvent("Event"):n?new Event(t):{};if(r&&r(s),q4.v&&s.initEvent(t,!1,!0),s&&e[XO])e[XO](s);else{var a=e["on"+t];if(a)a(s);else{var l=Ar("console");l&&(l.error||l.log)(t,Je(s))}}}o(pie,"emitEvent");var eL="unhandledRejection",gie=eL.toLowerCase(),hp=[],hie=0,xie=10;var My;function JO(e){return dt(e)?e.toString():Je(e)}o(JO,"dumpFnObj");function tL(e,t,r){var n=wd(arguments,3),i=0,s=!1,a,l=[],c=hie++,f=hp.length>0?hp[hp.length-1]:void 0,u=!1,d=null,p;function m(S,w){try{hp.push(c),u=!0,d&&d.cancel(),d=null;var z=e(function(V,W){l.push(function(){try{var Y=i===2?S:w,R=sr(Y)?a:dt(Y)?Y(a):Y;fo(R)?R.then(V,W):Y?V(R):i===3?W(R):V(R)}catch(P){W(P)}}),s&&b()},n);return z}finally{hp.pop()}}o(m,"_then");function g(S){return m(void 0,S)}o(g,"_catch");function h(S){var w=S,z=S;return dt(S)&&(w=o(function(V){return S&&S(),V},"thenFinally"),z=o(function(V){throw S&&S(),V},"catchFinally")),m(w,z)}o(h,"_finally");function _(){return QO[i]}o(_,"_strState");function b(){if(l.length>0){var S=l.slice();l=[],u=!0,d&&d.cancel(),d=null,t(S)}}o(b,"_processQueue");function x(S,w){return function(z){if(i===w){if(S===2&&fo(z)){i=1,z.then(x(2,1),x(3,1));return}i=S,s=!0,a=z,b(),!u&&S===3&&!d&&(d=xo(y,xie))}}}o(x,"_createSettleIfFn");function y(){if(!u)if(u=!0,OO())process.emit(eL,a,p);else{var S=Hi()||po();!My&&(My=Ho(Ln(Ar,[W4+"RejectionEvent"]).v)),pie(S,gie,function(w){return dr(w,"promise",{g:o(function(){return p},"g")}),w.reason=a,w},!!My.v)}}o(y,"_notifyUnhandledRejection"),p={then:m,catch:g,finally:h},uo(p,"state",{get:_}),YO&&die(p,_,function(){return b4(a)},function(){return u}),LO()&&(p[sp(11)]="IPromise");function E(){return"IPromise"+(YO?"["+c+(sr(f)?"":":"+f)+"]":"")+" "+_()+(s?" - "+JO(a):"")}return o(E,"_toString"),p.toString=E,o(function(){dt(r)||ci(W4+": executor is not a function - "+JO(r));var w=x(3,0);try{r.call(p,x(2,0),w)}catch(z){w(z)}},"_initialize")(),p}o(tL,"_createPromise");function bie(e){return function(t){var r=wd(arguments,1);return e(function(n,i){try{var s=[],a=1;C4(t,function(l,c){l&&(a++,ZO(l,function(f){s[c]=f,--a===0&&n(s)},i))}),a--,a===0&&n(s)}catch(l){i(l)}},r)}}o(bie,"_createAllPromise");function _ie(e){return Ho(function(t){var r=wd(arguments,1);return e(function(n,i){var s=[],a=1;function l(c,f){a++,vo(c,function(u){u.rejected?s[f]={status:$y,reason:u.reason}:s[f]={status:"fulfilled",value:u.value},--a===0&&n(s)})}o(l,"processItem");try{et(t)?Ae(t,l):cy(t)?C4(t,l):ci("Input is not an iterable"),a--,a===0&&n(s)}catch(c){i(c)}},r)})}o(_ie,"_createAllSettledPromise");function rL(e){Ae(e,function(t){try{t()}catch{}})}o(rL,"syncItemProcessor");function yie(e){var t=_a(e)?e:0;return function(r){xo(function(){rL(r)},t)}}o(yie,"timeoutItemProcessor");function nL(e,t){return tL(nL,yie(t),e,t)}o(nL,"createAsyncPromise");var Uy;function vie(e,t){!Uy&&(Uy=Ho(Ln(Ar,[W4]).v||null));var r=Uy.v;if(!r)return nL(e);dt(e)||ci(W4+": executor is not a function - "+Je(e));var n=0;function i(){return QO[n]}o(i,"_strState");var s=new r(function(a,l){function c(u){n=2,a(u)}o(c,"_resolve");function f(u){n=3,l(u)}o(f,"_reject"),e(c,f)});return uo(s,"state",{get:i}),s}o(vie,"createNativePromise");var By;function xp(e){return tL(xp,rL,e)}o(xp,"createSyncPromise");function iL(e,t){return!By&&(By=_ie(xp)),By.v(e,t)}o(iL,"createSyncAllSettledPromise");var jy;function E0(e,t){return!jy&&(jy=Ho(vie)),jy.v.call(this,e,t)}o(E0,"createPromise");var oL=bie(E0);var dRe=sp(11);var To=void 0,bt="",uu="channels",Qr="core",G4="createPerfMgr",bp="disabled",Pa="extensionConfig",fu="extensions",Yi="processTelemetry",du="priority",Ld="eventsSent",Ml="eventsDiscarded",Fd="eventsSendRequest",C0="perfEvent",z4="offlineEventsStored",H4="offlineBatchSent",V4="offlineBatchDrop",Md="getPerfMgr",K4="domain",Y4="path",sL="Not dynamic - ";var Tie="getPrototypeOf",Iie=/-([a-z])/g,Eie=/([^\w\d_$])/g,Cie=/^(\d+[\w\d_$])/,yRe=Object[Tie];function Ul(e){return!Oe(e)}o(Ul,"isNotNullOrUndefined");function _p(e){var t=e;return t&&Yt(t)&&(t=t[Us](Iie,function(r,n){return n.toUpperCase()}),t=t[Us](Eie,"_"),t=t[Us](Cie,function(r,n){return"_"+n})),t}o(_p,"normalizeJsName");function Cn(e,t){return e&&t?x0(e,t)!==-1:!1}o(Cn,"strContains");function Bl(e){return e&&e.toISOString()||""}o(Bl,"toISOString");function an(e){return op(e)?e[bo]:bt}o(an,"getExceptionName");function S0(e,t,r,n,i){var s=r;return e&&(s=e[t],s!==r&&(!i||i(s))&&(!n||n(r))&&(s=r,e[t]=s)),s}o(S0,"setValue");function qy(e,t,r){var n;return e?(n=e[t],!n&&Oe(n)&&(n=sr(r)?{}:r,e[t]=n)):n=sr(r)?{}:r,n}o(qy,"getSetValue");function Sie(e,t){var r=null,n=null;return dt(e)?r=e:n=e,function(){var i=arguments;if(r&&(n=r()),n)return n[t][Nl](n,i)}}o(Sie,"_createProxyFunction");function mu(e,t,r,n,i){e&&t&&r&&(i!==!1||sr(e[t]))&&(e[t]=Sie(r,n))}o(mu,"proxyFunctionAs");function pu(e,t,r,n){return e&&t&&li(e)&&et(r)&&Ae(r,function(i){Yt(i)&&mu(e,i,t,i,n)}),e}o(pu,"proxyFunctions");function Wy(e){return function(){function t(){var r=this;e&&gt(e,function(n,i){r[n]=i})}return o(t,"class_1"),t}()}o(Wy,"createClassFromInterface");function J4(e){return e&&Ed&&(e=kd(Ed({},e))),e}o(J4,"optimizeObject");function Z4(e,t,r,n,i,s){var a=arguments,l=a[0]||{},c=a[je],f=!1,u=1;for(c>0&&ip(l)&&(f=l,l=a[u]||{},u++),li(l)||(l={});u<c;u++){var d=a[u],p=et(d),m=li(d);for(var g in d){var h=p&&g in d||m&&g0(d,g);if(h){var _=d[g],b=void 0;if(f&&_&&((b=et(_))||Vn(_))){var x=l[g];b?et(x)||(x=[]):Vn(x)||(x={}),_=Z4(f,x,_)}_!==void 0&&(l[g]=_)}}}return l}o(Z4,"objExtend");function Ud(e){try{return e.responseText}catch{}return null}o(Ud,"getResponseText");function yp(e,t){return e?"XDomainRequest,Response:"+Ud(e)||"":t}o(yp,"formatErrorMessageXdr");function gu(e,t){return e?"XMLHttpRequest,Status:"+e[su]+",Response:"+Ud(e)||e.response||"":t}o(gu,"formatErrorMessageXhr");function Q4(e,t){return t&&(_a(t)?e=[t].concat(e):et(t)&&(e=t.concat(e))),e}o(Q4,"prependTransports");var wie="Microsoft_ApplicationInsights_BypassAjaxInstrumentation",aL="withCredentials",Pie="timeout";function Gy(e,t,r,n,i,s){n===void 0&&(n=!1),i===void 0&&(i=!1);function a(c,f,u){try{c[f]=u}catch{}}o(a,"_wrapSetXhrProp");var l=new XMLHttpRequest;return n&&a(l,wie,n),r&&a(l,aL,r),l.open(e,t,!i),r&&a(l,aL,r),!i&&s&&a(l,Pie,s),l}o(Gy,"openXhr");function lL(e){var t={};if(Yt(e)){var r=xr(e)[Ms](/[\r\n]+/);Ae(r,function(n){if(n){var i=n.indexOf(": ");if(i!==-1){var s=xr(n.substring(0,i))[Fs](),a=xr(n.substring(i+1));t[s]=a}else t[xr(n)]=1}})}return t}o(lL,"convertAllHeadersToMap");function X4(e,t,r){if(!e[r]&&t&&t.getResponseHeader){var n=t.getResponseHeader(r);n&&(e[r]=xr(n))}return e}o(X4,"_appendHeader");var Die="kill-duration",Rie="kill-duration-seconds",Nie="time-delta-millis";function vp(e,t){var r={};return e[by]?r=lL(e[by]()):t&&(r=X4(r,e,Nie),r=X4(r,e,Die),r=X4(r,e,Rie)),r}o(vp,"_getAllResponseHeaders");var Aie="documentMode",kie="location",Oie="console",uL="JSON",Lie="crypto",Fie="msCrypto";var Ky="msie",Yy="trident/",fL="XMLHttpRequest",zy=null,Hy=null,Mie=!1,Bd=null,Vy=null;function dL(e,t){var r=!1;if(e){try{if(r=t in e,!r){var n=e[Sa];n&&(r=t in n)}}catch{}if(!r)try{var i=new e;r=!sr(i[t])}catch{}}return r}o(dL,"_hasProperty");function Tp(e){if(e&&Mie){var t=Ar("__mockLocation");if(t)return t}return typeof location===dp&&location?location:Ar(kie)}o(Tp,"getLocation");function Xy(){return typeof console!==mp?console:Ar(Oie)}o(Xy,"getConsole");function jl(){return!!(typeof JSON===dp&&JSON||Ar(uL)!==null)}o(jl,"hasJSON");function Ti(){return jl()?JSON||Ar(uL):null}o(Ti,"getJSON");function Jy(){return Ar(Lie)}o(Jy,"getCrypto");function Zy(){return Ar(Fie)}o(Zy,"getMsCrypto");function jd(){var e=Vo();if(e&&(e[up]!==Hy||zy===null)){Hy=e[up];var t=(Hy||bt)[Fs]();zy=Cn(t,Ky)||Cn(t,Yy)}return zy}o(jd,"isIE");function Qy(e){if(e===void 0&&(e=null),!e){var t=Vo()||{};e=t?(t.userAgent||bt)[Fs]():bt}var r=(e||bt)[Fs]();if(Cn(r,Ky)){var n=go()||{};return eu(parseInt(r[Ms](Ky)[1]),n[Aie]||0)}else if(Cn(r,Yy)){var i=parseInt(r[Ms](Yy)[1]);if(i)return i+4}return null}o(Qy,"getIEVersion");function $l(e){return(Vy===null||e===!1)&&(Vy=ly()&&!!Vo().sendBeacon),Vy}o($l,"isBeaconsSupported");function Ip(e){var t=!1;try{t=!!Ar("fetch");var r=Ar("Request");t&&e&&r&&(t=dL(r,"keepalive"))}catch{}return t}o(Ip,"isFetchSupported");function ev(){return Bd===null&&(Bd=typeof XDomainRequest!==mp,Bd&&ex()&&(Bd=Bd&&!dL(Ar(fL),"withCredentials"))),Bd}o(ev,"useXDomainRequest");function ex(){var e=!1;try{var t=Ar(fL);e=!!t}catch{}return e}o(ex,"isXhrSupported");var pL=4294967296,hu=4294967295,gL=123456789,hL=987654321,xL=!1,Ep=gL,Cp=hL;function Uie(e){e<0&&(e>>>=0),Ep=gL+e&hu,Cp=hL-e&hu,xL=!0}o(Uie,"_mwcSeed");function Bie(){try{var e=ho()&2147483647;Uie((Math.random()*pL^e)+e)}catch{}}o(Bie,"_autoSeedMwc");function mL(e){var t=0,r=Jy()||Zy();return r&&r.getRandomValues&&(t=r.getRandomValues(new Uint32Array(1))[0]&hu),t===0&&jd()&&(xL||Bie(),t=jie()&hu),t===0&&(t=va(pL*Math.random()|0)),e||(t>>>=0),t}o(mL,"random32");function jie(e){Cp=36969*(Cp&65535)+(Cp>>16)&hu,Ep=18e3*(Ep&65535)+(Ep>>16)&hu;var t=(Cp<<16)+(Ep&65535)>>>0&hu|0;return e||(t>>>=0),t}o(jie,"mwcRandom32");function bL(e){e===void 0&&(e=22);for(var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",r=mL()>>>0,n=0,i=bt;i[je]<e;)n++,i+=t.charAt(r&63),r>>>=6,n===5&&(r=(mL()<<2&4294967295|r&3)>>>0,n=0);return i}o(bL,"newId");var _L="3.3.6",$ie="."+bL(6),qie=0;function yL(e){return e.nodeType===1||e.nodeType===9||!+e.nodeType}o(yL,"_canAcceptData");function Wie(e,t){var r=t[e.id];if(!r){r={};try{yL(t)&&dr(t,e.id,{e:!1,v:r})}catch{}}return r}o(Wie,"_getCache");function Io(e,t){return t===void 0&&(t=!1),_p(e+qie+++(t?"."+_L:bt)+$ie)}o(Io,"createUniqueNamespace");function tx(e){var t={id:Io("_aiData-"+(e||bt)+"."+_L),accept:o(function(r){return yL(r)},"accept"),get:o(function(r,n,i,s){var a=r[t.id];return a?a[_p(n)]:(s&&(a=Wie(t,r),a[_p(n)]=i),i)},"get"),kill:o(function(r,n){if(r&&r[n])try{delete r[n]}catch{}},"kill")};return t}o(tx,"createElmNodeData");function rx(e){return e&&li(e)&&(e.isVal||e.fb||g0(e,"v")||g0(e,"mrg")||g0(e,"ref")||e.set)}o(rx,"_isConfigDefaults");function vL(e,t,r){var n,i=r.dfVal||_4;if(t&&r.fb){var s=r.fb;et(s)||(s=[s]);for(var a=0;a<s[je];a++){var l=s[a],c=t[l];if(i(c)?n=c:e&&(c=e.cfg[l],i(c)&&(n=c),e.set(e.cfg,xn(l),c)),i(n))break}}return!i(n)&&i(r.v)&&(n=r.v),n}o(vL,"_getDefault");function tv(e,t,r){var n=r;if(r&&rx(r)&&(n=vL(e,t,r)),n){rx(n)&&(n=tv(e,t,n));var i;et(n)?(i=[],i[je]=n[je]):Vn(n)&&(i={}),i&&(gt(n,function(s,a){a&&rx(a)&&(a=tv(e,t,a)),i[s]=a}),n=i)}return n}o(tv,"_resolveDefaultValue");function Sp(e,t,r,n){var i,s,a,l=n,c,f,u,d;rx(l)?(i=l.isVal,s=l.set,u=l.rdOnly,d=l.blkVal,c=l.mrg,f=l.ref,!f&&sr(f)&&(f=!!c),a=vL(e,t,l)):a=n,d&&e.blkVal(t,r);var p,m=!0,g=t[r];(g||!Oe(g))&&(p=g,m=!1,i&&p!==a&&!i(p)&&(p=a,m=!0),s&&(p=s(p,a,t),m=p===a)),m?a?p=tv(e,t,a):p=a:(Vn(p)||et(a))&&c&&a&&(Vn(a)||et(a))&&gt(a,function(h,_){Sp(e,p,h,_)}),e.set(t,r,p),f&&e.ref(t,r),u&&e.rdOnly(t,r)}o(Sp,"_applyDefaultValue");var w0=E4("[[ai_dynCfg_1]]"),TL=E4("[[ai_blkDynCfg_1]]"),Gie=E4("[[ai_frcDynCfg_1]]");function rv(e){if(e){var t;if(et(e)?(t=[],t[je]=e[je]):Vn(e)&&(t={}),t)return gt(e,function(r,n){t[r]=rv(n)}),t}return e}o(rv,"_cfgDeepCopy");function IL(e){if(e){var t=e[w0]||e;if(t.cfg&&(t.cfg===e||t.cfg[w0]===t))return t}return null}o(IL,"getDynamicConfigHandler");function EL(e){if(e&&(Vn(e)||et(e)))try{e[TL]=!0}catch{}return e}o(EL,"blockDynamicConversion");function nx(e,t,r){var n=!1;return r&&!e[t.blkVal]&&(n=r[Gie],!n&&!r[TL]&&(n=Vn(r)||et(r))),n}o(nx,"_canMakeDynamic");function ix(e){ci("InvalidAccess:"+e)}o(ix,"throwInvalidAccess");var zie=["push","pop","shift","unshift","splice"],$d=o(function(e,t,r,n){e&&e[Ta](3,108,"".concat(r," [").concat(t,"] failed - ")+Je(n))},"_throwDynamicError");function Hie(e,t,r){et(t)&&Ae(zie,function(n){var i=t[n];t[n]=function(){for(var s=[],a=0;a<arguments.length;a++)s[a]=arguments[a];var l=i[Nl](this,s);return wp(e,t,r,"Patching"),l}})}o(Hie,"_patchArray");function ox(e,t){var r=y4(e,t);return r&&r.get}o(ox,"_getOwnPropGetter");function Vie(e,t,r,n){var i={n:r,h:[],trk:o(function(f){f&&f.fn&&(sn(i.h,f)===-1&&i.h[yt](f),e.trk(f,i))},"trk"),clr:o(function(f){var u=sn(i.h,f);u!==-1&&i.h[_0](u,1)},"clr")},s=!0,a=!1;function l(){s&&(a=a||nx(l,e,n),n&&!n[w0]&&a&&(n=wp(e,n,r,"Converting")),s=!1);var f=e.act;return f&&i.trk(f),n}o(l,"_getProperty"),l[e.prop]={chng:o(function(){e.add(i)},"chng")};function c(f){if(n!==f){l[e.ro]&&!e.upd&&ix("["+r+"] is read-only:"+Je(t)),s&&(a=a||nx(l,e,n),s=!1);var u=a&&l[e.rf];if(a)if(u){gt(n,function(p){n[p]=f?f[p]:To});try{gt(f,function(p,m){Pp(e,n,p,m)}),f=n}catch(p){$d((e.hdlr||{})[kr],r,"Assigning",p),a=!1}}else n&&n[w0]&&gt(n,function(p){var m=ox(n,p);if(m){var g=m[e.prop];g&&g.chng()}});if(f!==n){var d=f&&nx(l,e,f);!u&&d&&(f=wp(e,f,r,"Converting")),n=f,a=d}e.add(i)}}o(c,"_setProperty"),dr(t,i.n,{g:l,s:c})}o(Vie,"_createDynamicProperty");function Pp(e,t,r,n){if(t){var i=ox(t,r),s=i&&!!i[e.prop];s?t[r]=n:Vie(e,t,r,n)}return t}o(Pp,"_setDynamicProperty");function sx(e,t,r,n){if(t){var i=ox(t,r),s=i&&!!i[e.prop],a=n&&n[0],l=n&&n[1],c=n&&n[2];if(!s){if(c)try{EL(t)}catch(f){$d((e.hdlr||{})[kr],r,"Blocking",f)}try{Pp(e,t,r,t[r]),i=ox(t,r)}catch(f){$d((e.hdlr||{})[kr],r,"State",f)}}a&&(i[e.rf]=a),l&&(i[e.ro]=l),c&&(i[e.blkVal]=!0)}return t}o(sx,"_setDynamicPropertyState");function wp(e,t,r,n){try{gt(t,function(i,s){Pp(e,t,i,s)}),t[w0]||(uo(t,w0,{get:o(function(){return e.hdlr},"get")}),Hie(e,t,r))}catch(i){$d((e.hdlr||{})[kr],r,n,i)}return t}o(wp,"_makeDynamicObject");var Dp="[[ai_",Rp="]]";function CL(e){var t=Sd(Dp+"get"+e.uid+Rp),r=Sd(Dp+"ro"+e.uid+Rp),n=Sd(Dp+"rf"+e.uid+Rp),i=Sd(Dp+"blkVal"+e.uid+Rp),s=Sd(Dp+"dtl"+e.uid+Rp),a=null,l=null,c;function f(m,g){var h=c.act;try{c.act=m,m&&m[s]&&(Ae(m[s],function(b){b.clr(m)}),m[s]=[]),g({cfg:e.cfg,set:e.set.bind(e),setDf:e.setDf.bind(e),ref:e.ref.bind(e),rdOnly:e.rdOnly.bind(e)})}catch(b){var _=e[kr];throw _&&_[Ta](1,107,Je(b)),b}finally{c.act=h||null}}o(f,"_useHandler");function u(){if(a){var m=a;a=null,l&&l[Ia](),l=null;var g=[];if(Ae(m,function(h){if(h&&(h[s]&&(Ae(h[s],function(_){_.clr(h)}),h[s]=null),h.fn))try{f(h,h.fn)}catch(_){g[yt](_)}}),a)try{u()}catch(h){g[yt](h)}g[je]>0&&qO("Watcher error(s): ",g)}}o(u,"_notifyWatchers");function d(m){if(m&&m.h[je]>0){a||(a=[]),l||(l=xo(function(){l=null,u()},0));for(var g=0;g<m.h[je];g++){var h=m.h[g];h&&sn(a,h)===-1&&a[yt](h)}}}o(d,"_addWatcher");function p(m,g){if(m){var h=m[s]=m[s]||[];sn(h,g)===-1&&h[yt](g)}}return o(p,"_trackHandler"),c={prop:t,ro:r,rf:n,blkVal:i,hdlr:e,add:d,notify:u,use:f,trk:p},c}o(CL,"_createState");function Kie(e,t){var r={fn:t,rm:o(function(){r.fn=null,e=null,t=null},"rm")};return dr(r,"toJSON",{v:o(function(){return"WatcherHandler"+(r.fn?"":"[X]")},"v")}),e.use(r,t),r}o(Kie,"_createAndUseHandler");function Yie(e,t,r){var n=IL(t);if(n)return n;var i=Io("dyncfg",!0),s=t&&r!==!1?t:rv(t),a;function l(){a.notify()}o(l,"_notifyWatchers");function c(_,b,x){try{_=Pp(a,_,b,x)}catch(y){$d(e,b,"Setting value",y)}return _[b]}o(c,"_setValue");function f(_){return Kie(a,_)}o(f,"_watch");function u(_,b){a.use(null,function(x){var y=a.upd;try{sr(b)||(a.upd=b),_(x)}finally{a.upd=y}})}o(u,"_block");function d(_,b){var x;return sx(a,_,b,(x={},x[0]=!0,x))[b]}o(d,"_ref");function p(_,b){var x;return sx(a,_,b,(x={},x[1]=!0,x))[b]}o(p,"_rdOnly");function m(_,b){var x;return sx(a,_,b,(x={},x[2]=!0,x))[b]}o(m,"_blkPropValue");function g(_,b){return b&&gt(b,function(x,y){Sp(h,_,x,y)}),_}o(g,"_applyDefaults");var h={uid:null,cfg:s,logger:e,notify:l,set:c,setDf:g,watch:f,ref:d,rdOnly:p,blkVal:m,_block:u};return dr(h,"uid",{c:!1,e:!1,w:!1,v:i}),a=CL(h),wp(a,s,"config","Creating"),h}o(Yie,"_createDynamicHandler");function Xie(e,t){e?(e[Pd](t),e[Ta](2,108,t)):ix(t)}o(Xie,"_logInvalidAccess");function bn(e,t,r,n){var i=Yie(r,e||{},n);return t&&i.setDf(i.cfg,t),i}o(bn,"createDynamicConfig");function Xo(e,t,r){var n=e[w0]||e;return n.cfg&&(n.cfg===e||n.cfg[w0]===n)?n[b0](t):(Xie(r,sL+Je(e)),bn(e,null,r)[b0](t))}o(Xo,"onConfigChange");function Da(e,t){if(e&&e[Ko])return e[Ko](t)}o(Da,"runTargetUnload");function ax(e,t,r){var n;return r||(n=E0(function(i){r=i})),e&&py(e)>0?vo(Da(e[0],t),function(){ax(wd(e,1),t,r)}):r(),n}o(ax,"doUnloadAll");var SL=500,nv="Microsoft_ApplicationInsights_BypassAjaxInstrumentation";function Jie(e,t,r){return!e&&Oe(e)?t:ip(e)?e:xn(e)[Fs]()==="true"}o(Jie,"_stringToBoolOrDefault");function iv(e){return{mrg:!0,v:e}}o(iv,"cfgDfMerge");function qd(e,t,r){return{fb:r,isVal:e,v:t}}o(qd,"cfgDfValidate");function Jo(e,t){return{fb:t,set:Jie,v:!!e}}o(Jo,"cfgDfBoolean");var ov=[Ld,Ml,Fd,C0],cx=null,lx;function Zie(e,t){return function(){var r=arguments,n=sv(t);if(n){var i=n.listener;i&&i[e]&&i[e][Nl](i,r)}}}o(Zie,"_listenerProxyFunc");function Qie(){var e=Ar("Microsoft");return e&&(cx=e.ApplicationInsights),cx}o(Qie,"_getExtensionNamespace");function sv(e){var t=cx;return!t&&e.disableDbgExt!==!0&&(t=cx||Qie()),t?t.ChromeDbgExt:null}o(sv,"getDebugExt");function wL(e){if(!lx){lx={};for(var t=0;t<ov[je];t++)lx[ov[t]]=Zie(ov[t],e)}return lx}o(wL,"getDebugListener");var Wd,DL="warnToConsole",eoe="AI (Internal): ",toe="AI: ",roe="AITR_",noe={loggingLevelConsole:0,loggingLevelTelemetry:1,maxMessageLimit:25,enableDebug:!1},ioe=(Wd={},Wd[0]=null,Wd[1]="errorToConsole",Wd[2]=DL,Wd[3]="debugToConsole",Wd);function PL(e){return e?'"'+e[Us](/\"/g,bt)+'"':bt}o(PL,"_sanitizeDiagnosticText");function av(e,t){var r=Xy();if(r){var n="log";r[e]&&(n=e),dt(r[n])&&r[n](t)}}o(av,"_logToConsole");var Np=function(){function e(t,r,n,i){n===void 0&&(n=!1);var s=this;s[Nd]=t,s[T0]=(n?toe:eoe)+t;var a=bt;jl()&&(a=Ti().stringify(i));var l=(r?" message:"+PL(r):bt)+(i?" props:"+PL(a):bt);s[T0]+=l}return o(e,"_InternalLogMessage"),e.dataType="MessageData",e}();function xu(e,t){return(e||{})[kr]||new Gd(t)}o(xu,"safeGetLogger");var Gd=function(){function e(t){this.identifier="DiagnosticLogger",this.queue=[];var r=0,n={},i,s,a,l,c;Tr(e,this,function(f){c=d(t||{}),f.consoleLoggingLevel=function(){return i},f[Ta]=function(g,h,_,b,x){x===void 0&&(x=!1);var y=new Np(h,_,x,b);if(l)throw Je(y);var E=ioe[g]||DL;if(sr(y[T0]))m("throw"+(g===1?"Critical":"Warning"),y);else{if(x){var S=+y[Nd];!n[S]&&i>=g&&(f[E](y[T0]),n[S]=!0)}else i>=g&&f[E](y[T0]);u(g,y)}},f.debugToConsole=function(g){av("debug",g),m("warning",g)},f[Pd]=function(g){av("warn",g),m("warning",g)},f.errorToConsole=function(g){av("error",g),m("error",g)},f.resetInternalMessageCount=function(){r=0,n={}},f.logInternalMessage=u,f[Ko]=function(g){c&&c.rm(),c=null};function u(g,h){if(!p()){var _=!0,b=roe+h[Nd];if(n[b]?_=!1:n[b]=!0,_&&(g<=s&&(f.queue[yt](h),r++,m(g===1?"error":"warn",h)),r===a)){var x="Internal events throttle limit per PageView reached for this app.",y=new Np(23,x,!1);f.queue[yt](y),g===1?f.errorToConsole(x):f[Pd](x)}}}o(u,"_logInternalMessage");function d(g){return Xo(bn(g,noe,f).cfg,function(h){var _=h.cfg;i=_[P4],s=_.loggingLevelTelemetry,a=_.maxMessageLimit,l=_.enableDebug})}o(d,"_setDefaultsFromConfig");function p(){return r>=a}o(p,"_areInternalMessagesThrottled");function m(g,h){var _=sv(t||{});_&&_[Ki]&&_[Ki](g,h)}o(m,"_debugExtMsg")})}return o(e,"DiagnosticLogger"),e.__ieDyn=1,e}();function RL(e){return e||new Gd}o(RL,"_getLogger");function Ee(e,t,r,n,i,s){s===void 0&&(s=!1),RL(e)[Ta](t,r,n,i,s)}o(Ee,"_throwInternal");function Ra(e,t){RL(e)[Pd](t)}o(Ra,"_warnToConsole");var lv,bu,NL="toGMTString",AL="toUTCString",dv="cookie",cv="expires",kL="isCookieUseDisabled",fv="disableCookiesUsage",OL="_ckMgr",ux=null,uv=null,LL=null,P0,FL={},ML={},ooe=(lv={cookieCfg:iv((bu={},bu[K4]={fb:"cookieDomain",dfVal:Ul},bu.path={fb:"cookiePath",dfVal:Ul},bu.enabled=To,bu.ignoreCookies=To,bu.blockedCookies=To,bu)),cookieDomain:To,cookiePath:To},lv[fv]=To,lv);function mv(){!P0&&(P0=NO(function(){return go()}))}o(mv,"_getDoc");function fx(e){return e?e.isEnabled():!0}o(fx,"_isMgrEnabled");function WL(e,t){return t&&e&&et(e.ignoreCookies)?sn(e.ignoreCookies,t)!==-1:!1}o(WL,"_isIgnoredCookie");function soe(e,t){return t&&e&&et(e.blockedCookies)&&sn(e.blockedCookies,t)!==-1?!0:WL(e,t)}o(soe,"_isBlockedCookie");function UL(e,t){var r=t[kl];if(Oe(r)){var n=void 0;sr(e[kL])||(n=!e[kL]),sr(e[fv])||(n=!e[fv]),r=n}return r}o(UL,"_isCfgEnabled");function GL(e,t){var r,n,i,s,a,l,c,f;e=bn(e||ML,null,t).cfg,s=Xo(e,function(d){d.setDf(d.cfg,ooe),r=d.ref(d.cfg,"cookieCfg"),n=r[Y4]||"/",i=r[K4],a=UL(e,r)!==!1,l=r.getCookie||aoe,c=r.setCookie||qL,f=r.delCookie||qL},t);var u={isEnabled:o(function(){var d=UL(e,r)!==!1&&a&&BL(t),p=ML[OL];return d&&p&&u!==p&&(d=fx(p)),d},"isEnabled"),setEnabled:o(function(d){a=d!==!1,r[kl]=d},"setEnabled"),set:o(function(d,p,m,g,h){var _=!1;if(fx(u)&&!soe(r,d)){var b={},x=xr(p||bt),y=x0(x,";");if(y!==-1&&(x=xr(oy(p,y)),b=zL(zo(p,y+1))),S0(b,K4,g||i,Rl,sr),!Oe(m)){var E=jd();if(sr(b[cv])){var S=ho(),w=S+m*1e3;if(w>0){var z=new Date;z.setTime(w),S0(b,cv,jL(z,E?NL:AL)||jL(z,E?NL:AL)||bt,Rl)}}E||S0(b,"max-age",bt+m,null,sr)}var V=Tp();V&&V.protocol==="https:"&&(S0(b,"secure",null,null,sr),uv===null&&(uv=!loe((Vo()||{})[up])),uv&&S0(b,"SameSite","None",null,sr)),S0(b,Y4,h||n,null,sr),c(d,$L(x,b)),_=!0}return _},"set"),get:o(function(d){var p=bt;return fx(u)&&!WL(r,d)&&(p=l(d)),p},"get"),del:o(function(d,p){var m=!1;return fx(u)&&(m=u.purge(d,p)),m},"del"),purge:o(function(d,p){var m,g=!1;if(BL(t)){var h=(m={},m[Y4]=p||"/",m[cv]="Thu, 01 Jan 1970 00:00:01 GMT",m);jd()||(h["max-age"]="0"),f(d,$L(bt,h)),g=!0}return g},"purge"),unload:o(function(d){s&&s.rm(),s=null},"unload")};return u[OL]=u,u}o(GL,"createCookieMgr");function BL(e){if(ux===null){ux=!1,!P0&&mv();try{var t=P0.v||{};ux=t[dv]!==void 0}catch(r){Ee(e,2,68,"Cannot access document.cookie - "+an(r),{exception:Je(r)})}}return ux}o(BL,"areCookiesSupported");function zL(e){var t={};if(e&&e[je]){var r=xr(e)[Ms](";");Ae(r,function(n){if(n=xr(n||bt),n){var i=x0(n,"=");i===-1?t[n]=null:t[xr(oy(n,i))]=xr(zo(n,i+1))}})}return t}o(zL,"_extractParts");function jL(e,t){return dt(e[t])?e[t]():null}o(jL,"_formatDate");function $L(e,t){var r=e||bt;return gt(t,function(n,i){r+="; "+n+(Oe(i)?bt:"="+i)}),r}o($L,"_formatCookieValue");function aoe(e){var t=bt;if(!P0&&mv(),P0.v){var r=P0.v[dv]||bt;LL!==r&&(FL=zL(r),LL=r),t=xr(FL[e]||bt)}return t}o(aoe,"_getCookieValue");function qL(e,t){!P0&&mv(),P0.v&&(P0.v[dv]=e+"="+t)}o(qL,"_setCookieValue");function loe(e){return Yt(e)?!!(Cn(e,"CPU iPhone OS 12")||Cn(e,"iPad; CPU OS 12")||Cn(e,"Macintosh; Intel Mac OS X 10_14")&&Cn(e,"Version/")&&Cn(e,"Safari")||Cn(e,"Macintosh; Intel Mac OS X 10_14")&&ap(e,"AppleWebKit/605.1.15 (KHTML, like Gecko)")||Cn(e,"Chrome/5")||Cn(e,"Chrome/6")||Cn(e,"UnrealEngine")&&!Cn(e,"Chrome")||Cn(e,"UCBrowser/12")||Cn(e,"UCBrowser/11")):!1}o(loe,"uaDisallowsSameSiteNone");var coe={perfEvtsSendAll:!1};function uoe(e){e.h=null;var t=e.cb;e.cb=[],Ae(t,function(r){Ln(r.fn,[r.arg])})}o(uoe,"_runScheduledListeners");function ql(e,t,r,n){Ae(e,function(i){i&&i[t]&&(r?(r.cb[yt]({fn:n,arg:i}),r.h=r.h||xo(uoe,0,r)):Ln(n,[i]))})}o(ql,"_runListeners");var HL=function(){function e(t){this.listeners=[];var r,n,i=[],s={h:null,cb:[]},a=bn(t,coe);n=a[b0](function(l){r=!!l.cfg.perfEvtsSendAll}),Tr(e,this,function(l){dr(l,"listeners",{g:o(function(){return i},"g")}),l[Rd]=function(c){i[yt](c)},l[Dd]=function(c){for(var f=sn(i,c);f>-1;)i[_0](f,1),f=sn(i,c)},l[Ld]=function(c){ql(i,Ld,s,function(f){f[Ld](c)})},l[Ml]=function(c,f){ql(i,Ml,s,function(u){u[Ml](c,f)})},l[Fd]=function(c,f){ql(i,Fd,f?s:null,function(u){u[Fd](c,f)})},l[C0]=function(c){c&&(r||!c[fp]())&&ql(i,C0,null,function(f){c.isAsync?xo(function(){return f[C0](c)},0):f[C0](c)})},l[z4]=function(c){c&&c[je]&&ql(i,z4,s,function(f){f[z4](c)})},l[H4]=function(c){c&&c[Fl]&&ql(i,H4,s,function(f){f[H4](c)})},l[V4]=function(c,f){if(c>0){var u=f||0;ql(i,V4,s,function(d){d[V4](c,u)})}},l[Ko]=function(c){var f=o(function(){n&&n.rm(),n=null,i=[],s.h&&s.h[Ia](),s.h=null,s.cb=[]},"_finishUnload"),u;if(ql(i,"unload",null,function(d){var p=d[Ko](c);p&&(u||(u=[]),u[yt](p))}),u)return E0(function(d){return vo(oL(u),function(){f(),d()})});f()}})}return o(e,"NotificationManager"),e.__ieDyn=1,e}();var zd="ctx",gv="ParentContextKey",Ap="ChildrenContextKey",foe=null,dx=function(){function e(t,r,n){var i=this;if(i.start=ho(),i[bo]=t,i.isAsync=n,i[fp]=function(){return!1},dt(r)){var s;dr(i,"payload",{g:o(function(){return!s&&dt(r)&&(s=r(),r=null),s},"g")})}i[au]=function(a){return a?a===e[gv]||a===e[Ap]?i[a]:(i[zd]||{})[a]:null},i[Bs]=function(a,l){if(a)if(a===e[gv])i[a]||(i[fp]=function(){return!0}),i[a]=l;else if(a===e[Ap])i[a]=l;else{var c=i[zd]=i[zd]||{};c[a]=l}},i.complete=function(){var a=0,l=i[au](e[Ap]);if(et(l))for(var c=0;c<l[je];c++){var f=l[c];f&&(a+=f.time)}i.time=ho()-i.start,i.exTime=i.time-a,i.complete=function(){}}}return o(e,"PerfEvent"),e.ParentContextKey="parent",e.ChildrenContextKey="childEvts",e}();var VL=function(){function e(t){this.ctx={},Tr(e,this,function(r){r.create=function(n,i,s){return new dx(n,i,s)},r.fire=function(n){n&&(n.complete(),t&&dt(t[C0])&&t[C0](n))},r[Bs]=function(n,i){if(n){var s=r[zd]=r[zd]||{};s[n]=i}},r[au]=function(n){return(r[zd]||{})[n]}})}return o(e,"PerfManager"),e.__ieDyn=1,e}();var pv="CoreUtils.doPerf";function mx(e,t,r,n,i){if(e){var s=e;if(s[Md]&&(s=s[Md]()),s){var a=void 0,l=s[au](pv);try{if(a=s.create(t(),n,i),a){if(l&&a[Bs]&&(a[Bs](dx[gv],l),l[au]&&l[Bs])){var c=l[au](dx[Ap]);c||(c=[],l[Bs](dx[Ap],c)),c[yt](a)}return s[Bs](pv,a),r(a)}}catch(f){a&&a[Bs]&&a[Bs]("exception",f)}finally{a&&s.fire(a),s[Bs](pv,l)}}}return r()}o(mx,"doPerf");function KL(){return foe}o(KL,"getGblPerfMgr");var doe="00000000000000000000000000000000",moe="0000000000000000";function YL(e,t,r){return e&&e[je]===t&&e!==r?!!e.match(/^[\da-f]*$/i):!1}o(YL,"_isValid");function hv(e){return YL(e,32,doe)}o(hv,"isValidTraceId");function xv(e){return YL(e,16,moe)}o(xv,"isValidSpanId");var poe=tx("plugin");function Na(e){return poe.get(e,"state",{},!0)}o(Na,"_getPluginState");function bv(e,t){for(var r=[],n=null,i=e[yo](),s;i;){var a=i[Al]();if(a){n&&n[Ll]&&a[Yi]&&n[Ll](a),s=Na(a);var l=!!s[Vi];a[Vi]&&(l=a[Vi]()),l||r[yt](a),n=a,i=i[yo]()}}Ae(r,function(c){var f=e[Qr]();c[Ea](e.getCfg(),f,t,e[yo]()),s=Na(c),!c[Qr]&&!s[Qr]&&(s[Qr]=f),s[Vi]=!0,delete s[_o]})}o(bv,"initializePlugins");function px(e){return e.sort(function(t,r){var n=0;if(r){var i=r[Yi];t[Yi]?n=i?t[du]-r[du]:1:i&&(n=-1)}else n=t?1:-1;return n})}o(px,"sortPlugins");function XL(e){var t={};return{getName:o(function(){return t[bo]},"getName"),setName:o(function(r){e&&e.setName(r),t[bo]=r},"setName"),getTraceId:o(function(){return t.traceId},"getTraceId"),setTraceId:o(function(r){e&&e.setTraceId(r),hv(r)&&(t.traceId=r)},"setTraceId"),getSpanId:o(function(){return t.spanId},"getSpanId"),setSpanId:o(function(r){e&&e.setSpanId(r),xv(r)&&(t.spanId=r)},"setSpanId"),getTraceFlags:o(function(){return t[R4]},"getTraceFlags"),setTraceFlags:o(function(r){e&&e.setTraceFlags(r),t[R4]=r},"setTraceFlags")}}o(XL,"createDistributedTraceContext");var goe="TelemetryPluginChain",JL="_hasRun",ZL="_getTelCtx",QL=0;function hoe(e,t,r){for(;e;){if(e[Al]()===r)return e;e=e[yo]()}return Wl([r],t.config||{},t)}o(hoe,"_getNextProxyStart");function _v(e,t,r,n){var i=null,s=[];t||(t=bn({},null,r[kr])),n!==null&&(i=n?hoe(e,r,n):e);var a={_next:c,ctx:{core:o(function(){return r},"core"),diagLog:o(function(){return xu(r,t.cfg)},"diagLog"),getCfg:o(function(){return t.cfg},"getCfg"),getExtCfg:u,getConfig:d,hasNext:o(function(){return!!i},"hasNext"),getNext:o(function(){return i},"getNext"),setNext:o(function(m){i=m},"setNext"),iterate:p,onComplete:l}};function l(m,g){for(var h=[],_=2;_<arguments.length;_++)h[_-2]=arguments[_];m&&s[yt]({func:m,self:sr(g)?a.ctx:g,args:h})}o(l,"_addOnComplete");function c(){var m=i;if(i=m?m[yo]():null,!m){var g=s;g&&g[je]>0&&(Ae(g,function(h){try{h.func.call(h.self,h.args)}catch(_){Ee(r[kr],2,73,"Unexpected Exception during onComplete - "+Je(_))}}),s=[])}return m}o(c,"_moveNext");function f(m,g){var h=null,_=t.cfg;if(_&&m){var b=_[Pa];!b&&g&&(b={}),_[Pa]=b,b=t.ref(_,Pa),b&&(h=b[m],!h&&g&&(h={}),b[m]=h,h=t.ref(b,m))}return h}o(f,"_getExtCfg");function u(m,g){var h=f(m,!0);return g&&gt(g,function(_,b){if(Oe(h[_])){var x=t.cfg[_];(x||!Oe(x))&&(h[_]=x)}Sp(t,h,_,b)}),t.setDf(h,g)}o(u,"_resolveExtCfg");function d(m,g,h){h===void 0&&(h=!1);var _,b=f(m,!1),x=t.cfg;return b&&(b[g]||!Oe(b[g]))?_=b[g]:(x[g]||!Oe(x[g]))&&(_=x[g]),_||!Oe(_)?_:h}o(d,"_getConfig");function p(m){for(var g;g=a._next();){var h=g[Al]();h&&m(h)}}return o(p,"_iterateChain"),a}o(_v,"_createInternalContext");function js(e,t,r,n){var i=bn(t),s=_v(e,i,r,n),a=s.ctx;function l(f){var u=s._next();return u&&u[Yi](f,a),!u}o(l,"_processNext");function c(f,u){return f===void 0&&(f=null),et(f)&&(f=Wl(f,i.cfg,r,u)),js(f||a[yo](),i.cfg,r,u)}return o(c,"_createNew"),a[En]=l,a[v0]=c,a}o(js,"createProcessTelemetryContext");function Hd(e,t,r){var n=bn(t.config),i=_v(e,n,t,r),s=i.ctx;function a(c){var f=i._next();return f&&f[Ko](s,c),!f}o(a,"_processNext");function l(c,f){return c===void 0&&(c=null),et(c)&&(c=Wl(c,n.cfg,t,f)),Hd(c||s[yo](),t,f)}return o(l,"_createNew"),s[En]=a,s[v0]=l,s}o(Hd,"createProcessTelemetryUnloadContext");function kp(e,t,r){var n=bn(t.config),i=_v(e,n,t,r),s=i.ctx;function a(c){return s.iterate(function(f){dt(f[ou])&&f[ou](s,c)})}o(a,"_processNext");function l(c,f){return c===void 0&&(c=null),et(c)&&(c=Wl(c,n.cfg,t,f)),kp(c||s[yo](),t,f)}return o(l,"_createNew"),s[En]=a,s[v0]=l,s}o(kp,"createProcessTelemetryUpdateContext");function Wl(e,t,r,n){var i=null,s=!n;if(et(e)&&e[je]>0){var a=null;Ae(e,function(l){if(!s&&n===l&&(s=!0),s&&l&&dt(l[Yi])){var c=xoe(l,t,r);i||(i=c),a&&a._setNext(c),a=c}})}return n&&!i?Wl([n],t,r):i}o(Wl,"createTelemetryProxyChain");function xoe(e,t,r){var n=null,i=dt(e[Yi]),s=dt(e[Ll]),a;e?a=e[y0]+"-"+e[du]+"-"+QL++:a="Unknown-0-"+QL++;var l={getPlugin:o(function(){return e},"getPlugin"),getNext:o(function(){return n},"getNext"),processTelemetry:u,unload:d,update:p,_id:a,_setNext:o(function(m){n=m},"_setNext")};function c(){var m;return e&&dt(e[ZL])&&(m=e[ZL]()),m||(m=js(l,t,r)),m}o(c,"_getTelCtx");function f(m,g,h,_,b){var x=!1,y=e?e[y0]:goe,E=m[JL];return E||(E=m[JL]={}),m.setNext(n),e&&mx(m[Qr](),function(){return y+":"+h},function(){E[a]=!0;try{var S=n?n._id:bt;S&&(E[S]=!1),x=g(m)}catch(z){var w=n?E[n._id]:!0;w&&(x=!0),(!n||!w)&&Ee(m[Ki](),1,73,"Plugin ["+y+"] failed during "+h+" - "+Je(z)+", run flags: "+Je(E))}},_,b),x}o(f,"_processChain");function u(m,g){g=g||c();function h(_){if(!e||!i)return!1;var b=Na(e);return b[_o]||b[bp]?!1:(s&&e[Ll](n),e[Yi](m,_),!0)}o(h,"_callProcessTelemetry"),f(g,h,"processTelemetry",function(){return{item:m}},!m.sync)||g[En](m)}o(u,"_processTelemetry");function d(m,g){function h(){var _=!1;if(e){var b=Na(e),x=e[Qr]||b[Qr];e&&(!x||x===m.core())&&!b[_o]&&(b[Qr]=null,b[_o]=!0,b[Vi]=!1,e[_o]&&e[_o](m,g)===!0&&(_=!0))}return _}o(h,"_callTeardown"),f(m,h,"unload",function(){},g.isAsync)||m[En](g)}o(d,"_unloadPlugin");function p(m,g){function h(){var _=!1;if(e){var b=Na(e),x=e[Qr]||b[Qr];e&&(!x||x===m.core())&&!b[_o]&&e[ou]&&e[ou](m,g)===!0&&(_=!0)}return _}o(h,"_callUpdate"),f(m,h,"update",function(){},!1)||m[En](g)}return o(p,"_updatePlugin"),mo(l)}o(xoe,"createTelemetryPluginProxy");var boe=function(){function e(t,r,n,i){var s=this,a=js(t,r,n,i);pu(s,a,Go(a))}return o(e,"ProcessTelemetryContext"),e}();function gx(){var e=[];function t(n){n&&e[yt](n)}o(t,"_addHandler");function r(n,i){Ae(e,function(s){try{s(n,i)}catch(a){Ee(n[Ki](),2,73,"Unexpected error calling unload handler - "+Je(a))}}),e=[]}return o(r,"_runHandlers"),{add:t,run:r}}o(gx,"createUnloadHandlerContainer");var hx,xx;function bx(){var e=[];function t(n){var i=e;e=[],Ae(i,function(s){try{(s.rm||s.remove).call(s)}catch(a){Ee(n,2,73,"Unloading:"+Je(a))}}),hx&&i[je]>hx&&(xx?xx("doUnload",i):Ee(null,1,48,"Max unload hooks exceeded. An excessive number of unload hooks has been detected."))}o(t,"_doUnload");function r(n){n&&(ya(e,n),hx&&e[je]>hx&&(xx?xx("Add",e):Ee(null,1,48,"Max unload hooks exceeded. An excessive number of unload hooks has been detected.")))}return o(r,"_addHook"),{run:t,add:r}}o(bx,"createUnloadHookContainer");var yv,Gl="getPlugin",_oe=(yv={},yv[Pa]={isVal:Ul,v:{}},yv),Op=function(){function e(){var t=this,r,n,i,s,a;f(),Tr(e,t,function(u){u[Ea]=function(d,p,m,g){c(d,p,g),r=!0},u[_o]=function(d,p){var m=u[Qr];if(!m||d&&m!==d[Qr]())return;var g,h=!1,_=d||Hd(null,m,i&&i[Gl]?i[Gl]():i),b=p||{reason:0,isAsync:!1};function x(){h||(h=!0,s.run(_,p),a.run(_[Ki]()),g===!0&&_[En](b),f())}return o(x,"_unloadCallback"),!u[Ol]||u[Ol](_,b,x)!==!0?x():g=!0,g},u[ou]=function(d,p){var m=u[Qr];if(!m||d&&m!==d[Qr]())return;var g,h=!1,_=d||kp(null,m,i&&i[Gl]?i[Gl]():i),b=p||{reason:0};function x(){h||(h=!0,c(_.getCfg(),_.core(),_[yo]()))}return o(x,"_updateCallback"),!u._doUpdate||u._doUpdate(_,b,x)!==!0?x():g=!0,g},mu(u,"_addUnloadCb",function(){return s},"add"),mu(u,"_addHook",function(){return a},"add"),dr(u,"_unloadHooks",{g:o(function(){return a},"g")})}),t[Ki]=function(u){return l(u)[Ki]()},t[Vi]=function(){return r},t.setInitialized=function(u){r=u},t[Ll]=function(u){i=u},t[En]=function(u,d){d?d[En](u):i&&dt(i[Yi])&&i[Yi](u,null)},t._getTelCtx=l;function l(u){u===void 0&&(u=null);var d=u;if(!d){var p=n||js(null,{},t[Qr]);i&&i[Gl]?d=p[v0](null,i[Gl]):d=p[v0](null,i)}return d}o(l,"_getTelCtx");function c(u,d,p){bn(u,_oe,xu(d)),!p&&d&&(p=d[S4]()[yo]());var m=i;i&&i[Gl]&&(m=i[Gl]()),t[Qr]=d,n=js(p,u,d,m)}o(c,"_setDefaults");function f(){r=!1,t[Qr]=null,n=null,i=null,a=bx(),s=gx()}o(f,"_initDefaults")}return o(e,"BaseTelemetryPlugin"),e.__ieDyn=1,e}();function yoe(e,t,r){var n={id:t,fn:r};ya(e,n);var i={remove:o(function(){Ae(e,function(s,a){if(s.id===n.id)return e[_0](a,1),-1})},"remove")};return i}o(yoe,"_addInitializer");function voe(e,t,r){for(var n=!1,i=e[je],s=0;s<i;++s){var a=e[s];if(a)try{if(a.fn[Nl](null,[t])===!1){n=!0;break}}catch(l){Ee(r,2,64,"Telemetry initializer failed: "+an(l),{exception:Je(l)},!0)}}return!n}o(voe,"_runInitializers");var eF=function(e){I0(t,e);function t(){var r=e.call(this)||this;r.identifier="TelemetryInitializerPlugin",r.priority=199;var n,i;s(),Tr(t,r,function(a,l){a.addTelemetryInitializer=function(c){return yoe(i,n++,c)},a[Yi]=function(c,f){voe(i,c,f?f[Ki]():a[Ki]())&&a[En](c,f)},a[Ol]=function(){s()}});function s(){n=0,i=[]}return o(s,"_initDefaults"),r}return o(t,"TelemetryInitializerPlugin"),t.__ieDyn=1,t}(Op);var zl,iF="Plugins must provide initialize method",Toe="_notificationManager",tF="SDK is still unloading...",Ioe="SDK is not initialized",Eoe=100,Coe=5e4,vv=Qc((zl={cookieCfg:{}},zl[fu]={rdOnly:!0,ref:!0,v:[]},zl[uu]={rdOnly:!0,ref:!0,v:[]},zl[Pa]={ref:!0,v:{}},zl[G4]=To,zl.loggingLevelConsole=0,zl.diagnosticLogInterval=To,zl));function Soe(e,t){return new VL(t)}o(Soe,"_createPerfManager");function woe(e,t,r){var n=[],i=[],s={};return Ae(r,function(a){(Oe(a)||Oe(a[Ea]))&&zi(iF);var l=a[du],c=a[y0];a&&l&&(Oe(s[l])?s[l]=c:Ra(e,"Two extensions have same priority #"+l+" - "+s[l]+", "+c)),!l||l<t?n[yt](a):i[yt](a)}),{core:n,channels:i}}o(woe,"_validateExtensions");function rF(e,t){var r=!1;return Ae(t,function(n){if(n===e)return r=!0,-1}),r}o(rF,"_isPluginPresent");function Tv(e,t,r,n){r&&gt(r,function(i,s){n&&Vn(s)&&Vn(t[i])&&Tv(e,t[i],s,n),n&&Vn(s)&&Vn(t[i])?Tv(e,t[i],s,n):e.set(t,i,s)})}o(Tv,"_deepMergeConfig");function nF(e,t){var r=null,n=-1;return Ae(e,function(i,s){if(i.w===t)return r=i,n=s,-1}),{i:n,l:r}}o(nF,"_findWatcher");function Poe(e,t){var r=nF(e,t).l;return r||(r={w:t,rm:o(function(){var n=nF(e,t);n.i!==-1&&e[_0](n.i,1)},"rm")},e[yt](r)),r}o(Poe,"_addDelayedCfgListener");function Doe(e,t,r){Ae(t,function(n){var i=Xo(e,n.w,r);delete n.w,n.rm=function(){i.rm()}})}o(Doe,"_registerDelayedCfgListener");function Roe(e,t,r,n){return t.add(e[b0](function(i){var s=i.cfg.disableDbgExt;s===!0&&n&&(r[Dd](n),n=null),r&&!n&&s!==!0&&(n=wL(i.cfg),r[Rd](n))})),n}o(Roe,"_initDebugListener");function Noe(e){return dr({rm:o(function(){e.rm()},"rm")},"toJSON",{v:o(function(){return"aicore::onCfgChange<"+JSON.stringify(e)+">"},"v")})}o(Noe,"_createUnloadHook");var Iv=function(){function e(){var t,r,n,i,s,a,l,c,f,u,d,p,m,g,h,_,b,x,y,E,S,w,z,V,W,Y,R,P,G,A,I,v,N;Tr(e,this,function(T){H(),T._getDbgPlgTargets=function(){return[z,i]},T[Vi]=function(){return r},T.activeStatus=function(){return Y},T._setPendingStatus=function(){Y=3},T[Ea]=function($,re,xe,ue){m&&zi(tF),T[Vi]()&&zi("Core cannot be initialized more than once"),t=bn($,vv,xe||T[kr],!1),$=t.cfg,le(t[b0](function(we){var ke=we.cfg,qe=Y===3;if(!qe){P=ke.initInMemoMaxSize||Eoe;var Ke=ke.instrumentationKey,tt=ke.endpointUrl;if(Oe(Ke)){S=null,Y=Ls.INACTIVE;var rt="Please provide instrumentation key";r?(Ee(n,1,100,rt),k()):zi(rt);return}var lt=[];if(fo(Ke)?(lt[yt](Ke),S=null):S=Ke,fo(tt)?(lt[yt](tt),R=null):R=tt,lt[je]){G=!1,Y=3;var O=Ul(ke.initTimeOut)?ke.initTimeOut:Coe,Z=iL(lt);A=xo(function(){A=null,G||D()},O),vo(Z,function(pe){try{if(G)return;if(!pe.rejected){var Re=pe[iu];if(Re&&Re[je]){var Me=Re[0];if(S=Me&&Me[iu],Re[je]>1){var $e=Re[1];R=$e&&$e[iu]}}S&&($.instrumentationKey=S,$.endpointUrl=R)}D()}catch{G||D()}})}else D();var fe=we.ref(we.cfg,Pa);gt(fe,function(pe){we.ref(fe,pe)})}})),s=ue,y=Roe(t,x,s&&T[lp](),y),F(),T[kr]=xe;var de=$[fu];if(u=[],u[yt].apply(u,A4(A4([],re,!1),de,!1)),d=$[uu],ye(null),(!p||p[je]===0)&&zi("No "+uu+" available"),d&&d[je]>1){var Ie=T[Al]("TeeChannelController");(!Ie||!Ie.plugin)&&Ee(n,1,28,"TeeChannel required")}Doe($,w,n),w=null,r=!0,Y===Ls.ACTIVE&&k()},T.getChannels=function(){var $=[];return p&&Ae(p,function(re){$[yt](re)}),mo($)},T.track=function($){mx(T[Md](),function(){return"AppInsightsCore:track"},function(){$===null&&(ge($),zi("Invalid telemetry item")),!$[bo]&&Oe($[bo])&&(ge($),zi("telemetry name required")),$.iKey=$.iKey||S,$.time=$.time||Bl(new Date),$.ver=$.ver||"4.0",!m&&T[Vi]()&&Y===Ls.ACTIVE?ae()[En]($):Y!==Ls.INACTIVE&&i[je]<=P&&i[yt]($)},function(){return{item:$}},!$.sync)},T[S4]=ae,T[lp]=function(){return s||(s=new HL(t.cfg),T[Toe]=s),s},T[Rd]=function($){T.getNotifyMgr()[Rd]($)},T[Dd]=function($){s&&s[Dd]($)},T.getCookieMgr=function(){return c||(c=GL(t.cfg,T[kr])),c},T.setCookieMgr=function($){c!==$&&(Da(c,!1),c=$)},T[Md]=function(){return a||l||KL()},T.setPerfMgr=function($){a=$},T.eventCnt=function(){return i[je]},T.releaseQueue=function(){if(r&&i[je]>0){var $=i;i=[],Y===2?Ae($,function(re){re.iKey=re.iKey||S,ae()[En](re)}):Ee(n,2,20,"core init status is not active")}},T.pollInternalLogs=function($){return h=$||null,N=!1,I&&I[Ia](),L(!0)};function D(){G=!0,Oe(S)?(Y=Ls.INACTIVE,Ee(n,1,112,"ikey can't be resolved from promises")):Y=Ls.ACTIVE,k()}o(D,"_setStatus");function k(){r&&(T.releaseQueue(),T.pollInternalLogs())}o(k,"_releaseQueues");function L($){if((!I||!I[kl])&&!N){var re=$||n&&n.queue[je]>0;re&&(v||(v=!0,le(t[b0](function(xe){var ue=xe.cfg.diagnosticLogInterval;(!ue||!(ue>0))&&(ue=1e4);var de=!1;I&&(de=I[kl],I[Ia]()),I=$O(Ve,ue),I.unref(),I[kl]=de}))),I[kl]=!0)}return I}o(L,"_startLogPoller"),T[hy]=function(){N=!0,I&&I[Ia](),Ve()},pu(T,function(){return g},["addTelemetryInitializer"]),T[Ko]=function($,re,xe){$===void 0&&($=!0),r||zi(Ioe),m&&zi(tF);var ue={reason:50,isAsync:$,flushComplete:!1},de;$&&!re&&(de=E0(function(ke){re=ke}));var Ie=Hd(Ue(),T);Ie[cp](function(){x.run(T[kr]),ax([c,s,n],$,function(){H(),re&&re(ue)})},T);function we(ke){ue.flushComplete=ke,m=!0,b.run(Ie,ue),T[hy](),Ie[En](ue)}return o(we,"_doUnload"),Ve(),Ze($,we,6,xe)||we(!1),de},T[Al]=he,T.addPlugin=function($,re,xe,ue){if(!$){ue&&ue(!1),j(iF);return}var de=he($[y0]);if(de&&!re){ue&&ue(!1),j("Plugin ["+$[y0]+"] is already loaded!");return}var Ie={reason:16};function we(Ke){u[yt]($),Ie.added=[$],ye(Ie),ue&&ue(!0)}if(o(we,"_addPlugin"),de){var ke=[de.plugin],qe={reason:2,isAsync:!!xe};He(ke,qe,function(Ke){Ke?(Ie.removed=ke,Ie.reason|=32,we(!0)):ue&&ue(!1)})}else we(!1)},T.updateCfg=function($,re){re===void 0&&(re=!0);var xe;if(T[Vi]()){xe={reason:1,cfg:t.cfg,oldCfg:my({},t.cfg),newConfig:my({},$),merge:re},$=xe.newConfig;var ue=t.cfg;$[fu]=ue[fu],$[uu]=ue[uu]}t._block(function(de){var Ie=de.cfg;Tv(de,Ie,$,re),re||gt(Ie,function(we){g0($,we)||de.set(Ie,we,To)}),de.setDf(Ie,vv)},!0),t.notify(),xe&&ne(xe)},T.evtNamespace=function(){return _},T.flush=Ze,T.getTraceCtx=function($){return E||(E=XL()),E},T.setTraceCtx=function($){E=$||null},T.addUnloadHook=le,mu(T,"addUnloadCb",function(){return b},"add"),T.onCfgChange=function($){var re;return r?re=Xo(t.cfg,$,T[kr]):re=Poe(w,$),Noe(re)},T.getWParam=function(){return ay()||t.cfg.enableWParam?0:-1};function U(){var $={};V=[];var re=o(function(xe){xe&&Ae(xe,function(ue){if(ue[y0]&&ue[w4]&&!$[ue.identifier]){var de=ue[y0]+"="+ue[w4];V[yt](de),$[ue.identifier]=ue}})},"_addPluginVersions");re(p),d&&Ae(d,function(xe){re(xe)}),re(u)}o(U,"_setPluginVersions");function H(){r=!1,t=bn({},vv,T[kr]),t.cfg[P4]=1,dr(T,"config",{g:o(function(){return t.cfg},"g"),s:o(function(re){T.updateCfg(re,!1)},"s")}),dr(T,"pluginVersionStringArr",{g:o(function(){return V||U(),V},"g")}),dr(T,"pluginVersionString",{g:o(function(){return W||(V||U(),W=V.join(";")),W||bt},"g")}),dr(T,"logger",{g:o(function(){return n||(n=new Gd(t.cfg),t[kr]=n),n},"g"),s:o(function(re){t[kr]=re,n!==re&&(Da(n,!1),n=re)},"s")}),T[kr]=new Gd(t.cfg),z=[];var $=T.config[fu]||[];$.splice(0,$[je]),ya($,z),g=new eF,i=[],Da(s,!1),s=null,a=null,l=null,Da(c,!1),c=null,f=null,u=[],d=null,p=null,m=!1,h=null,_=Io("AIBaseCore",!0),b=gx(),E=null,S=null,x=bx(),w=[],W=null,V=null,N=!1,I=null,v=!1,Y=0,R=null,P=null,G=!1,A=null}o(H,"_initDefaults");function ae(){var $=js(Ue(),t.cfg,T);return $[cp](L),$}o(ae,"_createTelCtx");function ye($){var re=woe(T[kr],SL,u);f=null,W=null,V=null,p=(d||[])[0]||[],p=px(ya(p,re[uu]));var xe=ya(px(re[Qr]),p);z=mo(xe);var ue=T.config[fu]||[];ue.splice(0,ue[je]),ya(ue,z);var de=ae();p&&p[je]>0&&bv(de[v0](p),xe),bv(de,xe),$&&ne($)}o(ye,"_initPluginChain");function he($){var re=null,xe=null,ue=[];return Ae(z,function(de){if(de[y0]===$&&de!==g)return xe=de,-1;de.getChannel&&ue[yt](de)}),!xe&&ue[je]>0&&Ae(ue,function(de){if(xe=de.getChannel($),!xe)return-1}),xe&&(re={plugin:xe,setEnabled:o(function(de){Na(xe)[bp]=!de},"setEnabled"),isEnabled:o(function(){var de=Na(xe);return!de[_o]&&!de[bp]},"isEnabled"),remove:o(function(de,Ie){de===void 0&&(de=!0);var we=[xe],ke={reason:1,isAsync:de};He(we,ke,function(qe){qe&&ye({reason:32,removed:we}),Ie&&Ie(qe)})},"remove")}),re}o(he,"_getPlugin");function Ue(){if(!f){var $=(z||[]).slice();sn($,g)===-1&&$[yt](g),f=Wl(px($),t.cfg,T)}return f}o(Ue,"_getPluginChain");function He($,re,xe){if($&&$[je]>0){var ue=Wl($,t.cfg,T),de=Hd(ue,T);de[cp](function(){var Ie=!1,we=[];Ae(u,function(qe,Ke){rF(qe,$)?Ie=!0:we[yt](qe)}),u=we,W=null,V=null;var ke=[];d&&(Ae(d,function(qe,Ke){var tt=[];Ae(qe,function(rt){rF(rt,$)?Ie=!0:tt[yt](rt)}),ke[yt](tt)}),d=ke),xe&&xe(Ie),L()}),de[En](re)}else xe(!1)}o(He,"_removePlugins");function Ve(){if(n&&n.queue){var $=n.queue.slice(0);n.queue[je]=0,Ae($,function(re){var xe={name:h||"InternalMessageId: "+re[Nd],iKey:S,time:Bl(new Date),baseType:Np.dataType,baseData:{message:re[T0]}};T.track(xe)})}}o(Ve,"_flushInternalLogs");function Ze($,re,xe,ue){var de=1,Ie=!1,we=null;ue=ue||5e3;function ke(){de--,Ie&&de===0&&(we&&we[Ia](),we=null,re&&re(Ie),re=null)}if(o(ke,"doCallback"),p&&p[je]>0){var qe=ae()[v0](p);qe.iterate(function(Ke){if(Ke.flush){de++;var tt=!1;Ke.flush($,function(){tt=!0,ke()},xe)||tt||($&&we==null?we=xo(function(){we=null,ke()},ue):ke())}})}return Ie=!0,ke(),!0}o(Ze,"_flushChannels");function F(){var $;le(t[b0](function(re){var xe=re.cfg.enablePerfMgr;if(xe){var ue=re.cfg[G4];($!==ue||!$)&&(ue||(ue=Soe),qy(re.cfg,G4,ue),$=ue,l=null),!a&&!l&&dt(ue)&&(l=ue(T,T[lp]()))}else l=null,$=null}))}o(F,"_initPerfManager");function ne($){var re=kp(Ue(),T);re[cp](L),(!T._updateHook||T._updateHook(re,$)!==!0)&&re[En]($)}o(ne,"_doUpdate");function j($){var re=T[kr];re?(Ee(re,2,73,$),L()):zi($)}o(j,"_logOrThrowError");function ge($){var re=T[lp]();re&&re[Ml]([$],2)}o(ge,"_notifyInvalidEvent");function le($){x.add($)}o(le,"_addUnloadHook")})}return o(e,"AppInsightsCore"),e.__ieDyn=1,e}();function Lp(e,t){try{if(e&&e!==""){var r=Ti().parse(e);if(r&&r[_y]&&r[_y]>=r.itemsAccepted&&r.itemsReceived-r.itemsAccepted===r.errors[je])return r}}catch(n){Ee(t,1,43,"Cannot parse the response. "+(n[bo]||Je(n)),{response:e})}return null}o(Lp,"parseResponse");var D0="",Aoe="NoResponseBody",oF="&"+Aoe+"=true",Ev="POST",Cv=function(){function e(){var t=0,r,n,i,s,a,l,c,f,u,d,p,m,g,h;Tr(e,this,function(_,b){var x=!0;G(),_[Ea]=function(A,I){i=I,n&&Ee(i,1,28,"Sender is already initialized"),_.SetConfig(A),n=!0},_._getDbgPlgTargets=function(){return[n,s,l,r]},_.SetConfig=function(A){try{if(a=A.senderOnCompleteCallBack||{},l=!!A.disableCredentials,c=A.fetchCredentials,s=!!A.isOneDs,r=!!A.enableSendPromise,u=!!A.disableXhr,d=!!A.disableBeacon,p=!!A.disableBeaconSync,h=A.timeWrapper,g=!!A.addNoResponse,m=!!A.disableFetchKeepAlive,f={sendPOST:Y},s||(x=!1),l){var I=Tp();I&&I.protocol&&I.protocol[Fs]()==="file:"&&(x=!1)}return!0}catch{}return!1},_.getSyncFetchPayload=function(){return t},_.getSenderInst=function(A,I){return A&&A[je]?w(A,I):null},_.getFallbackInst=function(){return f},_[Ol]=function(A,I){G()};function y(A,I){z(I,200,{},A)}o(y,"_onSuccess");function E(A,I){Ee(i,2,26,"Failed to send telemetry.",{message:A}),z(I,400,{})}o(E,"_onError");function S(A){E("No endpoint url is provided for the batch",A)}o(S,"_onNoPayloadUrl");function w(A,I){for(var v=0,N=null,T=0;N==null&&T<A[je];)v=A[T],!u&&v===1?ev()?N=P:ex()&&(N=Y):v===2&&Ip(I)&&(!I||!m)?N=R:v===3&&$l()&&(I?!p:!d)&&(N=W),T++;return N?{_transport:v,_isSync:I,sendPOST:N}:null}o(w,"_getSenderInterface");function z(A,I,v,N){try{A&&A(I,v,N)}catch{}}o(z,"_doOnComplete");function V(A,I){var v=Vo(),N=A[Ad];if(!N)return S(I),!0;N=A[Ad]+(g?oF:D0);var T=A[Fl],D=s?T:new Blob([T],{type:"text/plain;charset=UTF-8"}),k=v.sendBeacon(N,D);return k}o(V,"_doBeaconSend");function W(A,I,v){var N=A[Fl];try{if(N)if(V(A,I))y(D0,I);else{var T=a&&a.beaconOnRetry;T&&dt(T)?T(A,I,V):(f&&f.sendPOST(A,I,!0),Ee(i,2,40,". Failed to send telemetry with Beacon API, retried with normal sender."))}}catch(D){s&&Ra(i,"Failed to send telemetry using sendBeacon API. Ex:"+Je(D)),z(I,s?0:400,{},D0)}}o(W,"_beaconSender");function Y(A,I,v){var N,T,D,k=A[D4]||{};!v&&r&&(N=E0(function(ae,ye){T=ae,D=ye})),s&&v&&A.disableXhrSync&&(v=!1);var L=A[Ad];if(!L){S(I),T&&T(!1);return}var U=Gy(Ev,L,x,!0,v,A[lu]);s||U.setRequestHeader("Content-type","application/json"),Ae(Go(k),function(ae){U.setRequestHeader(ae,k[ae])}),U.onreadystatechange=function(){s||(H(U),U.readyState===4&&T&&T(!0))},U.onload=function(){s&&H(U)};function H(ae){var ye=a&&a.xhrOnComplete,he=ye&&dt(ye);if(he)ye(ae,I,A);else{var Ue=Ud(ae);z(I,ae[su],vp(ae,s),Ue)}}return o(H,"_doOnReadyFunc"),U.onerror=function(ae){z(I,s?U[su]:400,vp(U,s),s?D0:gu(U)),D&&D(ae)},U.ontimeout=function(){z(I,s?U[su]:500,vp(U,s),s?D0:gu(U)),T&&T(!1)},U.send(A[Fl]),N}o(Y,"_xhrSender");function R(A,I,v){var N,T=A[Ad],D=A[Fl],k=s?D:new Blob([D],{type:"application/json"}),L,U,H,ae=new Headers,ye=D[je],he=!1,Ue=!1,He=A[D4]||{},Ve=(N={method:Ev,body:k},N[nv]=!0,N);A.headers&&Go(A.headers)[je]>0&&(Ae(Go(He),function(j){ae.append(j,He[j])}),Ve[D4]=ae),c?Ve.credentials=c:x&&s&&(Ve.credentials="include"),v&&(Ve.keepalive=!0,t+=ye,s?A._sendReason===2&&(he=!0,g&&(T+=oF)):he=!0);var Ze=new Request(T,Ve);try{Ze[nv]=!0}catch{}if(!v&&r&&(L=E0(function(j,ge){U=j,H=ge})),!T){S(I),U&&U(!1);return}function F(j){z(I,s?0:400,{},s?D0:j)}o(F,"_handleError");function ne(j,ge,le){var $=j[su],re=a.fetchOnComplete;re&&dt(re)?re(j,I,le||D0,ge):z(I,$,{},le||D0)}o(ne,"_onFetchComplete");try{vo(fetch(s?T:Ze,s?Ve:null),function(j){if(v&&(t-=ye,ye=0),!Ue)if(Ue=!0,j.rejected)F(j.reason&&j.reason[T0]),H&&H(j.reason);else{var ge=j[iu];try{!s&&!ge.ok?(F(ge.statusText),U&&U(!1)):s&&!ge.body?(ne(ge,null,D0),U&&U(!0)):vo(ge.text(),function(le){ne(ge,A,le[iu]),U&&U(!0)})}catch(le){F(Je(le)),H&&H(le)}}})}catch(j){Ue||(F(Je(j)),H&&H(j))}return he&&!Ue&&(Ue=!0,z(I,200,{}),U&&U(!0)),s&&!Ue&&A[lu]>0&&h&&h.set(function(){Ue||(Ue=!0,z(I,500,{}),U&&U(!0))},A[lu]),L}o(R,"_doFetchSender");function P(A,I,v){var N=Hi(),T=new XDomainRequest,D=A[Fl];T.onload=function(){var ae=Ud(T),ye=a&&a.xdrOnComplete;ye&&dt(ye)?ye(T,I,A):z(I,200,{},ae)},T.onerror=function(){z(I,400,{},s?D0:yp(T))},T.ontimeout=function(){z(I,500,{})},T.onprogress=function(){};var k=N&&N.location&&N.location.protocol||"",L=A[Ad];if(!L){S(I);return}if(!s&&L.lastIndexOf(k,0)!==0){var U="Cannot send XDomain request. The endpoint URL protocol doesn't match the hosting page protocol.";Ee(i,2,40,". "+U),E(U,I);return}var H=s?L:L[Us](/^(https?:)/,"");T.open(Ev,H),A[lu]&&(T[lu]=A[lu]),T.send(D),s&&v?h&&h.set(function(){T.send(D)},0):T.send(D)}o(P,"_xdrSender");function G(){t=0,n=!1,r=!1,i=null,s=null,a=null,l=null,c=null,f=null,u=!1,d=!1,p=!1,m=!1,g=!1,h=null}o(G,"_initDefaults")})}return o(e,"SenderPostManager"),e.__ieDyn=1,e}();var dF="on",sF="attachEvent",aF="addEventListener",lF="detachEvent",cF="removeEventListener",Sv="events";var tOe=Io("aiEvtPageHide"),rOe=Io("aiEvtPageShow"),koe=/\.[\.]+/g,Ooe=/[\.]+$/,Loe=1,_x=tx("events"),Foe=/^([^.]*)(?:\.(.+)|)/;function uF(e){return e&&e[Us]?e[Us](/^[\s\.]+|(?=[\s\.])[\.\s]+$/g,bt):e}o(uF,"_normalizeNamespace");function wv(e,t){if(t){var r=bt;et(t)?(r=bt,Ae(t,function(i){i=uF(i),i&&(i[0]!=="."&&(i="."+i),r+=i)})):r=uF(t),r&&(r[0]!=="."&&(r="."+r),e=(e||bt)+r)}var n=Foe.exec(e||bt)||[];return{type:n[1],ns:(n[2]||bt).replace(koe,".").replace(Ooe,bt)[Ms](".").sort().join(".")}}o(wv,"_getEvtNamespace");function mF(e,t,r){r===void 0&&(r=!0);var n=_x.get(e,Sv,{},r),i=n[t];return i||(i=n[t]=[]),i}o(mF,"_getRegisteredEvents");function pF(e,t,r,n){e&&t&&t[Ca]&&(e[cF]?e[cF](t[Ca],r,n):e[lF]&&e[lF](dF+t[Ca],r))}o(pF,"_doDetach");function Moe(e,t,r,n){var i=!1;return e&&t&&t[Ca]&&r&&(e[aF]?(e[aF](t[Ca],r,n),i=!0):e[sF]&&(e[sF](dF+t[Ca],r),i=!0)),i}o(Moe,"_doAttach");function fF(e,t,r,n){for(var i=t[je];i--;){var s=t[i];s&&(!r.ns||r.ns===s[xy].ns)&&(!n||n(s))&&(pF(e,s[xy],s.handler,s.capture),t[_0](i,1))}}o(fF,"_doUnregister");function Uoe(e,t,r){if(t[Ca])fF(e,mF(e,t[Ca]),t,r);else{var n=_x.get(e,Sv,{});gt(n,function(i,s){fF(e,s,t,r)}),Go(n)[je]===0&&_x.kill(e,Sv)}}o(Uoe,"_unregisterEvents");function Fp(e,t){var r;return t?(et(t)?r=[e].concat(t):r=[e,t],r=wv("xx",r).ns[Ms](".")):r=e,r}o(Fp,"mergeEvtNamespace");function yx(e,t,r,n,i){i===void 0&&(i=!1);var s=!1;if(e)try{var a=wv(t,n);if(s=Moe(e,a,r,i),s&&_x.accept(e)){var l={guid:Loe++,evtName:a,handler:r,capture:i};mF(e,a.type)[yt](l)}}catch{}return s}o(yx,"eventOn");function Pv(e,t,r,n,i){if(i===void 0&&(i=!1),e)try{var s=wv(t,n),a=!1;Uoe(e,s,function(l){return s.ns&&!r||l.handler===r?(a=!0,!0):!1}),a||pF(e,s,r,i)}catch{}}o(Pv,"eventOff");var Mp="sampleRate",Up="ProcessLegacy",vx="http.method",_u="https://dc.services.visualstudio.com",R0="/v2/track",ui="not_specified";var Tx=gy({requestContextHeader:[0,"Request-Context"],requestContextTargetKey:[1,"appId"],requestContextAppIdFormat:[2,"appId=cid-v1:"],requestIdHeader:[3,"Request-Id"],traceParentHeader:[4,"traceparent"],traceStateHeader:[5,"tracestate"],sdkContextHeader:[6,"Sdk-Context"],sdkContextHeaderAppIdRequest:[7,"appId"],requestContextHeaderLowerCase:[8,"request-context"]});var yu="split",mt="length",vu="toLowerCase",Hl="ingestionendpoint",Vl="toString",Dv="removeItem",Vd="message",gF="count";var Bp="stringify",jp="pathname",Tu="match";var fi="name";var Kn="properties",di="measurements",$p="sizeInBytes",qp="typeName",Kd="exceptions",Iu="severityLevel",Ix="problemGroup",Eu="parsedStack",Wp="hasFullStack",Gp="assembly",N0="fileName",Cu="line",Yd="aiDataContract",Su="duration";function Rv(e,t,r){var n=t[mt],i=hF(e,t);if(i[mt]!==n){for(var s=0,a=i;r[a]!==void 0;)s++,a=zo(i,0,147)+xF(s);i=a}return i}o(Rv,"dataSanitizeKeyAndAddUniqueness");function hF(e,t){var r;return t&&(t=xr(xn(t)),t[mt]>150&&(r=zo(t,0,150),Ee(e,2,57,"name is too long.  It has been truncated to 150 characters.",{name:t},!0))),r||t}o(hF,"dataSanitizeKey");function Sr(e,t,r){r===void 0&&(r=1024);var n;return t&&(r=r||1024,t=xr(xn(t)),t[mt]>r&&(n=zo(t,0,r),Ee(e,2,61,"string value is too long. It has been truncated to "+r+" characters.",{value:t},!0))),n||t}o(Sr,"dataSanitizeString");function wu(e,t){return kv(e,t,2048,66)}o(wu,"dataSanitizeUrl");function zp(e,t){var r;return t&&t[mt]>32768&&(r=zo(t,0,32768),Ee(e,2,56,"message is too long, it has been truncated to 32768 characters.",{message:t},!0)),r||t}o(zp,"dataSanitizeMessage");function Nv(e,t){var r;if(t){var n=""+t;n[mt]>32768&&(r=zo(n,0,32768),Ee(e,2,52,"exception is too long, it has been truncated to 32768 characters.",{exception:t},!0))}return r||t}o(Nv,"dataSanitizeException");function Ii(e,t){if(t){var r={};gt(t,function(n,i){if(li(i)&&jl())try{i=Ti()[Bp](i)}catch(s){Ee(e,2,49,"custom property is not valid",{exception:s},!0)}i=Sr(e,i,8192),n=Rv(e,n,r),r[n]=i}),t=r}return t}o(Ii,"dataSanitizeProperties");function Ei(e,t){if(t){var r={};gt(t,function(n,i){n=Rv(e,n,r),r[n]=i}),t=r}return t}o(Ei,"dataSanitizeMeasurements");function Av(e,t){return t&&kv(e,t,128,69)[Vl]()}o(Av,"dataSanitizeId");function kv(e,t,r,n){var i;return t&&(t=xr(xn(t)),t[mt]>r&&(i=zo(t,0,r),Ee(e,2,n,"input is too long, it has been truncated to "+r+" characters.",{data:t},!0))),i||t}o(kv,"dataSanitizeInput");function xF(e){var t="00"+e;return RO(t,t[mt]-3)}o(xF,"dsPadNumber");var bF=go()||{},_F=0,Boe=[null,null,null,null,null];function yF(e){var t=_F,r=Boe,n=r[t];return bF.createElement?r[t]||(n=r[t]=bF.createElement("a")):n={host:joe(e,!0)},n.href=e,t++,t>=r[mt]&&(t=0),_F=t,n}o(yF,"urlParseUrl");function joe(e,t){var r=vF(e,t)||"";if(r){var n=r[Tu](/(www\d{0,5}\.)?([^\/:]{1,256})(:\d{1,20})?/i);if(n!=null&&n[mt]>3&&Yt(n[2])&&n[2][mt]>0)return n[2]+(n[3]||"")}return r}o(joe,"urlParseHost");function vF(e,t){var r=null;if(e){var n=e[Tu](/(\w{1,150}):\/\/([^\/:]{1,256})(:\d{1,20})?/i);if(n!=null&&n[mt]>2&&Yt(n[2])&&n[2][mt]>0&&(r=n[2]||"",t&&n[mt]>2)){var i=(n[1]||"")[vu](),s=n[3]||"";(i==="http"&&s===":80"||i==="https"&&s===":443")&&(s=""),r+=s}}return r}o(vF,"urlParseFullHost");var $oe=[_u+R0,"https://breeze.aimon.applicationinsights.io"+R0,"https://dc-int.services.visualstudio.com"+R0];function Ex(e){return sn($oe,e[vu]())!==-1}o(Ex,"isInternalApplicationInsightsEndpoint");function TF(e,t,r,n){var i,s=n,a=n;if(t&&t[mt]>0){var l=yF(t);if(i=l.host,!s)if(l[jp]!=null){var c=l.pathname[mt]===0?"/":l[jp];c.charAt(0)!=="/"&&(c="/"+c),a=l[jp],s=Sr(e,r?r+" "+c:c)}else s=Sr(e,t)}else i=n,s=n;return{target:i,name:s,data:a}}o(TF,"AjaxHelperParseDependencyPath");var Cx=nu({LocalStorage:0,SessionStorage:1}),DLe=nu({AI:0,AI_AND_W3C:1,W3C:2}),RLe=nu({Normal:1,Critical:2});var Xd=void 0,IF="";function EF(e){try{if(Oe(po()))return null;var t=new Date()[Vl](),r=Ar(e===Cx.LocalStorage?"localStorage":"sessionStorage"),n=IF+t;r.setItem(n,t);var i=r.getItem(n)!==t;if(r[Dv](n),!i)return r}catch{}return null}o(EF,"_getVerifiedStorageObject");function Ov(){return Sx()?EF(Cx.SessionStorage):null}o(Ov,"_getSessionStorageObject");function Lv(e){IF=e||""}o(Lv,"utlSetStoragePrefix");function Sx(e){return(e||Xd===void 0)&&(Xd=!!EF(Cx.SessionStorage)),Xd}o(Sx,"utlCanUseSessionStorage");function Fv(e,t){var r=Ov();if(r!==null)try{return r.getItem(t)}catch(n){Xd=!1,Ee(e,2,2,"Browser failed read of session storage. "+an(n),{exception:Je(n)})}return null}o(Fv,"utlGetSessionStorage");function Mv(e,t,r){var n=Ov();if(n!==null)try{return n.setItem(t,r),!0}catch(i){Xd=!1,Ee(e,2,4,"Browser failed write to session storage. "+an(i),{exception:Je(i)})}return!1}o(Mv,"utlSetSessionStorage");function Uv(e,t){var r=Ov();if(r!==null)try{return r[Dv](t),!0}catch(n){Xd=!1,Ee(e,2,6,"Browser failed removal of session storage item. "+an(n),{exception:Je(n)})}return!1}o(Uv,"utlRemoveSessionStorage");var qoe=";",Woe="=";function Hp(e){if(!e)return{};var t=e[yu](qoe),r=uy(t,function(i,s){var a=s[yu](Woe);if(a[mt]===2){var l=a[0][vu](),c=a[1];i[l]=c}return i},{});if(Go(r)[mt]>0){if(r.endpointsuffix){var n=r.location?r.location+".":"";r[Hl]=r[Hl]||"https://"+n+"dc."+r.endpointsuffix}r[Hl]=r[Hl]||_u,ap(r[Hl],"/")&&(r[Hl]=r[Hl].slice(0,-1))}return r}o(Hp,"parseConnectionString");var Bv=function(){function e(t,r,n){var i=this,s=this;s.ver=1,s.sampleRate=100,s.tags={},s[fi]=Sr(t,n)||ui,s.data=r,s.time=Bl(new Date),s[Yd]={time:1,iKey:1,name:1,sampleRate:o(function(){return i.sampleRate===100?4:1},"sampleRate"),tags:1,data:1}}return o(e,"Envelope"),e}();var Aa=function(){function e(t,r,n,i){this.aiDataContract={ver:1,name:1,properties:0,measurements:0};var s=this;s.ver=2,s[fi]=Sr(t,r)||ui,s[Kn]=Ii(t,n),s[di]=Ei(t,i)}return o(e,"Event"),e.envelopeType="Microsoft.ApplicationInsights.{0}.Event",e.dataType="EventData",e}();var Goe=58,zoe=/^\s{0,50}(from\s|at\s|Line\s{1,5}\d{1,10}\s{1,5}of|\w{1,50}@\w{1,80}|[^\(\s\n]+:[0-9\?]+(?::[0-9\?]+)?)/,Hoe=/^(?:\s{0,50}at)?\s{0,50}([^\@\()\s]+)?\s{0,50}(?:\s|\@|\()\s{0,5}([^\(\s\n\]]+):([0-9\?]+):([0-9\?]+)\)?$/,Voe=/^(?:\s{0,50}at)?\s{0,50}([^\@\()\s]+)?\s{0,50}(?:\s|\@|\()\s{0,5}([^\(\s\n\]]+):([0-9\?]+)\)?$/,Koe=/^(?:\s{0,50}at)?\s{0,50}([^\@\()\s]+)?\s{0,50}(?:\s|\@|\()\s{0,5}([^\(\s\n\)\]]+)\)?$/,Yoe=/(?:^|\(|\s{0,10}[\w\)]+\@)?([^\(\n\s\]\)]+)(?:\:([0-9]+)(?:\:([0-9]+))?)?\)?(?:,|$)/,Xoe=/([^\(\s\n]+):([0-9]+):([0-9]+)$/,Joe=/([^\(\s\n]+):([0-9]+)$/,CF="<no_method>",Jd="error",Zo="stack",$v="stackDetails",SF="errorSrc",qv="message",RF="description",wF=[{re:Hoe,len:5,m:1,fn:2,ln:3,col:4},{chk:Qoe,pre:Zoe,re:Voe,len:4,m:1,fn:2,ln:3},{re:Koe,len:3,m:1,fn:2,hdl:DF},{re:Yoe,len:2,fn:1,hdl:DF}];function Zoe(e){return e.replace(/(\(anonymous\))/,"<anonymous>")}o(Zoe,"_scrubAnonymous");function Qoe(e){return x0(e,"[native")<0}o(Qoe,"_ignoreNative");function Wv(e,t){var r=e;return r&&!Yt(r)&&(JSON&&JSON[Bp]?(r=JSON[Bp](e),t&&(!r||r==="{}")&&(dt(e[Vl])?r=e[Vl]():r=""+e)):r=""+e+" - (Missing JSON.stringify)"),r||""}o(Wv,"_stringify");function NF(e,t){var r=e;return e&&(r&&!Yt(r)&&(r=e[qv]||e[RF]||r),r&&!Yt(r)&&(r=Wv(r,!0)),e.filename&&(r=r+" @"+(e.filename||"")+":"+(e.lineno||"?")+":"+(e.colno||"?"))),t&&t!=="String"&&t!=="Object"&&t!=="Error"&&x0(r||"",t)===-1&&(r=t+": "+r),r||""}o(NF,"_formatMessage");function ese(e){try{if(li(e))return"hasFullStack"in e&&"typeName"in e}catch{}return!1}o(ese,"_isExceptionDetailsInternal");function tse(e){try{if(li(e))return"ver"in e&&"exceptions"in e&&"properties"in e}catch{}return!1}o(tse,"_isExceptionInternal");function PF(e){return e&&e.src&&Yt(e.src)&&e.obj&&et(e.obj)}o(PF,"_isStackDetails");function Pu(e){var t=e||"";Yt(t)||(Yt(t[Zo])?t=t[Zo]:t=""+t);var r=t[yu](`
`);return{src:t,obj:r}}o(Pu,"_convertStackObj");function rse(e){for(var t=[],r=e[yu](`
`),n=0;n<r[mt];n++){var i=r[n];r[n+1]&&(i+="@"+r[n+1],n++),t.push(i)}return{src:e,obj:t}}o(rse,"_getOperaStack");function AF(e){var t=null;if(e)try{if(e[Zo])t=Pu(e[Zo]);else if(e[Jd]&&e[Jd][Zo])t=Pu(e[Jd][Zo]);else if(e.exception&&e.exception[Zo])t=Pu(e.exception[Zo]);else if(PF(e))t=e;else if(PF(e[$v]))t=e[$v];else if(Hi()&&Hi().opera&&e[qv])t=rse(e[Vd]);else if(e.reason&&e.reason[Zo])t=Pu(e.reason[Zo]);else if(Yt(e))t=Pu(e);else{var r=e[qv]||e[RF]||"";Yt(e[SF])&&(r&&(r+=`
`),r+=" from "+e[SF]),r&&(t=Pu(r))}}catch(n){t=Pu(n)}return t||{src:"",obj:null}}o(AF,"_getStackFromErrorObj");function nse(e){var t="";return e&&(e.obj?t=e.obj.join(`
`):t=e.src||""),t}o(nse,"_formatStackTrace");function ise(e){var t,r=e.obj;if(r&&r[mt]>0){t=[];var n=0,i=!1,s=0;Ae(r,function(h){if(i||lse(h)){var _=xn(h);i=!0;var b=cse(_,n);b&&(s+=b[$p],t.push(b),n++)}});var a=32*1024;if(s>a)for(var l=0,c=t[mt]-1,f=0,u=l,d=c;l<c;){var p=t[l][$p],m=t[c][$p];if(f+=p+m,f>a){var g=d-u+1;t.splice(u,g);break}u=l,d=c,l++,c--}}return t}o(ise,"_parseStack");function wx(e){var t="";if(e&&(t=e.typeName||e[fi]||"",!t))try{var r=/function (.{1,200})\(/,n=r.exec(e.constructor[Vl]());t=n&&n[mt]>1?n[1]:""}catch{}return t}o(wx,"_getErrorType");function jv(e){if(e)try{if(!Yt(e)){var t=wx(e),r=Wv(e,!1);return(!r||r==="{}")&&(e[Jd]&&(e=e[Jd],t=wx(e)),r=Wv(e,!0)),x0(r,t)!==0&&t!=="String"?t+":"+r:r}}catch{}return""+(e||"")}o(jv,"_formatErrorCode");var Du=function(){function e(t,r,n,i,s,a){this.aiDataContract={ver:1,exceptions:1,severityLevel:0,properties:0,measurements:0};var l=this;l.ver=2,tse(r)?(l[Kd]=r[Kd]||[],l[Kn]=r[Kn],l[di]=r[di],r[Iu]&&(l[Iu]=r[Iu]),r.id&&(l.id=r.id,r[Kn].id=r.id),r[Ix]&&(l[Ix]=r[Ix]),Oe(r.isManual)||(l.isManual=r.isManual)):(n||(n={}),a&&(n.id=a),l[Kd]=[kF(t,r,n)],l[Kn]=Ii(t,n),l[di]=Ei(t,i),s&&(l[Iu]=s),a&&(l.id=a))}return o(e,"Exception"),e.CreateAutoException=function(t,r,n,i,s,a,l,c){var f=wx(s||a||t);return{message:NF(t,f),url:r,lineNumber:n,columnNumber:i,error:jv(s||a||t),evt:jv(a||t),typeName:f,stackDetails:AF(l||s||a),errorSrc:c}},e.CreateFromInterface=function(t,r,n,i){var s=r[Kd]&&ru(r[Kd],function(l){return ase(t,l)}),a=new e(t,Yo(Yo({},r),{exceptions:s}),n,i);return a},e.prototype.toInterface=function(){var t=this,r=t.exceptions,n=t.properties,i=t.measurements,s=t.severityLevel,a=t.problemGroup,l=t.id,c=t.isManual,f=r instanceof Array&&ru(r,function(u){return u.toInterface()})||void 0;return{ver:"4.0",exceptions:f,severityLevel:s,properties:n,measurements:i,problemGroup:a,id:l,isManual:c}},e.CreateSimpleException=function(t,r,n,i,s,a){var l;return{exceptions:[(l={},l[Wp]=!0,l.message=t,l.stack=s,l.typeName=r,l)]}},e.envelopeType="Microsoft.ApplicationInsights.{0}.Exception",e.dataType="ExceptionData",e.formatError=jv,e}();var ose=mo({id:0,outerId:0,typeName:1,message:1,hasFullStack:0,stack:0,parsedStack:2});function sse(){var e=this,t=et(e[Eu])&&ru(e[Eu],function(n){return fse(n)}),r={id:e.id,outerId:e.outerId,typeName:e[qp],message:e[Vd],hasFullStack:e[Wp],stack:e[Zo],parsedStack:t||void 0};return r}o(sse,"_toInterface");function kF(e,t,r){var n,i,s,a,l,c,f,u;if(ese(t))a=t[qp],l=t[Vd],f=t[Zo],u=t[Eu]||[],c=t[Wp];else{var d=t,p=d&&d.evt;op(d)||(d=d[Jd]||p||d),a=Sr(e,wx(d))||ui,l=zp(e,NF(t||d,a))||ui;var m=t[$v]||AF(t);u=ise(m),et(u)&&ru(u,function(g){g[Gp]=Sr(e,g[Gp]),g[N0]=Sr(e,g[N0])}),f=Nv(e,nse(m)),c=et(u)&&u[mt]>0,r&&(r[qp]=r[qp]||a)}return n={},n[Yd]=ose,n.id=i,n.outerId=s,n.typeName=a,n.message=l,n[Wp]=c,n.stack=f,n.parsedStack=u,n.toInterface=sse,n}o(kF,"_createExceptionDetails");function ase(e,t){var r=et(t[Eu])&&ru(t[Eu],function(i){return use(i)})||t[Eu],n=kF(e,Yo(Yo({},t),{parsedStack:r}));return n}o(ase,"_createExDetailsFromInterface");function OF(e,t){var r=t[Tu](Xoe);if(r&&r[mt]>=4)e[N0]=r[1],e[Cu]=parseInt(r[2]);else{var n=t[Tu](Joe);n&&n[mt]>=3?(e[N0]=n[1],e[Cu]=parseInt(n[2])):e[N0]=t}}o(OF,"_parseFilename");function DF(e,t,r){var n=e[N0];t.fn&&r&&r[mt]>t.fn&&(t.ln&&r[mt]>t.ln?(n=xr(r[t.fn]||""),e[Cu]=parseInt(xr(r[t.ln]||""))||0):n=xr(r[t.fn]||"")),n&&OF(e,n)}o(DF,"_handleFilename");function lse(e){var t=!1;if(e&&Yt(e)){var r=xr(e);r&&(t=zoe.test(r))}return t}o(lse,"_isStackFrame");var LF=mo({level:1,method:1,assembly:0,fileName:0,line:0});function cse(e,t){var r,n;if(e&&Yt(e)&&xr(e)){n=(r={},r[Yd]=LF,r.level=t,r.assembly=xr(e),r.method=CF,r.fileName="",r.line=0,r.sizeInBytes=0,r);for(var i=0;i<wF[mt];){var s=wF[i];if(s.chk&&!s.chk(e))break;s.pre&&(e=s.pre(e));var a=e[Tu](s.re);if(a&&a[mt]>=s.len){s.m&&(n.method=xr(a[s.m]||CF)),s.hdl?s.hdl(n,s,a):s.fn&&(s.ln?(n[N0]=xr(a[s.fn]||""),n[Cu]=parseInt(xr(a[s.ln]||""))||0):OF(n,a[s.fn]||""));break}i++}}return FF(n)}o(cse,"_extractStackFrame");function use(e){var t,r=(t={},t[Yd]=LF,t.level=e.level,t.method=e.method,t.assembly=e[Gp],t.fileName=e[N0],t.line=e[Cu],t.sizeInBytes=0,t);return FF(r)}o(use,"_stackFrameFromInterface");function FF(e){var t=Goe;return e&&(t+=e.method[mt],t+=e.assembly[mt],t+=e.fileName[mt],t+=e.level.toString()[mt],t+=e.line.toString()[mt],e[$p]=t),e}o(FF,"_populateFrameSizeInBytes");function fse(e){return{level:e.level,method:e.method,assembly:e[Gp],fileName:e[N0],line:e[Cu]}}o(fse,"_parsedFrameToInterface");var MF=function(){function e(){this.aiDataContract={name:1,kind:0,value:1,count:0,min:0,max:0,stdDev:0},this.kind=0}return o(e,"DataPoint"),e}();var ka=function(){function e(t,r,n,i,s,a,l,c,f){this.aiDataContract={ver:1,metrics:1,properties:0};var u=this;u.ver=2;var d=new MF;d[gF]=i>0?i:void 0,d.max=isNaN(a)||a===null?void 0:a,d.min=isNaN(s)||s===null?void 0:s,d[fi]=Sr(t,r)||ui,d.value=n,d.stdDev=isNaN(l)||l===null?void 0:l,u.metrics=[d],u[Kn]=Ii(t,c),u[di]=Ei(t,f)}return o(e,"Metric"),e.envelopeType="Microsoft.ApplicationInsights.{0}.Metric",e.dataType="MetricData",e}();var Vp="";function Px(e){(isNaN(e)||e<0)&&(e=0),e=BO(e);var t=Vp+e%1e3,r=Vp+va(e/1e3)%60,n=Vp+va(e/(1e3*60))%60,i=Vp+va(e/(1e3*60*60))%24,s=va(e/(1e3*60*60*24));return t=t[mt]===1?"00"+t:t[mt]===2?"0"+t:t,r=r[mt]<2?"0"+r:r,n=n[mt]<2?"0"+n:n,i=i[mt]<2?"0"+i:i,(s>0?s+".":Vp)+i+":"+n+":"+r+"."+t}o(Px,"msToTimeSpan");var Ru=function(){function e(t,r,n,i,s,a,l){this.aiDataContract={ver:1,name:0,url:0,duration:0,properties:0,measurements:0,id:0};var c=this;c.ver=2,c.id=Av(t,l),c.url=wu(t,n),c[fi]=Sr(t,r)||ui,isNaN(i)||(c[Su]=Px(i)),c[Kn]=Ii(t,s),c[di]=Ei(t,a)}return o(e,"PageView"),e.envelopeType="Microsoft.ApplicationInsights.{0}.Pageview",e.dataType="PageviewData",e}();var Nu=function(){function e(t,r,n,i,s,a,l,c,f,u,d,p){f===void 0&&(f="Ajax"),this.aiDataContract={id:1,ver:1,name:0,resultCode:0,duration:0,success:0,data:0,target:0,type:0,properties:0,measurements:0,kind:0,value:0,count:0,min:0,max:0,stdDev:0,dependencyKind:0,dependencySource:0,commandName:0,dependencyTypeName:0};var m=this;m.ver=2,m.id=r,m[Su]=Px(s),m.success=a,m.resultCode=l+"",m.type=Sr(t,f);var g=TF(t,n,c,i);m.data=wu(t,i)||g.data,m.target=Sr(t,g.target),u&&(m.target="".concat(m.target," | ").concat(u)),m[fi]=Sr(t,g[fi]),m[Kn]=Ii(t,d),m[di]=Ei(t,p)}return o(e,"RemoteDependencyData"),e.envelopeType="Microsoft.ApplicationInsights.{0}.RemoteDependency",e.dataType="RemoteDependencyData",e}();var Au=function(){function e(t,r,n,i,s){this.aiDataContract={ver:1,message:1,severityLevel:0,properties:0};var a=this;a.ver=2,r=r||ui,a[Vd]=zp(t,r),a[Kn]=Ii(t,i),a[di]=Ei(t,s),n&&(a[Iu]=n)}return o(e,"Trace"),e.envelopeType="Microsoft.ApplicationInsights.{0}.Message",e.dataType="MessageData",e}();var ku=function(){function e(t,r,n,i,s,a,l){this.aiDataContract={ver:1,name:0,url:0,duration:0,perfTotal:0,networkConnect:0,sentRequest:0,receivedResponse:0,domProcessing:0,properties:0,measurements:0};var c=this;c.ver=2,c.url=wu(t,n),c[fi]=Sr(t,r)||ui,c[Kn]=Ii(t,s),c[di]=Ei(t,a),l&&(c.domProcessing=l.domProcessing,c[Su]=l[Su],c.networkConnect=l.networkConnect,c.perfTotal=l.perfTotal,c.receivedResponse=l.receivedResponse,c.sentRequest=l.sentRequest)}return o(e,"PageViewPerformance"),e.envelopeType="Microsoft.ApplicationInsights.{0}.PageviewPerformance",e.dataType="PageviewPerformanceData",e}();var Oa=function(){function e(t,r){this.aiDataContract={baseType:1,baseData:1},this.baseType=t,this.baseData=r}return o(e,"Data"),e}();function Yl(e){var t="ai."+e+".";return function(r){return t+r}}o(Yl,"_aiNameFunc");var Kp=Yl("application"),Sn=Yl("device"),Dx=Yl("location"),Zd=Yl("operation"),Gv=Yl("session"),Kl=Yl("user"),Ou=Yl("cloud"),Yp=Yl("internal"),Xp=function(e){I0(t,e);function t(){return e.call(this)||this}return o(t,"ContextTagKeys"),t}(Wy({applicationVersion:Kp("ver"),applicationBuild:Kp("build"),applicationTypeId:Kp("typeId"),applicationId:Kp("applicationId"),applicationLayer:Kp("layer"),deviceId:Sn("id"),deviceIp:Sn("ip"),deviceLanguage:Sn("language"),deviceLocale:Sn("locale"),deviceModel:Sn("model"),deviceFriendlyName:Sn("friendlyName"),deviceNetwork:Sn("network"),deviceNetworkName:Sn("networkName"),deviceOEMName:Sn("oemName"),deviceOS:Sn("os"),deviceOSVersion:Sn("osVersion"),deviceRoleInstance:Sn("roleInstance"),deviceRoleName:Sn("roleName"),deviceScreenResolution:Sn("screenResolution"),deviceType:Sn("type"),deviceMachineName:Sn("machineName"),deviceVMName:Sn("vmName"),deviceBrowser:Sn("browser"),deviceBrowserVersion:Sn("browserVersion"),locationIp:Dx("ip"),locationCountry:Dx("country"),locationProvince:Dx("province"),locationCity:Dx("city"),operationId:Zd("id"),operationName:Zd("name"),operationParentId:Zd("parentId"),operationRootId:Zd("rootId"),operationSyntheticSource:Zd("syntheticSource"),operationCorrelationVector:Zd("correlationVector"),sessionId:Gv("id"),sessionIsFirst:Gv("isFirst"),sessionIsNew:Gv("isNew"),userAccountAcquisitionDate:Kl("accountAcquisitionDate"),userAccountId:Kl("accountId"),userAgent:Kl("userAgent"),userId:Kl("id"),userStoreRegion:Kl("storeRegion"),userAuthUserId:Kl("authUserId"),userAnonymousUserAcquisitionDate:Kl("anonUserAcquisitionDate"),userAuthenticatedUserAcquisitionDate:Kl("authUserAcquisitionDate"),cloudName:Ou("name"),cloudRole:Ou("role"),cloudRoleVer:Ou("roleVer"),cloudRoleInstance:Ou("roleInstance"),cloudEnvironment:Ou("environment"),cloudLocation:Ou("location"),cloudDeploymentUnit:Ou("deploymentUnit"),internalNodeName:Yp("nodeName"),internalSdkVersion:Yp("sdkVersion"),internalAgentVersion:Yp("agentVersion"),internalSnippet:Yp("snippet"),internalSdkSrc:Yp("sdkSrc")}));var _n=new Xp;function UF(e,t){Pv(e,null,null,t)}o(UF,"_disableEvents");function zv(e){var t=go(),r=Vo(),n=!1,i=[],s=1;r&&!Oe(r.onLine)&&!r.onLine&&(s=2);var a=0,l=p(),c=Fp(Io("OfflineListener"),e);try{if(u(Hi())&&(n=!0),t){var f=t.body||t;f.ononline&&u(f)&&(n=!0)}}catch{n=!1}function u(y){var E=!1;return y&&(E=yx(y,"online",h,c),E&&yx(y,"offline",_,c)),E}o(u,"_enableEvents");function d(){return l}o(d,"_isOnline");function p(){return!(a===2||s===2)}o(p,"calCurrentState");function m(){var y=p();l!==y&&(l=y,Ae(i,function(E){var S={isOnline:l,rState:s,uState:a};try{E(S)}catch{}}))}o(m,"listnerNoticeCheck");function g(y){a=y,m()}o(g,"setOnlineState");function h(){s=1,m()}o(h,"_setOnline");function _(){s=2,m()}o(_,"_setOffline");function b(){var y=Hi();if(y&&n){if(UF(y,c),t){var E=t.body||t;sr(E.ononline)||UF(E,c)}n=!1}}o(b,"_unload");function x(y){return i.push(y),{rm:o(function(){var E=i.indexOf(y);if(E>-1)return i.splice(E,1)},"rm")}}return o(x,"addListener"),{isOnline:d,isListening:o(function(){return n},"isListening"),unload:b,addListener:x,setOnlineState:g}}o(zv,"createOfflineListener");var Rx="AppInsightsChannelPlugin";var Xl="duration";var yn="tags",Nx="deviceType",Xi="data",A0="name",Lu="traceID",ht="length",Jl="stringify",Zl="measurements",Qo="dataType",Ql="envelopeType",La="toString",Fa="enqueue",Ma="count",es="push",Jp="emitLineDelimitedJson",ec="clear",Qd="markAsSent",Fu="clearSent",Zp="bufferOverride",em="BUFFER_KEY",Ua="SENT_BUFFER_KEY",tc="concat",tm="MAX_BUFFER_SIZE",rm="triggerSend",Yn="diagLog",Ax="initialize",nm="_sender",im="endpointUrl",om="instrumentationKey",kx="customHeaders",Hv="maxBatchSizeInBytes",Ox="onunloadDisableBeacon",Lx="isBeaconApiDisabled",Vv="alwaysUseXhrOverride",Kv="enableSessionStorageBuffer",$s="_buffer",Yv="onunloadDisableFetch",Xv="disableSendBeaconSplit",Qp="getSenderInst",rc="_onError",Fx="_onPartialSuccess",eg="_onSuccess",Mx="itemsReceived",Ux="itemsAccepted",Bx="baseType",sm="sampleRate",BF="getHashCodeScore";var Jv="baseType",qr="baseData",Mn="properties",jF="true";function ln(e,t,r){return S0(e,t,r,Rl)}o(ln,"_setValueIf");function dse(e,t,r){var n=r[yn]=r[yn]||{},i=t.ext=t.ext||{},s=t[yn]=t[yn]||[],a=i.user;a&&(ln(n,_n.userAuthUserId,a.authId),ln(n,_n.userId,a.id||a.localId));var l=i.app;l&&ln(n,_n.sessionId,l.sesId);var c=i.device;c&&(ln(n,_n.deviceId,c.id||c.localId),ln(n,_n[Nx],c.deviceClass),ln(n,_n.deviceIp,c.ip),ln(n,_n.deviceModel,c.model),ln(n,_n[Nx],c[Nx]));var f=t.ext.web;if(f){ln(n,_n.deviceLanguage,f.browserLang),ln(n,_n.deviceBrowserVersion,f.browserVer),ln(n,_n.deviceBrowser,f.browser);var u=r[Xi]=r[Xi]||{},d=u[qr]=u[qr]||{},p=d[Mn]=d[Mn]||{};ln(p,"domain",f.domain),ln(p,"isManual",f.isManual?jF:null),ln(p,"screenRes",f.screenRes),ln(p,"userConsent",f.userConsent?jF:null)}var m=i.os;m&&(ln(n,_n.deviceOS,m[A0]),ln(n,_n.deviceOSVersion,m.osVer));var g=i.trace;g&&(ln(n,_n.operationParentId,g.parentID),ln(n,_n.operationName,Sr(e,g[A0])),ln(n,_n.operationId,g[Lu]));for(var h={},_=s[ht]-1;_>=0;_--){var b=s[_];gt(b,function(y,E){h[y]=E}),s.splice(_,1)}gt(s,function(y,E){h[y]=E});var x=Yo(Yo({},n),h);x[_n.internalSdkVersion]||(x[_n.internalSdkVersion]=Sr(e,"javascript:".concat(mse.Version),64)),r[yn]=J4(x)}o(dse,"_extractPartAExtensions");function nc(e,t,r){Oe(e)||gt(e,function(n,i){_a(i)?r[n]=i:Yt(i)?t[n]=i:jl()&&(t[n]=Ti()[Jl](i))})}o(nc,"_extractPropsAndMeasurements");function Mu(e,t){Oe(e)||gt(e,function(r,n){e[r]=n||t})}o(Mu,"_convertPropsUndefinedToCustomDefinedValue");function Uu(e,t,r,n){var i=new Bv(e,n,t);ln(i,"sampleRate",r[Mp]),(r[qr]||{}).startTime&&(i.time=Bl(r[qr].startTime)),i.iKey=r.iKey;var s=r.iKey.replace(/-/g,"");return i[A0]=i[A0].replace("{0}",s),dse(e,r,i),r[yn]=r[yn]||[],J4(i)}o(Uu,"_createEnvelope");function Bu(e,t){Oe(t[qr])&&Ee(e,1,46,"telemetryItem.baseData cannot be null.")}o(Bu,"EnvelopeCreatorInit");var mse={Version:"3.3.6"};function $F(e,t,r){Bu(e,t);var n=t[qr][Zl]||{},i=t[qr][Mn]||{};nc(t[Xi],i,n),Oe(r)||Mu(i,r);var s=t[qr];if(Oe(s))return Ra(e,"Invalid input for dependency data"),null;var a=s[Mn]&&s[Mn][vx]?s[Mn][vx]:"GET",l=new Nu(e,s.id,s.target,s[A0],s[Xl],s.success,s.responseCode,a,s.type,s.correlationContext,i,n),c=new Oa(Nu[Qo],l);return Uu(e,Nu[Ql],t,c)}o($F,"DependencyEnvelopeCreator");function Zv(e,t,r){Bu(e,t);var n={},i={};t[Jv]!==Aa[Qo]&&(n.baseTypeSource=t[Jv]),t[Jv]===Aa[Qo]?(n=t[qr][Mn]||{},i=t[qr][Zl]||{}):t[qr]&&nc(t[qr],n,i),nc(t[Xi],n,i),Oe(r)||Mu(n,r);var s=t[qr][A0],a=new Aa(e,s,n,i),l=new Oa(Aa[Qo],a);return Uu(e,Aa[Ql],t,l)}o(Zv,"EventEnvelopeCreator");function qF(e,t,r){Bu(e,t);var n=t[qr][Zl]||{},i=t[qr][Mn]||{};nc(t[Xi],i,n),Oe(r)||Mu(i,r);var s=t[qr],a=Du.CreateFromInterface(e,s,i,n),l=new Oa(Du[Qo],a);return Uu(e,Du[Ql],t,l)}o(qF,"ExceptionEnvelopeCreator");function WF(e,t,r){Bu(e,t);var n=t[qr],i=n[Mn]||{},s=n[Zl]||{};nc(t[Xi],i,s),Oe(r)||Mu(i,r);var a=new ka(e,n[A0],n.average,n.sampleCount,n.min,n.max,n.stdDev,i,s),l=new Oa(ka[Qo],a);return Uu(e,ka[Ql],t,l)}o(WF,"MetricEnvelopeCreator");function GF(e,t,r){Bu(e,t);var n,i=t[qr];!Oe(i)&&!Oe(i[Mn])&&!Oe(i[Mn][Xl])?(n=i[Mn][Xl],delete i[Mn][Xl]):!Oe(t[Xi])&&!Oe(t[Xi][Xl])&&(n=t[Xi][Xl],delete t[Xi][Xl]);var s=t[qr],a;((t.ext||{}).trace||{})[Lu]&&(a=t.ext.trace[Lu]);var l=s.id||a,c=s[A0],f=s.uri,u=s[Mn]||{},d=s[Zl]||{};if(Oe(s.refUri)||(u.refUri=s.refUri),Oe(s.pageType)||(u.pageType=s.pageType),Oe(s.isLoggedIn)||(u.isLoggedIn=s.isLoggedIn[La]()),!Oe(s[Mn])){var p=s[Mn];gt(p,function(h,_){u[h]=_})}nc(t[Xi],u,d),Oe(r)||Mu(u,r);var m=new Ru(e,c,f,n,u,d,l),g=new Oa(Ru[Qo],m);return Uu(e,Ru[Ql],t,g)}o(GF,"PageViewEnvelopeCreator");function zF(e,t,r){Bu(e,t);var n=t[qr],i=n[A0],s=n.uri||n.url,a=n[Mn]||{},l=n[Zl]||{};nc(t[Xi],a,l),Oe(r)||Mu(a,r);var c=new ku(e,i,s,void 0,a,l,n),f=new Oa(ku[Qo],c);return Uu(e,ku[Ql],t,f)}o(zF,"PageViewPerformanceEnvelopeCreator");function HF(e,t,r){Bu(e,t);var n=t[qr].message,i=t[qr].severityLevel,s=t[qr][Mn]||{},a=t[qr][Zl]||{};nc(t[Xi],s,a),Oe(r)||Mu(s,r);var l=new Au(e,n,i,s,a),c=new Oa(Au[Qo],l);return Uu(e,Au[Ql],t,c)}o(HF,"TraceEnvelopeCreator");var VF=function(){function e(t,r){var n=[],i=!1,s=r.maxRetryCnt;this._get=function(){return n},this._set=function(a){return n=a,n},Tr(e,this,function(a){a[Fa]=function(l){if(a[Ma]()>=r.eventsLimitInMem){i||(Ee(t,2,105,"Maximum in-memory buffer size reached: "+a[Ma](),!0),i=!0);return}l.cnt=l.cnt||0,!(!Oe(s)&&l.cnt>s)&&n[es](l)},a[Ma]=function(){return n[ht]},a.size=function(){for(var l=n[ht],c=0;c<n[ht];c++)l+=n[c].item[ht];return r[Jp]||(l+=2),l},a[ec]=function(){n=[],i=!1},a.getItems=function(){return n.slice(0)},a.batchPayloads=function(l){if(l&&l[ht]>0){var c=[];Ae(l,function(u){c[es](u.item)});var f=r[Jp]?c.join(`
`):"["+c.join(",")+"]";return f}return null},a.createNew=function(l,c,f){var u=n.slice(0);l=l||t,c=c||{};var d=f?new Qv(l,c):new jx(l,c);return Ae(u,function(p){d[Fa](p)}),d}})}return o(e,"BaseSendBuffer"),e.__ieDyn=1,e}(),jx=function(e){I0(t,e);function t(r,n){var i=e.call(this,r,n)||this;return Tr(t,i,function(s,a){s[Qd]=function(l){a[ec]()},s[Fu]=function(l){}}),i}return o(t,"ArraySendBuffer"),t.__ieDyn=1,t}(VF);var pse=["AI_buffer","AI_sentBuffer"],Qv=function(e){I0(t,e);function t(n,i){var s=e.call(this,n,i)||this,a=!1,l=i?.namePrefix,c=i[Zp]||{getItem:Fv,setItem:Mv},f=c.getItem,u=c.setItem,d=i.maxRetryCnt;return Tr(t,s,function(p,m){var g=E(t[em]),h=E(t[Ua]),_=z(),b=h[tc](_),x=p._set(g[tc](b));x[ht]>t[tm]&&(x[ht]=t[tm]),w(t[Ua],[]),w(t[em],x),p[Fa]=function(W){if(p[Ma]()>=t[tm]){a||(Ee(n,2,67,"Maximum buffer size reached: "+p[Ma](),!0),a=!0);return}W.cnt=W.cnt||0,!(!Oe(d)&&W.cnt>d)&&(m[Fa](W),w(t[em],p._get()))},p[ec]=function(){m[ec](),w(t[em],p._get()),w(t[Ua],[]),a=!1},p[Qd]=function(W){w(t[em],p._set(y(W,p._get())));var Y=E(t[Ua]);Y instanceof Array&&W instanceof Array&&(Y=Y[tc](W),Y[ht]>t[tm]&&(Ee(n,1,67,"Sent buffer reached its maximum size: "+Y[ht],!0),Y[ht]=t[tm]),w(t[Ua],Y))},p[Fu]=function(W){var Y=E(t[Ua]);Y=y(W,Y),w(t[Ua],Y)},p.createNew=function(W,Y,R){R=!!R;var P=p._get().slice(0),G=E(t[Ua]).slice(0);W=W||n,Y=Y||{},p[ec]();var A=R?new t(W,Y):new jx(W,Y);return Ae(P,function(I){A[Fa](I)}),R&&A[Qd](G),A};function y(W,Y){var R=[],P=[];return Ae(W,function(G){P[es](G.item)}),Ae(Y,function(G){!dt(G)&&sn(P,G.item)===-1&&R[es](G)}),R}o(y,"_removePayloadsFromBuffer");function E(W){var Y=W;return Y=l?l+"_"+Y:Y,S(Y)}o(E,"_getBuffer");function S(W){try{var Y=f(n,W);if(Y){var R=Ti().parse(Y);if(Yt(R)&&(R=Ti().parse(R)),R&&et(R))return R}}catch(P){Ee(n,1,42," storage key: "+W+", "+an(P),{exception:Je(P)})}return[]}o(S,"_getBufferBase");function w(W,Y){var R=W;try{R=l?l+"_"+R:R;var P=JSON[Jl](Y);u(n,R,P)}catch(G){u(n,R,JSON[Jl]([])),Ee(n,2,41," storage key: "+R+", "+an(G)+". Buffer cleared",{exception:Je(G)})}}o(w,"_setBuffer");function z(){var W=[];try{return Ae(pse,function(Y){var R=V(Y);if(W=W[tc](R),l){var P=l+"_"+Y,G=V(P);W=W[tc](G)}}),W}catch(Y){Ee(n,2,41,"Transfer events from previous buffers: "+an(Y)+". previous Buffer items can not be removed",{exception:Je(Y)})}return[]}o(z,"_getPreviousEvents");function V(W){try{var Y=S(W),R=[];return Ae(Y,function(P){var G={item:P,cnt:0};R[es](G)}),Uv(n,W),R}catch{}return[]}o(V,"_getItemsFromPreviousKey")}),s}o(t,"SessionStorageSendBuffer");var r;return r=t,t.VERSION="_1",t.BUFFER_KEY="AI_buffer"+r.VERSION,t.SENT_BUFFER_KEY="AI_sentBuffer"+r.VERSION,t.MAX_BUFFER_SIZE=2e3,t}(VF);var KF=function(){function e(t){Tr(e,this,function(r){r.serialize=function(a){var l=n(a,"root");try{return Ti()[Jl](l)}catch(c){Ee(t,1,48,c&&dt(c[La])?c[La]():"Error serializing object",null,!0)}};function n(a,l){var c="__aiCircularRefCheck",f={};if(!a)return Ee(t,1,48,"cannot serialize object because it is null or undefined",{name:l},!0),f;if(a[c])return Ee(t,2,50,"Circular reference detected while serializing object",{name:l},!0),f;if(!a.aiDataContract){if(l==="measurements")f=s(a,"number",l);else if(l==="properties")f=s(a,"string",l);else if(l==="tags")f=s(a,"string",l);else if(et(a))f=i(a,l);else{Ee(t,2,49,"Attempting to serialize an object which does not implement ISerializable",{name:l},!0);try{Ti()[Jl](a),f=a}catch(u){Ee(t,1,48,u&&dt(u[La])?u[La]():"Error serializing object",null,!0)}}return f}return a[c]=!0,gt(a.aiDataContract,function(u,d){var p=dt(d)?d()&1:d&1,m=dt(d)?d()&4:d&4,g=d&2,h=a[u]!==void 0,_=li(a[u])&&a[u]!==null;if(p&&!h&&!g)Ee(t,1,24,"Missing required field specification. The field is required but not present on source",{field:u,name:l});else if(!m){var b=void 0;_?g?b=i(a[u],u):b=n(a[u],u):b=a[u],b!==void 0&&(f[u]=b)}}),delete a[c],f}o(n,"_serializeObject");function i(a,l){var c;if(a)if(!et(a))Ee(t,1,54,`This field was specified as an array in the contract but the item is not an array.\r
`,{name:l},!0);else{c=[];for(var f=0;f<a[ht];f++){var u=a[f],d=n(u,l+"["+f+"]");c[es](d)}}return c}o(i,"_serializeArray");function s(a,l,c){var f;return a&&(f={},gt(a,function(u,d){if(l==="string")d===void 0?f[u]="undefined":d===null?f[u]="null":d[La]?f[u]=d[La]():f[u]="invalid field: toString() is not defined.";else if(l==="number")if(d===void 0)f[u]="undefined";else if(d===null)f[u]="null";else{var p=parseFloat(d);f[u]=p}else f[u]="invalid field: "+c+" is of unknown type.",Ee(t,1,f[u],null,!0)})),f}o(s,"_serializeStringMap")})}return o(e,"Serializer"),e.__ieDyn=1,e}();var gse=8,YF=function(){function e(){}return o(e,"HashCodeScoreGenerator"),e.prototype.getHashCodeScore=function(t){var r=this.getHashCode(t)/e.INT_MAX_VALUE;return r*100},e.prototype.getHashCode=function(t){if(t==="")return 0;for(;t[ht]<gse;)t=t[tc](t);for(var r=5381,n=0;n<t[ht];++n)r=(r<<5)+r+t.charCodeAt(n),r=r&r;return Math.abs(r)},e.INT_MAX_VALUE=2147483647,e}();var XF=function(){function e(){var t=this,r=new YF,n=new Xp;t.getSamplingScore=function(i){var s=0;return i[yn]&&i[yn][n.userId]?s=r.getHashCodeScore(i[yn][n.userId]):i.ext&&i.ext.user&&i.ext.user.id?s=r[BF](i.ext.user.id):i[yn]&&i[yn][n.operationId]?s=r.getHashCodeScore(i[yn][n.operationId]):i.ext&&i.ext.telemetryTrace&&i.ext.telemetryTrace[Lu]?s=r.getHashCodeScore(i.ext.telemetryTrace[Lu]):s=Math.random()*100,s}}return o(e,"SamplingScoreGenerator"),e}();var JF=function(){function e(t,r){this.INT_MAX_VALUE=2147483647;var n=r||xu(null);(t>100||t<0)&&(n.throwInternal(2,58,"Sampling rate is out of range (0..100). Sampling will be disabled, you may be sending too much data which may affect your AI service level.",{samplingRate:t},!0),t=100),this[sm]=t,this.samplingScoreGenerator=new XF}return o(e,"Sample"),e.prototype.isSampledIn=function(t){var r=this[sm],n=!1;return r==null||r>=100||t.baseType===ka[Qo]?!0:(n=this.samplingScoreGenerator.getSamplingScore(t)<r,n)},e}();var Or,Ba,k0=void 0,ZF="",hse=65e3;function QF(e){try{return e.responseText}catch{}return null}o(QF,"_getResponseText");function xse(e){return e&&e.sendPOST}o(xse,"isOverrideFn");var eM=Qc((Or={endpointUrl:qd(Rl,_u+R0)},Or[Jp]=Jo(),Or.maxBatchInterval=15e3,Or[Hv]=102400,Or.disableTelemetry=Jo(),Or[Kv]=Jo(!0),Or.isRetryDisabled=Jo(),Or[Lx]=Jo(!0),Or[Xv]=Jo(!0),Or.disableXhr=Jo(),Or[Yv]=Jo(),Or[Ox]=Jo(),Or[om]=k0,Or.namePrefix=k0,Or.samplingPercentage=qd(bse,100),Or[kx]=k0,Or.convertUndefined=k0,Or.eventsLimitInMem=1e4,Or[Zp]=!1,Or.httpXHROverride={isVal:xse,v:k0},Or[Vv]=Jo(),Or.transports=k0,Or.retryCodes=k0,Or.maxRetryCnt={isVal:_a,v:10},Or));function bse(e){return!isNaN(e)&&e>0&&e<=100}o(bse,"_chkSampling");var _se=(Ba={},Ba[Aa.dataType]=Zv,Ba[Au.dataType]=HF,Ba[Ru.dataType]=GF,Ba[ku.dataType]=zF,Ba[Du.dataType]=qF,Ba[ka.dataType]=WF,Ba[Nu.dataType]=$F,Ba),eT=function(e){I0(t,e);function t(){var r=e.call(this)||this;r.priority=1001,r.identifier=Rx;var n,i,s,a,l,c,f,u,d=0,p,m,g,h,_,b,x,y,E,S,w,z,V,W,Y,R,P,G,A,I,v,N,T,D,k,L,U;return Tr(t,r,function(H,ae){De(),H.pause=function(){pe(),a=!0},H.resume=function(){a&&(a=!1,i=null,we(),fe())},H.flush=function(q,X,se){if(q===void 0&&(q=!0),!a){pe();try{return H[rm](q,null,se||1)}catch(me){Ee(H[Yn](),1,22,"flush failed, telemetry will not be collected: "+an(me),{exception:Je(me)})}}},H.onunloadFlush=function(){if(!a)if(x||I)try{return H[rm](!0,Ke,2)}catch(q){Ee(H[Yn](),1,20,"failed to flush with beacon sender on page unload, telemetry will not be collected: "+an(q),{exception:Je(q)})}else H.flush(!1)},H.addHeader=function(q,X){u[q]=X},H[Ax]=function(q,X,se,me){H.isInitialized()&&Ee(H[Yn](),1,28,"Sender is already initialized"),ae[Ax](q,X,se,me);var be=H.identifier;c=new KF(X.logger),n=0,i=null,s=0,H[nm]=null,f=0;var Te=H[Yn]();g=Fp(Io("Sender"),X.evtNamespace&&X.evtNamespace()),m=zv(g),H._addHook(Xo(q,function(Ne){var Ye=Ne.cfg;Ye.storagePrefix&&Lv(Ye.storagePrefix);var ut=js(null,Ye,X),Ce=ut.getExtCfg(be,eM),At=Ce[im];if(h&&At===h){var Ct=Ye[im];Ct&&Ct!==At&&(Ce[im]=Ct)}fo(Ce[om])&&(Ce[om]=Ye[om]),dr(H,"_senderConfig",{g:o(function(){return Ce},"g")}),_!==Ce[im]&&(h=_=Ce[im]),X.activeStatus()===Ls.PENDING?H.pause():X.activeStatus()===Ls.ACTIVE&&H.resume(),S&&S!==Ce[kx]&&Ae(S,function(it){delete u[it.header]}),b=Ce[Hv],x=(Ce[Ox]===!1||Ce[Lx]===!1)&&$l(),y=Ce[Ox]===!1&&$l(),E=Ce[Lx]===!1&&$l(),I=Ce[Vv],v=!!Ce.disableXhr,U=Ce.retryCodes;var nt=Ce[Zp],ft=!!Ce[Kv]&&(!!nt||Sx()),Dt=Ce.namePrefix,Ut=ft!==R||ft&&G!==Dt||ft&&P!==nt;if(H[$s]){if(Ut)try{H[$s]=H[$s].createNew(Te,Ce,ft)}catch(it){Ee(H[Yn](),1,12,"failed to transfer telemetry to different buffer storage, telemetry will be lost: "+an(it),{exception:Je(it)})}we()}else H[$s]=ft?new Qv(Te,Ce):new jx(Te,Ce);G=Dt,R=ft,P=nt,N=!Ce[Yv]&&Ip(!0),k=!!Ce[Xv],H._sample=new JF(Ce.samplingPercentage,Te),z=Ce[om],!fo(z)&&!We(z,Ye)&&Ee(Te,1,100,"Invalid Instrumentation key "+z),S=Ce[kx],Yt(h)&&!Ex(h)&&S&&S[ht]>0?Ae(S,function(it){r.addHeader(it.header,it.value)}):S=null,A=Ce.enableSendPromise;var zt=he();L?L.SetConfig(zt):(L=new Cv,L[Ax](zt,Te));var kt=Ce.httpXHROverride,Ot=null,Rt=null,Xt=Q4([3,1,2],Ce.transports);Ot=L&&L[Qp](Xt,!1);var Bt=L&&L.getFallbackInst();T=o(function(it,vt){return ue(Bt,it,vt)},"_xhrSend"),D=o(function(it,vt){return ue(Bt,it,vt,!1)},"_fallbackSend"),Ot=I?kt:Ot||kt||Bt,H[nm]=function(it,vt){return ue(Ot,it,vt)},N&&(p=lt);var jt=Q4([3,1],Ce.unloadTransports);N||(jt=jt.filter(function(it){return it!==2})),Rt=L&&L[Qp](jt,!0),Rt=I?kt:Rt||kt,(I||Ce.unloadTransports||!p)&&Rt&&(p=o(function(it,vt){return ue(Rt,it,vt)},"_syncUnloadSender")),p||(p=T),w=Ce.disableTelemetry,V=Ce.convertUndefined||k0,W=Ce.isRetryDisabled,Y=Ce.maxBatchInterval}))},H.processTelemetry=function(q,X){X=H._getTelCtx(X);var se=X[Yn]();try{var me=ne(q,se);if(!me)return;var be=j(q,se);if(!be)return;var Te=c.serialize(be),Ne=H[$s];we(Te);var Ye={item:Te,cnt:0};Ne[Fa](Ye),fe()}catch(ut){Ee(se,2,12,"Failed adding telemetry to the sender's buffer, some telemetry will be lost: "+an(ut),{exception:Je(ut)})}H.processNext(q,X)},H.isCompletelyIdle=function(){return!a&&d===0&&H._buffer[Ma]()===0},H.getOfflineListener=function(){return m},H._xhrReadyStateChange=function(q,X,se){if(!rt(X))return Ue(q,X,se)},H[rm]=function(q,X,se){q===void 0&&(q=!0);var me;if(!a)try{var be=H[$s];if(w)be[ec]();else{if(be[Ma]()>0){var Te=be.getItems();$e(se||0,q),X?me=X.call(H,Te,q):me=H[nm](Te,q)}s=+new Date}pe()}catch(Ye){var Ne=Qy();(!Ne||Ne>9)&&Ee(H[Yn](),1,40,"Telemetry transmission failed, some telemetry will be lost: "+an(Ye),{exception:Je(Ye)})}return me},H.getOfflineSupport=function(){return{getUrl:o(function(){return h},"getUrl"),createPayload:$,serialize:ge,batch:le,shouldProcess:o(function(q){return!!ne(q)},"shouldProcess")}},H._doTeardown=function(q,X){H.onunloadFlush(),Da(m,!1),De()},H[rc]=function(q,X,se){if(!rt(q))return He(q,X,se)},H[Fx]=function(q,X){if(!rt(q))return Ve(q,X)},H[eg]=function(q,X){if(!rt(q))return Ze(q,X)},H._xdrOnLoad=function(q,X){if(!rt(X))return ye(q,X)};function ye(q,X){var se=QF(q);if(q&&(se+""=="200"||se===""))n=0,H[eg](X,0);else{var me=Lp(se);me&&me[Mx]&&me[Mx]>me[Ux]&&!W?H[Fx](X,me):H[rc](X,yp(q))}}o(ye,"_xdrOnLoad");function he(){try{var q={xdrOnComplete:o(function(se,me,be){var Te=F(be);if(Te)return ye(se,Te)},"xdrOnComplete"),fetchOnComplete:o(function(se,me,be,Te){var Ne=F(Te);if(Ne)return ke(se.status,Ne,se.url,Ne[ht],se.statusText,be||"")},"fetchOnComplete"),xhrOnComplete:o(function(se,me,be){var Te=F(be);if(Te)return Ue(se,Te,Te[ht])},"xhrOnComplete"),beaconOnRetry:o(function(se,me,be){return tt(se,me,be)},"beaconOnRetry")},X={enableSendPromise:A,isOneDs:!1,disableCredentials:!1,disableXhr:v,disableBeacon:!E,disableBeaconSync:!y,senderOnCompleteCallBack:q};return X}catch{}return null}o(he,"_getSendPostMgrConfig");function Ue(q,X,se){q.readyState===4&&ke(q.status,X,q.responseURL,se,gu(q),QF(q)||q.response)}o(Ue,"_xhrReadyStateChange");function He(q,X,se){Ee(H[Yn](),2,26,"Failed to send telemetry.",{message:X}),H._buffer&&H._buffer[Fu](q)}o(He,"_onError");function Ve(q,X){for(var se=[],me=[],be=X.errors.reverse(),Te=0,Ne=be;Te<Ne.length;Te++){var Ye=Ne[Te],ut=q.splice(Ye.index,1)[0];Re(Ye.statusCode)?me[es](ut):se[es](ut)}q[ht]>0&&H[eg](q,X[Ux]),se[ht]>0&&H[rc](se,gu(null,["partial success",X[Ux],"of",X.itemsReceived].join(" "))),me[ht]>0&&(O(me),Ee(H[Yn](),2,40,"Partial success. Delivered: "+q[ht]+", Failed: "+se[ht]+". Will retry to send "+me[ht]+" our of "+X[Mx]+" items"))}o(Ve,"_onPartialSuccess");function Ze(q,X){H._buffer&&H._buffer[Fu](q)}o(Ze,"_onSuccess");function F(q){try{if(q){var X=q,se=X.oriPayload;return se&&se[ht]?se:null}}catch{}return null}o(F,"_getPayloadArr");function ne(q,X){if(w)return!1;if(!q)return X&&Ee(X,1,7,"Cannot send empty telemetry"),!1;if(q.baseData&&!q[Bx])return X&&Ee(X,1,70,"Cannot send telemetry without baseData and baseType"),!1;if(q[Bx]||(q[Bx]="EventData"),!H[nm])return X&&Ee(X,1,28,"Sender was not initialized"),!1;if(re(q))q[Mp]=H._sample[sm];else return X&&Ee(X,2,33,"Telemetry item was sampled out and not sent",{SampleRate:H._sample[sm]}),!1;return!0}o(ne,"_validate");function j(q,X){var se=q.iKey||z,me=t.constructEnvelope(q,se,X,V);if(!me){Ee(X,1,47,"Unable to create an AppInsights envelope");return}var be=!1;if(q[yn]&&q[yn][Up]&&(Ae(q[yn][Up],function(Te){try{Te&&Te(me)===!1&&(be=!0,Ra(X,"Telemetry processor check returns false"))}catch(Ne){Ee(X,1,64,"One of telemetry initializers failed, telemetry item will not be sent: "+an(Ne),{exception:Je(Ne)},!0)}}),delete q[yn][Up]),!be)return me}o(j,"_getEnvelope");function ge(q){var X=ZF,se=H[Yn]();try{var me=ne(q,se),be=null;me&&(be=j(q,se)),be&&(X=c.serialize(be))}catch{}return X}o(ge,"_serialize");function le(q){var X=ZF;return q&&q[ht]&&(X="["+q.join(",")+"]"),X}o(le,"_batch");function $(q){var X=Ie();return{urlString:h,data:q,headers:X}}o($,"_createPayload");function re(q){return H._sample.isSampledIn(q)}o(re,"_isSampledIn");function xe(q,X,se,me){X===200&&q?H._onSuccess(q,q[ht]):me&&H[rc](q,me)}o(xe,"_getOnComplete");function ue(q,X,se,me){me===void 0&&(me=!0);var be=o(function(Ye,ut,Ce){return xe(X,Ye,ut,Ce)},"onComplete"),Te=de(X),Ne=q&&q.sendPOST;return Ne&&Te?(me&&H._buffer[Qd](X),Ne(Te,be,!se)):null}o(ue,"_doSend");function de(q){if(et(q)&&q[ht]>0){var X=H[$s].batchPayloads(q),se=Ie(),me={data:X,urlString:h,headers:se,disableXhrSync:v,disableFetchKeepAlive:!N,oriPayload:q};return me}return null}o(de,"_getPayload");function Ie(){try{var q=u||{};return Ex(h)&&(q[Tx[6]]=Tx[7]),q}catch{}return null}o(Ie,"_getHeaders");function we(q){var X=q?q[ht]:0;return H[$s].size()+X>b?((!m||m.isOnline())&&H[rm](!0,null,10),!0):!1}o(we,"_checkMaxSize");function ke(q,X,se,me,be,Te){var Ne=null;if(H._appId||(Ne=Lp(Te),Ne&&Ne.appId&&(H._appId=Ne.appId)),(q<200||q>=300)&&q!==0){if((q===301||q===307||q===308)&&!qe(se)){H[rc](X,be);return}if(m&&!m.isOnline()){if(!W){var Ye=10;O(X,Ye),Ee(H[Yn](),2,40,". Offline - Response Code: ".concat(q,". Offline status: ").concat(!m.isOnline(),". Will retry to send ").concat(X.length," items."))}return}!W&&Re(q)?(O(X),Ee(H[Yn](),2,40,". Response code "+q+". Will retry to send "+X[ht]+" items.")):H[rc](X,be)}else qe(se),q===206?(Ne||(Ne=Lp(Te)),Ne&&!W?H[Fx](X,Ne):H[rc](X,be)):(n=0,H[eg](X,me))}o(ke,"_checkResponsStatus");function qe(q){return f>=10?!1:!Oe(q)&&q!==""&&q!==h?(h=q,++f,!0):!1}o(qe,"_checkAndUpdateEndPointUrl");function Ke(q,X){if(p)p(q,!1);else{var se=L&&L[Qp]([3],!0);return ue(se,q,X)}}o(Ke,"_doUnloadSend");function tt(q,X,se){var me=q,be=me&&me.oriPayload;if(k)D&&D(be,!0),Ee(H[Yn](),2,40,". Failed to send telemetry with Beacon API, retried with normal sender.");else{for(var Te=[],Ne=0;Ne<be[ht];Ne++){var Ye=be[Ne],ut=[Ye],Ce=de(ut);se(Ce,X)?H._onSuccess(ut,ut[ht]):Te[es](Ye)}Te[ht]>0&&(D&&D(Te,!0),Ee(H[Yn](),2,40,". Failed to send telemetry with Beacon API, retried with normal sender."))}}o(tt,"_onBeaconRetry");function rt(q){try{if(q&&q[ht])return Yt(q[0])}catch{}return null}o(rt,"_isStringArr");function lt(q,X){var se=null;if(et(q)){for(var me=q[ht],be=0;be<q[ht];be++)me+=q[be].item[ht];var Te=L.getSyncFetchPayload();Te+me<=hse?se=2:$l()?se=3:(se=1,Ee(H[Yn](),2,40,". Failed to send telemetry with Beacon API, retried with xhrSender."));var Ne=L&&L[Qp]([se],!0);return ue(Ne,q,X)}return null}o(lt,"_fetchKeepAliveSender");function O(q,X){if(X===void 0&&(X=1),!(!q||q[ht]===0)){var se=H[$s];se[Fu](q),n++;for(var me=0,be=q;me<be.length;me++){var Te=be[me];Te.cnt=Te.cnt||0,Te.cnt++,se[Fa](Te)}Z(X),fe()}}o(O,"_resendPayload");function Z(q){var X=10,se;if(n<=1)se=X;else{var me=(Math.pow(2,n)-1)/2,be=va(Math.random()*me*X)+1;be=q*be,se=eu(DO(be,3600),X)}var Te=ho()+se*1e3;i=Te}o(Z,"_setRetryTime");function fe(){if(!l&&!a){var q=i?eu(0,i-ho()):0,X=eu(Y,q);l=xo(function(){l=null,H[rm](!0,null,1)},X)}}o(fe,"_setupTimer");function pe(){l&&l.cancel(),l=null,i=null}o(pe,"_clearScheduledTimer");function Re(q){return Oe(U)?q===401||q===408||q===429||q===500||q===502||q===503||q===504:U[ht]&&U.indexOf(q)>-1}o(Re,"_isRetriable");function Me(){var q="getNotifyMgr";return H.core[q]?H.core[q]():H.core._notificationManager}o(Me,"_getNotifyMgr");function $e(q,X){var se=Me();if(se&&se.eventsSendRequest)try{se.eventsSendRequest(q,X)}catch(me){Ee(H[Yn](),1,74,"send request notification failed: "+an(me),{exception:Je(me)})}}o($e,"_notifySendRequest");function We(q,X){var se=X.disableInstrumentationKeyValidation,me=Oe(se)?!1:se;if(me)return!0;var be="^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$",Te=new RegExp(be);return Te.test(q)}o(We,"_validateInstrumentationKey");function De(){H[nm]=null,H[$s]=null,H._appId=null,H._sample=null,u={},m=null,n=0,i=null,s=null,a=!1,l=null,c=null,f=0,d=0,p=null,g=null,h=null,_=null,b=0,x=!1,S=null,w=!1,z=null,V=k0,W=!1,R=null,G=k0,v=!1,N=!1,k=!1,T=null,D=null,L=null,dr(H,"_senderConfig",{g:o(function(){return Z4({},eM)},"g")})}o(De,"_initDefaults")}),r}return o(t,"Sender"),t.constructEnvelope=function(r,n,i,s){var a;n!==r.iKey&&!Oe(n)?a=Yo(Yo({},r),{iKey:n}):a=r;var l=_se[a.baseType]||Zv;return l(i,a,s)},t}(Op);var ju="instrumentationKey",tg="connectionString",am="endpointUrl",lm="userOverrideEndpointUrl";var cm,tT=void 0,yse=(cm={diagnosticLogInterval:qd(vse,1e4)},cm[tg]=tT,cm.endpointUrl=tT,cm[ju]=tT,cm.extensionConfig={},cm);function vse(e){return e&&e>0}o(vse,"_chkDiagLevel");var tM=function(){function e(t){var r=new Iv,n;(Oe(t)||Oe(t[ju])&&Oe(t[tg]))&&zi("Invalid input configuration"),Tr(e,this,function(s){dr(s,"config",{g:o(function(){return n},"g")}),a(),s.initialize=a,s.track=i,pu(s,r,["flush","pollInternalLogs","stopPollingInternalLogs","unload","getPlugin","addPlugin","evtNamespace","addUnloadCb","onCfgChange","getTraceCtx","updateCfg","addTelemetryInitializer"]);function a(){var l=bn(t||{},yse);n=l.cfg,r.addUnloadHook(Xo(l,function(){var c=n[tg];if(fo(c)){var f=xp(function(m,g){vo(c,function(h){var _=h.value,b=n[ju];if(!h.rejected&&_){n[tg]=_;var x=Hp(_);b=x.instrumentationkey||b}m(b)})}),u=xp(function(m,g){vo(c,function(h){var _=h.value,b=n[am];if(!h.rejected&&_){var x=Hp(_),y=x.ingestionendpoint;b=y?y+R0:b}m(b)})});n[ju]=f,n[am]=n[lm]||u}if(Yt(c)){var d=Hp(c),p=d.ingestionendpoint;n[am]=n[lm]?n[lm]:p+R0,n[ju]=d.instrumentationkey||n[ju]}n[am]=n[lm]?n[lm]:n[am]})),r.initialize(n,[new eT])}o(a,"_initialize")});function i(s){s&&(s.baseData=s.baseData||{},s.baseType=s.baseType||"EventData"),r.track(s)}o(i,"_track")}return o(e,"ApplicationInsights"),e.__ieDyn=1,e}();var Eo=Tt(Pc());var um=class{constructor(t,r,n,i,s=!1){this.ctx=t;this.namespace=r;this.includeAuthorizationHeader=s;this.onCopilotToken=o(t=>{this.token=t;let r=t.getTokenValue("tid");r!==void 0&&(this.tags["ai.user.id"]=r)},"onCopilotToken");this.xhrOverride={sendPOST:o((t,r)=>{if(typeof t.data!="string")throw new Error(`AppInsightsReporter only supports string payloads, received ${typeof t.data}`);let n=t.headers??{};n["Content-Type"]="application/json",this.includeAuthorizationHeader&&this.token&&(n.Authorization=`Bearer ${this.token.token}`);let i={method:"POST",headers:n,body:t.data};this.ctx.get(Bn).fetch(t.urlString,i).then(s=>s.text().then(a=>{r(s.status,Object.fromEntries(s.headers),a)})).catch(s=>{Lt.debug(this.ctx,"Error sending telemetry",s),r(0,{})})},"sendPOST")};this.client=new tM({instrumentationKey:i,disableAjaxTracking:!0,disableExceptionTracking:!0,disableFetchTracking:!0,disableCorrelationHeaders:!0,disableCookiesUsage:!0,autoTrackPageVisitTime:!1,emitLineDelimitedJson:!1,disableInstrumentationKeyValidation:!0,endpointUrl:n,extensionConfig:{[Rx]:{alwaysUseXhrOverride:!0,httpXHROverride:this.xhrOverride}}}),this.tags=Tse(t),this.commonProperties=Ise(t),this.#e=Vr(t,this.onCopilotToken)}static{o(this,"AppInsightsReporter")}#e;sendTelemetryEvent(t,r,n){r={...r,...this.commonProperties};let i=this.qualifyEventName(t);this.client.track({name:i,tags:this.tags,data:{...r,...n},baseType:"EventData",baseData:{name:i,properties:r,measurements:n}})}sendTelemetryErrorEvent(t,r,n){this.sendTelemetryEvent(this.qualifyEventName(t),r,n)}async dispose(){this.#e.dispose(),await this.client.unload(!0,void 0,200)}qualifyEventName(t){return t.startsWith(this.namespace)?t:`${this.namespace}/${t}`}};function Tse(e){let t={},r=e.get(cn);t["ai.session.id"]=r.sessionId;let n=e.get(Mi);return n.trackingId&&(t["ai.user.id"]=n.trackingId),t["ai.cloud.roleInstance"]="REDACTED",t["ai.device.osVersion"]=`${Eo.type()} ${Eo.release()}`,t["ai.device.osArchitecture"]=Eo.arch(),t["ai.device.osPlatform"]=Eo.platform(),t["ai.cloud.role"]="Web",t["ai.application.ver"]=e.get(In).getVersion(),t}o(Tse,"getTags");function Ise(e){let t={};t.common_os=Eo.platform(),t.common_platformversion=Eo.release(),t.common_arch=Eo.arch(),t.common_cpu=Array.from(new Set(Eo.cpus().map(n=>n.model))).join();let r=e.get(cn);return t.common_vscodemachineid=r.machineId,t.common_vscodesessionid=r.sessionId,t.common_uikind=r.uiKind,t.common_remotename=r.remoteName,t.common_isnewappinstall="",t}o(Ise,"getCommonProperties");var Ese="7d7048df-6dd0-4048-bb23-b716c1461f8f",Cse="3fdd7f28-937a-48c8-9a21-ba337db23bd1",Sse="f0000000-0000-0000-0000-000000000000";function rM(e){return new URL(e).hostname==="github.com"?Km.telemetry:e.replace("://","://copilot-telemetry-service.")}o(rM,"getEndpointForServerUrl");var O0=class{constructor(t,r){this.ctx=t;this.namespace=r;this.serverUrl="https://github.com/";this.rootUrl=rM(this.serverUrl);this.shuttingDown=new Set;Vr(t,n=>this.updateServiceEndpoints(n.endpoints))}static{o(this,"TelemetryInitialization")}get endpointUrl(){return this.overrideEndpointUrlForTesting||new URL("telemetry",this.rootUrl).href}get isInitialized(){return this.initializedWith!==void 0}get isEnabled(){return this._enabled??!1}initialize(t){let r=this.ctx;this._enabled=t;let n=this.endpointUrl;if(!(this.initializedWith?.enabled===this._enabled&&this.initializedWith?.endpointUrl===this.endpointUrl)&&(this.shutdownWithoutWaiting(),this.initializedWith={endpointUrl:n,enabled:this._enabled},t)){let i=r.get(ks);i.setReporter(new um(r,this.namespace,n,Ese)),i.setRestrictedReporter(new um(r,this.namespace,n,Cse)),i.setFTReporter(new um(r,this.namespace,n,Sse,!0))}}async shutdown(){this.shutdownWithoutWaiting(),await Promise.all(this.shuttingDown)}shutdownWithoutWaiting(){this.initializedWith=void 0;let t=this.ctx.get(ks).deactivate().finally(()=>{this.shuttingDown.delete(t)});this.shuttingDown.add(t)}updateSessionConfig(t){t?.serverUrl&&t.serverUrl!==this.serverUrl&&(this.serverUrl=t.serverUrl,this.rootUrl=rM(t.serverUrl)),this.isInitialized&&this.initialize(this._enabled)}updateServiceEndpoints(t){this.rootUrl=t.telemetry,this.isInitialized&&this.initialize(this._enabled)}};var Lr=class{static{o(this,"StatusReporter")}#e=0;#t="Normal";#i;#r;#n=!0;get busy(){return this.#e>0}withProgress(t){return this.#t==="Warning"&&this.forceNormal(),this.#e++===0&&this.#o(),t().finally(()=>{--this.#e===0&&this.#o()})}forceStatus(t,r,n){this.#t===t&&this.#i===r&&!n&&!this.#r&&!this.#n||(this.#t=t,this.#i=r,this.#r=n,this.#n=!1,this.#o())}forceNormal(){this.#t!=="Inactive"&&this.forceStatus("Normal")}setError(t,r){this.forceStatus("Error",t,r)}setWarning(t){this.#t!=="Error"&&this.forceStatus("Warning",t)}setInactive(t){this.#t==="Error"||this.#t==="Warning"||this.forceStatus("Inactive",t)}clearInactive(){this.#t==="Inactive"&&this.forceStatus("Normal")}#o(){let t={kind:this.#t,message:this.#i,busy:this.busy,command:this.#r};this.didChange(t)}};var Mr=class{constructor(t=!1){this.primed=t}static{o(this,"CopilotTokenManager")}primeToken(){this.primed=!0;try{return this.getToken().then(()=>!0,()=>!1)}catch{return Promise.resolve(!1)}}},ts=class extends Ya{constructor(r){super(r.message??"");this.result=r}static{o(this,"TokenResultError")}},$x=class extends Mr{constructor(r,n=!1){super(n);this.ctx=r;this.token=void 0;this.tokenPromise=void 0}static{o(this,"CopilotTokenManagerFromGitHubSession")}async fetchCopilotToken(){let r=await this.getGitHubSession();if(!r)throw new ts({reason:"NotSignedIn"});if(!r.accessToken)throw new ts({reason:"HTTP401"});let n=await fO(this.ctx,r);if(n.kind==="failure"){if(n.message)throw new ts(n);let i=new Error(`Unexpected error getting Copilot token: ${n.reason}`);throw i.code=`CopilotToken.${n.reason}`,i}return n.copilotToken}async getToken(){if(!this.primed){let r=new Error("Token requested before initialization");if(rR(this.ctx))throw r;ha.exception(this.ctx,r,".getToken")}if(!this.tokenPromise&&(!this.token||this.token?.needsRefresh())){let r=this.fetchCopilotToken().then(n=>this.tokenPromise!==r?n:(this.token=n,this.tokenPromise=void 0,this.ctx.get(Lr).forceNormal(),this.token),n=>{if(this.tokenPromise!==r)throw n;this.tokenPromise=void 0;let i=this.ctx.get(Lr);if(n instanceof ts)switch(n.result.reason){case"NotSignedIn":i.setError("You are not signed into GitHub.",{command:"github.copilot.signIn",title:"Sign In"});break;case"HTTP401":i.setError("Your GitHub token is invalid. Try signing in again.");break;case"NotAuthorized":i.setError(n.message||"No access to Copilot found.");break}else i.setWarning(String(n));throw n});this.tokenPromise=r}return this.token&&!this.token.isExpired()?this.token:await this.tokenPromise}resetToken(r){r!==void 0?(Se(this.ctx,"auth.reset_token_"+r),ha.debug(this.ctx,`Resetting copilot token on HTTP error ${r}`)):ha.debug(this.ctx,"Resetting copilot token"),this.token=void 0,this.tokenPromise=void 0}};var ic=class{static{o(this,"CitationManager")}};var wse={didChangeFeatureFlags:!1,fetch:!1,ipCodeCitation:!1,redirectedTelemetry:!1,related:!1,token:!1,watchedFiles:!1,showPanelMessage:!1},rg=class{constructor(){this.capabilities={...wse}}static{o(this,"CopilotCapabilitiesProvider")}setCapabilities(t){let r;for(r in t){let n=t[r];n!==void 0&&(this.capabilities[r]=n)}}getCapabilities(){return this.capabilities}};function rT(e,t){let r=fm(e,t);return r===-1?void 0:e[r]}o(rT,"findLastMonotonous");function fm(e,t,r=0,n=e.length){let i=r,s=n;for(;i<s;){let a=Math.floor((i+s)/2);t(e[a])?i=a+1:s=a}return i-1}o(fm,"findLastIdxMonotonous");function qx(e,t,r=0,n=e.length){let i=r,s=n;for(;i<s;){let a=Math.floor((i+s)/2);t(e[a])?s=a:i=a+1}return i}o(qx,"findFirstIdxMonotonousOrArrLen");var nM=class e{constructor(t){this._array=t;this._findLastMonotonousLastIdx=0}static{o(this,"MonotonousArray")}static{this.assertInvariants=!1}findLastMonotonous(t){if(e.assertInvariants){if(this._prevFindLastPredicate){for(let n of this._array)if(this._prevFindLastPredicate(n)&&!t(n))throw new Error("MonotonousArray: current predicate must be weaker than (or equal to) the previous predicate.")}this._prevFindLastPredicate=t}let r=fm(this._array,t,this._findLastMonotonousLastIdx);return this._findLastMonotonousLastIdx=r+1,r===-1?void 0:this._array[r]}};var nT=class{static{o(this,"ErrorHandler")}constructor(){this.listeners=[],this.unexpectedErrorHandler=function(t){setTimeout(()=>{throw t.stack?Wx.isErrorNoTelemetry(t)?new Wx(t.message+`

`+t.stack):new Error(t.message+`

`+t.stack):t},0)}}addListener(t){return this.listeners.push(t),()=>{this._removeListener(t)}}emit(t){this.listeners.forEach(r=>{r(t)})}_removeListener(t){this.listeners.splice(this.listeners.indexOf(t),1)}setUnexpectedErrorHandler(t){this.unexpectedErrorHandler=t}getUnexpectedErrorHandler(){return this.unexpectedErrorHandler}onUnexpectedError(t){this.unexpectedErrorHandler(t),this.emit(t)}onUnexpectedExternalError(t){this.unexpectedErrorHandler(t)}},iM=new nT;function $u(e){iM.onUnexpectedError(e)}o($u,"onBugIndicatingError");function mm(e){Pse(e)||iM.onUnexpectedError(e)}o(mm,"onUnexpectedError");var iT="Canceled";function Pse(e){return e instanceof dm?!0:e instanceof Error&&e.name===iT&&e.message===iT}o(Pse,"isCancellationError");var dm=class extends Error{static{o(this,"CancellationError")}constructor(){super(iT),this.name=this.message}};var Wx=class e extends Error{static{o(this,"ErrorNoTelemetry")}constructor(t){super(t),this.name="CodeExpectedError"}static fromError(t){if(t instanceof e)return t;let r=new e;return r.message=t.message,r.stack=t.stack,r}static isErrorNoTelemetry(t){return t.name==="CodeExpectedError"}},wn=class e extends Error{static{o(this,"BugIndicatingError")}constructor(t){super(t||"An unexpected bug occurred."),Object.setPrototypeOf(this,e.prototype)}};var sM;(l=>{function e(c){return c<0}l.isLessThan=e,o(e,"isLessThan");function t(c){return c<=0}l.isLessThanOrEqual=t,o(t,"isLessThanOrEqual");function r(c){return c>0}l.isGreaterThan=r,o(r,"isGreaterThan");function n(c){return c===0}l.isNeitherLessOrGreaterThan=n,o(n,"isNeitherLessOrGreaterThan"),l.greaterThan=1,l.lessThan=-1,l.neitherLessOrGreaterThan=0})(sM||={});function aM(e,t){return(r,n)=>t(e(r),e(n))}o(aM,"compareBy");var lM=o((e,t)=>e-t,"numberComparator");var oM=class e{constructor(t){this.iterate=t}static{o(this,"CallbackIterable")}static{this.empty=new e(t=>{})}forEach(t){this.iterate(r=>(t(r),!0))}toArray(){let t=[];return this.iterate(r=>(t.push(r),!0)),t}filter(t){return new e(r=>this.iterate(n=>t(n)?r(n):!0))}map(t){return new e(r=>this.iterate(n=>r(t(n))))}some(t){let r=!1;return this.iterate(n=>(r=t(n),!r)),r}findFirst(t){let r;return this.iterate(n=>t(n)?(r=n,!1):!0),r}findLast(t){let r;return this.iterate(n=>(t(n)&&(r=n),!0)),r}findLastMaxBy(t){let r,n=!0;return this.iterate(i=>((n||sM.isGreaterThan(t(i,r)))&&(n=!1,r=i),!0)),r}};function dM(e,t){let r=Object.create(null);for(let n of e){let i=t(n),s=r[i];s||(s=r[i]=[]),s.push(n)}return r}o(dM,"groupBy");var uM,fM,cM=class{constructor(t,r){this.toKey=r;this._map=new Map;this[uM]="SetWithKey";for(let n of t)this.add(n)}static{o(this,"SetWithKey")}get size(){return this._map.size}add(t){let r=this.toKey(t);return this._map.set(r,t),this}delete(t){return this._map.delete(this.toKey(t))}has(t){return this._map.has(this.toKey(t))}*entries(){for(let t of this._map.values())yield[t,t]}keys(){return this.values()}*values(){for(let t of this._map.values())yield t}clear(){this._map.clear()}forEach(t,r){this._map.forEach(n=>t.call(r,n,n,this))}[(fM=Symbol.iterator,uM=Symbol.toStringTag,fM)](){return this.values()}};function oT(e,t){let r=this,n=!1,i;return function(){if(n)return i;if(n=!0,t)try{i=e.apply(r,arguments)}finally{t()}else i=e.apply(r,arguments);return i}}o(oT,"createSingleCallFunction");var sT;(y=>{function e(E){return E&&typeof E=="object"&&typeof E[Symbol.iterator]=="function"}y.is=e,o(e,"is");let t=Object.freeze([]);function r(){return t}y.empty=r,o(r,"empty");function*n(E){yield E}y.single=n,o(n,"single");function i(E){return e(E)?E:n(E)}y.wrap=i,o(i,"wrap");function s(E){return E||t}y.from=s,o(s,"from");function*a(E){for(let S=E.length-1;S>=0;S--)yield E[S]}y.reverse=a,o(a,"reverse");function l(E){return!E||E[Symbol.iterator]().next().done===!0}y.isEmpty=l,o(l,"isEmpty");function c(E){return E[Symbol.iterator]().next().value}y.first=c,o(c,"first");function f(E,S){let w=0;for(let z of E)if(S(z,w++))return!0;return!1}y.some=f,o(f,"some");function u(E,S){for(let w of E)if(S(w))return w}y.find=u,o(u,"find");function*d(E,S){for(let w of E)S(w)&&(yield w)}y.filter=d,o(d,"filter");function*p(E,S){let w=0;for(let z of E)yield S(z,w++)}y.map=p,o(p,"map");function*m(E,S){let w=0;for(let z of E)yield*S(z,w++)}y.flatMap=m,o(m,"flatMap");function*g(...E){for(let S of E)yield*S}y.concat=g,o(g,"concat");function h(E,S,w){let z=w;for(let V of E)z=S(z,V);return z}y.reduce=h,o(h,"reduce");function*_(E,S,w=E.length){for(S<-E.length&&(S=0),S<0&&(S+=E.length),w<0?w+=E.length:w>E.length&&(w=E.length);S<w;S++)yield E[S]}y.slice=_,o(_,"slice");function b(E,S=Number.POSITIVE_INFINITY){let w=[];if(S===0)return[w,E];let z=E[Symbol.iterator]();for(let V=0;V<S;V++){let W=z.next();if(W.done)return[w,y.empty()];w.push(W.value)}return[w,{[Symbol.iterator](){return z}}]}y.consume=b,o(b,"consume");async function x(E){let S=[];for await(let w of E)S.push(w);return Promise.resolve(S)}y.asyncToArray=x,o(x,"asyncToArray")})(sT||={});var aT=class{constructor(t,r){this.uri=t;this.value=r}static{o(this,"ResourceMapEntry")}};function Rse(e){return Array.isArray(e)}o(Rse,"isEntries");var gM,Gx=class e{constructor(t,r){this[gM]="ResourceMap";if(t instanceof e)this.map=new Map(t.map),this.toKey=r??e.defaultToKey;else if(Rse(t)){this.map=new Map,this.toKey=r??e.defaultToKey;for(let[n,i]of t)this.set(n,i)}else this.map=new Map,this.toKey=t??e.defaultToKey}static{o(this,"ResourceMap")}static{this.defaultToKey=o(t=>t.toString(),"defaultToKey")}set(t,r){return this.map.set(this.toKey(t),new aT(t,r)),this}get(t){return this.map.get(this.toKey(t))?.value}has(t){return this.map.has(this.toKey(t))}get size(){return this.map.size}clear(){this.map.clear()}delete(t){return this.map.delete(this.toKey(t))}forEach(t,r){typeof r<"u"&&(t=t.bind(r));for(let[n,i]of this.map)t(i.value,i.uri,this)}*values(){for(let t of this.map.values())yield t.value}*keys(){for(let t of this.map.values())yield t.uri}*entries(){for(let t of this.map.values())yield[t.uri,t.value]}*[(gM=Symbol.toStringTag,Symbol.iterator)](){for(let[,t]of this.map)yield[t.uri,t.value]}},hM,mM=class{constructor(t,r){this[hM]="ResourceSet";!t||typeof t=="function"?this._map=new Gx(t):(this._map=new Gx(r),t.forEach(this.add,this))}static{o(this,"ResourceSet")}get size(){return this._map.size}add(t){return this._map.set(t,t),this}clear(){this._map.clear()}delete(t){return this._map.delete(t)}forEach(t,r){this._map.forEach((n,i)=>t.call(r,i,i,this))}has(t){return this._map.has(t)}entries(){return this._map.entries()}keys(){return this._map.keys()}values(){return this._map.keys()}[(hM=Symbol.toStringTag,Symbol.iterator)](){return this.keys()}};var xM,pM=class{constructor(){this[xM]="LinkedMap";this._map=new Map,this._head=void 0,this._tail=void 0,this._size=0,this._state=0}static{o(this,"LinkedMap")}clear(){this._map.clear(),this._head=void 0,this._tail=void 0,this._size=0,this._state++}isEmpty(){return!this._head&&!this._tail}get size(){return this._size}get first(){return this._head?.value}get last(){return this._tail?.value}has(t){return this._map.has(t)}get(t,r=0){let n=this._map.get(t);if(n)return r!==0&&this.touch(n,r),n.value}set(t,r,n=0){let i=this._map.get(t);if(i)i.value=r,n!==0&&this.touch(i,n);else{switch(i={key:t,value:r,next:void 0,previous:void 0},n){case 0:this.addItemLast(i);break;case 1:this.addItemFirst(i);break;case 2:this.addItemLast(i);break;default:this.addItemLast(i);break}this._map.set(t,i),this._size++}return this}delete(t){return!!this.remove(t)}remove(t){let r=this._map.get(t);if(r)return this._map.delete(t),this.removeItem(r),this._size--,r.value}shift(){if(!this._head&&!this._tail)return;if(!this._head||!this._tail)throw new Error("Invalid list");let t=this._head;return this._map.delete(t.key),this.removeItem(t),this._size--,t.value}forEach(t,r){let n=this._state,i=this._head;for(;i;){if(r?t.bind(r)(i.value,i.key,this):t(i.value,i.key,this),this._state!==n)throw new Error("LinkedMap got modified during iteration.");i=i.next}}keys(){let t=this,r=this._state,n=this._head,i={[Symbol.iterator](){return i},next(){if(t._state!==r)throw new Error("LinkedMap got modified during iteration.");if(n){let s={value:n.key,done:!1};return n=n.next,s}else return{value:void 0,done:!0}}};return i}values(){let t=this,r=this._state,n=this._head,i={[Symbol.iterator](){return i},next(){if(t._state!==r)throw new Error("LinkedMap got modified during iteration.");if(n){let s={value:n.value,done:!1};return n=n.next,s}else return{value:void 0,done:!0}}};return i}entries(){let t=this,r=this._state,n=this._head,i={[Symbol.iterator](){return i},next(){if(t._state!==r)throw new Error("LinkedMap got modified during iteration.");if(n){let s={value:[n.key,n.value],done:!1};return n=n.next,s}else return{value:void 0,done:!0}}};return i}[(xM=Symbol.toStringTag,Symbol.iterator)](){return this.entries()}trimOld(t){if(t>=this.size)return;if(t===0){this.clear();return}let r=this._head,n=this.size;for(;r&&n>t;)this._map.delete(r.key),r=r.next,n--;this._head=r,this._size=n,r&&(r.previous=void 0),this._state++}trimNew(t){if(t>=this.size)return;if(t===0){this.clear();return}let r=this._tail,n=this.size;for(;r&&n>t;)this._map.delete(r.key),r=r.previous,n--;this._tail=r,this._size=n,r&&(r.next=void 0),this._state++}addItemFirst(t){if(!this._head&&!this._tail)this._tail=t;else if(this._head)t.next=this._head,this._head.previous=t;else throw new Error("Invalid list");this._head=t,this._state++}addItemLast(t){if(!this._head&&!this._tail)this._head=t;else if(this._tail)t.previous=this._tail,this._tail.next=t;else throw new Error("Invalid list");this._tail=t,this._state++}removeItem(t){if(t===this._head&&t===this._tail)this._head=void 0,this._tail=void 0;else if(t===this._head){if(!t.next)throw new Error("Invalid list");t.next.previous=void 0,this._head=t.next}else if(t===this._tail){if(!t.previous)throw new Error("Invalid list");t.previous.next=void 0,this._tail=t.previous}else{let r=t.next,n=t.previous;if(!r||!n)throw new Error("Invalid list");r.previous=n,n.next=r}t.next=void 0,t.previous=void 0,this._state++}touch(t,r){if(!this._head||!this._tail)throw new Error("Invalid list");if(!(r!==1&&r!==2)){if(r===1){if(t===this._head)return;let n=t.next,i=t.previous;t===this._tail?(i.next=void 0,this._tail=i):(n.previous=i,i.next=n),t.previous=void 0,t.next=this._head,this._head.previous=t,this._head=t,this._state++}else if(r===2){if(t===this._tail)return;let n=t.next,i=t.previous;t===this._head?(n.previous=void 0,this._head=n):(n.previous=i,i.next=n),t.next=void 0,t.previous=this._tail,this._tail.next=t,this._tail=t,this._state++}}}toJSON(){let t=[];return this.forEach((r,n)=>{t.push([n,r])}),t}fromJSON(t){this.clear();for(let[r,n]of t)this.set(r,n)}};var zx=class{constructor(){this.map=new Map}static{o(this,"SetMap")}add(t,r){let n=this.map.get(t);n||(n=new Set,this.map.set(t,n)),n.add(r)}delete(t,r){let n=this.map.get(t);n&&(n.delete(r),n.size===0&&this.map.delete(t))}forEach(t,r){let n=this.map.get(t);n&&n.forEach(r)}get(t){let r=this.map.get(t);return r||new Set}};var Nse=!1,pm=null;var bM=class e{constructor(){this.livingDisposables=new Map}static{o(this,"DisposableTracker")}static{this.idx=0}getDisposableData(t){let r=this.livingDisposables.get(t);return r||(r={parent:null,source:null,isSingleton:!1,value:t,idx:e.idx++},this.livingDisposables.set(t,r)),r}trackDisposable(t){let r=this.getDisposableData(t);r.source||(r.source=new Error().stack)}setParent(t,r){let n=this.getDisposableData(t);n.parent=r}markAsDisposed(t){this.livingDisposables.delete(t)}markAsSingleton(t){this.getDisposableData(t).isSingleton=!0}getRootParent(t,r){let n=r.get(t);if(n)return n;let i=t.parent?this.getRootParent(this.getDisposableData(t.parent),r):t;return r.set(t,i),i}getTrackedDisposables(){let t=new Map;return[...this.livingDisposables.entries()].filter(([,n])=>n.source!==null&&!this.getRootParent(n,t).isSingleton).flatMap(([n])=>n)}computeLeakingDisposables(t=10,r){let n;if(r)n=r;else{let c=new Map,f=[...this.livingDisposables.values()].filter(d=>d.source!==null&&!this.getRootParent(d,c).isSingleton);if(f.length===0)return;let u=new Set(f.map(d=>d.value));if(n=f.filter(d=>!(d.parent&&u.has(d.parent))),n.length===0)throw new Error("There are cyclic diposable chains!")}if(!n)return;function i(c){function f(d,p){for(;d.length>0&&p.some(m=>typeof m=="string"?m===d[0]:d[0].match(m));)d.shift()}o(f,"removePrefix");let u=c.source.split(`
`).map(d=>d.trim().replace("at ","")).filter(d=>d!=="");return f(u,["Error",/^trackDisposable \(.*\)$/,/^DisposableTracker.trackDisposable \(.*\)$/]),u.reverse()}o(i,"getStackTracePath");let s=new zx;for(let c of n){let f=i(c);for(let u=0;u<=f.length;u++)s.add(f.slice(0,u).join(`
`),c)}n.sort(aM(c=>c.idx,lM));let a="",l=0;for(let c of n.slice(0,t)){l++;let f=i(c),u=[];for(let d=0;d<f.length;d++){let p=f[d];p=`(shared with ${s.get(f.slice(0,d+1).join(`
`)).size}/${n.length} leaks) at ${p}`;let g=s.get(f.slice(0,d).join(`
`)),h=dM([...g].map(_=>i(_)[d]),_=>_);delete h[f[d]];for(let[_,b]of Object.entries(h))u.unshift(`    - stacktraces of ${b.length} other leaks continue with ${_}`);u.unshift(p)}a+=`


==================== Leaking disposable ${l}/${n.length}: ${c.value.constructor.name} ====================
${u.join(`
`)}
============================================================

`}return n.length>t&&(a+=`


... and ${n.length-t} more leaking disposables

`),{leaks:n,details:a}}};function Ase(e){pm=e}o(Ase,"setDisposableTracker");if(Nse){let e="__is_disposable_tracked__";Ase(new class{trackDisposable(t){let r=new Error("Potentially leaked disposable").stack;setTimeout(()=>{t[e]||console.log(r)},3e3)}setParent(t,r){if(t&&t!==Co.None)try{t[e]=!0}catch{}}markAsDisposed(t){if(t&&t!==Co.None)try{t[e]=!0}catch{}}markAsSingleton(t){}})}function gm(e){return pm?.trackDisposable(e),e}o(gm,"trackDisposable");function hm(e){pm?.markAsDisposed(e)}o(hm,"markAsDisposed");function lT(e,t){pm?.setParent(e,t)}o(lT,"setParentOfDisposable");function kse(e,t){if(pm)for(let r of e)pm.setParent(r,t)}o(kse,"setParentOfDisposables");function _M(e){if(sT.is(e)){let t=[];for(let r of e)if(r)try{r.dispose()}catch(n){t.push(n)}if(t.length===1)throw t[0];if(t.length>1)throw new AggregateError(t,"Encountered errors while disposing of store");return Array.isArray(e)?[]:e}else if(e)return e.dispose(),e}o(_M,"dispose");function yM(...e){let t=ja(()=>_M(e));return kse(e,t),t}o(yM,"combinedDisposable");function ja(e){let t=gm({dispose:oT(()=>{hm(t),e()})});return t}o(ja,"toDisposable");var L0=class e{constructor(){this._toDispose=new Set;this._isDisposed=!1;gm(this)}static{o(this,"DisposableStore")}static{this.DISABLE_DISPOSED_WARNING=!1}dispose(){this._isDisposed||(hm(this),this._isDisposed=!0,this.clear())}get isDisposed(){return this._isDisposed}clear(){if(this._toDispose.size!==0)try{_M(this._toDispose)}finally{this._toDispose.clear()}}add(t){if(!t)return t;if(t===this)throw new Error("Cannot register a disposable on itself!");return lT(t,this),this._isDisposed?e.DISABLE_DISPOSED_WARNING||console.warn(new Error("Trying to add a disposable to a DisposableStore that has already been disposed of. The added object will be leaked!").stack):this._toDispose.add(t),t}delete(t){if(t){if(t===this)throw new Error("Cannot dispose a disposable on itself!");this._toDispose.delete(t),t.dispose()}}deleteAndLeak(t){t&&this._toDispose.has(t)&&(this._toDispose.delete(t),lT(t,null))}},Co=class{constructor(){this._store=new L0;gm(this),lT(this._store,this)}static{o(this,"Disposable")}static{this.None=Object.freeze({dispose(){}})}dispose(){hm(this),this._store.dispose()}_register(t){if(t===this)throw new Error("Cannot register a disposable on itself!");return this._store.add(t)}};var ng=class extends Co{static{o(this,"ChatQuotaService")}constructor(t){super(),this._register(Vr(t,r=>{this.processUserInfoQuotaSnapshot(r.userInfo?.raw)}))}get quotaExhausted(){return this._quotaInfo?this._quotaInfo.used>=this._quotaInfo.quota&&!this._quotaInfo.overageEnabled:!1}get overagesEnabled(){return this._quotaInfo?this._quotaInfo.overageEnabled:!1}clearQuota(){this._quotaInfo=void 0}processQuotaHeaders(t){let r=t.get("x-quota-snapshot-premium_models")||t.get("x-quota-snapshot-premium_interactions");if(r)try{let n=new URLSearchParams(r),i=parseInt(n.get("ent")||"0",10),s=parseFloat(n.get("ov")||"0.0"),a=n.get("ovPerm")==="true",l=parseFloat(n.get("rem")||"0.0"),c=n.get("rst"),f;c?f=new Date(c):(f=new Date,f.setMonth(f.getMonth()+1));let u=Math.max(0,i*(1-l/100));this._quotaInfo={quota:i,used:u,overageUsed:s,overageEnabled:a,resetDate:f}}catch(n){console.error("Failed to parse quota header",n)}}processUserInfoQuotaSnapshot(t){!t||!t.quota_snapshots||!t.quota_reset_date||(this._quotaInfo={overageEnabled:t.quota_snapshots.premium_interactions.overage_permitted,overageUsed:t.quota_snapshots.premium_interactions.overage_count,quota:t.quota_snapshots.premium_interactions.entitlement,resetDate:new Date(t.quota_reset_date),used:Math.max(0,t.quota_snapshots.premium_interactions.entitlement*(1-t.quota_snapshots.premium_interactions.percent_remaining/100))})}};var vM=Tt(R1());var Hx="CompletionRequested",qu=class{constructor(t){this.ctx=t}static{o(this,"CompletionNotifier")}#e=new vM.default;notifyRequest(t,r,n,i,s){return this.#e.emit(Hx,{completionId:r,completionState:t,telemetryData:n,cancellationToken:i,options:s})}onRequest(t){let r=pa(this.ctx,t,`event.${Hx}`);return this.#e.on(Hx,r),Kt.Disposable.create(()=>this.#e.off(Hx,r))}};var cT=class extends Error{constructor(r){super(`No instance of ${r.name} has been registered`);this.ctor=r;this.name="UnregisteredContextError",this.code=r.name}static{o(this,"UnregisteredContextError")}},Vx=class{constructor(){this.instances=new Map}static{o(this,"Context")}get(t){let r=this.tryGet(t);if(r)return r;throw new cT(t)}tryGet(t){let r=this.instances.get(t);if(r)return r}set(t,r){if(this.tryGet(t))throw new Error(`An instance of ${t.name} has already been registered. Use forceSet() if you're sure it's a good idea.`);this.assertIsInstance(t,r),this.instances.set(t,r)}forceSet(t,r){this.assertIsInstance(t,r),this.instances.set(t,r)}assertIsInstance(t,r){if(!(r instanceof t)){let n=JSON.stringify(r);throw new Error(`The instance you're trying to register for ${t.name} is not an instance of it (${n}).`)}}};var ig={abap:{extensions:[".abap"]},aspdotnet:{extensions:[".asax",".ascx",".ashx",".asmx",".aspx",".axd"]},bat:{extensions:[".bat",".cmd"]},bibtex:{extensions:[".bib",".bibtex"]},blade:{extensions:[".blade",".blade.php"]},BluespecSystemVerilog:{extensions:[".bsv"]},c:{extensions:[".c",".cats",".h",".h.in",".idc"]},csharp:{extensions:[".cake",".cs",".cs.pp",".csx",".linq"]},cpp:{extensions:[".c++",".cc",".cp",".cpp",".cppm",".cxx",".h",".h++",".hh",".hpp",".hxx",".idl",".inc",".inl",".ino",".ipp",".ixx",".rc",".re",".tcc",".tpp",".txx",".i"]},cobol:{extensions:[".cbl",".ccp",".cob",".cobol",".cpy"]},css:{extensions:[".css",".wxss"]},clojure:{extensions:[".bb",".boot",".cl2",".clj",".cljc",".cljs",".cljs.hl",".cljscm",".cljx",".edn",".hic"],filenames:["riemann.config"]},ql:{extensions:[".ql",".qll"]},coffeescript:{extensions:["._coffee",".cake",".cjsx",".coffee",".iced"],filenames:["Cakefile"]},cuda:{extensions:[".cu",".cuh"]},dart:{extensions:[".dart"]},dockerfile:{extensions:[".containerfile",".dockerfile"],filenames:["Containerfile","Dockerfile"]},dotenv:{extensions:[".env"],filenames:[".env",".env.ci",".env.dev",".env.development",".env.development.local",".env.example",".env.local",".env.prod",".env.production",".env.sample",".env.staging",".env.test",".env.testing"]},html:{extensions:[".ect",".ejs",".ejs.t",".jst",".hta",".htm",".html",".html.hl",".html5",".inc",".jsp",".njk",".tpl",".twig",".wxml",".xht",".xhtml",".phtml",".liquid"]},elixir:{extensions:[".ex",".exs"],filenames:["mix.lock"]},erlang:{extensions:[".app",".app.src",".erl",".es",".escript",".hrl",".xrl",".yrl"],filenames:["Emakefile","rebar.config","rebar.config.lock","rebar.lock"]},fsharp:{extensions:[".fs",".fsi",".fsx"]},go:{extensions:[".go"]},groovy:{extensions:[".gradle",".groovy",".grt",".gtpl",".gvy",".jenkinsfile"],filenames:["Jenkinsfile","Jenkinsfile"]},graphql:{extensions:[".gql",".graphql",".graphqls"]},terraform:{extensions:[".hcl",".nomad",".tf",".tfvars",".workflow"]},hlsl:{extensions:[".cginc",".fx",".fxh",".hlsl",".hlsli"]},erb:{extensions:[".erb",".erb.deface",".rhtml"]},razor:{extensions:[".cshtml",".razor"]},haml:{extensions:[".haml",".haml.deface"]},handlebars:{extensions:[".handlebars",".hbs"]},haskell:{extensions:[".hs",".hs-boot",".hsc"]},ini:{extensions:[".cfg",".cnf",".dof",".ini",".lektorproject",".prefs",".pro",".properties",".url"],filenames:[".buckconfig",".coveragerc",".flake8",".pylintrc","HOSTS","buildozer.spec","hosts","pylintrc","vlcrc"]},json:{extensions:[".4DForm",".4DProject",".JSON-tmLanguage",".avsc",".geojson",".gltf",".har",".ice",".json",".json.example",".jsonl",".mcmeta",".sarif",".tact",".tfstate",".tfstate.backup",".topojson",".webapp",".webmanifest",".yy",".yyp"],filenames:[".all-contributorsrc",".arcconfig",".auto-changelog",".c8rc",".htmlhintrc",".imgbotconfig",".nycrc",".tern-config",".tern-project",".watchmanconfig","MODULE.bazel.lock","Package.resolved","Pipfile.lock","bun.lock","composer.lock","deno.lock","flake.lock","mcmod.info"]},jsonc:{extensions:[".code-snippets",".code-workspace",".jsonc",".sublime-build",".sublime-color-scheme",".sublime-commands",".sublime-completions",".sublime-keymap",".sublime-macro",".sublime-menu",".sublime-mousemap",".sublime-project",".sublime-settings",".sublime-theme",".sublime-workspace",".sublime_metrics",".sublime_session"],filenames:[".babelrc",".devcontainer.json",".eslintrc.json",".jscsrc",".jshintrc",".jslintrc",".swcrc","api-extractor.json","argv.json","devcontainer.json","extensions.json","jsconfig.json","keybindings.json","language-configuration.json","launch.json","profiles.json","settings.json","tasks.json","tsconfig.json","tslint.json"]},java:{extensions:[".jav",".java",".jsh"]},javascript:{extensions:["._js",".bones",".cjs",".es",".es6",".frag",".gs",".jake",".javascript",".js",".jsb",".jscad",".jsfl",".jslib",".jsm",".jspre",".jss",".mjs",".njs",".pac",".sjs",".ssjs",".xsjs",".xsjslib"],filenames:["Jakefile"]},julia:{extensions:[".jl"]},kotlin:{extensions:[".kt",".ktm",".kts"]},less:{extensions:[".less"]},lua:{extensions:[".fcgi",".lua",".luau",".nse",".p8",".pd_lua",".rbxs",".rockspec",".wlua"],filenames:[".luacheckrc"]},makefile:{extensions:[".d",".mak",".make",".makefile",".mk",".mkfile"],filenames:["BSDmakefile","GNUmakefile","Kbuild","Makefile","Makefile.am","Makefile.boot","Makefile.frag","Makefile.in","Makefile.inc","Makefile.wat","makefile","makefile.sco","mkfile"]},markdown:{extensions:[".livemd",".markdown",".md",".mdown",".mdwn",".mdx",".mkd",".mkdn",".mkdown",".ronn",".scd",".workbook"],filenames:["contents.lr"]},"objective-c":{extensions:[".h",".m"]},"objective-cpp":{extensions:[".mm"]},php:{extensions:[".aw",".ctp",".fcgi",".inc",".install",".module",".php",".php3",".php4",".php5",".phps",".phpt",".theme"],filenames:[".php",".php_cs",".php_cs.dist","Phakefile"]},perl:{extensions:[".al",".cgi",".fcgi",".perl",".ph",".pl",".plx",".pm",".psgi",".t"],filenames:[".latexmkrc","Makefile.PL","Rexfile","ack","cpanfile","latexmkrc"]},powershell:{extensions:[".ps1",".psd1",".psm1"]},pug:{extensions:[".jade",".pug"]},python:{extensions:[".cgi",".codon",".fcgi",".gyp",".gypi",".lmi",".py",".py3",".pyde",".pyi",".pyp",".pyt",".pyw",".rpy",".sage",".spec",".tac",".wsgi",".xpy"],filenames:[".gclient","DEPS","SConscript","SConstruct","wscript"]},r:{extensions:[".r",".rd",".rsx"],filenames:[".Rprofile","expr-dist"]},ruby:{extensions:[".builder",".eye",".fcgi",".gemspec",".god",".jbuilder",".mspec",".pluginspec",".podspec",".prawn",".rabl",".rake",".rb",".rbi",".rbuild",".rbw",".rbx",".ru",".ruby",".spec",".thor",".watchr"],filenames:[".irbrc",".pryrc",".simplecov","Appraisals","Berksfile","Brewfile","Buildfile","Capfile","Dangerfile","Deliverfile","Fastfile","Gemfile","Guardfile","Jarfile","Mavenfile","Podfile","Puppetfile","Rakefile","Snapfile","Steepfile","Thorfile","Vagrantfile","buildfile"]},rust:{extensions:[".rs",".rs.in"]},scss:{extensions:[".scss"]},sql:{extensions:[".cql",".ddl",".inc",".mysql",".prc",".sql",".tab",".udf",".viw"]},sass:{extensions:[".sass"]},scala:{extensions:[".kojo",".sbt",".sc",".scala"]},shellscript:{extensions:[".bash",".bats",".cgi",".command",".fcgi",".fish",".ksh",".sh",".sh.in",".tmux",".tool",".trigger",".zsh",".zsh-theme"],filenames:[".bash_aliases",".bash_functions",".bash_history",".bash_logout",".bash_profile",".bashrc",".cshrc",".envrc",".flaskenv",".kshrc",".login",".profile",".tmux.conf",".zlogin",".zlogout",".zprofile",".zshenv",".zshrc","9fs","PKGBUILD","bash_aliases","bash_logout","bash_profile","bashrc","cshrc","gradlew","kshrc","login","man","profile","tmux.conf","zlogin","zlogout","zprofile","zshenv","zshrc"]},slang:{extensions:[".fxc",".hlsl",".s",".slang",".slangh",".usf",".ush",".vfx"]},slim:{extensions:[".slim"]},solidity:{extensions:[".sol"]},stylus:{extensions:[".styl"]},svelte:{extensions:[".svelte"]},swift:{extensions:[".swift"]},systemverilog:{extensions:[".sv",".svh",".vh"]},typescriptreact:{extensions:[".tsx"]},latex:{extensions:[".aux",".bbx",".cbx",".cls",".dtx",".ins",".lbx",".ltx",".mkii",".mkiv",".mkvi",".sty",".tex",".toc"]},typescript:{extensions:[".cts",".mts",".ts"]},verilog:{extensions:[".v",".veo"]},vim:{extensions:[".vba",".vim",".vimrc",".vmb"],filenames:[".exrc",".gvimrc",".nvimrc",".vimrc","_vimrc","gvimrc","nvimrc","vimrc"]},vb:{extensions:[".vb",".vbhtml",".Dsr",".bas",".cls",".ctl",".frm",".vbs"]},vue:{extensions:[".nvue",".vue"]},xml:{extensions:[".adml",".admx",".ant",".axaml",".axml",".builds",".ccproj",".ccxml",".clixml",".cproject",".cscfg",".csdef",".csl",".csproj",".ct",".depproj",".dita",".ditamap",".ditaval",".dll.config",".dotsettings",".filters",".fsproj",".fxml",".glade",".gml",".gmx",".gpx",".grxml",".gst",".hzp",".iml",".ivy",".jelly",".jsproj",".kml",".launch",".mdpolicy",".mjml",".mod",".mojo",".mxml",".natvis",".ncl",".ndproj",".nproj",".nuspec",".odd",".osm",".pkgproj",".plist",".pluginspec",".proj",".props",".ps1xml",".psc1",".pt",".pubxml",".qhelp",".rdf",".res",".resx",".rss",".sch",".scxml",".sfproj",".shproj",".srdf",".storyboard",".sublime-snippet",".svg",".sw",".targets",".tml",".typ",".ui",".urdf",".ux",".vbproj",".vcxproj",".vsixmanifest",".vssettings",".vstemplate",".vxml",".wixproj",".workflow",".wsdl",".wsf",".wxi",".wxl",".wxs",".x3d",".xacro",".xaml",".xib",".xlf",".xliff",".xmi",".xml",".xml.dist",".xmp",".xproj",".xsd",".xspec",".xul",".zcml"],filenames:[".classpath",".cproject",".project","App.config","NuGet.config","Settings.StyleCop","Web.Debug.config","Web.Release.config","Web.config","packages.config"]},xsl:{extensions:[".xsl",".xslt"]},yaml:{extensions:[".mir",".reek",".rviz",".sublime-syntax",".syntax",".yaml",".yaml-tmlanguage",".yaml.sed",".yml",".yml.mysql"],filenames:[".clang-format",".clang-tidy",".clangd",".gemrc","CITATION.cff","glide.lock","pixi.lock","yarn.lock"]},javascriptreact:{extensions:[".jsx"]},legend:{extensions:[".pure"]}};var TM=[".ejs",".erb",".haml",".hbs",".j2",".jinja",".jinja2",".liquid",".mustache",".njk",".php",".pug",".slim",".webc"],IM={".php":[".blade"]},Kx=Object.keys(ig).flatMap(e=>ig[e].extensions);var uT=Tt(ff());var bm=class{constructor(t,r,n){this.languageId=t;this.isGuess=r;this.fileExtension=n}static{o(this,"Language")}},og=class{static{o(this,"LanguageDetection")}},fT=new Map,xm=new Map;for(let[e,{extensions:t,filenames:r}]of Object.entries(ig)){for(let n of t)fT.set(n,[...fT.get(n)??[],e]);for(let n of r??[])xm.set(n,[...xm.get(n)??[],e])}var dT=class extends og{static{o(this,"FilenameAndExensionLanguageDetection")}detectLanguage(t){let r=el(t.uri),n=uT.extname(r).toLowerCase(),i=this.extensionWithoutTemplateLanguage(r,n),s=this.detectLanguageId(r,i),a=this.computeFullyQualifiedExtension(n,i);return s?new bm(s.languageId,s.isGuess,a):new bm(t.languageId,!0,a)}extensionWithoutTemplateLanguage(t,r){if(TM.includes(r)){let n=t.substring(0,t.lastIndexOf(".")),i=uT.extname(n).toLowerCase();if(i.length>0&&Kx.includes(i)&&this.isExtensionValidForTemplateLanguage(r,i))return i}return r}isExtensionValidForTemplateLanguage(t,r){let n=IM[t];return!n||n.includes(r)}detectLanguageId(t,r){if(xm.has(t))return{languageId:xm.get(t)[0],isGuess:!1};let n=fT.get(r)??[];if(n.length>0)return{languageId:n[0],isGuess:n.length>1};for(;t.includes(".");)if(t=t.replace(/\.[^.]*$/,""),xm.has(t))return{languageId:xm.get(t)[0],isGuess:!1}}computeFullyQualifiedExtension(t,r){return t!==r?r+t:t}},mT=class extends og{constructor(r){super();this.delegate=r}static{o(this,"GroupingLanguageDetection")}detectLanguage(r){let n=this.delegate.detectLanguage(r),i=n.languageId;return i==="c"||i==="cpp"?new bm("cpp",n.isGuess,n.fileExtension):n}},pT=class extends og{constructor(r){super();this.delegate=r}static{o(this,"ClientProvidedLanguageDetection")}detectLanguage(r){return r.uri.startsWith("untitled:")||r.uri.startsWith("vscode-notebook-cell:")?new bm(r.languageId,!0,""):this.delegate.detectLanguage(r)}},Ose=new mT(new pT(new dT));function Yx({uri:e,languageId:t}){let r=Ose.detectLanguage({uri:e,languageId:"UNKNOWN"});return r.languageId==="UNKNOWN"?t:r.languageId}o(Yx,"detectLanguage");var Xx=class e{static{o(this,"FullTextDocument")}constructor(t,r,n,i){this._uri=t,this._languageId=r,this._version=n,this._content=i,this._lineOffsets=void 0}get uri(){return this._uri}get languageId(){return this._languageId}get version(){return this._version}getText(t){if(t){let r=this.offsetAt(t.start),n=this.offsetAt(t.end);return this._content.substring(r,n)}return this._content}update(t,r){for(let n of t)if(e.isIncremental(n)){let i=SM(n.range),s=this.offsetAt(i.start),a=this.offsetAt(i.end);this._content=this._content.substring(0,s)+n.text+this._content.substring(a,this._content.length);let l=Math.max(i.start.line,0),c=Math.max(i.end.line,0),f=this._lineOffsets,u=EM(n.text,!1,s);if(c-l===u.length)for(let p=0,m=u.length;p<m;p++)f[p+l+1]=u[p];else u.length<1e4?f.splice(l+1,c-l,...u):this._lineOffsets=f=f.slice(0,l+1).concat(u,f.slice(c+1));let d=n.text.length-(a-s);if(d!==0)for(let p=l+1+u.length,m=f.length;p<m;p++)f[p]=f[p]+d}else if(e.isFull(n))this._content=n.text,this._lineOffsets=void 0;else throw new Error("Unknown change event received");this._version=r}getLineOffsets(){return this._lineOffsets===void 0&&(this._lineOffsets=EM(this._content,!0)),this._lineOffsets}positionAt(t){t=Math.max(Math.min(t,this._content.length),0);let r=this.getLineOffsets(),n=0,i=r.length;if(i===0)return{line:0,character:t};for(;n<i;){let a=Math.floor((n+i)/2);r[a]>t?i=a:n=a+1}let s=n-1;return t=this.ensureBeforeEOL(t,r[s]),{line:s,character:t-r[s]}}offsetAt(t){let r=this.getLineOffsets();if(t.line>=r.length)return this._content.length;if(t.line<0)return 0;let n=r[t.line];if(t.character<=0)return n;let i=t.line+1<r.length?r[t.line+1]:this._content.length,s=Math.min(n+t.character,i);return this.ensureBeforeEOL(s,n)}ensureBeforeEOL(t,r){for(;t>r&&CM(this._content.charCodeAt(t-1));)t--;return t}get lineCount(){return this.getLineOffsets().length}static isIncremental(t){let r=t;return r!=null&&typeof r.text=="string"&&r.range!==void 0&&(r.rangeLength===void 0||typeof r.rangeLength=="number")}static isFull(t){let r=t;return r!=null&&typeof r.text=="string"&&r.range===void 0&&r.rangeLength===void 0}},oc;(function(e){function t(i,s,a,l){return new Xx(i,s,a,l)}o(t,"create"),e.create=t;function r(i,s,a){if(i instanceof Xx)return i.update(s,a),i;throw new Error("TextDocument.update: document must be created by TextDocument.create")}o(r,"update"),e.update=r;function n(i,s){let a=i.getText(),l=gT(s.map(Lse),(u,d)=>{let p=u.range.start.line-d.range.start.line;return p===0?u.range.start.character-d.range.start.character:p}),c=0,f=[];for(let u of l){let d=i.offsetAt(u.range.start);if(d<c)throw new Error("Overlapping edit");d>c&&f.push(a.substring(c,d)),u.newText.length&&f.push(u.newText),c=i.offsetAt(u.range.end)}return f.push(a.substr(c)),f.join("")}o(n,"applyEdits"),e.applyEdits=n})(oc||(oc={}));function gT(e,t){if(e.length<=1)return e;let r=e.length/2|0,n=e.slice(0,r),i=e.slice(r);gT(n,t),gT(i,t);let s=0,a=0,l=0;for(;s<n.length&&a<i.length;)t(n[s],i[a])<=0?e[l++]=n[s++]:e[l++]=i[a++];for(;s<n.length;)e[l++]=n[s++];for(;a<i.length;)e[l++]=i[a++];return e}o(gT,"mergeSort");function EM(e,t,r=0){let n=t?[r]:[];for(let i=0;i<e.length;i++){let s=e.charCodeAt(i);CM(s)&&(s===13&&i+1<e.length&&e.charCodeAt(i+1)===10&&i++,n.push(r+i+1))}return n}o(EM,"computeLineOffsets");function CM(e){return e===13||e===10}o(CM,"isEOL");function SM(e){let t=e.start,r=e.end;return t.line>r.line||t.line===r.line&&t.character>r.character?{start:r,end:t}:e}o(SM,"getWellformedRange");function Lse(e){let t=SM(e.range);return t!==e.range?{newText:e.newText,range:t}:e}o(Lse,"getWellformedEdit");K1();var mi=class{static{o(this,"LocationFactory")}static{this.range=vr.create.bind(vr)}static{this.position=zn.create.bind(zn)}},Wu=class e{constructor(t,r,n){this.uri=t;this._textDocument=r;this.detectedLanguageId=n}static{o(this,"CopilotTextDocument")}static withChanges(t,r,n){let i=oc.create(t.clientUri,t.clientLanguageId,n,t.getText());return oc.update(i,r,n),new e(t.uri,i,t.detectedLanguageId)}applyEdits(t){let r=oc.create(this.clientUri,this.clientLanguageId,this.version,this.getText());return oc.update(r,t.map(n=>({text:n.newText,range:n.range})),this.version),new e(this.uri,r,this.detectedLanguageId)}static create(t,r,n,i,s=Yx({uri:t,languageId:r})){return new e(No(t),oc.create(t,r,n,i),s)}get clientUri(){return this._textDocument.uri}get clientLanguageId(){return this._textDocument.languageId}get languageId(){return this._textDocument.languageId}get version(){return this._textDocument.version}get lineCount(){return this._textDocument.lineCount}getText(t){return this._textDocument.getText(t)}positionAt(t){return this._textDocument.positionAt(t)}offsetAt(t){return this._textDocument.offsetAt(t)}lineAt(t){let r=typeof t=="number"?t:t.line;if(r<0||r>=this.lineCount)throw new RangeError("Illegal value for lineNumber");let n=vr.create(r,0,r+1,0),i=this.getText(n).replace(/\r\n$|\r$|\n$/g,""),s=vr.create(zn.create(r,0),zn.create(r,i.length)),a=i.trim().length===0;return{text:i,range:s,isEmptyOrWhitespace:a}}};var sg={isBlocked:!1,reason:"VALID_FILE"},Jx={isBlocked:!1,reason:"NO_MATCHING_POLICY"},wM={isBlocked:!0,reason:"POLICY_ERROR",message:"Copilot is disabled because we could not fetch the repository policy"},Gu={all:"all",repo:"repo"},$a=new St("contentExclusion");var Zx=class{static{o(this,"PolicyEvaluator")}};var Mje=new St("repository"),ag=class e{constructor(){this.data={}}static{o(this,"GitConfigData")}getKeys(){return Object.keys(this.data)}getEntries(){return Object.entries(this.data)}get(t){let r=this.getAll(t);return r?r[r.length-1]:void 0}getAll(t){return this.data[this.normalizeKey(t)]}add(t,r){t in this.data||(this.data[t]=[]),this.data[t].push(r)}getSectionValues(t,r){let n=`${t}.`.toLowerCase(),i=`.${r}`.toLowerCase();return Object.keys(this.data).filter(s=>s.startsWith(n)&&s.endsWith(i)).map(s=>s.slice(n.length,-i.length))}concat(t){return this.getEntries().concat(t.getEntries()).reduce((r,[n,i])=>(i.forEach(s=>r.add(n,s)),r),new e)}normalizeKey(t){let r=t.split(".");return r[0]=r[0].toLowerCase(),r[r.length-1]=r[r.length-1].toLowerCase(),r.join(".")}},sc=class{static{o(this,"GitConfigLoader")}};var PM=Tt(Pc());var Qx=class{constructor(t){this.url=t;this.isUrl()?this.parseUrl():this.tryParseSSHString()||(this._scheme="file")}static{o(this,"GitRemoteUrl")}get scheme(){return this._scheme}get authority(){return this._authority}get hostname(){return this._hostname}get path(){return this._path}isInvalid(){return this._error!==void 0}isRemote(){return this.scheme!=="file"&&this.hostname!==void 0}isGitHub(){return this.isRemote()&&/(?:^|\.)(?:github\.com|ghe\.com)$/i.test(this.hostname??"")}isADO(){return this.isRemote()&&/(?:^|\.)(?:visualstudio\.com|azure\.com)$/i.test(this.hostname??"")}getUrlForApi(){if(!this.isRemote())return null;if(this.isUrl()&&!this.isInvalid())return Qa.from({scheme:this.scheme,authority:this.authority.replace(/^[^@]+@/,""),path:this.path}).toString();if(this.scheme=="ssh"&&this.isADO()){let t=this.url.indexOf(":");return this.url.substring(0,t+1)+this.path}return this.url}isUrl(){return/[A-Za-z0-9][A-Za-z0-9]+:\/\//.test(this.url)}parseUrl(){let t;try{t=Qa.parse(this.url)}catch(r){this._error=r;return}this._scheme=t.scheme,this.setAuthority(t.authority),this.setPath(t.path)}setAuthority(t){this._authority=t;let r=t.replace(/^[^@]+@/,"").replace(/:\d*$/,"");r&&(this._hostname=r)}tryParseSSHString(){let t=/^(?<host>[^:/\\[]*(?:\[[^/\\\]]*\])?):/.exec(this.url);if(t&&((0,PM.platform)()!=="win32"||(t.groups?.host?.length??0)>1)){let r=t.groups?.host??"";return this._scheme="ssh",this.setAuthority(r),this.setPath(this.url.substring(r.length+1)),!0}return!1}setPath(t){if(this.isADO())try{this._path=decodeURIComponent(t);return}catch{}this._path=t}};var e3=class{static{o(this,"GitRemoteResolver")}async resolveRemote(t,r){let n=await t.get(sc).getConfig(t,r);if(!n)return;let i=this.getRemotes(n),s=i.filter(a=>a.url.isGitHub());if(s.length)return s.find(a=>a.name==="origin")?.url??s[0].url;if(i.length)return i.find(a=>a.name==="origin")?.url??i[0].url}getRemotes(t){let r=this.getInsteadOfRules(t);return t.getSectionValues("remote","url").map(n=>({name:n,url:new Qx(this.applyInsteadOfRules(r,t.get(`remote.${n}.url`)??""))})).filter(n=>n.url.isRemote())}applyInsteadOfRules(t,r){for(let n of t)if(r.startsWith(n.insteadOf))return n.base+r.slice(n.insteadOf.length);return r}getInsteadOfRules(t){return t.getSectionValues("url","insteadof").map(r=>({base:r,insteadOf:t.get(`url.${r}.insteadof`)})).sort((r,n)=>n.base.length-r.base.length)}};var Fse=100,hT=class{constructor(t,r){this.baseFolder=t;this.remote=r;this.setNWO()}static{o(this,"GitRepository")}get tenant(){return this._tenant}get owner(){return this._owner}get name(){return this._name}get adoOrganization(){return this._adoOrganization}isGitHub(){return this.remote?.isGitHub()??!1}isADO(){return this.remote?.isADO()??!1}setNWO(){let t=this.remote?.path?.replace(/^\//,"").split("/");if(this.isGitHub()){this._owner=t?.[0],this._name=t?.[1]?.replace(/\.git$/,"");let r=/^(?<tenant>[^.]+)\.ghe\.com$/.exec(this.remote?.hostname??"");r&&(this._tenant=r.groups?.tenant)}else if(this.isADO()&&t?.length===4){if(this.remote?.scheme==="ssh"){this._adoOrganization=t?.[1],this._owner=t?.[2],this._name=t?.[3];return}let r=/(?:(?<org>[^.]+)\.)?visualstudio\.com$/.exec(this.remote?.hostname??"");r?(this._adoOrganization=r.groups?.org,this._owner=t?.[1],this._name=t?.[3]):(this._adoOrganization=t?.[0],this._owner=t?.[1],this._name=t?.[3])}}},qa=class e{constructor(t){this.ctx=t;this.remoteResolver=new e3;this.cache=new rr(Fse)}static{o(this,"RepositoryManager")}async getRepo({uri:t}){let r,n=[];do{if(this.cache.has(t.toString())){let s=this.cache.get(t);return this.updateCache(n,s),s}n.push(t.toString());let i=await this.tryGetRepoForFolder(t);if(i)return this.updateCache(n,i),i;r=t,t=X0(t)}while(t!==r);this.updateCache(n,void 0)}updateCache(t,r){t.forEach(n=>this.cache.set(n,r))}async tryGetRepoForFolder(t){return await this.isBaseRepoFolder(t)?new hT(typeof t=="string"?{uri:t}:t,await this.repoUrl(t)):void 0}async isBaseRepoFolder(t){return await e.getRepoConfigLocation(this.ctx,t)!==void 0}async repoUrl(t){return await this.remoteResolver.resolveRemote(this.ctx,t)}static async getRepoConfigLocation(t,r){try{let n=t.get(Jr),i=Dn(r,".git");if((await n.stat(i)).type&1)return await this.getConfigLocationForGitfile(n,r,i);let a=Dn(i,"config");return await n.stat(a),a}catch{return}}static async getConfigLocationForGitfile(t,r,n){let s=(await t.readFileString(n)).match(/^gitdir:\s+(.+)$/m);if(!s)return;let a=Dc(r,s[1]),l=Dn(a,"config");if(await this.tryStat(t,l)!==void 0)return l;let c=Dn(a,"config.worktree");if(await this.tryStat(t,c)!==void 0)return c;let f=Dn(a,"commondir");a=Dc(a,(await t.readFileString(f)).trimEnd());let u=Dn(a,"config");return await t.stat(u),u}static async tryStat(t,r){try{return await t.stat(r)}catch{return}}};var DM=o((e,t)=>{if(pl.Check(e,t))return t;let r=`Typebox schema validation failed:
${[...pl.Errors(e,t)].map(n=>`${n.path} ${n.message}`).join(`
`)}`;throw new Error(r)},"assertShape");var t3=new WeakMap;function r3(e,t){if(e==null||typeof e!="object")return String(e);let r,n="",i=0,s=Object.prototype.toString.call(e);if(s!=="[object RegExp]"&&s!=="[object Date]"&&t3.has(e))return t3.get(e);switch(t3.set(e,"~"+ ++t),s){case"[object Set]":r=Array.from(e);case"[object Array]":for(r||(r=e),n+="a";i<r.length;n+=r3(r[i++],t));break;case"[object Object]":for(n+="o",r=Object.keys(e).sort();i<r.length;n+=r[i]+r3(e[r[i++]],t));break;case"[object Map]":for(n+="o",r=Array.from(e.keys()).sort();i<r.length;n+=r[i]+r3(e.get(r[i++]),t));break;case"[object Date]":return"d"+ +e;case"[object RegExp]":return"r"+e.source+e.flags;default:throw new Error(`Unsupported value ${e}`)}return t3.set(e,n),n}o(r3,"t");function n3(e){return r3(e,0)}o(n3,"r");var xT=new WeakMap;function RM(e,t,r=n3(t)){let n,i,s=xT.get(e);s||(xT.set(e,s=[[],i=[],n=[]]),queueMicrotask(function(){let f,u=0;function d(p){for(;f=n[u++];f.r(p));}o(d,"o"),xT.delete(e),e(i).then(function(p){if(p.length!==n.length)return d(new Error("loader value length mismatch"));for(;f=p[u++],u<=p.length;f instanceof Error?n[u-1].r(f):n[u-1].s(f));},d)}));let a=s[0].indexOf(r);if(~a)return s[2][a].p;let l=s[0].push(r)-1,c=s[2][l]={};return s[1][l]=t,c.p=new Promise(function(f,u){c.s=f,c.r=u})}o(RM,"n");var NM=new WeakMap;function Mse(e,t,r,n=n3(r)){if(t||(t=NM.get(e)),t||NM.set(e,t=new Map),t.has(n))return Promise.resolve(t.get(n));let i=RM(e,r,n);return t.set(n,i),i.catch(()=>t.delete(n)),i}o(Mse,"n");function AM(e,t){return function(r,n){return Mse(e,t,r,n)}}o(AM,"o");var QM=Tt(zM(),1);var cg=o(e=>{if(typeof e!="string")throw new TypeError("invalid pattern");if(e.length>65536)throw new TypeError("pattern is too long")},"assertValidPattern");var zse={"[:alnum:]":["\\p{L}\\p{Nl}\\p{Nd}",!0],"[:alpha:]":["\\p{L}\\p{Nl}",!0],"[:ascii:]":["\\x00-\\x7f",!1],"[:blank:]":["\\p{Zs}\\t",!0],"[:cntrl:]":["\\p{Cc}",!0],"[:digit:]":["\\p{Nd}",!0],"[:graph:]":["\\p{Z}\\p{C}",!0,!0],"[:lower:]":["\\p{Ll}",!0],"[:print:]":["\\p{C}",!0],"[:punct:]":["\\p{P}",!0],"[:space:]":["\\p{Z}\\t\\r\\n\\v\\f",!0],"[:upper:]":["\\p{Lu}",!0],"[:word:]":["\\p{L}\\p{Nl}\\p{Nd}\\p{Pc}",!0],"[:xdigit:]":["A-Fa-f0-9",!1]},ug=o(e=>e.replace(/[[\]\\-]/g,"\\$&"),"braceEscape"),Hse=o(e=>e.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&"),"regexpEscape"),HM=o(e=>e.join(""),"rangesToString"),VM=o((e,t)=>{let r=t;if(e.charAt(r)!=="[")throw new Error("not in a brace expression");let n=[],i=[],s=r+1,a=!1,l=!1,c=!1,f=!1,u=r,d="";e:for(;s<e.length;){let h=e.charAt(s);if((h==="!"||h==="^")&&s===r+1){f=!0,s++;continue}if(h==="]"&&a&&!c){u=s+1;break}if(a=!0,h==="\\"&&!c){c=!0,s++;continue}if(h==="["&&!c){for(let[_,[b,x,y]]of Object.entries(zse))if(e.startsWith(_,s)){if(d)return["$.",!1,e.length-r,!0];s+=_.length,y?i.push(b):n.push(b),l=l||x;continue e}}if(c=!1,d){h>d?n.push(ug(d)+"-"+ug(h)):h===d&&n.push(ug(h)),d="",s++;continue}if(e.startsWith("-]",s+1)){n.push(ug(h+"-")),s+=2;continue}if(e.startsWith("-",s+1)){d=h,s+=2;continue}n.push(ug(h)),s++}if(u<s)return["",!1,0,!1];if(!n.length&&!i.length)return["$.",!1,e.length-r,!0];if(i.length===0&&n.length===1&&/^\\?.$/.test(n[0])&&!f){let h=n[0].length===2?n[0].slice(-1):n[0];return[Hse(h),!1,u-r,!1]}let p="["+(f?"^":"")+HM(n)+"]",m="["+(f?"":"^")+HM(i)+"]";return[n.length&&i.length?"("+p+"|"+m+")":n.length?p:m,l,u-r,!0]},"parseClass");var ac=o((e,{windowsPathsNoEscape:t=!1}={})=>t?e.replace(/\[([^\/\\])\]/g,"$1"):e.replace(/((?!\\).|^)\[([^\/\\])\]/g,"$1$2").replace(/\\([^\/])/g,"$1"),"unescape");var Vse=new Set(["!","?","+","*","@"]),KM=o(e=>Vse.has(e),"isExtglobType"),Kse="(?!(?:^|/)\\.\\.?(?:$|/))",i3="(?!\\.)",Yse=new Set(["[","."]),Xse=new Set(["..","."]),Jse=new Set("().*{}+?[]^$\\!"),Zse=o(e=>e.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&"),"regExpEscape"),yT="[^/]",YM=yT+"*?",XM=yT+"+?",_m=class e{static{o(this,"AST")}type;#e;#t;#i=!1;#r=[];#n;#o;#s;#l=!1;#a;#c;#f=!1;constructor(t,r,n={}){this.type=t,t&&(this.#t=!0),this.#n=r,this.#e=this.#n?this.#n.#e:this,this.#a=this.#e===this?n:this.#e.#a,this.#s=this.#e===this?[]:this.#e.#s,t==="!"&&!this.#e.#l&&this.#s.push(this),this.#o=this.#n?this.#n.#r.length:0}get hasMagic(){if(this.#t!==void 0)return this.#t;for(let t of this.#r)if(typeof t!="string"&&(t.type||t.hasMagic))return this.#t=!0;return this.#t}toString(){return this.#c!==void 0?this.#c:this.type?this.#c=this.type+"("+this.#r.map(t=>String(t)).join("|")+")":this.#c=this.#r.map(t=>String(t)).join("")}#m(){if(this!==this.#e)throw new Error("should only call on root");if(this.#l)return this;this.toString(),this.#l=!0;let t;for(;t=this.#s.pop();){if(t.type!=="!")continue;let r=t,n=r.#n;for(;n;){for(let i=r.#o+1;!n.type&&i<n.#r.length;i++)for(let s of t.#r){if(typeof s=="string")throw new Error("string part in extglob AST??");s.copyIn(n.#r[i])}r=n,n=r.#n}}return this}push(...t){for(let r of t)if(r!==""){if(typeof r!="string"&&!(r instanceof e&&r.#n===this))throw new Error("invalid part: "+r);this.#r.push(r)}}toJSON(){let t=this.type===null?this.#r.slice().map(r=>typeof r=="string"?r:r.toJSON()):[this.type,...this.#r.map(r=>r.toJSON())];return this.isStart()&&!this.type&&t.unshift([]),this.isEnd()&&(this===this.#e||this.#e.#l&&this.#n?.type==="!")&&t.push({}),t}isStart(){if(this.#e===this)return!0;if(!this.#n?.isStart())return!1;if(this.#o===0)return!0;let t=this.#n;for(let r=0;r<this.#o;r++){let n=t.#r[r];if(!(n instanceof e&&n.type==="!"))return!1}return!0}isEnd(){if(this.#e===this||this.#n?.type==="!")return!0;if(!this.#n?.isEnd())return!1;if(!this.type)return this.#n?.isEnd();let t=this.#n?this.#n.#r.length:0;return this.#o===t-1}copyIn(t){typeof t=="string"?this.push(t):this.push(t.clone(this))}clone(t){let r=new e(this.type,t);for(let n of this.#r)r.copyIn(n);return r}static#u(t,r,n,i){let s=!1,a=!1,l=-1,c=!1;if(r.type===null){let m=n,g="";for(;m<t.length;){let h=t.charAt(m++);if(s||h==="\\"){s=!s,g+=h;continue}if(a){m===l+1?(h==="^"||h==="!")&&(c=!0):h==="]"&&!(m===l+2&&c)&&(a=!1),g+=h;continue}else if(h==="["){a=!0,l=m,c=!1,g+=h;continue}if(!i.noext&&KM(h)&&t.charAt(m)==="("){r.push(g),g="";let _=new e(h,r);m=e.#u(t,_,m,i),r.push(_);continue}g+=h}return r.push(g),m}let f=n+1,u=new e(null,r),d=[],p="";for(;f<t.length;){let m=t.charAt(f++);if(s||m==="\\"){s=!s,p+=m;continue}if(a){f===l+1?(m==="^"||m==="!")&&(c=!0):m==="]"&&!(f===l+2&&c)&&(a=!1),p+=m;continue}else if(m==="["){a=!0,l=f,c=!1,p+=m;continue}if(KM(m)&&t.charAt(f)==="("){u.push(p),p="";let g=new e(m,u);u.push(g),f=e.#u(t,g,f,i);continue}if(m==="|"){u.push(p),p="",d.push(u),u=new e(null,r);continue}if(m===")")return p===""&&r.#r.length===0&&(r.#f=!0),u.push(p),p="",r.push(...d,u),f;p+=m}return r.type=null,r.#t=void 0,r.#r=[t.substring(n-1)],f}static fromGlob(t,r={}){let n=new e(null,void 0,r);return e.#u(t,n,0,r),n}toMMPattern(){if(this!==this.#e)return this.#e.toMMPattern();let t=this.toString(),[r,n,i,s]=this.toRegExpSource();if(!(i||this.#t||this.#a.nocase&&!this.#a.nocaseMagicOnly&&t.toUpperCase()!==t.toLowerCase()))return n;let l=(this.#a.nocase?"i":"")+(s?"u":"");return Object.assign(new RegExp(`^${r}$`,l),{_src:r,_glob:t})}get options(){return this.#a}toRegExpSource(t){let r=t??!!this.#a.dot;if(this.#e===this&&this.#m(),!this.type){let c=this.isStart()&&this.isEnd(),f=this.#r.map(m=>{let[g,h,_,b]=typeof m=="string"?e.#p(m,this.#t,c):m.toRegExpSource(t);return this.#t=this.#t||_,this.#i=this.#i||b,g}).join(""),u="";if(this.isStart()&&typeof this.#r[0]=="string"&&!(this.#r.length===1&&Xse.has(this.#r[0]))){let g=Yse,h=r&&g.has(f.charAt(0))||f.startsWith("\\.")&&g.has(f.charAt(2))||f.startsWith("\\.\\.")&&g.has(f.charAt(4)),_=!r&&!t&&g.has(f.charAt(0));u=h?Kse:_?i3:""}let d="";return this.isEnd()&&this.#e.#l&&this.#n?.type==="!"&&(d="(?:$|\\/)"),[u+f+d,ac(f),this.#t=!!this.#t,this.#i]}let n=this.type==="*"||this.type==="+",i=this.type==="!"?"(?:(?!(?:":"(?:",s=this.#d(r);if(this.isStart()&&this.isEnd()&&!s&&this.type!=="!"){let c=this.toString();return this.#r=[c],this.type=null,this.#t=void 0,[c,ac(this.toString()),!1,!1]}let a=!n||t||r||!i3?"":this.#d(!0);a===s&&(a=""),a&&(s=`(?:${s})(?:${a})*?`);let l="";if(this.type==="!"&&this.#f)l=(this.isStart()&&!r?i3:"")+XM;else{let c=this.type==="!"?"))"+(this.isStart()&&!r&&!t?i3:"")+YM+")":this.type==="@"?")":this.type==="?"?")?":this.type==="+"&&a?")":this.type==="*"&&a?")?":`)${this.type}`;l=i+s+c}return[l,ac(s),this.#t=!!this.#t,this.#i]}#d(t){return this.#r.map(r=>{if(typeof r=="string")throw new Error("string type in extglob ast??");let[n,i,s,a]=r.toRegExpSource(t);return this.#i=this.#i||a,n}).filter(r=>!(this.isStart()&&this.isEnd())||!!r).join("|")}static#p(t,r,n=!1){let i=!1,s="",a=!1;for(let l=0;l<t.length;l++){let c=t.charAt(l);if(i){i=!1,s+=(Jse.has(c)?"\\":"")+c;continue}if(c==="\\"){l===t.length-1?s+="\\\\":i=!0;continue}if(c==="["){let[f,u,d,p]=VM(t,l);if(d){s+=f,a=a||u,l+=d-1,r=r||p;continue}}if(c==="*"){n&&t==="*"?s+=XM:s+=YM,r=!0;continue}if(c==="?"){s+=yT,r=!0;continue}s+=Zse(c)}return[s,ac(t),!!r,a]}};var vT=o((e,{windowsPathsNoEscape:t=!1}={})=>t?e.replace(/[?*()[\]]/g,"[$&]"):e.replace(/[?*()[\]\\]/g,"\\$&"),"escape");var Xn=o((e,t,r={})=>(cg(t),!r.nocomment&&t.charAt(0)==="#"?!1:new ym(t,r).match(e)),"minimatch"),Qse=/^\*+([^+@!?\*\[\(]*)$/,e0e=o(e=>t=>!t.startsWith(".")&&t.endsWith(e),"starDotExtTest"),t0e=o(e=>t=>t.endsWith(e),"starDotExtTestDot"),r0e=o(e=>(e=e.toLowerCase(),t=>!t.startsWith(".")&&t.toLowerCase().endsWith(e)),"starDotExtTestNocase"),n0e=o(e=>(e=e.toLowerCase(),t=>t.toLowerCase().endsWith(e)),"starDotExtTestNocaseDot"),i0e=/^\*+\.\*+$/,o0e=o(e=>!e.startsWith(".")&&e.includes("."),"starDotStarTest"),s0e=o(e=>e!=="."&&e!==".."&&e.includes("."),"starDotStarTestDot"),a0e=/^\.\*+$/,l0e=o(e=>e!=="."&&e!==".."&&e.startsWith("."),"dotStarTest"),c0e=/^\*+$/,u0e=o(e=>e.length!==0&&!e.startsWith("."),"starTest"),f0e=o(e=>e.length!==0&&e!=="."&&e!=="..","starTestDot"),d0e=/^\?+([^+@!?\*\[\(]*)?$/,m0e=o(([e,t=""])=>{let r=eU([e]);return t?(t=t.toLowerCase(),n=>r(n)&&n.toLowerCase().endsWith(t)):r},"qmarksTestNocase"),p0e=o(([e,t=""])=>{let r=tU([e]);return t?(t=t.toLowerCase(),n=>r(n)&&n.toLowerCase().endsWith(t)):r},"qmarksTestNocaseDot"),g0e=o(([e,t=""])=>{let r=tU([e]);return t?n=>r(n)&&n.endsWith(t):r},"qmarksTestDot"),h0e=o(([e,t=""])=>{let r=eU([e]);return t?n=>r(n)&&n.endsWith(t):r},"qmarksTest"),eU=o(([e])=>{let t=e.length;return r=>r.length===t&&!r.startsWith(".")},"qmarksTestNoExt"),tU=o(([e])=>{let t=e.length;return r=>r.length===t&&r!=="."&&r!==".."},"qmarksTestNoExtDot"),rU=typeof process=="object"&&process?typeof process.env=="object"&&process.env&&process.env.__MINIMATCH_TESTING_PLATFORM__||process.platform:"posix",JM={win32:{sep:"\\"},posix:{sep:"/"}},x0e=rU==="win32"?JM.win32.sep:JM.posix.sep;Xn.sep=x0e;var ns=Symbol("globstar **");Xn.GLOBSTAR=ns;var b0e="[^/]",_0e=b0e+"*?",y0e="(?:(?!(?:\\/|^)(?:\\.{1,2})($|\\/)).)*?",v0e="(?:(?!(?:\\/|^)\\.).)*?",T0e=o((e,t={})=>r=>Xn(r,e,t),"filter");Xn.filter=T0e;var rs=o((e,t={})=>Object.assign({},e,t),"ext"),I0e=o(e=>{if(!e||typeof e!="object"||!Object.keys(e).length)return Xn;let t=Xn;return Object.assign(o((n,i,s={})=>t(n,i,rs(e,s)),"m"),{Minimatch:class extends t.Minimatch{static{o(this,"Minimatch")}constructor(i,s={}){super(i,rs(e,s))}static defaults(i){return t.defaults(rs(e,i)).Minimatch}},AST:class extends t.AST{static{o(this,"AST")}constructor(i,s,a={}){super(i,s,rs(e,a))}static fromGlob(i,s={}){return t.AST.fromGlob(i,rs(e,s))}},unescape:o((n,i={})=>t.unescape(n,rs(e,i)),"unescape"),escape:o((n,i={})=>t.escape(n,rs(e,i)),"escape"),filter:o((n,i={})=>t.filter(n,rs(e,i)),"filter"),defaults:o(n=>t.defaults(rs(e,n)),"defaults"),makeRe:o((n,i={})=>t.makeRe(n,rs(e,i)),"makeRe"),braceExpand:o((n,i={})=>t.braceExpand(n,rs(e,i)),"braceExpand"),match:o((n,i,s={})=>t.match(n,i,rs(e,s)),"match"),sep:t.sep,GLOBSTAR:ns})},"defaults");Xn.defaults=I0e;var nU=o((e,t={})=>(cg(e),t.nobrace||!/\{(?:(?!\{).)*\}/.test(e)?[e]:(0,QM.default)(e)),"braceExpand");Xn.braceExpand=nU;var E0e=o((e,t={})=>new ym(e,t).makeRe(),"makeRe");Xn.makeRe=E0e;var C0e=o((e,t,r={})=>{let n=new ym(t,r);return e=e.filter(i=>n.match(i)),n.options.nonull&&!e.length&&e.push(t),e},"match");Xn.match=C0e;var ZM=/[?*]|[+@!]\(.*?\)|\[|\]/,S0e=o(e=>e.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&"),"regExpEscape"),ym=class{static{o(this,"Minimatch")}options;set;pattern;windowsPathsNoEscape;nonegate;negate;comment;empty;preserveMultipleSlashes;partial;globSet;globParts;nocase;isWindows;platform;windowsNoMagicRoot;regexp;constructor(t,r={}){cg(t),r=r||{},this.options=r,this.pattern=t,this.platform=r.platform||rU,this.isWindows=this.platform==="win32",this.windowsPathsNoEscape=!!r.windowsPathsNoEscape||r.allowWindowsEscape===!1,this.windowsPathsNoEscape&&(this.pattern=this.pattern.replace(/\\/g,"/")),this.preserveMultipleSlashes=!!r.preserveMultipleSlashes,this.regexp=null,this.negate=!1,this.nonegate=!!r.nonegate,this.comment=!1,this.empty=!1,this.partial=!!r.partial,this.nocase=!!this.options.nocase,this.windowsNoMagicRoot=r.windowsNoMagicRoot!==void 0?r.windowsNoMagicRoot:!!(this.isWindows&&this.nocase),this.globSet=[],this.globParts=[],this.set=[],this.make()}hasMagic(){if(this.options.magicalBraces&&this.set.length>1)return!0;for(let t of this.set)for(let r of t)if(typeof r!="string")return!0;return!1}debug(...t){}make(){let t=this.pattern,r=this.options;if(!r.nocomment&&t.charAt(0)==="#"){this.comment=!0;return}if(!t){this.empty=!0;return}this.parseNegate(),this.globSet=[...new Set(this.braceExpand())],r.debug&&(this.debug=(...s)=>console.error(...s)),this.debug(this.pattern,this.globSet);let n=this.globSet.map(s=>this.slashSplit(s));this.globParts=this.preprocess(n),this.debug(this.pattern,this.globParts);let i=this.globParts.map((s,a,l)=>{if(this.isWindows&&this.windowsNoMagicRoot){let c=s[0]===""&&s[1]===""&&(s[2]==="?"||!ZM.test(s[2]))&&!ZM.test(s[3]),f=/^[a-z]:/i.test(s[0]);if(c)return[...s.slice(0,4),...s.slice(4).map(u=>this.parse(u))];if(f)return[s[0],...s.slice(1).map(u=>this.parse(u))]}return s.map(c=>this.parse(c))});if(this.debug(this.pattern,i),this.set=i.filter(s=>s.indexOf(!1)===-1),this.isWindows)for(let s=0;s<this.set.length;s++){let a=this.set[s];a[0]===""&&a[1]===""&&this.globParts[s][2]==="?"&&typeof a[3]=="string"&&/^[a-z]:$/i.test(a[3])&&(a[2]="?")}this.debug(this.pattern,this.set)}preprocess(t){if(this.options.noglobstar)for(let n=0;n<t.length;n++)for(let i=0;i<t[n].length;i++)t[n][i]==="**"&&(t[n][i]="*");let{optimizationLevel:r=1}=this.options;return r>=2?(t=this.firstPhasePreProcess(t),t=this.secondPhasePreProcess(t)):r>=1?t=this.levelOneOptimize(t):t=this.adjascentGlobstarOptimize(t),t}adjascentGlobstarOptimize(t){return t.map(r=>{let n=-1;for(;(n=r.indexOf("**",n+1))!==-1;){let i=n;for(;r[i+1]==="**";)i++;i!==n&&r.splice(n,i-n)}return r})}levelOneOptimize(t){return t.map(r=>(r=r.reduce((n,i)=>{let s=n[n.length-1];return i==="**"&&s==="**"?n:i===".."&&s&&s!==".."&&s!=="."&&s!=="**"?(n.pop(),n):(n.push(i),n)},[]),r.length===0?[""]:r))}levelTwoFileOptimize(t){Array.isArray(t)||(t=this.slashSplit(t));let r=!1;do{if(r=!1,!this.preserveMultipleSlashes){for(let i=1;i<t.length-1;i++){let s=t[i];i===1&&s===""&&t[0]===""||(s==="."||s==="")&&(r=!0,t.splice(i,1),i--)}t[0]==="."&&t.length===2&&(t[1]==="."||t[1]==="")&&(r=!0,t.pop())}let n=0;for(;(n=t.indexOf("..",n+1))!==-1;){let i=t[n-1];i&&i!=="."&&i!==".."&&i!=="**"&&(r=!0,t.splice(n-1,2),n-=2)}}while(r);return t.length===0?[""]:t}firstPhasePreProcess(t){let r=!1;do{r=!1;for(let n of t){let i=-1;for(;(i=n.indexOf("**",i+1))!==-1;){let a=i;for(;n[a+1]==="**";)a++;a>i&&n.splice(i+1,a-i);let l=n[i+1],c=n[i+2],f=n[i+3];if(l!==".."||!c||c==="."||c===".."||!f||f==="."||f==="..")continue;r=!0,n.splice(i,1);let u=n.slice(0);u[i]="**",t.push(u),i--}if(!this.preserveMultipleSlashes){for(let a=1;a<n.length-1;a++){let l=n[a];a===1&&l===""&&n[0]===""||(l==="."||l==="")&&(r=!0,n.splice(a,1),a--)}n[0]==="."&&n.length===2&&(n[1]==="."||n[1]==="")&&(r=!0,n.pop())}let s=0;for(;(s=n.indexOf("..",s+1))!==-1;){let a=n[s-1];if(a&&a!=="."&&a!==".."&&a!=="**"){r=!0;let c=s===1&&n[s+1]==="**"?["."]:[];n.splice(s-1,2,...c),n.length===0&&n.push(""),s-=2}}}}while(r);return t}secondPhasePreProcess(t){for(let r=0;r<t.length-1;r++)for(let n=r+1;n<t.length;n++){let i=this.partsMatch(t[r],t[n],!this.preserveMultipleSlashes);if(i){t[r]=[],t[n]=i;break}}return t.filter(r=>r.length)}partsMatch(t,r,n=!1){let i=0,s=0,a=[],l="";for(;i<t.length&&s<r.length;)if(t[i]===r[s])a.push(l==="b"?r[s]:t[i]),i++,s++;else if(n&&t[i]==="**"&&r[s]===t[i+1])a.push(t[i]),i++;else if(n&&r[s]==="**"&&t[i]===r[s+1])a.push(r[s]),s++;else if(t[i]==="*"&&r[s]&&(this.options.dot||!r[s].startsWith("."))&&r[s]!=="**"){if(l==="b")return!1;l="a",a.push(t[i]),i++,s++}else if(r[s]==="*"&&t[i]&&(this.options.dot||!t[i].startsWith("."))&&t[i]!=="**"){if(l==="a")return!1;l="b",a.push(r[s]),i++,s++}else return!1;return t.length===r.length&&a}parseNegate(){if(this.nonegate)return;let t=this.pattern,r=!1,n=0;for(let i=0;i<t.length&&t.charAt(i)==="!";i++)r=!r,n++;n&&(this.pattern=t.slice(n)),this.negate=r}matchOne(t,r,n=!1){let i=this.options;if(this.isWindows){let h=typeof t[0]=="string"&&/^[a-z]:$/i.test(t[0]),_=!h&&t[0]===""&&t[1]===""&&t[2]==="?"&&/^[a-z]:$/i.test(t[3]),b=typeof r[0]=="string"&&/^[a-z]:$/i.test(r[0]),x=!b&&r[0]===""&&r[1]===""&&r[2]==="?"&&typeof r[3]=="string"&&/^[a-z]:$/i.test(r[3]),y=_?3:h?0:void 0,E=x?3:b?0:void 0;if(typeof y=="number"&&typeof E=="number"){let[S,w]=[t[y],r[E]];S.toLowerCase()===w.toLowerCase()&&(r[E]=S,E>y?r=r.slice(E):y>E&&(t=t.slice(y)))}}let{optimizationLevel:s=1}=this.options;s>=2&&(t=this.levelTwoFileOptimize(t)),this.debug("matchOne",this,{file:t,pattern:r}),this.debug("matchOne",t.length,r.length);for(var a=0,l=0,c=t.length,f=r.length;a<c&&l<f;a++,l++){this.debug("matchOne loop");var u=r[l],d=t[a];if(this.debug(r,u,d),u===!1)return!1;if(u===ns){this.debug("GLOBSTAR",[r,u,d]);var p=a,m=l+1;if(m===f){for(this.debug("** at the end");a<c;a++)if(t[a]==="."||t[a]===".."||!i.dot&&t[a].charAt(0)===".")return!1;return!0}for(;p<c;){var g=t[p];if(this.debug(`
globstar while`,t,p,r,m,g),this.matchOne(t.slice(p),r.slice(m),n))return this.debug("globstar found match!",p,c,g),!0;if(g==="."||g===".."||!i.dot&&g.charAt(0)==="."){this.debug("dot detected!",t,p,r,m);break}this.debug("globstar swallow a segment, and continue"),p++}return!!(n&&(this.debug(`
>>> no match, partial?`,t,p,r,m),p===c))}let h;if(typeof u=="string"?(h=d===u,this.debug("string match",u,d,h)):(h=u.test(d),this.debug("pattern match",u,d,h)),!h)return!1}if(a===c&&l===f)return!0;if(a===c)return n;if(l===f)return a===c-1&&t[a]==="";throw new Error("wtf?")}braceExpand(){return nU(this.pattern,this.options)}parse(t){cg(t);let r=this.options;if(t==="**")return ns;if(t==="")return"";let n,i=null;(n=t.match(c0e))?i=r.dot?f0e:u0e:(n=t.match(Qse))?i=(r.nocase?r.dot?n0e:r0e:r.dot?t0e:e0e)(n[1]):(n=t.match(d0e))?i=(r.nocase?r.dot?p0e:m0e:r.dot?g0e:h0e)(n):(n=t.match(i0e))?i=r.dot?s0e:o0e:(n=t.match(a0e))&&(i=l0e);let s=_m.fromGlob(t,this.options).toMMPattern();return i&&typeof s=="object"&&Reflect.defineProperty(s,"test",{value:i}),s}makeRe(){if(this.regexp||this.regexp===!1)return this.regexp;let t=this.set;if(!t.length)return this.regexp=!1,this.regexp;let r=this.options,n=r.noglobstar?_0e:r.dot?y0e:v0e,i=new Set(r.nocase?["i"]:[]),s=t.map(c=>{let f=c.map(u=>{if(u instanceof RegExp)for(let d of u.flags.split(""))i.add(d);return typeof u=="string"?S0e(u):u===ns?ns:u._src});return f.forEach((u,d)=>{let p=f[d+1],m=f[d-1];u!==ns||m===ns||(m===void 0?p!==void 0&&p!==ns?f[d+1]="(?:\\/|"+n+"\\/)?"+p:f[d]=n:p===void 0?f[d-1]=m+"(?:\\/|"+n+")?":p!==ns&&(f[d-1]=m+"(?:\\/|\\/"+n+"\\/)"+p,f[d+1]=ns))}),f.filter(u=>u!==ns).join("/")}).join("|"),[a,l]=t.length>1?["(?:",")"]:["",""];s="^"+a+s+l+"$",this.negate&&(s="^(?!"+s+").+$");try{this.regexp=new RegExp(s,[...i].join(""))}catch{this.regexp=!1}return this.regexp}slashSplit(t){return this.preserveMultipleSlashes?t.split("/"):this.isWindows&&/^\/\/[^\/]+/.test(t)?["",...t.split(/\/+/)]:t.split(/\/+/)}match(t,r=this.partial){if(this.debug("match",t,this.pattern),this.comment)return!1;if(this.empty)return t==="";if(t==="/"&&r)return!0;let n=this.options;this.isWindows&&(t=t.split("\\").join("/"));let i=this.slashSplit(t);this.debug(this.pattern,"split",i);let s=this.set;this.debug(this.pattern,"set",s);let a=i[i.length-1];if(!a)for(let l=i.length-2;!a&&l>=0;l--)a=i[l];for(let l=0;l<s.length;l++){let c=s[l],f=i;if(n.matchBase&&c.length===1&&(f=[a]),this.matchOne(f,c,r))return n.flipNegate?!0:!this.negate}return n.flipNegate?!1:this.negate}static defaults(t){return Xn.defaults(t).Minimatch}};Xn.AST=_m;Xn.Minimatch=ym;Xn.escape=vT;Xn.unescape=ac;var TT="contentExclusion",o3=class extends Zx{static{o(this,"CopilotContentExclusion")}#e;#t=new rr(1e4);#i=new rr(200);constructor(t){super(),this.#e=t}async evaluate(t,r){try{t=Dc(t).toString();let n=await this.getGitRepo({uri:t}),i=await this.#r(n?.url??Gu.all);if(!i)return Jx;let s=n?.baseFolder?.uri??"file://",a=this.evaluateFilePathRules(t,s,i);if(a.isBlocked)return a;let l=this.evaluateTextBasedRules(t,i,r);if(l.isBlocked)return l}catch(n){return $a.exception(this.#e,n,`${TT}.evaluate`),wM}return sg}evaluateFilePathRules(t,r,n){let i=t;if(this.#t.has(i))return this.#t.get(i);let s=sg,a,l=Tb(t.replace(r,""));e:for(let c of n)for(let f of c.paths)if(Xn(l,f,{nocase:!0,matchBase:!0,nonegate:!0,dot:!0})){s=IT(c,"FILE_BLOCKED_PATH"),a=f;break e}return $a.debug(this.#e,`Evaluated path-based exclusion rules for <${t}>`,{result:s,baseUri:r,fileName:l,matchingPattern:a}),this.#t.set(i,s),s}evaluateTextBasedRules(t,r,n){let i=r.filter(l=>l.ifAnyMatch),s=r.filter(l=>l.ifNoneMatch);if(!n||i.length===0&&s.length===0)return sg;let a=this.evaluateFileContent(i,s,n);return $a.debug(this.#e,`Evaluated text-based exclusion rules for <${t}>`,{result:a}),a}evaluateFileContent(t,r,n){for(let i of t)if(i.ifAnyMatch&&i.ifAnyMatch.length>0&&i.ifAnyMatch.map(a=>iU(a)).some(a=>a.test(n)))return IT(i,"FILE_BLOCKED_TEXT_BASED");for(let i of r)if(i.ifNoneMatch&&i.ifNoneMatch.length>0&&!i.ifNoneMatch.map(a=>iU(a)).some(a=>a.test(n)))return IT(i,"FILE_BLOCKED_TEXT_BASED");return sg}async refresh(){try{let t=[...this.#i.keys()];this.reset(),await Promise.all(t.map(r=>this.#o(r)))}catch(t){Ys(this.#e,t,`${TT}.refresh`)}}reset(){this.#i.clear(),this.#t.clear()}async#r(t){if(this.#n?.length)return this.#n;let r=await this.#o(t.toLowerCase());if(r.length!==0)return r}#n;setTestingRules(t){this.#n=t}#o=AM(async t=>{let r=await this.#e.get(Mr).getGitHubSession();if(!r)throw new Ya("No token found");let n=r.devOverride?.contentRestrictionsUrl??"copilot_internal/content_exclusion",i=new URL(n,r.apiUrl),s=t.includes(Gu.all);t.filter(f=>f!==Gu.all).length>0&&i.searchParams.set("repos",t.filter(f=>f!==Gu.all).join(",")),i.searchParams.set("scope",s?Gu.all:Gu.repo);let l=await Jc(this.#e,r,i.href),c=await l.json();if(!l.ok){if(l.status===404)return Array.from(t,()=>[]);throw this.#s("fetch.error",{message:c.message}),new Y0(l)}return this.#s("fetch.success"),DM(N0e,c).map(f=>f.rules)},this.#i);async getGitRepo(t){let n=await this.#e.get(qa).getRepo(X0(t));if(!n||!n?.remote)return;let i=n.remote.getUrlForApi();if(i)return{baseFolder:n.baseFolder,url:i}}#s(t,r,n){Se(this.#e,`${TT}.${t}`,Qe.createAndMarkAsIssued(r,n))}};function iU(e){if(!e.startsWith("/")&&!e.endsWith("/"))return new RegExp(e);let t=e.slice(1,e.lastIndexOf("/")),r=e.slice(e.lastIndexOf("/")+1);return new RegExp(t,r)}o(iU,"stringToRegex");function IT(e,t){return{isBlocked:!0,message:`Your ${e.source.type.toLowerCase()} '${e.source.name}' has disabled Copilot for this file`,reason:t}}o(IT,"fileBlockedEvaluationResult");var w0e=B.Object({name:B.String(),type:B.String()}),P0e=B.Object({paths:B.Array(B.String()),ifNoneMatch:B.Optional(B.Array(B.String())),ifAnyMatch:B.Optional(B.Array(B.String())),source:w0e}),D0e=B.Array(P0e),R0e=B.Object({rules:D0e,last_updated_at:B.String(),scope:B.String()}),N0e=B.Array(R0e);var is=class{constructor(t){this.ctx=t;this.#e=!1;this.#t=new o3(this.ctx);this.evaluateResultCache=new Map;this.onDidChangeActiveTextEditor=o(async t=>{if(!this.#e)return;if(!t){this.updateStatusIcon(!1);return}let r=await this.ctx.get(Gt).getTextDocumentValidation(t.document),n=r.status==="invalid",i=r.status==="invalid"?r.reason:void 0;this.updateStatusIcon(n,i)},"onDidChangeActiveTextEditor");this.ctx.get(Gt).onDidFocusTextDocument(this.onDidChangeActiveTextEditor),Vr(this.ctx,r=>{this.#e=r.envelope.copilotignore_enabled??!1,this.evaluateResultCache.clear(),this.#t.refresh()})}static{o(this,"CopilotContentExclusionManager")}#e;#t;get enabled(){return this.#e}async evaluate(t,r,n){let i=Vh(t)!==void 0;if(i||$a.debug(this.ctx,`Unsupported file URI <${t}>`),!this.#e||!i)return{isBlocked:!1};let s=[],a=o(async(f,u)=>{let d=Date.now(),p=await u.evaluate(t,r),m=Date.now();return s.push({key:f,result:p,elapsedMs:m-d}),p},"track"),c=(await Promise.all([a("contentExclusion.evaluate",this.#t)])).find(f=>f?.isBlocked)??{isBlocked:!1};try{for(let f of s)this.#i(f.key,t,f.result,f.elapsedMs)}catch(f){$a.error(this.ctx,"Error tracking telemetry",f)}return n==="UPDATE"&&this.updateStatusIcon(c.isBlocked,c.message),c}updateStatusIcon(t,r){this.#e&&(t?this.ctx.get(Lr).setInactive(r??"Copilot is disabled"):this.ctx.get(Lr).clearInactive())}#i(t,r,n,i){let s=r+t;if(this.evaluateResultCache.get(s)===n.reason)return!1;if(this.evaluateResultCache.set(s,n.reason??"UNKNOWN"),n.reason===Jx.reason)return $a.debug(this.ctx,`[${t}] No matching policy for this repository. uri: ${r}`),!1;let l={isBlocked:n.isBlocked?"true":"false",reason:n.reason??"UNKNOWN"},c={elapsedMs:i};return Se(this.ctx,t,Qe.createAndMarkAsIssued(l,c)),Se(this.ctx,t,Qe.createAndMarkAsIssued({...l,path:r},c),1),$a.debug(this.ctx,`[${t}] ${r}`,n),!0}setTestingRules(t){this.#t.setTestingRules(t)}set __contentExclusions(t){this.#t=t}get __contentExclusions(){return this.#t}};async function zu(e,t,r){let n=await e.get(is).evaluate(t.uri,r);return n.isBlocked?{status:"invalid",reason:n.message??"Document is blocked by repository policy"}:{status:"valid"}}o(zu,"isDocumentValid");var Gt=class{constructor(t){this.ctx=t}static{o(this,"TextDocumentManager")}async textDocuments(){let t=this.getTextDocumentsUnsafe(),r=[];for(let n of t)(await zu(this.ctx,n,n.getText())).status==="valid"&&r.push(n);return r}getTextDocumentUnsafe(t){let r=No(t.uri);return this.getTextDocumentsUnsafe().find(n=>n.uri===r)}async getTextDocument(t){return this.getTextDocumentWithValidation(t).then(r=>{if(r.status==="valid")return r.document})}validateTextDocument(t,r){return zu(this.ctx,t,r)}async getTextDocumentValidation(t){try{let r=this.getTextDocumentUnsafe(t)?.getText()??await this.readTextDocumentFromDisk(t.uri);return r===void 0?this.notFoundResult(t):this.validateTextDocument(t,r)}catch{return this.notFoundResult(t)}}async getTextDocumentWithValidation(t){let r=this.getTextDocumentUnsafe(t);if(!r)return this.notFoundResult(t);let n=await this.validateTextDocument(t,r.getText());return n.status==="valid"?{status:"valid",document:r}:n}notFoundResult({uri:t}){return{status:"notfound",message:`Document for URI could not be found: ${t}`}}async readTextDocumentFromDisk(t){try{if((await this.ctx.get(Jr).stat(t)).size>5*1024*1024)return}catch{return}return await this.ctx.get(Jr).readFileString(t)}getWorkspaceFolder(t){let r=No(t.uri);return this.getWorkspaceFolders().find(n=>r.startsWith(No(n.uri)))}getRelativePath(t){if(t.uri.startsWith("untitled:"))return;let r=No(t.uri);for(let n of this.getWorkspaceFolders()){let i=No(n.uri).replace(/[#?].*/,"").replace(/\/?$/,"/");if(r.startsWith(i))return r.slice(i.length)}return el(r)}};var F0=class{constructor(t){this.ctx=t}static{o(this,"FileReader")}getRelativePath(t){return this.ctx.get(Gt).getRelativePath(t)??el(t.uri)}getOrReadTextDocument(t){return this.readFile(t.uri)}getOrReadTextDocumentWithFakeClientProperties(t){return this.readFile(t.uri)}async readFile(t){let n=await this.ctx.get(Gt).getTextDocumentWithValidation({uri:t});if(n.status!=="notfound")return n;try{if(await this.getFileSizeMB(t)>1)return{status:"notfound",message:"File too large"};let s=await this.doReadFile(t),a=await zu(this.ctx,{uri:t},s);return a.status==="valid"?{status:"valid",document:Wu.create(t,"UNKNOWN",-1,s)}:a}catch{return{status:"notfound",message:"File not found"}}}async doReadFile(t){return await this.ctx.get(Jr).readFileString(t)}async getFileSizeMB(t){return(await this.ctx.get(Jr).stat(t)).size/1024/1024}};var So=class{constructor(){this.resolve=o(()=>{},"resolve");this.reject=o(()=>{},"reject");this.promise=new Promise((t,r)=>{this.resolve=t,this.reject=r})}static{o(this,"Deferred")}};function lc(e,t=void 0){return new Promise(r=>setTimeout(()=>r(t),e))}o(lc,"delay");var ET=class{constructor(){this.observers=new Set}static{o(this,"Subject")}subscribe(t){return this.observers.add(t),()=>this.observers.delete(t)}next(t){for(let r of this.observers)r.next(t)}error(t){for(let r of this.observers)r.error?.(t)}complete(){for(let t of this.observers)t.complete?.()}},a3=class extends ET{static{o(this,"ReplaySubject")}subscribe(t){let r=super.subscribe(t);return this._value!==void 0&&t.next(this._value),r}next(t){this._value=t,super.next(t)}};var wo=class{constructor(t){this.ctx=t;this.#e=new St("AsyncCompletionManager");this.requests=new rr(100);this.mostRecentRequestId=""}static{o(this,"AsyncCompletionManager")}#e;clear(){this.requests.clear()}shouldWaitForAsyncCompletions(t,r){for(let[n,i]of this.requests)if(CT(t,r,i))return!0;return!1}updateCompletion(t,r){let n=this.requests.get(t);n!==void 0&&(n.partialCompletionText=r,n.subject.next(n))}queueCompletionRequest(t,r,n,i,s){this.#e.debug(this.ctx,`[${t}] Queueing async completion request:`,r.substring(r.lastIndexOf(`
`)+1));let a=new a3;return this.requests.set(t,{state:2,cancellationTokenSource:i,headerRequestId:t,prefix:r,prompt:n,subject:a}),s.then(l=>{if(this.requests.delete(t),l.type!=="success"){this.#e.debug(this.ctx,`[${t}] Request failed with`,l.reason),a.error(l.reason);return}let c={cancellationTokenSource:i,headerRequestId:t,prefix:r,prompt:n,subject:a,choice:l.value[0],result:l,state:0,allChoicesPromise:l.value[1]};this.requests.set(t,c),a.next(c),a.complete()}).catch(l=>{this.#e.error(this.ctx,`[${t}] Request errored with`,l),this.requests.delete(t),a.error(l)})}getFirstMatchingRequestWithTimeout(t,r,n,i,s){let a=this.ctx.get(Be).asyncCompletionsTimeout(s);return a<0?(this.#e.debug(this.ctx,`[${t}] Waiting for completions without timeout`),this.getFirstMatchingRequest(t,r,n,i)):(this.#e.debug(this.ctx,`[${t}] Waiting for completions with timeout of ${a}ms`),Promise.race([this.getFirstMatchingRequest(t,r,n,i),new Promise(l=>setTimeout(()=>l(null),a))]).then(l=>{if(l===null){this.#e.debug(this.ctx,`[${t}] Timed out waiting for completion`);return}return l}))}async getFirstMatchingRequest(t,r,n,i){i||(this.mostRecentRequestId=t);let s=!1,a=new So,l=new Map,c=o(u=>()=>{let d=l.get(u);d!==void 0&&(d(),l.delete(u),!s&&l.size===0&&(s=!0,this.#e.debug(this.ctx,`[${t}] No matching completions found`),a.resolve(void 0)))},"finishRequest"),f=o(u=>{if(CT(r,n,u)){if(u.state===0){let d=r.substring(u.prefix.length),{completionText:p}=u.choice;if(!p.startsWith(d)||p.length<=d.length){c(u.headerRequestId)();return}p=p.substring(d.length),u.choice.telemetryData.measurements.foundOffset=d.length,this.#e.debug(this.ctx,`[${t}] Found completion at offset ${d.length}: ${JSON.stringify(p)}`),a.resolve([{...u.choice,completionText:p},u.allChoicesPromise]),s=!0}}else this.cancelRequest(t,u),c(u.headerRequestId)()},"next");for(let[u,d]of this.requests)CT(r,n,d)?l.set(u,d.subject.subscribe({next:f,error:c(u),complete:c(u)})):this.cancelRequest(t,d);return a.promise.finally(()=>{for(let u of l.values())u()})}cancelRequest(t,r){t===this.mostRecentRequestId&&r.state!==0&&(this.#e.debug(this.ctx,`[${t}] Cancelling request: ${r.headerRequestId}`),r.cancellationTokenSource.cancel(),this.requests.delete(r.headerRequestId))}};function CT(e,t,r){if(r.prompt.suffix!==t.suffix||!e.startsWith(r.prefix))return!1;let n=e.substring(r.prefix.length);return r.state===0?r.choice.completionText.startsWith(n)&&r.choice.completionText.trimEnd().length>n.length:r.partialCompletionText===void 0?!0:r.partialCompletionText.startsWith(n)}o(CT,"isCandidate");var dg=class{constructor(t){this.maxSize=t;this.root=new fg;this.leafNodes=new Set}static{o(this,"LRURadixTrie")}set(t,r){let{node:n,remainingKey:i}=this.findClosestNode(t);if(i.length>0){for(let[s,a]of n.children)if(s.startsWith(i)){let l=s.slice(0,i.length),c=new fg;n.removeChild(s),n.addChild(l,c),c.addChild(s.slice(l.length),a),n=c,i=i.slice(l.length);break}if(i.length>0){let s=new fg;n.addChild(i,s),n=s}}n.value=r,this.leafNodes.add(n),this.leafNodes.size>this.maxSize&&this.evictLeastRecentlyUsed()}findAll(t){return this.findClosestNode(t).stack.map(({node:r,remainingKey:n})=>r.value!==void 0?{remainingKey:n,value:r.value}:void 0).filter(r=>r!==void 0)}delete(t){let{node:r,remainingKey:n}=this.findClosestNode(t);n.length>0||this.deleteNode(r)}findClosestNode(t){let r=!0,n=this.root,i=[{node:n,remainingKey:t}];for(;t.length>0&&r;){r=!1;for(let[s,a]of n.children)if(t.startsWith(s)){t=t.slice(s.length),i.unshift({node:a,remainingKey:t}),n=a,r=!0;break}}return{node:n,remainingKey:t,stack:i}}deleteNode(t){if(t.value=void 0,this.leafNodes.delete(t),t.parent===void 0||t.childCount>1)return;let{node:r,edge:n}=t.parent;if(t.childCount===1){let[s,a]=Array.from(t.children)[0];t.removeChild(s),r.removeChild(n),r.addChild(n+s,a);return}if(r.removeChild(n),r.parent===void 0)return;let i=r.parent;if(r.value===void 0&&r.childCount===1){let[s,a]=Array.from(r.children)[0],l=i.edge+s;r.removeChild(s),i.node.removeChild(i.edge),i.node.addChild(l,a)}}evictLeastRecentlyUsed(){let t=this.findLeastRecentlyUsed();t&&this.deleteNode(t)}findLeastRecentlyUsed(){let t;for(let r of this.leafNodes)(t===void 0||r.touched<t.touched)&&(t=r);return t}},fg=class{constructor(){this._children=new Map;this._touched=performance.now()}static{o(this,"LRURadixNode")}get children(){return this._children.entries()}get childCount(){return this._children.size}addChild(t,r){this._children.set(t,r),r.parent={node:this,edge:t}}removeChild(t){let r=this._children.get(t);r&&(r.parent=void 0),this._children.delete(t)}get value(){return this.touch(),this._value}set value(t){this.touch(),this._value=t}get touched(){return this._touched}touch(){this._touched=performance.now()}};var M0=class{constructor(){this.cache=new dg(100)}static{o(this,"CompletionsCache")}findAll(t,r){return this.cache.findAll(t).flatMap(({remainingKey:n,value:i})=>i.content.filter(s=>s.suffix===r&&s.choice.completionText.startsWith(n)&&s.choice.completionText.length>n.length).map(s=>({...s.choice,completionText:s.choice.completionText.slice(n.length),telemetryData:s.choice.telemetryData.extendedBy({},{foundOffset:n.length})})))}append(t,r,n){let i=this.cache.findAll(t);if(i.length>0&&i[0].remainingKey===""){let s=i[0].value.content;this.cache.set(t,{content:[...s,{suffix:r,choice:n}]})}else this.cache.set(t,{content:[{suffix:r,choice:n}]})}clear(){this.cache=new dg(100)}};var U0=class{constructor(t,r,n){this.languageId=t;this.prefix=r;this.completion=n}static{o(this,"BlockTrimmer")}static isSupported(t){return ni.isSupported(t)}async withParsedStatementTree(t){var n=[];try{let r=fb(n,ni.create(this.languageId,this.prefix+this.completion,this.prefix.length,this.prefix.length+this.completion.length));await r.build();return await t(r)}catch(i){var s=i,a=!0}finally{db(n,s,a)}}trimmedCompletion(t){return t===void 0?this.completion:this.completion.substring(0,t)}getStatementAtCursor(t){return t.statementAt(Math.max(this.prefix.length-1,0))??t.statements[0]}getContainingBlockOffset(t){let r;if(t&&this.isCompoundStatement(t))r=t;else if(t){let n=t.parent;for(;n&&!this.isCompoundStatement(n);)n=n.parent;r=n}if(r){let n=this.asCompletionOffset(r.node.endIndex);if(n&&this.completion.substring(n).trim()!=="")return n}}hasNonStatementContentAfter(t){if(!t||!t.nextSibling)return!1;let r=this.asCompletionOffset(t.node.endIndex),n=this.asCompletionOffset(t.nextSibling.node.startIndex);return this.completion.substring(Math.max(0,r??0),Math.max(0,n??0)).trim()!==""}asCompletionOffset(t){return t===void 0?void 0:t-this.prefix.length}isCompoundStatement(t){return t.isCompoundStatementType||t.children.length>0}};var l3=class extends U0{constructor(r,n,i,s=3,a=7){super(r,n,i);this.lineLimit=s;this.lookAhead=a;let l=[...this.completion.matchAll(/\n/g)],c=this.lineLimit+this.lookAhead;l.length>=this.lineLimit&&this.lineLimit>0&&(this.limitOffset=l[this.lineLimit-1].index),l.length>=c&&c>0&&(this.lookAheadOffset=l[c-1].index)}static{o(this,"TerseBlockTrimmer")}async getCompletionTrimOffset(){return await this.withParsedStatementTree(async r=>{let n=r.statementAt(this.stmtStartPos()),i=this.getContainingBlockOffset(n);return i=this.trimAtFirstBlankLine(i),n&&(i=this.trimAtStatementChange(n,i)),this.limitOffset&&this.lookAheadOffset&&(i===void 0||i>this.lookAheadOffset)?this.limitOffset:i})}stmtStartPos(){let r=this.completion.match(/\S/);return r&&r.index!==void 0?this.prefix.length+r.index:Math.max(this.prefix.length-1,0)}trimAtFirstBlankLine(r){let n=[...this.trimmedCompletion(r).matchAll(/\r?\n\s*\r?\n/g)];for(;n.length>0&&(r===void 0||r>n[0].index);){let i=n.shift();if(this.completion.substring(0,i.index).trim()!=="")return i.index}return r}trimAtStatementChange(r,n){let i=this.prefix.length,s=this.prefix.length+(n??this.completion.length);if(r.node.endIndex>i&&this.isCompoundStatement(r))return r.nextSibling&&r.node.endIndex<s?this.asCompletionOffset(r.node.endIndex):n;let a=r,l=r.nextSibling;for(;l&&l.node.endIndex<=s&&!this.hasNonStatementContentAfter(a)&&!this.isCompoundStatement(l);)a=l,l=l.nextSibling;return l&&a.node.endIndex>i&&a.node.endIndex<s?this.asCompletionOffset(a.node.endIndex):n}};async function oU(e,t){var l=[];try{let r=e.getText();let n=e.offsetAt(t);let i=fb(l,ni.create(e.detectedLanguageId,r,0,r.length));await i.build();let s=i.statementAt(n);if(!s)return"non-block";if(!s.isCompoundStatementType&&s.children.length===0)return s.parent&&!s.nextSibling&&s.node.endPosition.row<=t.line?"block-end":s.parent?"mid-block":"non-block";if(s.children.length===0)return"empty-block";let a=s.children[s.children.length-1];if(n<a.node.startIndex)return"mid-block";return"block-end"}catch(c){var f=c,u=!0}finally{db(l,f,u)}}o(oU,"getBlockPositionType");var Wa={" ":1,"!":2,'"':3,"#":4,$:5,"%":6,"&":7,"'":8,"(":9,")":10,"*":11,"+":12,",":13,"-":14,".":15,"/":16,0:17,1:18,2:19,3:20,4:21,5:22,6:23,7:24,8:25,9:26,":":27,";":28,"<":29,"=":30,">":31,"?":32,"@":33,A:34,B:35,C:36,D:37,E:38,F:39,G:40,H:41,I:42,J:43,K:44,L:45,M:46,N:47,O:48,P:49,Q:50,R:51,S:52,T:53,U:54,V:55,W:56,X:57,Y:58,Z:59,"[":60,"\\":61,"]":62,"^":63,_:64,"`":65,a:66,b:67,c:68,d:69,e:70,f:71,g:72,h:73,i:74,j:75,k:76,l:77,m:78,n:79,o:80,p:81,q:82,r:83,s:84,t:85,u:86,v:87,w:88,x:89,y:90,z:91,"{":92,"|":93,"}":94,"~":95};function sU(e){let t;e[13]>1e-35?e[3]>1.5000000000000002?e[8]>427.50000000000006?e[9]>13.500000000000002?e[121]>1e-35?t=-.3793786744885956:e[149]>1e-35?t=-.34717430705356905:t=-.26126834451035963:t=-.2431318366096852:e[5]>888.5000000000001?t=-.20600463586387135:t=-.2568037008471491:e[308]>1e-35?t=-.2363064824497454:e[8]>370.50000000000006?t=-.37470755210284723:t=-.321978453730494:e[3]>24.500000000000004?e[23]>1e-35?e[131]>1e-35?t=-.26259136509758885:t=-.3096719634039438:e[4]>30.500000000000004?e[9]>18.500000000000004?t=-.34254903852890883:e[2]>98.50000000000001?t=-.41585250791146294:t=-.3673574858887241:e[9]>6.500000000000001?t=-.31688079287876225:e[31]>1e-35?t=-.29110977864003823:e[308]>1e-35?t=-.3201411739040839:t=-.36874023066055506:e[8]>691.5000000000001?e[82]>1e-35?t=-.41318393149040566:e[133]>1e-35?t=-.3741272613525161:e[32]>1e-35?t=-.4112378041027121:e[227]>1e-35?t=-.37726615155719356:e[10]>3.5000000000000004?t=-.3164502293560397:t=-.2930071546509045:e[9]>13.500000000000002?t=-.277366858539218:e[308]>1e-35?e[4]>10.500000000000002?t=-.30975610686807187:e[4]>1.5000000000000002?t=-.2549142136728043:t=-.3271325650785176:e[127]>1e-35?e[0]>1937.5000000000002?t=-.2533046188098832:t=-.325520883579:t=-.331628896481776;let r;e[13]>1e-35?e[3]>1.5000000000000002?e[8]>546.5000000000001?e[9]>13.500000000000002?r=.031231253521808708:r=.05380836288014532:e[5]>423.00000000000006?e[8]>114.50000000000001?r=.06751619128429062:r=.09625089153176467:r=.027268163053989804:e[308]>1e-35?r=.060174483556283756:r=-.049062854038919135:e[3]>24.500000000000004?e[23]>1e-35?e[4]>63.50000000000001?r=-.03969241799174589:r=.01086816842550381:e[31]>1e-35?r=-.003284694817583201:e[9]>6.500000000000001?e[4]>30.500000000000004?r=-.04224490699947552:r=-.011834162944360616:e[308]>1e-35?e[32]>1e-35?r=-.13448447971850278:r=-.019569456707046823:e[19]>1e-35?e[9]>1.5000000000000002?r=-.07256260662659254:e[4]>60.50000000000001?r=-.08227503453609311:r=-.020596416747563847:r=-.07396549241564149:e[8]>691.5000000000001?e[82]>1e-35?r=-.10046536995362734:e[133]>1e-35?r=-.06407649822752297:e[225]>1e-35?r=.08035785003303324:e[92]>1e-35?r=.018901360933204676:e[20]>1e-35?r=.05252546973665552:e[8]>2592.5000000000005?r=-.040543705016462955:r=-.011236043818320725:e[9]>17.500000000000004?r=.025560632674895334:e[308]>1e-35?e[0]>1847.5000000000002?r=.03527165701669741:r=-.0071847350825815035:e[127]>1e-35?r=.024373016379595405:e[9]>2.5000000000000004?r=-.0035090719709448288:r=-.03514829488063766;let n;e[13]>1e-35?e[3]>1.5000000000000002?e[8]>546.5000000000001?n=.03848674861536988:e[5]>423.00000000000006?e[8]>114.50000000000001?e[9]>56.50000000000001?n=-.003764520033319488:n=.06570817919969299:e[4]>61.50000000000001?n=.028346156293069538:n=.0908154644362606:n=.02445594243234816:e[308]>1e-35?e[8]>65.50000000000001?n=.0019305229020073053:n=.09279357295883772:n=-.04458984161917124:e[3]>24.500000000000004?e[23]>1e-35?n=.0027405390271277013:e[4]>29.500000000000004?e[52]>1e-35?n=.044727478132905285:e[115]>1e-35?n=.10245804828855934:e[9]>17.500000000000004?n=-.03353173647469207:e[2]>98.50000000000001?n=-.10048106638102179:n=-.05484231104348874:e[31]>1e-35?n=.016807537467116516:e[9]>6.500000000000001?n=-.012113620535295137:e[4]>8.500000000000002?e[308]>1e-35?n=-.01882594250504289:n=-.05585658862796076:n=.04279591277938338:e[8]>691.5000000000001?e[82]>1e-35?n=-.09262278043707878:e[133]>1e-35?n=-.058454257768893625:e[32]>1e-35?n=-.09769348447126434:e[25]>1e-35?n=-.0725430043727677:e[122]>1e-35?n=-.10047841601578077:n=-.00580671054458958:e[9]>13.500000000000002?n=.021399199032818294:e[308]>1e-35?e[4]>10.500000000000002?n=-.0076376731757173515:n=.03394923033036848:e[127]>1e-35?n=.02070489091204209:n=-.02290162726126496;let i;e[13]>1e-35?e[3]>1.5000000000000002?e[8]>892.5000000000001?e[9]>21.500000000000004?i=.010230295672324606:i=.038540509248742805:e[8]>125.50000000000001?e[1]>49.50000000000001?i=.03086356292895467:i=.057128750867458604:e[5]>888.5000000000001?i=.07861602941396924:i=.030523262699070908:e[308]>1e-35?i=.048236117667577356:e[8]>370.50000000000006?i=-.05642125069212264:i=-.007232836777168195:e[3]>24.500000000000004?e[23]>1e-35?e[131]>1e-35?i=.03640661467213915:i=-.005889820723907028:e[31]>1e-35?i=-.0009007166998276938:e[9]>6.500000000000001?i=-.022590340093882378:e[308]>1e-35?e[32]>1e-35?i=-.1215445089091064:i=-.01435612266219722:e[19]>1e-35?e[9]>1.5000000000000002?i=-.061555513040777825:e[4]>60.50000000000001?i=-.07053475504569347:i=-.013733369453963092:i=-.06302097189114152:e[227]>1e-35?i=-.05820440333190048:e[8]>683.5000000000001?e[82]>1e-35?i=-.08466979526809346:e[10]>24.500000000000004?i=-.017092159721119944:e[92]>1e-35?i=.03592901452463749:i=-.00359310519524756:e[5]>1809.5000000000002?e[243]>1e-35?i=-.03963116207386097:e[118]>1e-35?i=-.09483996283536394:e[217]>1e-35?i=-.03394542089519989:e[242]>1e-35?i=-.07985899422287938:i=.019706602160656964:e[9]>12.500000000000002?i=.014072998937735146:i=-.021156294523894684;let s;e[13]>1e-35?e[3]>1.5000000000000002?e[8]>892.5000000000001?e[9]>21.500000000000004?s=.009197756540516563:s=.03458896869535166:e[5]>5082.500000000001?s=.08265545468131008:e[131]>1e-35?s=.0740738432473315:s=.045159136632942756:e[8]>319.50000000000006?s=-.04653401534465376:e[7]>3.5000000000000004?e[0]>1230.5000000000002?e[0]>2579.5000000000005?s=-.011400839766681709:s=.11149800187510031:s=-.08683250977599462:s=.08355310136724753:e[4]>23.500000000000004?e[23]>1e-35?e[131]>1e-35?s=.040389083779932555:s=-.009887614274108602:e[52]>1e-35?s=.03705353499757327:e[9]>6.500000000000001?s=-.025401260429257562:e[2]>98.50000000000001?s=-.09237673187534504:s=-.04298556869281803:e[222]>1e-35?s=-.045221965895986184:e[8]>691.5000000000001?e[133]>1e-35?s=-.05435318330148897:e[128]>1e-35?s=-.08672907303184191:e[227]>1e-35?s=-.05568304584186561:e[122]>1e-35?s=-.09623059693538563:e[225]>1e-35?s=.07558331642202279:e[82]>1e-35?s=-.07360566227233566:s=-.005646164647395919:e[242]>1e-35?s=-.08203758341228108:e[9]>13.500000000000002?s=.018726123829696042:e[308]>1e-35?e[4]>10.500000000000002?s=-.011153942154062704:s=.03132858912391067:e[127]>1e-35?s=.021455228822345174:e[23]>1e-35?s=.01959966745346997:s=-.021764790177579325;let a;e[13]>1e-35?e[3]>1.5000000000000002?e[8]>284.50000000000006?e[121]>1e-35?e[18]>1e-35?a=.07547602514276922:a=-.08529678832140396:a=.030314822344598043:e[5]>888.5000000000001?e[4]>61.50000000000001?a=.011143589009415464:a=.0654700456802118:a=.021794712646632755:e[308]>1e-35?a=.04231872551095028:a=-.034381999950549455:e[4]>23.500000000000004?e[23]>1e-35?e[4]>63.50000000000001?a=-.03678981254332261:a=.010518160384496255:e[8]>825.5000000000001?a=-.04506534842082387:e[9]>38.50000000000001?a=.01004983052203438:a=-.030580958620701027:e[39]>1e-35?a=-.12802435021505382:e[8]>691.5000000000001?e[23]>1e-35?e[203]>1e-35?e[4]>6.500000000000001?a=.030426957004611704:a=-.0726407693060581:a=.017395521646964375:e[4]>7.500000000000001?e[0]>93.50000000000001?e[9]>7.500000000000001?a=-.008024349629981291:e[31]>1e-35?a=.01296539930850471:e[308]>1e-35?a=-.012855016509024084:a=-.04564527976851505:a=-.15681420504058596:e[10]>4.500000000000001?e[243]>1e-35?a=-.1012064426380198:a=-.0062808850924854194:a=.030706323726162416:e[9]>13.500000000000002?a=.017081636133736405:e[308]>1e-35?e[4]>10.500000000000002?a=-.009306613091760644:e[4]>1.5000000000000002?a=.03655523200850989:a=-.02671654212893341:e[127]>1e-35?a=.019261510468604387:a=-.017627818570628936;let l;e[13]>1e-35?e[3]>1.5000000000000002?e[8]>892.5000000000001?e[308]>1e-35?l=.036100405995889276:l=.011709313297015793:e[0]>119.50000000000001?e[8]>125.50000000000001?l=.03622542297472574:l=.05595579157301536:l=-.02234751038146796:e[8]>319.50000000000006?l=-.040132029478400735:e[7]>3.5000000000000004?e[0]>1230.5000000000002?e[0]>2579.5000000000005?l=-.009306153573847916:l=.10058509567064988:l=-.0785668890966017:e[9]>28.500000000000004?l=-.04781977604130416:l=.09753292614937459:e[4]>23.500000000000004?e[131]>1e-35?l=.02372493254975127:e[148]>1e-35?l=.028103095989516644:e[4]>58.50000000000001?e[10]>1e-35?l=-.05000852203469597:l=.02922366846119705:e[23]>1e-35?l=-.0026335076988151292:l=-.03073993752935585:e[222]>1e-35?l=-.03867374428185713:e[32]>1e-35?l=-.07220729365053084:e[39]>1e-35?l=-.11624524614351733:e[8]>691.5000000000001?e[133]>1e-35?l=-.04836360271198036:e[8]>4968.500000000001?l=-.10873681915578029:e[149]>1e-35?l=-.11847484033769298:e[122]>1e-35?l=-.08916172460307559:e[82]>1e-35?l=-.06774726602152634:l=-.0033469147714351327:e[126]>1e-35?l=-.09474445392080015:e[8]>131.50000000000003?e[118]>1e-35?l=-.09002547031023511:l=.015475385187009489:e[25]>1e-35?l=-.08175501232759151:l=-.000429679055394914;let c;e[13]>1e-35?e[3]>1.5000000000000002?e[8]>546.5000000000001?c=.021942996005324917:c=.042349138084484074:e[308]>1e-35?c=.036507270845732874:c=-.028981850556764995:e[3]>24.500000000000004?e[23]>1e-35?c=.00210930790963475:e[31]>1e-35?c=.006825358293027163:e[9]>6.500000000000001?c=-.013772084269062394:e[308]>1e-35?c=-.008307929099892574:e[19]>1e-35?c=-.027706313312904487:c=-.04891108984170914:e[134]>1e-35?c=-.0605730733844732:e[25]>1e-35?c=-.05347926493253117:e[227]>1e-35?c=-.049415829249003666:e[32]>1e-35?c=-.06807799662179595:e[308]>1e-35?e[4]>10.500000000000002?e[2]>13.500000000000002?c=-.00016302718260794637:c=-.10247095758122947:e[210]>1e-35?c=-.022149002072787024:e[95]>1e-35?c=.15222631630626304:c=.027393884520465712:e[9]>7.500000000000001?e[225]>1e-35?c=.13483346577752245:e[3]>9.500000000000002?e[243]>1e-35?c=-.045352728133789516:e[8]>683.5000000000001?c=.00474372227519902:c=.02635476098707525:e[92]>1e-35?c=.05659380819933452:e[105]>1e-35?c=.07431443210341222:e[186]>1e-35?c=.0915821133384904:c=-.016414750130401053:e[127]>1e-35?c=.011824693641866162:e[23]>1e-35?c=.0228468674288774:e[284]>1e-35?c=.06606936863302432:c=-.02872463273902358;let f;e[13]>1e-35?e[3]>1.5000000000000002?e[8]>125.50000000000001?e[288]>1e-35?f=-.019844363904157558:e[1]>50.50000000000001?e[131]>1e-35?f=.044961338592245194:f=.003659599513761676:e[121]>1e-35?f=-.04057103630479994:f=.03158560697078578:e[0]>421.50000000000006?e[4]>61.50000000000001?f=-.0003708603406529278:f=.05331312264472391:f=.0006575958601218936:e[8]>319.50000000000006?f=-.034654694051901545:e[7]>3.5000000000000004?e[0]>1230.5000000000002?e[0]>2579.5000000000005?f=-.0076053515916517005:f=.09116695486305336:f=-.07137458699162028:f=.06633130654035282:e[4]>29.500000000000004?e[23]>1e-35?e[4]>63.50000000000001?f=-.0308520802187302:f=.013156423968295541:e[115]>1e-35?f=.11581171687488252:e[52]>1e-35?e[10]>22.500000000000004?f=.12264179915175587:f=-.021905727233873535:e[8]>799.5000000000001?f=-.04181869575935412:f=-.023695901673350575:e[222]>1e-35?f=-.034612899265371776:e[8]>691.5000000000001?e[9]>98.50000000000001?f=-.06892116536821917:e[149]>1e-35?f=-.11194586444154514:e[133]>1e-35?f=-.04269583234000504:e[128]>1e-35?f=-.0644631966969502:e[8]>4968.500000000001?f=-.09650726096330133:f=-.004219129180139438:e[126]>1e-35?f=-.08038306745347751:e[5]>1809.5000000000002?f=.009265335288169993:e[9]>2.5000000000000004?f=.006447645462117438:f=-.021047132609551503;let u;e[13]>1e-35?e[3]>1.5000000000000002?e[9]>21.500000000000004?e[121]>1e-35?u=-.08436540015142402:e[8]>1861.5000000000002?u=-.01621425699342421:u=.01878613821895428:u=.031052879158242532:e[8]>319.50000000000006?u=-.031536619360997865:e[7]>3.5000000000000004?u=-.004510586962343298:u=.0596524941011746:e[4]>18.500000000000004?e[23]>1e-35?u=.004757490541310808:e[9]>6.500000000000001?u=-.008842393772207996:e[31]>1e-35?u=.0010536183837006993:e[308]>1e-35?u=-.008145882815435419:e[2]>98.50000000000001?u=-.08404937622173021:e[276]>1e-35?u=.0020072791321856663:e[19]>1e-35?u=-.023031820639490178:u=-.04553314326377875:e[8]>2134.5000000000005?u=-.02244583113572251:e[134]>1e-35?u=-.05592137394753121:e[308]>1e-35?e[49]>1e-35?u=.09989109704064947:e[4]>10.500000000000002?e[2]>13.500000000000002?u=-.00447733056482096:u=-.10191061664873849:u=.021765308380331864:e[9]>7.500000000000001?e[118]>1e-35?u=-.07570059131536411:e[243]>1e-35?u=-.040983393346598646:e[3]>9.500000000000002?u=.014763759061483812:e[92]>1e-35?u=.05136368898963024:u=-.008162398981149495:e[127]>1e-35?u=.013999119696708346:e[23]>1e-35?e[20]>1e-35?u=.14138985500120907:u=.008668274102844162:e[284]>1e-35?u=.06356484011042893:u=-.024781304572706303;let d;e[13]>1e-35?e[3]>8.500000000000002?e[8]>892.5000000000001?e[0]>384.50000000000006?d=.014387526569215037:e[8]>2266.5000000000005?d=-.1397298649743087:d=.007953931014097788:e[0]>119.50000000000001?e[4]>61.50000000000001?d=.0029819092211896296:e[218]>1e-35?d=.08450459375645737:d=.031646488019280654:d=-.03544960151460596:e[9]>9.500000000000002?d=-.026002317735915183:e[7]>1.5000000000000002?d=.005074258810794793:d=.0745247650477651:e[4]>29.500000000000004?e[131]>1e-35?d=.023269218675640847:e[148]>1e-35?d=.03812942399144545:e[115]>1e-35?d=.10512283476967227:d=-.02607307479736138:e[227]>1e-35?d=-.036576708299046294:e[101]>1e-35?d=.027948683650881864:e[149]>1e-35?d=-.08195628451594297:e[50]>1e-35?d=-.16997544922278504:e[8]>691.5000000000001?e[9]>101.50000000000001?d=-.06860333850762075:e[225]>1e-35?d=.06066641950951723:e[10]>22.500000000000004?e[1]>29.500000000000004?e[127]>1e-35?d=.028599705845427533:d=-.010746719511640914:e[0]>4877.500000000001?d=-.07251187886096228:d=-.021299712241446785:e[118]>1e-35?d=-.11902023760964736:d=15874469526809387e-21:e[8]>267.50000000000006?d=.01317292185402293:e[148]>1e-35?e[9]>20.500000000000004?d=.09614842415142123:d=.006049073167176467:e[189]>1e-35?d=.05562696451900713:d=-.006257541923837303;let p;e[13]>1e-35?e[9]>14.500000000000002?e[2]>11.500000000000002?e[1]>71.50000000000001?e[8]>1252.5000000000002?p=-.10069846585436666:p=-.010577995535809317:e[146]>1e-35?p=-.008877238274428668:e[280]>1e-35?p=.10076055897012692:e[6]>70.50000000000001?p=-.020603523042565547:e[7]>1.5000000000000002?p=.02819095420813202:p=-.1223354167911277:p=-.025073583348334844:e[8]>416.50000000000006?p=.01718560189149466:e[230]>1e-35?p=.12281803224342265:p=.03281276971308565:e[4]>14.500000000000002?e[23]>1e-35?e[21]>1e-35?p=-.13070568109867683:e[4]>63.50000000000001?p=-.027221825262496814:p=.01530862490082352:e[9]>6.500000000000001?e[5]>4320.500000000001?e[2]>31.500000000000004?p=-.00605574271293711:p=.04739407327741249:p=-.012537528620315956:e[31]>1e-35?e[20]>1e-35?p=.1252215087035768:p=.003905888677601057:e[52]>1e-35?p=.045466299731038815:e[2]>100.50000000000001?p=-.07815624550168065:e[308]>1e-35?p=-.007715815250508057:e[276]>1e-35?e[9]>1.5000000000000002?p=-.03538265083203445:e[18]>1e-35?p=.1591211669800727:p=.015151475408241136:e[8]>557.5000000000001?p=-.04225569725456342:p=-.022455546324243267:e[308]>1e-35?p=.01325441736085826:e[197]>1e-35?p=.03752194600682512:e[225]>1e-35?p=.06583712394533976:p=-.005205289866839043;let m;e[13]>1e-35?e[9]>21.500000000000004?e[2]>12.500000000000002?m=.010264022580774884:m=-.02335958814489217:e[8]>416.50000000000006?e[3]>4.500000000000001?e[295]>1e-35?m=-.0936747137352166:e[0]>384.50000000000006?m=.019846244507320695:m=-.0751102554077272:m=-.026885329334203723:e[0]>966.5000000000001?e[10]>48.50000000000001?m=.11654906890054273:m=.0346250587613322:e[4]>39.50000000000001?m=-.08568002378645614:e[9]>16.500000000000004?m=-.12010535752923689:m=.021321923389033808:e[4]>14.500000000000002?e[23]>1e-35?e[21]>1e-35?m=-.12056431231412057:e[131]>1e-35?m=.03652965550568472:m=.002563006128791669:e[9]>6.500000000000001?e[30]>1e-35?m=-.10141481732178981:m=-.003936457893178248:e[31]>1e-35?m=.008215898756249477:e[52]>1e-35?e[0]>4188.500000000001?m=.12972828769588213:m=-.003137412232297087:e[2]>100.50000000000001?m=-.0730872929087944:e[308]>1e-35?m=-.006958622747243333:e[35]>1e-35?e[0]>3707.5000000000005?m=.07934620723812878:m=-.018598568353702116:m=-.030635505446410763:e[128]>1e-35?m=-.06962290453843294:e[84]>1e-35?m=-.15290337844960322:e[308]>1e-35?e[8]>2543.5000000000005?m=-.034938657503885584:m=.016339322898966915:e[197]>1e-35?m=.03358907965870046:e[18]>1e-35?m=-.01754013791515288:m=-.0004944586067698557;let g;e[13]>1e-35?e[308]>1e-35?e[210]>1e-35?g=.005888790687820524:g=.0429676533834978:e[2]>7.500000000000001?e[0]>119.50000000000001?e[6]>79.50000000000001?g=-.0224319889201976:e[212]>1e-35?g=.06249587051783863:e[8]>963.5000000000001?e[8]>1156.5000000000002?g=.010357273289123324:g=-.029749145161304082:e[218]>1e-35?g=.06449336340743606:g=.018047654539345502:g=-.07350502390293116:g=-.019594829995832414:e[4]>39.50000000000001?g=-.019338083179859314:e[39]>1e-35?g=-.10427066919173111:e[222]>1e-35?e[0]>612.5000000000001?g=-.019197415255018464:g=-.0836562507048181:e[149]>1e-35?g=-.07679624472577429:e[32]>1e-35?g=-.05097506748590604:e[191]>1e-35?g=.04670476485250936:e[30]>1e-35?g=-.05313073892148652:e[8]>691.5000000000001?e[23]>1e-35?e[203]>1e-35?e[4]>8.500000000000002?g=.03930363008271334:g=-.06029171685615689:g=.016203086182431294:e[4]>7.500000000000001?g=-.013824248237085224:e[10]>4.500000000000001?e[94]>1e-35?g=-.09817668643367765:e[10]>40.50000000000001?g=-.023558078753593125:g=.0065113494780482326:e[8]>809.5000000000001?e[297]>1e-35?g=-.1352063548573715:g=.058203900441270634:g=-.035243959159285736:e[10]>59.50000000000001?e[1]>43.50000000000001?g=-.012552876807800442:g=.05991247777734298:g=.0035893102109330177;let h;e[13]>1e-35?e[9]>21.500000000000004?e[145]>1e-35?h=.03507251990078782:e[2]>14.500000000000002?h=.004905698363309292:e[8]>2421.5000000000005?h=-.10306119951984316:h=-.018951037816654928:e[8]>416.50000000000006?e[3]>4.500000000000001?e[295]>1e-35?h=-.08503171085833393:h=.015130974593044409:h=-.024425267075198206:h=.02624054905103126:e[4]>19.500000000000004?e[131]>1e-35?h=.02100191580704534:e[32]>1e-35?e[8]>2302.5000000000005?h=.09908783187786288:h=-.06920877329925636:e[8]>241.50000000000003?h=-.016756131804203496:e[9]>33.50000000000001?h=.04903179955263626:e[217]>1e-35?h=-.047416847619291644:h=-.0017200891991431119:e[39]>1e-35?h=-.10389927604977028:e[134]>1e-35?h=-.050480365434872866:e[178]>1e-35?h=-.05167855791556937:e[8]>2134.5000000000005?h=-.01663197335585307:e[242]>1e-35?h=-.05361323756615453:e[118]>1e-35?h=-.05299780866211368:e[10]>24.500000000000004?e[10]>55.50000000000001?e[8]>764.5000000000001?h=-.0016544848369620534:h=.04494144460483587:h=-.009283616456736156:e[121]>1e-35?e[0]>4463.500000000001?h=.051166688553608355:h=-.06623908820705383:e[84]>1e-35?h=-.12990936092409747:e[306]>1e-35?h=-.07020596855118943:e[49]>1e-35?h=.06272964802556856:e[192]>1e-35?h=.06540204627162581:h=.008277910531592885;let _;e[13]>1e-35?e[308]>1e-35?e[210]>1e-35?_=.003325460510319164:_=.037153108286272905:e[2]>12.500000000000002?e[1]>124.50000000000001?_=-.09880713344892134:e[7]>60.50000000000001?e[10]>71.50000000000001?_=.0697359767152808:e[230]>1e-35?_=.06513506845651572:_=-.02826625276613455:e[5]>246.50000000000003?e[8]>95.50000000000001?_=.013616385013146277:_=.04171540100223404:_=-.04360396575094823:e[212]>1e-35?_=.025945477945627522:_=-.019793208261535442:e[4]>39.50000000000001?e[25]>1e-35?_=-.07856453318384411:_=-.014803893522351739:e[39]>1e-35?_=-.09185452630751932:e[149]>1e-35?_=-.07122426086157027:e[134]>1e-35?_=-.04231052091434186:e[227]>1e-35?_=-.029815824273994197:e[50]>1e-35?_=-.15736496271211153:e[222]>1e-35?_=-.02360285356956629:e[128]>1e-35?_=-.03922080193836443:e[136]>1e-35?_=-.07219685327698587:e[10]>24.500000000000004?e[1]>8.500000000000002?_=-.0029736170756835783:_=-.06482902102259112:e[84]>1e-35?_=-.11340924635708383:e[94]>1e-35?_=-.03635703457792193:e[118]>1e-35?_=-.058181913914186034:e[126]>1e-35?_=-.062030576241517366:e[116]>1e-35?_=-.045086301850604006:e[25]>1e-35?_=-.031665223656767286:e[203]>1e-35?_=-.009444685731407691:_=.0112265153772187;let b;e[13]>1e-35?e[1]>64.50000000000001?e[9]>14.500000000000002?e[9]>54.50000000000001?b=.022717227245241684:b=-.049700413274686266:b=.007175776918589741:e[5]>50.50000000000001?e[8]>61.50000000000001?e[21]>1e-35?b=-.07927556792063156:e[3]>8.500000000000002?e[4]>23.500000000000004?e[281]>1e-35?b=-.12263724050601095:b=.0070743478891288035:e[288]>1e-35?b=-.050439138582109:b=.0255701593657891:b=-.005812703740580558:e[6]>49.50000000000001?b=-.008542694147899113:b=.035147383686665:b=-.0960461939274094:e[32]>1e-35?b=-.04555453745517765:e[222]>1e-35?e[0]>612.5000000000001?b=-.01800870272656664:b=-.07817304234604389:e[30]>1e-35?b=-.05227061750368981:e[25]>1e-35?e[0]>4449.500000000001?e[217]>1e-35?b=.08778416018479411:b=-.026563982720830256:b=-.05296139548112329:e[50]>1e-35?b=-.14926464875852247:e[8]>779.5000000000001?e[133]>1e-35?b=-.036572140520852024:e[183]>1e-35?b=-.10766853736801459:b=-.003966794968701808:e[217]>1e-35?e[5]>5237.500000000001?b=.09513215942486053:b=-.03641865277445567:e[10]>59.50000000000001?b=.03177172388687933:e[39]>1e-35?b=-.10234241303898953:e[243]>1e-35?b=-.02966738115984321:e[190]>1e-35?b=-.04312785336449181:e[118]>1e-35?b=-.05808521194081524:b=.006720381600740378;let x;e[308]>1e-35?e[5]>423.00000000000006?e[133]>1e-35?x=-.046284053681928526:e[210]>1e-35?x=49778070699847876e-21:e[13]>1e-35?x=.03328070054739309:e[128]>1e-35?x=-.054790214922938896:e[126]>1e-35?x=-.08524792218532945:x=.014414055975542446:e[1]>38.50000000000001?x=-.07287851335872973:x=.005263371501687163:e[9]>7.500000000000001?e[21]>1e-35?e[10]>4.500000000000001?x=-.12459748864088374:x=-.004626323021331593:e[298]>1e-35?e[4]>64.50000000000001?x=.13044981041138526:e[9]>71.50000000000001?x=-.056068402282406865:e[9]>12.500000000000002?x=.038957722962512764:x=-.04598815982492169:e[8]>691.5000000000001?e[126]>1e-35?x=-.0852126122372075:e[225]>1e-35?x=.10082066771689505:e[1]>161.50000000000003?x=-.11609832500613824:e[3]>8.500000000000002?e[8]>1685.5000000000002?x=-.010835400874777133:x=.004607419973807752:x=-.016989075258564062:x=.009205417251698097:e[23]>1e-35?e[20]>1e-35?x=.10184317139657878:e[0]>5724.500000000001?x=-.1163666496650542:e[1]>106.50000000000001?x=.1303850608190687:e[129]>1e-35?x=.10745031509534769:x=.006166901738036226:e[31]>1e-35?x=.010177092833155127:e[13]>1e-35?e[0]>213.50000000000003?x=.005004582564506611:x=-.10481581731668346:e[19]>1e-35?x=-.009850706427306281:x=-.02608226348051303;let y;e[13]>1e-35?e[1]>64.50000000000001?e[2]>4.500000000000001?y=-.0024117174588695603:y=-.058339700513831916:e[212]>1e-35?e[0]>2215.5000000000005?e[8]>847.5000000000001?e[10]>21.500000000000004?e[1]>39.50000000000001?y=.04575380761203418:y=-.10025595041353463:e[15]>1e-35?y=.17705790384964004:y=.0073813837628615014:y=.07676373681392407:y=-.027167992693885996:e[3]>11.500000000000002?e[280]>1e-35?y=.07078572910026419:e[4]>23.500000000000004?y=.005513918674164821:y=.0206586476926392:e[0]>5269.500000000001?y=.07706773525822633:y=-.010233826953776122:e[148]>1e-35?e[8]>1622.5000000000002?y=-.03204783603215824:y=.027405418223981973:e[4]>14.500000000000002?e[131]>1e-35?e[9]>1.5000000000000002?e[0]>5026.500000000001?y=-.0930246911392012:y=.011173087289703683:e[3]>24.500000000000004?y=.03281421918878597:y=.12449335091369843:e[204]>1e-35?y=.06634531187326123:y=-.011522999669353388:e[92]>1e-35?e[10]>42.50000000000001?y=-.041196758517013515:e[4]>7.500000000000001?y=-2942718111029724e-20:e[4]>6.500000000000001?y=.11953909558532852:y=.03188615019450534:e[122]>1e-35?y=-.0616037324662157:e[101]>1e-35?y=.027230889593349412:e[8]>4968.500000000001?y=-.1113986516540856:e[3]>2.5000000000000004?y=-.002045140426885727:e[129]>1e-35?y=.12641163374304432:y=.014909826232873194;let E;e[308]>1e-35?e[0]>7277.500000000001?E=-.09337446795435:e[5]>423.00000000000006?e[133]>1e-35?E=-.040884836258675006:e[210]>1e-35?E=-.0003719413278428804:e[13]>1e-35?E=.030287610160818174:E=.011174130013595384:e[1]>38.50000000000001?E=-.0662442170185784:E=.004332185707008564:e[9]>7.500000000000001?e[145]>1e-35?e[285]>1e-35?E=-.08092286307197555:E=.029866363328584986:e[21]>1e-35?e[10]>4.500000000000001?E=-.1155211149523894:E=-.0032903546638958538:e[149]>1e-35?E=-.03632198993199768:e[3]>9.500000000000002?e[8]>999.5000000000001?E=-.003507023626534306:e[128]>1e-35?e[4]>13.500000000000002?e[0]>3459.5000000000005?E=-.025416927789760076:E=.02777568919793122:E=-.10310351509769732:E=.013549608903688785:e[186]>1e-35?E=.08513865847420551:E=-.009306721292510369:e[31]>1e-35?E=.009780833952582307:e[23]>1e-35?E=.011143773934157629:e[210]>1e-35?E=.025354797285173356:e[17]>1e-35?e[10]>3.5000000000000004?E=-.04846287537743046:E=-.014647271080376757:e[2]>5.500000000000001?e[7]>57.50000000000001?E=-.034224938681445764:e[8]>1641.5000000000002?E=-.027298372075800673:e[191]>1e-35?e[10]>18.500000000000004?E=-.027950103994861836:E=.14575930827829034:E=-.007124740389354946:e[10]>22.500000000000004?E=.013173304107866726:E=-.11119620042551365;let S;e[131]>1e-35?S=.01892225243240137:e[308]>1e-35?e[5]>691.5000000000001?e[133]>1e-35?S=-.037118314390013646:e[1]>51.50000000000001?e[5]>3749.5000000000005?e[8]>58.50000000000001?S=-.022305242912035072:S=.024792895826340516:S=.013666137278072166:e[88]>1e-35?e[10]>27.500000000000004?S=.2080083584805785:S=.04247197078083379:e[10]>40.50000000000001?e[18]>1e-35?e[1]>27.500000000000004?S=.060783227455868206:S=-.056904865557409035:S=-.03278952553107572:e[192]>1e-35?S=.13117402617043625:S=.01647119888257836:S=-.01825870445636398:e[9]>6.500000000000001?e[298]>1e-35?S=.026536210945939682:e[8]>691.5000000000001?e[126]>1e-35?S=-.07927319604548912:e[10]>3.5000000000000004?e[21]>1e-35?S=-.11083976837572328:e[146]>1e-35?S=-.03359294484446772:S=-.0042815953591236475:e[190]>1e-35?S=-.09264239592903775:e[10]>1e-35?S=.022282638485105657:S=-.0205994057928458:e[5]>4918.500000000001?S=.03430715695199153:e[243]>1e-35?e[2]>57.50000000000001?S=.08935072241972036:S=-.03781647876237494:S=.0062655753179671515:e[31]>1e-35?S=.008603500300349887:e[230]>1e-35?S=.03350056932774173:e[23]>1e-35?e[241]>1e-35?S=.10277555508503314:S=.0017901817172993888:e[2]>98.50000000000001?S=-.05920081229672715:S=-.015722173275739208;let w;e[13]>1e-35?e[118]>1e-35?w=.07957905150112207:e[1]>125.50000000000001?w=-.0662620579858685:e[145]>1e-35?w=.029682040828779843:e[19]>1e-35?e[6]>15.500000000000002?w=-.0009597832580977798:w=-.081474760755753:e[212]>1e-35?w=.03637001492325179:w=.006912305498963309:e[32]>1e-35?w=-.03919900630910754:e[134]>1e-35?w=-.036225295529777886:e[4]>4.500000000000001?e[5]>384.50000000000006?e[204]>1e-35?w=.06671440854602108:e[136]>1e-35?w=-.07577364230133474:e[148]>1e-35?e[4]>7.500000000000001?w=.026430947016830915:w=-.04075501264495112:e[9]>93.50000000000001?w=-.04353169430417609:e[50]>1e-35?w=-.1411224537622882:e[17]>1e-35?e[49]>1e-35?w=.068392679163672:e[10]>1.5000000000000002?w=-.0209659792007492:w=-.0004393235559249831:e[133]>1e-35?e[9]>64.50000000000001?w=.07254524592323175:w=-.0319087835282534:w=.00037444813327793425:w=-.025138768151370408:e[243]>1e-35?w=-.050010891710502096:e[94]>1e-35?w=-.0817513550778599:e[122]>1e-35?w=-.061038875809822285:e[19]>1e-35?e[8]>1085.5000000000002?w=-.008408408775061623:e[2]>5.500000000000001?e[218]>1e-35?w=.1454877641381946:w=.053787998331240316:e[9]>33.50000000000001?w=.08602629796680285:w=-.03895127455803038:w=.008830878042315722;let z;e[131]>1e-35?z=.01687979707990516:e[8]>2915.5000000000005?e[297]>1e-35?z=.07473600489975568:e[0]>93.50000000000001?z=-.021596848506011502:z=-.13840802327735696:e[230]>1e-35?e[4]>6.500000000000001?e[0]>4977.500000000001?z=.10264284346448256:z=.031042487183181262:z=-.016653982936827776:e[4]>60.50000000000001?e[10]>75.50000000000001?z=.04226403420647408:e[10]>1e-35?e[0]>4733.500000000001?z=.006271403149804702:z=-.030013637555715046:e[0]>4449.500000000001?z=-.06556876058654929:z=.06437994816903034:e[32]>1e-35?z=-.043814577251655815:e[308]>1e-35?e[0]>7277.500000000001?z=-.09349726304052086:e[210]>1e-35?z=-.0035960132209098003:e[5]>691.5000000000001?e[133]>1e-35?z=-.029188394315052574:z=.017219308333820193:z=-.017378928852189585:e[9]>6.500000000000001?e[0]>2653.5000000000005?e[149]>1e-35?z=-.04428555753857688:z=.0001456106867817353:e[5]>213.50000000000003?z=.01740292726636365:z=-.011361718115556464:e[7]>4.500000000000001?e[0]>316.50000000000006?e[19]>1e-35?e[10]>54.50000000000001?z=.03410288911259329:e[121]>1e-35?z=-.06056527462120627:e[8]>2592.5000000000005?z=.12166808844363577:e[191]>1e-35?z=.11669879218998758:z=-.001664858391716235:z=-.01262927450503166:z=-.04506589951879664:e[227]>1e-35?z=-.08548904959752329:z=.02156080776537726;let V;e[306]>1e-35?e[149]>1e-35?V=-.1389218965136736:V=-.032218642644416894:e[13]>1e-35?V=.006465035217331847:e[50]>1e-35?V=-.1381687930130022:e[179]>1e-35?V=-.13112784985951215:e[148]>1e-35?e[8]>1726.5000000000002?V=-.03262719498763048:V=.023342916702125613:e[191]>1e-35?V=.030005484947580197:e[4]>4.500000000000001?e[204]>1e-35?V=.047767773119269434:e[136]>1e-35?e[0]>1937.5000000000002?V=-.09989343595668776:V=.06533942033334243:e[15]>1e-35?e[9]>86.50000000000001?V=-.10577989354150097:e[8]>668.5000000000001?e[126]>1e-35?V=-.09165257825246746:e[9]>32.50000000000001?V=.02484870392366004:V=-.008499493096971395:e[8]>24.500000000000004?V=.02459679192828244:V=-.010527978013140512:e[25]>1e-35?e[217]>1e-35?V=.0015644546318714849:V=-.06579524865022705:V=-.0060233890975120614:e[122]>1e-35?e[1]>36.50000000000001?V=.03331853632960164:V=-.09482264761126993:e[19]>1e-35?e[8]>1430.5000000000002?V=-.019091477207111116:V=.037878468575478504:e[94]>1e-35?V=-.08013082284576584:e[4]>2.5000000000000004?e[186]>1e-35?V=.16919658785098224:e[243]>1e-35?V=-.06580584936754524:V=.01567555159935563:e[129]>1e-35?V=.06721746994993226:e[10]>32.50000000000001?V=-.046394462507797975:V=-.006436180519584767;let W;e[131]>1e-35?W=.015039096856208693:e[8]>779.5000000000001?e[145]>1e-35?W=.019122095523977856:e[298]>1e-35?W=.023828936462317443:e[1]>23.500000000000004?e[5]>384.50000000000006?e[7]>59.50000000000001?W=-.026094309429557913:e[204]>1e-35?W=.09163404305658318:e[1]>27.500000000000004?e[149]>1e-35?e[6]>34.50000000000001?W=.012643810980689466:W=-.07884161741497837:W=-.0025267379810891104:e[2]>43.50000000000001?e[0]>2860.5000000000005?W=.04493082949897325:W=.18046359750455776:e[7]>18.500000000000004?W=-.018667348656891496:W=.02584325784698236:W=-.045696524897545915:e[0]>3321.5000000000005?e[201]>1e-35?W=.04749240016989375:W=-.0333334578246718:e[5]>3276.5000000000005?W=.11330554740098908:e[7]>94.50000000000001?W=.1296600395033268:W=-.003576436308940934:e[15]>1e-35?e[183]>1e-35?W=-.13787130789142835:e[0]>1847.5000000000002?W=.017915229729920556:e[10]>23.500000000000004?e[10]>31.500000000000004?e[6]>7.500000000000001?W=.028856848462727104:W=-.11197632885851168:W=.08169801342016791:e[1]>22.500000000000004?W=-.021052888644970163:W=.019048604298876753:e[7]>4.500000000000001?W=-.002603328695276418:e[7]>1.5000000000000002?e[2]>5.500000000000001?W=.03432638833359197:W=-.0036767863082454973:e[1]>48.50000000000001?W=.03087375270128195:e[2]>3.5000000000000004?W=-.04219917149740248:W=.018818493993207935;let Y;e[306]>1e-35?Y=-.04076858123502297:e[13]>1e-35?e[1]>67.50000000000001?e[9]>14.500000000000002?e[9]>53.50000000000001?e[8]>1971.5000000000002?Y=-.09091897542577475:Y=.04042943082645558:e[218]>1e-35?Y=.056254985867151:Y=-.053848117950183044:Y=.003881630017086845:e[5]>5152.500000000001?e[8]>857.5000000000001?e[6]>28.500000000000004?Y=.021581808008986944:Y=-.05639286496176611:Y=.052838875036198954:e[5]>50.50000000000001?e[5]>4082.5000000000005?e[17]>1e-35?Y=.023061479860228728:e[145]>1e-35?e[9]>10.500000000000002?Y=.023885302967553288:Y=.1617794086125622:e[212]>1e-35?Y=.04504545345658806:e[3]>17.500000000000004?e[4]>45.50000000000001?Y=-.03948072448245435:e[1]>47.50000000000001?e[9]>18.500000000000004?Y=.01894935813286188:Y=-.06449356357429188:Y=.012297239104320094:e[1]>26.500000000000004?e[8]>33.50000000000001?Y=-.034718828212885515:Y=.0898976288814321:e[1]>17.500000000000004?Y=-.15440137451988326:Y=-.03864183216821465:Y=.009988507307006308:Y=-.08540311947043305:e[50]>1e-35?Y=-.13323659732101975:e[134]>1e-35?Y=-.031820386486894385:e[32]>1e-35?e[8]>2302.5000000000005?Y=.08082476177379844:Y=-.041665761903645876:e[179]>1e-35?Y=-.12405023987936657:e[39]>1e-35?Y=-.06247416524997478:e[138]>1e-35?Y=-.10724031753676487:Y=-.0005423122305122404;let R;e[308]>1e-35?R=.006160742906729798:e[190]>1e-35?e[0]>2461.5000000000005?e[10]>22.500000000000004?R=.023223358334607133:R=-.04383410185346742:R=-.08542395045055405:e[297]>1e-35?e[8]>51.50000000000001?e[1]>13.500000000000002?R=.023406489302867494:R=-.085521220804058:R=-.02921899554854833:e[298]>1e-35?e[9]>12.500000000000002?R=.028120059780969632:R=-.04211009474298743:e[294]>1e-35?R=-.05040415676618239:e[86]>1e-35?e[1]>36.50000000000001?R=-.0993035220737934:R=-.0005384930611060366:e[230]>1e-35?e[4]>6.500000000000001?R=.029770210551187937:R=-.016272917551655715:e[4]>60.50000000000001?e[280]>1e-35?R=.06421359317599738:R=-.01963732469244167:e[218]>1e-35?e[3]>3.5000000000000004?R=.024368404612215164:R=-.04045232374803373:e[131]>1e-35?R=.017372701982485795:e[120]>1e-35?R=.08812710275150198:e[18]>1e-35?e[90]>1e-35?R=.18451364351180236:e[7]>33.50000000000001?R=-.03850813130183531:e[195]>1e-35?R=.06966114053446336:e[3]>16.500000000000004?R=-.0012869181693341211:e[0]>4242.500000000001?R=-.054625548611291035:R=-.014431095117473881:e[5]>4558.500000000001?e[8]>1.5000000000000002?R=.006302103427145562:R=.13967622319898698:e[121]>1e-35?R=-.038798585213145644:e[5]>4544.500000000001?R=-.08050498033009466:R=-.002986974112681435;let P;e[0]>384.50000000000006?e[2]>101.50000000000001?e[1]>16.500000000000004?P=-.03461119351456781:P=.05659026566680352:e[306]>1e-35?e[2]>14.500000000000002?e[149]>1e-35?P=-.12404435523286539:P=-.0034376913880382956:P=-.09821622245095822:e[131]>1e-35?e[9]>1.5000000000000002?P=.0037507103585310234:P=.03610387965829944:e[8]>999.5000000000001?e[9]>137.50000000000003?P=-.11985021663179699:e[0]>1847.5000000000002?e[126]>1e-35?P=-.04832024079663151:e[37]>1e-35?P=-.037103393468366934:P=-.004248086592531705:e[8]>3084.0000000000005?e[9]>43.50000000000001?P=.032539071163832034:e[5]>1643.5000000000002?P=.036408625378035665:e[0]>1500.5000000000002?P=-.1346358322854993:P=-.027586559522081014:e[3]>1e-35?e[190]>1e-35?P=-.1133991164577881:e[9]>52.50000000000001?P=-.024478640359723122:P=.03673777861098756:P=-.1037451237591819:e[230]>1e-35?e[9]>48.50000000000001?e[10]>20.500000000000004?P=.002583438691776944:P=.10773520810108106:e[9]>12.500000000000002?e[1]>16.500000000000004?P=-.02141222346712401:P=.06392462314316179:e[4]>12.500000000000002?P=.08700122294434816:e[8]>267.50000000000006?P=.056923170082743224:P=-.07716309825583327:e[32]>1e-35?P=-.03961343943752142:P=.002674914122888783:e[1]>42.50000000000001?P=-.05217539654421676:e[145]>1e-35?P=.09553630282946368:P=-.009424791262477729;let G;e[183]>1e-35?G=-.05753337139158443:e[308]>1e-35?G=.00562436671450989:e[9]>7.500000000000001?e[21]>1e-35?e[10]>8.500000000000002?G=-.10477869875380448:G=-.0070301869937306055:e[3]>9.500000000000002?e[8]>1765.5000000000002?e[0]>4571.500000000001?G=-.12526505173232894:e[10]>1e-35?e[9]>71.50000000000001?G=-.04442302951713574:G=.00012409888451734224:G=-.092199119633697:e[225]>1e-35?G=.13773072450201831:e[0]>2882.5000000000005?G=.0028540012229920533:e[298]>1e-35?G=.07134486044361629:G=.014297412329837425:e[145]>1e-35?G=.05608385321902638:e[92]>1e-35?G=.038298413603926135:e[107]>1e-35?e[2]>6.500000000000001?G=-.0039957800609801315:G=.0776927564241081:e[203]>1e-35?G=-.05502900859432093:e[105]>1e-35?G=.06062892720841595:G=-.009574839629252128:e[31]>1e-35?G=.009488858841144216:e[23]>1e-35?e[20]>1e-35?G=.08818126313644752:e[8]>161.50000000000003?G=.014353968957885408:G=-.022240738532827903:e[210]>1e-35?G=.024648862719806694:e[2]>5.500000000000001?e[4]>4.500000000000001?e[17]>1e-35?e[10]>16.500000000000004?G=-.043902062079383485:G=-.014741559220396223:G=-.00934935734853194:e[6]>32.50000000000001?G=.1514593126307404:G=.010771222510801532:e[10]>22.500000000000004?G=.01412495209334078:G=-.08576940379502533;let A;e[0]>384.50000000000006?e[84]>1e-35?A=-.06647690967306838:e[2]>101.50000000000001?A=-.024451334501552457:e[306]>1e-35?A=-.034517188927733505:e[131]>1e-35?e[9]>1.5000000000000002?A=.0031858381443673127:A=.032574927024450646:e[204]>1e-35?e[1]>62.50000000000001?A=-.08601340441214533:e[1]>29.500000000000004?A=.10487598629539963:e[8]>597.5000000000001?A=-.0786529133673238:A=.08689436600511559:e[8]>779.5000000000001?e[10]>2.5000000000000004?e[9]>100.50000000000001?A=-.04883600353740688:e[126]>1e-35?A=-.03794042763348827:A=-.003358871967539988:e[210]>1e-35?A=.054991356498447566:e[6]>19.500000000000004?A=-.007418396981635549:A=.018032606049498613:e[18]>1e-35?e[7]>35.50000000000001?e[2]>44.50000000000001?A=-.02143003429501711:A=-.09016000554055564:e[1]>19.500000000000004?e[1]>42.50000000000001?e[8]>17.500000000000004?A=-.006636355416244082:A=-.06483095743431454:e[4]>21.500000000000004?A=-.028975965946833545:A=.022012264796522657:A=-.06653648243193663:e[5]>4593.500000000001?A=.01753551428088607:e[217]>1e-35?A=-.028864824937700297:e[94]>1e-35?A=-.04885192273020658:e[279]>1e-35?A=.08105715462329498:e[121]>1e-35?A=-.04576676034750651:A=.004795141324949362:e[1]>42.50000000000001?A=-.047446619702809195:e[145]>1e-35?A=.08400495571952321:A=-.00854528836489364;let I;e[294]>1e-35?I=-.042529778074638265:e[266]>1e-35?I=-.1180276669679798:e[134]>1e-35?I=-.026818144353279623:e[183]>1e-35?I=-.05120747503479363:e[227]>1e-35?e[8]>1641.5000000000002?I=-.07265906898294434:e[4]>12.500000000000002?e[17]>1e-35?I=-.027516137530797014:e[0]>4331.500000000001?e[1]>64.50000000000001?I=-.03049646619610203:e[1]>50.50000000000001?I=.20634590755061122:I=.06956378103625731:e[0]>3770.5000000000005?I=-.07946414366134913:e[19]>1e-35?I=.17083312065604694:e[2]>21.500000000000004?I=-.02327981978127724:I=.129717297518715:e[145]>1e-35?I=.006891245076133524:I=-.0789123467863741:e[3]>99.50000000000001?I=-.02022281202803071:e[302]>1e-35?e[10]>47.50000000000001?I=.06447639919732716:I=-.05457561977645972:e[306]>1e-35?I=-.029995903305383882:e[191]>1e-35?I=.030596508110850414:e[242]>1e-35?I=-.024085578702020216:e[8]>3198.5000000000005?e[297]>1e-35?I=.09518584795377832:I=-.018197744600833596:e[13]>1e-35?I=.006751790086127549:e[148]>1e-35?I=.01904174573618417:e[99]>1e-35?I=.025287735102561926:e[4]>14.500000000000002?I=-.004364337681643273:e[1]>15.500000000000002?e[35]>1e-35?I=-.09467943982430241:e[243]>1e-35?I=-.02521824751996268:I=.005437570718352172:I=-.022476214821960674;let v;e[0]>384.50000000000006?e[84]>1e-35?v=-.06088131453064195:e[147]>1e-35?v=-.05332792965930566:e[135]>1e-35?e[9]>32.50000000000001?v=.04219361472548491:v=-.07227529211725771:e[10]>4.500000000000001?e[21]>1e-35?v=-.0787279848043689:e[17]>1e-35?e[3]>18.500000000000004?e[188]>1e-35?v=-.054347604504400286:e[0]>3544.5000000000005?e[0]>5850.500000000001?v=-.11431764534511478:v=.013549717238356157:v=-.020987333767091276:e[6]>2.5000000000000004?v=-.02914877855133127:v=.08483464900160231:e[8]>58.50000000000001?e[183]>1e-35?v=-.10087072787978416:e[37]>1e-35?v=-.030467397753331196:e[229]>1e-35?v=-.1017559811057469:e[4]>20.500000000000004?v=-.00413177742240167:e[20]>1e-35?v=.05213315982685969:v=.0037921635866823133:e[8]>51.50000000000001?v=.07327913092421544:e[6]>49.50000000000001?v=-.03457694284156811:e[6]>18.500000000000004?e[7]>17.500000000000004?v=.02744420891894289:v=.11288946357194463:v=.003482908820966248:e[18]>1e-35?e[1]>20.500000000000004?e[7]>4.500000000000001?v=-.012329314369909049:v=.026816658655600168:v=-.0872405354618811:v=.007872673500247845:e[1]>42.50000000000001?v=-.04309044198258254:e[145]>1e-35?v=.07572529147860785:e[7]>5.500000000000001?v=-.013837187093264945:e[1]>17.500000000000004?v=.04208698439539668:v=-.06284346769019863;let N;e[294]>1e-35?N=-.0384794324818203:e[266]>1e-35?N=-.1087205883821061:e[32]>1e-35?e[8]>2302.5000000000005?N=.07432960094940501:N=-.035248735855751855:e[134]>1e-35?N=-.02456191365284949:e[121]>1e-35?e[0]>4720.500000000001?e[1]>39.50000000000001?N=-.01706896375068821:N=.08212247914968074:e[2]>59.50000000000001?N=-.09546478958824225:e[6]>53.50000000000001?N=.12317082897575611:e[1]>56.50000000000001?e[4]>7.500000000000001?e[0]>3560.5000000000005?N=.02816463285971267:N=.15449139016588445:N=-.10199787406123524:N=-.038068684323297096:e[223]>1e-35?e[8]>668.5000000000001?N=-.13924786681478077:N=-.0072772442570213335:e[39]>1e-35?N=-.05392786531177836:e[0]>93.50000000000001?e[40]>1e-35?N=-.054059371343144036:e[306]>1e-35?e[2]>14.500000000000002?e[149]>1e-35?N=-.11174465335620831:N=.00013144040097180107:N=-.08493919336681105:e[42]>1e-35?N=-.11078582572836196:e[84]>1e-35?e[4]>17.500000000000004?N=-.015540659878839153:N=-.14442609417300142:e[21]>1e-35?N=-.025251979447574083:N=.0023698372645272847:e[18]>1e-35?N=.07269739695712212:e[8]>2592.5000000000005?N=-.1460388776448558:e[9]>30.500000000000004?e[1]>23.500000000000004?N=-.01835130329646532:e[9]>45.50000000000001?N=.02023047454629885:N=.16469378262221102:N=-.042975030085836426;let T;e[8]>2915.5000000000005?e[297]>1e-35?T=.06257393915394144:e[0]>93.50000000000001?e[4]>1.5000000000000002?T=-.01034964686484714:T=-.07357437440667927:T=-.11987794734779106:e[298]>1e-35?e[8]>81.50000000000001?e[0]>3370.5000000000005?e[8]>155.50000000000003?e[8]>660.5000000000001?e[8]>2134.5000000000005?T=-.09476398869062203:e[9]>72.50000000000001?T=-.0757383854264379:T=.02806542779508718:T=-.05147742568418084:T=.10212721564444344:T=.0518263760642861:T=-.08743405377022222:e[189]>1e-35?e[0]>5269.500000000001?T=-.10669213185972036:T=.027050434286384796:e[302]>1e-35?T=-.0407832394672723:e[116]>1e-35?e[10]>38.50000000000001?T=.06354599160071946:e[1]>67.50000000000001?T=.05317447949011187:T=-.059138165935307165:e[212]>1e-35?e[19]>1e-35?T=-.09369289448773599:e[0]>2215.5000000000005?T=.04077965380363924:e[0]>807.5000000000001?T=-.0591771776458298:T=.057315736906679376:e[308]>1e-35?e[1]>52.50000000000001?e[5]>3749.5000000000005?T=-.016323380219241672:T=.007291062979527741:e[210]>1e-35?e[8]>1641.5000000000002?T=.03720704290087811:T=-.008730548158766654:e[4]>80.50000000000001?T=-.05346644687473197:T=.014596824736762107:e[218]>1e-35?e[3]>3.5000000000000004?T=.019984510398089086:T=-.03917825025861855:e[9]>170.50000000000003?T=-.09759719821334525:T=-.0023586682752856298;let D;e[183]>1e-35?e[17]>1e-35?D=.030100940443356424:e[10]>1.5000000000000002?D=-.10861112216742408:D=.017680668976453255:e[227]>1e-35?e[17]>1e-35?e[2]>16.500000000000004?D=-.032062878390325456:D=-.10808232631806887:e[8]>1641.5000000000002?D=-.06147013392655731:e[4]>12.500000000000002?D=.03324767551088266:e[145]>1e-35?D=.028851633810612017:D=-.054871239091792784:e[134]>1e-35?D=-.023813968121342108:e[266]>1e-35?D=-.10037039667146351:e[222]>1e-35?e[0]>612.5000000000001?e[10]>1e-35?e[8]>1939.5000000000002?D=-.055566877553100726:e[2]>24.500000000000004?e[8]>182.50000000000003?e[10]>43.50000000000001?e[10]>55.50000000000001?D=-.025350325484720576:D=.1579024598549572:e[9]>2.5000000000000004?e[0]>3746.5000000000005?D=.056817276537534815:D=-.07674158463557636:D=-.06335553143454145:e[1]>56.50000000000001?D=.16390494217299284:D=-.0027330160430847177:e[10]>36.50000000000001?e[8]>1067.5000000000002?D=.041717597065890205:D=-.10357913492269129:e[10]>29.500000000000004?D=.1365512866715726:D=.020600048310575665:D=.09708785634773187:D=-.060427658852305666:e[126]>1e-35?e[10]>32.50000000000001?e[6]>24.500000000000004?e[8]>1146.5000000000002?D=-.03146213719547347:D=.11784024316238083:D=-.050940520532045355:D=-.047988344143075616:e[191]>1e-35?D=.028764654731460032:D=.0011911575567860023;let k;e[294]>1e-35?e[10]>50.50000000000001?k=-.11630092297244568:e[0]>2432.5000000000005?e[0]>4199.500000000001?k=-.05103908560370243:k=.05002066201169583:k=-.09976646725732496:e[32]>1e-35?e[0]>4242.500000000001?k=-.0648838712201258:e[5]>3721.5000000000005?e[9]>4.500000000000001?k=.127983140816313:k=-.05436534163636867:k=-.024514536544596455:e[121]>1e-35?e[0]>4449.500000000001?e[4]>9.500000000000002?k=-.009504203657088933:e[8]>819.5000000000001?k=.18689664822602375:k=.03635576744011826:k=-.029862411809998525:e[223]>1e-35?k=-.06474496692999487:e[86]>1e-35?e[8]>65.50000000000001?e[1]>46.50000000000001?k=-.09405026597863717:e[0]>4153.500000000001?k=.053577663326799765:k=-.05062127873995668:k=.06512222894425874:e[39]>1e-35?k=-.04985311717827547:e[51]>1e-35?k=-.04541229517934797:e[178]>1e-35?e[2]>25.500000000000004?e[2]>30.500000000000004?e[0]>2151.5000000000005?k=-.02860634573675884:k=.08863753005590103:k=.11158892111063744:e[0]>655.5000000000001?k=-.031005736641654926:k=-.1439827004505974:e[222]>1e-35?e[1]>11.500000000000002?e[0]>612.5000000000001?k=-.00843386136334982:k=-.05273594615999777:k=.1060183822015004:e[126]>1e-35?e[10]>32.50000000000001?e[8]>719.5000000000001?k=-.015774115523598486:k=.10147367091236065:k=-.048307000563071016:k=.002118376117677254;let L;e[8]>1014.5000000000001?e[9]>137.50000000000003?L=-.10279096288817871:e[0]>93.50000000000001?e[8]>1067.5000000000002?e[227]>1e-35?L=-.03544332389470493:e[285]>1e-35?e[9]>64.50000000000001?L=.07211107542565391:L=-.041556776020476104:e[145]>1e-35?e[1]>66.50000000000001?L=-.0751486415451188:e[1]>59.50000000000001?L=.13459005084554104:L=.024184371850147466:e[0]>3072.5000000000005?e[95]>1e-35?L=.06715575425741895:L=-.005895690393702183:e[8]>2915.5000000000005?L=-.010205039411753762:e[9]>33.50000000000001?e[9]>47.50000000000001?L=-.00029068886245881074:L=.0613467393188786:e[148]>1e-35?L=-.06074463294936236:e[3]>1.5000000000000002?e[5]>1849.5000000000002?e[1]>15.500000000000002?L=.003887223773199377:L=-.08553893131979015:L=.025654192706396767:L=-.05651733979610658:L=-.02039913645229667:e[2]>7.500000000000001?L=-.1058450646728524:L=.02267192191610376:e[1]>120.50000000000001?e[2]>60.50000000000001?L=-.12304707569000428:e[1]>132.50000000000003?e[6]>41.50000000000001?L=.1283258201586378:L=-.01718135372229775:L=-.07702452408491414:e[125]>1e-35?L=-.0804612900572707:e[178]>1e-35?e[0]>4533.500000000001?L=.04273051857848212:L=-.04533122948101463:e[2]>196.50000000000003?L=-.10543331044088727:e[94]>1e-35?e[5]>4532.500000000001?L=.0231032972703664:L=-.04807386814498683:L=.002729435991332102;let U;e[179]>1e-35?U=-.08065315471211375:e[183]>1e-35?e[17]>1e-35?U=.026484626664041125:e[10]>1.5000000000000002?U=-.10187000872941615:U=.015274190652133752:e[84]>1e-35?e[9]>6.500000000000001?e[2]>43.50000000000001?U=.09574540795390041:U=-.06454986703691233:U=-.11411849349353141:e[266]>1e-35?U=-.09281838517322076:e[32]>1e-35?e[8]>2302.5000000000005?U=.06685250330182936:e[4]>67.50000000000001?e[2]>97.50000000000001?U=-.04403391373512386:U=.1132928075412222:e[2]>47.50000000000001?U=-.09700191391838056:U=-.02147184357182825:e[10]>4.500000000000001?e[21]>1e-35?U=-.0735617817957859:e[17]>1e-35?e[3]>18.500000000000004?U=-.001668912999010927:U=-.02363511102970245:e[8]>58.50000000000001?U=-.00035213368294640616:e[3]>17.500000000000004?e[2]>28.500000000000004?e[10]>23.500000000000004?e[1]>38.50000000000001?U=.0911011436534449:e[1]>28.500000000000004?U=-.07192390493729035:U=.06913818091291246:U=-.012312625373699222:U=.06784496312307986:U=-167756936027735e-19:e[18]>1e-35?e[8]>302.50000000000006?U=.0026564453057705273:U=-.025425772389361445:e[122]>1e-35?U=-.12046786388602149:e[0]>3183.5000000000005?U=.01162092842804907:e[91]>1e-35?U=.07000265526928563:e[1]>22.500000000000004?e[0]>576.5000000000001?U=-.0001647792543020228:U=-.023664538532907665:U=.01609078206180752;let H;e[294]>1e-35?e[1]>26.500000000000004?e[0]>4141.500000000001?H=-.051473645433684705:e[0]>3030.5000000000005?e[1]>51.50000000000001?H=-.017696526862422682:H=.1450050954613223:H=-.05406930069823832:H=-.08308700260259043:e[120]>1e-35?H=.058316269489189415:e[297]>1e-35?e[94]>1e-35?H=-.07425512495167255:e[8]>51.50000000000001?e[1]>13.500000000000002?e[1]>33.50000000000001?e[19]>1e-35?e[0]>4498.500000000001?H=.038431826961746934:H=-.05937462906539856:e[9]>65.50000000000001?H=.10814845712507865:e[4]>9.500000000000002?e[2]>22.500000000000004?e[1]>39.50000000000001?e[1]>44.50000000000001?e[10]>44.50000000000001?H=.12297945639231944:e[0]>3796.5000000000005?e[4]>26.500000000000004?H=-.09579030954062734:H=.025064711572811746:H=.02579440518821548:H=.1044440128091862:H=-.058348633139536844:H=.07766788227934436:H=-.01021229539092708:e[2]>2.5000000000000004?e[10]>29.500000000000004?e[0]>3770.5000000000005?e[0]>4438.500000000001?H=.07463684068207214:H=.18244269035484484:e[6]>39.50000000000001?H=-.06050050067471004:H=.05787759066913493:H=.010783225857972171:H=.1674891243602606:e[4]>9.500000000000002?H=-.004814132027475892:H=-.14543299413454813:H=-.02935093398687923:e[116]>1e-35?e[9]>2.5000000000000004?e[8]>1218.5000000000002?H=-.07634466313617769:H=.0287825335169114:H=-.06894721943300268:H=-.00023988459059521937;let ae;e[131]>1e-35?e[1]>93.50000000000001?ae=-.05706887458825395:e[2]>1.5000000000000002?ae=.011446637886629108:ae=-.10616119878749211:e[230]>1e-35?e[4]>6.500000000000001?e[0]>4977.500000000001?ae=.08424281276381033:e[3]>17.500000000000004?e[20]>1e-35?ae=.11146885439601915:e[8]>61.50000000000001?e[0]>3530.5000000000005?e[9]>48.50000000000001?e[9]>61.50000000000001?ae=.026278724448495064:ae=.17053138400480508:e[0]>4463.500000000001?ae=-.06482289890096041:ae=.03026516489536295:ae=-.031785170717683144:ae=.1312690622980455:e[13]>1e-35?ae=.14336922540461444:ae=.03523850945454039:ae=-.015407465968975714:e[39]>1e-35?ae=-.054809635385158186:e[32]>1e-35?e[0]>4242.500000000001?ae=-.0659975068798723:ae=-.008386582621403979:e[4]>60.50000000000001?e[10]>75.50000000000001?e[3]>107.50000000000001?ae=-.04225314193574262:e[3]>70.50000000000001?e[1]>29.500000000000004?ae=.057409156184759516:ae=.2024322059866388:ae=-.030670938454461245:e[10]>1e-35?e[0]>4733.500000000001?ae=.010648654146284154:e[308]>1e-35?ae=.008728141696325391:e[4]>64.50000000000001?e[298]>1e-35?ae=.12364025998551711:ae=-.02247495081065243:e[1]>22.500000000000004?ae=-.0726295464624251:ae=.03481895086048152:e[0]>4331.500000000001?ae=-.04775443357020673:ae=.07172377425057568:e[2]>89.50000000000001?ae=-.11782645274716962:ae=.00010092665257989378;let ye;e[147]>1e-35?ye=-.041560228567115574:e[302]>1e-35?e[10]>47.50000000000001?ye=.062292114082780084:e[10]>5.500000000000001?e[7]>22.500000000000004?ye=-.016101990375700172:e[0]>2579.5000000000005?ye=-.13045089661551845:ye=-.02874367814784938:ye=.025835149631944995:e[167]>1e-35?e[0]>3928.5000000000005?ye=.17084176915326055:ye=-.019195947948312853:e[222]>1e-35?e[30]>1e-35?e[1]>36.50000000000001?e[8]>45.50000000000001?e[8]>578.5000000000001?e[1]>67.50000000000001?ye=.10591712319944074:ye=-.024082167264285:ye=.16497698867036126:ye=-.04985066326861431:e[0]>1937.5000000000002?e[2]>16.500000000000004?ye=-.021012910475524206:ye=-.13058422554298485:e[0]>1102.5000000000002?ye=.10955864175201457:ye=-.03566689354348996:e[1]>11.500000000000002?ye=-.02093884208606101:ye=.09107244766183857:e[126]>1e-35?e[10]>32.50000000000001?e[8]>719.5000000000001?ye=-.013861861436128482:ye=.09756849802202777:e[224]>1e-35?e[1]>51.50000000000001?ye=.10163873449625677:ye=-.02779270277623805:e[1]>26.500000000000004?ye=-.08035058228527389:ye=.0005719695099064484:e[191]>1e-35?e[9]>9.500000000000002?ye=-.007028075523033826:ye=.0489470913925288:e[1]>61.50000000000001?e[132]>1e-35?ye=.11230846723576784:e[0]>350.50000000000006?e[2]>1.5000000000000002?ye=-.0032075580718124892:ye=-.04442829143298883:ye=-.06597073245775804:ye=.0015594090939337751;let he;e[223]>1e-35?e[8]>668.5000000000001?he=-.12803889879260094:he=.002171373740016862:e[121]>1e-35?e[0]>4720.500000000001?e[217]>1e-35?he=.08967966612917375:e[1]>39.50000000000001?he=-.059791671514498074:he=.05648934961902822:e[2]>59.50000000000001?he=-.08633234097449628:e[6]>53.50000000000001?he=.11140345067444689:e[1]>56.50000000000001?e[4]>7.500000000000001?e[0]>3560.5000000000005?he=.025606129643140924:he=.13835395886271978:he=-.09361630641448024:e[4]>7.500000000000001?e[1]>26.500000000000004?e[1]>49.50000000000001?he=-.09975506556937946:e[10]>36.50000000000001?he=-.09427724661655643:e[10]>24.500000000000004?he=.07329330653410447:he=-.02271182965807972:he=-.09767874967639482:e[6]>13.500000000000002?e[10]>23.500000000000004?he=-.05082091374050816:he=.1687114435254966:e[0]>2314.5000000000005?he=-.06422664016383926:he=.0636688376664789:e[298]>1e-35?e[9]>12.500000000000002?e[133]>1e-35?he=-.06857762517406195:e[9]>71.50000000000001?e[0]>4188.500000000001?he=-.1274167728754332:he=.01308079126447365:e[4]>73.50000000000001?he=.13854015371106546:e[4]>48.50000000000001?he=-.03684255740123261:e[6]>45.50000000000001?he=.10329912215813097:e[10]>77.50000000000001?he=-.08630788656925215:he=.031022006843800853:e[1]>25.500000000000004?he=-.08278381528048026:he=.06664374548141594:e[84]>1e-35?he=-.05624227409079396:he=.00012184182357340415;let Ue;e[179]>1e-35?Ue=-.07443348719246982:e[40]>1e-35?e[0]>1937.5000000000002?Ue=-.07595415373151816:Ue=.054065040429292326:e[134]>1e-35?e[11]>1e-35?e[2]>13.500000000000002?e[0]>1187.5000000000002?Ue=.022822510448266862:Ue=.17491569312933697:Ue=-.058362287133533565:e[2]>2.5000000000000004?Ue=-.03633895806364428:Ue=.06397808186120692:e[8]>4968.500000000001?e[1]>31.500000000000004?Ue=-.07294848747514579:Ue=.025053613105805606:e[230]>1e-35?e[4]>6.500000000000001?e[107]>1e-35?Ue=-.07009535282685533:e[8]>2640.0000000000005?Ue=-.051761240111316276:e[131]>1e-35?Ue=-.06245774419231631:Ue=.03495606662854905:Ue=-.013863522184803188:e[131]>1e-35?e[1]>93.50000000000001?e[1]>105.50000000000001?Ue=.0015036626973581122:Ue=-.12505706794835883:e[1]>48.50000000000001?e[276]>1e-35?Ue=.10435171369790015:e[0]>5026.500000000001?e[0]>5308.500000000001?Ue=.022343994371919224:Ue=-.14087991797693533:e[8]>1323.5000000000002?e[10]>49.50000000000001?Ue=.07724450228328664:e[0]>3853.5000000000005?Ue=-.15671707454435677:e[10]>28.500000000000004?Ue=-.10179090671841723:Ue=.014878216919760927:Ue=.03967665658164865:e[8]>2696.5000000000005?e[15]>1e-35?Ue=.14054154485273487:Ue=.01821247272493051:e[2]>5.500000000000001?e[2]>100.50000000000001?Ue=-.08632985141410315:Ue=.005524157938954954:Ue=-.08802502622523681:Ue=-.0004649168897260341;let He;e[86]>1e-35?e[8]>65.50000000000001?e[1]>32.50000000000001?e[4]>16.500000000000004?He=-.007458687464321174:He=-.09444966249102484:e[1]>23.500000000000004?He=.08564129697360716:He=-.07105002902845851:He=.05688756955238231:e[294]>1e-35?e[10]>50.50000000000001?He=-.10326216566705966:e[1]>26.500000000000004?He=.0050539832484585365:He=-.07080395606126953:e[306]>1e-35?e[149]>1e-35?He=-.10399433201474328:e[2]>14.500000000000002?e[9]>6.500000000000001?He=.05783632021087773:e[10]>17.500000000000004?He=-.06720598671764105:e[1]>47.50000000000001?He=.097495825172558:He=-.013372242800584872:He=-.06463226787713715:e[42]>1e-35?He=-.0885725817597767:e[204]>1e-35?e[1]>62.50000000000001?He=-.07496598696848249:e[1]>29.500000000000004?e[8]>446.50000000000006?He=.11051270080118503:He=.027719462817590454:e[8]>597.5000000000001?He=-.08441503592016869:He=.05534229430302502:e[223]>1e-35?e[8]>668.5000000000001?He=-.12190088985091102:He=-.0067442838156576345:e[148]>1e-35?e[9]>79.50000000000001?He=.09225972475904022:e[2]>10.500000000000002?e[1]>102.50000000000001?He=.11805676536334647:e[8]>1726.5000000000002?e[9]>10.500000000000002?He=.016585157185448045:He=-.11032043771149425:He=.01586986028570486:e[8]>388.50000000000006?He=-.10592413013261853:He=.04930703248769364:e[13]>1e-35?He=.003621937787920821:He=-.0013786331198611841;let Ve;e[145]>1e-35?e[1]>32.50000000000001?e[1]>38.50000000000001?e[10]>55.50000000000001?e[1]>54.50000000000001?Ve=.009769895322846493:Ve=-.10620052926943656:e[9]>19.500000000000004?Ve=.03781202525403449:e[9]>14.500000000000002?Ve=-.11485785321365344:e[9]>6.500000000000001?Ve=.07677177833073881:e[0]>4342.500000000001?Ve=-.07079285609687631:e[49]>1e-35?Ve=.06156814809246001:Ve=-.014788509042554625:Ve=-.032659201618470655:e[5]>5207.500000000001?Ve=-.09013500825185713:e[3]>10.500000000000002?e[8]>1787.5000000000002?Ve=-.03094160322187924:e[1]>29.500000000000004?Ve=.09474646043921069:Ve=.023445783928231618:Ve=.09342846694174194:e[0]>533.5000000000001?e[204]>1e-35?e[1]>62.50000000000001?Ve=-.07164443768784848:e[1]>29.500000000000004?Ve=.089473622509272:e[8]>597.5000000000001?Ve=-.08155349903101317:Ve=.07098423265024251:e[8]>691.5000000000001?e[5]>2252.5000000000005?Ve=-.004003900679358653:e[190]>1e-35?Ve=-.09236113461485262:e[8]>3198.5000000000005?Ve=-.0124130160451179:Ve=.018453070064009328:e[15]>1e-35?Ve=.012013209112857824:e[7]>4.500000000000001?e[7]>5.500000000000001?Ve=-.0009580759587680961:Ve=-.03227283036698222:Ve=.01369287669536875:e[1]>50.50000000000001?Ve=-.04213060332500437:e[35]>1e-35?Ve=-.11508095777767471:e[190]>1e-35?Ve=-.08611884672400155:e[297]>1e-35?Ve=.05723551879433584:Ve=-.004829340082311461;let Ze;e[183]>1e-35?Ze=-.037994150023203555:e[227]>1e-35?e[17]>1e-35?e[3]>20.500000000000004?e[10]>36.50000000000001?Ze=-.11753465135886734:Ze=-.007515490299047085:Ze=-.08576941990777916:e[8]>1641.5000000000002?e[10]>37.50000000000001?Ze=-.12371142493530439:e[1]>36.50000000000001?Ze=.032189417575190435:Ze=-.10339125953022954:e[3]>32.50000000000001?e[4]>27.500000000000004?e[1]>59.50000000000001?Ze=-.0784518658439288:e[2]>54.50000000000001?Ze=.12477882322370665:Ze=.000313468482399738:Ze=.12261955132611434:e[8]>81.50000000000001?e[23]>1e-35?Ze=.04969252946760318:e[8]>511.50000000000006?e[8]>1146.5000000000002?Ze=.0353146070135579:Ze=-.06327619611098285:Ze=.02813577701641991:Ze=-.12354390728506215:e[34]>1e-35?Ze=-.07664408516055397:e[3]>99.50000000000001?e[1]>16.500000000000004?e[1]>26.500000000000004?Ze=-.01245803535276381:Ze=-.07169472553475001:e[1]>11.500000000000002?Ze=.12989984824561698:Ze=-.01201544398886606:e[6]>91.50000000000001?e[1]>22.500000000000004?Ze=.010390226893521422:e[10]>14.500000000000002?Ze=.16790888126487719:Ze=.010614982228955577:e[4]>79.50000000000001?e[9]>44.50000000000001?e[0]>3853.5000000000005?Ze=-.043398307129729134:Ze=.09963544907820426:e[9]>30.500000000000004?Ze=-.13540713124984502:e[9]>17.500000000000004?Ze=.0509435850590757:Ze=-.04761897852404613:e[4]>78.50000000000001?Ze=.09197086656470652:Ze=.0006771050176682337;let F;e[122]>1e-35?e[6]>36.50000000000001?F=.05686884451670743:F=-.05334759543084309:e[266]>1e-35?F=-.08603579519816038:e[157]>1e-35?F=-.06736746113382097:e[302]>1e-35?e[0]>2579.5000000000005?F=-.0499592651503952:e[0]>725.5000000000001?F=.11780353905132664:F=-.05232097173108943:e[147]>1e-35?e[1]>53.50000000000001?F=-.11398297342629615:e[0]>2604.5000000000005?e[0]>3629.5000000000005?F=-.03190157229022304:F=.07985197845805492:F=-.0763078988943886:e[4]>41.50000000000001?e[280]>1e-35?F=.05162933940904835:e[11]>1e-35?e[0]>460.50000000000006?F=-.027174047777029083:F=.057117284879796476:e[3]>43.50000000000001?F=-.0016147040913107311:F=-.05856597304613519:e[2]>45.50000000000001?e[0]>4663.500000000001?e[18]>1e-35?F=-.04779247091640426:e[10]>25.500000000000004?e[9]>22.500000000000004?e[22]>1e-35?F=-.01466076988151239:F=.13375695925484857:F=-.04885873081899647:e[0]>5566.500000000001?F=.11086813028591343:e[8]>992.5000000000001?F=-.07622304217072383:F=.04316019272026325:e[10]>12.500000000000002?e[9]>36.50000000000001?e[9]>45.50000000000001?F=.03285858361708423:F=-.12354858211764992:F=.0672788301823281:e[15]>1e-35?F=.08658836986585006:F=-.02741484278509758:e[290]>1e-35?F=-.08161310335133287:e[135]>1e-35?F=-.04824156054814152:F=.0009156904299554183;let ne;e[3]>7.500000000000001?ne=.0006791852818377787:e[129]>1e-35?e[0]>2904.5000000000005?e[0]>4004.5000000000005?ne=.03642374718166293:ne=.16379973756366603:ne=-.03946685266127979:e[186]>1e-35?ne=.07618896623420895:e[96]>1e-35?ne=.0680272261319657:e[107]>1e-35?e[1]>48.50000000000001?ne=-.022822371600847505:ne=.0501405836324949:e[203]>1e-35?e[1]>77.50000000000001?ne=.044416424920571296:ne=-.0648450593196238:e[5]>3921.5000000000005?e[1]>110.50000000000001?ne=-.11110466767595227:e[9]>5.500000000000001?e[9]>52.50000000000001?e[1]>50.50000000000001?ne=.1061937286809567:e[7]>54.50000000000001?ne=.11487507743121311:e[8]>819.5000000000001?ne=-.07181278009001418:e[10]>25.500000000000004?ne=.13499019430369633:e[1]>31.500000000000004?ne=.09032979489780704:ne=-.12754166393372374:e[9]>37.50000000000001?ne=-.05093963635361407:ne=-.005026651151683848:e[9]>2.5000000000000004?ne=.07619735785573735:ne=.012363301341532136:e[26]>1e-35?ne=-.10685800454968203:e[8]>125.50000000000001?e[8]>446.50000000000006?e[0]>3842.5000000000005?ne=-.08783796894105043:e[282]>1e-35?e[1]>47.50000000000001?e[9]>40.50000000000001?ne=-.10764172927882483:ne=.01890760098464703:ne=.06573095405846417:e[8]>634.5000000000001?ne=-.00783575973273707:ne=-.050612689680229306:e[1]>22.500000000000004?ne=-.0016842490401359626:ne=.0738227088444087:ne=-.02663970950432175;let j;e[31]>1e-35?e[8]>17.500000000000004?j=.013678038624884814:e[1]>35.50000000000001?e[1]>51.50000000000001?j=.007191286124908192:j=-.09347881647636902:e[10]>1.5000000000000002?j=.07938758708008091:j=-.008702935600305113:e[224]>1e-35?e[149]>1e-35?e[13]>1e-35?j=.12321804057595996:j=-.018281109320672437:e[23]>1e-35?e[4]>62.50000000000001?j=-.04644244754790671:j=.024546310702263208:e[8]>862.5000000000001?e[0]>3429.5000000000005?e[4]>9.500000000000002?e[52]>1e-35?j=.0706108609273337:e[2]>40.50000000000001?j=-.028046629962303716:j=-.06497613993109329:j=.01076489668586676:e[1]>33.50000000000001?e[0]>966.5000000000001?e[2]>14.500000000000002?e[1]>38.50000000000001?j=-.03056331974267756:j=-.11886389712497057:j=.053364962175658184:e[8]>2233.5000000000005?j=-.0448152521157682:j=.1508651602190868:e[2]>33.50000000000001?e[0]>2882.5000000000005?e[0]>3183.5000000000005?j=.03818796510453344:j=.23673992112982362:j=.02858814226507374:e[10]>44.50000000000001?j=-.1125863771551199:j=.009129996952394916:e[1]>7.500000000000001?j=-.004374525302461639:j=-.07858519434925451:e[149]>1e-35?e[6]>23.500000000000004?j=.0005231594491642136:e[0]>4053.5000000000005?e[8]>660.5000000000001?j=-.13677189943034931:e[10]>2.5000000000000004?j=.039591891437078086:j=-.09312596849507347:j=-.02423172142089822:j=.0009836986075266283;let ge;e[189]>1e-35?e[0]>5269.500000000001?ge=-.103183298350443:e[2]>51.50000000000001?ge=.09784373530929913:e[10]>26.500000000000004?e[8]>764.5000000000001?ge=-.05186168947388339:ge=.0496996365539082:e[10]>23.500000000000004?ge=.1404445738719:e[93]>1e-35?ge=.0027146310074558505:e[5]>3821.5000000000005?ge=.002153033152069652:e[4]>2.5000000000000004?ge=.007663539551317215:ge=.13902616832015402:e[298]>1e-35?e[8]>81.50000000000001?e[4]>64.50000000000001?ge=.11498405722487515:e[2]>23.500000000000004?e[0]>2815.5000000000005?e[2]>44.50000000000001?e[4]>42.50000000000001?ge=-.021479467709980358:ge=.09336868994327292:e[1]>22.500000000000004?e[15]>1e-35?ge=.021660293256233334:ge=-.0927396152303864:ge=.0665074081601698:e[0]>1550.5000000000002?ge=.08972407105958534:ge=-.0380796411182682:e[6]>13.500000000000002?e[10]>2.5000000000000004?ge=.06761927942466854:ge=-.015762168112653286:e[17]>1e-35?ge=.10311304131145381:ge=-.017672785252336027:ge=-.08629805732772755:e[1]>24.500000000000004?e[138]>1e-35?ge=-.10638321435298535:ge=.0007073011744385905:e[18]>1e-35?ge=-.027056185501334325:e[145]>1e-35?ge=.023191199677450886:e[9]>33.50000000000001?e[201]>1e-35?ge=.09762140519655171:e[9]>110.50000000000001?ge=-.06581942957595835:e[6]>54.50000000000001?ge=.04959634035251596:ge=.0022616298654554207:ge=-.007437620924990854;let le;e[179]>1e-35?le=-.06961998209988884:e[167]>1e-35?e[0]>3928.5000000000005?le=.1470294450403005:le=-.01671476793947083:e[187]>1e-35?e[6]>13.500000000000002?e[4]>30.500000000000004?e[13]>1e-35?le=.07448480853603114:e[0]>1012.5000000000001?e[5]>2883.5000000000005?e[0]>3682.5000000000005?e[5]>4031.5000000000005?e[23]>1e-35?le=.07965955447707423:e[10]>10.500000000000002?le=-.09236156404262426:le=.03396273196231458:le=-.13246465021467432:le=.07092822261735353:le=-.08753829085942:le=.09409024840640956:e[1]>40.50000000000001?e[8]>984.5000000000001?e[8]>1514.5000000000002?e[8]>2134.5000000000005?le=.004705878789890202:le=.13775378964952867:le=-.04770928980587811:e[10]>29.500000000000004?le=.011221519891071544:e[0]>3853.5000000000005?le=.06365381191628273:le=.15506252245336827:e[1]>37.50000000000001?le=-.07254777021042061:le=.026514587757252385:e[308]>1e-35?le=.04115804816617256:e[10]>26.500000000000004?le=.02077721353011946:e[5]>3548.5000000000005?le=-.1280907116663952:le=-.021974774274438:e[306]>1e-35?le=-.02700446558079895:e[297]>1e-35?e[212]>1e-35?le=.07794139136748461:e[7]>5.500000000000001?e[19]>1e-35?le=-.005710865560475598:e[94]>1e-35?le=-.06751507982853555:le=.027250040757588703:e[9]>52.50000000000001?le=.07060357924595577:le=-.030297760713011795:le=-.0006005400085266517;let $;e[113]>1e-35?$=-.07311041707507712:e[40]>1e-35?e[0]>1937.5000000000002?$=-.06996356565314456:$=.04780211300352931:e[10]>52.50000000000001?e[49]>1e-35?$=-.08317707559926495:e[21]>1e-35?$=-.0817284654645976:e[15]>1e-35?e[2]>3.5000000000000004?$=-.010538203005984922:$=.08454819465349446:e[9]>124.50000000000001?$=.09015659250299132:e[7]>15.500000000000002?e[5]>5732.500000000001?$=-.08542251249346582:e[9]>50.50000000000001?$=-.023428882537657472:$=.010042500833979073:$=.020697210754240154:e[10]>28.500000000000004?e[5]>423.00000000000006?e[148]>1e-35?$=.03006025206979096:e[9]>108.50000000000001?$=-.09153851322499747:e[145]>1e-35?e[5]>4814.500000000001?e[2]>38.50000000000001?$=.04222035773042132:$=-.09078149053947535:e[8]>568.5000000000001?e[1]>64.50000000000001?$=-.07209095448054853:$=.028065954981903313:$=.08714651929917122:$=-.006678820669279169:e[10]>40.50000000000001?$=.006982396294941626:$=-.07889649792011418:e[94]>1e-35?e[4]>30.500000000000004?$=-.09351114982645548:e[4]>3.5000000000000004?$=-.004837550129223451:$=-.08324141237464677:e[303]>1e-35?$=.10703037493990825:e[9]>156.50000000000003?$=-.10803018621648303:e[116]>1e-35?$=-.03208302566598311:e[212]>1e-35?e[243]>1e-35?$=.10261721665006701:$=.018994509090668264:$=.0011244262442038839;let re;e[86]>1e-35?e[8]>65.50000000000001?e[1]>46.50000000000001?re=-.08404263465005328:e[0]>3682.5000000000005?re=.041259223920298876:e[1]>29.500000000000004?re=-.09541257493441671:re=.001482192721625409:re=.051541427372951004:e[3]>7.500000000000001?e[157]>1e-35?re=-.08268996098437432:e[230]>1e-35?re=.015749498159959817:e[4]>7.500000000000001?e[3]>11.500000000000002?re=-913218977737457e-19:e[4]>10.500000000000002?re=-.056334165674005156:e[127]>1e-35?re=-.0784634021824036:e[2]>9.500000000000002?e[1]>62.50000000000001?re=-.04231200150318989:e[10]>42.50000000000001?re=.10182973257894812:re=.015934763950068445:re=-.03130938805859397:e[92]>1e-35?e[4]>6.500000000000001?e[1]>51.50000000000001?e[9]>19.500000000000004?re=-.041117068322885315:re=.1167767830037126:re=.13611206992387337:e[10]>41.50000000000001?re=-.07120286010564107:re=.022032788063345417:e[8]>1.5000000000000002?e[1]>51.50000000000001?e[9]>72.50000000000001?re=-.07702290997669524:e[198]>1e-35?re=.08776558554437136:re=-.008290740324975692:e[2]>32.50000000000001?re=.07198457624219955:re=.005463113714361629:re=.09414099512900526:e[129]>1e-35?e[0]>2904.5000000000005?e[0]>4004.5000000000005?re=.03295785445437507:re=.15140250150674536:re=-.035613213948910254:e[186]>1e-35?re=.06849425535860769:e[96]>1e-35?re=.06028225812727254:re=-.007582543288662308;let xe;e[84]>1e-35?e[9]>6.500000000000001?e[2]>43.50000000000001?xe=.08396556264106572:xe=-.0562516995099192:xe=-.10593011018789432:e[183]>1e-35?e[15]>1e-35?xe=-.09705176473553752:e[7]>18.500000000000004?e[2]>37.50000000000001?xe=.0052017514017035915:xe=-.11194119432743639:xe=.03724337696163019:e[227]>1e-35?e[17]>1e-35?e[2]>16.500000000000004?xe=-.025692451287403446:xe=-.09511862672123193:e[8]>1661.5000000000002?e[10]>37.50000000000001?xe=-.11892250746801664:e[10]>22.500000000000004?xe=.07548493166973796:xe=-.05973048107712209:e[4]>12.500000000000002?e[0]>4319.500000000001?e[10]>4.500000000000001?e[10]>37.50000000000001?xe=.13750699058082427:e[18]>1e-35?xe=.06535408879552801:xe=-.054118179035040674:xe=.1344282838979622:e[0]>3982.5000000000005?xe=-.10409582202467015:e[19]>1e-35?xe=.12672850705810795:e[8]>587.5000000000001?e[1]>35.50000000000001?xe=.012705935670766466:xe=.14149359442527545:xe=-.047977876173706004:e[20]>1e-35?xe=.057945228080337946:e[0]>3642.5000000000005?xe=-.008726535792122467:xe=-.08424769891378858:e[34]>1e-35?xe=-.0699329538228602:e[134]>1e-35?e[11]>1e-35?e[4]>15.500000000000002?e[0]>1187.5000000000002?xe=.01196849566739346:xe=.1614642278429876:xe=-.043022338150701625:e[3]>5.500000000000001?xe=-.03907848255033881:xe=.018280601026175593:xe=.0006654540402589085;let ue;e[31]>1e-35?e[2]>58.50000000000001?e[9]>1.5000000000000002?ue=-.01386103677247845:ue=.11386694333005128:e[4]>27.500000000000004?ue=-.021862617610091336:e[2]>31.500000000000004?ue=.0828858469030438:ue=.006483353475830127:e[224]>1e-35?e[149]>1e-35?e[13]>1e-35?ue=.11303635767048735:ue=-.01645525128352694:e[23]>1e-35?e[4]>62.50000000000001?ue=-.04238798044549342:ue=.022091190130494303:e[5]>5082.500000000001?ue=-.04287166152163786:e[8]>862.5000000000001?e[19]>1e-35?ue=.000660344696244351:e[4]>9.500000000000002?e[0]>1277.5000000000002?ue=-.04291104140431434:e[17]>1e-35?ue=.11256797532342613:ue=-.017206916368289193:ue=.026482035265709743:e[1]>8.500000000000002?e[11]>1e-35?ue=.04060606971664621:e[0]>4733.500000000001?e[8]>214.50000000000003?e[5]>4814.500000000001?ue=.03581712466863222:ue=.14770264307668884:e[8]>73.50000000000001?ue=-.13093289429740068:ue=.042461737442702936:e[52]>1e-35?ue=.0501831919044939:ue=-.010450249720465756:ue=-.0753365425372656:e[149]>1e-35?e[6]>23.500000000000004?ue=.0005381332165438493:ue=-.04549431717503909:e[133]>1e-35?e[2]>5.500000000000001?e[8]>698.5000000000001?e[282]>1e-35?ue=.04849637311285226:ue=-.036671377119808564:e[0]>421.50000000000006?ue=.00020968499911058945:ue=.11636422423182405:ue=-.12687837788222575:ue=.0012774367867215346;let de;e[120]>1e-35?de=.04776057572434719:e[229]>1e-35?e[0]>2952.5000000000005?e[0]>3904.5000000000005?de=-.042799574885345304:de=.07412430171193245:de=-.11248270469336048:e[193]>1e-35?de=-.060694220820603384:e[121]>1e-35?e[217]>1e-35?e[0]>4449.500000000001?e[4]>8.500000000000002?de=.028911612178122104:de=.12326369727728437:e[0]>4091.5000000000005?de=-.09370267064141052:e[0]>3519.5000000000005?e[8]>668.5000000000001?de=.1159839898100149:de=-.01924880886585737:e[8]>501.50000000000006?e[10]>16.500000000000004?de=-.0216343737351583:de=-.1220272260878369:e[2]>18.500000000000004?de=.09152924475072398:e[8]>55.50000000000001?de=.039508716651005665:de=-.11714436880423203:e[18]>1e-35?e[9]>2.5000000000000004?de=.06793009902674053:de=-.024060578029812988:e[4]>2.5000000000000004?e[2]>16.500000000000004?e[4]>11.500000000000002?de=-.04391068849624096:de=.04009967593394672:e[8]>1085.5000000000002?de=-.024773826356034825:de=-.13919707884246582:de=.06659278075192335:e[223]>1e-35?e[8]>668.5000000000001?de=-.11567917501901476:de=-.006813640337684114:e[3]>7.500000000000001?de=.0010671269682548076:e[7]>3.5000000000000004?e[1]>33.50000000000001?e[0]>1597.5000000000002?e[10]>1.5000000000000002?de=-.001754586408351048:de=-.055422422450722056:de=-.06090032532532226:e[0]>5269.500000000001?de=.11787981735983527:de=-.00198119768540783:de=.00210412924303036;let Ie;e[294]>1e-35?e[10]>50.50000000000001?Ie=-.09738558653332406:e[0]>2432.5000000000005?e[0]>4533.500000000001?Ie=-.06063239096209816:Ie=.03317022411417386:Ie=-.08607562321324262:e[120]>1e-35?e[4]>18.500000000000004?Ie=-.013608609329298802:Ie=.09078000157330264:e[99]>1e-35?Ie=.014828708581964632:e[10]>52.50000000000001?e[49]>1e-35?Ie=-.07536137260189814:Ie=.006253266595455118:e[10]>28.500000000000004?Ie=-.006106041147592768:e[9]>156.50000000000003?Ie=-.11828932797811101:e[94]>1e-35?Ie=-.02566078479505714:e[303]>1e-35?Ie=.09544850289775349:e[15]>1e-35?e[224]>1e-35?e[4]>56.50000000000001?Ie=-.08401252789168523:e[5]>4244.500000000001?Ie=.026372887658499107:e[1]>16.500000000000004?Ie=-.027836756345634026:Ie=.09205362097909099:Ie=.00934612788718244:e[203]>1e-35?Ie=-.016371658366767253:e[7]>26.500000000000004?e[0]>966.5000000000001?e[1]>38.50000000000001?e[146]>1e-35?e[9]>21.500000000000004?Ie=-.09580979052540028:e[1]>50.50000000000001?Ie=-.06402211827281554:Ie=.08342858760095972:e[2]>36.50000000000001?Ie=.008114897658204584:e[92]>1e-35?Ie=.09541587072672864:Ie=-.022342147210555434:Ie=-.01660492519175128:Ie=.014721622240945446:e[4]>25.500000000000004?e[11]>1e-35?Ie=.15846731118501817:Ie=.039498507912023195:e[245]>1e-35?Ie=.07008718676813333:Ie=.0019806389728814727;let we;e[32]>1e-35?e[8]>90.50000000000001?e[4]>67.50000000000001?e[0]>4188.500000000001?we=-.01192072916082109:we=.13888590840802637:e[1]>16.500000000000004?e[8]>2302.5000000000005?we=.06874032717466054:e[4]>40.50000000000001?we=-.07752510020707537:e[1]>76.50000000000001?we=-.09944032260703917:e[8]>1381.5000000000002?we=-.054466635810800745:e[1]>32.50000000000001?we=.05974084520839573:we=-.0384718740755954:we=-.11374190719134032:e[0]>2151.5000000000005?we=-.13703645155803298:we=.004833344758654556:e[297]>1e-35?e[212]>1e-35?we=.06954747264544993:e[7]>9.500000000000002?e[19]>1e-35?e[1]>30.500000000000004?e[0]>4242.500000000001?we=.013539805885738608:we=-.0692740641801559:e[0]>2653.5000000000005?e[10]>57.50000000000001?we=.09941880179344399:we=-.01608127391210995:we=.08025226531247417:e[9]>67.50000000000001?we=.13525448212444113:e[6]>61.50000000000001?we=-.05511099182158894:e[94]>1e-35?we=-.06821509831783572:e[128]>1e-35?we=.11361314817714643:we=.030160785008575566:e[1]>13.500000000000002?e[8]>17.500000000000004?e[16]>1e-35?we=-.09954181329804547:e[197]>1e-35?we=.10102833149755386:e[188]>1e-35?we=.05584490988313965:e[9]>49.50000000000001?e[4]>5.500000000000001?we=-.03781554214742005:we=.09927933385592314:we=-.020006000056720083:we=-.10520473615957895:we=-.12006990846253787:we=-.00026111570975317574;let ke;e[8]>2830.5000000000005?e[1]>31.500000000000004?e[9]>32.50000000000001?e[5]>1234.5000000000002?e[0]>1725.5000000000002?e[7]>14.500000000000002?e[2]>38.50000000000001?ke=-.019188245509744628:ke=-.13354864350075848:e[0]>2461.5000000000005?ke=.051885477468354396:ke=-.0833581968852119:ke=.08233441701532287:ke=-.10865584951212362:e[8]>2992.5000000000005?e[10]>49.50000000000001?e[10]>56.50000000000001?e[1]>45.50000000000001?e[0]>2041.5000000000002?ke=.09926337893072812:ke=-.027753610497327715:e[0]>1972.5000000000002?ke=-.09780045823152517:ke=.032380915168504935:ke=.11502632261226381:e[17]>1e-35?ke=-.06094965899579662:e[10]>40.50000000000001?ke=-.07500475582440802:ke=.006499832113084677:e[10]>4.500000000000001?e[4]>10.500000000000002?ke=-.09584538995220808:ke=-.00908705814304442:ke=.03203281520813893:e[10]>49.50000000000001?ke=-.03146271513986384:e[2]>63.50000000000001?ke=.13172001315536286:e[224]>1e-35?ke=.08945777550527927:e[0]>2282.5000000000005?e[4]>4.500000000000001?ke=.09521549382082259:ke=-.04414925613522197:e[0]>1847.5000000000002?ke=-.09118580379557353:ke=.009206744918282364:e[178]>1e-35?e[2]>25.500000000000004?e[1]>31.500000000000004?ke=.03525144509943896:ke=-.053340750721609057:e[0]>1057.5000000000002?e[10]>2.5000000000000004?ke=-.04766112322938157:e[2]>10.500000000000002?ke=.0728516504357201:ke=-.05049625965272536:ke=-.10868663055825774:ke=.0005382613419948969;let qe;e[147]>1e-35?e[1]>53.50000000000001?qe=-.10615739288764095:e[0]>2604.5000000000005?e[0]>3629.5000000000005?qe=-.030504020655417463:qe=.07102458639110094:qe=-.07058131985243714:e[302]>1e-35?e[10]>47.50000000000001?qe=.055304563442710876:e[1]>53.50000000000001?qe=.033723409577443623:e[8]>175.50000000000003?e[0]>2628.5000000000005?e[9]>40.50000000000001?qe=-.1568835288372895:qe=-.0279829124400056:qe=.04493843959601833:qe=-.11637042729644327:e[191]>1e-35?e[282]>1e-35?qe=-.054133834303687026:e[9]>48.50000000000001?qe=.11263810289007213:e[9]>9.500000000000002?qe=-.02202034562838259:e[4]>45.50000000000001?qe=-.03410927569045158:qe=.04381615166534081:e[242]>1e-35?e[0]>3615.5000000000005?e[3]>19.500000000000004?e[1]>56.50000000000001?e[4]>28.500000000000004?qe=-.029687297407295893:qe=.10673602850001934:e[4]>42.50000000000001?qe=.0036275562945108117:qe=-.0760789221330622:qe=-.10385623431741903:e[2]>34.50000000000001?e[2]>44.50000000000001?e[4]>51.50000000000001?qe=.08274426793676076:qe=-.07076234425516396:qe=.13890177606150175:qe=-.019863286503635686:e[53]>1e-35?e[18]>1e-35?qe=-.09250637750836187:qe=-.0031531727902009026:e[2]>107.50000000000001?e[4]>91.50000000000001?e[1]>16.500000000000004?qe=-.01897867921812603:qe=.04890781705365262:qe=-.11569892307597907:e[2]>106.50000000000001?qe=.09032697440623969:qe=.00047935919155035045;let Ke;e[115]>1e-35?Ke=.05338335681275557:e[242]>1e-35?e[0]>3615.5000000000005?e[4]>42.50000000000001?e[4]>75.50000000000001?Ke=-.10131179514695865:e[8]>938.5000000000001?Ke=.10203729808015481:Ke=-.015357944186835289:e[1]>56.50000000000001?e[2]>22.500000000000004?Ke=.03574015165562999:Ke=-.07763042506449493:Ke=-.0813323116215548:e[2]>34.50000000000001?e[2]>44.50000000000001?e[4]>51.50000000000001?Ke=.0665706259130275:Ke=-.06586817559309924:Ke=.11925564412287476:Ke=-.014170019267143326:e[1]>124.50000000000001?e[2]>30.500000000000004?e[8]>533.5000000000001?e[4]>41.50000000000001?e[8]>977.5000000000001?Ke=.046017146627455346:Ke=-.08623321630086885:e[8]>1765.5000000000002?Ke=-.017990564319859934:e[10]>25.500000000000004?e[10]>48.50000000000001?Ke=.11143827902215087:Ke=-.01817808730473413:Ke=.16980985030210127:Ke=-.09357806298740017:e[10]>7.500000000000001?e[10]>54.50000000000001?Ke=.010168994879727824:Ke=-.09099594488792513:e[9]>1.5000000000000002?Ke=.0533459678147928:Ke=-.06886854808370108:e[99]>1e-35?e[17]>1e-35?e[9]>22.500000000000004?Ke=-.062346959148773695:e[1]>47.50000000000001?Ke=-.0021578343835599316:e[2]>27.500000000000004?Ke=.19567373210166172:Ke=.07851555379116423:e[18]>1e-35?Ke=.03711549097804649:e[8]>359.50000000000006?Ke=.012492346746905587:e[4]>20.500000000000004?Ke=.047511695735697544:Ke=-.07999269063948773:Ke=6802045404471004e-20;let tt;e[222]>1e-35?e[0]>612.5000000000001?e[10]>1e-35?e[8]>2167.5000000000005?e[4]>25.500000000000004?tt=.0011484728213539738:tt=-.0936582904650763:e[2]>25.500000000000004?e[8]>182.50000000000003?e[10]>22.500000000000004?e[0]>5026.500000000001?tt=-.09828874964938798:e[8]>1586.5000000000002?tt=.13726397438080162:e[4]>48.50000000000001?e[2]>63.50000000000001?tt=.011938269926919522:tt=.17541983715953954:e[19]>1e-35?tt=.023002786011088672:tt=-.06221461272461431:e[9]>2.5000000000000004?e[0]>3818.5000000000005?tt=.06508934844183291:tt=-.10168553534835639:tt=-.07755626499024171:e[2]>51.50000000000001?e[4]>65.50000000000001?tt=.021140806225203937:tt=-.1167833342453639:e[2]>33.50000000000001?tt=.13163585734056618:tt=-.00203273890889717:e[10]>36.50000000000001?e[8]>1067.5000000000002?tt=.06314479201263888:tt=-.09639088327091713:e[10]>29.500000000000004?tt=.09225469303582386:e[0]>3129.5000000000005?e[0]>4091.5000000000005?e[0]>4354.500000000001?tt=40577156464836036e-21:tt=.12322387121810757:tt=-.03697224045046014:e[1]>22.500000000000004?tt=.016474835887320276:tt=.16919298733903063:tt=.07633203630214054:tt=-.047438037934250644:e[30]>1e-35?e[224]>1e-35?e[1]>52.50000000000001?tt=.14150493354700563:tt=-.01831155354975749:e[1]>28.500000000000004?tt=-.07952557178685365:e[10]>28.500000000000004?tt=.0665695554984927:tt=-.053640139319277094:tt=.0004754840665898665;let rt;e[76]>1e-35?rt=-.06814884255939921:e[179]>1e-35?rt=-.06325743795510681:e[122]>1e-35?e[6]>36.50000000000001?rt=.05052338063261613:e[8]>626.5000000000001?e[1]>38.50000000000001?rt=.004193658608848433:rt=-.1066968975983452:e[8]>302.50000000000006?rt=.05476730110440451:rt=-.06382970920394895:e[218]>1e-35?e[2]>3.5000000000000004?e[6]>13.500000000000002?e[2]>19.500000000000004?e[0]>3200.5000000000005?e[4]>91.50000000000001?rt=-.12156071809840739:e[9]>21.500000000000004?e[5]>3883.5000000000005?e[8]>919.5000000000001?e[8]>1085.5000000000002?rt=.013555772109446666:rt=-.09856116699770784:rt=.0284329611813383:e[2]>52.50000000000001?rt=.04008708444763762:e[9]>29.500000000000004?rt=-.1289599546008197:rt=-.018566534248335896:e[8]>747.5000000000001?rt=.02236484980076122:rt=.1148871655157582:e[8]>3084.0000000000005?rt=-.05573875952902531:e[10]>17.500000000000004?e[2]>51.50000000000001?rt=.03164751204281298:rt=.11752140436184891:e[9]>42.50000000000001?rt=-.07180559595410106:e[22]>1e-35?rt=.09325040416256854:rt=-.016041122807939914:rt=-.02765708954618808:e[1]>30.500000000000004?e[1]>66.50000000000001?rt=-.010718250133458515:rt=.09818827994853763:rt=.010180038981174032:rt=-.039472162599295535:e[9]>170.50000000000003?rt=-.08536729235976731:e[189]>1e-35?e[0]>5269.500000000001?rt=-.08674788057474031:rt=.02077653508548371:rt=-.0003536561382007414;let lt;e[86]>1e-35?e[10]>6.500000000000001?e[0]>4376.500000000001?lt=.018337297491457794:lt=-.05926206443180149:lt=.024026520855881126:e[288]>1e-35?e[184]>1e-35?lt=.10747078482128616:e[126]>1e-35?lt=-.10550625192391357:e[7]>71.50000000000001?lt=-.07698346027863572:e[8]>302.50000000000006?e[6]>49.50000000000001?e[4]>47.50000000000001?e[1]>38.50000000000001?e[15]>1e-35?lt=.1317396472229434:lt=-.025035791351328947:lt=-.0728334305864372:e[8]>963.5000000000001?lt=.023642201723096064:lt=.183010326734258:e[128]>1e-35?lt=.04228920135648387:e[2]>34.50000000000001?e[15]>1e-35?lt=.002801782941492993:e[3]>40.50000000000001?e[4]>39.50000000000001?lt=-.1088876900335281:lt=.02758317023002635:lt=-.11886771300807207:e[9]>59.50000000000001?e[1]>33.50000000000001?lt=-.01928020117446408:lt=.10193718474139135:e[1]>48.50000000000001?e[4]>9.500000000000002?e[8]>932.5000000000001?lt=.07893723375925096:lt=-.009878929627026153:e[10]>2.5000000000000004?e[9]>20.500000000000004?lt=-.10301657587280551:lt=.005787463140224318:lt=.07421364314695046:e[0]>2840.5000000000005?e[10]>29.500000000000004?lt=-.019296977889522397:lt=-.07274529751752634:e[1]>30.500000000000004?lt=-.050368901143148286:lt=.029630869489466655:e[2]>6.500000000000001?e[4]>9.500000000000002?lt=.0015332402792773946:lt=.09930153676749967:lt=-.06370844564357069:lt=.00042272155209927616;let O;e[71]>1e-35?e[4]>17.500000000000004?O=.12586844370423247:O=-.006791999603126354:e[222]>1e-35?e[1]>10.500000000000002?e[30]>1e-35?e[1]>36.50000000000001?e[9]>1.5000000000000002?e[10]>25.500000000000004?O=-.08474891624263797:e[8]>125.50000000000001?O=.08125086980439704:O=-.04082085238068532:e[0]>3863.5000000000005?O=.020481535807469208:O=.14810819386202126:e[0]>1937.5000000000002?e[2]>16.500000000000004?O=-.019110200161573936:O=-.12387719685855114:e[0]>1102.5000000000002?O=.08376595701957407:O=-.031821919580524834:e[9]>4.500000000000001?O=-.08116383486497568:e[7]>8.500000000000002?e[2]>24.500000000000004?O=-.02154820850475448:e[0]>3863.5000000000005?e[8]>902.5000000000001?O=.1349841206807871:O=.011864053595560297:e[1]>41.50000000000001?O=-.08203662486612544:e[2]>18.500000000000004?O=-.009541865642346947:O=.08345043168501759:e[2]>10.500000000000002?O=-.09585031818030947:O=.019432330487099865:O=.08399259524715129:e[30]>1e-35?e[224]>1e-35?e[1]>52.50000000000001?O=.11951517733981365:O=-.016651014735738538:e[1]>28.500000000000004?O=-.07410922545030711:e[10]>28.500000000000004?O=.05886430683844788:O=-.04929626605117184:e[191]>1e-35?e[9]>9.500000000000002?e[9]>48.50000000000001?O=.04802269879144705:O=-.026208212831796737:e[4]>45.50000000000001?O=-.03227476944664786:O=.05124575625622705:O=.00020506696916003137;let Z;e[116]>1e-35?e[9]>2.5000000000000004?e[9]>17.500000000000004?Z=-.03042091758483443:e[10]>14.500000000000002?Z=.09816619204768777:Z=.01332124067720947:e[8]>8.500000000000002?e[4]>15.500000000000002?Z=-.02381165060401718:Z=-.10950361804974783:Z=.03538211665111128:e[212]>1e-35?e[19]>1e-35?Z=-.09940014650006174:e[0]>2215.5000000000005?e[5]>5056.500000000001?e[3]>5.500000000000001?e[10]>25.500000000000004?Z=-.06371052144380579:Z=.0835500621252692:Z=-.10408255929333915:e[1]>74.50000000000001?Z=.13208968122712403:e[1]>64.50000000000001?Z=-.04778844603644965:e[8]>51.50000000000001?e[8]>201.50000000000003?e[8]>660.5000000000001?e[6]>4.500000000000001?e[9]>5.500000000000001?e[1]>29.500000000000004?e[0]>3830.5000000000005?Z=.09922816902423433:Z=.016366955328796718:Z=.1592412560903584:e[1]>39.50000000000001?Z=.05409467990258923:Z=-.08260633210459611:Z=-.06307205775247567:e[9]>36.50000000000001?Z=.040253940015648144:Z=.14202568969471283:Z=-.028761848341594044:Z=.08994073058773508:e[0]>807.5000000000001?Z=-.043427848826323195:Z=.04573516446846493:e[20]>1e-35?e[188]>1e-35?Z=-.0758877731600639:e[23]>1e-35?Z=.05913923322043199:e[8]>155.50000000000003?e[128]>1e-35?Z=.08124700978741987:Z=.013296063087086852:e[7]>5.500000000000001?Z=-.01640196088612987:Z=-.12685498840146067:Z=-.0004940792382459551;let fe;e[1]>24.500000000000004?e[103]>1e-35?e[8]>61.50000000000001?e[17]>1e-35?fe=-.05584993681929434:e[9]>27.500000000000004?e[0]>3916.5000000000005?fe=.08513773825688947:fe=-.1184664832315282:fe=.05676963535893477:fe=.14263843210340613:fe=.0005795003292924202:e[18]>1e-35?e[0]>5453.500000000001?e[1]>11.500000000000002?fe=-.10669720555606924:fe=.029016613003137307:e[2]>46.50000000000001?e[10]>9.500000000000002?fe=.0664744575868955:fe=-.08469256188890871:fe=-.026746678040592144:e[281]>1e-35?fe=-.07408427239006925:e[145]>1e-35?e[4]>6.500000000000001?e[9]>16.500000000000004?e[4]>18.500000000000004?fe=.012131807587207655:fe=-.12776015795398743:fe=.04320472481083551:fe=.08390980661550446:e[10]>227.50000000000003?fe=-.09771783809101153:e[10]>130.50000000000003?fe=.11175201938704937:e[8]>779.5000000000001?e[5]>3325.5000000000005?e[128]>1e-35?fe=-.07610698254064358:e[8]>902.5000000000001?fe=-.03136381213599649:e[131]>1e-35?fe=.0704821739127936:e[224]>1e-35?fe=-.056961477774953785:e[10]>30.500000000000004?e[9]>43.50000000000001?fe=.10431473040024908:e[8]>841.5000000000001?fe=.07304745320500514:fe=-.038011541882439825:fe=-.01679746695007364:e[0]>3129.5000000000005?fe=.05589952587431965:e[210]>1e-35?fe=.06227198085800842:fe=-.0011341890997947812:e[8]>740.5000000000001?fe=.04817300084412584:fe=-.000577001010789238;let pe;e[187]>1e-35?e[6]>12.500000000000002?e[10]>8.500000000000002?e[10]>16.500000000000004?e[8]>234.50000000000003?e[4]>43.50000000000001?e[0]>4476.500000000001?pe=-.10504730480402079:e[5]>3341.5000000000005?pe=.11087894671081754:pe=-.0406668834674614:pe=.03308382165616109:e[8]>104.50000000000001?pe=-.10431436764549162:pe=.0073928337244891455:e[4]>34.50000000000001?pe=-.10571751512748416:pe=-.006081128814142983:e[13]>1e-35?pe=.1299673566095023:e[4]>60.50000000000001?pe=-.06587492443829139:e[0]>2604.5000000000005?e[3]>19.500000000000004?pe=.04857126072645073:pe=-.03431365358104773:e[4]>16.500000000000004?pe=.04101865986596709:pe=.16480274980378218:e[10]>26.500000000000004?pe=.03673978504199255:e[10]>9.500000000000002?pe=-.10996402743800027:e[308]>1e-35?pe=.0553693735082498:pe=-.041600136235644125:e[306]>1e-35?e[8]>1156.5000000000002?e[4]>14.500000000000002?e[10]>21.500000000000004?pe=.010902983761213922:pe=.1325118659895645:pe=-.064362945508595:e[1]>66.50000000000001?pe=.033416767779331176:pe=-.054080316225040496:e[42]>1e-35?pe=-.07762364337810815:e[10]>1089.5000000000002?pe=-.08465599849125216:e[31]>1e-35?e[8]>30.500000000000004?pe=.012788520036013586:e[1]>32.50000000000001?e[1]>51.50000000000001?pe=.0220102041325908:pe=-.06516708740003069:pe=.012833498905748267:e[224]>1e-35?pe=-.007038418272997865:pe=.00037666304316290967;let Re;e[84]>1e-35?e[9]>6.500000000000001?e[2]>43.50000000000001?Re=.07554189644995735:Re=-.052089349455904946:Re=-.10148206848169845:e[113]>1e-35?Re=-.06666678653225779:e[39]>1e-35?e[9]>3.5000000000000004?e[0]>3670.5000000000005?Re=.07172653627995676:Re=-.07602959317610998:Re=-.08790686271287523:e[229]>1e-35?e[0]>2952.5000000000005?e[0]>3904.5000000000005?Re=-.0399322883690891:Re=.06523495517476098:Re=-.10358715295743802:e[193]>1e-35?Re=-.05551414334329124:e[134]>1e-35?e[11]>1e-35?e[2]>13.500000000000002?e[10]>1.5000000000000002?Re=.015928764772252406:Re=.1341513061552287:Re=-.04975001987586173:e[10]>2.5000000000000004?e[3]>5.500000000000001?e[9]>2.5000000000000004?e[8]>310.50000000000006?Re=-.033592997607280156:Re=-.12432458028446665:e[1]>32.50000000000001?e[217]>1e-35?Re=-.08402551858097379:Re=.017401984506038796:e[1]>25.500000000000004?Re=.13337205393591278:Re=-.01160208350090984:Re=.06708317942315471:e[8]>227.50000000000003?Re=-.08486943882418681:Re=-.013970104864235007:e[8]>4968.500000000001?e[1]>31.500000000000004?e[9]>4.500000000000001?Re=-.10496268177586783:Re=-.020921489532370493:Re=.02629915927247642:e[7]>20.500000000000004?e[8]>251.50000000000003?e[115]>1e-35?Re=.11639296062157028:Re=-.004275784356569115:e[32]>1e-35?Re=-.07297384970166025:Re=.006026841626381599:Re=.002034611134960428;let Me;e[248]>1e-35?Me=.06091438745093315:e[0]>384.50000000000006?e[204]>1e-35?e[1]>62.50000000000001?Me=-.06455513326540585:e[1]>29.500000000000004?Me=.07718474591552532:e[4]>7.500000000000001?Me=.040139336931404826:Me=-.09685734690563386:Me=.00015327283570347363:e[9]>88.50000000000001?Me=.10079017954199324:e[1]>47.50000000000001?e[2]>20.500000000000004?e[2]>27.500000000000004?Me=-.04077257804338707:Me=.0739963982640615:e[9]>1.5000000000000002?e[17]>1e-35?Me=.03778141591008941:Me=-.06459919920634845:Me=-.11193190957880604:e[7]>6.500000000000001?e[11]>1e-35?e[18]>1e-35?Me=.14063930759326346:e[0]>179.50000000000003?Me=.07287482250668585:e[8]>1180.5000000000002?Me=-.14419393112726253:e[10]>28.500000000000004?Me=-.07993142770099469:e[17]>1e-35?Me=-.04702595410391655:e[7]>21.500000000000004?e[2]>26.500000000000004?Me=.05527969663610186:Me=-.10824385941441346:e[3]>11.500000000000002?Me=.12358502961047915:Me=-.017509147119622873:e[0]>74.50000000000001?Me=-.014907705458730486:e[8]>95.50000000000001?Me=-.02225118168342062:Me=-.1222374623708485:e[8]>1.5000000000000002?e[8]>950.5000000000001?Me=.06946188930925638:e[3]>6.500000000000001?e[10]>2.5000000000000004?e[19]>1e-35?Me=.04962819555610421:Me=-.07213577821855309:Me=.09139529824708481:e[19]>1e-35?Me=.013439401088345224:Me=-.049274647207292056:Me=.10531673719686951;let $e;e[40]>1e-35?e[0]>1937.5000000000002?$e=-.06421671152073961:$e=.04235421241226177:e[294]>1e-35?e[10]>50.50000000000001?$e=-.09100102290316286:e[0]>3030.5000000000005?e[0]>4177.500000000001?$e=-.03520420769287065:e[8]>1085.5000000000002?$e=-.019817352506127633:$e=.11444439424520964:$e=-.06854631664538167:e[120]>1e-35?e[4]>18.500000000000004?$e=-.010490117519863269:$e=.08104430117757461:e[121]>1e-35?e[243]>1e-35?$e=.16408304891242204:e[217]>1e-35?e[0]>4449.500000000001?$e=.06619344145920268:e[0]>4091.5000000000005?$e=-.08813353450871053:e[0]>3519.5000000000005?e[8]>668.5000000000001?$e=.10016091391222309:$e=-.017407607199427293:e[8]>501.50000000000006?e[10]>16.500000000000004?$e=-.019511460451434884:$e=-.11643672465055221:e[2]>18.500000000000004?$e=.07848228087333317:e[8]>55.50000000000001?$e=.032583027899956235:$e=-.11209832692153521:e[11]>1e-35?$e=.027482174104412567:e[10]>1.5000000000000002?e[6]>26.500000000000004?e[4]>19.500000000000004?e[9]>31.500000000000004?$e=-.09996887746328006:e[9]>2.5000000000000004?$e=.02157682011863397:$e=-.05247727848991843:$e=.07409150201483244:e[1]>38.50000000000001?$e=-.11378466075449625:e[224]>1e-35?$e=-.10741749127732923:e[1]>26.500000000000004?$e=.07343136534146562:$e=-.07013573628594773:e[25]>1e-35?$e=-.04626669734164317:$e=.05518333197956482:$e=.00032434010867555516;let We;e[183]>1e-35?e[10]>1.5000000000000002?e[17]>1e-35?We=.026313251010808853:We=-.08997339150292381:We=.025062509535227952:e[227]>1e-35?e[1]>6.500000000000001?e[2]>9.500000000000002?e[210]>1e-35?We=.08071107515789745:e[23]>1e-35?e[1]>75.50000000000001?We=.0905155504503746:e[8]>1049.5000000000002?We=-.062312558183394054:e[8]>719.5000000000001?We=.09583836191410239:e[0]>3719.5000000000005?We=-.0778097309430818:We=.04012012419054895:e[4]>12.500000000000002?e[8]>1496.5000000000002?e[10]>42.50000000000001?We=-.12920865648544927:e[0]>2699.5000000000005?We=-.07086587879041864:We=.022614182502461846:e[4]>15.500000000000002?e[8]>55.50000000000001?e[1]>60.50000000000001?e[8]>652.5000000000001?We=-.11377786322600797:We=-.009486325820117998:e[1]>55.50000000000001?We=.12430248795958142:e[0]>2952.5000000000005?e[0]>4331.500000000001?e[1]>38.50000000000001?We=-.07938291201004219:e[2]>36.50000000000001?We=.01520046732530246:We=.13649854049662832:We=-.07145015938528873:e[8]>407.50000000000006?We=-.00350257360822279:We=.11332047082193297:We=-.10060624458629897:We=.05429496612497562:e[8]>1446.5000000000002?We=.006073419197482838:We=-.08718676350883998:We=-.11532497988252638:We=.10766270463068293:e[34]>1e-35?We=-.06345912440611544:e[131]>1e-35?e[9]>1.5000000000000002?We=-.0004109812623829506:We=.021601073497455662:We=-7343540098965853e-20;let De;e[298]>1e-35?e[9]>12.500000000000002?e[133]>1e-35?De=-.06107663265515864:e[9]>70.50000000000001?e[10]>37.50000000000001?De=.05995640200798119:e[0]>3443.5000000000005?De=-.14698883458733583:De=-.030039164579240187:e[189]>1e-35?De=-.06086763220538141:e[1]>86.50000000000001?De=-.05096727866142538:e[4]>64.50000000000001?De=.11240554253834577:e[4]>45.50000000000001?De=-.030279760168394117:e[6]>45.50000000000001?De=.10161088917815142:e[10]>77.50000000000001?De=-.0792333078055653:e[7]>23.500000000000004?e[0]>2882.5000000000005?De=-.06672020005240323:De=.08831457502630258:e[8]>2592.5000000000005?De=-.052617701047376654:e[10]>29.500000000000004?De=.08499327690298047:e[2]>12.500000000000002?e[9]>41.50000000000001?De=.12880460816709416:e[9]>25.500000000000004?e[4]>11.500000000000002?De=-.064099222705728:De=.044332487521538365:e[0]>2882.5000000000005?De=.031099546885005065:De=.12938467051623853:e[0]>4221.500000000001?De=-.0928676413498701:e[9]>30.500000000000004?De=-.05781824812803708:De=.07561268901778094:e[8]>711.5000000000001?e[2]>22.500000000000004?De=-.06648105454098469:De=.05985487552383097:De=-.13070190291919334:e[116]>1e-35?e[10]>38.50000000000001?De=.05282385499619401:e[1]>66.50000000000001?De=.048802929108006314:e[2]>4.500000000000001?e[0]>4593.500000000001?De=.027885690791379255:De=-.08407126408362446:De=.014432924125571093:De=-9903435845205118e-20;let q;e[76]>1e-35?q=-.06307875292162934:e[21]>1e-35?e[7]>10.500000000000002?e[10]>4.500000000000001?e[8]>944.5000000000001?e[0]>3655.5000000000005?q=.013633653464240465:q=-.10164319411983509:q=-.1228424374328996:e[1]>26.500000000000004?e[2]>28.500000000000004?q=.00632864847804078:q=-.08393000368134668:q=.07870508617440916:e[284]>1e-35?q=.1092302727710421:q=-.0025505047582483234:e[248]>1e-35?q=.07101822393621864:e[274]>1e-35?q=-.06621099406425579:e[1]>26.500000000000004?e[1]>28.500000000000004?q=.0003077044909372931:e[10]>2.5000000000000004?e[0]>3770.5000000000005?q=.025081789181021243:q=-.014813325803582618:e[9]>33.50000000000001?q=-.033466921233840194:e[3]>12.500000000000002?e[23]>1e-35?q=.11926990418060353:q=.01852125513565268:q=.0975367595927343:e[5]>3325.5000000000005?e[8]>892.5000000000001?e[133]>1e-35?q=-.1178464984373743:e[283]>1e-35?q=.043370859226927405:e[5]>4320.500000000001?q=-.01103141226366587:e[8]>1104.5000000000002?q=-.023053423988095886:q=-.0734238953804657:e[6]>18.500000000000004?e[8]>85.50000000000001?q=.000579145585864887:q=.03389152834202143:e[128]>1e-35?q=-.14527722052568462:e[210]>1e-35?q=-.08915971541902741:e[7]>9.500000000000002?q=-.03307314577076116:e[18]>1e-35?q=-.05521712302023565:q=.009315605032770029:q=.0036332551852289933;let X;e[0]>689.5000000000001?e[5]>768.5000000000001?e[20]>1e-35?e[5]>4368.500000000001?X=-.07583539600416284:e[188]>1e-35?X=-.07042659515500142:e[23]>1e-35?e[0]>3807.5000000000005?X=-.011038193049597113:X=.08154028164397753:e[1]>85.50000000000001?X=.10259361975201933:X=.011640408330521594:X=-.00023319159023748508:e[92]>1e-35?X=.13771692859530546:X=.022860029819654806:e[1]>22.500000000000004?e[1]>24.500000000000004?e[2]>96.50000000000001?X=.09967230141007705:e[30]>1e-35?X=-.08888529037551285:X=-.008615931385397808:e[10]>5.500000000000001?e[4]>36.50000000000001?X=.08284665960761373:X=-.029292565021289504:e[7]>7.500000000000001?X=-.09945093355204493:X=-.008381393701708593:e[20]>1e-35?X=-.04218678460370465:e[10]>6.500000000000001?e[9]>2.5000000000000004?e[1]>13.500000000000002?e[8]>143.50000000000003?e[4]>7.500000000000001?e[2]>36.50000000000001?X=.07585582641438211:e[8]>284.50000000000006?X=-.029387993239886723:X=.07716738177321587:e[1]>18.500000000000004?X=.026745348497993746:X=.1427429617069753:e[9]>16.500000000000004?e[9]>33.50000000000001?X=.02337306890530338:X=-.10390355904767366:X=.07390521199638532:X=-.06788247515155237:X=-.04201446383470994:e[2]>25.500000000000004?e[2]>29.500000000000004?e[8]>227.50000000000003?X=-.06360325615644084:X=.04342192339836601:X=-.10598779152030145:X=.05253384605768211;let se;e[3]>7.500000000000001?e[157]>1e-35?se=-.07514182877923786:se=.000636205502279271:e[129]>1e-35?e[0]>2904.5000000000005?e[0]>4004.5000000000005?se=.028692053800951845:se=.14081686716133598:se=-.03316566526940354:e[186]>1e-35?e[0]>2653.5000000000005?se=.0037139292567243084:se=.12662311031652707:e[107]>1e-35?e[0]>612.5000000000001?se=.01202688580305612:se=.0993509141454483:e[203]>1e-35?e[1]>77.50000000000001?se=.043935495082738626:se=-.05639305759669704:e[247]>1e-35?se=-.06770766046891649:e[105]>1e-35?e[19]>1e-35?se=.10331836202616368:se=.0006926658459781341:e[96]>1e-35?se=.05361846065599475:e[127]>1e-35?e[0]>2723.5000000000005?e[1]>54.50000000000001?se=-.0741403257305367:se=.022900127535540854:e[7]>3.5000000000000004?se=.038110741403836294:se=.14618649985842758:e[5]>3921.5000000000005?e[1]>110.50000000000001?se=-.09552842289807008:e[1]>27.500000000000004?se=.012505935885798007:se=-.020509603428689526:e[282]>1e-35?e[9]>45.50000000000001?e[6]>5.500000000000001?se=-.1046104767723845:se=.031388606992301074:e[8]>114.50000000000001?e[9]>17.500000000000004?e[9]>22.500000000000004?e[1]>32.50000000000001?se=.023466328488582572:se=.11730925774586994:se=-.04771965631104874:se=.17059689880751394:se=-.08181850955999449:e[26]>1e-35?se=-.12727482696678769:se=-.014343123272734182;let me;e[147]>1e-35?e[1]>53.50000000000001?me=-.0993064321015924:e[0]>2604.5000000000005?e[0]>3629.5000000000005?me=-.02763546051134888:me=.06423344777499343:me=-.064606430904295:e[302]>1e-35?e[10]>2.5000000000000004?e[10]>47.50000000000001?me=.049825139823021586:e[7]>22.500000000000004?me=-.01131680751379858:e[0]>2579.5000000000005?me=-.10673674485369694:me=-.015387212937189957:me=.04347325151148724:e[179]>1e-35?me=-.05788885608624092:e[84]>1e-35?e[9]>6.500000000000001?e[2]>43.50000000000001?me=.0650355590939066:me=-.0473332870892226:me=-.09699315983340703:e[288]>1e-35?e[88]>1e-35?me=.11139543329789044:e[126]>1e-35?me=-.09726928633696198:e[8]>149.50000000000003?e[9]>46.50000000000001?e[4]>1.5000000000000002?e[8]>1861.5000000000002?me=.06370903833231022:e[10]>29.500000000000004?me=.03415223859607161:e[10]>3.5000000000000004?me=-.07415518117873297:me=-.0014119203473324082:me=.12617652343819508:e[9]>41.50000000000001?me=-.10311145857176976:e[8]>2757.5000000000005?me=-.08106484219011428:e[7]>71.50000000000001?me=-.09783384432091176:e[1]>88.50000000000001?me=.06249739709782831:e[3]>9.500000000000002?e[5]>1601.5000000000002?me=-.008884084501608536:me=.061339437777743616:me=-.042490992675121846:e[2]>6.500000000000001?e[3]>10.500000000000002?me=.01526664064166223:me=.13534828515415498:me=-.06985484465894776:me=.0005758961943178744;let be;e[86]>1e-35?e[1]>23.500000000000004?e[1]>29.500000000000004?e[4]>16.500000000000004?e[2]>31.500000000000004?be=-.029152732370514342:be=.07173628916139178:e[1]>36.50000000000001?be=-.08859111297255318:be=.0018030071815630785:be=.13652461563759322:be=-.07550137680349367:e[10]>52.50000000000001?e[49]>1e-35?be=-.07145140450454163:e[21]>1e-35?be=-.07422841663493233:be=.006289319702780104:e[10]>40.50000000000001?e[9]>59.50000000000001?e[19]>1e-35?e[13]>1e-35?be=.11864240653986852:e[3]>33.50000000000001?be=-.08821209591953476:be=.05706392280054726:be=-.03600088051578915:e[18]>1e-35?e[1]>24.500000000000004?be=.01953613016837112:be=-.059781039130025006:e[148]>1e-35?be=.052668447861325476:e[3]>30.500000000000004?e[9]>49.50000000000001?be=.07207826841738371:e[202]>1e-35?be=.08163917539410503:be=-.01319846363832958:e[9]>35.50000000000001?e[5]>4134.500000000001?e[10]>44.50000000000001?be=-.06858280496900336:be=-.1781828899516648:be=-.04024620133969553:e[9]>10.500000000000002?e[1]>22.500000000000004?e[1]>37.50000000000001?be=.018232649414147116:be=-.04419781124222661:be=.05145485182416554:e[1]>23.500000000000004?e[0]>655.5000000000001?e[5]>4901.500000000001?e[10]>45.50000000000001?be=.11452368095776105:be=-.036496437259924026:be=-.040445338739465486:be=.0816572651001145:be=-.08968914517368663:be=.0002826343082585516;let Te;e[189]>1e-35?e[0]>5269.500000000001?Te=-.08839493050459957:e[10]>85.50000000000001?Te=.10046908365702462:e[8]>2592.5000000000005?Te=-.09632233975926387:e[8]>2000.5000000000002?Te=.10282992953871627:e[8]>1266.5000000000002?e[9]>34.50000000000001?Te=.035504970430426296:e[1]>31.500000000000004?Te=-.1133764813142531:Te=-.01138280942244812:e[8]>1125.5000000000002?Te=.09800530246229806:Te=.016170419267589393:e[218]>1e-35?e[9]>99.50000000000001?e[9]>101.50000000000001?e[9]>124.50000000000001?Te=.07316772160107896:Te=-.059095014819051765:Te=.17859437315769733:e[2]>1.5000000000000002?e[9]>86.50000000000001?Te=-.09150209066166894:e[8]>3084.0000000000005?Te=-.05443972593168094:e[1]>65.50000000000001?e[10]>11.500000000000002?e[9]>33.50000000000001?Te=-.04449234460408263:Te=.05568837973347338:Te=-.12362324875024472:e[1]>41.50000000000001?e[10]>12.500000000000002?e[8]>1336.5000000000002?Te=.12741077850267066:Te=.007372371864985329:e[2]>39.50000000000001?Te=.02295917234617787:Te=.14966532083907075:e[1]>39.50000000000001?Te=-.06685557815340279:e[10]>22.500000000000004?e[2]>52.50000000000001?Te=-.02511861881285652:e[1]>27.500000000000004?Te=.08683660011672288:Te=.02956214835267301:e[9]>15.500000000000002?Te=-.016538805462996232:Te=.04352738094981517:Te=-.05561856645643868:e[9]>170.50000000000003?Te=-.07996752635874248:e[179]>1e-35?Te=-.09065975936933919:Te=-.00042817975060427177;let Ne;e[39]>1e-35?e[4]>25.500000000000004?Ne=.03443173196222934:Ne=-.06554248341270724:e[32]>1e-35?e[8]>90.50000000000001?e[4]>67.50000000000001?e[4]>86.50000000000001?Ne=-.0013415395759330318:Ne=.12950978489563347:e[1]>22.500000000000004?e[10]>19.500000000000004?e[4]>30.500000000000004?e[9]>41.50000000000001?Ne=.002297618040307216:Ne=-.12522800128774994:e[4]>8.500000000000002?e[8]>1075.5000000000002?Ne=-.015297257305397608:Ne=.09651828834062742:Ne=-.06636003334371929:e[10]>11.500000000000002?Ne=.17631616138309397:e[0]>1639.5000000000002?Ne=3804386478092585e-20:Ne=-.09099296398683193:Ne=-.06874415876172972:e[0]>2151.5000000000005?Ne=-.1311264883406766:Ne=.00809052010141122:e[253]>1e-35?Ne=-.06338558211939296:e[178]>1e-35?e[2]>25.500000000000004?e[2]>30.500000000000004?e[0]>2151.5000000000005?e[10]>10.500000000000002?e[0]>3615.5000000000005?Ne=.045038497754638605:Ne=-.07770167665661752:Ne=-.08596294280650517:Ne=.08538655727027213:Ne=.09829076418590559:e[1]>39.50000000000001?e[9]>1.5000000000000002?Ne=.054627956617973275:e[1]>61.50000000000001?Ne=-.11994465088415499:e[4]>8.500000000000002?Ne=.06676200239406452:Ne=-.027503148069376867:e[8]>676.5000000000001?Ne=-.10363964928357075:e[4]>8.500000000000002?Ne=-.07589816227175682:Ne=.034664436544646814:e[1]>159.50000000000003?e[6]>25.500000000000004?Ne=.009093153189012338:Ne=-.06119765876605404:Ne=.0004668642103528348;let Ye;e[223]>1e-35?e[1]>31.500000000000004?e[8]>711.5000000000001?Ye=-.10100794502567233:Ye=.08000205636470442:Ye=-.11945419826856896:e[113]>1e-35?Ye=-.06105445938688056:e[167]>1e-35?e[0]>3928.5000000000005?Ye=.1224302423880318:Ye=-.01875566982911468:e[222]>1e-35?e[1]>8.500000000000002?e[1]>24.500000000000004?e[4]>3.5000000000000004?e[0]>725.5000000000001?e[0]>1682.5000000000002?e[0]>2860.5000000000005?Ye=.0019277012166729114:e[1]>28.500000000000004?Ye=-.054445821715687494:Ye=.045645722976713245:e[30]>1e-35?Ye=.13402660155331655:Ye=.008921176001777645:Ye=-.058547426505451076:Ye=.08841202222426625:e[1]>22.500000000000004?e[10]>9.500000000000002?Ye=-.13526418192218206:Ye=-.03266013432583145:e[1]>20.500000000000004?e[4]>27.500000000000004?Ye=.0007263224246135398:Ye=.12450043268647056:e[1]>17.500000000000004?e[9]>1.5000000000000002?Ye=-.11575657261278308:Ye=-.01530376565862095:e[4]>13.500000000000002?e[4]>22.500000000000004?Ye=-.01995960178292952:Ye=.11216586049153021:Ye=-.10050961087149474:Ye=.08848063368485726:e[30]>1e-35?e[224]>1e-35?e[1]>52.50000000000001?Ye=.10303451081526649:Ye=-.01375730267020699:e[1]>28.500000000000004?e[2]>20.500000000000004?Ye=-.043799548968209395:Ye=-.12451444314954115:e[4]>12.500000000000002?Ye=-.03838117361958468:Ye=.06504990789767144:e[57]>1e-35?Ye=.06890006938293915:Ye=.0003914274695562949;let ut;e[53]>1e-35?e[4]>11.500000000000002?e[8]>617.5000000000001?e[2]>41.50000000000001?ut=.004271749009686975:ut=-.10523878297127605:ut=.04633982158107851:ut=-.10349713975483057:e[183]>1e-35?e[15]>1e-35?ut=-.08655730561951676:e[8]>919.5000000000001?ut=-.0676453705610183:e[7]>18.500000000000004?ut=-.027787974193650575:ut=.08012784576991301:e[227]>1e-35?e[1]>6.500000000000001?e[3]>8.500000000000002?e[210]>1e-35?ut=.07185850683316512:e[8]>201.50000000000003?e[8]>348.50000000000006?e[23]>1e-35?e[8]>1049.5000000000002?ut=-.03473877164537313:e[8]>719.5000000000001?ut=.10471053866934404:ut=.008236107678382981:e[4]>57.50000000000001?ut=.09412219478825269:e[10]>66.50000000000001?ut=-.13884338641811986:e[10]>19.500000000000004?e[10]>22.500000000000004?e[0]>2490.5000000000005?ut=-.040681323751002293:ut=.06374650297561021:ut=.12884615227401788:e[10]>5.500000000000001?ut=-.0887517295786972:e[8]>597.5000000000001?e[18]>1e-35?ut=-.05474068967150784:ut=.03744700650806603:ut=-.07846396348680855:e[1]>42.50000000000001?ut=.018972315810821302:ut=.10953621007604744:e[5]>4439.500000000001?ut=.010999776705494586:e[1]>40.50000000000001?ut=-.12394200059775967:e[10]>2.5000000000000004?ut=.013528093962849453:ut=-.09222088417048682:ut=-.12662967149701485:ut=.09327296405849603:e[3]>99.50000000000001?ut=-.013581954439986752:ut=.0005526498251862075;let Ce;e[187]>1e-35?e[243]>1e-35?Ce=-.08392792551692502:e[10]>68.50000000000001?Ce=.07871769409454053:e[10]>8.500000000000002?e[10]>16.500000000000004?e[2]>17.500000000000004?e[3]>31.500000000000004?e[91]>1e-35?e[10]>21.500000000000004?e[10]>33.50000000000001?e[10]>48.50000000000001?Ce=-.0825306209711224:Ce=.049559996084532945:Ce=-.1064938580886302:Ce=.03353240732240275:Ce=.045985370399163464:e[1]>42.50000000000001?e[4]>20.500000000000004?Ce=.16966001471529374:e[1]>57.50000000000001?Ce=-.005772777673676247:Ce=.09383677041525058:e[8]>747.5000000000001?Ce=.054068175469351235:Ce=-.049968216310277036:e[8]>753.5000000000001?Ce=-.0679383555784074:e[4]>8.500000000000002?Ce=-.059757341189735386:Ce=.05701083682780414:Ce=-.052497281448921164:e[6]>12.500000000000002?e[8]>969.5000000000001?e[4]>23.500000000000004?Ce=.05820296128730006:Ce=-.1063042385102475:e[1]>49.50000000000001?e[8]>302.50000000000006?Ce=.15340611616954566:Ce=.04385036188666874:e[0]>4449.500000000001?Ce=-.02110897605541555:e[1]>24.500000000000004?e[2]>17.500000000000004?Ce=.004840354641006495:Ce=.09967827580276283:Ce=.11605363537391578:e[9]>19.500000000000004?Ce=-.0735831692725717:Ce=.019973331823355176:e[306]>1e-35?e[149]>1e-35?Ce=-.08968948874343531:e[8]>1094.5000000000002?e[10]>15.500000000000002?Ce=-.02442182361342386:Ce=.10334853004243093:Ce=-.030431948680167104:Ce=-956078595250818e-19;let At;e[294]>1e-35?e[1]>26.500000000000004?e[0]>4078.5000000000005?At=-.040232505718244854:e[0]>3030.5000000000005?At=.0634109586813073:At=-.04043617034245621:At=-.06385323610738443:e[120]>1e-35?e[4]>18.500000000000004?At=-.007859096946435131:At=.07282728486115758:e[229]>1e-35?e[0]>2952.5000000000005?e[17]>1e-35?At=.05515771679628051:At=-.04214471312668263:At=-.09589322222261765:e[193]>1e-35?At=-.05056345906812831:e[121]>1e-35?e[243]>1e-35?At=.14857706653119385:e[4]>9.500000000000002?e[1]>26.500000000000004?e[2]>59.50000000000001?At=-.08152604001147906:e[11]>1e-35?At=.09132936522356462:e[15]>1e-35?e[4]>23.500000000000004?At=.13100930780107503:e[10]>25.500000000000004?At=.05921074710011526:At=-.07226005736695183:e[0]>3304.5000000000005?e[0]>3707.5000000000005?e[0]>4053.5000000000005?At=.0009447118243153454:At=-.09820565036865991:At=.057146909749745546:e[0]>2115.5000000000005?At=-.12331216726611678:At=.007281983677694285:e[2]>56.50000000000001?At=.012310154675612615:At=-.08873665774670461:e[6]>25.500000000000004?At=.134708740821879:e[9]>5.500000000000001?At=-.0805901581148979:e[224]>1e-35?At=-.063684477784257:e[7]>2.5000000000000004?e[19]>1e-35?At=.10842593386554122:e[2]>13.500000000000002?At=.06466798320378395:At=-.08578130788886655:At=-.03590892078300114:At=.0003499894043880708;let Ct;e[134]>1e-35?e[6]>50.50000000000001?e[0]>3601.5000000000005?Ct=.10839808814624702:Ct=-.028043875308180352:e[7]>30.500000000000004?e[8]>932.5000000000001?Ct=-.007478368069393829:Ct=-.09066751344326617:e[0]>3588.5000000000005?e[5]>4748.500000000001?Ct=.04035247751736232:e[0]>4255.500000000001?Ct=-.1310865624507367:e[0]>4004.5000000000005?Ct=.06647367311982634:Ct=-.08339693352955757:e[4]>10.500000000000002?e[1]>34.50000000000001?Ct=-.011618902907510411:Ct=.1114646660406691:e[10]>2.5000000000000004?e[0]>3072.5000000000005?Ct=.09356028223727986:Ct=-.03811765057032162:Ct=-.09456215497345526:e[280]>1e-35?e[7]>70.50000000000001?Ct=.10322956436499003:e[2]>22.500000000000004?e[1]>83.50000000000001?Ct=.1146142460964847:e[1]>62.50000000000001?Ct=-.09679869865322362:e[9]>71.50000000000001?Ct=-.07377580769927583:e[4]>19.500000000000004?e[0]>4571.500000000001?Ct=-.039046426387852974:Ct=.04558778688367152:Ct=.11220830937352602:e[7]>5.500000000000001?e[9]>17.500000000000004?e[8]>1067.5000000000002?Ct=.03261697816211156:e[15]>1e-35?Ct=.02586252542264368:e[2]>14.500000000000002?Ct=-.016420452667484604:Ct=-.1011799626006976:Ct=-.13787471318963773:e[6]>4.500000000000001?e[8]>427.50000000000006?e[10]>36.50000000000001?Ct=.010193588102560583:Ct=.11748729525930773:Ct=-.04468162226743652:Ct=-.028365274393617957:e[71]>1e-35?Ct=.05115139346588793:Ct=-.0001510425316936658;let nt;e[298]>1e-35?e[8]>81.50000000000001?e[8]>119.50000000000001?e[4]>64.50000000000001?nt=.09072192054181037:e[9]>72.50000000000001?e[8]>1094.5000000000002?nt=.020637047900190317:nt=-.1017300802134141:e[1]>23.500000000000004?e[9]>12.500000000000002?e[0]>2815.5000000000005?e[0]>3183.5000000000005?e[3]>23.500000000000004?e[3]>45.50000000000001?e[4]>48.50000000000001?nt=-.04632587527094407:nt=.08603684785510396:nt=-.05101401015448496:nt=.025466432054358498:nt=-.07897811963329214:e[6]>13.500000000000002?e[10]>26.500000000000004?nt=.020385355430046367:nt=.12032592051335252:nt=-.012387370292173013:e[2]>23.500000000000004?nt=-.12568545484492677:nt=-.022261190943521976:e[8]>634.5000000000001?e[8]>857.5000000000001?nt=.043528764484784536:nt=.14352071657196003:nt=-.009332833816977268:nt=.11186782227735846:nt=-.0737365712425554:e[136]>1e-35?e[0]>1937.5000000000002?nt=-.05649104643152564:nt=.03884200719305747:e[42]>1e-35?nt=-.07191700385792335:e[116]>1e-35?e[9]>2.5000000000000004?e[9]>17.500000000000004?nt=-.04103416502526736:nt=.04881823954656287:e[4]>15.500000000000002?nt=.009342724662897898:e[0]>3969.5000000000005?nt=-.025637309961309498:nt=-.12574492012987865:e[212]>1e-35?e[19]>1e-35?nt=-.08185697075265091:e[0]>2215.5000000000005?nt=.030063975892297354:e[0]>807.5000000000001?nt=-.03924325550733229:nt=.0415330999189793:nt=-.00024374664461674863;let ft;e[3]>7.500000000000001?ft=.0005117490419655908:e[129]>1e-35?e[0]>2904.5000000000005?e[0]>4004.5000000000005?ft=.025798416259686565:ft=.13251610353146012:ft=-.029900559552677654:e[1]>81.50000000000001?e[1]>110.50000000000001?e[0]>4242.500000000001?ft=-.11098564237775424:ft=25960925309712775e-21:e[0]>4177.500000000001?e[9]>35.50000000000001?ft=.15347826616466054:e[3]>4.500000000000001?ft=.10379320730958941:ft=-.008896303020010654:e[0]>3415.5000000000005?e[0]>3830.5000000000005?ft=.03159791088468647:ft=-.10612873364104258:ft=.05059856107348746:e[133]>1e-35?e[2]>5.500000000000001?ft=-.02335760775001469:ft=-.1379386577903324:e[1]>62.50000000000001?e[3]>2.5000000000000004?ft=-.011164334474672973:ft=-.06594044410501655:e[207]>1e-35?ft=-.1014214372326535:e[8]>3.5000000000000004?e[107]>1e-35?e[2]>6.500000000000001?ft=-.01725821503981916:ft=.05594086838700241:e[203]>1e-35?e[1]>44.50000000000001?e[1]>51.50000000000001?ft=-.04226531631656534:ft=-.14409800530171432:ft=-.03245576341206398:e[8]>4214.500000000001?ft=.0895409165534886:e[247]>1e-35?ft=-.06506383629143335:e[118]>1e-35?ft=-.07214270121257443:e[8]>546.5000000000001?ft=-.004385020865473831:ft=.009321812545248529:e[0]>1639.5000000000002?e[13]>1e-35?ft=.046278501133958524:ft=-.030835570926968044:e[0]>493.50000000000006?ft=-.12794504651610425:ft=.009415039807550776;let Dt;e[304]>1e-35?Dt=-.04717777269217453:e[76]>1e-35?Dt=-.05813439142128324:e[1]>59.50000000000001?e[0]>350.50000000000006?e[53]>1e-35?Dt=-.09648224457374217:e[132]>1e-35?Dt=.07089308107910267:e[0]>2248.5000000000005?e[5]>2525.5000000000005?e[9]>1.5000000000000002?e[114]>1e-35?Dt=-.08595213071749083:e[9]>14.500000000000002?e[9]>33.50000000000001?e[285]>1e-35?Dt=.10838431695638147:e[230]>1e-35?Dt=.06458713915750626:e[0]>3219.5000000000005?e[3]>23.500000000000004?e[9]>69.50000000000001?Dt=.050071316251979:Dt=-.006356941111525215:e[6]>8.500000000000002?Dt=-.0384814076434817:e[1]>73.50000000000001?e[0]>3746.5000000000005?Dt=.10217402850540398:Dt=-.048840949025349197:Dt=-.03668313197909846:e[7]>39.50000000000001?Dt=-.0562642841496003:e[10]>2.5000000000000004?Dt=.09749777369987417:Dt=-.04848223121417616:e[0]>5453.500000000001?Dt=.08316648226133942:Dt=-.0261979698267618:e[212]>1e-35?Dt=.09565573198318654:e[5]>4814.500000000001?e[8]>963.5000000000001?e[8]>1514.5000000000002?Dt=.04837009746506856:Dt=-.09184360565631328:Dt=.0032411047845613606:e[0]>4733.500000000001?Dt=.0977378556864798:Dt=.010776545559325588:Dt=-.012483310473120218:Dt=-.049284121449103935:Dt=.011962641341789565:e[1]>67.50000000000001?e[1]>77.50000000000001?Dt=-.08380361910948711:Dt=.07375088778585813:Dt=-.1084864186071348:Dt=.0007819503469605476;let Ut;e[7]>17.500000000000004?e[115]>1e-35?Ut=.08741852531696623:e[167]>1e-35?Ut=.10078975495600809:Ut=-.0018324767784017562:e[290]>1e-35?Ut=-.0850089851255888:e[74]>1e-35?e[10]>16.500000000000004?Ut=.1379733311640402:Ut=-.0038500648529631075:e[6]>29.500000000000004?e[8]>876.5000000000001?e[0]>3129.5000000000005?e[9]>5.500000000000001?e[8]>1765.5000000000002?Ut=-.09360083033774169:Ut=.061471353193188374:e[10]>11.500000000000002?e[10]>31.500000000000004?Ut=-.015599362579530679:e[0]>4593.500000000001?Ut=-.12029549262691491:Ut=-.018917032256501397:Ut=.04632831686576592:Ut=.06892347785444271:e[4]>8.500000000000002?e[10]>33.50000000000001?Ut=-.05894883236412263:Ut=.05213944998315824:Ut=.12621779223564986:e[243]>1e-35?e[6]>16.500000000000004?e[0]>4141.500000000001?e[0]>5850.500000000001?Ut=.07577412405680808:Ut=-.053144737214742235:e[1]>29.500000000000004?e[9]>16.500000000000004?Ut=-.0277076900736147:e[1]>65.50000000000001?Ut=-.023587471585763506:Ut=.10184896592433082:Ut=-.057699270527916825:Ut=-.041191811945739454:e[114]>1e-35?e[2]>23.500000000000004?Ut=.06566902102799584:e[10]>25.500000000000004?Ut=-.07033633753181047:Ut=-.01599120398351932:e[242]>1e-35?e[0]>2402.5000000000005?Ut=-.08108035861059537:Ut=.04184690010531078:e[35]>1e-35?e[0]>2904.5000000000005?Ut=-.12431182772561139:Ut=.01886235886984271:Ut=.0025579594894418116;let zt;e[8]>2915.5000000000005?e[101]>1e-35?zt=.08648323956719083:e[0]>93.50000000000001?e[196]>1e-35?zt=-.09509320772734361:e[4]>1.5000000000000002?e[5]>1106.5000000000002?e[5]>1191.5000000000002?e[283]>1e-35?zt=-.11268313808648661:e[10]>12.500000000000002?e[131]>1e-35?zt=.0687641681341721:e[10]>102.50000000000001?zt=-.09667920080214842:e[4]>15.500000000000002?e[8]>2992.5000000000005?e[1]>24.500000000000004?e[1]>71.50000000000001?zt=-.06762578396473291:e[10]>65.50000000000001?zt=-.05226727783610509:e[282]>1e-35?zt=.09911438410640917:e[19]>1e-35?zt=.06915156336429933:zt=-.006565637886508241:zt=-.08344300251849307:zt=-.0928863907927501:e[1]>60.50000000000001?e[2]>17.500000000000004?zt=.19428463865406298:zt=.016073883020956765:e[13]>1e-35?zt=.06864077097923665:zt=-.01388867527034731:e[0]>1847.5000000000002?zt=.004655280608161356:e[1]>40.50000000000001?zt=.031406054057765996:zt=.12798062439212832:zt=.09859670536264255:e[10]>2.5000000000000004?e[9]>68.50000000000001?zt=.08821759640665892:e[9]>32.50000000000001?e[8]>3960.0000000000005?e[1]>31.500000000000004?zt=-.0706095614785733:zt=.04227164041372561:zt=-.1056906923176064:e[2]>8.500000000000002?e[19]>1e-35?zt=-.07139533369873902:zt=.008952586782921625:zt=.06086212582180936:zt=-.0816938490403437:zt=-.051224901945956025:zt=-.10525399124186095:zt=.000270924147208224;let kt;e[122]>1e-35?e[0]>2461.5000000000005?e[2]>36.50000000000001?kt=.029186512383291244:e[7]>1.5000000000000002?kt=-.14984127276725573:e[1]>40.50000000000001?kt=.032757060730648144:kt=-.07675575422749602:e[6]>8.500000000000002?kt=.10599766037117893:kt=-.0541423394552156:e[1]>24.500000000000004?e[103]>1e-35?e[8]>61.50000000000001?e[17]>1e-35?kt=-.051394622947855385:kt=.03237141302699347:kt=.12526173027943244:kt=.000579473126472788:e[18]>1e-35?e[3]>4.500000000000001?e[3]>6.500000000000001?e[0]>5453.500000000001?kt=-.07383912482657777:e[0]>5147.500000000001?kt=.07008813937042091:e[10]>38.50000000000001?kt=-.06779203808365307:kt=-.013782769999524498:kt=.0880038869117715:kt=-.12846294176070952:e[281]>1e-35?kt=-.06810806903850834:e[10]>227.50000000000003?kt=-.08937977001661111:e[10]>130.50000000000003?kt=.10538920632708033:e[145]>1e-35?e[4]>6.500000000000001?e[9]>16.500000000000004?e[4]>18.500000000000004?kt=.011036530162093841:kt=-.11500797478569702:kt=.03702229366129399:kt=.07242026683784307:e[189]>1e-35?kt=.03331407112090286:e[9]>33.50000000000001?e[201]>1e-35?kt=.08979610115743614:e[7]>57.50000000000001?e[1]>20.500000000000004?kt=-.02608892716555304:kt=.09609599320761308:e[9]>105.50000000000001?kt=-.06848127135991534:kt=.0023675721254089715:e[86]>1e-35?kt=-.11049635625500497:kt=-.004847764219432233;let Ot;e[125]>1e-35?e[0]>3969.5000000000005?Ot=-.09462233499115416:Ot=.05235324508465096:e[17]>1e-35?e[49]>1e-35?e[10]>19.500000000000004?Ot=-.030700661288166148:Ot=.0870883677166864:e[10]>3.5000000000000004?e[3]>18.500000000000004?e[0]>3544.5000000000005?e[188]>1e-35?e[9]>7.500000000000001?Ot=.03149547314036763:Ot=-.08166208257451366:e[0]>5850.500000000001?Ot=-.10228136324773157:e[102]>1e-35?Ot=-.10572585290676295:e[8]>726.5000000000001?e[5]>3657.5000000000005?Ot=.01782894842128785:e[13]>1e-35?Ot=.002680190260979968:Ot=.1773965720476949:e[2]>72.50000000000001?Ot=.09090831938627947:e[1]>59.50000000000001?Ot=-.12297206702816128:e[0]>4977.500000000001?Ot=.09899015653118268:Ot=-.022207141540838887:e[4]>32.50000000000001?e[1]>34.50000000000001?Ot=-.0675900954187773:Ot=.012336403425364092:Ot=-.0017002325391924573:e[6]>7.500000000000001?e[1]>17.500000000000004?Ot=-.02671721777458802:Ot=-.09242452991958029:e[284]>1e-35?Ot=-.08585691288582491:Ot=.013332890564324447:e[4]>14.500000000000002?Ot=-.005245022074799553:e[23]>1e-35?Ot=-.020036720167235768:e[1]>29.500000000000004?e[114]>1e-35?Ot=-.09289852307936758:e[116]>1e-35?Ot=-.09686573010015055:e[8]>804.5000000000001?Ot=.03812547148215318:Ot=.005162744968176633:e[9]>43.50000000000001?Ot=-.059246106396159376:Ot=.050370113808135275:Ot=.000794041852811028;let Rt;e[3]>7.500000000000001?Rt=.0004981426543104341:e[9]>114.50000000000001?Rt=.05666010099424601:e[129]>1e-35?e[6]>3.5000000000000004?Rt=-.019061766497948867:Rt=.07193491146561211:e[186]>1e-35?e[0]>2653.5000000000005?Rt=-.006044199577160493:Rt=.1147136801028133:e[6]>85.50000000000001?e[8]>847.5000000000001?Rt=.11486607015912494:e[9]>16.500000000000004?Rt=-.08686820858087294:Rt=.06119632492911875:e[127]>1e-35?e[0]>2723.5000000000005?e[0]>3682.5000000000005?e[1]>38.50000000000001?Rt=-.022230207980026437:Rt=.1056683690528792:Rt=-.05859530800943035:Rt=.06970608927597141:e[7]>3.5000000000000004?e[105]>1e-35?Rt=.08073568184886762:e[107]>1e-35?e[2]>6.500000000000001?Rt=-.05177544573528314:Rt=.05370469772149028:e[1]>35.50000000000001?e[0]>4106.500000000001?e[9]>46.50000000000001?e[0]>4633.500000000001?Rt=.15159657923771555:Rt=-.0060542654587671055:e[9]>5.500000000000001?Rt=-.042808028205051786:e[1]>48.50000000000001?Rt=-.010449538258110742:Rt=.10026907521968294:Rt=-.04249349329714756:e[9]>42.50000000000001?e[1]>19.500000000000004?e[8]>852.5000000000001?Rt=-.02272452389409874:Rt=-.11202691218244319:e[5]>1809.5000000000002?Rt=-.04460413584255906:Rt=.08196329474205256:e[10]>69.50000000000001?Rt=.10221481166238167:Rt=.0004063052701699382:e[243]>1e-35?Rt=-.07563941678849846:e[18]>1e-35?Rt=.02563513231103432:Rt=-.004740081147303786;let Xt;e[84]>1e-35?e[9]>6.500000000000001?e[2]>43.50000000000001?Xt=.057446442918106:Xt=-.04404018270156349:Xt=-.09282976714550464:e[0]>384.50000000000006?e[204]>1e-35?e[1]>62.50000000000001?Xt=-.05930486238817954:e[1]>29.500000000000004?Xt=.06955866121256543:e[8]>597.5000000000001?Xt=-.06538593556505168:Xt=.06212512595497445:Xt=.00021102929959182257:e[9]>90.50000000000001?Xt=.0958061289119631:e[102]>1e-35?Xt=.07172059675638813:e[1]>47.50000000000001?Xt=-.03879798603977766:e[297]>1e-35?Xt=.054948234271956144:e[282]>1e-35?e[2]>6.500000000000001?Xt=.003805910996312012:Xt=.09304295674749524:e[11]>1e-35?e[18]>1e-35?Xt=.11252376801858695:e[288]>1e-35?Xt=-.10293901912180432:Xt=.014669268837893872:e[1]>42.50000000000001?Xt=-.05988274123836837:e[145]>1e-35?Xt=.06142784665288495:e[3]>1.5000000000000002?e[4]>4.500000000000001?e[1]>21.500000000000004?e[1]>27.500000000000004?e[9]>24.500000000000004?Xt=.038791154988529926:e[10]>22.500000000000004?e[2]>19.500000000000004?Xt=-.03366718308159971:Xt=.11936550608549797:e[1]>31.500000000000004?Xt=-.07454716789539667:Xt=.027859650621164217:e[10]>10.500000000000002?Xt=-.11806374092321247:Xt=-.03506042229223101:Xt=-.0007080765837654515:e[10]>6.500000000000001?Xt=-.028077713664996503:e[2]>7.500000000000001?Xt=.15803724124216814:Xt=.0351381284833169:Xt=-.07877953381054767;let Bt;e[131]>1e-35?e[282]>1e-35?e[4]>23.500000000000004?Bt=.14144941521975005:Bt=.0007727806714190652:e[9]>1.5000000000000002?e[8]>2134.5000000000005?e[2]>34.50000000000001?Bt=.10514088112381886:e[7]>18.500000000000004?Bt=-.10370643555956745:Bt=.04093594315421388:e[6]>15.500000000000002?e[4]>9.500000000000002?e[10]>27.500000000000004?e[10]>71.50000000000001?Bt=-.0508129468802936:e[224]>1e-35?Bt=-.037816066368733595:e[10]>43.50000000000001?Bt=.07793408602607932:Bt=.017646166646099453:e[9]>3.5000000000000004?e[9]>29.500000000000004?e[17]>1e-35?Bt=.036972453794202324:Bt=-.08727431092411866:e[8]>427.50000000000006?e[8]>1278.5000000000002?Bt=.09475302525132188:Bt=-.03580104945898193:Bt=.08349488283861875:e[10]>3.5000000000000004?e[0]>1847.5000000000002?e[0]>4280.500000000001?e[2]>27.500000000000004?Bt=-.1282448778804823:Bt=-.014395808269207212:Bt=-.008940927190750592:Bt=-.1459118815453748:e[0]>4897.500000000001?Bt=-.09733068457286576:e[1]>57.50000000000001?Bt=.06575271409540207:Bt=-.019556422817450115:Bt=-.10623959222984136:e[18]>1e-35?Bt=.11280940901275241:e[8]>319.50000000000006?e[2]>6.500000000000001?Bt=.008125645893104896:Bt=-.11084368630465868:Bt=.0584398731508786:e[0]>350.50000000000006?e[3]>83.50000000000001?Bt=-.05854904579626861:e[4]>5.500000000000001?Bt=.02985784951394175:Bt=-.03247600140149334:Bt=-.11152899295304973:Bt=-.00035424577714215764;let jt;e[32]>1e-35?e[17]>1e-35?e[8]>359.50000000000006?e[8]>804.5000000000001?jt=-.06563670567578264:jt=.067656954313663:jt=-.10388217548685377:e[8]>2302.5000000000005?jt=.07190621943790435:e[4]>67.50000000000001?jt=.060020507643618604:e[4]>38.50000000000001?jt=-.08707253184321638:e[2]>11.500000000000002?e[2]>16.500000000000004?e[1]>31.500000000000004?e[1]>59.50000000000001?jt=-.06568134366461277:e[8]>1075.5000000000002?jt=-.004768057709758692:jt=.11785959165999467:jt=-.05080221682879267:jt=.14814206127494542:jt=-.07241946332311736:e[253]>1e-35?jt=-.058893562861261274:e[4]>61.50000000000001?e[283]>1e-35?e[10]>23.500000000000004?jt=-.02471195342450034:jt=.11866056464409412:e[10]>44.50000000000001?e[1]>16.500000000000004?e[8]>2640.0000000000005?jt=-.10741850739482771:jt=.010051635824944:jt=.12502069436017124:e[8]>1971.5000000000002?e[1]>23.500000000000004?e[308]>1e-35?jt=.10511236013756364:e[10]>10.500000000000002?e[1]>53.50000000000001?jt=-.08992396138178163:jt=.010944365997007212:jt=.06221307021813793:jt=.1286024087559141:e[127]>1e-35?jt=.06568148624531012:e[10]>40.50000000000001?jt=-.07567979134643352:e[5]>5647.500000000001?jt=.07594672895572069:jt=-.018158016446439187:e[6]>55.50000000000001?jt=.009293422430111872:e[4]>45.50000000000001?jt=-.017749818406964022:e[2]>46.50000000000001?jt=.01714136511113982:jt=-724762291423549e-19;let it;e[1]>24.500000000000004?e[103]>1e-35?e[8]>48.50000000000001?e[17]>1e-35?it=-.048689215588703864:e[9]>27.500000000000004?e[0]>3916.5000000000005?it=.07084726276890757:it=-.11232323677722932:it=.04812773089510436:it=.11757502216780046:e[5]>1464.5000000000002?e[5]>1505.5000000000002?e[167]>1e-35?it=.07470606002425358:e[1]>53.50000000000001?e[132]>1e-35?it=.0879462816013881:it=-.002966662093626573:e[306]>1e-35?it=-.04588085188342676:it=.0031910005157084823:e[3]>10.500000000000002?e[10]>20.500000000000004?it=-.006600332774461143:it=.1272481351557754:it=-.09030973597154808:e[284]>1e-35?e[1]>38.50000000000001?e[10]>2.5000000000000004?it=.011884312066620044:it=.11678751052403374:e[4]>8.500000000000002?it=.03627129613273813:it=-.12132783497902287:it=-.006784372643244717:e[18]>1e-35?e[3]>4.500000000000001?e[3]>6.500000000000001?e[0]>5453.500000000001?it=-.06830131718398992:e[0]>5147.500000000001?it=.062360406249609306:e[4]>4.500000000000001?it=-.013162203864592055:it=-.07153029184927609:it=.07628618062271557:it=-.12085065687320373:e[190]>1e-35?it=-.045816889524231186:e[137]>1e-35?it=-.07956001795911584:e[199]>1e-35?e[0]>3853.5000000000005?it=.025895337822752502:it=-.06503949350616421:e[10]>227.50000000000003?it=-.09989456525790491:e[10]>130.50000000000003?it=.08616651057030683:it=.0001234981796706021;let vt;e[8]>1014.5000000000001?e[9]>137.50000000000003?vt=-.08778879924617534:e[8]>1022.5000000000001?e[285]>1e-35?e[9]>64.50000000000001?vt=.04955806187281689:e[0]>3670.5000000000005?e[10]>32.50000000000001?vt=-.141732381961068:vt=-.0317152307496497:vt=-.02074638849097191:e[0]>93.50000000000001?e[0]>3072.5000000000005?e[10]>100.50000000000001?e[4]>24.500000000000004?e[8]>1336.5000000000002?vt=.12191801556691254:vt=-.0003444689085397977:vt=.005739668504631604:e[146]>1e-35?e[308]>1e-35?vt=.015237524791728777:e[6]>61.50000000000001?e[4]>63.50000000000001?vt=-.05676033995381961:vt=.10933961076803381:e[4]>26.500000000000004?vt=-.11667582544549814:e[8]>1765.5000000000002?vt=.032174455312047705:vt=-.0755016390126608:e[293]>1e-35?vt=-.08234885407658332:e[9]>41.50000000000001?e[0]>3830.5000000000005?vt=.026571311956824436:e[15]>1e-35?vt=.06175459479851121:vt=-.018778084411148754:e[9]>40.50000000000001?vt=-.09420232889965811:vt=-.004578248021263184:e[2]>1.5000000000000002?vt=.005453714644971445:vt=-.03907138175699279:vt=-.055296364182154736:e[23]>1e-35?vt=.036555134842143476:e[0]>4188.500000000001?e[6]>29.500000000000004?vt=-.09358146510580179:vt=.060524657996178094:vt=-.11245101144669545:e[125]>1e-35?e[9]>1.5000000000000002?vt=-.12698331085931538:vt=.006059605604079918:e[2]>196.50000000000003?vt=-.09451315810804783:vt=.0011390147031687425;let ar;e[8]>2830.5000000000005?e[1]>31.500000000000004?e[9]>32.50000000000001?e[5]>1234.5000000000002?e[8]>3794.5000000000005?ar=.05517359070460923:ar=-.04758751221404857:ar=-.09482078194138792:e[8]>2992.5000000000005?e[1]>101.50000000000001?ar=.1040436595565776:e[9]>21.500000000000004?ar=.04032250517675179:e[107]>1e-35?ar=.05978752253058374:e[210]>1e-35?e[4]>37.50000000000001?ar=.1192453009230486:e[1]>51.50000000000001?ar=.0443376336292195:ar=-.07967674833321865:e[5]>2117.5000000000005?e[9]>10.500000000000002?ar=-.10025078607591283:e[0]>2882.5000000000005?e[18]>1e-35?ar=-.08999822408398037:ar=.017533219253893447:e[9]>1.5000000000000002?e[4]>12.500000000000002?ar=-.061850439226075:ar=.08849196353361093:ar=.10536348167793089:e[92]>1e-35?ar=.04894947712119185:e[9]>16.500000000000004?ar=.05900227903883853:e[9]>5.500000000000001?ar=-.11946594348916476:ar=-.03652096348071964:e[1]>41.50000000000001?ar=-.07411603110840567:ar=-.00021033247574340914:e[10]>22.500000000000004?e[9]>68.50000000000001?ar=.08493634342741495:e[11]>1e-35?ar=-.10899097825564363:ar=-.006156708838964173:e[8]>3198.5000000000005?e[2]>41.50000000000001?ar=.08356655906359918:e[7]>25.500000000000004?ar=-.09475076526194888:e[10]>5.500000000000001?ar=-.01999406228763778:ar=.06696212545889428:e[6]>20.500000000000004?ar=.14713592661393468:ar=.0459917279002218:ar=.00027445928493734093;let lr;e[223]>1e-35?e[1]>31.500000000000004?e[8]>634.5000000000001?lr=-.06904501553217077:lr=.05696231672035904:lr=-.1124703178077813:e[99]>1e-35?e[1]>89.50000000000001?lr=-.05074261170009721:e[1]>57.50000000000001?e[8]>969.5000000000001?lr=-.011419256378538392:e[0]>3830.5000000000005?lr=.140315841503076:lr=.02403434913963024:e[1]>31.500000000000004?e[8]>65.50000000000001?e[2]>10.500000000000002?lr=-.04027822909411164:lr=.03176085103667189:lr=.06779515865838849:e[4]>15.500000000000002?lr=.0762878389015175:e[8]>175.50000000000003?e[0]>3030.5000000000005?e[8]>1041.5000000000002?lr=.06124039747298539:lr=-.04312732764434027:lr=.09161522761808062:lr=-.09663512235460074:e[280]>1e-35?e[6]>45.50000000000001?e[1]>46.50000000000001?lr=.11211681010488772:e[13]>1e-35?lr=.06725735814960367:lr=-.046744031455827846:e[10]>44.50000000000001?e[0]>3400.5000000000005?e[0]>4004.5000000000005?e[2]>22.500000000000004?lr=.11743605068905603:lr=-.011309033539148687:lr=-.07896094707523052:lr=.12862714793172117:e[10]>1.5000000000000002?e[8]>455.50000000000006?e[0]>4706.500000000001?lr=-.09218756798869711:e[10]>19.500000000000004?e[0]>1894.5000000000002?e[0]>3719.5000000000005?lr=.02836295848998302:lr=.12210680366745175:lr=-.058302317470509096:e[5]>4144.500000000001?lr=.06123341960495106:lr=-.03840046906926525:lr=-.05221474543453495:lr=.03988215485860711:lr=-.00033074684693083496;let FE=A0e(t+r+n+i+s+a+l+c+f+u+d+p+m+g+h+_+b+x+y+E+S+w+z+V+W+Y+R+P+G+A+I+v+N+T+D+k+L+U+H+ae+ye+he+Ue+He+Ve+Ze+F+ne+j+ge+le+$+re+xe+ue+de+Ie+we+ke+qe+Ke+tt+rt+lt+O+Z+fe+pe+Re+Me+$e+We+De+q+X+se+me+be+Te+Ne+Ye+ut+Ce+At+Ct+nt+ft+Dt+Ut+zt+kt+Ot+Rt+Xt+Bt+jt+it+vt+ar+lr);return[1-FE,FE]}o(sU,"multilineModelPredict");function A0e(e){if(e<0){let t=Math.exp(e);return t/(1+t)}return 1/(1+Math.exp(-e))}o(A0e,"sigmoid");var k0e={javascript:["//"],typescript:["//"],typescriptreact:["//"],javascriptreact:["//"],vue:["//","-->"],php:["//","#"],dart:["//"],go:["//"],cpp:["//"],scss:["//"],csharp:["//"],java:["//"],c:["//"],rust:["//"],python:["#"],markdown:["#","-->"],css:["*/"]},aU={javascript:1,javascriptreact:2,typescript:3,typescriptreact:4,python:5,go:6,ruby:7};function lU(e,t,r,n=!0){let i=e.split(`
`);if(n&&(i=i.filter(l=>l.trim().length>0)),Math.abs(t)>i.length||t>=i.length)return!1;t<0&&(t=i.length+t);let s=i[t];return(k0e[r]??[]).some(l=>s.includes(l))}o(lU,"hasComment");var c3=class{static{o(this,"PromptFeatures")}constructor(t,r){let[n,i]=this.firstAndLast(t),s=this.firstAndLast(t.trimEnd());this.language=r,this.length=t.length,this.firstLineLength=n.length,this.lastLineLength=i.length,this.lastLineRstripLength=i.trimEnd().length,this.lastLineStripLength=i.trim().length,this.rstripLength=t.trimEnd().length,this.stripLength=t.trim().length,this.rstripLastLineLength=s[1].length,this.rstripLastLineStripLength=s[1].trim().length,this.secondToLastLineHasComment=lU(t,-2,r),this.rstripSecondToLastLineHasComment=lU(t.trimEnd(),-2,r),this.prefixEndsWithNewline=t.endsWith(`
`),this.lastChar=t.slice(-1),this.rstripLastChar=t.trimEnd().slice(-1),this.firstChar=t[0],this.lstripFirstChar=t.trimStart().slice(0,1)}firstAndLast(t){let r=t.split(`
`),n=r.length,i=r[0],s=r[n-1];return s==""&&n>1&&(s=r[n-2]),[i,s]}},ST=class{static{o(this,"MultilineModelFeatures")}constructor(t,r,n){this.language=n,this.prefixFeatures=new c3(t,n),this.suffixFeatures=new c3(r,n)}constructFeatures(){let t=new Array(14).fill(0);t[0]=this.prefixFeatures.length,t[1]=this.prefixFeatures.firstLineLength,t[2]=this.prefixFeatures.lastLineLength,t[3]=this.prefixFeatures.lastLineRstripLength,t[4]=this.prefixFeatures.lastLineStripLength,t[5]=this.prefixFeatures.rstripLength,t[6]=this.prefixFeatures.rstripLastLineLength,t[7]=this.prefixFeatures.rstripLastLineStripLength,t[8]=this.suffixFeatures.length,t[9]=this.suffixFeatures.firstLineLength,t[10]=this.suffixFeatures.lastLineLength,t[11]=this.prefixFeatures.secondToLastLineHasComment?1:0,t[12]=this.prefixFeatures.rstripSecondToLastLineHasComment?1:0,t[13]=this.prefixFeatures.prefixEndsWithNewline?1:0;let r=new Array(Object.keys(aU).length+1).fill(0);r[aU[this.language]??0]=1;let n=new Array(Object.keys(Wa).length+1).fill(0);n[Wa[this.prefixFeatures.lastChar]??0]=1;let i=new Array(Object.keys(Wa).length+1).fill(0);i[Wa[this.prefixFeatures.rstripLastChar]??0]=1;let s=new Array(Object.keys(Wa).length+1).fill(0);s[Wa[this.suffixFeatures.firstChar]??0]=1;let a=new Array(Object.keys(Wa).length+1).fill(0);return a[Wa[this.suffixFeatures.lstripFirstChar]??0]=1,t.concat(r,n,i,s,a)}};function O0e(e,t){return new ST(e.prefix,e.suffix,t)}o(O0e,"constructMultilineFeatures");function cU(e,t){let r=O0e(e,t).constructFeatures();return sU(r)[1]}o(cU,"requestMultilineScore");async function*u3(e,t){for await(let r of e)yield t(r)}o(u3,"asyncIterableMap");async function*uU(e,t){for await(let r of e)await t(r)&&(yield r)}o(uU,"asyncIterableFilter");function fU(e,t,r){let n=r.extendedBy({messagesJson:JSON.stringify(t)});return Se(e,"engine.messages",n,1)}o(fU,"logEngineMessages");function mU(e){if(e instanceof Error)return e.stack?e.stack:e.message;if(typeof e=="string")return e;try{return JSON.stringify(e)}catch{return String(e)}}o(mU,"toString");var Po=new St("streamChoices"),wT=class{constructor(){this.logprobs=[];this.top_logprobs=[];this.text=[];this.tokens=[];this.text_offset=[];this.copilot_annotations=new RT;this.tool_calls=[];this.function_call=new DT;this.copilot_references=[];this.yielded=!1}static{o(this,"APIJsonDataStreaming")}append(t){if(t.text&&this.text.push(t.text),t.delta?.content&&t.delta.role!=="function"&&this.text.push(t.delta.content),t.logprobs&&(this.tokens.push(t.logprobs.tokens??[]),this.text_offset.push(t.logprobs.text_offset??[]),this.logprobs.push(t.logprobs.token_logprobs??[]),this.top_logprobs.push(t.logprobs.top_logprobs??[])),t.copilot_annotations&&this.copilot_annotations.update(t.copilot_annotations),t.delta?.copilot_annotations&&this.copilot_annotations.update(t.delta.copilot_annotations),t.delta?.tool_calls&&t.delta.tool_calls.length>0)for(let r of t.delta.tool_calls){let n=r.index;this.tool_calls[n]||(this.tool_calls[n]=new PT),this.tool_calls[n].update(r)}t.delta?.function_call&&this.function_call.update(t.delta.function_call),t?.finish_reason&&(this.finish_reason=t.finish_reason)}};function L0e(e){let t=e.split(`
`),r=t.pop();return[t.filter(n=>n!=""),r]}o(L0e,"splitChunk");var PT=class{constructor(){this.arguments=[]}static{o(this,"StreamingToolCall")}update(t){t.function.name&&(this.name=t.function.name),this.arguments.push(t.function.arguments)}},DT=class{constructor(){this.arguments=[]}static{o(this,"StreamingFunctionCall")}update(t){t.name&&(this.name=t.name),this.arguments.push(t.arguments)}},RT=class{constructor(){this.current={}}static{o(this,"StreamCopilotAnnotations")}update(t){Object.entries(t).forEach(([r,n])=>{n.forEach(i=>this.update_namespace(r,i))})}update_namespace(t,r){this.current[t]||(this.current[t]=[]);let n=this.current[t],i=n.findIndex(s=>s.id===r.id);i>=0?n[i]=r:n.push(r)}for(t){return this.current[t]??[]}},vm=class e{constructor(t,r,n,i,s,a,l){this.ctx=t;this.expectedNumChoices=r;this.response=n;this.body=i;this.telemetryData=s;this.dropCompletionReasons=a;this.cancellationToken=l;this.requestId=mg(this.response);this.stats=new AT;this.solutions={}}static{o(this,"SSEProcessor")}static create(t,r,n,i,s,a){let l=n.body();if(l===null)throw new Error("No response body available");return typeof l.setEncoding=="function"?l.setEncoding("utf8"):l=l.pipeThrough(new TextDecoderStream),new e(t,r,n,l,i,s??[],a)}async*processSSE(t=()=>{}){try{yield*this.processSSEInner(t)}finally{this.cancel(),Po.debug(this.ctx,`request done: headerRequestId: [${this.requestId.headerRequestId}] model deployment ID: [${this.requestId.deploymentId}]`),Po.debug(this.ctx,"request stats:",this.stats)}}async*processSSEInner(t){let r="",n=null,i,s;e:for await(let a of this.body){if(this.maybeCancel("after awaiting body chunk"))return;Po.debug(this.ctx,"chunk",a.toString());let[l,c]=L0e(r+a.toString());r=c;for(let f of l){let u=f.slice(5).trim();if(u=="[DONE]"){yield*this.finishSolutions(n,i,s,t);return}n=null;let d;try{d=JSON.parse(u)}catch{Po.error(this.ctx,"Error parsing JSON stream data",f);continue}if(d.copilot_confirmation&&F0e(d.copilot_confirmation)&&await t("",{text:"",requestId:this.requestId,copilotConfirmation:d.copilot_confirmation}),d.copilot_references&&await t("",{text:"",requestId:this.requestId,copilotReferences:d.copilot_references}),d.choices===void 0){!d.copilot_references&&!d.copilot_confirmation&&(d.error!==void 0?Po.error(this.ctx,"Error in response:",d.error.message):Po.error(this.ctx,"Unexpected response with no choices or error: "+u)),d.copilot_errors&&await t("",{text:"",requestId:this.requestId,copilotErrors:d.copilot_errors});continue}if(i===void 0&&d.model&&(i=d.model),s===void 0&&d.usage&&(s=d.usage),this.allSolutionsDone()){r="";break e}for(let p=0;p<d.choices?.length;p++){let m=d.choices[p];Po.debug(this.ctx,"choice",m),this.stats.add(m.index),m.index in this.solutions||(this.solutions[m.index]=new wT);let g=this.solutions[m.index];if(g==null)continue;g.append(m);let h=this.asSolutionDecision(),_=m.text?.indexOf(`
`)>-1||m.delta?.content?.indexOf(`
`)>-1;if(m.finish_reason||_){let x=g.text.join("");if(h=this.asSolutionDecision(await t(x,{text:x,index:m.index,requestId:this.requestId,annotations:g.copilot_annotations,copilotReferences:g.copilot_references,getAPIJsonData:o(()=>NT(g),"getAPIJsonData"),finished:!!m.finish_reason,telemetryData:this.telemetryData})),this.maybeCancel("after awaiting finishedCb"))return}if(m.finish_reason&&g.function_call.name!==void 0){n=m.finish_reason;continue}if(m.finish_reason&&(h.yieldSolution=!0,h.continueStreaming=!1),!h.yieldSolution)continue;let b=m.finish_reason??"client-trimmed";if(Se(this.ctx,"completion.finishReason",this.telemetryData.extendedBy({completionChoiceFinishReason:b,engineName:i??"",engineChoiceSource:Gf(this.ctx,this.telemetryData).engineChoiceSource})),this.dropCompletionReasons.includes(m.finish_reason)?this.solutions[m.index]=null:g.yielded||(this.stats.markYielded(m.index),yield{solution:g,finishOffset:h.finishOffset,reason:m.finish_reason,requestId:this.requestId,index:m.index,model:i,usage:s},g.yielded=!0),this.maybeCancel("after yielding finished choice"))return;h.continueStreaming||(this.solutions[m.index]=null)}}}for(let[a,l]of Object.entries(this.solutions)){let c=Number(a);if(l!=null&&(Se(this.ctx,"completion.finishReason",this.telemetryData.extendedBy({completionChoiceFinishReason:"Iteration Done",engineName:i??""})),this.stats.markYielded(c),yield{solution:l,finishOffset:void 0,reason:"Iteration Done",requestId:this.requestId,index:c,model:i,usage:s},this.maybeCancel("after yielding after iteration done")))return}if(r.length>0)try{let a=JSON.parse(r);a.error!==void 0&&Po.error(this.ctx,`Error in response: ${a.error.message}`,a.error)}catch{Po.error(this.ctx,`Error parsing extraData: ${r}`)}}asSolutionDecision(t){return t===void 0?{yieldSolution:!1,continueStreaming:!0}:typeof t=="number"?{yieldSolution:!0,continueStreaming:!1,finishOffset:t}:t}async*finishSolutions(t,r,n,i){for(let[s,a]of Object.entries(this.solutions)){let l=Number(s);if(a==null)continue;let c=a.text.join("");if(await i(c,{text:c,index:l,requestId:this.requestId,annotations:a.copilot_annotations,copilotReferences:a.copilot_references,getAPIJsonData:o(()=>NT(a),"getAPIJsonData"),finished:!0,telemetryData:this.telemetryData}),!a.yielded&&(this.stats.markYielded(l),Se(this.ctx,"completion.finishReason",this.telemetryData.extendedBy({completionChoiceFinishReason:t??"DONE",engineName:r??""})),yield{solution:a,finishOffset:void 0,reason:t??"DONE",requestId:this.requestId,index:l,model:r,usage:n},this.maybeCancel("after yielding on DONE")))return}}maybeCancel(t){return this.cancellationToken?.isCancellationRequested?(Po.debug(this.ctx,"Cancelled: "+t),this.cancel(),!0):!1}cancel(){this.body&&"destroy"in this.body&&typeof this.body.destroy=="function"?this.body.destroy():this.body instanceof ReadableStream&&this.body.cancel()}allSolutionsDone(){let t=Object.values(this.solutions);return t.length==this.expectedNumChoices&&t.every(r=>r==null)}};function f3(e,t,r){let n=t.solution.text.join(""),i=!1;t.finishOffset!==void 0&&(Po.debug(e,`solution ${t.index}: early finish at offset ${t.finishOffset}`),n=n.substring(0,t.finishOffset),i=!0),Po.info(e,`solution ${t.index} returned. finish reason: [${t.reason}]`),Po.debug(e,`solution ${t.index} details: finishOffset: [${t.finishOffset}]`);let s=NT(t.solution);return d3(e,n,s,t.index,t.requestId,i,r)}o(f3,"prepareSolutionForReturn");function NT(e){let t=e.text.join(""),r=M0e(e),n=U0e(e),i=e.copilot_annotations.current,s={text:t,tokens:e.text,tool_calls:r,function_call:n,copilot_annotations:i,finish_reason:e.finish_reason??"stop"};if(e.logprobs.length===0)return s;let a=e.logprobs.reduce((u,d)=>u.concat(d),[]),l=e.top_logprobs.reduce((u,d)=>u.concat(d),[]),c=e.text_offset.reduce((u,d)=>u.concat(d),[]),f=e.tokens.reduce((u,d)=>u.concat(d),[]);return{...s,logprobs:{token_logprobs:a,top_logprobs:l,text_offset:c,tokens:f}}}o(NT,"convertToAPIJsonData");function F0e(e){return typeof e.title=="string"&&typeof e.message=="string"&&!!e.confirmation}o(F0e,"isCopilotConfirmation");function pU(e,t,r){if(!e)return{};try{return JSON.parse(e)}catch(n){throw new Error(`Failed to parse JSON for ${t} '${r}': ${mU(n)}. Input: '${e}'`)}}o(pU,"parseCallArguments");function M0e(e){let t=[];for(let r of e.tool_calls)if(r.name){let n=r.arguments.join("").trim(),i=pU(n,"tool call",r.name);t.push({type:"function",function:{name:r.name,arguments:i},approxNumTokens:r.arguments.length+1})}return t}o(M0e,"extractToolCalls");function U0e(e){if(e.function_call.name){let t=e.function_call.arguments.join("").trim(),r=pU(t,"function call",e.function_call.name);return{name:e.function_call.name,arguments:r}}}o(U0e,"extractFunctionCall");var AT=class{constructor(){this.choices=new Map}static{o(this,"ChunkStats")}getChoiceStats(t){let r=this.choices.get(t);return r||(r=new kT,this.choices.set(t,r)),r}add(t){this.getChoiceStats(t).increment()}markYielded(t){this.getChoiceStats(t).markYielded()}toString(){return Array.from(this.choices.entries()).map(([t,r])=>`${t}: ${r.yieldedTokens} -> ${r.seenTokens}`).join(", ")}},kT=class{constructor(){this.yieldedTokens=-1;this.seenTokens=0}static{o(this,"ChoiceStats")}increment(){this.seenTokens++}markYielded(){this.yieldedTokens=this.seenTokens}};function B0e(e,t){return e!==null&&typeof e=="object"&&t in e}o(B0e,"hasKey");function B0(e,t){return B0e(e,t)?e[t]:void 0}o(B0,"getKey");var hU=Tt(vi());var Yr=new St("fetchCompletions");function mg(e){return{headerRequestId:e.headers.get("x-request-id")||"",serverExperiments:e.headers.get("X-Copilot-Experiment")||"",deploymentId:e.headers.get("azureml-model-deployment")||""}}o(mg,"getRequestId");function OT(e){let t=e.headers.get("openai-processing-ms");return t?parseInt(t,10):0}o(OT,"getProcessingTime");function xU(e){switch(e){case"ghostText":return"copilot-ghost";case"synthesize":return"copilot-panel"}}o(xU,"uiKindToIntent");var cc=class{static{o(this,"OpenAIFetcher")}};function j0e(e,t,r,n){return Yh(e,t,"proxy","v1/engines",r,n)}o(j0e,"getProxyEngineUrl");function bU(e,t,r,n){for(let[i,s]of Object.entries(e)){if(r.includes(i))continue;let a=s;if(i==="extra"&&n){let l={...a};for(let c of n)delete l[c];a=l}t.properties[`request.option.${i}`]=JSON.stringify(a)??"undefined"}}o(bU,"sanitizeRequestOptionTelemetry");async function gU(e,t,r,n,i,s,a,l,c,f,u){let d=e.get(Lr),p=j0e(e,a,r,n),m=c.extendedBy({endpoint:n,engineName:r,uiKind:l},t4(t));bU(s,m,["prompt","suffix"],["context"]),m.properties.headerRequestId=i,Se(e,"request.sent",m);let g=gn(),h=xU(l);return bb(e,p,a.token,h,i,s,f,u).then(_=>{let b=mg(_);m.extendWithRequestId(b);let x=gn()-g;return m.measurements.totalTimeMs=x,Yr.info(e,`Request ${i} at <${p}> finished with ${_.status} status after ${x}ms`),m.properties.status=String(_.status),Yr.debug(e,"request.response properties",m.properties),Yr.debug(e,"request.response measurements",m.measurements),Yr.debug(e,"prompt:",t),Se(e,"request.response",m),_}).catch(_=>{if(Ks(_))throw Se(e,"request.cancel",m),_;d.setWarning(B0(_,"message")??"");let b=m.extendedBy({error:"Network exception"});Se(e,"request.shownWarning",b),m.properties.message=String(B0(_,"name")??""),m.properties.code=String(B0(_,"code")??""),m.properties.errno=String(B0(_,"errno")??""),m.properties.type=String(B0(_,"type")??"");let x=gn()-g;throw m.measurements.totalTimeMs=x,Yr.info(e,`Request ${i} at <${p}> rejected with ${String(_)} after ${x}ms`),Yr.debug(e,"request.error properties",m.properties),Yr.debug(e,"request.error measurements",m.measurements),Se(e,"request.error",m),_}).finally(()=>{zk(e,t,m)})}o(gU,"fetchWithInstrumentation");async function $0e(e,t,r,n,i,s,a,l,c,f){let u=c.extendedBy({endpoint:"chat/completions",engineModelId:r,uiKind:l});bU(s,u,["messages"]),u.properties.headerRequestId=i,Se(e,"request.sent",u);let d=gn(),p=xU(l),m={...Cb(e)};try{let g=await bb(e,n,a.token,p,i,s,f,m),h=mg(g);u.extendWithRequestId(h);let _=gn()-d;return u.measurements.totalTimeMs=_,Yr.info(e,`Request ${i} at <${n}> finished with ${g.status} status after ${_}ms`),Yr.debug(e,"request.response properties",u.properties),Yr.debug(e,"request.response measurements",u.measurements),Yr.debug(e,"messages:",JSON.stringify(t)),Se(e,"request.response",u),g}catch(g){if(Ks(g))throw Se(e,"request.cancel",u),g;let h=u.extendedBy({error:"Network exception"});Se(e,"request.shownWarning",h),u.properties.message=String(B0(g,"name")??""),u.properties.code=String(B0(g,"code")??""),u.properties.errno=String(B0(g,"errno")??""),u.properties.type=String(B0(g,"type")??"");let _=gn()-d;throw u.measurements.totalTimeMs=_,Yr.info(e,`Request ${i} at <${n}> rejected with ${String(g)} after ${_}ms`),Yr.debug(e,"request.error properties",u.properties),Yr.debug(e,"request.error measurements",u.measurements),Se(e,"request.error",u),g}finally{fU(e,t,u)}}o($0e,"fetchChatWithInstrumentation");function LT(e){return uU(e,t=>t.completionText.trim().length>0)}o(LT,"postProcessChoices");var gg="github.copilot.completions.quotaExceeded",pg=class extends cc{static{o(this,"LiveOpenAIFetcher")}#e;async fetchAndStreamCompletions(t,r,n,i,s){if(this.#e)return{type:"canceled",reason:this.#e};let a=t.get(Lr),l="completions",c=await t.get(Mr).getToken(),f=await this.fetchWithParameters(t,l,r,c,n,s);if(f==="not-sent")return{type:"canceled",reason:"before fetch request"};if(s?.isCancellationRequested){let m=f.body();try{m&&"destroy"in m&&typeof m.destroy=="function"?m.destroy():m instanceof ReadableStream&&m.cancel()}catch(g){Yr.exception(t,g,"Error destroying stream")}return{type:"canceled",reason:"after fetch request"}}if(f.status!==200){let m=this.createTelemetryData(l,t,r);return this.handleError(t,a,m,f,c)}let d=vm.create(t,r.count,f,n,[],s).processSSE(i),p=u3(d,m=>f3(t,m,n));return{type:"success",choices:LT(p),getProcessingTime:o(()=>OT(f),"getProcessingTime")}}async fetchAndStreamChat(t,r,n,i,s,a,l,c={},f){if(this.#e)return{type:"canceled",reason:this.#e};let u="https://copilot-proxy.githubusercontent.com/chat/completions",d={messages:r,model:l.id,stream:!0,...c},p=n.extendedBy({endpoint:u,model:l.name}),m=t.get(Lr),g=await t.get(Mr).getToken(),h=await $0e(t,r,l.id,u,s,d,g,i,p,f);if(f?.isCancellationRequested){let y=h.body();try{y&&"destroy"in y&&typeof y.destroy=="function"?y.destroy():y instanceof ReadableStream&&y.cancel()}catch(E){Yr.exception(t,E,"Error destroying stream")}return{type:"canceled",reason:"after fetch request"}}if(h.status!==200){let y=Qe.createAndMarkAsIssued({endpoint:u,engineName:l.name,uiKind:i,headerRequestId:s});return this.handleError(t,m,y,h,g)}let b=vm.create(t,1,h,p,[],hU.CancellationToken.None).processSSE(),x=u3(b,y=>f3(t,y,n));return{type:"success",choices:LT(x),getProcessingTime:o(()=>OT(h),"getProcessingTime")}}async fetchAndStreamSpeculation(t,r,n,i,s){if(this.#e)return{type:"canceled",reason:this.#e};let a=t.get(Lr),l="speculation",c=await t.get(Mr).getToken(),f={prompt:{prefix:r.prompt,suffix:"",isFimEnabled:!1},speculation:r.speculation,ourRequestId:yi(),engineModelId:r.engineModelId,uiKind:r.uiKind,headers:r.headers,stops:r.stops},u=await this.fetchSpeculationWithParameters(t,l,f,c,n,s);if(u==="not-sent")return{type:"canceled",reason:"before fetch request"};if(s?.isCancellationRequested){let g=u.body();try{g&&"destroy"in g&&typeof g.destroy=="function"?g.destroy():g instanceof ReadableStream&&g.cancel()}catch(h){Yr.exception(t,h,"Error destroying stream")}return{type:"canceled",reason:"after fetch request"}}if(u.status!==200){let g=this.createTelemetryData(l,t,f);return this.handleError(t,a,g,u,c)}let p=vm.create(t,1,u,n,[],s).processSSE(i),m=u3(p,g=>f3(t,g,n));return{type:"success",choices:LT(m),getProcessingTime:o(()=>OT(u),"getProcessingTime")}}createTelemetryData(t,r,n){return Qe.createAndMarkAsIssued({endpoint:t,engineName:n.engineModelId,uiKind:n.uiKind,headerRequestId:n.ourRequestId})}async fetchSpeculationWithParameters(t,r,n,i,s,a){let l={prompt:n.prompt.prefix,speculation:n.speculation,temperature:0,stream:!0,stop:n.stops??[]};return await lc(0),a?.isCancellationRequested?"not-sent":await gU(t,n.prompt,n.engineModelId,r,n.ourRequestId,l,i,n.uiKind,s,a,n.headers)}async fetchWithParameters(t,r,n,i,s,a){let l=t.get(Be).disableLogProb(s),c={prompt:n.prompt.prefix,suffix:n.prompt.suffix,max_tokens:p3(t),temperature:m3(t,n.count),top_p:yU(t),n:n.count,stop:_U(t,n.languageId),stream:!0,extra:n.extra};(n.requestLogProbs||!l)&&(c.logprobs=2);let f=b1(n.repoInfo);return f!==void 0&&(c.nwo=f),n.postOptions&&Object.assign(c,n.postOptions),n.prompt.context&&(c.extra.context=n.prompt.context),await lc(0),a?.isCancellationRequested?"not-sent":await gU(t,n.prompt,n.engineModelId,r,n.ourRequestId,c,i,n.uiKind,s,a,n.headers)}async handleError(t,r,n,i,s){let a=await i.text();if(i.status===402){this.#e="monthly free code completions exhausted",r.setError("Completions limit reached",{command:gg,title:"Learn More"});let c=Vr(t,f=>{this.#e=void 0,(f.envelope.limited_user_quotas?.completions??1)>0&&(r.forceNormal(),c.dispose())});return{type:"failed",reason:this.#e}}if(i.status===466)return r.setError(a),Yr.info(t,a),{type:"failed",reason:`client not supported: ${a}`};if(i.clientError&&!i.headers.get("x-github-request-id")){let l=`Last response was a ${i.status} error and does not appear to originate from GitHub. Is a proxy or firewall intercepting this request? https://gh.io/copilot-firewall`;Yr.error(t,l),r.setWarning(l),n.properties.error=`Response status was ${i.status} with no x-github-request-id header`}else i.clientError?(Yr.warn(t,`Response status was ${i.status}:`,a),r.setWarning(`Last response was a ${i.status} error: ${a}`),n.properties.error=`Response status was ${i.status}: ${a}`):(r.setWarning(`Last response was a ${i.status} error`),n.properties.error=`Response status was ${i.status}`);return n.properties.status=String(i.status),Se(t,"request.shownWarning",n),i.status===401||i.status===403?(t.get(Mr).resetToken(i.status),{type:"failed",reason:`token expired or invalid: ${i.status}`}):i.status===429?(setTimeout(()=>{this.#e=void 0},10*1e3),this.#e="rate limited",Yr.warn(t,"Rate limited by server. Denying completions for the next 10 seconds."),{type:"failed",reason:this.#e}):i.status===499?(Yr.info(t,"Cancelled by server"),{type:"failed",reason:"canceled by server"}):(Yr.error(t,"Unhandled status from server:",i.status,a),{type:"failed",reason:`unhandled status from server: ${i.status} ${a}`})}};function d3(e,t,r,n,i,s,a){return Gk(e,t,r,i,n),{completionText:t,meanLogProb:q0e(e,r),meanAlternativeLogProb:W0e(e,r),choiceIndex:n,requestId:i,blockFinished:s,tokens:r.tokens,numTokens:r.tokens.length,telemetryData:a,copilotAnnotations:r.copilot_annotations,clientCompletionId:yi(),finishReason:r.finish_reason}}o(d3,"convertToAPIChoice");function q0e(e,t){if(t?.logprobs?.token_logprobs)try{let r=0,n=0,i=50;for(let s=0;s<t.logprobs.token_logprobs.length-1&&i>0;s++,i--)r+=t.logprobs.token_logprobs[s],n+=1;return n>0?r/n:void 0}catch(r){Lt.exception(e,r,"Error calculating mean prob")}}o(q0e,"calculateMeanLogProb");function W0e(e,t){if(t?.logprobs?.top_logprobs)try{let r=0,n=0,i=50;for(let s=0;s<t.logprobs.token_logprobs.length-1&&i>0;s++,i--){let a={...t.logprobs.top_logprobs[s]};delete a[t.logprobs.tokens[s]],r+=Math.max(...Object.values(a)),n+=1}return n>0?r/n:void 0}catch(r){Lt.exception(e,r,"Error calculating mean prob")}}o(W0e,"calculateMeanAlternativeLogProb");function m3(e,t){return ms(e)||t<=1?0:t<10?.2:t<20?.4:.8}o(m3,"getTemperatureForSamples");var G0e={markdown:[`


`],python:[`
def `,`
class `,`
if `,`

#`]};function _U(e,t){return G0e[t??""]??[`


`,"\n```"]}o(_U,"getStops");function yU(e){return 1}o(yU,"getTopP");function p3(e){return _1}o(p3,"getMaxSolutionTokens");var FT=class e{constructor(t,r){this.index=t;this.documentPrefix=r;this.startOffset=0;this.text="";this.trimCount=0}static{o(this,"StreamingCompletion")}updateText(t){this.text=t}get addedToPrefix(){return this.text.substring(0,this.startOffset)}get effectivePrefix(){return this.documentPrefix+this.addedToPrefix}get effectiveText(){return this.text.substring(this.startOffset)}get isFirstCompletion(){return this.trimCount===0}get firstNewlineOffset(){let t=[...this.text.matchAll(/\r?\n/g)];return t.length>0&&t[0].index===0&&t.shift(),t.length>0?t[0].index:-1}trimAt(t){let r=new e(this.index,this.documentPrefix);return r.startOffset=this.startOffset,r.text=this.text.substring(0,this.startOffset+t),r.trimCount=this.trimCount,this.startOffset+=t,this.trimCount++,r}},g3=class{constructor(t,r,n,i,s,a){this.ctx=t;this.prefix=r;this.languageId=n;this.initialSingleLine=i;this.trimmerLookahead=s;this.cacheFunction=a;this.lineLimit=3;this.completions=new Map}static{o(this,"StreamedCompletionSplitter")}getFinishedCallback(){return async(t,r)=>{let n=r.index??0,i=this.getCompletion(n,t);if(i.isFirstCompletion&&this.initialSingleLine&&i.firstNewlineOffset>=0){let s={yieldSolution:!0,continueStreaming:!0,finishOffset:i.firstNewlineOffset};return i.trimAt(s.finishOffset),r.finished&&await this.trimAll(r,i),s}return r.finished?await this.trimAll(r,i):await this.trimOnce(r,i)}}getCompletion(t,r){let n=this.completions.get(t);return n||(n=new FT(t,this.prefix),this.completions.set(t,n)),n.updateText(r),n}async trimOnce(t,r){let n=await this.trim(r);return n===void 0?{yieldSolution:!1,continueStreaming:!0}:r.isFirstCompletion?(r.trimAt(n),{yieldSolution:!0,continueStreaming:!0,finishOffset:n}):(this.cacheCompletion(t,r,n),{yieldSolution:!1,continueStreaming:!0})}async trimAll(t,r){let n,i;do n=await this.trim(r),r.isFirstCompletion?(i=n,r.trimAt(n??r.effectiveText.length)):this.cacheCompletion(t,r,n);while(n!==void 0);return i!==void 0?{yieldSolution:!0,continueStreaming:!0,finishOffset:i}:{yieldSolution:!1,continueStreaming:!0}}async trim(t){return await new l3(this.languageId,t.effectivePrefix,t.effectiveText,this.lineLimit,this.trimmerLookahead).getCompletionTrimOffset()}cacheCompletion(t,r,n){let i=r.trimAt(n??r.effectiveText.length);if(i.effectiveText.trim()==="")return;let s=d3(this.ctx,i.effectiveText.trimEnd(),t.getAPIJsonData(),i.index,t.requestId,n!==void 0,t.telemetryData);s.copilotAnnotations=this.adjustedAnnotations(s,r,i),s.generatedChoiceIndex=i.trimCount,this.cacheFunction(i.addedToPrefix,s)}adjustedAnnotations(t,r,n){if(t.copilotAnnotations===void 0)return;let i=n.addedToPrefix.length,a=i+t.completionText.length>=r.text.length,l={};for(let[c,f]of Object.entries(t.copilotAnnotations)){let u=f.filter(d=>d.start_offset-i<t.completionText.length&&d.stop_offset-i>0).map(d=>{let p={...d};return p.start_offset-=i,p.stop_offset-=i,a||(p.stop_offset=Math.min(p.stop_offset,t.completionText.length)),p});u.length>0&&(l[c]=u)}return Object.keys(l).length>0?l:void 0}};var Ga=class{constructor(){this.cache=new rr(100)}static{o(this,"SpeculativeRequestCache")}set(t,r){this.cache.set(t,r)}async request(t){let r=this.cache.get(t);r!==void 0&&(this.cache.delete(t),await r())}};var h3=new St("getCompletions");function vU(e,t,r){(It(e,_e.EnableSpeculativeRequestsShown)??e.get(Be).enableSpeculativeRequestsShown(r.telemetry))&&e.get(Ga).request(r.clientCompletionId),r.telemetry.markAsDisplayed(),r.telemetry.properties.reason=Tm(r.resultType),Se(e,`${t}.shown`,r.telemetry)}o(vU,"telemetryShown");function TU(e,t,r){let n=t+".accepted";Se(e,n,r)}o(TU,"telemetryAccepted");function IU(e,t,r){let n=t+".rejected";Se(e,n,r)}o(IU,"telemetryRejected");function j0(e,t={}){return{...t,telemetryBlob:e}}o(j0,"mkCanceledResultTelemetry");function Wr(e){let t={headerRequestId:e.properties.headerRequestId,copilot_trackingId:e.properties.copilot_trackingId};return e.properties.sku!==void 0&&(t.sku=e.properties.sku),e.properties.opportunityId!==void 0&&(t.opportunityId=e.properties.opportunityId),e.properties.organizations_list!==void 0&&(t.organizations_list=e.properties.organizations_list),e.properties.enterprise_list!==void 0&&(t.enterprise_list=e.properties.enterprise_list),e.properties.clientCompletionId!==void 0&&(t.clientCompletionId=e.properties.clientCompletionId),t["abexp.assignmentcontext"]=e.filtersAndExp.exp.assignmentContext,t}o(Wr,"mkBasicResultTelemetry");function EU(e,t){if(t.type!=="promptOnly"){if(t.type==="success"){let r=gn()-t.telemetryBlob.issuedTime,n=Tm(t.resultType),i=JSON.stringify(t.performanceMetrics),s={...t.telemetryData,reason:n,performanceMetrics:i},{foundOffset:a}=t.telemetryBlob.measurements,l=t.performanceMetrics?.map(([c,f])=>`
${f.toFixed(2)}	${c}`).join("")??"";return h3.debug(e,`ghostText produced from ${n} in ${Math.round(r)}ms with foundOffset ${a}${l}`),B_(e,"ghostText.produced",s,{timeToProduceMs:r,foundOffset:a}),t.value}if(h3.debug(e,"No ghostText produced -- "+t.type+": "+t.reason),t.type==="canceled"){Se(e,"ghostText.canceled",t.telemetryData.telemetryBlob.extendedBy({reason:t.reason,cancelledNetworkRequest:t.telemetryData.cancelledNetworkRequest?"true":"false"}));return}B_(e,`ghostText.${t.type}`,{...t.telemetryData,reason:t.reason},{})}}o(EU,"handleGhostTextResultTelemetry");function Tm(e){switch(e){case 0:return"network";case 1:return"cache";case 3:return"cycling";case 2:return"typingAsSuggested";case 4:return"async"}}o(Tm,"resultTypeToString");async function z0e(e){if(e.isCancellationRequested)return;let t=new So,r=e.onCancellationRequested(()=>{t.resolve(),r.dispose()});await t.promise}o(z0e,"cancellationTokenToPromise");async function CU(e,t){if(t){let r=z0e(t);await Promise.race([e,r])}else await e}o(CU,"raceCancellation");function MT(e){return Array.isArray(e)}o(MT,"isArrayOfT");async function SU(e,t){let r=new Map,n=[];for(let[i,s]of e.entries()){let a=(async()=>{let l=await H0e(s,t);r.set(i,l)})();n.push(a)}return await Promise.allSettled(n.values()),r}o(SU,"resolveAll");async function H0e(e,t){let r;return e instanceof Promise?r=await V0e(e,t):r=await K0e(e,t),r}o(H0e,"resolve");async function V0e(e,t){let r=performance.now(),n={status:"none",resolutionTime:0,value:null},i=(async()=>{try{let s=await e;if(t?.isCancellationRequested)return;n={status:"full",resolutionTime:0,value:MT(s)?[...s]:[s]}}catch(s){if(t?.isCancellationRequested)return;n={status:"error",resolutionTime:0,reason:s}}})();return await CU(i,t),n.resolutionTime=performance.now()-r,n}o(V0e,"resolvePromise");async function K0e(e,t){let r=performance.now(),n={status:"none",resolutionTime:0,value:null},i=(async()=>{try{for await(let s of e){if(t?.isCancellationRequested)return;n.status!="partial"&&(n={status:"partial",resolutionTime:0,value:[]}),n.value.push(s)}t?.isCancellationRequested||(n.status!=="partial"?n={status:"full",resolutionTime:0,value:[]}:n.status="full")}catch(s){if(t?.isCancellationRequested)return;n={status:"error",resolutionTime:0,reason:s}}})();return await CU(i,t),n.resolutionTime=performance.now()-r,n}o(K0e,"resolveIterable");var Y0e={maxSnippetLength:3e3,maxSnippetCount:7,enabledFeatures:"Deferred",timeBudgetMs:7,doAggregateSnippets:!0},X0e="ms-vscode.cpptools";function wU(e,t,r,n){(t.length===1&&t[0]==="*"||t.includes(X0e))&&J0e(e,r,n)}o(wU,"fillInCppVSCodeActiveExperiments");function J0e(e,t,r){try{let n=Y0e,i=e.get(Be).cppContextProviderParams(r);if(i)try{n=JSON.parse(i)}catch(s){Lt.error(e,"Failed to parse cppContextProviderParams",s)}for(let[s,a]of Object.entries(n))t.set(s,a)}catch(n){Lt.exception(e,n,"fillInCppActiveExperiments")}}o(J0e,"addActiveExperiments");function PU(e,t,r){try{let n=e.get(Be).csharpContextProviderParams(r);if(n){let i=JSON.parse(n);for(let[s,a]of Object.entries(i))t.set(s,a)}}catch(n){return Lt.debug(e,"Failed to get the active C# experiments for the Context Provider API",n),!1}return!0}o(PU,"fillInCSharpActiveExperiments");var Z0e="fallbackContextProvider",Q0e={mlcpMaxContextItems:20,mlcpMaxSymbolMatches:20,mlcpEnableImports:!1};function DU(e,t,r,n){(t.length===1&&t[0]==="*"||t.includes(Z0e))&&eae(e,r,n)}o(DU,"fillInMultiLanguageActiveExperiments");function eae(e,t,r){try{let n=tae(e,r);for(let[i,s]of Object.entries(n))t.set(i,s)}catch(n){Lt.exception(e,n,"fillInMultiLanguageActiveExperiments")}}o(eae,"addActiveExperiments");function tae(e,t){let r=Q0e,n=e.get(Be).multiLanguageContextProviderParams(t);if(n)try{r=JSON.parse(n)}catch(i){Lt.error(e,"Failed to parse multiLanguageContextProviderParams",i)}return r}o(tae,"getMultiLanguageContextProviderParamsFromExp");var rae="typescript-ai-context-provider";function RU(e,t,r,n){if(!(t.length===1&&t[0]==="*"||t.includes(rae)))return!1;try{let i=e.get(Be).tsContextProviderParams(n);if(i){let s=JSON.parse(i);for(let[a,l]of Object.entries(s))r.set(a,l)}}catch(i){return Lt.debug(e,"Failed to get the active TypeScript experiments for the Context Provider API",i),!1}return!0}o(RU,"fillInTsActiveExperiments");var NU=B.Object({importance:B.Optional(B.Integer({minimum:0,maximum:100})),id:B.Optional(B.String()),origin:B.Optional(B.Union([B.Literal("request"),B.Literal("update")]))}),AU=B.Intersect([B.Object({name:B.String(),value:B.String()}),NU]),kU=B.Intersect([B.Object({uri:B.String(),value:B.String(),additionalUris:B.Optional(B.Array(B.String()))}),NU]),nae=[AU,kU],iae=B.Union(nae),oae=new Map([["Trait",hl.Compile(AU)],["CodeSnippet",hl.Compile(kU)]]),sae=o(e=>e,"ensureTypesAreEqual");sae(!0);var aae=B.Object({contextItems:B.Array(iae)}),lae=B.Object({selector:B.Array(B.Union([B.String(),B.Object({language:B.Optional(B.String()),scheme:B.Optional(B.String()),pattern:B.Optional(B.String())})]))}),UT=B.Object({id:B.String()}),cae=B.Intersect([UT,lae]),uae=B.Intersect([UT,aae]),dze=B.Object({providers:B.Array(cae)}),mze=B.Object({providers:B.Array(UT)}),fae=B.Object({providers:B.Array(uae),updating:B.Optional(B.Array(B.String()))}),pze=B.Intersect([Qk,B.Object({contextItems:B.Optional(fae)})]);function b3(e,t){return e.map(r=>{let n=r.data.filter(i=>i.type===t);return n.length>0?{...r,data:n}:void 0}).filter(r=>r!==void 0)}o(b3,"filterContextItemsByType");function OU(e){let t=[],r=0;return e.forEach(n=>{let i=!1;for(let[s,a]of oae.entries())if(a.Check(n)){t.push({...n,type:s}),i=!0;break}i||r++}),[t,r]}o(OU,"filterSupportedContextItems");function dae(e){return e.length>0&&e.replaceAll(/[^a-zA-Z0-9-]/g,"").length===e.length}o(dae,"validateContextItemId");function LU(e,t){let r=new Set,n=[];for(let i of t){let s=i.id??yi();if(!dae(s)){let a=yi();Lt.error(e,`Invalid context item ID ${s}, replacing with ${a}`),s=a}if(r.has(s)){let a=yi();Lt.error(e,`Duplicate context item ID ${s}, replacing with ${a}`),s=a}r.add(s),n.push({...i,id:s})}return n}o(LU,"addOrValidateContextItemsIDs");function FU(e){return e instanceof BT?!0:e instanceof Error&&e.name===jT&&e.message===jT}o(FU,"isCancellationError");var BT=class extends Error{static{o(this,"CancellationError")}constructor(){super(jT),this.name=this.message}},jT="Canceled";var Ci=class{constructor(t=()=>new $T){this.createStatistics=t;this.statistics=new rr(25)}static{o(this,"ContextProviderStatistics")}getStatisticsForCompletion(t){let r=this.statistics.get(t);if(r)return r;let n=this.createStatistics();return this.statistics.set(t,n),n}getPreviousStatisticsForCompletion(t){let r=Array.from(this.statistics.keys());for(let n=r.length-1;n>=0;n--){let i=r[n];if(i!==t)return this.statistics.peek(i)}}},$T=class{constructor(){this._expectations=new Map;this._lastResolution=new Map;this._statistics=new Map}static{o(this,"PerCompletionContextProviderStatistics")}addExpectations(t,r){let n=this._expectations.get(t)??[];this._expectations.set(t,[...n,...r])}clearExpectations(){this._expectations.clear()}setLastResolution(t,r){this._lastResolution.set(t,r)}get(t){return this._statistics.get(t)}computeMatch(t){try{for(let[r,n]of this._expectations){if(n.length===0)continue;let i=this._lastResolution.get(r)??"none";if(i==="none"||i==="error"){this._statistics.set(r,{usage:"none",resolution:i});continue}let s=[];for(let[f,u]of n){let d={id:f.id,type:f.type};if(f.origin&&(d.origin=f.origin),u==="content_excluded"){s.push({...d,usage:"none_content_excluded"});continue}let p=t.find(m=>m.source===f);p===void 0?s.push({...d,usage:"error"}):s.push({...d,usage:p.expectedTokens>0&&p.expectedTokens===p.actualTokens?"full":p.actualTokens>0?"partial":"none",expectedTokens:p.expectedTokens,actualTokens:p.actualTokens})}let l=s.reduce((f,u)=>u.usage==="full"?f+1:u.usage==="partial"?f+.5:f,0)/n.length,c=l===1?"full":l===0?"none":"partial";this._statistics.set(r,{resolution:i,usage:c,usageDetails:s})}}finally{this.clearExpectations(),this._lastResolution.clear()}}};function MU(e){return e.map(t=>{if(!(t.source===void 0||t.expectedTokens===void 0||t.actualTokens===void 0))return{source:t.source,expectedTokens:t.expectedTokens,actualTokens:t.actualTokens}}).filter(t=>t!==void 0)}o(MU,"componentStatisticsToPromptMatcher");var UU=Tt(vi());var $0=class{static{o(this,"ContextProviderRegistry")}},uc=class{static{o(this,"DefaultContextProviders")}},_3=class extends uc{constructor(){super();this.ids=[]}static{o(this,"DefaultContextProvidersContainer")}add(r){this.ids.push(r)}getIds(){return this.ids}},qT=class extends $0{constructor(r,n){super();this.ctx=r;this.match=n;this._providers=[]}static{o(this,"CoreContextProviderRegistry")}registerContextProvider(r){if(r.id.includes(",")||r.id.includes("*"))throw new Error(`A context provider id cannot contain a comma or an asterisk. The id ${r.id} is invalid.`);if(this._providers.find(n=>n.id===r.id))throw new Error(`A context provider with id ${r.id} has already been registered`);this._providers.push(r)}unregisterContextProvider(r){this._providers=this._providers.filter(n=>n.id!==r)}get providers(){return this._providers.slice()}async resolveAllProviders(r,n,i,s,a){if(s?.isCancellationRequested)return Lt.debug(this.ctx,"Resolving context providers cancelled"),[];let l=new Map;PU(this.ctx,l,i);let c=[];if(this._providers.length===0)return c;let f=await this.matchProviders(n,i),u=f.filter(y=>y[1]>0);if(f.filter(y=>y[1]<=0).forEach(([y,E])=>{let S={providerId:y.id,matchScore:E,resolution:"none",resolutionTimeMs:0,data:[]};c.push(S)}),u.length===0)return c;if(s?.isCancellationRequested)return Lt.debug(this.ctx,"Resolving context providers cancelled"),[];wU(this.ctx,u.map(y=>y[0].id),l,i),DU(this.ctx,u.map(y=>y[0].id),l,i),RU(this.ctx,u.map(y=>y[0].id),l,i);let p=new UU.CancellationTokenSource;if(s){let y=s.onCancellationRequested(E=>{p.cancel(),y.dispose()})}let m=yb(this.ctx)&&!eS(this.ctx)?0:pae(this.ctx,i),g=m>0?Date.now()+m:Number.MAX_SAFE_INTEGER,h;m>0&&(h=setTimeout(()=>{p.cancel(),p.dispose()},m));let _=new Map,b={completionId:r,documentContext:n,activeExperiments:l,timeBudget:m,timeoutEnd:g,data:a};for(let[y]of u){let E=this.ctx.get(Ci).getPreviousStatisticsForCompletion(r)?.get(y.id);E&&(b.previousUsageStatistics=E);let S=y.resolver.resolve(b,p.token);_.set(y.id,S)}let x=await SU(_,p.token);h&&clearTimeout(h);for(let[y,E]of u){let S=x.get(y.id);if(S){if(S.status==="error")FU(S.reason)||Lt.error(this.ctx,`Error resolving context from ${y.id}: `,S.reason),c.push({providerId:y.id,matchScore:E,resolution:S.status,resolutionTimeMs:S.resolutionTime,data:[]});else{let w=[...S.value??[]];if((S.status==="none"||S.status==="partial")&&(Lt.info(this.ctx,`Context provider ${y.id} exceeded time budget of ${m}ms`),y.resolver.resolveOnTimeout))try{let R=y.resolver.resolveOnTimeout(b);MT(R)?w.push(...R):R&&w.push(R),w.length>0&&(S.status="partial")}catch(R){Lt.error(this.ctx,`Error in fallback logic for context provider ${y.id}: `,R)}let[z,V]=OU(w);V&&Lt.error(this.ctx,`Dropped ${V} context items from ${y.id} due to invalid schema`);let W=LU(this.ctx,z),Y={providerId:y.id,matchScore:E,resolution:S.status,resolutionTimeMs:S.resolutionTime,data:W};c.push(Y)}this.ctx.get(Ci).getStatisticsForCompletion(r).setLastResolution(y.id,S.status)}else Lt.error(this.ctx,`Context provider ${y.id} not found in results`)}return c.sort((y,E)=>E.matchScore-y.matchScore)}async matchProviders(r,n){let i=qU(this.ctx,n),s=i.length===1&&i[0]==="*";return await Promise.all(this._providers.map(async l=>{if(!s&&!i.includes(l.id))return[l,0];let c=await this.match(this.ctx,l.selector,r);return[l,c]}))}},WT=class extends $0{constructor(r){super();this.delegate=r;this._cachedContextItems=new rr(5)}static{o(this,"CachedContextProviderRegistry")}registerContextProvider(r){this.delegate.registerContextProvider(r)}unregisterContextProvider(r){this.delegate.unregisterContextProvider(r)}get providers(){return this.delegate.providers}async resolveAllProviders(r,n,i,s,a){let l=this._cachedContextItems.get(r);if(r&&l&&l.length>0)return l;let c=await this.delegate.resolveAllProviders(r,n,i,s,a);return c.length>0&&r&&this._cachedContextItems.set(r,c),c}};function BU(e,t){return new WT(new qT(e,t))}o(BU,"getContextProviderRegistry");function jU(e,t,r){let n=e.get(Ci).getStatisticsForCompletion(t);return r.map(s=>{let{providerId:a,resolution:l,resolutionTimeMs:c,matchScore:f,data:u}=s,d=n.get(a),p=d?.usage??"none";(f<=0||l==="none"||l==="error")&&(p="none");let m={providerId:a,resolution:l,resolutionTimeMs:c,usage:p,usageDetails:d?.usageDetails,matched:f>0,numResolvedItems:u.length},g=d?.usageDetails!==void 0?d?.usageDetails.filter(_=>_.usage==="full"||_.usage==="partial"||_.usage==="partial_content_excluded").length:void 0,h=d?.usageDetails!==void 0?d?.usageDetails.filter(_=>_.usage==="partial"||_.usage==="partial_content_excluded").length:void 0;return g!==void 0&&(m.numUsedItems=g),h!==void 0&&(m.numPartiallyUsedItems=h),m})}o(jU,"telemetrizeContextItems");function $U(e){return e.matchScore>0&&e.resolution!=="error"}o($U,"matchContextItems");function qU(e,t){let r=mae(e,t),n=It(e,_e.ContextProviders)??[];if(r.length===1&&r[0]==="*"||n.length===1&&n[0]==="*")return["*"];let i=e.get(uc).getIds();return Array.from(new Set([...i,...r,...n]))}o(qU,"getActiveContextProviders");function mae(e,t){return yb(e)?["*"]:e.get(Be).contextProviders(t)}o(mae,"getExpContextProviders");function GT(e,t){return qU(e,t).length>0}o(GT,"useContextProviderAPI");function pae(e,t){let r=It(e,_e.ContextProviderTimeBudget);return r!==void 0&&typeof r=="number"?r:e.get(Be).contextProviderTimeBudget(t)}o(pae,"getContextProviderTimeBudget");var za=class{constructor(t){this.ctx=t;this.scheduledResolutions=new rr(25)}static{o(this,"ContextProviderBridge")}schedule(t,r,n,i,s){let a=this.ctx.get($0),{textDocument:l,originalPosition:c,originalOffset:f,originalVersion:u,editsWithPosition:d}=t,p=a.resolveAllProviders(r,{uri:l.uri,languageId:l.detectedLanguageId,version:u,offset:f,position:c,proposedEdits:d.length>0?d:void 0},n,i,s?.data);this.scheduledResolutions.set(r,p)}async resolution(t){let r=this.scheduledResolutions.get(t);return r?await r:[]}};var y3=class{constructor(t,r,n){this.languageId=t;this.nodeMatch=r;this.nodeTypesWithBlockOrStmtChild=n}static{o(this,"BaseBlockParser")}async getNodeMatchAtPosition(t,r,n){let i=await jc(this.languageId,t);try{let a=i.rootNode.descendantForIndex(r);for(;a;){let l=this.nodeMatch[a.type];if(l){if(!this.nodeTypesWithBlockOrStmtChild.has(a.type))break;let c=this.nodeTypesWithBlockOrStmtChild.get(a.type);if((c==""?a.namedChildren[0]:a.childForFieldName(c))?.type==l)break}a=a.parent}return a?n(a):void 0}finally{i.delete()}}getNextBlockAtPosition(t,r,n){return this.getNodeMatchAtPosition(t,r,i=>{let s=i.children.reverse().find(a=>a.type==this.nodeMatch[i.type]);if(s){if(this.languageId=="python"&&s.parent){let a=s.parent.type==":"?s.parent.parent:s.parent,l=a?.nextSibling;for(;l&&l.type=="comment";){let c=l.startPosition.row==s.endPosition.row&&l.startPosition.column>=s.endPosition.column,f=l.startPosition.row>a.endPosition.row&&l.startPosition.column>a.startPosition.column;if(c||f)s=l,l=l.nextSibling;else break}}if(!(s.endIndex>=s.tree.rootNode.endIndex-1&&(s.hasError()||s.parent.hasError())))return n(s)}})}async isBlockBodyFinished(t,r,n){let i=(t+r).trimEnd(),s=await this.getNextBlockAtPosition(i,n,a=>a.endIndex);if(s!==void 0&&s<i.length){let a=s-t.length;return a>0?a:void 0}}getNodeStart(t,r){let n=t.trimEnd();return this.getNodeMatchAtPosition(n,r,i=>i.startIndex)}},v3=class extends y3{constructor(r,n,i,s,a){super(r,s,a);this.blockEmptyMatch=n;this.lineMatch=i}static{o(this,"RegexBasedBlockParser")}isBlockStart(r){return this.lineMatch.test(r.trimStart())}async isBlockBodyEmpty(r,n){let i=await this.getNextBlockAtPosition(r,n,s=>{s.startIndex<n&&(n=s.startIndex);let a=r.substring(n,s.endIndex).trim();return a==""||a.replace(/\s/g,"")==this.blockEmptyMatch});return i===void 0||i}async isEmptyBlockStart(r,n){return n=GU(r,n),this.isBlockStart(gae(r,n))&&this.isBlockBodyEmpty(r,n)}};function gae(e,t){let r=e.lastIndexOf(`
`,t-1),n=e.indexOf(`
`,t);return n<0&&(n=e.length),e.slice(r+1,n)}o(gae,"getLineAtOffset");function GU(e,t){let r=t;for(;r>0&&/\s/.test(e.charAt(r-1));)r--;return r}o(GU,"rewindToNearestNonWs");function WU(e,t){let r=e.startIndex,n=e.startIndex-e.startPosition.column,i=t.substring(n,r);if(/^\s*$/.test(i))return i}o(WU,"indent");function hae(e,t,r){if(t.startPosition.row<=e.startPosition.row)return!1;let n=WU(e,r),i=WU(t,r);return n!==void 0&&i!==void 0&&n.startsWith(i)}o(hae,"outdented");var q0=class extends y3{constructor(r,n,i,s,a,l,c){super(r,n,i);this.startKeywords=s;this.blockNodeType=a;this.emptyStatementType=l;this.curlyBraceLanguage=c}static{o(this,"TreeSitterBasedBlockParser")}isBlockEmpty(r,n){let i=r.text.trim();return this.curlyBraceLanguage&&(i.startsWith("{")&&(i=i.slice(1)),i.endsWith("}")&&(i=i.slice(0,-1)),i=i.trim()),!!(i.length==0||this.languageId=="python"&&(r.parent?.type=="class_definition"||r.parent?.type=="function_definition")&&r.children.length==1&&BD(r.parent))}async isEmptyBlockStart(r,n){if(n>r.length)throw new RangeError("Invalid offset");for(let s=n;s<r.length&&r.charAt(s)!=`
`;s++)if(/\S/.test(r.charAt(s)))return!1;n=GU(r,n);let i=await jc(this.languageId,r);try{let s=i.rootNode.descendantForIndex(n-1);if(s==null||this.curlyBraceLanguage&&s.type=="}")return!1;if((this.languageId=="javascript"||this.languageId=="typescript")&&s.parent&&s.parent.type=="object"&&s.parent.text.trim()=="{")return!0;if(this.languageId=="typescript"){let u=s;for(;u.parent;){if(u.type=="function_signature"||u.type=="method_signature"){let d=s.nextSibling;return d&&u.hasError()&&hae(u,d,r)?!0:!u.children.find(m=>m.type==";")&&u.endIndex<=n}u=u.parent}}let a=null,l=null,c=null,f=s;for(;f!=null;){if(f.type==this.blockNodeType){l=f;break}if(this.nodeMatch[f.type]){c=f;break}if(f.type=="ERROR"){a=f;break}f=f.parent}if(l!=null){if(!l.parent||!this.nodeMatch[l.parent.type])return!1;if(this.languageId=="python"){let u=l.previousSibling;if(u!=null&&u.hasError()&&(u.text.startsWith('"""')||u.text.startsWith("'''")))return!0}return this.isBlockEmpty(l,n)}if(a!=null){if(a.previousSibling?.type=="module"||a.previousSibling?.type=="internal_module"||a.previousSibling?.type=="def")return!0;let u=[...a.children].reverse(),d=u.find(m=>this.startKeywords.includes(m.type)),p=u.find(m=>m.type==this.blockNodeType);if(d){switch(this.languageId){case"python":{d.type=="try"&&s.type=="identifier"&&s.text.length>4&&(p=u.find(h=>h.hasError())?.children.find(h=>h.type=="block"));let m,g=0;for(let h of a.children){if(h.type==":"&&g==0){m=h;break}h.type=="("&&(g+=1),h.type==")"&&(g-=1)}if(m&&d.endIndex<=m.startIndex&&m.nextSibling){if(d.type=="def"){let h=m.nextSibling;if(h.type=='"'||h.type=="'"||h.type=="ERROR"&&(h.text=='"""'||h.text=="'''"))return!0}return!1}break}case"javascript":{let m=u.find(_=>_.type=="formal_parameters");if(d.type=="class"&&m)return!0;let g=u.find(_=>_.type=="{");if(g&&g.startIndex>d.endIndex&&g.nextSibling!=null||u.find(_=>_.type=="do")&&d.type=="while"||d.type=="=>"&&d.nextSibling&&d.nextSibling.type!="{")return!1;break}case"typescript":{let m=u.find(h=>h.type=="{");if(m&&m.startIndex>d.endIndex&&m.nextSibling!=null||u.find(h=>h.type=="do")&&d.type=="while"||d.type=="=>"&&d.nextSibling&&d.nextSibling.type!="{")return!1;break}}return p&&p.startIndex>d.endIndex?this.isBlockEmpty(p,n):!0}}if(c!=null){let u=this.nodeMatch[c.type],d=c.children.slice().reverse().find(p=>p.type==u);if(d)return this.isBlockEmpty(d,n);if(this.nodeTypesWithBlockOrStmtChild.has(c.type)){let p=this.nodeTypesWithBlockOrStmtChild.get(c.type),m=p==""?c.children[0]:c.childForFieldName(p);if(m&&m.type!=this.blockNodeType&&m.type!=this.emptyStatementType)return!1}return!0}return!1}finally{i.delete()}}},xae={python:new q0("python",{class_definition:"block",elif_clause:"block",else_clause:"block",except_clause:"block",finally_clause:"block",for_statement:"block",function_definition:"block",if_statement:"block",try_statement:"block",while_statement:"block",with_statement:"block"},new Map,["def","class","if","elif","else","for","while","try","except","finally","with"],"block",null,!1),javascript:new q0("javascript",{arrow_function:"statement_block",catch_clause:"statement_block",do_statement:"statement_block",else_clause:"statement_block",finally_clause:"statement_block",for_in_statement:"statement_block",for_statement:"statement_block",function:"statement_block",function_declaration:"statement_block",generator_function:"statement_block",generator_function_declaration:"statement_block",if_statement:"statement_block",method_definition:"statement_block",try_statement:"statement_block",while_statement:"statement_block",with_statement:"statement_block",class:"class_body",class_declaration:"class_body"},new Map([["arrow_function","body"],["do_statement","body"],["else_clause",""],["for_in_statement","body"],["for_statement","body"],["if_statement","consequence"],["while_statement","body"],["with_statement","body"]]),["=>","try","catch","finally","do","for","if","else","while","with","function","function*","class"],"statement_block","empty_statement",!0),typescript:new q0("typescript",{ambient_declaration:"statement_block",arrow_function:"statement_block",catch_clause:"statement_block",do_statement:"statement_block",else_clause:"statement_block",finally_clause:"statement_block",for_in_statement:"statement_block",for_statement:"statement_block",function:"statement_block",function_declaration:"statement_block",generator_function:"statement_block",generator_function_declaration:"statement_block",if_statement:"statement_block",internal_module:"statement_block",method_definition:"statement_block",module:"statement_block",try_statement:"statement_block",while_statement:"statement_block",abstract_class_declaration:"class_body",class:"class_body",class_declaration:"class_body"},new Map([["arrow_function","body"],["do_statement","body"],["else_clause",""],["for_in_statement","body"],["for_statement","body"],["if_statement","consequence"],["while_statement","body"],["with_statement","body"]]),["declare","=>","try","catch","finally","do","for","if","else","while","with","function","function*","class"],"statement_block","empty_statement",!0),tsx:new q0("typescriptreact",{ambient_declaration:"statement_block",arrow_function:"statement_block",catch_clause:"statement_block",do_statement:"statement_block",else_clause:"statement_block",finally_clause:"statement_block",for_in_statement:"statement_block",for_statement:"statement_block",function:"statement_block",function_declaration:"statement_block",generator_function:"statement_block",generator_function_declaration:"statement_block",if_statement:"statement_block",internal_module:"statement_block",method_definition:"statement_block",module:"statement_block",try_statement:"statement_block",while_statement:"statement_block",abstract_class_declaration:"class_body",class:"class_body",class_declaration:"class_body"},new Map([["arrow_function","body"],["do_statement","body"],["else_clause",""],["for_in_statement","body"],["for_statement","body"],["if_statement","consequence"],["while_statement","body"],["with_statement","body"]]),["declare","=>","try","catch","finally","do","for","if","else","while","with","function","function*","class"],"statement_block","empty_statement",!0),go:new v3("go","{}",/\b(func|if|else|for)\b/,{communication_case:"block",default_case:"block",expression_case:"block",for_statement:"block",func_literal:"block",function_declaration:"block",if_statement:"block",labeled_statement:"block",method_declaration:"block",type_case:"block"},new Map),ruby:new v3("ruby","end",/\b(BEGIN|END|case|class|def|do|else|elsif|for|if|module|unless|until|while)\b|->/,{begin_block:"}",block:"}",end_block:"}",lambda:"block",for:"do",until:"do",while:"do",case:"end",do:"end",if:"end",method:"end",module:"end",unless:"end",do_block:"end"},new Map),c_sharp:new q0("csharp",{},new Map([]),[],"block",null,!0),java:new q0("java",{},new Map([]),[],"block",null,!0),php:new q0("php",{},new Map([]),[],"block",null,!0),cpp:new q0("cpp",{},new Map([]),[],"block",null,!0)};function zU(e){if(!s0(e))throw new Error(`Language ${e} is not supported`);return xae[Z5(e)]}o(zU,"getBlockParser");async function HU(e,t,r){return s0(e)?zU(e).isEmptyBlockStart(t,r):!1}o(HU,"isEmptyBlockStart");async function VU(e,t,r,n){if(s0(e))return zU(e).isBlockBodyFinished(t,r,n)}o(VU,"isBlockBodyFinished");var tHe=new St("parseBlock");function KU(e,t,r){let n=t.getText(mi.range(mi.position(0,0),r)),i=t.offsetAt(r),s=t.detectedLanguageId;return a=>VU(s,n,a,i)}o(KU,"parsingBlockFinished");function I3(e,t){return HU(e.detectedLanguageId,e.getText(),e.offsetAt(t))}o(I3,"isEmptyBlockStartUtil");var bae=["\\{","\\}","\\[","\\]","\\(","\\)"].concat(["then","else","elseif","elif","catch","finally","fi","done","end","loop","until","where","when"].map(e=>e+"\\b")),_ae=new RegExp(`^(${bae.join("|")})`);function yae(e){return _ae.test(e.trimLeft().toLowerCase())}o(yae,"isContinuationLine");function T3(e){let t=/^(\s*)([^]*)$/.exec(e);if(t&&t[2]&&t[2].length>0)return t[1].length}o(T3,"indentationOfLine");function YU(e,t){let r=e.getText(),n=e.offsetAt(t);return zT(r,n,e.detectedLanguageId)}o(YU,"contextIndentation");function zT(e,t,r){let n=e.slice(0,t).split(`
`),i=e.slice(t).split(`
`);function s(u,d,p){let m=d,g,h;for(;g===void 0&&m>=0&&m<u.length;)g=T3(u[m]),h=m,m+=p;if(r==="python"&&p===-1){m++;let _=u[m].trim();if(_.endsWith('"""')){if(!(_.startsWith('"""')&&_!=='"""'))for(m--;m>=0&&!u[m].trim().startsWith('"""');)m--;if(m>=0)for(g=void 0,m--;g===void 0&&m>=0;)g=T3(u[m]),h=m,m--}}return[g,h]}o(s,"seekNonBlank");let[a,l]=s(n,n.length-1,-1),c=(()=>{if(!(a===void 0||l===void 0))for(let u=l-1;u>=0;u--){let d=T3(n[u]);if(d!==void 0&&d<a)return d}})(),[f]=s(i,1,1);return{prev:c,current:a??0,next:f}}o(zT,"contextIndentationFromText");var vae=!1;function Tae(e,t,r){let n=e.split(`
`),i=r!==void 0,s=r?.split(`
`).pop(),a=0;if(i&&s?.trim()!=""&&n[0].trim()!==""&&a++,!i&&vae&&n[0].trim()===""&&a++,i||a++,n.length===a)return"continue";let l=Math.max(t.current,t.next??0);for(let c=a;c<n.length;c++){let f=n[c];c==0&&s!==void 0&&(f=s+f);let u=T3(f);if(u!==void 0&&(u<l||u===l&&!yae(f)))return n.slice(0,c).join(`
`).length}return"continue"}o(Tae,"completionCutOrContinue");function XU(e,t){return async r=>{let n=Tae(r,e,t);return n==="continue"?void 0:n}}o(XU,"indentationBlockFinished");var Iae={tokenizerName:"o200k_base"};function Eae(e){return{...Iae,...e}}o(Eae,"cursorContextOptions");function hg(e,t={}){let r=Eae(t),n=Mf(r.tokenizerName);if(r.maxLineCount!==void 0&&r.maxLineCount<0)throw new Error("maxLineCount must be non-negative if defined");if(r.maxTokenLength!==void 0&&r.maxTokenLength<0)throw new Error("maxTokenLength must be non-negative if defined");if(r.maxLineCount===0||r.maxTokenLength===0)return{context:"",lineCount:0,tokenLength:0,tokenizerName:r.tokenizerName};let i=e.source.slice(0,e.offset);return r.maxLineCount!==void 0&&(i=i.split(`
`).slice(-r.maxLineCount).join(`
`)),r.maxTokenLength!==void 0&&(i=n.takeLastLinesTokens(i,r.maxTokenLength)),{context:i,lineCount:i.split(`
`).length,tokenLength:n.tokenLength(i),tokenizerName:r.tokenizerName}}o(hg,"getCursorContext");var Cae={function:"function",snippet:"snippet",snippets:"snippets",variable:"variable",parameter:"parameter",method:"method",class:"class",module:"module",alias:"alias","enum member":"enum member",interface:"interface"};function JU(e){let t=Cae[e.semantics],r=["snippets"].includes(e.semantics)?"these":"this";return{headline:e.relativePath?`Compare ${r} ${t} from ${e.relativePath}:`:`Compare ${r} ${t}:`,snippet:e.snippet}}o(JU,"announceSnippet");var HT=class{constructor(t){this.keys=[];this.cache={};this.size=t}static{o(this,"FifoCache")}put(t,r){if(this.cache[t]=r,this.keys.length>this.size){this.keys.push(t);let n=this.keys.shift()??"";delete this.cache[n]}}get(t){return this.cache[t]}};var VT=class{static{o(this,"Tokenizer")}constructor(t){this.stopsForLanguage=Dae.get(t.languageId)??Pae}tokenize(t){return new Set(Sae(t).filter(r=>!this.stopsForLanguage.has(r)))}},ZU=new HT(20),Im=class{static{o(this,"WindowedMatcher")}constructor(t){this.referenceDoc=t,this.tokenizer=new VT(t)}get referenceTokens(){return this.createReferenceTokens()}async createReferenceTokens(){return this.referenceTokensCache??=this.tokenizer.tokenize(this._getCursorContextInfo(this.referenceDoc).context)}sortScoredSnippets(t,r="descending"){return r=="ascending"?t.sort((n,i)=>n.score>i.score?1:-1):r=="descending"?t.sort((n,i)=>n.score>i.score?-1:1):t}async retrieveAllSnippets(t,r="descending"){let n=[];if(t.source.length===0||(await this.referenceTokens).size===0)return n;let i=t.source.split(`
`),s=this.id()+":"+t.source,a=ZU.get(s)??[],l=a.length==0,c=l?i.map(f=>this.tokenizer.tokenize(f),this.tokenizer):[];for(let[f,[u,d]]of this.getWindowsDelineations(i).entries()){if(l){let g=new Set;c.slice(u,d).forEach(h=>h.forEach(_=>g.add(_),g)),a.push(g)}let p=a[f],m=this.similarityScore(p,await this.referenceTokens);if(n.length&&u>0&&n[n.length-1].endLine>u){n[n.length-1].score<m&&(n[n.length-1].score=m,n[n.length-1].startLine=u,n[n.length-1].endLine=d);continue}n.push({score:m,startLine:u,endLine:d})}return l&&ZU.put(s,a),this.sortScoredSnippets(n,r)}findMatches(t,r){return this.findBestMatch(t,r)}async findBestMatch(t,r){if(t.source.length===0||(await this.referenceTokens).size===0)return[];let n=t.source.split(`
`),i=await this.retrieveAllSnippets(t,"descending");if(i.length===0)return[];let s=[];for(let a=0;a<i.length&&a<r;a++)if(i[a].score!==0){let l=n.slice(i[a].startLine,i[a].endLine).join(`
`);s.push({snippet:l,semantics:"snippet",provider:"similar-files",...i[a]})}return s}};function Sae(e){return e.split(/[^a-zA-Z0-9]/).filter(t=>t.length>0)}o(Sae,"splitIntoWords");var wae=new Set(["we","our","you","it","its","they","them","their","this","that","these","those","is","are","was","were","be","been","being","have","has","had","having","do","does","did","doing","can","don","t","s","will","would","should","what","which","who","when","where","why","how","a","an","the","and","or","not","no","but","because","as","until","again","further","then","once","here","there","all","any","both","each","few","more","most","other","some","such","above","below","to","during","before","after","of","at","by","about","between","into","through","from","up","down","in","out","on","off","over","under","only","own","same","so","than","too","very","just","now"]),Pae=new Set(["if","then","else","for","while","with","def","function","return","TODO","import","try","catch","raise","finally","repeat","switch","case","match","assert","continue","break","const","class","enum","struct","static","new","super","this","var",...wae]),Dae=new Map([]);function KT(e,t,r){return{type:"virtual",indentation:e,subs:t,label:r}}o(KT,"virtualNode");function QU(e,t,r,n,i){if(r==="")throw new Error("Cannot create a line node with an empty source line");return{type:"line",indentation:e,lineNumber:t,sourceLine:r,subs:n,label:i}}o(QU,"lineNode");function YT(e){return{type:"blank",lineNumber:e,subs:[]}}o(YT,"blankNode");function E3(e){return{type:"top",indentation:-1,subs:e??[]}}o(E3,"topNode");function os(e){return e.type==="blank"}o(os,"isBlank");function xg(e){return e.type==="line"}o(xg,"isLine");function Hu(e){return e.type==="virtual"}o(Hu,"isVirtual");function eB(e,t){return Vu(e,r=>{r.label=r.label?t(r.label)?void 0:r.label:void 0},"bottomUp"),e}o(eB,"clearLabelsIf");function Vu(e,t,r){function n(i){r==="topDown"&&t(i),i.subs.forEach(s=>{n(s)}),r==="bottomUp"&&t(i)}o(n,"_visit"),n(e)}o(Vu,"visitTree");function C3(e,t,r){let n=o(s=>{if(r!==void 0&&r(s))return s;{let a=s.subs.map(n).filter(l=>l!==void 0);return s.subs=a,t(s)}},"rebuild"),i=n(e);return i!==void 0?i:E3()}o(C3,"rebuildTree");function Nae(e){let t=e.split(`
`),r=t.map(f=>f.match(/^\s*/)[0].length),n=t.map(f=>f.trimLeft());function i(f){let[u,d]=s(f+1,r[f]);return[QU(r[f],f,n[f],u),d]}o(i,"parseNode");function s(f,u){let d,p=[],m=f,g;for(;m<n.length&&(n[m]===""||r[m]>u);)if(n[m]==="")g===void 0&&(g=m),m+=1;else{if(g!==void 0){for(let h=g;h<m;h++)p.push(YT(h));g=void 0}[d,m]=i(m),p.push(d)}return g!==void 0&&(m=g),[p,m]}o(s,"parseSubs");let[a,l]=s(0,-1),c=l;for(;c<n.length&&n[c]==="";)a.push(YT(c)),c+=1;if(c<n.length)throw new Error(`Parsing did not go to end of file. Ended at ${c} out of ${n.length}`);return E3(a)}o(Nae,"parseRaw");function bg(e,t){function r(n){if(xg(n)){let i=t.find(s=>s.matches(n.sourceLine));i&&(n.label=i.label)}}o(r,"visitor"),Vu(e,r,"bottomUp")}o(bg,"labelLines");function S3(e){function t(r){if(Hu(r)&&r.label===void 0){let n=r.subs.filter(i=>!os(i));n.length===1&&(r.label=n[0].label)}}o(t,"visitor"),Vu(e,t,"bottomUp")}o(S3,"labelVirtualInherited");function _g(e){return Object.keys(e).map(t=>{let r;return e[t].test?r=o(n=>e[t].test(n),"matches"):r=e[t],{matches:r,label:t}})}o(_g,"buildLabelRules");function XT(e){let r=C3(e,o(function(n){if(n.subs.length===0||n.subs.findIndex(a=>a.label==="closer"||a.label==="opener")===-1)return n;let i=[],s;for(let a=0;a<n.subs.length;a++){let l=n.subs[a],c=n.subs[a-1];if(l.label==="opener"&&c!==void 0&&xg(c))c.subs.push(l),l.subs.forEach(f=>c.subs.push(f)),l.subs=[];else if(l.label==="closer"&&s!==void 0&&(xg(l)||Hu(l))&&l.indentation>=s.indentation){let f=i.length-1;for(;f>0&&os(i[f]);)f-=1;if(s.subs.push(...i.splice(f+1)),l.subs.length>0){let u=s.subs.findIndex(g=>g.label!=="newVirtual"),d=s.subs.slice(0,u),p=s.subs.slice(u),m=p.length>0?[KT(l.indentation,p,"newVirtual")]:[];s.subs=[...d,...m,l]}else s.subs.push(l)}else i.push(l),os(l)||(s=l)}return n.subs=i,n},"rebuilder"));return eB(e,n=>n==="newVirtual"),r}o(XT,"combineClosersAndOpeners");function tB(e,t=os,r){return C3(e,o(function(i){if(i.subs.length<=1)return i;let s=[],a=[],l,c=!1;function f(u=!1){if(l!==void 0&&(s.length>0||!u)){let d=KT(l,a,r);s.push(d)}else a.forEach(d=>s.push(d))}o(f,"flushBlockIntoNewSubs");for(let u=0;u<i.subs.length;u++){let d=i.subs[u],p=t(d);!p&&c&&(f(),a=[]),c=p,a.push(d),os(d)||(l=l??d.indentation)}return f(!0),i.subs=s,i},"rebuilder"))}o(tB,"groupBlocks");function w3(e){return C3(e,o(function(r){return Hu(r)&&r.label===void 0&&r.subs.length<=1?r.subs.length===0?void 0:r.subs[0]:(r.subs.length===1&&Hu(r.subs[0])&&r.subs[0].label===void 0&&(r.subs=r.subs[0].subs),r)},"rebuilder"))}o(w3,"flattenVirtual");var Aae={opener:/^[[({]/,closer:/^[\])}]/},kae=_g(Aae),rB={};function JT(e,t){rB[e]=t}o(JT,"registerLanguageSpecificParser");function ZT(e,t){let r=Nae(e),n=rB[t??""];return n?n(r):(bg(r,kae),XT(r))}o(ZT,"parseTree");function P3(e,t){let r=[],n=t.length;if(n==0)return[];if(n<e)return[[0,n]];for(let i=0;i<n-e+1;i++)r.push([i,i+e]);return r}o(P3,"getBasicWindowDelineations");var D3=class e extends Im{static{o(this,"FixedWindowSizeJaccardMatcher")}constructor(t,r){super(t),this.windowLength=r}static{this.FACTORY=o(t=>({to:o(r=>new e(r,t),"to")}),"FACTORY")}id(){return"fixed:"+this.windowLength}getWindowsDelineations(t){return P3(this.windowLength,t)}_getCursorContextInfo(t){return hg(t,{maxLineCount:this.windowLength})}similarityScore(t,r){return Oae(t,r)}};function Oae(e,t){let r=new Set;return e.forEach(n=>{t.has(n)&&r.add(n)}),r.size/(e.size+t.size-r.size)}o(Oae,"computeScore");var R3=class e extends Im{static{o(this,"BlockTokenSubsetMatcher")}constructor(t,r){super(t),this.windowLength=r}static{this.FACTORY=o(t=>({to:o(r=>new e(r,t),"to")}),"FACTORY")}id(){return"fixed:"+this.windowLength}getWindowsDelineations(t){return P3(this.windowLength,t)}_getCursorContextInfo(t){return hg(t,{maxLineCount:this.windowLength})}get referenceTokens(){return this.createReferenceTokensForLanguage()}async createReferenceTokensForLanguage(){return this.referenceTokensCache?this.referenceTokensCache:(this.referenceTokensCache=e.syntaxAwareSupportsLanguage(this.referenceDoc.languageId)?await this.syntaxAwareReferenceTokens():await super.referenceTokens,this.referenceTokensCache)}async syntaxAwareReferenceTokens(){let t=(await this.getEnclosingMemberStart(this.referenceDoc.source,this.referenceDoc.offset))?.startIndex,r=this.referenceDoc.offset,n=t?this.referenceDoc.source.slice(t,r):hg(this.referenceDoc,{maxLineCount:this.windowLength}).context;return this.tokenizer.tokenize(n)}static syntaxAwareSupportsLanguage(t){switch(t){case"csharp":return!0;default:return!1}}similarityScore(t,r){return Lae(t,r)}async getEnclosingMemberStart(t,r){let n;try{n=await jc(this.referenceDoc.languageId,t);let i=n.rootNode.namedDescendantForIndex(r);for(;i&&!(e.isMember(i)||e.isBlock(i));)i=i.parent??void 0;return i}finally{n?.delete()}}static isMember(t){switch(t?.type){case"method_declaration":case"property_declaration":case"field_declaration":case"constructor_declaration":return!0;default:return!1}}static isBlock(t){switch(t?.type){case"class_declaration":case"struct_declaration":case"record_declaration":case"enum_declaration":case"interface_declaration":return!0;default:return!1}}};function Lae(e,t){let r=new Set;return t.forEach(n=>{e.has(n)&&r.add(n)}),r.size}o(Lae,"computeScore");var Fae=0,Mae=60,Uae=4,Bae=1,jae=20,$ae=1e4,nB={snippetLength:Mae,threshold:Fae,maxTopSnippets:Uae,maxCharPerFile:$ae,maxNumberOfFiles:jae,maxSnippetsPerFile:Bae,useSubsetMatching:!1};var QT={snippetLength:60,threshold:0,maxTopSnippets:16,maxCharPerFile:1e5,maxNumberOfFiles:200,maxSnippetsPerFile:4};function qae(e,t){return(t.useSubsetMatching?R3.FACTORY(t.snippetLength):D3.FACTORY(t.snippetLength)).to(e)}o(qae,"getMatcher");async function iB(e,t,r){let n=qae(e,r);return r.maxTopSnippets===0?[]:(await t.filter(s=>s.source.length<r.maxCharPerFile&&s.source.length>0).slice(0,r.maxNumberOfFiles).reduce(async(s,a)=>(await s).concat((await n.findMatches(a,r.maxSnippetsPerFile)).map(l=>({relativePath:a.relativePath,...l}))),Promise.resolve([]))).filter(s=>s.score&&s.snippet&&s.score>r.threshold).sort((s,a)=>s.score-a.score).slice(-r.maxTopSnippets)}o(iB,"getSimilarSnippets");function oB(e,t){return{...QT,useSubsetMatching:eI(e,t)}}o(oB,"getCppSimilarFilesOptions");function sB(e){return QT.maxTopSnippets}o(sB,"getCppNumberOfSnippets");var Wae=new Map([["cpp",oB]]);function N3(e,t,r){let n=Wae.get(r);return n?n(e,t):{...nB,useSubsetMatching:eI(e,t)}}o(N3,"getSimilarFilesOptions");var Gae=new Map([["cpp",sB]]);function aB(e,t){let r=Gae.get(t);return r?r(e):FD}o(aB,"getNumberOfSnippets");function eI(e,t){return(t.filtersAndExp.exp.variables.copilotsubsetmatching||It(e,_e.UseSubsetMatching))??!1}o(eI,"useSubsetMatching");var zae=new Set(["ERR_WORKER_OUT_OF_MEMORY","ENOMEM"]);function Hae(e){return zae.has(e.code??"")||e.name==="RangeError"&&e.message==="WebAssembly.Memory(): could not allocate memory"}o(Hae,"isOomError");function fc(e,t,r,n=Lt){if(!Ks(t)){if(t instanceof Error){let i=t;Hae(i)?e.get(Lr).setWarning("Out of memory"):i.code==="EMFILE"||i.code==="ENFILE"?e.get(Lr).setWarning("Too many open files"):i.code==="CopilotPromptLoadFailure"?e.get(Lr).setWarning("Corrupted Copilot installation"):`${i.code}`.startsWith("CopilotPromptWorkerExit")?e.get(Lr).setWarning("Worker unexpectedly exited"):i.syscall==="uv_cwd"&&i.code==="ENOENT"&&e.get(Lr).setWarning("Current working directory does not exist")}n.exception(e,t,r)}}o(fc,"handleException");var Vae="content_excluded";async function lB(e,t,r,n){let i=b3(r,"CodeSnippet");if(i.length===0)return[];let s=new Set,a=i.flatMap(u=>u.data.map(d=>(s.add(d.uri),d.additionalUris?.forEach(p=>s.add(p)),{providerId:u.providerId,data:d}))),l=e.get(Gt),c=new Map;await Promise.all(Array.from(s).map(async u=>{c.set(u,await l.getTextDocumentValidation({uri:u}))}));let f=e.get(Ci).getStatisticsForCompletion(t);return a.filter(u=>{let p=[u.data.uri,...u.data.additionalUris??[]].every(m=>c.get(m)?.status==="valid");return p?f.addExpectations(u.providerId,[[u.data,"included"]]):f.addExpectations(u.providerId,[[u.data,Vae]]),p}).map(u=>u.data)}o(lB,"getCodeSnippetsFromContextItems");function cB(e,t){let r=e.get(Gt);return t.map(n=>({snippet:n,relativePath:r.getRelativePath(n)}))}o(cB,"addRelativePathToCodeSnippets");function en(e){if(e.children)return Array.isArray(e.children)?e.children.join(""):e.children}o(en,"Text");function dc(e){return e.children}o(dc,"Chunk");function Ge(e,t,r){let n=[];Array.isArray(t.children)?n=t.children:t.children&&(n=[t.children]);let i={...t,children:n};return r&&(i.key=r),{type:e,props:i}}o(Ge,"functionComponentFunction");function qs(e){return{type:"f",children:e}}o(qs,"fragmentFunction");qs.isFragmentFunction=!0;var A3=o((e,t)=>{let[r,n]=t.useState(),[i,s]=t.useState();if(t.useData(Ji,f=>{f.codeSnippets!==r&&n(f.codeSnippets),f.document.uri!==i?.uri&&s(f.document)}),!r||r.length===0||!i)return;let a=cB(e.ctx,r),l=new Map;for(let f of a){let u=f.relativePath??f.snippet.uri,d=l.get(u);d===void 0&&(d=[],l.set(u,d)),d.push(f)}let c=[];for(let[f,u]of l.entries()){let d=u.filter(p=>p.snippet.value.length>0);d.length>0&&c.push({chunkElements:d.map(p=>p.snippet),importance:Math.max(...d.map(p=>p.snippet.importance??0)),uri:f})}if(c.length!==0)return c.sort((f,u)=>u.importance-f.importance),c.reverse(),c.map(f=>{let u=[];return u.push(Ge(en,{children:`Compare ${f.chunkElements.length>1?"these snippets":"this snippet"} from ${f.uri}:`})),f.chunkElements.forEach((d,p)=>{u.push(Ge(en,{source:d,children:d.value},d.id)),f.chunkElements.length>1&&p<f.chunkElements.length-1&&u.push(Ge(en,{children:"---"}))}),Ge(dc,{children:u})})},"CodeSnippets");function tI(e){return e.children}o(tI,"CompletionsContext");function rI(e){return e.children}o(rI,"StableCompletionsContext");function nI(e){return e.children}o(nI,"AdditionalCompletionsContext");function k3(e){return e.name===tI.name||e.name===rI.name||e.name===nI.name}o(k3,"isContextNode");function uB(e,t){if(e.length===0||t.length===0)return{score:e.length+t.length};let r=Array.from({length:e.length}).map(()=>Array.from({length:t.length}).map(()=>0));for(let n=0;n<e.length;n++)r[n][0]=n;for(let n=0;n<t.length;n++)r[0][n]=n;for(let n=0;n<t.length;n++)for(let i=0;i<e.length;i++)r[i][n]=Math.min((i==0?n:r[i-1][n])+1,(n==0?i:r[i][n-1])+1,(i==0||n==0?Math.max(i,n):r[i-1][n-1])+(e[i]==t[n]?0:1));return{score:r[e.length-1][t.length-1]}}o(uB,"findEditDistanceScore");var fB=50;function iI(e){let t=e*4,r=e*.1;return Math.floor(t+r)}o(iI,"approximateMaxCharacters");function yg(e,t){let[r,n]=t.useState(),[i,s]=t.useState(),[a,l]=t.useState(0),[c,f]=t.useState(),[u,d]=t.useState();t.useData(Ji,m=>{let g=m.document;(m.document.uri!==r?.uri||g.getText()!==r?.getText())&&n(g),m.position!==i&&s(m.position),m.suffixMatchThreshold!==c&&f(m.suffixMatchThreshold),m.maxPromptTokens!==a&&l(m.maxPromptTokens),m.tokenizer!==u&&d(m.tokenizer)});let p=iI(a);return Ge(qs,{children:[Ge(Ku,{document:r,position:i,maxCharacters:p}),Ge(O3,{document:r,position:i,suffixMatchThreshold:c,maxCharacters:p,tokenizer:u})]})}o(yg,"CurrentFile");function Ku(e){if(e.document===void 0||e.position===void 0)return Ge(en,{});let t=e.document.getText({start:{line:0,character:0},end:e.position});return t.length>e.maxCharacters&&(t=t.slice(-e.maxCharacters)),Ge(en,{children:t})}o(Ku,"BeforeCursor");function O3(e,t){let[r,n]=t.useState("");if(e.document===void 0||e.position===void 0)return Ge(en,{});let i=e.document.getText({start:e.position,end:{line:Number.MAX_VALUE,character:Number.MAX_VALUE}});i.length>e.maxCharacters&&(i=i.slice(0,e.maxCharacters));let s=i.replace(/^.*/,"").trimStart();if(s==="")return Ge(en,{});if(r===s)return Ge(en,{children:r});let a=s;if(r!==""){let l=Mf(e.tokenizer),c=l.takeFirstTokens(s,fB);c.tokens.length>0&&100*uB(c.tokens,l.takeFirstTokens(r,fB).tokens)?.score<(e.suffixMatchThreshold??Y5)*c.tokens.length&&(a=r)}return a!==r&&n(a),Ge(en,{children:a})}o(O3,"AfterCursor");function dB(e,t){let[r,n]=t.useState(),[i,s]=t.useState(),[a,l]=t.useState(0);t.useData(Ji,f=>{let u=f.document;(f.document.uri!==r?.uri||u.getText()!==r?.getText())&&n(u),f.position!==i&&s(f.position),f.maxPromptTokens!==a&&l(f.maxPromptTokens)});let c=iI(a);return Ge(Ku,{document:r,position:i,maxCharacters:c})}o(dB,"DocumentPrefix");function mB(e,t){let[r,n]=t.useState(),[i,s]=t.useState(),[a,l]=t.useState(0),[c,f]=t.useState(),[u,d]=t.useState();t.useData(Ji,m=>{let g=m.document;(m.document.uri!==r?.uri||g.getText()!==r?.getText())&&n(g),m.position!==i&&s(m.position),m.suffixMatchThreshold!==c&&f(m.suffixMatchThreshold),m.maxPromptTokens!==a&&l(m.maxPromptTokens),m.tokenizer!==u&&d(m.tokenizer)});let p=iI(a);return Ge(O3,{document:r,position:i,suffixMatchThreshold:c,maxCharacters:p,tokenizer:u})}o(mB,"DocumentSuffix");var L3=class{static{o(this,"WishlistElision")}elide(t,r,n,i,s){if(r<=0)throw new Error("Prefix limit must be greater than 0");let[a,l]=this.preparePrefixBlocks(t,s),{elidedSuffix:c,adjustedPrefixTokenLimit:f}=this.elideSuffix(n,i,r,l,s),u=this.elidePrefix(a,f,l,s);return{blocks:[c,...u],cycles:1}}preparePrefixBlocks(t,r){let n=0,i=new Set;return[t.map((a,l)=>{let c=0,u=a.value.split(/([^\n]*\n+)/).filter(p=>p!=="").map(p=>{let m=r.tokenLength(p);return c+=m,n+=m,{line:p,componentPath:a.componentPath,tokens:m}}),d=a.componentPath;if(i.has(d))throw new Error(`Duplicate component path in prefix blocks: ${d}`);return i.add(d),{...a,tokens:c,markedForRemoval:!1,originalIndex:l,lines:u}}),n]}elideSuffix(t,r,n,i,s){let a=t.value;if(a.length===0||r<=0)return{elidedSuffix:{...t,tokens:0,elidedValue:"",elidedTokens:0},adjustedPrefixTokenLimit:n+Math.max(0,r)};i<n&&(r=r+(n-i),n=i);let l=s.takeFirstTokens(a,r);return{elidedSuffix:{...t,value:a,tokens:s.tokenLength(a),elidedValue:l.text,elidedTokens:l.tokens.length},adjustedPrefixTokenLimit:n+Math.max(0,r-l.tokens.length)}}elidePrefix(t,r,n,i){let s=this.removeLowWeightPrefixBlocks(t,r,n),a=s.filter(u=>!u.markedForRemoval).flatMap(u=>u.lines);if(a.length===0)return[];let[l,c]=this.trimPrefixLinesToFit(a,r,i),f=c;return s.map(u=>{if(u.markedForRemoval)return f+u.tokens<=r&&!u.chunks?(f+=u.tokens,{...u,elidedValue:u.value,elidedTokens:u.tokens}):{...u,elidedValue:"",elidedTokens:0};let d=l.filter(m=>m.componentPath===u.componentPath&&m.line!=="").map(m=>m.line).join(""),p=u.tokens;return d!==u.value&&(p=d!==""?i.tokenLength(d):0),{...u,elidedValue:d,elidedTokens:p}})}removeLowWeightPrefixBlocks(t,r,n){let i=n;t.sort((s,a)=>s.weight-a.weight);for(let s of t){if(i<=r)break;if(s.weight!==1&&!(s.chunks&&s.markedForRemoval))if(s.chunks&&s.chunks.size>0)for(let a of t)!a.markedForRemoval&&a.chunks&&[...s.chunks].every(l=>a.chunks?.has(l))&&(a.markedForRemoval=!0,i-=a.tokens);else s.markedForRemoval=!0,i-=s.tokens}return t.sort((s,a)=>s.originalIndex-a.originalIndex)}trimPrefixLinesToFit(t,r,n){let i=0,s=[];for(let a=t.length-1;a>=0;a--){let l=t[a],c=l.tokens;if(i+c<=r)s.unshift(l),i+=c;else break}if(s.length===0){let a=t[t.length-1];if(a&&a.line.length>0){let c=n.takeLastTokens(a.line,r);return s.push({line:c.text,componentPath:a.componentPath,tokens:c.tokens.length}),[s,c.tokens.length]}let l=`Cannot fit prefix within limit of ${r} tokens`;throw new Error(l)}return[s,i]}};function pB(e){return e.map(t=>t.elidedValue).join("")}o(pB,"makePrompt");function gB(e){return e.filter(t=>t.type==="prefix").map(t=>t.elidedValue).join("")}o(gB,"makePrefixPrompt");function hB(e){if(e.length===0)return[];let t=new Map;for(let i of e)if(i.type==="context"&&i.index!==void 0){t.has(i.index)||t.set(i.index,[]);let s=i.elidedValue.trim();s.length>0&&t.get(i.index).push(s)}let r=Math.max(...Array.from(t.keys()),-1),n=[];for(let i=0;i<=r;i++){let s=t.get(i);if(s&&s.length>0){let a=s.join(`
`).trim();n.push(a)}else n.push("")}return n}o(hB,"makeContextPrompt");var Em=class{constructor(t,r=oI()){this.snapshot=t;this.transformers=r}static{o(this,"SnapshotWalker")}walkSnapshot(t){this.walkSnapshotNode(this.snapshot,void 0,t,{})}walkSnapshotNode(t,r,n,i){let s=this.transformers.reduce((l,c)=>c(t,r,l),{...i});if(n(t,r,s))for(let l of t.children??[])this.walkSnapshotNode(l,t,n,s)}};function oI(){return[(e,t,r)=>{r.weight===void 0&&(r.weight=1);let n=e.props?.weight??1,i=typeof n=="number"?Math.max(0,Math.min(1,n)):1;return{...r,weight:i*r.weight}},(e,t,r)=>{if(e.name===dc.name){let n=r.chunks?new Set(r.chunks):new Set;return n.add(e.path),{...r,chunks:n}}return r},(e,t,r)=>e.props?.source!==void 0?{...r,source:e.props.source}:r]}o(oI,"defaultTransformers");var sI={abap:{lineComment:{start:'"',end:""},markdownLanguageIds:["abap","sap-abap"]},aspdotnet:{lineComment:{start:"<%--",end:"--%>"}},bat:{lineComment:{start:"REM",end:""}},bibtex:{lineComment:{start:"%",end:""},markdownLanguageIds:["bibtex"]},blade:{lineComment:{start:"#",end:""}},BluespecSystemVerilog:{lineComment:{start:"//",end:""}},c:{lineComment:{start:"//",end:""},markdownLanguageIds:["c","h"]},clojure:{lineComment:{start:";",end:""},markdownLanguageIds:["clojure","clj"]},coffeescript:{lineComment:{start:"//",end:""},markdownLanguageIds:["coffeescript","coffee","cson","iced"]},cpp:{lineComment:{start:"//",end:""},markdownLanguageIds:["cpp","hpp","cc","hh","c++","h++","cxx","hxx"]},csharp:{lineComment:{start:"//",end:""},markdownLanguageIds:["csharp","cs"]},css:{lineComment:{start:"/*",end:"*/"}},cuda:{lineComment:{start:"//",end:""}},dart:{lineComment:{start:"//",end:""}},dockerfile:{lineComment:{start:"#",end:""},markdownLanguageIds:["dockerfile","docker"]},dotenv:{lineComment:{start:"#",end:""}},elixir:{lineComment:{start:"#",end:""}},erb:{lineComment:{start:"<%#",end:"%>"}},erlang:{lineComment:{start:"%",end:""},markdownLanguageIds:["erlang","erl"]},fsharp:{lineComment:{start:"//",end:""},markdownLanguageIds:["fsharp","fs","fsx","fsi","fsscript"]},go:{lineComment:{start:"//",end:""},markdownLanguageIds:["go","golang"]},graphql:{lineComment:{start:"#",end:""}},groovy:{lineComment:{start:"//",end:""}},haml:{lineComment:{start:"-#",end:""}},handlebars:{lineComment:{start:"{{!",end:"}}"},markdownLanguageIds:["handlebars","hbs","html.hbs","html.handlebars"]},haskell:{lineComment:{start:"--",end:""},markdownLanguageIds:["haskell","hs"]},hlsl:{lineComment:{start:"//",end:""}},html:{lineComment:{start:"<!--",end:"-->"},markdownLanguageIds:["html","xhtml"]},ini:{lineComment:{start:";",end:""}},java:{lineComment:{start:"//",end:""},markdownLanguageIds:["java","jsp"]},javascript:{lineComment:{start:"//",end:""},markdownLanguageIds:["javascript","js"]},javascriptreact:{lineComment:{start:"//",end:""},markdownLanguageIds:["jsx"]},jsonc:{lineComment:{start:"//",end:""}},jsx:{lineComment:{start:"//",end:""},markdownLanguageIds:["jsx"]},julia:{lineComment:{start:"#",end:""},markdownLanguageIds:["julia","jl"]},kotlin:{lineComment:{start:"//",end:""},markdownLanguageIds:["kotlin","kt"]},latex:{lineComment:{start:"%",end:""},markdownLanguageIds:["tex"]},legend:{lineComment:{start:"//",end:""}},less:{lineComment:{start:"//",end:""}},lua:{lineComment:{start:"--",end:""},markdownLanguageIds:["lua","pluto"]},makefile:{lineComment:{start:"#",end:""},markdownLanguageIds:["makefile","mk","mak","make"]},markdown:{lineComment:{start:"[]: #",end:""},markdownLanguageIds:["markdown","md","mkdown","mkd"]},"objective-c":{lineComment:{start:"//",end:""},markdownLanguageIds:["objectivec","mm","objc","obj-c"]},"objective-cpp":{lineComment:{start:"//",end:""},markdownLanguageIds:["objectivec++","objc+"]},perl:{lineComment:{start:"#",end:""},markdownLanguageIds:["perl","pl","pm"]},php:{lineComment:{start:"//",end:""}},powershell:{lineComment:{start:"#",end:""},markdownLanguageIds:["powershell","ps","ps1"]},pug:{lineComment:{start:"//",end:""}},python:{lineComment:{start:"#",end:""},markdownLanguageIds:["python","py","gyp"]},ql:{lineComment:{start:"//",end:""}},r:{lineComment:{start:"#",end:""}},razor:{lineComment:{start:"<!--",end:"-->"},markdownLanguageIds:["cshtml","razor","razor-cshtml"]},ruby:{lineComment:{start:"#",end:""},markdownLanguageIds:["ruby","rb","gemspec","podspec","thor","irb"]},rust:{lineComment:{start:"//",end:""},markdownLanguageIds:["rust","rs"]},sass:{lineComment:{start:"//",end:""}},scala:{lineComment:{start:"//",end:""}},scss:{lineComment:{start:"//",end:""}},shellscript:{lineComment:{start:"#",end:""},markdownLanguageIds:["bash","sh","zsh"]},slang:{lineComment:{start:"//",end:""}},slim:{lineComment:{start:"/",end:""}},solidity:{lineComment:{start:"//",end:""},markdownLanguageIds:["solidity","sol"]},sql:{lineComment:{start:"--",end:""}},stylus:{lineComment:{start:"//",end:""}},svelte:{lineComment:{start:"<!--",end:"-->"}},swift:{lineComment:{start:"//",end:""}},systemverilog:{lineComment:{start:"//",end:""}},terraform:{lineComment:{start:"#",end:""}},tex:{lineComment:{start:"%",end:""}},typescript:{lineComment:{start:"//",end:""},markdownLanguageIds:["typescript","ts"]},typescriptreact:{lineComment:{start:"//",end:""},markdownLanguageIds:["tsx"]},vb:{lineComment:{start:"'",end:""},markdownLanguageIds:["vb","vbscript"]},verilog:{lineComment:{start:"//",end:""}},"vue-html":{lineComment:{start:"<!--",end:"-->"}},vue:{lineComment:{start:"//",end:""}},xml:{lineComment:{start:"<!--",end:"-->"}},xsl:{lineComment:{start:"<!--",end:"-->"}},yaml:{lineComment:{start:"#",end:""},markdownLanguageIds:["yaml","yml"]}},xB={};for(let[e,t]of Object.entries(sI))if(t.markdownLanguageIds)for(let r of t.markdownLanguageIds)xB[r]=e;else xB[e]=e;var Kae={start:"//",end:""},Yae=["php","plaintext"],aI={html:"<!DOCTYPE html>",python:"#!/usr/bin/env python3",ruby:"#!/usr/bin/env ruby",shellscript:"#!/bin/sh",yaml:"# YAML data"};function bB(e){return Object.values(aI).includes(e.trim())}o(bB,"isShebangLine");function Xae({source:e}){return e.startsWith("#!")||e.startsWith("<!DOCTYPE")}o(Xae,"hasLanguageMarker");function Jae(e,t){let r=sI[t]?sI[t].lineComment:Kae;if(r){let n=r.end==""?"":" "+r.end;return`${r.start} ${e}${n}`}return""}o(Jae,"comment");function Cm(e,t){if(e==="")return"";let r=e.endsWith(`
`),i=(r?e.slice(0,-1):e).split(`
`).map(s=>Jae(s,t)).join(`
`);return r?i+`
`:i}o(Cm,"commentBlockAsSingles");function _B(e){let{languageId:t}=e;return Yae.indexOf(t)===-1&&!Xae(e)?t in aI?aI[t]:`Language: ${t}`:""}o(_B,"getLanguageMarker");function yB(e){return e.relativePath?`Path: ${e.relativePath}`:""}o(yB,"getPathMarker");function vg(e){return e===""||e.endsWith(`
`)?e:e+`
`}o(vg,"newLineEnded");var Zae=5,Sm=class{constructor(){this.renderId=0;this.formatPrefix=pB}static{o(this,"CompletionsPromptRenderer")}render(t,r,n){let i=this.renderId++,s=performance.now();try{if(n?.isCancellationRequested)return{status:"cancelled"};let a=r.delimiter??"",l=r.tokenizer??"o200k_base",{prefixBlocks:c,suffixBlock:f,componentStatistics:u}=this.processSnapshot(t,a,r.languageId),{prefixTokenLimit:d,suffixTokenLimit:p}=this.getPromptLimits(f,r),m=performance.now(),g=new L3,{blocks:[h,..._]}=g.elide(c,d,f,p,Mf(l)),b=performance.now(),x=this.formatPrefix(_),y=this.formatContext?this.formatContext(_):void 0,E=h.elidedValue,S=_.reduce((w,z)=>w+z.elidedTokens,0);return u.push(...Qae([..._,h])),{prefix:x,prefixTokens:S,suffix:E,suffixTokens:h.elidedTokens,context:y,status:"ok",metadata:{renderId:i,tokenizer:l,elisionTimeMs:b-m,renderTimeMs:performance.now()-s,componentStatistics:u,updateDataTimeMs:u.reduce((w,z)=>w+(z.updateDataTimeMs??0),0)}}}catch(a){return{status:"error",error:a}}}getPromptLimits(t,r){let n=t?.value??"",i=r.promptTokenLimit,s=r.suffixPercent;if(n.length==0||s==0)return{prefixTokenLimit:i,suffixTokenLimit:0};i=n.length>0?i-Zae:i;let a=Math.ceil(i*(s/100));return{prefixTokenLimit:i-a,suffixTokenLimit:a}}processSnapshot(t,r,n){let i=[],s=[],a=[],l=!1;if(new Em(t,lI).walkSnapshot((u,d,p)=>{if(u===t||(u.name===yg.name&&(l=!0),u.statistics.updateDataTimeMs&&u.statistics.updateDataTimeMs>0&&a.push({componentPath:u.path,updateDataTimeMs:u.statistics.updateDataTimeMs}),u.value===void 0||u.value===""))return!0;let m=p.chunks;if(p.type==="suffix")s.push({value:Tg(u.value),type:"suffix",weight:p.weight,componentPath:u.path,nodeStatistics:u.statistics,chunks:m,source:p.source});else{let g=u.value.endsWith(r)?u.value:u.value+r,h=g;p.type==="prefix"?h=u.value:bB(u.value)?h=g:h=Cm(g,n),i.push({type:p.type==="prefix"?"prefix":"context",value:Tg(h),weight:p.weight,componentPath:u.path,nodeStatistics:u.statistics,chunks:m,source:p.source})}return!0}),!l)throw new Error(`Node of type ${yg.name} not found`);if(s.length>1)throw new Error("Only one suffix is allowed");let f=s.length===1?s[0]:{componentPath:"",value:"",weight:1,nodeStatistics:{},type:"suffix"};return{prefixBlocks:i,suffixBlock:f,componentStatistics:a}}},lI=[...oI(),(e,t,r)=>k3(e)?{...r,type:"context"}:r,(e,t,r)=>e.name===Ku.name?{...r,type:"prefix"}:r,(e,t,r)=>e.name===O3.name?{...r,type:"suffix"}:r];function Qae(e){return e.map(t=>{let r={componentPath:t.componentPath};return t.tokens!==0&&(r.expectedTokens=t.tokens,r.actualTokens=t.elidedTokens),t.nodeStatistics.updateDataTimeMs!==void 0&&(r.updateDataTimeMs=t.nodeStatistics.updateDataTimeMs),t.source&&(r.source=t.source),r})}o(Qae,"computeComponentStatistics");function Tg(e){return e.replace(/\r\n?/g,`
`)}o(Tg,"normalizeLineEndings");var F3=o((e,t)=>{let[r,n]=t.useState();if(t.useData(Ji,i=>{i.document.uri!==r?.uri&&n(i.document)}),r){let i=e.ctx.get(Gt),s=i.getRelativePath(r),a={uri:r.uri,source:r.getText(),relativePath:s,languageId:r.detectedLanguageId},l=i.findNotebook(r);return a.relativePath&&!l?Ge(ele,{docInfo:a}):Ge(tle,{docInfo:a})}},"DocumentMarker"),ele=o(e=>Ge(en,{children:yB(e.docInfo)}),"PathMarker"),tle=o(e=>Ge(en,{children:_B(e.docInfo)}),"LanguageMarker");function Ig(e){if(!e()){debugger;e(),mm(new wn("Assertion Failed"))}}o(Ig,"assertFn");var mc=o((e,t)=>e===t,"strictEquals");var vB=class e{static{o(this,"Node")}static{this.Undefined=new e(void 0)}constructor(t){this.element=t,this.next=e.Undefined,this.prev=e.Undefined}};var rle=globalThis.performance&&typeof globalThis.performance.now=="function",M3=class e{static{o(this,"StopWatch")}static create(t){return new e(t)}constructor(t){this._now=rle&&t===!1?Date.now:globalThis.performance.now.bind(globalThis.performance),this._startTime=this._now(),this._stopTime=-1}stop(){this._stopTime=this._now()}reset(){this._startTime=this._now(),this._stopTime=-1}elapsed(){return this._stopTime!==-1?this._stopTime-this._startTime:this._now()-this._startTime}};var TB=!1,nle=!1,Cg;(A=>{A.None=o(()=>Co.None,"None");function t(I){if(nle){let{onDidAddListener:v}=I,N=Eg.create(),T=0;I.onDidAddListener=()=>{++T===2&&(console.warn("snapshotted emitter LIKELY used public and SHOULD HAVE BEEN created with DisposableStore. snapshotted here"),N.print()),v?.()}}}o(t,"_addLeakageTraceLogic");function r(I,v){return m(I,()=>{},0,void 0,!0,void 0,v)}A.defer=r,o(r,"defer");function n(I){return(v,N=null,T)=>{let D=!1,k;return k=I(L=>{if(!D)return k?k.dispose():D=!0,v.call(N,L)},null,T),D&&k.dispose(),k}}A.once=n,o(n,"once");function i(I,v){return A.once(A.filter(I,v))}A.onceIf=i,o(i,"onceIf");function s(I,v,N){return d((T,D=null,k)=>I(L=>T.call(D,v(L)),null,k),N)}A.map=s,o(s,"map");function a(I,v,N){return d((T,D=null,k)=>I(L=>{v(L),T.call(D,L)},null,k),N)}A.forEach=a,o(a,"forEach");function l(I,v,N){return d((T,D=null,k)=>I(L=>v(L)&&T.call(D,L),null,k),N)}A.filter=l,o(l,"filter");function c(I){return I}A.signal=c,o(c,"signal");function f(...I){return(v,N=null,T)=>{let D=yM(...I.map(k=>k(L=>v.call(N,L))));return p(D,T)}}A.any=f,o(f,"any");function u(I,v,N,T){let D=N;return s(I,k=>(D=v(D,k),D),T)}A.reduce=u,o(u,"reduce");function d(I,v){let N,T={onWillAddFirstListener(){N=I(D.fire,D)},onDidRemoveLastListener(){N?.dispose()}};v||t(T);let D=new Ws(T);return v?.add(D),D.event}o(d,"snapshot");function p(I,v){return v instanceof Array?v.push(I):v&&v.add(I),I}o(p,"addAndReturnDisposable");function m(I,v,N=100,T=!1,D=!1,k,L){let U,H,ae,ye=0,he,Ue={leakWarningThreshold:k,onWillAddFirstListener(){U=I(Ve=>{ye++,H=v(H,Ve),T&&!ae&&(He.fire(H),H=void 0),he=o(()=>{let Ze=H;H=void 0,ae=void 0,(!T||ye>1)&&He.fire(Ze),ye=0},"doFire"),typeof N=="number"?(clearTimeout(ae),ae=setTimeout(he,N)):ae===void 0&&(ae=0,queueMicrotask(he))})},onWillRemoveListener(){D&&ye>0&&he?.()},onDidRemoveLastListener(){he=void 0,U.dispose()}};L||t(Ue);let He=new Ws(Ue);return L?.add(He),He.event}A.debounce=m,o(m,"debounce");function g(I,v=0,N){return A.debounce(I,(T,D)=>T?(T.push(D),T):[D],v,void 0,!0,void 0,N)}A.accumulate=g,o(g,"accumulate");function h(I,v=(T,D)=>T===D,N){let T=!0,D;return l(I,k=>{let L=T||!v(k,D);return T=!1,D=k,L},N)}A.latch=h,o(h,"latch");function _(I,v,N){return[A.filter(I,v,N),A.filter(I,T=>!v(T),N)]}A.split=_,o(_,"split");function b(I,v=!1,N=[],T){let D=N.slice(),k=I(H=>{D?D.push(H):U.fire(H)});T&&T.add(k);let L=o(()=>{D?.forEach(H=>U.fire(H)),D=null},"flush"),U=new Ws({onWillAddFirstListener(){k||(k=I(H=>U.fire(H)),T&&T.add(k))},onDidAddFirstListener(){D&&(v?setTimeout(L):L())},onDidRemoveLastListener(){k&&k.dispose(),k=null}});return T&&T.add(U),U.event}A.buffer=b,o(b,"buffer");function x(I,v){return o((T,D,k)=>{let L=v(new E);return I(function(U){let H=L.evaluate(U);H!==y&&T.call(D,H)},void 0,k)},"fn")}A.chain=x,o(x,"chain");let y=Symbol("HaltChainable");class E{constructor(){this.steps=[]}static{o(this,"ChainableSynthesis")}map(v){return this.steps.push(v),this}forEach(v){return this.steps.push(N=>(v(N),N)),this}filter(v){return this.steps.push(N=>v(N)?N:y),this}reduce(v,N){let T=N;return this.steps.push(D=>(T=v(T,D),T)),this}latch(v=(N,T)=>N===T){let N=!0,T;return this.steps.push(D=>{let k=N||!v(D,T);return N=!1,T=D,k?D:y}),this}evaluate(v){for(let N of this.steps)if(v=N(v),v===y)break;return v}}function S(I,v,N=T=>T){let T=o((...U)=>L.fire(N(...U)),"fn"),D=o(()=>I.on(v,T),"onFirstListenerAdd"),k=o(()=>I.removeListener(v,T),"onLastListenerRemove"),L=new Ws({onWillAddFirstListener:D,onDidRemoveLastListener:k});return L.event}A.fromNodeEventEmitter=S,o(S,"fromNodeEventEmitter");function w(I,v,N=T=>T){let T=o((...U)=>L.fire(N(...U)),"fn"),D=o(()=>I.addEventListener(v,T),"onFirstListenerAdd"),k=o(()=>I.removeEventListener(v,T),"onLastListenerRemove"),L=new Ws({onWillAddFirstListener:D,onDidRemoveLastListener:k});return L.event}A.fromDOMEventEmitter=w,o(w,"fromDOMEventEmitter");function z(I,v){return new Promise(N=>n(I)(N,null,v))}A.toPromise=z,o(z,"toPromise");function V(I){let v=new Ws;return I.then(N=>{v.fire(N)},()=>{v.fire(void 0)}).finally(()=>{v.dispose()}),v.event}A.fromPromise=V,o(V,"fromPromise");function W(I,v){return I(N=>v.fire(N))}A.forward=W,o(W,"forward");function Y(I,v,N){return v(N),I(T=>v(T))}A.runAndSubscribe=Y,o(Y,"runAndSubscribe");class R{constructor(v,N){this._observable=v;this._counter=0;this._hasChanged=!1;let T={onWillAddFirstListener:o(()=>{v.addObserver(this),this._observable.reportChanges()},"onWillAddFirstListener"),onDidRemoveLastListener:o(()=>{v.removeObserver(this)},"onDidRemoveLastListener")};N||t(T),this.emitter=new Ws(T),N&&N.add(this.emitter)}static{o(this,"EmitterObserver")}beginUpdate(v){this._counter++}handlePossibleChange(v){}handleChange(v,N){this._hasChanged=!0}endUpdate(v){this._counter--,this._counter===0&&(this._observable.reportChanges(),this._hasChanged&&(this._hasChanged=!1,this.emitter.fire(this._observable.get())))}}function P(I,v){return new R(I,v).emitter.event}A.fromObservable=P,o(P,"fromObservable");function G(I){return(v,N,T)=>{let D=0,k=!1,L={beginUpdate(){D++},endUpdate(){D--,D===0&&(I.reportChanges(),k&&(k=!1,v.call(N)))},handlePossibleChange(){},handleChange(){k=!0}};I.addObserver(L),I.reportChanges();let U={dispose(){I.removeObserver(L)}};return T instanceof L0?T.add(U):Array.isArray(T)&&T.push(U),U}}A.fromObservableLight=G,o(G,"fromObservableLight")})(Cg||={});var cI=class e{constructor(t){this.listenerCount=0;this.invocationCount=0;this.elapsedOverall=0;this.durations=[];this.name=`${t}_${e._idPool++}`,e.all.add(this)}static{o(this,"EventProfiling")}static{this.all=new Set}static{this._idPool=0}start(t){this._stopWatch=new M3,this.listenerCount=t}stop(){if(this._stopWatch){let t=this._stopWatch.elapsed();this.durations.push(t),this.elapsedOverall+=t,this.invocationCount+=1,this._stopWatch=void 0}}},IB=-1;var uI=class e{constructor(t,r,n=(e._idPool++).toString(16).padStart(3,"0")){this._errorHandler=t;this.threshold=r;this.name=n;this._warnCountdown=0}static{o(this,"LeakageMonitor")}static{this._idPool=1}dispose(){this._stacks?.clear()}check(t,r){let n=this.threshold;if(n<=0||r<n)return;this._stacks||(this._stacks=new Map);let i=this._stacks.get(t.value)||0;if(this._stacks.set(t.value,i+1),this._warnCountdown-=1,this._warnCountdown<=0){this._warnCountdown=n*.5;let[s,a]=this.getMostFrequentStack(),l=`[${this.name}] potential listener LEAK detected, having ${r} listeners already. MOST frequent listener (${a}):`;console.warn(l),console.warn(s);let c=new fI(l,s);this._errorHandler(c)}return()=>{let s=this._stacks.get(t.value)||0;this._stacks.set(t.value,s-1)}}getMostFrequentStack(){if(!this._stacks)return;let t,r=0;for(let[n,i]of this._stacks)(!t||r<i)&&(t=[n,i],r=i);return t}},Eg=class e{constructor(t){this.value=t}static{o(this,"Stacktrace")}static create(){let t=new Error;return new e(t.stack??"")}print(){console.warn(this.value.split(`
`).slice(2).join(`
`))}},fI=class extends Error{static{o(this,"ListenerLeakError")}constructor(t,r){super(t),this.name="ListenerLeakError",this.stack=r}},dI=class extends Error{static{o(this,"ListenerRefusalError")}constructor(t,r){super(t),this.name="ListenerRefusalError",this.stack=r}},ile=0,wm=class{constructor(t){this.value=t;this.id=ile++}static{o(this,"UniqueContainer")}},ole=2,sle=o((e,t)=>{if(e instanceof wm)t(e);else for(let r=0;r<e.length;r++){let n=e[r];n&&t(n)}},"forEachListener"),Ws=class{constructor(t){this._size=0;this._options=t,this._leakageMon=IB>0||this._options?.leakWarningThreshold?new uI(t?.onListenerError??mm,this._options?.leakWarningThreshold??IB):void 0,this._perfMon=this._options?._profName?new cI(this._options._profName):void 0,this._deliveryQueue=this._options?.deliveryQueue}static{o(this,"Emitter")}dispose(){if(!this._disposed){if(this._disposed=!0,this._deliveryQueue?.current===this&&this._deliveryQueue.reset(),this._listeners){if(TB){let t=this._listeners;queueMicrotask(()=>{sle(t,r=>r.stack?.print())})}this._listeners=void 0,this._size=0}this._options?.onDidRemoveLastListener?.(),this._leakageMon?.dispose()}}get event(){return this._event??=(t,r,n)=>{if(this._leakageMon&&this._size>this._leakageMon.threshold**2){let c=`[${this._leakageMon.name}] REFUSES to accept new listeners because it exceeded its threshold by far (${this._size} vs ${this._leakageMon.threshold})`;console.warn(c);let f=this._leakageMon.getMostFrequentStack()??["UNKNOWN stack",-1],u=new dI(`${c}. HINT: Stack shows most frequent listener (${f[1]}-times)`,f[0]);return(this._options?.onListenerError||mm)(u),Co.None}if(this._disposed)return Co.None;r&&(t=t.bind(r));let i=new wm(t),s,a;this._leakageMon&&this._size>=Math.ceil(this._leakageMon.threshold*.2)&&(i.stack=Eg.create(),s=this._leakageMon.check(i.stack,this._size+1)),TB&&(i.stack=a??Eg.create()),this._listeners?this._listeners instanceof wm?(this._deliveryQueue??=new mI,this._listeners=[this._listeners,i]):this._listeners.push(i):(this._options?.onWillAddFirstListener?.(this),this._listeners=i,this._options?.onDidAddFirstListener?.(this)),this._options?.onDidAddListener?.(this),this._size++;let l=ja(()=>{s?.(),this._removeListener(i)});return n instanceof L0?n.add(l):Array.isArray(n)&&n.push(l),l},this._event}_removeListener(t){if(this._options?.onWillRemoveListener?.(this),!this._listeners)return;if(this._size===1){this._listeners=void 0,this._options?.onDidRemoveLastListener?.(this),this._size=0;return}let r=this._listeners,n=r.indexOf(t);if(n===-1)throw console.log("disposed?",this._disposed),console.log("size?",this._size),console.log("arr?",JSON.stringify(this._listeners)),new Error("Attempted to dispose unknown listener");this._size--,r[n]=void 0;let i=this._deliveryQueue.current===this;if(this._size*ole<=r.length){let s=0;for(let a=0;a<r.length;a++)r[a]?r[s++]=r[a]:i&&s<this._deliveryQueue.end&&(this._deliveryQueue.end--,s<this._deliveryQueue.i&&this._deliveryQueue.i--);r.length=s}}_deliver(t,r){if(!t)return;let n=this._options?.onListenerError||mm;if(!n){t.value(r);return}try{t.value(r)}catch(i){n(i)}}_deliverQueue(t){let r=t.current._listeners;for(;t.i<t.end;)this._deliver(r[t.i++],t.value);t.reset()}fire(t){if(this._deliveryQueue?.current&&(this._deliverQueue(this._deliveryQueue),this._perfMon?.stop()),this._perfMon?.start(this._size),this._listeners)if(this._listeners instanceof wm)this._deliver(this._listeners,t);else{let r=this._deliveryQueue;r.enqueue(this,t,this._listeners.length),this._deliverQueue(r)}this._perfMon?.stop()}hasListeners(){return this._size>0}};var mI=class{constructor(){this.i=-1;this.end=0}static{o(this,"EventDeliveryQueuePrivate")}enqueue(t,r,n){this.i=0,this.end=n,this.current=t,this.value=r}reset(){this.i=this.end,this.current=void 0,this.value=void 0}};var Gs=class{constructor(t,r,n){this.owner=t;this.debugNameSource=r;this.referenceFn=n}static{o(this,"DebugNameData")}getDebugName(t){return wB(t,this)}},EB=new Map,pI=new WeakMap;function wB(e,t){let r=pI.get(e);if(r)return r;let n=ale(e,t);if(n){let i=EB.get(n)??0;i++,EB.set(n,i);let s=i===1?n:`${n}#${i}`;return pI.set(e,s),s}}o(wB,"getDebugName");function ale(e,t){let r=pI.get(e);if(r)return r;let n=t.owner?cle(t.owner)+".":"",i,s=t.debugNameSource;if(s!==void 0)if(typeof s=="function"){if(i=s(),i!==void 0)return n+i}else return n+s;let a=t.referenceFn;if(a!==void 0&&(i=U3(a),i!==void 0))return n+i;if(t.owner!==void 0){let l=lle(t.owner,e);if(l!==void 0)return n+l}}o(ale,"computeDebugName");function lle(e,t){for(let r in e)if(e[r]===t)return r}o(lle,"findKey");var CB=new Map,SB=new WeakMap;function cle(e){let t=SB.get(e);if(t)return t;let r=ule(e),n=CB.get(r)??0;n++,CB.set(r,n);let i=n===1?r:`${r}#${n}`;return SB.set(e,i),i}o(cle,"formatOwner");function ule(e){let t=e.constructor;return t?t.name:"Object"}o(ule,"getClassName");function U3(e){let t=e.toString(),n=/\/\*\*\s*@description\s*([^*]*)\*\//.exec(t);return(n?n[1]:void 0)?.trim()}o(U3,"getFunctionName");var Yu;function j3(e){Yu?Yu instanceof B3?Yu.loggers.push(e):Yu=new B3([Yu,e]):Yu=e}o(j3,"addLogger");function tn(){return Yu}o(tn,"getLogger");var gI;function PB(e){gI=e}o(PB,"setLogObservableFn");function DB(e){gI&&gI(e)}o(DB,"logObservable");var B3=class{constructor(t){this.loggers=t}static{o(this,"ComposedLogger")}handleObservableCreated(t){for(let r of this.loggers)r.handleObservableCreated(t)}handleOnListenerCountChanged(t,r){for(let n of this.loggers)n.handleOnListenerCountChanged(t,r)}handleObservableUpdated(t,r){for(let n of this.loggers)n.handleObservableUpdated(t,r)}handleAutorunCreated(t){for(let r of this.loggers)r.handleAutorunCreated(t)}handleAutorunDisposed(t){for(let r of this.loggers)r.handleAutorunDisposed(t)}handleAutorunDependencyChanged(t,r,n){for(let i of this.loggers)i.handleAutorunDependencyChanged(t,r,n)}handleAutorunStarted(t){for(let r of this.loggers)r.handleAutorunStarted(t)}handleAutorunFinished(t){for(let r of this.loggers)r.handleAutorunFinished(t)}handleDerivedDependencyChanged(t,r,n){for(let i of this.loggers)i.handleDerivedDependencyChanged(t,r,n)}handleDerivedCleared(t){for(let r of this.loggers)r.handleDerivedCleared(t)}handleBeginTransaction(t){for(let r of this.loggers)r.handleBeginTransaction(t)}handleEndTransaction(t){for(let r of this.loggers)r.handleEndTransaction(t)}};var RB;function NB(e){RB=e}o(NB,"_setRecomputeInitiallyAndOnChange");var AB;function kB(e){AB=e}o(kB,"_setKeepObserved");var hI;function OB(e){hI=e}o(OB,"_setDerivedOpts");var $3=class{static{o(this,"ConvenientObservable")}get TChange(){return null}reportChanges(){this.get()}read(t){return t?t.readObservable(this):this.get()}map(t,r){let n=r===void 0?void 0:t,i=r===void 0?t:r;return hI({owner:n,debugName:o(()=>{let s=U3(i);if(s!==void 0)return s;let l=/^\s*\(?\s*([a-zA-Z_$][a-zA-Z_$0-9]*)\s*\)?\s*=>\s*\1(?:\??)\.([a-zA-Z_$][a-zA-Z_$0-9]*)\s*$/.exec(i.toString());if(l)return`${this.debugName}.${l[2]}`;if(!n)return`${this.debugName} (mapped)`},"debugName"),debugReferenceFn:i},s=>i(this.read(s),s))}flatten(){return hI({owner:void 0,debugName:o(()=>`${this.debugName} (flattened)`,"debugName")},t=>this.read(t).read(t))}recomputeInitiallyAndOnChange(t,r){return t.add(RB(this,r)),this}keepObserved(t){return t.add(AB(this)),this}get debugValue(){return this.get()}},Xu=class extends $3{constructor(){super();this.observers=new Set;tn()?.handleObservableCreated(this)}static{o(this,"BaseObservable")}addObserver(r){let n=this.observers.size;this.observers.add(r),n===0&&this.onFirstObserverAdded(),n!==this.observers.size&&tn()?.handleOnListenerCountChanged(this,this.observers.size)}removeObserver(r){let n=this.observers.delete(r);n&&this.observers.size===0&&this.onLastObserverRemoved(),n&&tn()?.handleOnListenerCountChanged(this,this.observers.size)}onFirstObserverAdded(){}onLastObserverRemoved(){}log(){let r=!!tn();return DB(this),r||tn()?.handleObservableCreated(this),this}};function q3(e,t){let r=new Sg(e,t);try{e(r)}finally{r.finish()}}o(q3,"transaction");function xI(e,t,r){e?t(e):q3(t,r)}o(xI,"subtransaction");var Sg=class{constructor(t,r){this._fn=t;this._getDebugName=r;this.updatingObservers=[];tn()?.handleBeginTransaction(this)}static{o(this,"TransactionImpl")}getDebugName(){return this._getDebugName?this._getDebugName():U3(this._fn)}updateObserver(t,r){this.updatingObservers.push({observer:t,observable:r}),t.beginUpdate(r)}finish(){let t=this.updatingObservers;for(let r=0;r<t.length;r++){let{observer:n,observable:i}=t[r];n.endUpdate(i)}this.updatingObservers=null,tn()?.handleEndTransaction(this)}};function wg(e){return new W3(new Gs(void 0,void 0,e),e,void 0,void 0)}o(wg,"autorun");var W3=class{constructor(t,r,n,i){this._debugNameData=t;this._runFn=r;this.createChangeSummary=n;this._handleChange=i;this.state=2;this.updateCount=0;this.disposed=!1;this.dependencies=new Set;this.dependenciesToBeRemoved=new Set;this._isRunning=!1;this.changeSummary=this.createChangeSummary?.(),tn()?.handleAutorunCreated(this),this._runIfNeeded(),gm(this)}static{o(this,"AutorunObserver")}get debugName(){return this._debugNameData.getDebugName(this)??"(anonymous)"}dispose(){this.disposed=!0;for(let t of this.dependencies)t.removeObserver(this);this.dependencies.clear(),tn()?.handleAutorunDisposed(this),hm(this)}_runIfNeeded(){if(this.state===3)return;let t=this.dependenciesToBeRemoved;this.dependenciesToBeRemoved=this.dependencies,this.dependencies=t,this.state=3;try{if(!this.disposed){tn()?.handleAutorunStarted(this);let r=this.changeSummary;try{this.changeSummary=this.createChangeSummary?.(),this._isRunning=!0,this._runFn(this,r)}catch(n){$u(n)}finally{this._isRunning=!1}}}finally{this.disposed||tn()?.handleAutorunFinished(this);for(let r of this.dependenciesToBeRemoved)r.removeObserver(this);this.dependenciesToBeRemoved.clear()}}toString(){return`Autorun<${this.debugName}>`}beginUpdate(t){this.state===3&&(this.state=1),this.updateCount++}endUpdate(t){try{if(this.updateCount===1)do{if(this.state===1){this.state=3;for(let r of this.dependencies)if(r.reportChanges(),this.state===2)break}this._runIfNeeded()}while(this.state!==3)}finally{this.updateCount--}Ig(()=>this.updateCount>=0)}handlePossibleChange(t){this.state===3&&this._isDependency(t)&&(this.state=1)}handleChange(t,r){if(this._isDependency(t)){tn()?.handleAutorunDependencyChanged(this,t,r);try{(this._handleChange?this._handleChange({changedObservable:t,change:r,didChange:o(i=>i===t,"didChange")},this.changeSummary):!0)&&(this.state=2)}catch(n){$u(n)}}}_isDependency(t){return this.dependencies.has(t)&&!this.dependenciesToBeRemoved.has(t)}readObservable(t){if(!this._isRunning)throw new wn("The reader object cannot be used outside its compute function!");if(this.disposed)return t.get();t.addObserver(this);let r=t.get();return this.dependencies.add(t),this.dependenciesToBeRemoved.delete(t),r}};(t=>t.Observer=W3)(wg||={});function bI(e,t){return new Ju(new Gs(e.owner,e.debugName,e.debugReferenceFn),t,void 0,void 0,e.onLastObserverRemoved,e.equalsFn??mc)}o(bI,"derivedOpts");OB(bI);var Ju=class extends Xu{constructor(r,n,i,s,a=void 0,l){super();this._debugNameData=r;this._computeFn=n;this.createChangeSummary=i;this._handleChange=s;this._handleLastObserverRemoved=a;this._equalityComparator=l;this.state=0;this.value=void 0;this.updateCount=0;this.dependencies=new Set;this.dependenciesToBeRemoved=new Set;this.changeSummary=void 0;this._isUpdating=!1;this._isComputing=!1;this._removedObserverToCallEndUpdateOn=null;this._isReaderValid=!1;this.changeSummary=this.createChangeSummary?.()}static{o(this,"Derived")}get debugName(){return this._debugNameData.getDebugName(this)??"(anonymous)"}onLastObserverRemoved(){this.state=0,this.value=void 0,tn()?.handleDerivedCleared(this);for(let r of this.dependencies)r.removeObserver(this);this.dependencies.clear(),this._handleLastObserverRemoved?.()}get(){if(this._isComputing,this.observers.size===0){let n;try{this._isReaderValid=!0,n=this._computeFn(this,this.createChangeSummary?.())}finally{this._isReaderValid=!1}return this.onLastObserverRemoved(),n}else{do{if(this.state===1){for(let n of this.dependencies)if(n.reportChanges(),this.state===2)break}this.state===1&&(this.state=3),this._recomputeIfNeeded()}while(this.state!==3);return this.value}}_recomputeIfNeeded(){if(this.state===3)return;let r=this.dependenciesToBeRemoved;this.dependenciesToBeRemoved=this.dependencies,this.dependencies=r;let n=this.state!==0,i=this.value;this.state=3;let s=!1;this._isComputing=!0;try{let a=this.changeSummary;this.changeSummary=this.createChangeSummary?.();try{this._isReaderValid=!0,this.value=this._computeFn(this,a)}finally{this._isReaderValid=!1;for(let l of this.dependenciesToBeRemoved)l.removeObserver(this);this.dependenciesToBeRemoved.clear()}s=n&&!this._equalityComparator(i,this.value),tn()?.handleObservableUpdated(this,{oldValue:i,newValue:this.value,change:void 0,didChange:s,hadValue:n})}catch(a){$u(a)}if(this._isComputing=!1,s)for(let a of this.observers)a.handleChange(this,void 0)}toString(){return`LazyDerived<${this.debugName}>`}beginUpdate(r){if(this._isUpdating)throw new wn("Cyclic deriveds are not supported yet!");this.updateCount++,this._isUpdating=!0;try{let n=this.updateCount===1;if(this.state===3&&(this.state=1,!n))for(let i of this.observers)i.handlePossibleChange(this);if(n)for(let i of this.observers)i.beginUpdate(this)}finally{this._isUpdating=!1}}endUpdate(r){if(this.updateCount--,this.updateCount===0){let n=[...this.observers];for(let i of n)i.endUpdate(this);if(this._removedObserverToCallEndUpdateOn){let i=[...this._removedObserverToCallEndUpdateOn];this._removedObserverToCallEndUpdateOn=null;for(let s of i)s.endUpdate(this)}}Ig(()=>this.updateCount>=0)}handlePossibleChange(r){if(this.state===3&&this.dependencies.has(r)&&!this.dependenciesToBeRemoved.has(r)){this.state=1;for(let n of this.observers)n.handlePossibleChange(this)}}handleChange(r,n){if(this.dependencies.has(r)&&!this.dependenciesToBeRemoved.has(r)){tn()?.handleDerivedDependencyChanged(this,r,n);let i=!1;try{i=this._handleChange?this._handleChange({changedObservable:r,change:n,didChange:o(a=>a===r,"didChange")},this.changeSummary):!0}catch(a){$u(a)}let s=this.state===3;if(i&&(this.state===1||s)&&(this.state=2,s))for(let a of this.observers)a.handlePossibleChange(this)}}readObservable(r){if(!this._isReaderValid)throw new wn("The reader object cannot be used outside its compute function!");r.addObserver(this);let n=r.get();return this.dependencies.add(r),this.dependenciesToBeRemoved.delete(r),n}addObserver(r){let n=!this.observers.has(r)&&this.updateCount>0;super.addObserver(r),n&&(this._removedObserverToCallEndUpdateOn&&this._removedObserverToCallEndUpdateOn.has(r)?this._removedObserverToCallEndUpdateOn.delete(r):r.beginUpdate(this))}removeObserver(r){this.observers.has(r)&&this.updateCount>0&&(this._removedObserverToCallEndUpdateOn||(this._removedObserverToCallEndUpdateOn=new Set),this._removedObserverToCallEndUpdateOn.add(r)),super.removeObserver(r)}};function yI(...e){let t,r,n;return e.length===3?[t,r,n]=e:[r,n]=e,new pc(new Gs(t,void 0,n),r,n,()=>pc.globalTransaction,mc)}o(yI,"observableFromEvent");var pc=class extends Xu{constructor(r,n,i,s,a){super();this._debugNameData=r;this.event=n;this._getValue=i;this._getTransaction=s;this._equalityComparator=a;this.hasValue=!1;this.handleEvent=o(r=>{let n=this._getValue(r),i=this.value,s=!this.hasValue||!this._equalityComparator(i,n),a=!1;s&&(this.value=n,this.hasValue&&(a=!0,xI(this._getTransaction(),l=>{tn()?.handleObservableUpdated(this,{oldValue:i,newValue:n,change:void 0,didChange:s,hadValue:this.hasValue});for(let c of this.observers)l.updateObserver(c,this),c.handleChange(this,void 0)},()=>{let l=this.getDebugName();return"Event fired"+(l?`: ${l}`:"")})),this.hasValue=!0),a||tn()?.handleObservableUpdated(this,{oldValue:i,newValue:n,change:void 0,didChange:s,hadValue:this.hasValue})},"handleEvent")}static{o(this,"FromEventObservable")}getDebugName(){return this._debugNameData.getDebugName(this)}get debugName(){let r=this.getDebugName();return"From Event"+(r?`: ${r}`:"")}onFirstObserverAdded(){this.subscription=this.event(this.handleEvent)}onLastObserverRemoved(){this.subscription.dispose(),this.subscription=void 0,this.hasValue=!1,this.value=void 0}get(){return this.subscription?(this.hasValue||this.handleEvent(void 0),this.value):this._getValue(void 0)}};(r=>{r.Observer=pc;function t(n,i){let s=!1;pc.globalTransaction===void 0&&(pc.globalTransaction=n,s=!0);try{i()}finally{s&&(pc.globalTransaction=void 0)}}r.batchEventsGlobally=t,o(t,"batchEventsGlobally")})(yI||={});function FB(e){let t=new G3(!1,void 0);return e.addObserver(t),ja(()=>{e.removeObserver(t)})}o(FB,"keepObserved");kB(FB);function MB(e,t){let r=new G3(!0,t);return e.addObserver(r),t?t(e.get()):e.reportChanges(),ja(()=>{e.removeObserver(r)})}o(MB,"recomputeInitiallyAndOnChange");NB(MB);var G3=class{constructor(t,r){this._forceRecompute=t;this._handleValue=r;this._counter=0}static{o(this,"KeepAliveObserver")}beginUpdate(t){this._counter++}endUpdate(t){this._counter--,this._counter===0&&this._forceRecompute&&(this._handleValue?this._handleValue(t.get()):t.reportChanges())}handlePossibleChange(t){}handleChange(t,r){}};var UB=Object.freeze(function(e,t){let r=setTimeout(e.bind(t),0);return{dispose(){clearTimeout(r)}}}),BB;(n=>{function e(i){return i===n.None||i===n.Cancelled||i instanceof vI?!0:!i||typeof i!="object"?!1:typeof i.isCancellationRequested=="boolean"&&typeof i.onCancellationRequested=="function"}n.isCancellationToken=e,o(e,"isCancellationToken"),n.None=Object.freeze({isCancellationRequested:!1,onCancellationRequested:Cg.None}),n.Cancelled=Object.freeze({isCancellationRequested:!0,onCancellationRequested:UB})})(BB||={});var vI=class{constructor(){this._isCancelled=!1;this._emitter=null}static{o(this,"MutableToken")}cancel(){this._isCancelled||(this._isCancelled=!0,this._emitter&&(this._emitter.fire(void 0),this.dispose()))}get isCancellationRequested(){return this._isCancelled}get onCancellationRequested(){return this._isCancelled?UB:(this._emitter||(this._emitter=new Ws),this._emitter.event)}dispose(){this._emitter&&(this._emitter.dispose(),this._emitter=null)}};var z3;function $B(e){z3||(z3=new Dg,j3(z3)),z3.addFilteredObj(e)}o($B,"logObservableToConsole");var Dg=class{constructor(){this.indentation=0;this.changedObservablesSets=new WeakMap}static{o(this,"ConsoleObservableLogger")}addFilteredObj(t){this._filteredObjects||(this._filteredObjects=new Set),this._filteredObjects.add(t)}_isIncluded(t){return this._filteredObjects?.has(t)??!0}textToConsoleArgs(t){return mle([Pm(hle("|  ",this.indentation)),t])}formatInfo(t){return t.hadValue?t.didChange?[Pm(" "),ss(Pg(t.oldValue,70),{color:"red",strikeThrough:!0}),Pm(" "),ss(Pg(t.newValue,60),{color:"green"})]:[Pm(" (unchanged)")]:[Pm(" "),ss(Pg(t.newValue,60),{color:"green"}),Pm(" (initial)")]}handleObservableCreated(t){if(t instanceof Ju){let r=t;if(this.changedObservablesSets.set(r,new Set),!1){let i=[];r.__debugUpdating=i;let s=r.beginUpdate;r.beginUpdate=l=>(i.push(l),s.apply(r,[l]));let a=r.endUpdate;r.endUpdate=l=>{let c=i.indexOf(l);return c===-1&&console.error("endUpdate called without beginUpdate",r.debugName,l.debugName),i.splice(c,1),a.apply(r,[l])}}}}handleOnListenerCountChanged(t,r){}handleObservableUpdated(t,r){if(this._isIncluded(t)){if(t instanceof Ju){this._handleDerivedRecomputed(t,r);return}console.log(...this.textToConsoleArgs([Dm("observable value changed"),ss(t.debugName,{color:"BlueViolet"}),...this.formatInfo(r)]))}}formatChanges(t){if(t.size!==0)return ss(" (changed deps: "+[...t].map(r=>r.debugName).join(", ")+")",{color:"gray"})}handleDerivedDependencyChanged(t,r,n){this._isIncluded(t)&&this.changedObservablesSets.get(t)?.add(r)}_handleDerivedRecomputed(t,r){if(!this._isIncluded(t))return;let n=this.changedObservablesSets.get(t);n&&(console.log(...this.textToConsoleArgs([Dm("derived recomputed"),ss(t.debugName,{color:"BlueViolet"}),...this.formatInfo(r),this.formatChanges(n),{data:[{fn:t._debugNameData.referenceFn??t._computeFn}]}])),n.clear())}handleDerivedCleared(t){this._isIncluded(t)&&console.log(...this.textToConsoleArgs([Dm("derived cleared"),ss(t.debugName,{color:"BlueViolet"})]))}handleFromEventObservableTriggered(t,r){this._isIncluded(t)&&console.log(...this.textToConsoleArgs([Dm("observable from event triggered"),ss(t.debugName,{color:"BlueViolet"}),...this.formatInfo(r),{data:[{fn:t._getValue}]}]))}handleAutorunCreated(t){this._isIncluded(t)&&this.changedObservablesSets.set(t,new Set)}handleAutorunDisposed(t){}handleAutorunDependencyChanged(t,r,n){this._isIncluded(t)&&this.changedObservablesSets.get(t).add(r)}handleAutorunStarted(t){let r=this.changedObservablesSets.get(t);r&&(this._isIncluded(t)&&console.log(...this.textToConsoleArgs([Dm("autorun"),ss(t.debugName,{color:"BlueViolet"}),this.formatChanges(r),{data:[{fn:t._debugNameData.referenceFn??t._runFn}]}])),r.clear(),this.indentation++)}handleAutorunFinished(t){this.indentation--}handleBeginTransaction(t){let r=t.getDebugName();r===void 0&&(r=""),this._isIncluded(t)&&console.log(...this.textToConsoleArgs([Dm("transaction"),ss(r,{color:"BlueViolet"}),{data:[{fn:t._fn}]}])),this.indentation++}handleEndTransaction(){this.indentation--}};function mle(e){let t=new Array,r=[],n="";function i(a){if("length"in a)for(let l of a)l&&i(l);else"text"in a?(n+=`%c${a.text}`,t.push(a.style),a.data&&r.push(...a.data)):"data"in a&&r.push(...a.data)}o(i,"process"),i(e);let s=[n,...t];return s.push(...r),s}o(mle,"consoleTextToArgs");function Pm(e){return ss(e,{color:"black"})}o(Pm,"normalText");function Dm(e){return ss(xle(`${e}: `,10),{color:"black",bold:!0})}o(Dm,"formatKind");function ss(e,t={color:"black"}){function r(i){return Object.entries(i).reduce((s,[a,l])=>`${s}${a}:${l};`,"")}o(r,"objToCss");let n={color:t.color};return t.strikeThrough&&(n["text-decoration"]="line-through"),t.bold&&(n["font-weight"]="bold"),{text:e,style:r(n)}}o(ss,"styled");function Pg(e,t){switch(typeof e){case"number":return""+e;case"string":return e.length+2<=t?`"${e}"`:`"${e.substr(0,t-7)}"+...`;case"boolean":return e?"true":"false";case"undefined":return"undefined";case"object":return e===null?"null":Array.isArray(e)?ple(e,t):gle(e,t);case"symbol":return e.toString();case"function":return`[[Function${e.name?" "+e.name:""}]]`;default:return""+e}}o(Pg,"formatValue");function ple(e,t){let r="[ ",n=!0;for(let i of e){if(n||(r+=", "),r.length-5>t){r+="...";break}n=!1,r+=`${Pg(i,t-r.length)}`}return r+=" ]",r}o(ple,"formatArray");function gle(e,t){if(typeof e.toString=="function"&&e.toString!==Object.prototype.toString){let i=e.toString();return i.length<=t?i:i.substring(0,t-3)+"..."}let r="{ ",n=!0;for(let[i,s]of Object.entries(e)){if(n||(r+=", "),r.length-5>t){r+="...";break}n=!1,r+=`${i}: ${Pg(s,t-r.length)}`}return r+=" }",r}o(gle,"formatObject");function hle(e,t){let r="";for(let n=1;n<=t;n++)r+=e;return r}o(hle,"repeat");function xle(e,t){for(;e.length<t;)e+=" ";return e}o(xle,"padStr");PB($B);var yle=!1;yle&&j3(new Dg);var qB;(r=>{r.PlainText="plaintext";function t(n){return n}r.create=t,o(t,"create")})(qB||={});function vle(e){return e}o(vle,"identity");var H3=class{constructor(t,r){this.lastCache=void 0;this.lastArgKey=void 0;typeof t=="function"?(this._fn=t,this._computeKey=vle):(this._fn=r,this._computeKey=t.getCacheKey)}static{o(this,"LRUCachedFunction")}get(t){let r=this._computeKey(t);return this.lastArgKey!==r&&(this.lastArgKey=r,this.lastCache=this._fn(t)),this.lastCache}};var Rg=class{constructor(t){this.executor=t;this._didRun=!1}static{o(this,"Lazy")}get hasValue(){return this._didRun}get value(){if(!this._didRun)try{this._value=this.executor()}catch(t){this._error=t}finally{this._didRun=!0}if(this._error)throw this._error;return this._value}get rawValue(){return this._value}};var iZe=String.fromCharCode(65279);var WB=class e{static{o(this,"GraphemeBreakTree")}static{this._INSTANCE=null}static getInstance(){return e._INSTANCE||(e._INSTANCE=new e),e._INSTANCE}constructor(){this._data=Tle()}getGraphemeBreakType(t){if(t<32)return t===10?3:t===13?2:4;if(t<127)return 0;let r=this._data,n=r.length/3,i=1;for(;i<=n;)if(t<r[3*i])i=2*i;else if(t>r[3*i+1])i=2*i+1;else return r[3*i+2];return 0}};function Tle(){return JSON.parse("[0,0,0,51229,51255,12,44061,44087,12,127462,127487,6,7083,7085,5,47645,47671,12,54813,54839,12,128678,128678,14,3270,3270,5,9919,9923,14,45853,45879,12,49437,49463,12,53021,53047,12,71216,71218,7,128398,128399,14,129360,129374,14,2519,2519,5,4448,4519,9,9742,9742,14,12336,12336,14,44957,44983,12,46749,46775,12,48541,48567,12,50333,50359,12,52125,52151,12,53917,53943,12,69888,69890,5,73018,73018,5,127990,127990,14,128558,128559,14,128759,128760,14,129653,129655,14,2027,2035,5,2891,2892,7,3761,3761,5,6683,6683,5,8293,8293,4,9825,9826,14,9999,9999,14,43452,43453,5,44509,44535,12,45405,45431,12,46301,46327,12,47197,47223,12,48093,48119,12,48989,49015,12,49885,49911,12,50781,50807,12,51677,51703,12,52573,52599,12,53469,53495,12,54365,54391,12,65279,65279,4,70471,70472,7,72145,72147,7,119173,119179,5,127799,127818,14,128240,128244,14,128512,128512,14,128652,128652,14,128721,128722,14,129292,129292,14,129445,129450,14,129734,129743,14,1476,1477,5,2366,2368,7,2750,2752,7,3076,3076,5,3415,3415,5,4141,4144,5,6109,6109,5,6964,6964,5,7394,7400,5,9197,9198,14,9770,9770,14,9877,9877,14,9968,9969,14,10084,10084,14,43052,43052,5,43713,43713,5,44285,44311,12,44733,44759,12,45181,45207,12,45629,45655,12,46077,46103,12,46525,46551,12,46973,46999,12,47421,47447,12,47869,47895,12,48317,48343,12,48765,48791,12,49213,49239,12,49661,49687,12,50109,50135,12,50557,50583,12,51005,51031,12,51453,51479,12,51901,51927,12,52349,52375,12,52797,52823,12,53245,53271,12,53693,53719,12,54141,54167,12,54589,54615,12,55037,55063,12,69506,69509,5,70191,70193,5,70841,70841,7,71463,71467,5,72330,72342,5,94031,94031,5,123628,123631,5,127763,127765,14,127941,127941,14,128043,128062,14,128302,128317,14,128465,128467,14,128539,128539,14,128640,128640,14,128662,128662,14,128703,128703,14,128745,128745,14,129004,129007,14,129329,129330,14,129402,129402,14,129483,129483,14,129686,129704,14,130048,131069,14,173,173,4,1757,1757,1,2200,2207,5,2434,2435,7,2631,2632,5,2817,2817,5,3008,3008,5,3201,3201,5,3387,3388,5,3542,3542,5,3902,3903,7,4190,4192,5,6002,6003,5,6439,6440,5,6765,6770,7,7019,7027,5,7154,7155,7,8205,8205,13,8505,8505,14,9654,9654,14,9757,9757,14,9792,9792,14,9852,9853,14,9890,9894,14,9937,9937,14,9981,9981,14,10035,10036,14,11035,11036,14,42654,42655,5,43346,43347,7,43587,43587,5,44006,44007,7,44173,44199,12,44397,44423,12,44621,44647,12,44845,44871,12,45069,45095,12,45293,45319,12,45517,45543,12,45741,45767,12,45965,45991,12,46189,46215,12,46413,46439,12,46637,46663,12,46861,46887,12,47085,47111,12,47309,47335,12,47533,47559,12,47757,47783,12,47981,48007,12,48205,48231,12,48429,48455,12,48653,48679,12,48877,48903,12,49101,49127,12,49325,49351,12,49549,49575,12,49773,49799,12,49997,50023,12,50221,50247,12,50445,50471,12,50669,50695,12,50893,50919,12,51117,51143,12,51341,51367,12,51565,51591,12,51789,51815,12,52013,52039,12,52237,52263,12,52461,52487,12,52685,52711,12,52909,52935,12,53133,53159,12,53357,53383,12,53581,53607,12,53805,53831,12,54029,54055,12,54253,54279,12,54477,54503,12,54701,54727,12,54925,54951,12,55149,55175,12,68101,68102,5,69762,69762,7,70067,70069,7,70371,70378,5,70720,70721,7,71087,71087,5,71341,71341,5,71995,71996,5,72249,72249,7,72850,72871,5,73109,73109,5,118576,118598,5,121505,121519,5,127245,127247,14,127568,127569,14,127777,127777,14,127872,127891,14,127956,127967,14,128015,128016,14,128110,128172,14,128259,128259,14,128367,128368,14,128424,128424,14,128488,128488,14,128530,128532,14,128550,128551,14,128566,128566,14,128647,128647,14,128656,128656,14,128667,128673,14,128691,128693,14,128715,128715,14,128728,128732,14,128752,128752,14,128765,128767,14,129096,129103,14,129311,129311,14,129344,129349,14,129394,129394,14,129413,129425,14,129466,129471,14,129511,129535,14,129664,129666,14,129719,129722,14,129760,129767,14,917536,917631,5,13,13,2,1160,1161,5,1564,1564,4,1807,1807,1,2085,2087,5,2307,2307,7,2382,2383,7,2497,2500,5,2563,2563,7,2677,2677,5,2763,2764,7,2879,2879,5,2914,2915,5,3021,3021,5,3142,3144,5,3263,3263,5,3285,3286,5,3398,3400,7,3530,3530,5,3633,3633,5,3864,3865,5,3974,3975,5,4155,4156,7,4229,4230,5,5909,5909,7,6078,6085,7,6277,6278,5,6451,6456,7,6744,6750,5,6846,6846,5,6972,6972,5,7074,7077,5,7146,7148,7,7222,7223,5,7416,7417,5,8234,8238,4,8417,8417,5,9000,9000,14,9203,9203,14,9730,9731,14,9748,9749,14,9762,9763,14,9776,9783,14,9800,9811,14,9831,9831,14,9872,9873,14,9882,9882,14,9900,9903,14,9929,9933,14,9941,9960,14,9974,9974,14,9989,9989,14,10006,10006,14,10062,10062,14,10160,10160,14,11647,11647,5,12953,12953,14,43019,43019,5,43232,43249,5,43443,43443,5,43567,43568,7,43696,43696,5,43765,43765,7,44013,44013,5,44117,44143,12,44229,44255,12,44341,44367,12,44453,44479,12,44565,44591,12,44677,44703,12,44789,44815,12,44901,44927,12,45013,45039,12,45125,45151,12,45237,45263,12,45349,45375,12,45461,45487,12,45573,45599,12,45685,45711,12,45797,45823,12,45909,45935,12,46021,46047,12,46133,46159,12,46245,46271,12,46357,46383,12,46469,46495,12,46581,46607,12,46693,46719,12,46805,46831,12,46917,46943,12,47029,47055,12,47141,47167,12,47253,47279,12,47365,47391,12,47477,47503,12,47589,47615,12,47701,47727,12,47813,47839,12,47925,47951,12,48037,48063,12,48149,48175,12,48261,48287,12,48373,48399,12,48485,48511,12,48597,48623,12,48709,48735,12,48821,48847,12,48933,48959,12,49045,49071,12,49157,49183,12,49269,49295,12,49381,49407,12,49493,49519,12,49605,49631,12,49717,49743,12,49829,49855,12,49941,49967,12,50053,50079,12,50165,50191,12,50277,50303,12,50389,50415,12,50501,50527,12,50613,50639,12,50725,50751,12,50837,50863,12,50949,50975,12,51061,51087,12,51173,51199,12,51285,51311,12,51397,51423,12,51509,51535,12,51621,51647,12,51733,51759,12,51845,51871,12,51957,51983,12,52069,52095,12,52181,52207,12,52293,52319,12,52405,52431,12,52517,52543,12,52629,52655,12,52741,52767,12,52853,52879,12,52965,52991,12,53077,53103,12,53189,53215,12,53301,53327,12,53413,53439,12,53525,53551,12,53637,53663,12,53749,53775,12,53861,53887,12,53973,53999,12,54085,54111,12,54197,54223,12,54309,54335,12,54421,54447,12,54533,54559,12,54645,54671,12,54757,54783,12,54869,54895,12,54981,55007,12,55093,55119,12,55243,55291,10,66045,66045,5,68325,68326,5,69688,69702,5,69817,69818,5,69957,69958,7,70089,70092,5,70198,70199,5,70462,70462,5,70502,70508,5,70750,70750,5,70846,70846,7,71100,71101,5,71230,71230,7,71351,71351,5,71737,71738,5,72000,72000,7,72160,72160,5,72273,72278,5,72752,72758,5,72882,72883,5,73031,73031,5,73461,73462,7,94192,94193,7,119149,119149,7,121403,121452,5,122915,122916,5,126980,126980,14,127358,127359,14,127535,127535,14,127759,127759,14,127771,127771,14,127792,127793,14,127825,127867,14,127897,127899,14,127945,127945,14,127985,127986,14,128000,128007,14,128021,128021,14,128066,128100,14,128184,128235,14,128249,128252,14,128266,128276,14,128335,128335,14,128379,128390,14,128407,128419,14,128444,128444,14,128481,128481,14,128499,128499,14,128526,128526,14,128536,128536,14,128543,128543,14,128556,128556,14,128564,128564,14,128577,128580,14,128643,128645,14,128649,128649,14,128654,128654,14,128660,128660,14,128664,128664,14,128675,128675,14,128686,128689,14,128695,128696,14,128705,128709,14,128717,128719,14,128725,128725,14,128736,128741,14,128747,128748,14,128755,128755,14,128762,128762,14,128981,128991,14,129009,129023,14,129160,129167,14,129296,129304,14,129320,129327,14,129340,129342,14,129356,129356,14,129388,129392,14,129399,129400,14,129404,129407,14,129432,129442,14,129454,129455,14,129473,129474,14,129485,129487,14,129648,129651,14,129659,129660,14,129671,129679,14,129709,129711,14,129728,129730,14,129751,129753,14,129776,129782,14,917505,917505,4,917760,917999,5,10,10,3,127,159,4,768,879,5,1471,1471,5,1536,1541,1,1648,1648,5,1767,1768,5,1840,1866,5,2070,2073,5,2137,2139,5,2274,2274,1,2363,2363,7,2377,2380,7,2402,2403,5,2494,2494,5,2507,2508,7,2558,2558,5,2622,2624,7,2641,2641,5,2691,2691,7,2759,2760,5,2786,2787,5,2876,2876,5,2881,2884,5,2901,2902,5,3006,3006,5,3014,3016,7,3072,3072,5,3134,3136,5,3157,3158,5,3260,3260,5,3266,3266,5,3274,3275,7,3328,3329,5,3391,3392,7,3405,3405,5,3457,3457,5,3536,3537,7,3551,3551,5,3636,3642,5,3764,3772,5,3895,3895,5,3967,3967,7,3993,4028,5,4146,4151,5,4182,4183,7,4226,4226,5,4253,4253,5,4957,4959,5,5940,5940,7,6070,6070,7,6087,6088,7,6158,6158,4,6432,6434,5,6448,6449,7,6679,6680,5,6742,6742,5,6754,6754,5,6783,6783,5,6912,6915,5,6966,6970,5,6978,6978,5,7042,7042,7,7080,7081,5,7143,7143,7,7150,7150,7,7212,7219,5,7380,7392,5,7412,7412,5,8203,8203,4,8232,8232,4,8265,8265,14,8400,8412,5,8421,8432,5,8617,8618,14,9167,9167,14,9200,9200,14,9410,9410,14,9723,9726,14,9733,9733,14,9745,9745,14,9752,9752,14,9760,9760,14,9766,9766,14,9774,9774,14,9786,9786,14,9794,9794,14,9823,9823,14,9828,9828,14,9833,9850,14,9855,9855,14,9875,9875,14,9880,9880,14,9885,9887,14,9896,9897,14,9906,9916,14,9926,9927,14,9935,9935,14,9939,9939,14,9962,9962,14,9972,9972,14,9978,9978,14,9986,9986,14,9997,9997,14,10002,10002,14,10017,10017,14,10055,10055,14,10071,10071,14,10133,10135,14,10548,10549,14,11093,11093,14,12330,12333,5,12441,12442,5,42608,42610,5,43010,43010,5,43045,43046,5,43188,43203,7,43302,43309,5,43392,43394,5,43446,43449,5,43493,43493,5,43571,43572,7,43597,43597,7,43703,43704,5,43756,43757,5,44003,44004,7,44009,44010,7,44033,44059,12,44089,44115,12,44145,44171,12,44201,44227,12,44257,44283,12,44313,44339,12,44369,44395,12,44425,44451,12,44481,44507,12,44537,44563,12,44593,44619,12,44649,44675,12,44705,44731,12,44761,44787,12,44817,44843,12,44873,44899,12,44929,44955,12,44985,45011,12,45041,45067,12,45097,45123,12,45153,45179,12,45209,45235,12,45265,45291,12,45321,45347,12,45377,45403,12,45433,45459,12,45489,45515,12,45545,45571,12,45601,45627,12,45657,45683,12,45713,45739,12,45769,45795,12,45825,45851,12,45881,45907,12,45937,45963,12,45993,46019,12,46049,46075,12,46105,46131,12,46161,46187,12,46217,46243,12,46273,46299,12,46329,46355,12,46385,46411,12,46441,46467,12,46497,46523,12,46553,46579,12,46609,46635,12,46665,46691,12,46721,46747,12,46777,46803,12,46833,46859,12,46889,46915,12,46945,46971,12,47001,47027,12,47057,47083,12,47113,47139,12,47169,47195,12,47225,47251,12,47281,47307,12,47337,47363,12,47393,47419,12,47449,47475,12,47505,47531,12,47561,47587,12,47617,47643,12,47673,47699,12,47729,47755,12,47785,47811,12,47841,47867,12,47897,47923,12,47953,47979,12,48009,48035,12,48065,48091,12,48121,48147,12,48177,48203,12,48233,48259,12,48289,48315,12,48345,48371,12,48401,48427,12,48457,48483,12,48513,48539,12,48569,48595,12,48625,48651,12,48681,48707,12,48737,48763,12,48793,48819,12,48849,48875,12,48905,48931,12,48961,48987,12,49017,49043,12,49073,49099,12,49129,49155,12,49185,49211,12,49241,49267,12,49297,49323,12,49353,49379,12,49409,49435,12,49465,49491,12,49521,49547,12,49577,49603,12,49633,49659,12,49689,49715,12,49745,49771,12,49801,49827,12,49857,49883,12,49913,49939,12,49969,49995,12,50025,50051,12,50081,50107,12,50137,50163,12,50193,50219,12,50249,50275,12,50305,50331,12,50361,50387,12,50417,50443,12,50473,50499,12,50529,50555,12,50585,50611,12,50641,50667,12,50697,50723,12,50753,50779,12,50809,50835,12,50865,50891,12,50921,50947,12,50977,51003,12,51033,51059,12,51089,51115,12,51145,51171,12,51201,51227,12,51257,51283,12,51313,51339,12,51369,51395,12,51425,51451,12,51481,51507,12,51537,51563,12,51593,51619,12,51649,51675,12,51705,51731,12,51761,51787,12,51817,51843,12,51873,51899,12,51929,51955,12,51985,52011,12,52041,52067,12,52097,52123,12,52153,52179,12,52209,52235,12,52265,52291,12,52321,52347,12,52377,52403,12,52433,52459,12,52489,52515,12,52545,52571,12,52601,52627,12,52657,52683,12,52713,52739,12,52769,52795,12,52825,52851,12,52881,52907,12,52937,52963,12,52993,53019,12,53049,53075,12,53105,53131,12,53161,53187,12,53217,53243,12,53273,53299,12,53329,53355,12,53385,53411,12,53441,53467,12,53497,53523,12,53553,53579,12,53609,53635,12,53665,53691,12,53721,53747,12,53777,53803,12,53833,53859,12,53889,53915,12,53945,53971,12,54001,54027,12,54057,54083,12,54113,54139,12,54169,54195,12,54225,54251,12,54281,54307,12,54337,54363,12,54393,54419,12,54449,54475,12,54505,54531,12,54561,54587,12,54617,54643,12,54673,54699,12,54729,54755,12,54785,54811,12,54841,54867,12,54897,54923,12,54953,54979,12,55009,55035,12,55065,55091,12,55121,55147,12,55177,55203,12,65024,65039,5,65520,65528,4,66422,66426,5,68152,68154,5,69291,69292,5,69633,69633,5,69747,69748,5,69811,69814,5,69826,69826,5,69932,69932,7,70016,70017,5,70079,70080,7,70095,70095,5,70196,70196,5,70367,70367,5,70402,70403,7,70464,70464,5,70487,70487,5,70709,70711,7,70725,70725,7,70833,70834,7,70843,70844,7,70849,70849,7,71090,71093,5,71103,71104,5,71227,71228,7,71339,71339,5,71344,71349,5,71458,71461,5,71727,71735,5,71985,71989,7,71998,71998,5,72002,72002,7,72154,72155,5,72193,72202,5,72251,72254,5,72281,72283,5,72344,72345,5,72766,72766,7,72874,72880,5,72885,72886,5,73023,73029,5,73104,73105,5,73111,73111,5,92912,92916,5,94095,94098,5,113824,113827,4,119142,119142,7,119155,119162,4,119362,119364,5,121476,121476,5,122888,122904,5,123184,123190,5,125252,125258,5,127183,127183,14,127340,127343,14,127377,127386,14,127491,127503,14,127548,127551,14,127744,127756,14,127761,127761,14,127769,127769,14,127773,127774,14,127780,127788,14,127796,127797,14,127820,127823,14,127869,127869,14,127894,127895,14,127902,127903,14,127943,127943,14,127947,127950,14,127972,127972,14,127988,127988,14,127992,127994,14,128009,128011,14,128019,128019,14,128023,128041,14,128064,128064,14,128102,128107,14,128174,128181,14,128238,128238,14,128246,128247,14,128254,128254,14,128264,128264,14,128278,128299,14,128329,128330,14,128348,128359,14,128371,128377,14,128392,128393,14,128401,128404,14,128421,128421,14,128433,128434,14,128450,128452,14,128476,128478,14,128483,128483,14,128495,128495,14,128506,128506,14,128519,128520,14,128528,128528,14,128534,128534,14,128538,128538,14,128540,128542,14,128544,128549,14,128552,128555,14,128557,128557,14,128560,128563,14,128565,128565,14,128567,128576,14,128581,128591,14,128641,128642,14,128646,128646,14,128648,128648,14,128650,128651,14,128653,128653,14,128655,128655,14,128657,128659,14,128661,128661,14,128663,128663,14,128665,128666,14,128674,128674,14,128676,128677,14,128679,128685,14,128690,128690,14,128694,128694,14,128697,128702,14,128704,128704,14,128710,128714,14,128716,128716,14,128720,128720,14,128723,128724,14,128726,128727,14,128733,128735,14,128742,128744,14,128746,128746,14,128749,128751,14,128753,128754,14,128756,128758,14,128761,128761,14,128763,128764,14,128884,128895,14,128992,129003,14,129008,129008,14,129036,129039,14,129114,129119,14,129198,129279,14,129293,129295,14,129305,129310,14,129312,129319,14,129328,129328,14,129331,129338,14,129343,129343,14,129351,129355,14,129357,129359,14,129375,129387,14,129393,129393,14,129395,129398,14,129401,129401,14,129403,129403,14,129408,129412,14,129426,129431,14,129443,129444,14,129451,129453,14,129456,129465,14,129472,129472,14,129475,129482,14,129484,129484,14,129488,129510,14,129536,129647,14,129652,129652,14,129656,129658,14,129661,129663,14,129667,129670,14,129680,129685,14,129705,129708,14,129712,129718,14,129723,129727,14,129731,129733,14,129744,129750,14,129754,129759,14,129768,129775,14,129783,129791,14,917504,917504,4,917506,917535,4,917632,917759,4,918000,921599,4,0,9,4,11,12,4,14,31,4,169,169,14,174,174,14,1155,1159,5,1425,1469,5,1473,1474,5,1479,1479,5,1552,1562,5,1611,1631,5,1750,1756,5,1759,1764,5,1770,1773,5,1809,1809,5,1958,1968,5,2045,2045,5,2075,2083,5,2089,2093,5,2192,2193,1,2250,2273,5,2275,2306,5,2362,2362,5,2364,2364,5,2369,2376,5,2381,2381,5,2385,2391,5,2433,2433,5,2492,2492,5,2495,2496,7,2503,2504,7,2509,2509,5,2530,2531,5,2561,2562,5,2620,2620,5,2625,2626,5,2635,2637,5,2672,2673,5,2689,2690,5,2748,2748,5,2753,2757,5,2761,2761,7,2765,2765,5,2810,2815,5,2818,2819,7,2878,2878,5,2880,2880,7,2887,2888,7,2893,2893,5,2903,2903,5,2946,2946,5,3007,3007,7,3009,3010,7,3018,3020,7,3031,3031,5,3073,3075,7,3132,3132,5,3137,3140,7,3146,3149,5,3170,3171,5,3202,3203,7,3262,3262,7,3264,3265,7,3267,3268,7,3271,3272,7,3276,3277,5,3298,3299,5,3330,3331,7,3390,3390,5,3393,3396,5,3402,3404,7,3406,3406,1,3426,3427,5,3458,3459,7,3535,3535,5,3538,3540,5,3544,3550,7,3570,3571,7,3635,3635,7,3655,3662,5,3763,3763,7,3784,3789,5,3893,3893,5,3897,3897,5,3953,3966,5,3968,3972,5,3981,3991,5,4038,4038,5,4145,4145,7,4153,4154,5,4157,4158,5,4184,4185,5,4209,4212,5,4228,4228,7,4237,4237,5,4352,4447,8,4520,4607,10,5906,5908,5,5938,5939,5,5970,5971,5,6068,6069,5,6071,6077,5,6086,6086,5,6089,6099,5,6155,6157,5,6159,6159,5,6313,6313,5,6435,6438,7,6441,6443,7,6450,6450,5,6457,6459,5,6681,6682,7,6741,6741,7,6743,6743,7,6752,6752,5,6757,6764,5,6771,6780,5,6832,6845,5,6847,6862,5,6916,6916,7,6965,6965,5,6971,6971,7,6973,6977,7,6979,6980,7,7040,7041,5,7073,7073,7,7078,7079,7,7082,7082,7,7142,7142,5,7144,7145,5,7149,7149,5,7151,7153,5,7204,7211,7,7220,7221,7,7376,7378,5,7393,7393,7,7405,7405,5,7415,7415,7,7616,7679,5,8204,8204,5,8206,8207,4,8233,8233,4,8252,8252,14,8288,8292,4,8294,8303,4,8413,8416,5,8418,8420,5,8482,8482,14,8596,8601,14,8986,8987,14,9096,9096,14,9193,9196,14,9199,9199,14,9201,9202,14,9208,9210,14,9642,9643,14,9664,9664,14,9728,9729,14,9732,9732,14,9735,9741,14,9743,9744,14,9746,9746,14,9750,9751,14,9753,9756,14,9758,9759,14,9761,9761,14,9764,9765,14,9767,9769,14,9771,9773,14,9775,9775,14,9784,9785,14,9787,9791,14,9793,9793,14,9795,9799,14,9812,9822,14,9824,9824,14,9827,9827,14,9829,9830,14,9832,9832,14,9851,9851,14,9854,9854,14,9856,9861,14,9874,9874,14,9876,9876,14,9878,9879,14,9881,9881,14,9883,9884,14,9888,9889,14,9895,9895,14,9898,9899,14,9904,9905,14,9917,9918,14,9924,9925,14,9928,9928,14,9934,9934,14,9936,9936,14,9938,9938,14,9940,9940,14,9961,9961,14,9963,9967,14,9970,9971,14,9973,9973,14,9975,9977,14,9979,9980,14,9982,9985,14,9987,9988,14,9992,9996,14,9998,9998,14,10000,10001,14,10004,10004,14,10013,10013,14,10024,10024,14,10052,10052,14,10060,10060,14,10067,10069,14,10083,10083,14,10085,10087,14,10145,10145,14,10175,10175,14,11013,11015,14,11088,11088,14,11503,11505,5,11744,11775,5,12334,12335,5,12349,12349,14,12951,12951,14,42607,42607,5,42612,42621,5,42736,42737,5,43014,43014,5,43043,43044,7,43047,43047,7,43136,43137,7,43204,43205,5,43263,43263,5,43335,43345,5,43360,43388,8,43395,43395,7,43444,43445,7,43450,43451,7,43454,43456,7,43561,43566,5,43569,43570,5,43573,43574,5,43596,43596,5,43644,43644,5,43698,43700,5,43710,43711,5,43755,43755,7,43758,43759,7,43766,43766,5,44005,44005,5,44008,44008,5,44012,44012,7,44032,44032,11,44060,44060,11,44088,44088,11,44116,44116,11,44144,44144,11,44172,44172,11,44200,44200,11,44228,44228,11,44256,44256,11,44284,44284,11,44312,44312,11,44340,44340,11,44368,44368,11,44396,44396,11,44424,44424,11,44452,44452,11,44480,44480,11,44508,44508,11,44536,44536,11,44564,44564,11,44592,44592,11,44620,44620,11,44648,44648,11,44676,44676,11,44704,44704,11,44732,44732,11,44760,44760,11,44788,44788,11,44816,44816,11,44844,44844,11,44872,44872,11,44900,44900,11,44928,44928,11,44956,44956,11,44984,44984,11,45012,45012,11,45040,45040,11,45068,45068,11,45096,45096,11,45124,45124,11,45152,45152,11,45180,45180,11,45208,45208,11,45236,45236,11,45264,45264,11,45292,45292,11,45320,45320,11,45348,45348,11,45376,45376,11,45404,45404,11,45432,45432,11,45460,45460,11,45488,45488,11,45516,45516,11,45544,45544,11,45572,45572,11,45600,45600,11,45628,45628,11,45656,45656,11,45684,45684,11,45712,45712,11,45740,45740,11,45768,45768,11,45796,45796,11,45824,45824,11,45852,45852,11,45880,45880,11,45908,45908,11,45936,45936,11,45964,45964,11,45992,45992,11,46020,46020,11,46048,46048,11,46076,46076,11,46104,46104,11,46132,46132,11,46160,46160,11,46188,46188,11,46216,46216,11,46244,46244,11,46272,46272,11,46300,46300,11,46328,46328,11,46356,46356,11,46384,46384,11,46412,46412,11,46440,46440,11,46468,46468,11,46496,46496,11,46524,46524,11,46552,46552,11,46580,46580,11,46608,46608,11,46636,46636,11,46664,46664,11,46692,46692,11,46720,46720,11,46748,46748,11,46776,46776,11,46804,46804,11,46832,46832,11,46860,46860,11,46888,46888,11,46916,46916,11,46944,46944,11,46972,46972,11,47000,47000,11,47028,47028,11,47056,47056,11,47084,47084,11,47112,47112,11,47140,47140,11,47168,47168,11,47196,47196,11,47224,47224,11,47252,47252,11,47280,47280,11,47308,47308,11,47336,47336,11,47364,47364,11,47392,47392,11,47420,47420,11,47448,47448,11,47476,47476,11,47504,47504,11,47532,47532,11,47560,47560,11,47588,47588,11,47616,47616,11,47644,47644,11,47672,47672,11,47700,47700,11,47728,47728,11,47756,47756,11,47784,47784,11,47812,47812,11,47840,47840,11,47868,47868,11,47896,47896,11,47924,47924,11,47952,47952,11,47980,47980,11,48008,48008,11,48036,48036,11,48064,48064,11,48092,48092,11,48120,48120,11,48148,48148,11,48176,48176,11,48204,48204,11,48232,48232,11,48260,48260,11,48288,48288,11,48316,48316,11,48344,48344,11,48372,48372,11,48400,48400,11,48428,48428,11,48456,48456,11,48484,48484,11,48512,48512,11,48540,48540,11,48568,48568,11,48596,48596,11,48624,48624,11,48652,48652,11,48680,48680,11,48708,48708,11,48736,48736,11,48764,48764,11,48792,48792,11,48820,48820,11,48848,48848,11,48876,48876,11,48904,48904,11,48932,48932,11,48960,48960,11,48988,48988,11,49016,49016,11,49044,49044,11,49072,49072,11,49100,49100,11,49128,49128,11,49156,49156,11,49184,49184,11,49212,49212,11,49240,49240,11,49268,49268,11,49296,49296,11,49324,49324,11,49352,49352,11,49380,49380,11,49408,49408,11,49436,49436,11,49464,49464,11,49492,49492,11,49520,49520,11,49548,49548,11,49576,49576,11,49604,49604,11,49632,49632,11,49660,49660,11,49688,49688,11,49716,49716,11,49744,49744,11,49772,49772,11,49800,49800,11,49828,49828,11,49856,49856,11,49884,49884,11,49912,49912,11,49940,49940,11,49968,49968,11,49996,49996,11,50024,50024,11,50052,50052,11,50080,50080,11,50108,50108,11,50136,50136,11,50164,50164,11,50192,50192,11,50220,50220,11,50248,50248,11,50276,50276,11,50304,50304,11,50332,50332,11,50360,50360,11,50388,50388,11,50416,50416,11,50444,50444,11,50472,50472,11,50500,50500,11,50528,50528,11,50556,50556,11,50584,50584,11,50612,50612,11,50640,50640,11,50668,50668,11,50696,50696,11,50724,50724,11,50752,50752,11,50780,50780,11,50808,50808,11,50836,50836,11,50864,50864,11,50892,50892,11,50920,50920,11,50948,50948,11,50976,50976,11,51004,51004,11,51032,51032,11,51060,51060,11,51088,51088,11,51116,51116,11,51144,51144,11,51172,51172,11,51200,51200,11,51228,51228,11,51256,51256,11,51284,51284,11,51312,51312,11,51340,51340,11,51368,51368,11,51396,51396,11,51424,51424,11,51452,51452,11,51480,51480,11,51508,51508,11,51536,51536,11,51564,51564,11,51592,51592,11,51620,51620,11,51648,51648,11,51676,51676,11,51704,51704,11,51732,51732,11,51760,51760,11,51788,51788,11,51816,51816,11,51844,51844,11,51872,51872,11,51900,51900,11,51928,51928,11,51956,51956,11,51984,51984,11,52012,52012,11,52040,52040,11,52068,52068,11,52096,52096,11,52124,52124,11,52152,52152,11,52180,52180,11,52208,52208,11,52236,52236,11,52264,52264,11,52292,52292,11,52320,52320,11,52348,52348,11,52376,52376,11,52404,52404,11,52432,52432,11,52460,52460,11,52488,52488,11,52516,52516,11,52544,52544,11,52572,52572,11,52600,52600,11,52628,52628,11,52656,52656,11,52684,52684,11,52712,52712,11,52740,52740,11,52768,52768,11,52796,52796,11,52824,52824,11,52852,52852,11,52880,52880,11,52908,52908,11,52936,52936,11,52964,52964,11,52992,52992,11,53020,53020,11,53048,53048,11,53076,53076,11,53104,53104,11,53132,53132,11,53160,53160,11,53188,53188,11,53216,53216,11,53244,53244,11,53272,53272,11,53300,53300,11,53328,53328,11,53356,53356,11,53384,53384,11,53412,53412,11,53440,53440,11,53468,53468,11,53496,53496,11,53524,53524,11,53552,53552,11,53580,53580,11,53608,53608,11,53636,53636,11,53664,53664,11,53692,53692,11,53720,53720,11,53748,53748,11,53776,53776,11,53804,53804,11,53832,53832,11,53860,53860,11,53888,53888,11,53916,53916,11,53944,53944,11,53972,53972,11,54000,54000,11,54028,54028,11,54056,54056,11,54084,54084,11,54112,54112,11,54140,54140,11,54168,54168,11,54196,54196,11,54224,54224,11,54252,54252,11,54280,54280,11,54308,54308,11,54336,54336,11,54364,54364,11,54392,54392,11,54420,54420,11,54448,54448,11,54476,54476,11,54504,54504,11,54532,54532,11,54560,54560,11,54588,54588,11,54616,54616,11,54644,54644,11,54672,54672,11,54700,54700,11,54728,54728,11,54756,54756,11,54784,54784,11,54812,54812,11,54840,54840,11,54868,54868,11,54896,54896,11,54924,54924,11,54952,54952,11,54980,54980,11,55008,55008,11,55036,55036,11,55064,55064,11,55092,55092,11,55120,55120,11,55148,55148,11,55176,55176,11,55216,55238,9,64286,64286,5,65056,65071,5,65438,65439,5,65529,65531,4,66272,66272,5,68097,68099,5,68108,68111,5,68159,68159,5,68900,68903,5,69446,69456,5,69632,69632,7,69634,69634,7,69744,69744,5,69759,69761,5,69808,69810,7,69815,69816,7,69821,69821,1,69837,69837,1,69927,69931,5,69933,69940,5,70003,70003,5,70018,70018,7,70070,70078,5,70082,70083,1,70094,70094,7,70188,70190,7,70194,70195,7,70197,70197,7,70206,70206,5,70368,70370,7,70400,70401,5,70459,70460,5,70463,70463,7,70465,70468,7,70475,70477,7,70498,70499,7,70512,70516,5,70712,70719,5,70722,70724,5,70726,70726,5,70832,70832,5,70835,70840,5,70842,70842,5,70845,70845,5,70847,70848,5,70850,70851,5,71088,71089,7,71096,71099,7,71102,71102,7,71132,71133,5,71219,71226,5,71229,71229,5,71231,71232,5,71340,71340,7,71342,71343,7,71350,71350,7,71453,71455,5,71462,71462,7,71724,71726,7,71736,71736,7,71984,71984,5,71991,71992,7,71997,71997,7,71999,71999,1,72001,72001,1,72003,72003,5,72148,72151,5,72156,72159,7,72164,72164,7,72243,72248,5,72250,72250,1,72263,72263,5,72279,72280,7,72324,72329,1,72343,72343,7,72751,72751,7,72760,72765,5,72767,72767,5,72873,72873,7,72881,72881,7,72884,72884,7,73009,73014,5,73020,73021,5,73030,73030,1,73098,73102,7,73107,73108,7,73110,73110,7,73459,73460,5,78896,78904,4,92976,92982,5,94033,94087,7,94180,94180,5,113821,113822,5,118528,118573,5,119141,119141,5,119143,119145,5,119150,119154,5,119163,119170,5,119210,119213,5,121344,121398,5,121461,121461,5,121499,121503,5,122880,122886,5,122907,122913,5,122918,122922,5,123566,123566,5,125136,125142,5,126976,126979,14,126981,127182,14,127184,127231,14,127279,127279,14,127344,127345,14,127374,127374,14,127405,127461,14,127489,127490,14,127514,127514,14,127538,127546,14,127561,127567,14,127570,127743,14,127757,127758,14,127760,127760,14,127762,127762,14,127766,127768,14,127770,127770,14,127772,127772,14,127775,127776,14,127778,127779,14,127789,127791,14,127794,127795,14,127798,127798,14,127819,127819,14,127824,127824,14,127868,127868,14,127870,127871,14,127892,127893,14,127896,127896,14,127900,127901,14,127904,127940,14,127942,127942,14,127944,127944,14,127946,127946,14,127951,127955,14,127968,127971,14,127973,127984,14,127987,127987,14,127989,127989,14,127991,127991,14,127995,127999,5,128008,128008,14,128012,128014,14,128017,128018,14,128020,128020,14,128022,128022,14,128042,128042,14,128063,128063,14,128065,128065,14,128101,128101,14,128108,128109,14,128173,128173,14,128182,128183,14,128236,128237,14,128239,128239,14,128245,128245,14,128248,128248,14,128253,128253,14,128255,128258,14,128260,128263,14,128265,128265,14,128277,128277,14,128300,128301,14,128326,128328,14,128331,128334,14,128336,128347,14,128360,128366,14,128369,128370,14,128378,128378,14,128391,128391,14,128394,128397,14,128400,128400,14,128405,128406,14,128420,128420,14,128422,128423,14,128425,128432,14,128435,128443,14,128445,128449,14,128453,128464,14,128468,128475,14,128479,128480,14,128482,128482,14,128484,128487,14,128489,128494,14,128496,128498,14,128500,128505,14,128507,128511,14,128513,128518,14,128521,128525,14,128527,128527,14,128529,128529,14,128533,128533,14,128535,128535,14,128537,128537,14]")}o(Tle,"getGraphemeBreakRawData");var GB=class e{constructor(t){this.confusableDictionary=t}static{o(this,"AmbiguousCharacters")}static{this.ambiguousCharacterData=new Rg(()=>JSON.parse('{"_common":[8232,32,8233,32,5760,32,8192,32,8193,32,8194,32,8195,32,8196,32,8197,32,8198,32,8200,32,8201,32,8202,32,8287,32,8199,32,8239,32,2042,95,65101,95,65102,95,65103,95,8208,45,8209,45,8210,45,65112,45,1748,45,8259,45,727,45,8722,45,10134,45,11450,45,1549,44,1643,44,8218,44,184,44,42233,44,894,59,2307,58,2691,58,1417,58,1795,58,1796,58,5868,58,65072,58,6147,58,6153,58,8282,58,1475,58,760,58,42889,58,8758,58,720,58,42237,58,451,33,11601,33,660,63,577,63,2429,63,5038,63,42731,63,119149,46,8228,46,1793,46,1794,46,42510,46,68176,46,1632,46,1776,46,42232,46,1373,96,65287,96,8219,96,8242,96,1370,96,1523,96,8175,96,65344,96,900,96,8189,96,8125,96,8127,96,8190,96,697,96,884,96,712,96,714,96,715,96,756,96,699,96,701,96,700,96,702,96,42892,96,1497,96,2036,96,2037,96,5194,96,5836,96,94033,96,94034,96,65339,91,10088,40,10098,40,12308,40,64830,40,65341,93,10089,41,10099,41,12309,41,64831,41,10100,123,119060,123,10101,125,65342,94,8270,42,1645,42,8727,42,66335,42,5941,47,8257,47,8725,47,8260,47,9585,47,10187,47,10744,47,119354,47,12755,47,12339,47,11462,47,20031,47,12035,47,65340,92,65128,92,8726,92,10189,92,10741,92,10745,92,119311,92,119355,92,12756,92,20022,92,12034,92,42872,38,708,94,710,94,5869,43,10133,43,66203,43,8249,60,10094,60,706,60,119350,60,5176,60,5810,60,5120,61,11840,61,12448,61,42239,61,8250,62,10095,62,707,62,119351,62,5171,62,94015,62,8275,126,732,126,8128,126,8764,126,65372,124,65293,45,120784,50,120794,50,120804,50,120814,50,120824,50,130034,50,42842,50,423,50,1000,50,42564,50,5311,50,42735,50,119302,51,120785,51,120795,51,120805,51,120815,51,120825,51,130035,51,42923,51,540,51,439,51,42858,51,11468,51,1248,51,94011,51,71882,51,120786,52,120796,52,120806,52,120816,52,120826,52,130036,52,5070,52,71855,52,120787,53,120797,53,120807,53,120817,53,120827,53,130037,53,444,53,71867,53,120788,54,120798,54,120808,54,120818,54,120828,54,130038,54,11474,54,5102,54,71893,54,119314,55,120789,55,120799,55,120809,55,120819,55,120829,55,130039,55,66770,55,71878,55,2819,56,2538,56,2666,56,125131,56,120790,56,120800,56,120810,56,120820,56,120830,56,130040,56,547,56,546,56,66330,56,2663,57,2920,57,2541,57,3437,57,120791,57,120801,57,120811,57,120821,57,120831,57,130041,57,42862,57,11466,57,71884,57,71852,57,71894,57,9082,97,65345,97,119834,97,119886,97,119938,97,119990,97,120042,97,120094,97,120146,97,120198,97,120250,97,120302,97,120354,97,120406,97,120458,97,593,97,945,97,120514,97,120572,97,120630,97,120688,97,120746,97,65313,65,119808,65,119860,65,119912,65,119964,65,120016,65,120068,65,120120,65,120172,65,120224,65,120276,65,120328,65,120380,65,120432,65,913,65,120488,65,120546,65,120604,65,120662,65,120720,65,5034,65,5573,65,42222,65,94016,65,66208,65,119835,98,119887,98,119939,98,119991,98,120043,98,120095,98,120147,98,120199,98,120251,98,120303,98,120355,98,120407,98,120459,98,388,98,5071,98,5234,98,5551,98,65314,66,8492,66,119809,66,119861,66,119913,66,120017,66,120069,66,120121,66,120173,66,120225,66,120277,66,120329,66,120381,66,120433,66,42932,66,914,66,120489,66,120547,66,120605,66,120663,66,120721,66,5108,66,5623,66,42192,66,66178,66,66209,66,66305,66,65347,99,8573,99,119836,99,119888,99,119940,99,119992,99,120044,99,120096,99,120148,99,120200,99,120252,99,120304,99,120356,99,120408,99,120460,99,7428,99,1010,99,11429,99,43951,99,66621,99,128844,67,71922,67,71913,67,65315,67,8557,67,8450,67,8493,67,119810,67,119862,67,119914,67,119966,67,120018,67,120174,67,120226,67,120278,67,120330,67,120382,67,120434,67,1017,67,11428,67,5087,67,42202,67,66210,67,66306,67,66581,67,66844,67,8574,100,8518,100,119837,100,119889,100,119941,100,119993,100,120045,100,120097,100,120149,100,120201,100,120253,100,120305,100,120357,100,120409,100,120461,100,1281,100,5095,100,5231,100,42194,100,8558,68,8517,68,119811,68,119863,68,119915,68,119967,68,120019,68,120071,68,120123,68,120175,68,120227,68,120279,68,120331,68,120383,68,120435,68,5024,68,5598,68,5610,68,42195,68,8494,101,65349,101,8495,101,8519,101,119838,101,119890,101,119942,101,120046,101,120098,101,120150,101,120202,101,120254,101,120306,101,120358,101,120410,101,120462,101,43826,101,1213,101,8959,69,65317,69,8496,69,119812,69,119864,69,119916,69,120020,69,120072,69,120124,69,120176,69,120228,69,120280,69,120332,69,120384,69,120436,69,917,69,120492,69,120550,69,120608,69,120666,69,120724,69,11577,69,5036,69,42224,69,71846,69,71854,69,66182,69,119839,102,119891,102,119943,102,119995,102,120047,102,120099,102,120151,102,120203,102,120255,102,120307,102,120359,102,120411,102,120463,102,43829,102,42905,102,383,102,7837,102,1412,102,119315,70,8497,70,119813,70,119865,70,119917,70,120021,70,120073,70,120125,70,120177,70,120229,70,120281,70,120333,70,120385,70,120437,70,42904,70,988,70,120778,70,5556,70,42205,70,71874,70,71842,70,66183,70,66213,70,66853,70,65351,103,8458,103,119840,103,119892,103,119944,103,120048,103,120100,103,120152,103,120204,103,120256,103,120308,103,120360,103,120412,103,120464,103,609,103,7555,103,397,103,1409,103,119814,71,119866,71,119918,71,119970,71,120022,71,120074,71,120126,71,120178,71,120230,71,120282,71,120334,71,120386,71,120438,71,1292,71,5056,71,5107,71,42198,71,65352,104,8462,104,119841,104,119945,104,119997,104,120049,104,120101,104,120153,104,120205,104,120257,104,120309,104,120361,104,120413,104,120465,104,1211,104,1392,104,5058,104,65320,72,8459,72,8460,72,8461,72,119815,72,119867,72,119919,72,120023,72,120179,72,120231,72,120283,72,120335,72,120387,72,120439,72,919,72,120494,72,120552,72,120610,72,120668,72,120726,72,11406,72,5051,72,5500,72,42215,72,66255,72,731,105,9075,105,65353,105,8560,105,8505,105,8520,105,119842,105,119894,105,119946,105,119998,105,120050,105,120102,105,120154,105,120206,105,120258,105,120310,105,120362,105,120414,105,120466,105,120484,105,618,105,617,105,953,105,8126,105,890,105,120522,105,120580,105,120638,105,120696,105,120754,105,1110,105,42567,105,1231,105,43893,105,5029,105,71875,105,65354,106,8521,106,119843,106,119895,106,119947,106,119999,106,120051,106,120103,106,120155,106,120207,106,120259,106,120311,106,120363,106,120415,106,120467,106,1011,106,1112,106,65322,74,119817,74,119869,74,119921,74,119973,74,120025,74,120077,74,120129,74,120181,74,120233,74,120285,74,120337,74,120389,74,120441,74,42930,74,895,74,1032,74,5035,74,5261,74,42201,74,119844,107,119896,107,119948,107,120000,107,120052,107,120104,107,120156,107,120208,107,120260,107,120312,107,120364,107,120416,107,120468,107,8490,75,65323,75,119818,75,119870,75,119922,75,119974,75,120026,75,120078,75,120130,75,120182,75,120234,75,120286,75,120338,75,120390,75,120442,75,922,75,120497,75,120555,75,120613,75,120671,75,120729,75,11412,75,5094,75,5845,75,42199,75,66840,75,1472,108,8739,73,9213,73,65512,73,1633,108,1777,73,66336,108,125127,108,120783,73,120793,73,120803,73,120813,73,120823,73,130033,73,65321,73,8544,73,8464,73,8465,73,119816,73,119868,73,119920,73,120024,73,120128,73,120180,73,120232,73,120284,73,120336,73,120388,73,120440,73,65356,108,8572,73,8467,108,119845,108,119897,108,119949,108,120001,108,120053,108,120105,73,120157,73,120209,73,120261,73,120313,73,120365,73,120417,73,120469,73,448,73,120496,73,120554,73,120612,73,120670,73,120728,73,11410,73,1030,73,1216,73,1493,108,1503,108,1575,108,126464,108,126592,108,65166,108,65165,108,1994,108,11599,73,5825,73,42226,73,93992,73,66186,124,66313,124,119338,76,8556,76,8466,76,119819,76,119871,76,119923,76,120027,76,120079,76,120131,76,120183,76,120235,76,120287,76,120339,76,120391,76,120443,76,11472,76,5086,76,5290,76,42209,76,93974,76,71843,76,71858,76,66587,76,66854,76,65325,77,8559,77,8499,77,119820,77,119872,77,119924,77,120028,77,120080,77,120132,77,120184,77,120236,77,120288,77,120340,77,120392,77,120444,77,924,77,120499,77,120557,77,120615,77,120673,77,120731,77,1018,77,11416,77,5047,77,5616,77,5846,77,42207,77,66224,77,66321,77,119847,110,119899,110,119951,110,120003,110,120055,110,120107,110,120159,110,120211,110,120263,110,120315,110,120367,110,120419,110,120471,110,1400,110,1404,110,65326,78,8469,78,119821,78,119873,78,119925,78,119977,78,120029,78,120081,78,120185,78,120237,78,120289,78,120341,78,120393,78,120445,78,925,78,120500,78,120558,78,120616,78,120674,78,120732,78,11418,78,42208,78,66835,78,3074,111,3202,111,3330,111,3458,111,2406,111,2662,111,2790,111,3046,111,3174,111,3302,111,3430,111,3664,111,3792,111,4160,111,1637,111,1781,111,65359,111,8500,111,119848,111,119900,111,119952,111,120056,111,120108,111,120160,111,120212,111,120264,111,120316,111,120368,111,120420,111,120472,111,7439,111,7441,111,43837,111,959,111,120528,111,120586,111,120644,111,120702,111,120760,111,963,111,120532,111,120590,111,120648,111,120706,111,120764,111,11423,111,4351,111,1413,111,1505,111,1607,111,126500,111,126564,111,126596,111,65259,111,65260,111,65258,111,65257,111,1726,111,64428,111,64429,111,64427,111,64426,111,1729,111,64424,111,64425,111,64423,111,64422,111,1749,111,3360,111,4125,111,66794,111,71880,111,71895,111,66604,111,1984,79,2534,79,2918,79,12295,79,70864,79,71904,79,120782,79,120792,79,120802,79,120812,79,120822,79,130032,79,65327,79,119822,79,119874,79,119926,79,119978,79,120030,79,120082,79,120134,79,120186,79,120238,79,120290,79,120342,79,120394,79,120446,79,927,79,120502,79,120560,79,120618,79,120676,79,120734,79,11422,79,1365,79,11604,79,4816,79,2848,79,66754,79,42227,79,71861,79,66194,79,66219,79,66564,79,66838,79,9076,112,65360,112,119849,112,119901,112,119953,112,120005,112,120057,112,120109,112,120161,112,120213,112,120265,112,120317,112,120369,112,120421,112,120473,112,961,112,120530,112,120544,112,120588,112,120602,112,120646,112,120660,112,120704,112,120718,112,120762,112,120776,112,11427,112,65328,80,8473,80,119823,80,119875,80,119927,80,119979,80,120031,80,120083,80,120187,80,120239,80,120291,80,120343,80,120395,80,120447,80,929,80,120504,80,120562,80,120620,80,120678,80,120736,80,11426,80,5090,80,5229,80,42193,80,66197,80,119850,113,119902,113,119954,113,120006,113,120058,113,120110,113,120162,113,120214,113,120266,113,120318,113,120370,113,120422,113,120474,113,1307,113,1379,113,1382,113,8474,81,119824,81,119876,81,119928,81,119980,81,120032,81,120084,81,120188,81,120240,81,120292,81,120344,81,120396,81,120448,81,11605,81,119851,114,119903,114,119955,114,120007,114,120059,114,120111,114,120163,114,120215,114,120267,114,120319,114,120371,114,120423,114,120475,114,43847,114,43848,114,7462,114,11397,114,43905,114,119318,82,8475,82,8476,82,8477,82,119825,82,119877,82,119929,82,120033,82,120189,82,120241,82,120293,82,120345,82,120397,82,120449,82,422,82,5025,82,5074,82,66740,82,5511,82,42211,82,94005,82,65363,115,119852,115,119904,115,119956,115,120008,115,120060,115,120112,115,120164,115,120216,115,120268,115,120320,115,120372,115,120424,115,120476,115,42801,115,445,115,1109,115,43946,115,71873,115,66632,115,65331,83,119826,83,119878,83,119930,83,119982,83,120034,83,120086,83,120138,83,120190,83,120242,83,120294,83,120346,83,120398,83,120450,83,1029,83,1359,83,5077,83,5082,83,42210,83,94010,83,66198,83,66592,83,119853,116,119905,116,119957,116,120009,116,120061,116,120113,116,120165,116,120217,116,120269,116,120321,116,120373,116,120425,116,120477,116,8868,84,10201,84,128872,84,65332,84,119827,84,119879,84,119931,84,119983,84,120035,84,120087,84,120139,84,120191,84,120243,84,120295,84,120347,84,120399,84,120451,84,932,84,120507,84,120565,84,120623,84,120681,84,120739,84,11430,84,5026,84,42196,84,93962,84,71868,84,66199,84,66225,84,66325,84,119854,117,119906,117,119958,117,120010,117,120062,117,120114,117,120166,117,120218,117,120270,117,120322,117,120374,117,120426,117,120478,117,42911,117,7452,117,43854,117,43858,117,651,117,965,117,120534,117,120592,117,120650,117,120708,117,120766,117,1405,117,66806,117,71896,117,8746,85,8899,85,119828,85,119880,85,119932,85,119984,85,120036,85,120088,85,120140,85,120192,85,120244,85,120296,85,120348,85,120400,85,120452,85,1357,85,4608,85,66766,85,5196,85,42228,85,94018,85,71864,85,8744,118,8897,118,65366,118,8564,118,119855,118,119907,118,119959,118,120011,118,120063,118,120115,118,120167,118,120219,118,120271,118,120323,118,120375,118,120427,118,120479,118,7456,118,957,118,120526,118,120584,118,120642,118,120700,118,120758,118,1141,118,1496,118,71430,118,43945,118,71872,118,119309,86,1639,86,1783,86,8548,86,119829,86,119881,86,119933,86,119985,86,120037,86,120089,86,120141,86,120193,86,120245,86,120297,86,120349,86,120401,86,120453,86,1140,86,11576,86,5081,86,5167,86,42719,86,42214,86,93960,86,71840,86,66845,86,623,119,119856,119,119908,119,119960,119,120012,119,120064,119,120116,119,120168,119,120220,119,120272,119,120324,119,120376,119,120428,119,120480,119,7457,119,1121,119,1309,119,1377,119,71434,119,71438,119,71439,119,43907,119,71919,87,71910,87,119830,87,119882,87,119934,87,119986,87,120038,87,120090,87,120142,87,120194,87,120246,87,120298,87,120350,87,120402,87,120454,87,1308,87,5043,87,5076,87,42218,87,5742,120,10539,120,10540,120,10799,120,65368,120,8569,120,119857,120,119909,120,119961,120,120013,120,120065,120,120117,120,120169,120,120221,120,120273,120,120325,120,120377,120,120429,120,120481,120,5441,120,5501,120,5741,88,9587,88,66338,88,71916,88,65336,88,8553,88,119831,88,119883,88,119935,88,119987,88,120039,88,120091,88,120143,88,120195,88,120247,88,120299,88,120351,88,120403,88,120455,88,42931,88,935,88,120510,88,120568,88,120626,88,120684,88,120742,88,11436,88,11613,88,5815,88,42219,88,66192,88,66228,88,66327,88,66855,88,611,121,7564,121,65369,121,119858,121,119910,121,119962,121,120014,121,120066,121,120118,121,120170,121,120222,121,120274,121,120326,121,120378,121,120430,121,120482,121,655,121,7935,121,43866,121,947,121,8509,121,120516,121,120574,121,120632,121,120690,121,120748,121,1199,121,4327,121,71900,121,65337,89,119832,89,119884,89,119936,89,119988,89,120040,89,120092,89,120144,89,120196,89,120248,89,120300,89,120352,89,120404,89,120456,89,933,89,978,89,120508,89,120566,89,120624,89,120682,89,120740,89,11432,89,1198,89,5033,89,5053,89,42220,89,94019,89,71844,89,66226,89,119859,122,119911,122,119963,122,120015,122,120067,122,120119,122,120171,122,120223,122,120275,122,120327,122,120379,122,120431,122,120483,122,7458,122,43923,122,71876,122,66293,90,71909,90,65338,90,8484,90,8488,90,119833,90,119885,90,119937,90,119989,90,120041,90,120197,90,120249,90,120301,90,120353,90,120405,90,120457,90,918,90,120493,90,120551,90,120609,90,120667,90,120725,90,5059,90,42204,90,71849,90,65282,34,65284,36,65285,37,65286,38,65290,42,65291,43,65294,46,65295,47,65296,48,65297,49,65298,50,65299,51,65300,52,65301,53,65302,54,65303,55,65304,56,65305,57,65308,60,65309,61,65310,62,65312,64,65316,68,65318,70,65319,71,65324,76,65329,81,65330,82,65333,85,65334,86,65335,87,65343,95,65346,98,65348,100,65350,102,65355,107,65357,109,65358,110,65361,113,65362,114,65364,116,65365,117,65367,119,65370,122,65371,123,65373,125,119846,109],"_default":[160,32,8211,45,65374,126,65306,58,65281,33,8216,96,8217,96,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"cs":[65374,126,65306,58,65281,33,8216,96,8217,96,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"de":[65374,126,65306,58,65281,33,8216,96,8217,96,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"es":[8211,45,65374,126,65306,58,65281,33,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"fr":[65374,126,65306,58,65281,33,8216,96,8245,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"it":[160,32,8211,45,65374,126,65306,58,65281,33,8216,96,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"ja":[8211,45,65306,58,65281,33,8216,96,8217,96,8245,96,180,96,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65292,44,65307,59],"ko":[8211,45,65374,126,65306,58,65281,33,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"pl":[65374,126,65306,58,65281,33,8216,96,8217,96,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"pt-BR":[65374,126,65306,58,65281,33,8216,96,8217,96,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"qps-ploc":[160,32,8211,45,65374,126,65306,58,65281,33,8216,96,8217,96,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"ru":[65374,126,65306,58,65281,33,8216,96,8217,96,8245,96,180,96,12494,47,305,105,921,73,1009,112,215,120,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"tr":[160,32,8211,45,65374,126,65306,58,65281,33,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"zh-hans":[65374,126,65306,58,65281,33,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65288,40,65289,41],"zh-hant":[8211,45,65374,126,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65307,59]}'))}static{this.cache=new H3({getCacheKey:JSON.stringify},t=>{function r(u){let d=new Map;for(let p=0;p<u.length;p+=2)d.set(u[p],u[p+1]);return d}o(r,"arrayToMap");function n(u,d){let p=new Map(u);for(let[m,g]of d)p.set(m,g);return p}o(n,"mergeMaps");function i(u,d){if(!u)return d;let p=new Map;for(let[m,g]of u)d.has(m)&&p.set(m,g);return p}o(i,"intersectMaps");let s=this.ambiguousCharacterData.value,a=t.filter(u=>!u.startsWith("_")&&u in s);a.length===0&&(a=["_default"]);let l;for(let u of a){let d=r(s[u]);l=i(l,d)}let c=r(s._common),f=n(c,l);return new e(f)})}static getInstance(t){return e.cache.get(Array.from(t))}static{this._locales=new Rg(()=>Object.keys(e.ambiguousCharacterData.value).filter(t=>!t.startsWith("_")))}static getLocales(){return e._locales.value}isAmbiguous(t){return this.confusableDictionary.has(t)}containsAmbiguousCharacter(t){for(let r=0;r<t.length;r++){let n=t.codePointAt(r);if(typeof n=="number"&&this.isAmbiguous(n))return!0}return!1}getPrimaryConfusable(t){return this.confusableDictionary.get(t)}getConfusableCodePoints(){return new Set(this.confusableDictionary.keys())}},zB=class e{static{o(this,"InvisibleCharacters")}static getRawData(){return JSON.parse("[9,10,11,12,13,32,127,160,173,847,1564,4447,4448,6068,6069,6155,6156,6157,6158,7355,7356,8192,8193,8194,8195,8196,8197,8198,8199,8200,8201,8202,8203,8204,8205,8206,8207,8234,8235,8236,8237,8238,8239,8287,8288,8289,8290,8291,8292,8293,8294,8295,8296,8297,8298,8299,8300,8301,8302,8303,10240,12288,12644,65024,65025,65026,65027,65028,65029,65030,65031,65032,65033,65034,65035,65036,65037,65038,65039,65279,65440,65520,65521,65522,65523,65524,65525,65526,65527,65528,65532,78844,119155,119156,119157,119158,119159,119160,119161,119162,917504,917505,917506,917507,917508,917509,917510,917511,917512,917513,917514,917515,917516,917517,917518,917519,917520,917521,917522,917523,917524,917525,917526,917527,917528,917529,917530,917531,917532,917533,917534,917535,917536,917537,917538,917539,917540,917541,917542,917543,917544,917545,917546,917547,917548,917549,917550,917551,917552,917553,917554,917555,917556,917557,917558,917559,917560,917561,917562,917563,917564,917565,917566,917567,917568,917569,917570,917571,917572,917573,917574,917575,917576,917577,917578,917579,917580,917581,917582,917583,917584,917585,917586,917587,917588,917589,917590,917591,917592,917593,917594,917595,917596,917597,917598,917599,917600,917601,917602,917603,917604,917605,917606,917607,917608,917609,917610,917611,917612,917613,917614,917615,917616,917617,917618,917619,917620,917621,917622,917623,917624,917625,917626,917627,917628,917629,917630,917631,917760,917761,917762,917763,917764,917765,917766,917767,917768,917769,917770,917771,917772,917773,917774,917775,917776,917777,917778,917779,917780,917781,917782,917783,917784,917785,917786,917787,917788,917789,917790,917791,917792,917793,917794,917795,917796,917797,917798,917799,917800,917801,917802,917803,917804,917805,917806,917807,917808,917809,917810,917811,917812,917813,917814,917815,917816,917817,917818,917819,917820,917821,917822,917823,917824,917825,917826,917827,917828,917829,917830,917831,917832,917833,917834,917835,917836,917837,917838,917839,917840,917841,917842,917843,917844,917845,917846,917847,917848,917849,917850,917851,917852,917853,917854,917855,917856,917857,917858,917859,917860,917861,917862,917863,917864,917865,917866,917867,917868,917869,917870,917871,917872,917873,917874,917875,917876,917877,917878,917879,917880,917881,917882,917883,917884,917885,917886,917887,917888,917889,917890,917891,917892,917893,917894,917895,917896,917897,917898,917899,917900,917901,917902,917903,917904,917905,917906,917907,917908,917909,917910,917911,917912,917913,917914,917915,917916,917917,917918,917919,917920,917921,917922,917923,917924,917925,917926,917927,917928,917929,917930,917931,917932,917933,917934,917935,917936,917937,917938,917939,917940,917941,917942,917943,917944,917945,917946,917947,917948,917949,917950,917951,917952,917953,917954,917955,917956,917957,917958,917959,917960,917961,917962,917963,917964,917965,917966,917967,917968,917969,917970,917971,917972,917973,917974,917975,917976,917977,917978,917979,917980,917981,917982,917983,917984,917985,917986,917987,917988,917989,917990,917991,917992,917993,917994,917995,917996,917997,917998,917999]")}static{this._data=void 0}static getData(){return this._data||(this._data=new Set(e.getRawData())),this._data}static isInvisibleCharacter(t){return e.getData().has(t)}static containsInvisibleCharacter(t){for(let r=0;r<t.length;r++){let n=t.codePointAt(r);if(typeof n=="number"&&e.isInvisibleCharacter(n))return!0}return!1}static get codePoints(){return e.getData()}};var Ng=class e{constructor(t,r){this.start=t;this.endExclusive=r;if(t>r)throw new wn(`Invalid range: ${this.toString()}`)}static{o(this,"OffsetRange")}static fromTo(t,r){return new e(t,r)}static addRange(t,r){let n=0;for(;n<r.length&&r[n].endExclusive<t.start;)n++;let i=n;for(;i<r.length&&r[i].start<=t.endExclusive;)i++;if(n===i)r.splice(n,0,t);else{let s=Math.min(t.start,r[n].start),a=Math.max(t.endExclusive,r[i-1].endExclusive);r.splice(n,i-n,new e(s,a))}}static tryCreate(t,r){if(!(t>r))return new e(t,r)}static ofLength(t){return new e(0,t)}static ofStartAndLength(t,r){return new e(t,t+r)}static emptyAt(t){return new e(t,t)}get isEmpty(){return this.start===this.endExclusive}delta(t){return new e(this.start+t,this.endExclusive+t)}deltaStart(t){return new e(this.start+t,this.endExclusive)}deltaEnd(t){return new e(this.start,this.endExclusive+t)}get length(){return this.endExclusive-this.start}toString(){return`[${this.start}, ${this.endExclusive})`}equals(t){return this.start===t.start&&this.endExclusive===t.endExclusive}containsRange(t){return this.start<=t.start&&t.endExclusive<=this.endExclusive}contains(t){return this.start<=t&&t<this.endExclusive}join(t){return new e(Math.min(this.start,t.start),Math.max(this.endExclusive,t.endExclusive))}intersect(t){let r=Math.max(this.start,t.start),n=Math.min(this.endExclusive,t.endExclusive);if(r<=n)return new e(r,n)}intersectionLength(t){let r=Math.max(this.start,t.start),n=Math.min(this.endExclusive,t.endExclusive);return Math.max(0,n-r)}intersects(t){let r=Math.max(this.start,t.start),n=Math.min(this.endExclusive,t.endExclusive);return r<n}intersectsOrTouches(t){let r=Math.max(this.start,t.start),n=Math.min(this.endExclusive,t.endExclusive);return r<=n}isBefore(t){return this.endExclusive<=t.start}isAfter(t){return this.start>=t.endExclusive}slice(t){return t.slice(this.start,this.endExclusive)}substring(t){return t.substring(this.start,this.endExclusive)}clip(t){if(this.isEmpty)throw new wn(`Invalid clipping range: ${this.toString()}`);return Math.max(this.start,Math.min(this.endExclusive-1,t))}clipCyclic(t){if(this.isEmpty)throw new wn(`Invalid clipping range: ${this.toString()}`);return t<this.start?this.endExclusive-(this.start-t)%this.length:t>=this.endExclusive?this.start+(t-this.start)%this.length:t}map(t){let r=[];for(let n=this.start;n<this.endExclusive;n++)r.push(t(n));return r}forEach(t){for(let r=this.start;r<this.endExclusive;r++)t(r)}joinRightTouching(t){if(this.endExclusive!==t.start)throw new wn(`Invalid join: ${this.toString()} and ${t.toString()}`);return new e(this.start,t.endExclusive)}};var Ha=class e{static{o(this,"Position")}constructor(t,r){this.lineNumber=t,this.column=r}with(t=this.lineNumber,r=this.column){return t===this.lineNumber&&r===this.column?this:new e(t,r)}delta(t=0,r=0){return this.with(this.lineNumber+t,this.column+r)}equals(t){return e.equals(this,t)}static equals(t,r){return!t&&!r?!0:!!t&&!!r&&t.lineNumber===r.lineNumber&&t.column===r.column}isBefore(t){return e.isBefore(this,t)}static isBefore(t,r){return t.lineNumber<r.lineNumber?!0:r.lineNumber<t.lineNumber?!1:t.column<r.column}isBeforeOrEqual(t){return e.isBeforeOrEqual(this,t)}static isBeforeOrEqual(t,r){return t.lineNumber<r.lineNumber?!0:r.lineNumber<t.lineNumber?!1:t.column<=r.column}static compare(t,r){let n=t.lineNumber|0,i=r.lineNumber|0;if(n===i){let s=t.column|0,a=r.column|0;return s-a}return n-i}clone(){return new e(this.lineNumber,this.column)}toString(){return"("+this.lineNumber+","+this.column+")"}static lift(t){return new e(t.lineNumber,t.column)}static isIPosition(t){return t&&typeof t.lineNumber=="number"&&typeof t.column=="number"}toJSON(){return{lineNumber:this.lineNumber,column:this.column}}};var zs=class e{static{o(this,"Range")}constructor(t,r,n,i){t>n||t===n&&r>i?(this.startLineNumber=n,this.startColumn=i,this.endLineNumber=t,this.endColumn=r):(this.startLineNumber=t,this.startColumn=r,this.endLineNumber=n,this.endColumn=i)}isEmpty(){return e.isEmpty(this)}static isEmpty(t){return t.startLineNumber===t.endLineNumber&&t.startColumn===t.endColumn}containsPosition(t){return e.containsPosition(this,t)}static containsPosition(t,r){return!(r.lineNumber<t.startLineNumber||r.lineNumber>t.endLineNumber||r.lineNumber===t.startLineNumber&&r.column<t.startColumn||r.lineNumber===t.endLineNumber&&r.column>t.endColumn)}static strictContainsPosition(t,r){return!(r.lineNumber<t.startLineNumber||r.lineNumber>t.endLineNumber||r.lineNumber===t.startLineNumber&&r.column<=t.startColumn||r.lineNumber===t.endLineNumber&&r.column>=t.endColumn)}containsRange(t){return e.containsRange(this,t)}static containsRange(t,r){return!(r.startLineNumber<t.startLineNumber||r.endLineNumber<t.startLineNumber||r.startLineNumber>t.endLineNumber||r.endLineNumber>t.endLineNumber||r.startLineNumber===t.startLineNumber&&r.startColumn<t.startColumn||r.endLineNumber===t.endLineNumber&&r.endColumn>t.endColumn)}strictContainsRange(t){return e.strictContainsRange(this,t)}static strictContainsRange(t,r){return!(r.startLineNumber<t.startLineNumber||r.endLineNumber<t.startLineNumber||r.startLineNumber>t.endLineNumber||r.endLineNumber>t.endLineNumber||r.startLineNumber===t.startLineNumber&&r.startColumn<=t.startColumn||r.endLineNumber===t.endLineNumber&&r.endColumn>=t.endColumn)}plusRange(t){return e.plusRange(this,t)}static plusRange(t,r){let n,i,s,a;return r.startLineNumber<t.startLineNumber?(n=r.startLineNumber,i=r.startColumn):r.startLineNumber===t.startLineNumber?(n=r.startLineNumber,i=Math.min(r.startColumn,t.startColumn)):(n=t.startLineNumber,i=t.startColumn),r.endLineNumber>t.endLineNumber?(s=r.endLineNumber,a=r.endColumn):r.endLineNumber===t.endLineNumber?(s=r.endLineNumber,a=Math.max(r.endColumn,t.endColumn)):(s=t.endLineNumber,a=t.endColumn),new e(n,i,s,a)}intersectRanges(t){return e.intersectRanges(this,t)}static intersectRanges(t,r){let n=t.startLineNumber,i=t.startColumn,s=t.endLineNumber,a=t.endColumn,l=r.startLineNumber,c=r.startColumn,f=r.endLineNumber,u=r.endColumn;return n<l?(n=l,i=c):n===l&&(i=Math.max(i,c)),s>f?(s=f,a=u):s===f&&(a=Math.min(a,u)),n>s||n===s&&i>a?null:new e(n,i,s,a)}equalsRange(t){return e.equalsRange(this,t)}static equalsRange(t,r){return!t&&!r?!0:!!t&&!!r&&t.startLineNumber===r.startLineNumber&&t.startColumn===r.startColumn&&t.endLineNumber===r.endLineNumber&&t.endColumn===r.endColumn}getEndPosition(){return e.getEndPosition(this)}static getEndPosition(t){return new Ha(t.endLineNumber,t.endColumn)}getStartPosition(){return e.getStartPosition(this)}static getStartPosition(t){return new Ha(t.startLineNumber,t.startColumn)}toString(){return"["+this.startLineNumber+","+this.startColumn+" -> "+this.endLineNumber+","+this.endColumn+"]"}setEndPosition(t,r){return new e(this.startLineNumber,this.startColumn,t,r)}setStartPosition(t,r){return new e(t,r,this.endLineNumber,this.endColumn)}collapseToStart(){return e.collapseToStart(this)}static collapseToStart(t){return new e(t.startLineNumber,t.startColumn,t.startLineNumber,t.startColumn)}collapseToEnd(){return e.collapseToEnd(this)}static collapseToEnd(t){return new e(t.endLineNumber,t.endColumn,t.endLineNumber,t.endColumn)}delta(t){return new e(this.startLineNumber+t,this.startColumn,this.endLineNumber+t,this.endColumn)}isSingleLine(){return this.startLineNumber===this.endLineNumber}static fromPositions(t,r=t){return new e(t.lineNumber,t.column,r.lineNumber,r.column)}static lift(t){return t?new e(t.startLineNumber,t.startColumn,t.endLineNumber,t.endColumn):null}static isIRange(t){return t&&typeof t.startLineNumber=="number"&&typeof t.startColumn=="number"&&typeof t.endLineNumber=="number"&&typeof t.endColumn=="number"}static areIntersectingOrTouching(t,r){return!(t.endLineNumber<r.startLineNumber||t.endLineNumber===r.startLineNumber&&t.endColumn<r.startColumn||r.endLineNumber<t.startLineNumber||r.endLineNumber===t.startLineNumber&&r.endColumn<t.startColumn)}static areIntersecting(t,r){return!(t.endLineNumber<r.startLineNumber||t.endLineNumber===r.startLineNumber&&t.endColumn<=r.startColumn||r.endLineNumber<t.startLineNumber||r.endLineNumber===t.startLineNumber&&r.endColumn<=t.startColumn)}static compareRangesUsingStarts(t,r){if(t&&r){let s=t.startLineNumber|0,a=r.startLineNumber|0;if(s===a){let l=t.startColumn|0,c=r.startColumn|0;if(l===c){let f=t.endLineNumber|0,u=r.endLineNumber|0;if(f===u){let d=t.endColumn|0,p=r.endColumn|0;return d-p}return f-u}return l-c}return s-a}return(t?1:0)-(r?1:0)}static compareRangesUsingEnds(t,r){return t.endLineNumber===r.endLineNumber?t.endColumn===r.endColumn?t.startLineNumber===r.startLineNumber?t.startColumn-r.startColumn:t.startLineNumber-r.startLineNumber:t.endColumn-r.endColumn:t.endLineNumber-r.endLineNumber}static spansMultipleLines(t){return t.endLineNumber>t.startLineNumber}toJSON(){return this}};var Zu=class e{static{o(this,"LineRange")}static fromRange(t){return new e(t.startLineNumber,t.endLineNumber)}static fromRangeInclusive(t){return new e(t.startLineNumber,t.endLineNumber+1)}static subtract(t,r){return r?t.startLineNumber<r.startLineNumber&&r.endLineNumberExclusive<t.endLineNumberExclusive?[new e(t.startLineNumber,r.startLineNumber),new e(r.endLineNumberExclusive,t.endLineNumberExclusive)]:r.startLineNumber<=t.startLineNumber&&t.endLineNumberExclusive<=r.endLineNumberExclusive?[]:r.endLineNumberExclusive<t.endLineNumberExclusive?[new e(Math.max(r.endLineNumberExclusive,t.startLineNumber),t.endLineNumberExclusive)]:[new e(t.startLineNumber,Math.min(r.startLineNumber,t.endLineNumberExclusive))]:[t]}static joinMany(t){if(t.length===0)return[];let r=new V3(t[0].slice());for(let n=1;n<t.length;n++)r=r.getUnion(new V3(t[n].slice()));return r.ranges}static join(t){if(t.length===0)throw new wn("lineRanges cannot be empty");let r=t[0].startLineNumber,n=t[0].endLineNumberExclusive;for(let i=1;i<t.length;i++)r=Math.min(r,t[i].startLineNumber),n=Math.max(n,t[i].endLineNumberExclusive);return new e(r,n)}static ofLength(t,r){return new e(t,t+r)}static deserialize(t){return new e(t[0],t[1])}constructor(t,r){if(t>r)throw new wn(`startLineNumber ${t} cannot be after endLineNumberExclusive ${r}`);this.startLineNumber=t,this.endLineNumberExclusive=r}contains(t){return this.startLineNumber<=t&&t<this.endLineNumberExclusive}get isEmpty(){return this.startLineNumber===this.endLineNumberExclusive}delta(t){return new e(this.startLineNumber+t,this.endLineNumberExclusive+t)}deltaLength(t){return new e(this.startLineNumber,this.endLineNumberExclusive+t)}get length(){return this.endLineNumberExclusive-this.startLineNumber}join(t){return new e(Math.min(this.startLineNumber,t.startLineNumber),Math.max(this.endLineNumberExclusive,t.endLineNumberExclusive))}toString(){return`[${this.startLineNumber},${this.endLineNumberExclusive})`}intersect(t){let r=Math.max(this.startLineNumber,t.startLineNumber),n=Math.min(this.endLineNumberExclusive,t.endLineNumberExclusive);if(r<=n)return new e(r,n)}intersectsStrict(t){return this.startLineNumber<t.endLineNumberExclusive&&t.startLineNumber<this.endLineNumberExclusive}overlapOrTouch(t){return this.startLineNumber<=t.endLineNumberExclusive&&t.startLineNumber<=this.endLineNumberExclusive}equals(t){return this.startLineNumber===t.startLineNumber&&this.endLineNumberExclusive===t.endLineNumberExclusive}toInclusiveRange(){return this.isEmpty?null:new zs(this.startLineNumber,1,this.endLineNumberExclusive-1,Number.MAX_SAFE_INTEGER)}toExclusiveRange(){return new zs(this.startLineNumber,1,this.endLineNumberExclusive,1)}mapToLineArray(t){let r=[];for(let n=this.startLineNumber;n<this.endLineNumberExclusive;n++)r.push(t(n));return r}forEach(t){for(let r=this.startLineNumber;r<this.endLineNumberExclusive;r++)t(r)}serialize(){return[this.startLineNumber,this.endLineNumberExclusive]}includes(t){return this.startLineNumber<=t&&t<this.endLineNumberExclusive}toOffsetRange(){return new Ng(this.startLineNumber-1,this.endLineNumberExclusive-1)}distanceToRange(t){return this.endLineNumberExclusive<=t.startLineNumber?t.startLineNumber-this.endLineNumberExclusive:t.endLineNumberExclusive<=this.startLineNumber?this.startLineNumber-t.endLineNumberExclusive:0}distanceToLine(t){return this.contains(t)?0:t<this.startLineNumber?this.startLineNumber-t:t-this.endLineNumberExclusive}addMargin(t,r){return new e(this.startLineNumber-t,this.endLineNumberExclusive+r)}},V3=class e{constructor(t=[]){this._normalizedRanges=t}static{o(this,"LineRangeSet")}get ranges(){return this._normalizedRanges}addRange(t){if(t.length===0)return;let r=qx(this._normalizedRanges,i=>i.endLineNumberExclusive>=t.startLineNumber),n=fm(this._normalizedRanges,i=>i.startLineNumber<=t.endLineNumberExclusive)+1;if(r===n)this._normalizedRanges.splice(r,0,t);else if(r===n-1){let i=this._normalizedRanges[r];this._normalizedRanges[r]=i.join(t)}else{let i=this._normalizedRanges[r].join(this._normalizedRanges[n-1]).join(t);this._normalizedRanges.splice(r,n-r,i)}}contains(t){let r=rT(this._normalizedRanges,n=>n.startLineNumber<=t);return!!r&&r.endLineNumberExclusive>t}intersects(t){let r=rT(this._normalizedRanges,n=>n.startLineNumber<t.endLineNumberExclusive);return!!r&&r.endLineNumberExclusive>t.startLineNumber}getUnion(t){if(this._normalizedRanges.length===0)return t;if(t._normalizedRanges.length===0)return this;let r=[],n=0,i=0,s=null;for(;n<this._normalizedRanges.length||i<t._normalizedRanges.length;){let a=null;if(n<this._normalizedRanges.length&&i<t._normalizedRanges.length){let l=this._normalizedRanges[n],c=t._normalizedRanges[i];l.startLineNumber<c.startLineNumber?(a=l,n++):(a=c,i++)}else n<this._normalizedRanges.length?(a=this._normalizedRanges[n],n++):(a=t._normalizedRanges[i],i++);s===null?s=a:s.endLineNumberExclusive>=a.startLineNumber?s=new Zu(s.startLineNumber,Math.max(s.endLineNumberExclusive,a.endLineNumberExclusive)):(r.push(s),s=a)}return s!==null&&r.push(s),new e(r)}subtractFrom(t){let r=qx(this._normalizedRanges,a=>a.endLineNumberExclusive>=t.startLineNumber),n=fm(this._normalizedRanges,a=>a.startLineNumber<=t.endLineNumberExclusive)+1;if(r===n)return new e([t]);let i=[],s=t.startLineNumber;for(let a=r;a<n;a++){let l=this._normalizedRanges[a];l.startLineNumber>s&&i.push(new Zu(s,l.startLineNumber)),s=l.endLineNumberExclusive}return s<t.endLineNumberExclusive&&i.push(new Zu(s,t.endLineNumberExclusive)),new e(i)}toString(){return this._normalizedRanges.map(t=>t.toString()).join(", ")}getIntersection(t){let r=[],n=0,i=0;for(;n<this._normalizedRanges.length&&i<t._normalizedRanges.length;){let s=this._normalizedRanges[n],a=t._normalizedRanges[i],l=s.intersect(a);l&&!l.isEmpty&&r.push(l),s.endLineNumberExclusive<a.endLineNumberExclusive?n++:i++}return new e(r)}getWithDelta(t){return new e(this._normalizedRanges.map(r=>r.delta(t)))}};var TI=class e{constructor(t,r){this.lineCount=t;this.columnCount=r}static{o(this,"TextLength")}static{this.zero=new e(0,0)}static lengthDiffNonNegative(t,r){return r.isLessThan(t)?e.zero:t.lineCount===r.lineCount?new e(0,r.columnCount-t.columnCount):new e(r.lineCount-t.lineCount,r.columnCount)}static betweenPositions(t,r){return t.lineNumber===r.lineNumber?new e(0,r.column-t.column):new e(r.lineNumber-t.lineNumber,r.column-1)}static fromPosition(t){return new e(t.lineNumber-1,t.column-1)}static ofRange(t){return e.betweenPositions(t.getStartPosition(),t.getEndPosition())}static ofText(t){let r=0,n=0;for(let i of t)i===`
`?(r++,n=0):n++;return new e(r,n)}isZero(){return this.lineCount===0&&this.columnCount===0}isLessThan(t){return this.lineCount!==t.lineCount?this.lineCount<t.lineCount:this.columnCount<t.columnCount}isGreaterThan(t){return this.lineCount!==t.lineCount?this.lineCount>t.lineCount:this.columnCount>t.columnCount}isGreaterThanOrEqualTo(t){return this.lineCount!==t.lineCount?this.lineCount>t.lineCount:this.columnCount>=t.columnCount}equals(t){return this.lineCount===t.lineCount&&this.columnCount===t.columnCount}compare(t){return this.lineCount!==t.lineCount?this.lineCount-t.lineCount:this.columnCount-t.columnCount}add(t){return t.lineCount===0?new e(this.lineCount,this.columnCount+t.columnCount):new e(this.lineCount+t.lineCount,t.columnCount)}createRange(t){return this.lineCount===0?new zs(t.lineNumber,t.column,t.lineNumber,t.column+this.columnCount):new zs(t.lineNumber,t.column,t.lineNumber+this.lineCount,this.columnCount+1)}toRange(){return new zs(1,1,this.lineCount+1,this.columnCount+1)}toLineRange(){return Zu.ofLength(1,this.lineCount)}addToPosition(t){return this.lineCount===0?new Ha(t.lineNumber,t.column+this.columnCount):new Ha(t.lineNumber+this.lineCount,this.columnCount+1)}addToRange(t){return zs.fromPositions(this.addToPosition(t.getStartPosition()),this.addToPosition(t.getEndPosition()))}toString(){return`${this.lineCount},${this.columnCount}`}};var gc=class extends Co{static{o(this,"RecentEditsProvider")}};function Ile(e,t=!1,r=void 0,n){if(t&&(r===void 0||n===void 0))throw new Error("cursorLine and activeDocDistanceLimitFromCursor are required when filterByCursorLine is true");let i=e.startLine-1,s=e.endLine-1;return!!(t&&(Math.abs(i-r)<=n||Math.abs(s-r)<=n))}o(Ile,"editIsTooCloseToCursor");var K3=o((e,t)=>{let[r,n]=t.useState();return t.useData(Ji,async i=>{if(!i.document)return;let s=e.ctx.get(gc);if(s.isEnabled())s.start();else return;let a=s.config,l=s.getRecentEdits(),c=new Set,f=e.ctx.get(Gt),u=[];for(let p=l.length-1;p>=0&&!(u.length>=a.maxEdits);p--){let m=l[p];if(!await f.getTextDocument({uri:m.file}))continue;let g=!c.has(m.file);if(c.size+(g?1:0)>a.maxFiles)break;let _=m.file===i.document?.uri,b=_?i.position.line:void 0;if(Ile(m,_,b,a.activeDocDistanceLimitFromCursor))continue;let y=s.getEditSummary(m);if(y){c.add(m.file);let E=f.getRelativePath({uri:m.file});u.unshift(vg(`File: ${E}`)+vg(y))}}if(u.length===0){n(void 0);return}let d=vg("These are recently edited files. Do not suggest code that has been deleted.")+u.join("")+vg("End of recent edits");n(d)}),r?Ge(dc,{children:Ge(en,{children:r})}):void 0},"RecentEdits");var II=new rr;function HB(e){return[...e].sort((t,r)=>{let n=II.get(t.uri)??0;return(II.get(r.uri)??0)-n})}o(HB,"sortByAccessTimes");var VB=o(e=>e.get(Gt).onDidFocusTextDocument(t=>{t&&II.set(t.document.uri.toString(),Date.now())}),"registerDocumentTracker");var Y3=class{constructor(t){this.docManager=t}static{o(this,"OpenTabFiles")}async truncateDocs(t,r,n,i){let s=new Map,a=0;for(let l of t)if(!(a+l.getText().length>Qu.MAX_NEIGHBOR_AGGREGATE_LENGTH)&&(l.uri.startsWith("file:")&&r.startsWith("file:")&&l.uri!==r&&X3(n,l.detectedLanguageId)&&(s.set(l.uri.toString(),{uri:l.uri.toString(),relativePath:this.docManager.getRelativePath(l),source:l.getText()}),a+=l.getText().length),s.size>=i))break;return s}async getNeighborFiles(t,r,n){let i=new Map,s=new Map;return i=await this.truncateDocs(HB(await this.docManager.textDocuments()),t,r,n),s.set("opentabs",Array.from(i.keys()).map(a=>a.toString())),{docs:i,neighborSource:s}}};function KB(e,t,r){return async function(...n){return await Promise.race([e.apply(this,n),new Promise(i=>{setTimeout(i,t,r)})])}}o(KB,"shortCircuit");function Cle(...e){return JSON.stringify(e,(t,r)=>typeof r=="object"?r:String(r))}o(Cle,"defaultHash");function EI(e,t={}){let{hash:r=Cle,cache:n=new Map}=t;return function(...i){let s=r.apply(this,i);if(n.has(s))return n.get(s);let a=e.apply(this,i);return a instanceof Promise&&(a=a.catch(l=>{throw n.delete(s),l})),n.set(s,a),a}}o(EI,"memoize");var wI={entries:[],traits:[]},J3={entries:new Map,traits:[]},CI=class extends rr{constructor(r,n=2*60*1e3){super(r);this.defaultEvictionTimeMs=n;this._cacheTimestamps=new Map}static{o(this,"PromiseExpirationCacheMap")}bumpRetryCount(r){let n=this._cacheTimestamps.get(r);return n?++n.retryCount:(this._cacheTimestamps.set(r,{timestamp:Date.now(),retryCount:0}),0)}has(r){return this.isValid(r)?super.has(r):(this.deleteExpiredEntry(r),!1)}get(r){let n=super.get(r);if(this.isValid(r))return n;this.deleteExpiredEntry(r)}set(r,n){let i=super.set(r,n);return this.isValid(r)||this._cacheTimestamps.set(r,{timestamp:Date.now(),retryCount:0}),i}clear(){super.clear(),this._cacheTimestamps.clear()}isValid(r){let n=this._cacheTimestamps.get(r);return n!==void 0&&Date.now()-n.timestamp<this.defaultEvictionTimeMs}deleteExpiredEntry(r){this._cacheTimestamps.has(r)&&this._cacheTimestamps.delete(r),super.delete(r)}},Un=new St("relatedFiles"),Sle=1e3,Z3=class extends Error{static{o(this,"RelatedFilesProviderFailure")}constructor(){super("The provider failed providing the list of relatedFiles")}},ef=class e{constructor(t){this.context=t}static{o(this,"RelatedFilesProvider")}async getRelatedFiles(t,r,n){let i=await this.getRelatedFilesResponse(t,r,n);if(i===void 0)return;let s={entries:new Map,traits:i.traits??[]};for(let a of i.entries){let l=s.entries.get(a.type);l||(l=new Map,s.entries.set(a.type,l));for(let c of a.uris)try{Un.debug(this.context,`Processing ${c}`);let f=await this.getFileContent(c);if(!f||f.length==0){Un.debug(this.context,`Skip ${c} due to empty content or loading issue.`);continue}if(await this.isContentExcluded(c,f)){Un.debug(this.context,`Skip ${c} due content exclusion.`);continue}f=e.dropBOM(f),l.set(c,f)}catch(f){Un.warn(this.context,f)}}return s}async getFileContent(t){try{return this.context.get(Jr).readFileString(t)}catch(r){Un.debug(this.context,r)}}async isContentExcluded(t,r){try{return(await this.context.get(is).evaluate(t,r)).isBlocked}catch(n){Un.exception(this.context,n,"isContentExcluded")}return!0}static dropBOM(t){return t.charCodeAt(0)===65279?t.slice(1):t}},wle=3,YB=new CI(Sle);async function XB(e,t,r,n,i){let s=performance.now(),a;try{a=await i.getRelatedFiles(t,r,n)}catch(c){Un.exception(e,c,".getRelatedFiles"),a=void 0}a===void 0&&(YB.bumpRetryCount(t.uri)>=wle?a=J3:a=void 0);let l=performance.now()-s;if(Un.debug(e,a!==void 0?`Fetched ${[...a.entries.values()].map(c=>c.size).reduce((c,f)=>c+f,0)} related files for '${t.uri}' in ${l}ms.`:`Failing fetching files for '${t.uri}' in ${l}ms.`),a===void 0)throw new Z3;return a}o(XB,"getRelatedFiles");var SI=EI(XB,{cache:YB,hash:o((e,t,r,n,i)=>`${t.uri}`,"hash")});SI=KB(SI,200,J3);async function Q3(e,t,r,n,i,s=!1){let a=e.get(ef),l=J3;try{let c={uri:t.uri,clientLanguageId:t.clientLanguageId,data:i};l=s?await XB(e,c,r,n,a):await SI(e,c,r,n,a)}catch(c){l=J3,c instanceof Z3&&Se(e,"getRelatedFilesList",r)}return Un.debug(e,l!=null?`Fetched following traits ${l.traits.map(c=>`{${c.name} : ${c.value}}`).join("")} for '${t.uri}'`:`Failing fecthing traits for '${t.uri}'.`),l}o(Q3,"getRelatedFilesAndTraits");function X3(e,t){return y1(e)===y1(t)}o(X3,"considerNeighborFile");var Qu=class e{static{o(this,"NeighborSource")}static{this.MAX_NEIGHBOR_AGGREGATE_LENGTH=2e5}static{this.MAX_NEIGHBOR_FILES=20}static{this.EXCLUDED_NEIGHBORS=["node_modules","dist","site-packages"]}static defaultEmptyResult(){return{docs:new Map,neighborSource:new Map,traits:[]}}static reset(){e.instance=void 0}static async getNeighborFilesAndTraits(t,r,n,i,s,a,l){let c=t.get(Gt);e.instance===void 0&&(e.instance=new Y3(c));let f={...await e.instance.getNeighborFiles(r,n,e.MAX_NEIGHBOR_FILES),traits:[]};if(Ple(t,i))return f;let u=await c.getTextDocument({uri:r});if(!u)return Un.debug(t,"neighborFiles.getNeighborFilesAndTraits",`Failed to get the related files: failed to get the document ${r}`),f;let d=c.getWorkspaceFolder(u);if(!d)return Un.debug(t,"neighborFiles.getNeighborFilesAndTraits",`Failed to get the related files: ${r} is not under the workspace folder`),f;let p=await Q3(t,u,i,s,a,l);return p.entries.size===0?(Un.debug(t,"neighborFiles.getNeighborFilesAndTraits",`0 related files found for ${r}`),f.traits.push(...p.traits),f):(p.entries.forEach((m,g)=>{let h=[];m.forEach((_,b)=>{let x=e.getRelativePath(b,d.uri);if(!x||f.docs.has(b))return;let y={relativePath:x,uri:b,source:_};h.unshift(y),f.docs.set(b,y)}),h.length>0&&f.neighborSource.set(g,h.map(_=>_.uri.toString()))}),f.traits.push(...p.traits),f)}static basename(t){return decodeURIComponent(t.replace(/[#?].*$/,"").replace(/^.*[/:]/,""))}static getRelativePath(t,r){let n=r.toString().replace(/[#?].*/,"").replace(/\/?$/,"/");return t.toString().startsWith(n)?t.toString().slice(n.length):e.basename(t)}};function Ple(e,t){return e.get(Be).excludeRelatedFiles(t)||It(e,_e.ExcludeRelatedFiles)}o(Ple,"isExcludeRelatedFilesActive");function JB(e,t){return e.get(Be).includeNeighboringFiles(t)||It(e,_e.IncludeNeighboringFiles)}o(JB,"isIncludeNeighborFilesActive");var e8=o((e,t)=>{let[r,n]=t.useState(),[i,s]=t.useState([]);t.useData(Ji,async c=>{c.document.uri!==r?.uri&&s([]),n(c.document);let f=Qu.defaultEmptyResult();c.turnOffSimilarFiles||(f=await Qu.getNeighborFilesAndTraits(e.ctx,c.document.uri,c.document.detectedLanguageId,c.telemetryData,c.cancellationToken,c.data));let u=await a(c.telemetryData,c.document,c,f);s(u)});async function a(c,f,u,d){let p=t8(e.ctx,c,f.detectedLanguageId);return(await l(p,c,f,u,d)).filter(g=>g.snippet.length>0).sort((g,h)=>g.score-h.score).map(g=>({...JU(g),score:g.score}))}o(a,"produceSimilarFiles");async function l(c,f,u,d,p){let m=c.similarFilesOptions||N3(e.ctx,f,u.detectedLanguageId),h=e.ctx.get(Gt).getRelativePath(u),_={uri:u.uri,source:u.getText(),offset:u.offsetAt(d.position),relativePath:h,languageId:u.detectedLanguageId};return await iB(_,Array.from(p.docs.values()),m)}return o(l,"findSimilarSnippets"),Ge(qs,{children:[...i.map((c,f)=>Ge(Dle,{snippet:c}))]})},"SimilarFiles"),Dle=o((e,t)=>Ge(dc,{children:[Ge(en,{children:e.snippet.headline}),Ge(en,{children:e.snippet.snippet})]}),"SimilarFile");var r8=o((e,t)=>{let[r,n]=t.useState(),[i,s]=t.useState();if(t.useData(Ji,a=>{a.traits!==r&&n(a.traits);let l=y1(a.document.detectedLanguageId);l!==i&&s(l)}),!(!r||r.length===0||!i))return Ge(qs,{children:[Ge(en,{children:`Consider this related information:
`}),...r.map(a=>Ge(en,{source:a,children:`${a.name}: ${a.value}`},a.id))]})},"Traits");function ZB(e,t){return It(e,_e.UseSplitContextPrompt)??e.get(Be).enablePromptContextProxyField(t)}o(ZB,"shouldUseSplitContextPrompt");function QB(e){return Ge(qs,{children:[Ge(rI,{children:[Ge(F3,{ctx:e,weight:.7}),Ge(r8,{weight:.6}),Ge(A3,{ctx:e,weight:.9}),Ge(e8,{ctx:e,weight:.8})]}),Ge(mB,{weight:1}),Ge(nI,{children:Ge(K3,{ctx:e,weight:.99})}),Ge(dB,{weight:1})]})}o(QB,"splitContextCompletionsPrompt");var ej=0;function Rle(){ej=0}o(Rle,"resetContextIndex");function Nle(){return ej++}o(Nle,"getNextContextIndex");var n8=class extends Sm{constructor(){super(...arguments);this.formatPrefix=gB;this.formatContext=hB}static{o(this,"SplitContextPromptRenderer")}processSnapshot(r,n){let i=[],s=[],a=[],l=!1;if(Rle(),new Em(r,Ale).walkSnapshot((u,d,p)=>{if(u===r||(u.statistics.updateDataTimeMs&&u.statistics.updateDataTimeMs>0&&a.push({componentPath:u.path,updateDataTimeMs:u.statistics.updateDataTimeMs}),u.name===Ku.name&&(l=!0),u.value===void 0||u.value===""))return!0;let m=p.chunks,g=p.type;if(g==="suffix")s.push({value:Tg(u.value),type:"suffix",weight:p.weight,componentPath:u.path,nodeStatistics:u.statistics,chunks:m,source:p.source});else{let h=g==="prefix",_=h||u.value.endsWith(n)?u.value:u.value+n;i.push({type:h?"prefix":"context",value:Tg(_),weight:p.weight,componentPath:u.path,nodeStatistics:u.statistics,chunks:m,source:p.source,index:h?void 0:p.index})}return!0}),!l)throw new Error(`Node of type ${Ku.name} not found`);if(s.length>1)throw new Error("Only one suffix is allowed");let f=s.length===1?s[0]:{componentPath:"",value:"",weight:1,nodeStatistics:{},type:"suffix"};return{prefixBlocks:i,suffixBlock:f,componentStatistics:a}}},Ale=[...lI,(e,t,r)=>k3(e)?{...r,index:Nle()}:r];function tj(e,t,r){let n=b3(r,"Trait");for(let s of n)kle(e,t,s.data,s.providerId);return n.flatMap(s=>s.data).sort((s,a)=>(s.importance??0)-(a.importance??0))}o(tj,"getTraitsFromContextItems");function kle(e,t,r,n){let i=e.get(Ci).getStatisticsForCompletion(t);r.forEach(s=>{i.addExpectations(n,[[s,"included"]])})}o(kle,"setupExpectationsForTraits");var Ole=new Map([["TargetFrameworks","targetFrameworks"],["LanguageVersion","languageVersion"]]);function rj(e,t,r,n,i,s){if(r.length>0){let a={};a.detectedLanguageId=n,a.languageId=i;for(let c of r){let f=Ole.get(c.name);f&&(a[f]=c.value)}let l=s.extendedBy(a,{});return Se(t,e,l)}}o(rj,"ReportTraitsTelemetry");var i8=class{constructor(t){this.states=t;this.currentIndex=0;this.stateChanged=!1}static{o(this,"UseState")}useState(t){let r=this.currentIndex;if(this.states[r]===void 0){let i=typeof t=="function"?t():t;this.states[r]=i}let n=o(i=>{let s=typeof i=="function"?i(this.states[r]):i;this.states[r]=s,this.stateChanged=!0},"setState");return this.currentIndex++,[this.states[r],n]}hasChanged(){return this.stateChanged}},o8=class{constructor(t){this.measureUpdateTime=t;this.consumers=[]}static{o(this,"UseData")}useData(t,r){this.consumers.push(n=>{if(t(n))return r(n)})}async updateData(t){if(this.consumers.length>0){let r=performance.now();for(let n of this.consumers)await n(t);this.measureUpdateTime(performance.now()-r)}}};var s8=class{constructor(t){this.lifecycleData=new Map;this.vTree=this.virtualizeElement(t,"$",0)}static{o(this,"VirtualPromptReconciler")}reconcile(t){if(!this.vTree)throw new Error("No tree to reconcile, make sure to pass a valid prompt");return t?.isCancellationRequested?this.vTree:(this.vTree=this.reconcileNode(this.vTree,"$",0,t),this.vTree)}reconcileNode(t,r,n,i){if(!t.children&&!t.lifecycle)return t;let s=t;if(t.lifecycle?.isRemountRequired()){let l=this.collectChildPaths(t);s=this.virtualizeElement(t.component,r,n);let c=this.collectChildPaths(s);this.cleanupState(l,c)}else if(t.children){let l=[];for(let c=0;c<t.children.length;c++){let f=t.children[c];if(f){let u=this.reconcileNode(f,t.path,c,i);u!==void 0&&l.push(u)}}s.children=l}return s}virtualizeElement(t,r,n){if(!(typeof t>"u")){if(typeof t=="string"||typeof t=="number")return{name:typeof t,path:`${r}[${n}]`,props:{value:t},component:t};if(Lle(t.type)){let i=t.type(t.props.children),s=r!=="$"?`[${n}]`:"",a=`${r}${s}.${i.type}`,l=i.children.map((c,f)=>this.virtualizeElement(c,a,f));return this.ensureUniqueKeys(l),{name:i.type,path:a,children:l.flat().filter(c=>c!==void 0),component:t}}return this.virtualizeFunctionComponent(r,n,t,t.type)}}virtualizeFunctionComponent(t,r,n,i){let s=n.props.key?`["${n.props.key}"]`:`[${r}]`,a=`${t}${s}.${i.name}`,l=new DI(this.getOrCreateLifecycleData(a)),c=i(n.props,l),d=(Array.isArray(c)?c:[c]).map((p,m)=>this.virtualizeElement(p,a,m)).flat().filter(p=>p!==void 0);return this.ensureUniqueKeys(d),{name:i.name,path:a,props:n.props,children:d,component:n,lifecycle:l}}ensureUniqueKeys(t){let r=new Map;for(let i of t){if(!i)continue;let s=i.props?.key;s&&r.set(s,(r.get(s)||0)+1)}let n=Array.from(r.entries()).filter(([i,s])=>s>1).map(([i])=>i);if(n.length>0)throw new Error(`Duplicate keys found: ${n.join(", ")}`)}collectChildPaths(t){let r=[];if(t?.children)for(let n of t.children)n&&(r.push(n.path),r.push(...this.collectChildPaths(n)));return r}cleanupState(t,r){for(let n of t)r.includes(n)||this.lifecycleData.delete(n)}getOrCreateLifecycleData(t){return this.lifecycleData.has(t)||this.lifecycleData.set(t,new PI([])),this.lifecycleData.get(t)}createPipe(){return{pump:o(async t=>{await this.pumpData(t)},"pump")}}async pumpData(t){if(!this.vTree)throw new Error("No tree to pump data into. Pumping data before initializing?");await this.recursivelyPumpData(t,this.vTree)}async recursivelyPumpData(t,r){if(!r)throw new Error("Can't pump data into undefined node.");await r.lifecycle?.dataHook.updateData(t);for(let n of r.children||[])await this.recursivelyPumpData(t,n)}},PI=class{static{o(this,"PromptElementLifecycleData")}constructor(t){this.state=t,this._updateTimeMs=0}getUpdateTimeMsAndReset(){let t=this._updateTimeMs;return this._updateTimeMs=0,t}},DI=class{constructor(t){this.lifecycleData=t;this.stateHook=new i8(t.state),this.dataHook=new o8(r=>{t._updateTimeMs=r})}static{o(this,"PromptElementLifecycle")}useState(t){return this.stateHook.useState(t)}useData(t,r){this.dataHook.useData(t,r)}isRemountRequired(){return this.stateHook.hasChanged()}};function Lle(e){return typeof e=="function"&&"isFragmentFunction"in e}o(Lle,"isFragmentFunction");var Ag=class{static{o(this,"VirtualPrompt")}constructor(t){this.reconciler=new s8(t)}snapshotNode(t,r){if(!t)return;if(r?.isCancellationRequested)return"cancelled";let n=[];for(let i of t.children??[]){let s=this.snapshotNode(i,r);if(s==="cancelled")return"cancelled";s!==void 0&&n.push(s)}return{value:t.props?.value?.toString(),name:t.name,path:t.path,props:t.props,children:n,statistics:{updateDataTimeMs:t.lifecycle?.lifecycleData.getUpdateTimeMsAndReset()}}}snapshot(t){try{let r=this.reconciler.reconcile(t);if(t?.isCancellationRequested)return{snapshot:void 0,status:"cancelled"};if(!r)throw new Error("Invalid virtual prompt tree");let n=this.snapshotNode(r,t);return n==="cancelled"||t?.isCancellationRequested?{snapshot:void 0,status:"cancelled"}:{snapshot:n,status:"ok"}}catch(r){return{snapshot:void 0,status:"error",error:r}}}createPipe(){return this.reconciler.createPipe()}};var Va=class{static{o(this,"CompletionsPromptFactory")}};function nj(e,t,r){return new NI(new AI(new kI(e,t,r)))}o(nj,"createCompletionsPromptFactory");var NI=class extends Va{constructor(r){super();this.delegate=r}static{o(this,"SequentialCompletionsPromptFactory")}prompt(r,n){return this.lastPromise=this.promptAsync(r,n),this.lastPromise}async promptAsync(r,n){if(await this.lastPromise,n?.isCancellationRequested)return Rm;try{return await this.delegate.prompt(r,n)}catch{return LI}}},Mle=1200,AI=class extends Va{constructor(r){super();this.delegate=r}static{o(this,"TimeoutHandlingCompletionsPromptFactory")}async prompt(r,n){let i=new Kt.CancellationTokenSource,s=i.token;return n?.onCancellationRequested(()=>{i.cancel()}),await Promise.race([this.delegate.prompt(r,s),new Promise(a=>{setTimeout(()=>{i.cancel(),a(lj)},Mle)})])}};function Ji(e){if(!e||typeof e!="object")return!1;let t=e;return!(!t.document||!t.position||t.position.line===void 0||t.position.character===void 0||!t.telemetryData)}o(Ji,"isCompletionRequestData");var RI={default:{promptFunction:ij,renderer:Sm},splitContext:{promptFunction:QB,renderer:n8}};function ij(e){return Ge(qs,{children:[Ge(tI,{children:[Ge(F3,{ctx:e,weight:.7}),Ge(r8,{weight:.6}),Ge(A3,{ctx:e,weight:.9}),Ge(e8,{ctx:e,weight:.8}),Ge(K3,{ctx:e,weight:.99})]}),Ge(yg,{weight:1})]})}o(ij,"defaultCompletionsPrompt");var kI=class extends Va{constructor(r,n,i){super();this.ctx=r;this.promptOrdering=i??"default",this.virtualPrompt=n??new Ag(this.completionsPrompt()),this.pipe=this.virtualPrompt.createPipe(),this.renderer=this.getRenderer()}static{o(this,"ComponentsCompletionsPromptFactory")}async prompt(r,n){try{return await this.createPromptUnsafe(r,n)}catch(i){return this.errorPrompt(i)}}async createPromptUnsafe({completionId:r,completionState:n,telemetryData:i,promptOpts:s},a){let{maxPromptLength:l,suffixPercent:c,suffixMatchThreshold:f}=t8(this.ctx,i,n.textDocument.detectedLanguageId),u=await this.failFastPrompt(n.textDocument,n.position,c,a);if(u)return u;let d=s?.separateContext?"splitContext":"default";this.setPromptOrdering(d);let p=performance.now(),{traits:m,codeSnippets:g,turnOffSimilarFiles:h,resolvedContextItems:_}=await this.resolveContext(r,n,i,a,s);if(await this.updateComponentData(n.textDocument,n.position,m,g,i,h,l,a,s,f,s?.tokenizer),a?.isCancellationRequested)return Rm;let b=this.virtualPrompt.snapshot(a),x=b.status;if(x==="cancelled")return Rm;if(x==="error")return this.errorPrompt(b.error);let y=this.renderer.render(b.snapshot,{delimiter:`
`,tokenizer:s?.tokenizer,promptTokenLimit:l,suffixPercent:c,languageId:n.textDocument.detectedLanguageId},a);if(y.status==="cancelled")return Rm;if(y.status==="error")return this.errorPrompt(y.error);let[E,S]=a8(y.prefix),w={...y,prefix:E},z;if(GT(this.ctx,i)){let W=MU(y.metadata.componentStatistics);this.ctx.get(Ci).getStatisticsForCompletion(r).computeMatch(W),z=jU(this.ctx,r,_),Lt.debug(this.ctx,`Context providers telemetry: '${JSON.stringify(z)}'`)}let V=performance.now();return this.resetIfEmpty(y),this.successPrompt(w,V,p,S,z)}async updateComponentData(r,n,i,s,a,l,c,f,u={},d,p){let m=this.createRequestData(r,n,a,f,u,c,i,s,l,d,p);await this.pipe.pump(m)}async resolveContext(r,n,i,s,a={}){let l=[],c,f,u=!1;if(GT(this.ctx,i)){l=await this.ctx.get(za).resolution(r);let{textDocument:d}=n,p=l.filter($U);Ule(this.ctx,d.detectedLanguageId,p,i)||(u=!0),c=tj(this.ctx,r,p),rj("contextProvider.traits",this.ctx,c,d.detectedLanguageId,d.detectedLanguageId,i),f=await lB(this.ctx,r,p,d.detectedLanguageId)}return{traits:c,codeSnippets:f,turnOffSimilarFiles:u,resolvedContextItems:l}}async failFastPrompt(r,n,i,s){if(s?.isCancellationRequested)return Rm;if((await this.ctx.get(is).evaluate(r.uri,r.getText(),"UPDATE")).isBlocked)return aj;if((i>0?r.getText().length:r.offsetAt(n))<oj)return sj}createRequestData(r,n,i,s,a,l,c,f,u,d,p){return{document:r,position:n,telemetryData:i,cancellationToken:s,data:a.data,traits:c,codeSnippets:f,turnOffSimilarFiles:u,suffixMatchThreshold:d,maxPromptTokens:l,tokenizer:p}}resetIfEmpty(r){r.prefix.length===0&&r.suffix.length===0&&this.reset()}successPrompt(r,n,i,s,a){return{type:"prompt",prompt:{prefix:r.prefix,prefixTokens:r.prefixTokens,suffix:r.suffix,suffixTokens:r.suffixTokens,context:r.context,isFimEnabled:r.suffix.length>0},computeTimeMs:n-i,trailingWs:s,neighborSource:new Map,metadata:r.metadata,contextProvidersTelemetry:a}}errorPrompt(r){return Ys(this.ctx,r,"PromptComponents.CompletionsPromptFactory"),this.reset(),LI}reset(){this.renderer=this.getRenderer(),this.virtualPrompt=new Ag(this.completionsPrompt()),this.pipe=this.virtualPrompt.createPipe()}setPromptOrdering(r){this.promptOrdering!==r&&(this.promptOrdering=r,this.reset())}completionsPrompt(){return(RI[this.promptOrdering]?.promptFunction??ij)(this.ctx)}getRenderer(){let r=RI[this.promptOrdering]??RI.default;return new r.renderer}};function Ule(e,t,r,n){let i=["cpp","c"];return JB(e,n)||i.includes(t)||!r.some(a=>a.data.some(l=>l.type==="CodeSnippet"))}o(Ule,"similarFilesEnabled");async function OI(e){try{await k5}catch(t){fc(e,t,"initializeTokenizers")}}o(OI,"waitForTokenizers");var oj=10,sj={type:"contextTooShort"},aj={type:"copilotContentExclusion"},LI={type:"promptError"},Rm={type:"promptCancelled"},lj={type:"promptTimeout"};function a8(e){let t=e.split(`
`),r=t[t.length-1],n=r.length-r.trimEnd().length,i=e.slice(0,e.length-n),s=e.slice(i.length);return[r.length==n?i:e,s]}o(a8,"trimLastLine");function l8(e,t,r,n,i,s={}){let l=e.get(Gt).findNotebook(r.textDocument),c=l?.getCellFor(r.textDocument);l&&c&&(r=jle(r,l,c)),n.extendWithConfigProperties(e),n.sanitizeKeys();let f=ZB(e,n);return e.get(Va).prompt({completionId:t,completionState:r,telemetryData:n,promptOpts:{...s,separateContext:f}},i)}o(l8,"extractPrompt");function Ble(e,t){let r=e.document.detectedLanguageId,n=e.document.getText();return r===t?n:Cm(n,t)}o(Ble,"addNeighboringCellsToPrompt");function jle(e,t,r){let i=t.getCells().filter(l=>l.index<r.index&&X3(r.document.detectedLanguageId,l.document.detectedLanguageId)),s=i.length>0?i.map(l=>Ble(l,r.document.detectedLanguageId)).join(`

`)+`

`:"",a={line:0,character:0};return e.applyEdits([{newText:s,range:{start:a,end:a}}])}o(jle,"applyEditsForNotebook");function t8(e,t,r){let i=e.get(Be).maxPromptCompletionTokens(t)-p3(e),s=aB(t,r),a=N3(e,t,r),l=e.get(Be).suffixPercent(t),c=e.get(Be).suffixMatchThreshold(t);if(l<0||l>100)throw new Error(`suffixPercent must be between 0 and 100, but was ${l}`);if(c<0||c>100)throw new Error(`suffixMatchThreshold must be between 0 and 100, but was ${c}`);return{maxPromptLength:i,similarFilesOptions:a,numberOfSnippets:s,suffixPercent:l,suffixMatchThreshold:c}}o(t8,"getPromptOptions");var cj=2.98410452738298,uj=-.838732736843507,fj=1.50314646255716,dj=-.237798634012662,c8={python:.314368072478742},mj={"0.01":.225800751784931,"0.02":.290204307767402,"0.03":.333153496466045,"0.05":.404516749849559,"0.1":.513216040545626,"0.2":.626904979128674,"0.3":.694880719658273,"0.4":.743100684947291,"0.5":.782524520571946,"0.6":.816856186092243,"0.7":.84922977716585,"0.8":.883694877241999,"0.9":.921859050950077,"0.95":.944571268106974,"0.99":.969535563141733};var $le={link:o(e=>Math.exp(e)/(1+Math.exp(e)),"link"),unlink:o(e=>Math.log(e/(1-e)),"unlink")};function qle(e,t){let r=Math.min(...Array.from(t.keys()).filter(a=>a>=e)),n=Math.max(...Array.from(t.keys()).filter(a=>a<e)),i=t.get(r),s=t.get(n);return s+(i-s)*(e-n)/(r-n)}o(qle,"linearInterpolation");var Nm=class{static{o(this,"Regressor")}constructor(t,r,n){this.name=t,this.coefficient=r,this.transformation=n||(i=>i)}contribution(t){return this.coefficient*this.transformation(t)}},FI=class{constructor(t,r,n){this.link=$le;if(this.intercept=t,this.coefficients=r,this.logitsToQuantiles=new Map,this.logitsToQuantiles.set(0,0),this.logitsToQuantiles.set(1,1),n)for(let i in n)this.logitsToQuantiles.set(n[i],Number(i))}static{o(this,"LogisticRegression")}predict(t,r){let n=this.intercept;for(let i of this.coefficients){let s=r[i.name];if(s===void 0)return NaN;n+=i.contribution(s)}return this.link.link(n)}quantile(t,r){let n=this.predict(t,r);return qle(n,this.logitsToQuantiles)}},pj=new FI(cj,[new Nm("compCharLen",uj,e=>Math.log(1+e)),new Nm("meanLogProb",fj),new Nm("meanAlternativeLogProb",dj)].concat(Object.entries(c8).map(e=>new Nm(e[0],e[1]))),mj);function gj(e,t){let r={...t.measurements};return Object.keys(c8).forEach(n=>{r[n]=t.properties["customDimensions.languageId"]==n?1:0}),pj.predict(e,r)}o(gj,"ghostTextScoreConfidence");function hj(e,t){let r={...t.measurements};return Object.keys(c8).forEach(n=>{r[n]=t.properties["customDimensions.languageId"]==n?1:0}),pj.quantile(e,r)}o(hj,"ghostTextScoreQuantile");var Wle=[{max_token_sequence_length:1,last_tokens_to_consider:10},{max_token_sequence_length:10,last_tokens_to_consider:30},{max_token_sequence_length:20,last_tokens_to_consider:45},{max_token_sequence_length:30,last_tokens_to_consider:60}];function bj(e){let t=e.slice();return t.reverse(),xj(t)||xj(t.filter(r=>r.trim().length>0))}o(bj,"isRepetitive");function xj(e){let t=Gle(e);for(let r of Wle){if(e.length<r.last_tokens_to_consider)continue;if(r.last_tokens_to_consider-1-t[r.last_tokens_to_consider-1]<=r.max_token_sequence_length)return!0}return!1}o(xj,"isRepeatedPattern");function Gle(e){let t=Array(e.length).fill(0);t[0]=-1;let r=-1;for(let n=1;n<e.length;n++){for(;r>=0&&e[r+1]!==e[n];)r=t[r];e[r+1]===e[n]&&r++,t[n]=r}return t}o(Gle,"kmp_prefix_function");function zle(e,t,r,n){let i="}";try{i=UD(t.detectedLanguageId)??"}"}catch{}return Hle({getLineText:o(s=>t.lineAt(s).text,"getLineText"),getLineCount:o(()=>t.lineCount,"getLineCount")},r,n,i)}o(zle,"maybeSnipCompletion");function Hle(e,t,r,n){let i=Vle(r),s=i.lines;if(s.length===1)return r;for(let a=1;a<s.length;a++){let l=!0,c=0,f=0;for(let u=0;u+a+f<s.length;u++){let d;for(;;){let h=t.line+1+u+c;if(d=h>=e.getLineCount()?void 0:e.getLineText(h),d!==void 0&&d.trim()==="")c++;else break}let p,m;for(;p=a+u+f,m=p>=s.length?void 0:s[p],m!==void 0&&m.trim()==="";)f++;let g=p===s.length-1;if(!m||!(d&&(g?d.startsWith(m)||m.startsWith(d):d===m&&m.trim()===n))){l=!1;break}}if(l)return s.slice(0,a).join(i.newLineCharacter)}return r}o(Hle,"maybeSnipCompletionImpl");function Vle(e){let t=e.includes(`\r
`)?`\r
`:`
`;return{lines:e.split(t),newLineCharacter:t}}o(Vle,"splitByNewLine");function Kle(e,t,r,n){let i="",s=t.line+1,a=n?r.trim():r;for(;i===""&&s<e.lineCount;){if(i=e.lineAt(s).text,n&&(i=i.trim()),i===a)return!0;s++}return!1}o(Kle,"matchesNextLine");function MI(e,t,r,n,i,s){if(bj(n.tokens)){let l=Qe.createAndMarkAsIssued();l.extendWithRequestId(n.requestId),Se(e,"repetition.detected",l,1),s.info(e,"Filtered out repetitive solution");return}let a={...n};if(Kle(t,r,a.completionText,!i)){let l=Qe.createAndMarkAsIssued();l.extendWithRequestId(n.requestId),Se(e,"completion.alreadyInDocument",l),Se(e,"completion.alreadyInDocument",l.extendedBy({completionTextJson:JSON.stringify(a.completionText)}),1),s.info(e,"Filtered out solution matching next line");return}return a.completionText=zle(e,t,r,a.completionText),a.completionText?a:void 0}o(MI,"postProcessChoiceInContext");function _j(e,t,r){let i=e.lineAt(t.line).text.substring(t.character);if(i.length>0){if(r.completionText.indexOf(i)!==-1)return i.length;{let s=-1,a=0;for(let l of i){let c=r.completionText.indexOf(l,s+1);if(c>s)a++,s=c;else break}return a}}return 0}o(_j,"checkSuffix");var Ij=Tt(zm());var tr=new St("ghostText");var Yle=200,yj=20;async function Ej(e,t,r,n,i,s,a){tr.debug(e,`Getting ${s} from network`),r=r.extendedBy();let l=t.isCycling?3:1,c=m3(e,l),f={language:t.languageId,next_indent:t.indentation.next??0,trim_by_indentation:ZD(t.blockMode),prompt_tokens:t.prompt.prefixTokens??0,suffix_tokens:t.prompt.suffixTokens??0},u={n:l,temperature:c},d=It(e,_e.ModelAlwaysTerminatesSingleline)??e.get(Be).modelAlwaysTerminatesSingleline(r),p=t.blockMode==="moremultiline"&&U0.isSupported(t.languageId)&&!d;!t.multiline&&!p?u.stop=[`
`]:t.stop&&(u.stop=t.stop),t.maxTokens!==void 0&&(u.max_tokens=t.maxTokens);let m=Date.now(),g={endpoint:"completions",uiKind:"ghostText",temperature:JSON.stringify(c),n:JSON.stringify(l),stop:JSON.stringify(u.stop)??"unset",logit_bias:JSON.stringify(null)};Object.assign(r.properties,g);try{let h={prompt:t.prompt,languageId:t.languageId,repoInfo:t.repoInfo,ourRequestId:t.ourRequestId,engineModelId:t.engineModelId,count:l,uiKind:"ghostText",postOptions:u,headers:t.headers,extra:f},_=await e.get(cc).fetchAndStreamCompletions(e,h,r,i,n);return _.type==="failed"?{type:"failed",reason:_.reason,telemetryData:Wr(r)}:_.type==="canceled"?(tr.debug(e,"Cancelled after awaiting fetchCompletions"),{type:"canceled",reason:_.reason,telemetryData:j0(r)}):a(m,_.getProcessingTime(),_.choices)}catch(h){if(Ks(h))return{type:"canceled",reason:"network request aborted",telemetryData:j0(r,{cancelledNetworkRequest:!0})};if(tr.exception(e,h,"Error on ghost text request"),e.get(p0).notifyUser(e,h),cf(e))throw h;return{type:"failed",reason:"non-abort error on ghost text request",telemetryData:Wr(r)}}}o(Ej,"genericGetCompletionsFromNetwork");function UI(e,t,r){if(r||(r=[]),e.completionText=e.completionText.trimEnd(),!!e.completionText&&r.findIndex(n=>n.completionText.trim()===e.completionText.trim())===-1)return e}o(UI,"postProcessChoices");async function Xle(e,t,r,n,i){return Ej(e,t,r,n,i,"completions",async(s,a,l)=>{let f=await l[Symbol.asyncIterator]().next();if(f.done)return tr.debug(e,"All choices redacted"),{type:"empty",reason:"all choices redacted",telemetryData:Wr(r)};if(n?.isCancellationRequested)return tr.debug(e,"Cancelled after awaiting redactedChoices iterator"),{type:"canceled",reason:"after awaiting redactedChoices iterator",telemetryData:j0(r)};let u=f.value;if(u===void 0)return tr.debug(e,"Got undefined choice from redactedChoices iterator"),{type:"empty",reason:"got undefined choice from redactedChoices iterator",telemetryData:Wr(r)};Sj(e,"performance",u,s,a),tr.debug(e,`Awaited first result, id:  ${u.choiceIndex}`);let d=UI(u,t);d&&(u8(e,t,d),tr.debug(e,`GhostText first completion (index ${d?.choiceIndex}): ${JSON.stringify(d?.completionText)}`));let p=(async()=>{let m=d!==void 0?[d]:[];for await(let g of l){if(g===void 0)continue;tr.debug(e,`GhostText later completion (index ${g?.choiceIndex}): ${JSON.stringify(g.completionText)}`);let h=UI(g,t,m);h&&(m.push(h),u8(e,t,h))}})();return ms(e)&&await p,d?{type:"success",value:[BI(d,{forceSingleLine:!1}),p],telemetryData:Wr(r),telemetryBlob:r,resultType:0}:{type:"empty",reason:"got undefined processedFirstChoice",telemetryData:Wr(r)}})}o(Xle,"getCompletionsFromNetwork");async function Jle(e,t,r,n,i){return Ej(e,t,r,n,i,"all completions",async(s,a,l)=>{let c=[];for await(let f of l){if(n?.isCancellationRequested)return tr.debug(e,"Cancelled after awaiting choices iterator"),{type:"canceled",reason:"after awaiting choices iterator",telemetryData:j0(r)};let u=UI(f,t,c);u&&c.push(u)}if(c.length>0){for(let f of c)u8(e,t,f);Sj(e,"cyclingPerformance",c[0],s,a)}return{type:"success",value:[c,Promise.resolve()],telemetryData:Wr(r),telemetryBlob:r,resultType:3}})}o(Jle,"getAllCompletionsFromNetwork");function BI(e,t){let r={...e};if(t.forceSingleLine){let{completionText:n}=r,i=n.match(/^\r?\n/);i?r.completionText=i[0]+n.split(`
`)[1]:r.completionText=n.split(`
`)[0]}return r}o(BI,"makeGhostAPIChoice");function vj(e){return t=>{let r=t?.split(`
`)??[];if(r.length>e+1)return r.slice(0,e+1).join(`
`).length}}o(vj,"takeNLines");async function Zle(e,t,r,n,i,s,a,l,c){let f=e.get(Be).multilineAfterAcceptLines(c),u=e.get(qc).forLanguage(e,t.textDocument.detectedLanguageId,c);switch(u){case"server":return a?{blockMode:"parsing",requestMultiline:!0,finishedCb:vj(f),stop:[`

`],maxTokens:yj*f}:{blockMode:"server",requestMultiline:!0,finishedCb:o(d=>{},"finishedCb")};case"parsing":case"parsingandserver":case"moremultiline":default:{let d;try{d=await ace(e,u,t.textDocument,t.position,s,l,n)}catch{d={requestMultiline:!1}}if(!a&&d.requestMultiline&&e.get(Be).singleLineUnlessAccepted(c)&&(d.requestMultiline=!1),d.requestMultiline){let p;return n.trailingWs.length>0&&!n.prompt.prefix.endsWith(n.trailingWs)?p=mi.position(t.position.line,Math.max(t.position.character-n.trailingWs.length,0)):p=t.position,{blockMode:u,requestMultiline:!0,...Tj(e,u,t.textDocument,p,d.blockPosition,r,!0,n.prompt,c)}}if(a){let p={blockMode:"parsing",requestMultiline:!0,finishedCb:vj(f),stop:[`

`],maxTokens:yj*f};return u==="moremultiline"&&(p.blockMode="moremultiline"),p}return{blockMode:u,requestMultiline:!1,...Tj(e,u,t.textDocument,t.position,d.blockPosition,r,!1,n.prompt,c)}}}}o(Zle,"getGhostTextStrategy");function Tj(e,t,r,n,i,s,a,l,c){if(a&&t==="moremultiline"&&U0.isSupported(r.detectedLanguageId)){let f=i==="empty-block"||i==="block-end"?e.get(Be).longLookaheadSize(c):e.get(Be).shortLookaheadSize(c);return{finishedCb:new g3(e,s,r.detectedLanguageId,!1,f,(d,p)=>{let m={prefix:s+d,prompt:{...l,prefix:l.prefix+d}};u8(e,m,p)}).getFinishedCallback(),maxTokens:Yle}}return{finishedCb:a?KU(e,r,n):f=>{}}}o(Tj,"buildFinishedCallback");var Qle={isCycling:!1,promptOnly:!1,isSpeculative:!1};function ece(e,t,r){let n=It(e,_e.CompletionsDebounce)??e.get(Be).completionsDebounce(r)??t.debounceMs;if(n===void 0)return 0;let i=gn()-r.issuedTime;return Math.max(0,n-i)}o(ece,"getRemainingDebounceMs");async function tce(e,t,r,n,i,s){let a=n.issuedTime,l=[];function c(x){let y=gn();l.push([x,y-a]),a=y}o(c,"recordPerformance"),c("telemetry");let f=e.get(Be);if(i?.isCancellationRequested)return{type:"abortedBeforeIssued",reason:"cancelled before extractPrompt",telemetryData:Wr(n)};let u=nce(t.textDocument,t.position);if(u===void 0)return tr.debug(e,"Breaking, invalid middle of the line"),{type:"abortedBeforeIssued",reason:"Invalid middle of the line",telemetryData:Wr(n)};let d=i,p=new Kt.CancellationTokenSource;i=p.token;let m=Gf(e,n),g={...Qle,...s,tokenizer:m.tokenizer},h=await l8(e,r,t,n,i,g);if(c("prompt"),h.type==="copilotContentExclusion")return tr.debug(e,"Copilot not available, due to content exclusion"),{type:"abortedBeforeIssued",reason:"Copilot not available due to content exclusion",telemetryData:Wr(n)};if(h.type==="contextTooShort")return tr.debug(e,"Breaking, not enough context"),{type:"abortedBeforeIssued",reason:"Not enough context",telemetryData:Wr(n)};if(h.type==="promptError")return tr.debug(e,"Error while building the prompt"),{type:"abortedBeforeIssued",reason:"Error while building the prompt",telemetryData:Wr(n)};if(g.promptOnly)return{type:"promptOnly",reason:"Breaking, promptOnly set to true",prompt:h};if(h.type==="promptCancelled")return tr.debug(e,"Cancelled during extractPrompt"),{type:"abortedBeforeIssued",reason:"Cancelled during extractPrompt",telemetryData:Wr(n)};if(h.type==="promptTimeout")return tr.debug(e,"Timeout during extractPrompt"),{type:"abortedBeforeIssued",reason:"Timeout",telemetryData:Wr(n)};if(h.prompt.prefix.length===0&&h.prompt.suffix.length===0)return tr.debug(e,"Error empty prompt"),{type:"abortedBeforeIssued",reason:"Empty prompt",telemetryData:Wr(n)};if(i?.isCancellationRequested)return tr.debug(e,"Cancelled after extractPrompt"),{type:"abortedBeforeIssued",reason:"Cancelled after extractPrompt",telemetryData:Wr(n)};let _=ece(e,g,n);return _>0&&(tr.debug(e,`Debouncing ghost text request for ${_}ms`),await lc(_),d?.isCancellationRequested)?{type:"abortedBeforeIssued",reason:"cancelled after debounce",telemetryData:Wr(n)}:e.get(Lr).withProgress(async()=>{let[x]=a8(t.textDocument.getText(mi.range(mi.position(0,0),t.position))),y=e.get(Hs).hasAcceptedCurrentCompletion(x,h.prompt.suffix),E=h.prompt,S=await Zle(e,t,x,h,g.isCycling,u,y,g.isSpeculative,n);if(c("strategy"),i?.isCancellationRequested)return tr.debug(e,"Cancelled after requestMultiline"),{type:"abortedBeforeIssued",reason:"Cancelled after requestMultiline",telemetryData:Wr(n)};let w=rce(e,x,E,S.requestMultiline);c("cache");let z=zf(e,t.textDocument.uri),V={blockMode:S.blockMode,languageId:t.textDocument.detectedLanguageId,repoInfo:z,engineModelId:m.modelId,ourRequestId:r,prefix:x,prompt:h.prompt,multiline:S.requestMultiline,indentation:YU(t.textDocument,t.position),isCycling:g.isCycling,headers:m.headers,stop:S.stop,maxTokens:S.maxTokens,afterAccept:y};V.headers={...V.headers,"X-Copilot-Async":"true","X-Copilot-Speculative":g.isSpeculative?"true":"false"};let W=dce(e,t.textDocument,V,t.position,h,n,m,g);if(w===void 0&&!g.isCycling&&e.get(wo).shouldWaitForAsyncCompletions(x,h.prompt)){let T=await e.get(wo).getFirstMatchingRequestWithTimeout(r,x,h.prompt,g.isSpeculative,W);if(c("asyncWait"),T){let D=!S.requestMultiline;w=[[BI(T[0],{forceSingleLine:D})],4]}if(d?.isCancellationRequested)return tr.debug(e,"Cancelled before requesting a new completion"),{type:"abortedBeforeIssued",reason:"Cancelled after waiting for async completion",telemetryData:Wr(W)}}let Y=S.blockMode==="moremultiline"&&U0.isSupported(t.textDocument.detectedLanguageId);if(w!==void 0&&(w[0]=w[0].map(T=>MI(e,t.textDocument,t.position,T,Y,tr)).filter(T=>T!==void 0)),w!==void 0&&w[0].length===0)return tr.debug(e,`Found empty inline suggestions locally via ${Tm(w[1])}`),{type:"empty",reason:"cached results empty after post-processing",telemetryData:Wr(W)};if(w!==void 0&&w[0].length>0&&(!g.isCycling||w[0].length>1))tr.debug(e,`Found inline suggestions locally via ${Tm(w[1])}`);else{if(g.isCycling){let T=await Jle(e,V,W,i,S.finishedCb);if(T.type==="success"){let D=w?.[0]??[];T.value[0].forEach(k=>{D.findIndex(L=>L.completionText.trim()===k.completionText.trim())===-1&&D.push(k)}),w=[D,3]}else if(w===void 0)return T}else{if(i?.isCancellationRequested)return tr.debug(e,"Cancelled before request"),{type:"canceled",reason:"before request",telemetryData:j0(W)};let D=Xle(e,V,W,i,o((L,U)=>(e.get(wo).updateCompletion(r,L),S.finishedCb(L,U)),"finishedCb"));e.get(wo).queueCompletionRequest(r,x,h.prompt,p,D);let k=await e.get(wo).getFirstMatchingRequest(r,x,h.prompt,g.isSpeculative);if(k===void 0)return{type:"empty",reason:"received no results from async completions",telemetryData:Wr(W)};w=[[k[0]],4]}c("network")}if(w===void 0)return{type:"failed",reason:"internal error: choices should be defined after network call",telemetryData:Wr(W)};let[R,P]=w,G=R.map(T=>MI(e,t.textDocument,t.position,T,Y,tr)).filter(T=>T!==void 0),A=It(e,_e.CompletionsDelay)??f.completionsDelay(n),I=gn()-n.issuedTime,v=Math.max(A-I,0);if(P!==2&&!g.isCycling&&v>0&&(tr.debug(e,`Waiting ${v}ms before returning completion`),await lc(v),d?.isCancellationRequested))return tr.debug(e,"Cancelled after completions delay"),{type:"canceled",reason:"after completions delay",telemetryData:j0(W)};let N=[];for(let T of G){let D=fce(e,t.textDocument,V,T,W),k=u?_j(t.textDocument,t.position,T):0,U={completion:lce(T.choiceIndex,T.completionText,h.trailingWs),telemetry:D,isMiddleOfTheLine:u,suffixCoverage:k,copilotAnnotations:T.copilotAnnotations,clientCompletionId:T.clientCompletionId};N.push(U)}return d?.isCancellationRequested?(tr.debug(e,"Cancelled after post processing completions"),{type:"canceled",reason:"after post processing completions",telemetryData:j0(W)}):(W.properties.clientCompletionId=N[0]?.clientCompletionId,W.measurements.foundOffset=N?.[0]?.telemetry?.measurements?.foundOffset??-1,tr.debug(e,`Produced ${N.length} results from ${Tm(P)} at ${W.measurements.foundOffset} offset`),r!==e.get(Hs).currentRequestId?(tr.debug(e,"Current request id changed before returning"),{type:"canceled",reason:"current request id changed before returning",telemetryData:j0(W)}):(g.isSpeculative||e.get(Hs).setGhostText(x,h.prompt.suffix,G,P),c("complete"),{type:"success",value:[N,P],telemetryData:Wr(W),telemetryBlob:W,resultType:P,performanceMetrics:l}))})}o(tce,"getGhostTextWithoutAbortHandling");async function jI(e,t,r,n){let i=yi();e.get(Hs).currentRequestId=i;let s=await uce(e,t.textDocument,i,n);await k5.catch(()=>{});try{return e.get(za).schedule(t,i,s,r,n),e.get(qu).notifyRequest(t,i,s,r,n),await tce(e,t,i,s,r,n)}catch(a){if(Ks(a))return{type:"canceled",reason:"aborted at unknown location",telemetryData:j0(s,{cancelledNetworkRequest:!0})};throw a}}o(jI,"getGhostText");function rce(e,t,r,n){let i=e.get(Hs).getCompletionsForUserTyping(t,r.suffix),s=cce(e,t,r.suffix,n);if(i&&i.length>0){let a=(s??[]).filter(l=>!i.some(c=>c.completionText===l.completionText));return[i.concat(a),2]}if(s&&s.length>0)return[s,1]}o(rce,"getLocalInlineSuggestion");function nce(e,t){let r=ice(t,e),n=oce(t,e);return r&&!n?void 0:r&&n}o(nce,"isInlineSuggestion");function ice(e,t){return t.lineAt(e).text.substr(e.character).trim().length!=0}o(ice,"isMiddleOfTheLine");function oce(e,t){let n=t.lineAt(e).text.substr(e.character).trim();return/^\s*[)>}\]"'`]*\s*[:{;,]?\s*$/.test(n)}o(oce,"isValidMiddleOfTheLinePosition");function sce(e,t){return t.lineAt(e).text.trim().length===0}o(sce,"isNewLine");var Am=class e{constructor(t=!1){this.requestMultilineOverride=t}static{o(this,"ForceMultiLine")}static{this.default=new e}};async function ace(e,t,r,n,i,s,a){if(e.get(Am).requestMultilineOverride)return{requestMultiline:!0};if(r.lineCount>=8e3)Se(e,"ghostText.longFileMultilineSkip",Qe.createAndMarkAsIssued({languageId:r.detectedLanguageId,lineCount:String(r.lineCount),currentLine:String(n.line)}));else{if(t=="moremultiline"&&U0.isSupported(r.detectedLanguageId))return s?{requestMultiline:!0,blockPosition:await oU(r,n)}:{requestMultiline:!1};if(["typescript","typescriptreact"].includes(r.detectedLanguageId)&&sce(n,r))return{requestMultiline:!0};let c=!1;return!i&&s0(r.detectedLanguageId)?c=await I3(r,n):i&&s0(r.detectedLanguageId)&&(c=await I3(r,n)||await I3(r,r.lineAt(n).range.end)),c||["javascript","javascriptreact","python"].includes(r.detectedLanguageId)&&(c=cU(a.prompt,r.detectedLanguageId)>.5),{requestMultiline:c}}return{requestMultiline:!1}}o(ace,"shouldRequestMultiline");function u8(e,t,r){e.get(M0).append(t.prefix,t.prompt.suffix,r)}o(u8,"appendToCache");function lce(e,t,r){if(r.length>0){if(t.startsWith(r))return{completionIndex:e,completionText:t,displayText:t.substring(r.length),displayNeedsWsOffset:!1};{let n=t.substring(0,t.length-t.trimStart().length);return r.startsWith(n)?{completionIndex:e,completionText:t,displayText:t.trimStart(),displayNeedsWsOffset:!0}:{completionIndex:e,completionText:t,displayText:t,displayNeedsWsOffset:!1}}}else return{completionIndex:e,completionText:t,displayText:t,displayNeedsWsOffset:!1}}o(lce,"adjustLeadingWhitespace");function cce(e,t,r,n){let i=e.get(M0).findAll(t,r);return i.length===0?(tr.debug(e,"Found no completions in cache"),[]):(tr.debug(e,`Found ${i.length} completions in cache`),i.map(s=>BI(s,{forceSingleLine:!n})))}o(cce,"getCompletionsFromCache");async function uce(e,t,r,n){let i={headerRequestId:r};n?.opportunityId&&(i.opportunityId=n.opportunityId),n?.selectedCompletionInfo?.text&&(i.completionsActive="true"),n?.isSpeculative&&(i.reason="speculative");let s=Qe.createAndMarkAsIssued(i);return await e.get(Be).updateExPValuesAndAssignments({uri:t.uri,languageId:t.detectedLanguageId},s)}o(uce,"createTelemetryWithExp");function fce(e,t,r,n,i){let s=n.requestId,a={choiceIndex:n.choiceIndex.toString(),clientCompletionId:n.clientCompletionId};n.generatedChoiceIndex!==void 0&&(a.originalChoiceIndex=a.choiceIndex,a.choiceIndex=(1e4*(n.generatedChoiceIndex+1)+n.choiceIndex).toString());let l={compCharLen:n.completionText.length,numLines:n.completionText.trim().split(`
`).length};n.meanLogProb&&(l.meanLogProb=n.meanLogProb),n.meanAlternativeLogProb&&(l.meanAlternativeLogProb=n.meanAlternativeLogProb);let c=n.telemetryData.extendedBy(a,l);return c.issuedTime=i.issuedTime,c.measurements.timeToProduceMs=performance.now()-i.issuedTime,Cj(c,t),c.extendWithRequestId(s),c.measurements.confidence=gj(e,c),c.measurements.quantile=hj(e,c),tr.debug(e,`Extended telemetry for ${n.telemetryData.properties.headerRequestId} with retention confidence ${c.measurements.confidence} (expected as good or better than about ${c.measurements.quantile} of all suggestions)`),c}o(fce,"telemetryWithAddData");function dce(e,t,r,n,i,s,a,l){let c={languageId:t.detectedLanguageId};c.afterAccept=r.afterAccept.toString(),c.isSpeculative=l.isSpeculative.toString();let f=s.extendedBy(c);Cj(f,t);let u=r.repoInfo;f.properties.gitRepoInformation=u===void 0?"unavailable":u===0?"pending":"available",u!==void 0&&u!==0&&(f.properties.gitRepoUrl=u.url,f.properties.gitRepoHost=u.hostname,f.properties.gitRepoOwner=u.owner,f.properties.gitRepoName=u.repo,f.properties.gitRepoPath=u.pathname),f.properties.engineName=a.modelId,f.properties.engineChoiceSource=a.engineChoiceSource,f.properties.isMultiline=JSON.stringify(r.multiline),f.properties.isCycling=JSON.stringify(r.isCycling);let d=t.lineAt(n.line),p=t.getText(mi.range(d.range.start,n)),m=t.getText(mi.range(n,d.range.end)),g=Array.from(i.neighborSource.entries()).map(x=>[x[0],x[1].map(y=>(0,Ij.SHA256)(y).toString())]),h={beforeCursorWhitespace:JSON.stringify(p.trim()===""),afterCursorWhitespace:JSON.stringify(m.trim()===""),neighborSource:JSON.stringify(g),blockMode:r.blockMode},_={...t4(i.prompt),promptEndPos:t.offsetAt(n),promptComputeTimeMs:i.computeTimeMs};i.metadata&&(h.promptMetadata=JSON.stringify(i.metadata)),i.contextProvidersTelemetry&&(h.contextProviders=JSON.stringify(i.contextProvidersTelemetry));let b=f.extendedBy(h,_);return Se(e,"ghostText.issued",b),f}o(dce,"telemetryIssued");function Cj(e,t){e.measurements.documentLength=t.getText().length,e.measurements.documentLineCount=t.lineCount}o(Cj,"addDocumentTelemetry");function Sj(e,t,r,n,i){let s=Date.now()-n,a=s-i,l=r.telemetryData.extendedBy({},{completionCharLen:r.completionText.length,requestTimeMs:s,processingTimeMs:i,deltaMs:a,meanLogProb:r.meanLogProb||NaN,meanAlternativeLogProb:r.meanAlternativeLogProb||NaN});l.extendWithRequestId(r.requestId),Se(e,`ghostText.${t}`,l)}o(Sj,"telemetryPerformance");var Hs=class{constructor(){this.choices=[]}static{o(this,"CurrentGhostText")}get clientCompletionId(){return this.choices[0]?.clientCompletionId}setGhostText(t,r,n,i){i!==2&&(this.prefix=t,this.suffix=r,this.choices=n)}getCompletionsForUserTyping(t,r){let n=this.getRemainingPrefix(t,r);if(n!==void 0&&wj(this.choices[0].completionText,n))return mce(this.choices,n)}hasAcceptedCurrentCompletion(t,r){let n=this.getRemainingPrefix(t,r);if(n===void 0)return!1;let i=n===this.choices?.[0].completionText,s=this.choices?.[0].finishReason;return i&&s==="stop"}getRemainingPrefix(t,r){if(!(this.prefix===void 0||this.suffix===void 0||this.choices.length===0)&&this.suffix===r&&t.startsWith(this.prefix))return t.substring(this.prefix.length)}};function mce(e,t){return e.filter(r=>wj(r.completionText,t)).map(r=>({...r,completionText:r.completionText.substring(t.length)}))}o(mce,"adjustChoicesStart");function wj(e,t){return e.startsWith(t)&&e.length>t.length}o(wj,"startsWithAndExceeds");var tf=class{constructor(t,r,n){this._referenceCount=0;this._isDisposed=!1;this._offset=n;let i=t.get(Gt);this._tracker=i.onDidChangeTextDocument(s=>{if(s.document.uri===r){for(let a of s.contentChanges)if(a.rangeOffset+a.rangeLength<=this.offset){let l=a.text.length-a.rangeLength;this._offset=this._offset+l}}})}static{o(this,"ChangeTracker")}get offset(){return this._offset}push(t,r){if(this._isDisposed)throw new Error("Unable to push new actions to a disposed ChangeTracker");this._referenceCount++,setTimeout(()=>{t(),this._referenceCount--,this._referenceCount===0&&(this._tracker.dispose(),this._isDisposed=!0)},r)}};var $I=class e{constructor(t,r,n=[],i,s,a){this._textDocument=t;this._position=r;this.originalPosition=i??Kt.Position.create(r.line,r.character),this.originalVersion=s??t.version,this.originalOffset=a??t.offsetAt(this.originalPosition),this._editsWithPosition=[...n]}static{o(this,"CompletionState")}get textDocument(){return this._textDocument}get position(){return this._position}get editsWithPosition(){return[...this._editsWithPosition]}updateState(t,r,n){return new e(t,r,n??this.editsWithPosition,this.originalPosition,this.originalVersion,this.originalOffset)}updatePosition(t){return this.updateState(this._textDocument,t)}addSelectedCompletionInfo(t){if(this.editsWithPosition.find(n=>n.source==="selectedCompletionInfo"))throw new Error("Selected completion info already applied");let r={range:t.range,newText:t.text};return this.applyEdits([r],!0)}applyEdits(t,r=!1){if(r&&t.length>1)throw new Error("Selected completion info should be a single edit");let n=this._textDocument,i=this._position,s=n.offsetAt(i),a=this.editsWithPosition;for(let{range:l,newText:c}of t){let f=n.getText(l),u=n.offsetAt(l.end);if(n=n.applyEdits([{range:l,newText:c}]),s<n.offsetAt(l.start)){let p={range:l,newText:c,positionAfterEdit:Kt.Position.create(i.line,i.character)};r&&(p.source="selectedCompletionInfo"),a.push(p);continue}s<u&&(s=u),s+=c.length-f.length,i=n.positionAt(s);let d={range:l,newText:c,positionAfterEdit:Kt.Position.create(i.line,i.character)};r&&(d.source="selectedCompletionInfo"),a.push(d)}return this.updateState(n,i,a)}};function f8(e,t){return new $I(e,t)}o(f8,"createCompletionState");function qI(e,t,r=(n,i)=>n===i?0:1){if(t.length===0||e.length===0)return{distance:t.length,startOffset:0,endOffset:0};let n=new Array(t.length+1).fill(0),i=new Array(t.length+1).fill(0),s=new Array(e.length+1).fill(0),a=new Array(e.length+1).fill(0),l=t[0];for(let f=0;f<e.length+1;f++)f===0?n[f]=1:n[f]=r(e[f-1],l,f-1,0),i[f]=f>0?f-1:0;for(let f=1;f<t.length;f++){let u=s;s=n,n=u,u=a,a=i,i=u,l=t[f],n[0]=f+1;for(let d=1;d<e.length+1;d++){let p=1+s[d],m=1+n[d-1],g=r(e[d-1],l,d-1,f)+s[d-1];n[d]=Math.min(m,p,g),n[d]===g?i[d]=a[d-1]:n[d]===p?i[d]=a[d]:i[d]=i[d-1]}}let c=0;for(let f=0;f<e.length+1;f++)n[f]<n[c]&&(c=f);return{distance:n[c],startOffset:i[c],endOffset:c}}o(qI,"editDistance");function pce(){return new Map}o(pce,"emptyLexDictionary");function gce(e){let t=new Array(e.size);for(let[r,n]of e)t[n]=r;return t}o(gce,"reverseLexDictionary");function*hce(e){let t="",r;(l=>(l[l.Word=0]="Word",l[l.Space=1]="Space",l[l.Other=2]="Other"))(r||={});let n=0;for(let i of e){let s;/(\p{L}|\p{Nd}|_)/u.test(i)?s=0:i===" "?s=1:s=2,s===n&&s!==2?t+=i:(t.length>0&&(yield t),t=i,n=s)}t.length>0&&(yield t)}o(hce,"lexGeneratorWords");function Pj(e,t,r,n){let i=[],s=0;for(let a of r(e))n(a)&&(t.has(a)||t.set(a,t.size),i.push([t.get(a),s])),s+=a.length;return[i,t]}o(Pj,"lexicalAnalyzer");function Dj(e){return e!==" "}o(Dj,"notSingleSpace");function Rj(e,t,r=hce){let[n,i]=Pj(e,pce(),r,Dj),[s,a]=Pj(t,i,r,Dj);if(s.length===0||n.length===0)return{lexDistance:s.length,startOffset:0,endOffset:0,haystackLexLength:n.length,needleLexLength:s.length};let l=gce(a),c=s.length,f=l[s[0][0]],u=l[s[c-1][0]];function d(h,_,b,x){if(x===0||x===c-1){let y=l[n[b][0]];return x==0&&y.endsWith(f)||x==c-1&&y.startsWith(u)?0:1}else return h===_?0:1}o(d,"compare");let p=qI(n.map(h=>h[0]),s.map(h=>h[0]),d),m=n[p.startOffset][1],g=p.endOffset<n.length?n[p.endOffset][1]:e.length;return g>0&&e[g-1]===" "&&--g,{lexDistance:p.distance,startOffset:m,endOffset:g,haystackLexLength:n.length,needleLexLength:s.length}}o(Rj,"lexEditDistance");function Nj(e,t){return e.compType==="partial"?e.acceptedLength:t.length}o(Nj,"computeCompCharLen");function Aj(e,t){return t.compType==="partial"?e.substring(0,t.acceptedLength):e}o(Aj,"computeCompletionText");function kj(e,t,r){return e.displayText!==e.insertText&&e.insertText.trim()===e.displayText||r===3?t:t-e.range.end.character+e.range.start.character}o(kj,"computePartialLength");var hc=new St("postInsertion"),Oj=[{seconds:15,captureCode:!1,captureRejection:!1},{seconds:30,captureCode:!0,captureRejection:!0},{seconds:120,captureCode:!1,captureRejection:!1},{seconds:300,captureCode:!1,captureRejection:!1},{seconds:600,captureCode:!1,captureRejection:!1}],Lj=50,xce=1500,bce=.5,_ce=500,WI={triggerPostInsertionSynchroneously:!1,captureCode:!1,captureRejection:!1};async function Fj(e,t,r,n,i){let s=await e.get(F0).getOrReadTextDocumentWithFakeClientProperties({uri:t});if(s.status!=="valid")return hc.info(e,`Could not get document for ${t}. Maybe it was closed by the editor.`),{prompt:{prefix:"",suffix:"",isFimEnabled:!1},capturedCode:"",terminationOffset:0};let a=s.document,l=a.getText(),c=l.substring(0,n),f=a.positionAt(n),u=await l8(e,r.properties.headerRequestId,f8(a,f),r),d=u.type==="prompt"?u.prompt:{prefix:c,suffix:"",isFimEnabled:!1};if(d.isFimEnabled&&i!==void 0){let p=l.substring(n,i);return d.suffix=l.substring(i),{prompt:d,capturedCode:p,terminationOffset:0}}else{let p=l.substring(n),m=zT(c,n,a.detectedLanguageId),h=await XU(m,void 0)(p),_=Math.min(l.length,n+(h?h*2:_ce)),b=l.substring(n,_);return{prompt:d,capturedCode:b,terminationOffset:h??-1}}}o(Fj,"captureCode");function Mj(e,t,r,n,i){i.forEach(({completionText:c,completionTelemetryData:f})=>{hc.debug(e,`${t}.rejected choiceIndex: ${f.properties.choiceIndex}`),IU(e,t,f)});let s=new tf(e,n,r-1),a=new tf(e,n,r),l=o(async c=>{hc.debug(e,`Original offset: ${r}, Tracked offset: ${s.offset}`);let{completionTelemetryData:f}=i[0],{prompt:u,capturedCode:d,terminationOffset:p}=await Fj(e,n,f,s.offset+1,a.offset),m={hypotheticalPromptJson:JSON.stringify({prefix:u.prefix,context:u.context}),hypotheticalPromptSuffixJson:JSON.stringify(u.suffix)},g=f.extendedBy({...m,capturedCodeJson:JSON.stringify(d)},{timeout:c.seconds,insertionOffset:r,trackedOffset:s.offset,terminationOffsetInCapturedCode:p});hc.debug(e,`${t}.capturedAfterRejected choiceIndex: ${f.properties.choiceIndex}`,g),Se(e,t+".capturedAfterRejected",g,1)},"checkInCode");Oj.filter(c=>c.captureRejection).map(c=>s.push(pa(e,()=>l(c),"postRejectionTasks"),c.seconds*1e3))}o(Mj,"postRejectionTasks");function zI(e,t,r,n,i,s,a,l){let c=s.extendedBy({compType:a.compType},{compCharLen:Nj(a,r)});hc.debug(e,`${t}.accepted choiceIndex: ${c.properties.choiceIndex}`),TU(e,t,c);let f=r;r=Aj(r,a);let u=r.trim(),d=new tf(e,i,n),p=new tf(e,i,n+r.length),m=o(async g=>{await Ice(e,t,u,n,i,g,c,d,p)},"stillInCodeCheck");if(WI.triggerPostInsertionSynchroneously&&ms(e)){let g=m({seconds:0,captureCode:WI.captureCode,captureRejection:WI.captureRejection});e.get(Ui).register(g)}else Oj.map(g=>d.push(pa(e,()=>m(g),"postInsertionTasks"),g.seconds*1e3));pa(e,yce,"post insertion citation check")(e,i,f,r,n,l)}o(zI,"postInsertionTasks");async function yce(e,t,r,n,i,s){if(!s||(s.ip_code_citations?.length??0)<1)return;let a=await e.get(Gt).getTextDocument({uri:t});if(a){let l=GI(a.getText(),n,Lj,i);l.stillInCodeHeuristic&&(i=l.foundOffset)}for(let l of s.ip_code_citations){let c=vce(r.length,n.length,l.start_offset);if(c===void 0){hc.info(e,`Full completion for ${t} contains a reference matching public code, but the partially inserted text did not include the match.`);continue}let f=i+c,u=a?.positionAt(f),d=i+Tce(r.length,n.length,l.stop_offset),p=a?.positionAt(d),m=u&&p?a?.getText({start:u,end:p}):"<unknown>";await e.get(ic).handleIPCodeCitation(e,{inDocumentUri:t,offsetStart:f,offsetEnd:d,version:a?.version,location:u&&p?{start:u,end:p}:void 0,matchingText:m,details:l.details.citations})}}o(yce,"citationCheck");function vce(e,t,r){if(!(t<e&&r>t))return r}o(vce,"computeCitationStart");function Tce(e,t,r){return t<e?Math.min(r,t):r}o(Tce,"computeCitationEnd");function GI(e,t,r,n){let i=e.substring(Math.max(0,n-r),Math.min(e.length,n+t.length+r)),s=Rj(i,t),a=s.lexDistance/s.needleLexLength,{distance:l}=qI(i.substring(s.startOffset,s.endOffset),t);return{relativeLexEditDistance:a,charEditDistance:l,completionLexLength:s.needleLexLength,foundOffset:s.startOffset+Math.max(0,n-r),lexEditDistance:s.lexDistance,stillInCodeHeuristic:a<=bce?1:0}}o(GI,"find");async function Ice(e,t,r,n,i,s,a,l,c){let f=await e.get(F0).getOrReadTextDocument({uri:i});if(f.status==="valid"){let d=f.document.getText(),p=GI(d,r,Lj,l.offset);p.stillInCodeHeuristic||(p=GI(d,r,xce,l.offset)),hc.debug(e,`stillInCode: ${p.stillInCodeHeuristic?"Found":"Not found"}! Completion '${r}' in file ${i}. lexEditDistance fraction was ${p.relativeLexEditDistance}. Char edit distance was ${p.charEditDistance}. Inserted at ${n}, tracked at ${l.offset}, found at ${p.foundOffset}. choiceIndex: ${a.properties.choiceIndex}`);let m=a.extendedBy({},{timeout:s.seconds,insertionOffset:n,trackedOffset:l.offset}).extendedBy({},p);if(Se(e,t+".stillInCode",m),s.captureCode){let{prompt:g,capturedCode:h,terminationOffset:_}=await Fj(e,i,m,l.offset,c.offset),b={hypotheticalPromptJson:JSON.stringify({prefix:g.prefix,context:g.context}),hypotheticalPromptSuffixJson:JSON.stringify(g.suffix)},x=a.extendedBy({...b,capturedCodeJson:JSON.stringify(h)},{timeout:s.seconds,insertionOffset:n,trackedOffset:l.offset,terminationOffsetInCapturedCode:_});hc.debug(e,`${t}.capturedAfterAccepted choiceIndex: ${a.properties.choiceIndex}`,m),Se(e,t+".capturedAfterAccepted",x,1)}}}o(Ice,"checkStillInCode");var HI=new St("ghostText"),W0=class{static{o(this,"LastGhostText")}#e;#t;#i=[];get position(){return this.#e}get shownCompletions(){return this.#i||[]}get uri(){return this.#t}resetState(){this.#t=void 0,this.#e=void 0,this.#i=[]}setState({uri:t},r){this.#t=t,this.#e=r,this.#i=[]}resetPartialAcceptanceState(){this.partiallyAcceptedLength=0}};function Ece(e){let t=[];return e.shownCompletions.forEach(r=>{if(r.displayText&&r.telemetry){let n,i;e.partiallyAcceptedLength?(n=r.displayText.substring(e.partiallyAcceptedLength-1),i=r.telemetry.extendedBy({compType:"partial"},{compCharLen:n.length})):(n=r.displayText,i=r.telemetry);let s={completionText:n,completionTelemetryData:i,offset:r.offset};t.push(s)}}),t}o(Ece,"computeRejectedCompletions");function Cce(e,t){let r=e.get(W0);if(!r.position||!r.uri)return;let n=Ece(r);n.length>0&&Mj(e,"ghostText",t??n[0].offset,r.uri,n),r.resetState(),r.resetPartialAcceptanceState()}o(Cce,"rejectLastShown");function Uj(e,t,r,n){let i=e.get(W0);return i.position&&i.uri&&!(i.position.line===r.line&&i.position.character===r.character&&i.uri.toString()===t.uri.toString())&&n!==2&&Cce(e,t.offsetAt(i.position)),i.setState(t,r),i.index}o(Uj,"setLastShown");function Bj(e,t){let r=e.get(W0);if(r.index=t.index,!r.shownCompletions.find(n=>n.index===t.index)&&(t.uri===r.uri&&r.position?.line===t.position.line&&r.position?.character==t.position.character&&r.shownCompletions.push(t),t.displayText)){let n=t.resultType!==0;HI.debug(e,`[${t.telemetry.properties.headerRequestId}] shown choiceIndex: ${t.telemetry.properties.choiceIndex}, fromCache ${n}`),t.telemetry.measurements.compCharLen=t.displayText.length,vU(e,"ghostText",t)}}o(Bj,"handleGhostTextShown");function jj(e,t){let r=e.get(W0);r.resetState(),HI.debug(e,"Ghost text post insert");let n={compType:"full"};return r.resetPartialAcceptanceState(),zI(e,"ghostText",t.displayText,t.offset,t.uri,t.telemetry,n,t.copilotAnnotations)}o(jj,"handleGhostTextPostInsert");function $j(e,t,r,n=0){let i=e.get(W0);HI.debug(e,"Ghost text partial post insert");let s=kj(t,r,n);if(s)return i.partiallyAcceptedLength=r,zI(e,"ghostText",t.displayText,t.offset,t.uri,t.telemetry,{compType:"partial",acceptedLength:s},t.copilotAnnotations)}o($j,"handlePartialGhostTextPostInsert");var km="[...]",Sce=0,xc=-1;function G0(){return Sce++}o(G0,"getAvailableNodeId");function wce(e,t){let r=e.children.map(n=>n.elisionMarker??t);return[...e.text.entries()].map(([n,i])=>n===0?i:r[n-1]+i).join("")}o(wce,"elideChildren");function qj(e=km){return t=>wce(t,e).length-(t.elisionMarker??e).length}o(qj,"getBasicCostFunction");var Om=class{static{o(this,"PriorityQueue")}constructor(t){if(this.heap=t?[...t]:[],this.heap.length>0)for(let r=Math.floor(this.heap.length/2)-1;r>=0;r--)this.siftDown(r)}get size(){return this.heap.length}insert(t,r){let n={item:t,priority:r};this.heap.push(n);let i=this.heap.length-1;this.siftUp(i)}peek(){return this.heap.length===0?null:this.heap[0]}pop(){if(this.heap.length===0)return null;let t=this.heap[0],r=this.heap.pop();return this.heap.length>0&&(this.heap[0]=r,this.siftDown(0)),t}clear(){let t=this.heap;return this.heap=[],t}siftUp(t){let r=this.heap[t];for(;t>0;){let n=Math.floor((t-1)/2);if(this.heap[n].priority>=r.priority)break;this.heap[t]=this.heap[n],t=n}this.heap[t]=r}siftDown(t){let r=this.heap[t],n=this.heap.length-1;for(;t<n;){let i=t,s=2*t+1,a=s+1;if(s<=n&&this.heap[s].priority>this.heap[i].priority&&(i=s),a<=n&&this.heap[a].priority>this.heap[i].priority&&(i=a),i===t)break;this.heap[t]=this.heap[i],t=i}this.heap[t]=r}};var kg=class{constructor(t,r,n,i,s=0,a=!1,l=km){this.id=t;this.text=r;this.children=n;this.cost=i;this.weight=s;this.canMerge=a;this.elisionMarker=l;this.requireRenderedChild=!1;if(r.length!==n.length+1)throw new Error(`Text fragments length (${r.length}) must be equal to children length (${n.length}) + 1`);this.cost=Math.max(i,1),this.weight=Math.max(s,0)}static{o(this,"RenderNode")}get value(){return this.weight/this.cost}render(t=void 0,r=[],n){let i=new Set(Array.isArray(r)?r:[r]);if((t??this.cost)<this.cost||i.has(this.id))return this.elisionMarker;if(t===void 0){let u=o(p=>i.has(p.id),"elider"),d=[];return this.recursivelyRender(d,u),d.join("")}let s=new Set,a=[],l=[],c=new Om([{item:this,priority:this.value}]),f=t;for(;f>0&&c.size>0;){let{item:u}=c.pop();if(!i.has(u.id)&&u.cost<=f){f-=u.cost,s.add(u.id),a.push(u);for(let d of u.children)c.insert(d,d.value);u.requireRenderedChild&&l.push(u)}}for(let u=l.length-1;u>=0;u--){let d=l[u];d.children.some(p=>s.has(p.id))||s.delete(d.id)}for(;s.size>0;){let u=[],d=o(g=>!s.has(g.id),"elider");this.recursivelyRender(u,d);let p=u.join("");if(n===void 0)return p;let m=n(p);if(m<=t)return p;for(;a.length>0&&m>t;){let g=a.pop();m-=g.cost,s.delete(g.id)}if(a.length===0)return this.elisionMarker}return this.elisionMarker}updateWeights(t){let r=this.recursivelyRectifyWeights(t);for(let{item:n,priority:i}of r.clear())for(let s of n.nodes)s.weight=i*s.cost}recursivelyRender(t,r,n=!1){if(r(this))return t.length>=2&&(n||t[t.length-2]===this.elisionMarker&&t[t.length-1].trim().length===0)?(t.pop(),!0):(t.push(this.elisionMarker),!0);let i=!1;for(let[s,a]of this.children.entries())t.push(this.text[s]??""),i=a.recursivelyRender(t,r,a.canMerge&&i);return t.push(this.text[this.text.length-1]??""),!1}recursivelyRectifyWeights(t){let r=this.children.map(a=>a.recursivelyRectifyWeights(t)),n=Math.max(0,t?t(this):this.weight);if(n===0&&r.reduce((a,l)=>a+l.size,0)===0)return this.weight=0,new Om([]);let i=new Om(r.flatMap(a=>a.clear())),s={nodes:[this],totalCost:this.cost,totalWeight:n};for(this.requireRenderedChild=!1;(i.peek()?.priority??0)>s.totalWeight/s.totalCost;){let{item:a}=i.pop();s.nodes.push(...a.nodes),s.totalCost+=a.totalCost,s.totalWeight+=a.totalWeight,this.requireRenderedChild=!0}return i.insert(s,s.totalWeight/s.totalCost),i}};function VI(e,t,r=km,n){if(n?.has(e.id))return n.get(e.id);let i=e.children.map(l=>VI(l,t,r));r=e.elisionMarker??r;let s=t(e),a=new kg(e.id,e.text,i,s,0,e.canMerge,r);return n?.set(a.id,a),a}o(VI,"snapshot");var Pce={RelatedFilesShim:.2,FileDirectoryDocumentProvider:.05,SymbolContextProvider:.2,TreeProximityProvider:1,ExtensionReferenceProvider:.8,RecentDocumentProvider:.1,RecentCompletionsRequestProvider:1.5,ExtensionActivityProvider:8.5};function Lm(){return Pce}o(Lm,"getProviderWeights");var Dce={UpdateInterval:500,InvalidCacheTime:1e3*60*10,StaleWeightHalflife:1e3*10/Math.log(2),MinNodeSize:100,Laziness:.5,MaxActiveFiles:20,MaxActiveNodes:2e3};function Fm(){return Dce}o(Fm,"getFeatureConfig");function Og(e,t,r){let n=e.get(t);return n===void 0&&(n=r(t),e.set(t,n)),n}o(Og,"setDefault");function Rce(e){return e.id!==void 0}o(Rce,"isNodeItem");var d8=class{static{o(this,"WorkspaceContextWeights")}constructor(t){let r=new Map;for(let{uri:n,weight:i}of t)r.set(n,(r.get(n)??0)+i);this.documents=[...r.entries()].map(([n,i])=>({uri:n,weight:i})).sort((n,i)=>i.weight-n.weight),this.docWeights=r,this.nodes=t.filter(({id:n})=>n!==xc),this.nodeWeights=new Map(t.map(({id:n,weight:i})=>[n,i]))}getNodeWeight(t){return this.nodeWeights.get(t)??0}getDocumentWeight(t){return this.docWeights.get(t)??0}},m8=class{constructor(t){this.activeContext=t;this.config=Fm();this.providerWeights=Lm();this.providerContext=new Map;this.prevUpdateTime=void 0;this.prevItems=[];this.weights=new d8([])}static{o(this,"WorkspaceContextCoordinator")}getWeights(){return this.weights}updateWeights(){let t=new Map,r=0,n=this.config.StaleWeightHalflife;for(let[i,{items:s,updateTime:a}]of this.providerContext.entries()){let l=this.providerWeights[i]??0;if(l<=0||s.length===0)continue;let c=Math.exp(-Math.max(0,(this.prevUpdateTime??a)-a)/n);l*=c,r+=l,this.aggregateWeights(s,t,l,!0)}if(r>0){if(this.weights.nodes.length>0){let i=r*this.config.Laziness,s=this.prevItems;this.aggregateWeights(s,t,i,!0)}for(let[i,s]of t.entries()){let a=this.activeContext.getDocument(i)?.document;if(a===void 0)continue;let l=s.get(xc);if(l!==void 0&&l>0){s.delete(xc);let c=a.getAllIds(),f=l/c.length;for(let u of c)s.set(u,(s.get(u)??0)+f)}}this.prevItems=this.truncateAndNormalize(t),this.weights=new d8(this.prevItems)}return this.prevUpdateTime=performance.now(),this.weights}pushWorkspaceContext(t,r){let n=performance.now(),i=this.addUriAndId(r),s=new Map;this.aggregateWeights(i,s);let a=this.truncateAndNormalize(s);this.providerContext.set(t,{items:a,updateTime:n})}addUriAndId(t){return t.filter(r=>r.weight>0).map(r=>{let n=Rce(r)?r.id:xc,i=r.uri??this.activeContext.getUri(n);return{weight:r.weight,uri:i,id:n}}).filter(r=>r.uri!==void 0)}aggregateWeights(t,r,n=1,i=!1){for(let{uri:s,id:a,weight:l}of t){if(l<=0)continue;let c=Og(r,s,()=>new Map),f=xc;(!i||this.activeContext.getUri(a)!==void 0)&&(f=a),c.set(f,(c.get(f)??0)+l*n)}}truncateAndNormalize(t){let r=[],n=new Map;for(let[c,f]of t.entries()){let u=this.activeContext.normalizeUri(c);if(u!==void 0)for(let[d,p]of f.entries())d===xc?n.set(u,p):r.push({uri:u,id:d,weight:p})}r.sort((c,f)=>f.weight-c.weight);for(let{uri:c,weight:f}of r.slice(this.config.MaxActiveNodes,r.length))n.set(c,(n.get(c)??0)+f);let i=[...n.entries()].sort((c,f)=>f[1]-c[1]).slice(0,this.config.MaxActiveFiles).map(([c,f])=>({uri:c,id:xc,weight:f})),s=r.slice(0,this.config.MaxActiveNodes).concat(i).sort((c,f)=>f.weight-c.weight),a=s.reduce((c,f)=>c+f.weight,0);return a<=0?[]:s.map(c=>({...c,weight:c.weight/a}))}};var p8=class{constructor(t,r,n,i=!1){this.id=t;this.parts=r;this.text=n;this.canMerge=i}static{o(this,"ContextNode")}get startOffset(){return this.parts[0].root.startOffset}get endOffset(){return this.parts[this.parts.length-1].root.endOffset}get syntaxRoots(){return this.parts.map(t=>t.root)}get children(){return this.parts.flatMap(t=>t.children)}get syntaxLimits(){return this.children.flatMap(t=>t.syntaxRoots)}*syntaxNodes(){let t=new Set(this.syntaxLimits.map(r=>r.id));for(let r of this.syntaxRoots)yield*Gj(r,t)}findChild(t,r){if(t<this.startOffset||r>this.endOffset||r<t)return;let n=0,i=this.parts.length-1,s;for(;n<=i;){let l=Math.floor((n+i)/2);if(s=this.parts[l],s.root.startOffset<=t&&s.root.endOffset>=r)break;s.root.endOffset<t?n=l+1:i=l-1}if(s===void 0||i<n)return;n=0,i=s.children.length-1;let a;for(;n<=i;){let l=Math.floor((n+i)/2);if(a=s.children[l],a.startOffset<=t&&a.endOffset>=r)break;a.endOffset<t?n=l+1:i=l-1}if(!(a===void 0||i<n))return a}},g8=class{constructor(t,r,n){this._parsedDocument=t;this.minSize=r;this.updateId=G0();this.syntaxToAbstract=new Map;this.nodeById=new Map;this.minSize=Math.max(r,1),this.maxSize=Math.max(n??2*this.minSize,this.minSize+1),this._root=this.buildTree([])}static{o(this,"ContextDocument")}get uri(){return this.parsedDocument.document.uri}get version(){return this.updateId}get parsedDocument(){return this._parsedDocument}get document(){return this.parsedDocument.document}get rootId(){return this._root.id}get root(){return this._root}getNode(t){return this.nodeById.get(t)}getAllIds(){return Array.from(this.nodeById.keys())}findNode(t,r){let n=this.parsedDocument.findNode(t,r);for(;!this.syntaxToAbstract.has(n.id);){if(n.parent===null)return this.root;n=n.parent}let i=this.syntaxToAbstract.get(n.id);if(r===void 0)return i;let s=i;for(;s!==void 0;)i=s,s=i.findChild(t,r);return i}dispose(){this._parsedDocument.dispose()}update(t,r){if(this.uri!==t.document.uri)throw new Error("Can't update ContextDocument using mismatched URI");let n=[],i=[];this.recursivelyRemapNodes(this.root,t,r,n);let s=this._parsedDocument;try{this._parsedDocument=t,this._root=this.buildTree(i)}finally{s.dispose()}return this.updateId=G0(),{invalidated:n,created:i}}recursivelyRemapNodes(t,r,n,i){let s=!0;for(let f of t.children)s=s&&this.recursivelyRemapNodes(f,r,n,i);if(!s)return this.invalidateNode(t,i),!1;let a=[];for(let{root:f,children:u}of t.parts){let d=n(f);if(d===void 0||d.type!==f.type)return this.invalidateNode(t,i),!1;a.push({root:d,children:u})}let l=Wj(a,r.document);for(let[f,u]of l.entries())if(t.text[f]!==u)return this.invalidateNode(t,i),!1;let c=new p8(t.id,a,t.text,t.canMerge);for(let{root:f}of t.parts)this.syntaxToAbstract.delete(f.id);for(let{root:f}of c.parts)this.syntaxToAbstract.set(f.id,c);return this.nodeById.set(t.id,c),!0}invalidateNode(t,r){for(let n of t.syntaxRoots)this.syntaxToAbstract.delete(n.id);this.nodeById.delete(t.id),r.push(t.id)}createNode(t,r,n=!1){t.sort((a,l)=>a.root.startOffset-l.root.startOffset);let i=Wj(t,this.document),s=new p8(G0(),t,i,n);for(let{root:a}of t)this.syntaxToAbstract.set(a.id,s);return this.nodeById.set(s.id,s),r.push(s.id),s}isValidRoot(t){return t.length===1&&t[0].root.id===this.parsedDocument.root.id}buildTree(t){let r=this.parsedDocument.root,n=this.buildRecursively(r,t);return n.length===1&&this.isValidRoot(n[0].parts)?n[0]:this.createNode([{root:r,children:n}],t)}buildRecursively(t,r){if(this.syntaxToAbstract.has(t.id)){let l=this.syntaxToAbstract.get(t.id);return l.parts[0].root.id===t.id?[l]:[]}let n=t.endOffset-t.startOffset;if(n<this.minSize)return[];let i=t.children.map(l=>({root:l,children:this.buildRecursively(l,r)})),s=i.flatMap(l=>l.children),a=s.reduce((l,c)=>l+(c.endOffset-c.startOffset),0);return t.canMergeChildren&&(s=this.mergeChildren(i,r),a=s.reduce((l,c)=>l+(c.endOffset-c.startOffset),0)),t.canBeNode&&n-a>=this.minSize?[this.createNode([{root:t,children:s}],r)]:s}mergeChildren(t,r){if(t.length===0)return[];t.sort((m,g)=>m.root.startOffset-g.root.startOffset);let n=t[t.length-1].root.endOffset-t[0].root.startOffset,i=[];for(let m of t){let g=m.root.endOffset-m.root.startOffset;for(let h of m.children){let _=h.endOffset-h.startOffset;g-=_,n-=_}i.push(g)}if(n<this.minSize)return t.flatMap(m=>m.children);let s=[0],a=0,l=null,c={line:-1,size:-1},f=t[0].root.startOffset,u=t[0].root.range.start.line;for(let m=0;m<t.length;m++){let g=t[m];if(a+=i[m]+g.root.startOffset-f,a>this.minSize&&a<this.maxSize){let h={line:g.root.range.start.line-u,size:g.root.startOffset-f};(h.line>c.line||h.line==c.line&&h.size>c.size)&&(c=h,l=m)}f=g.root.endOffset,u=g.root.range.end.line,a>=this.maxSize&&(l=l??m,s.push(l+1),m=l,a=0,l=null,c={line:-1,size:-1},f=t[m+1]?.root.startOffset,u=t[m+1]?.root.range.start.line)}s.length==1?s.push(t.length):s[s.length-1]!==t.length&&(s[s.length-1]=t.length);let d=[],p=!1;for(let m=0;m<s.length-1;m++){let g=t.slice(s[m],s[m+1]);d.push(this.createNode(g,r,p)),p=!0}return d}};function Wj(e,t){if(e.length===0)return[""];let r=[],n=t.positionAt(e[0].root.startOffset);for(let s of e.flatMap(a=>a.children).sort((a,l)=>a.startOffset-l.startOffset)){let a=t.positionAt(s.startOffset);r.push(t.getText({start:n,end:a})),n=t.positionAt(s.endOffset)}let i=t.positionAt(e[e.length-1].root.endOffset);return r.push(t.getText({start:n,end:i})),r}o(Wj,"buildText");function*Gj(e,t){yield e;for(let r of e.children)t.has(r.id)||(yield*Gj(r,t))}o(Gj,"walk");function zj(e){return e.search(/^[a-zA-Z_]{3,}\w*$/)>=0}o(zj,"isSymbol");var Nce={package:/^package /,import:/^import /,class:/\bclass /,interface:/\binterface /,javadoc:/^\/\*\*/,comment_multi:/^\/\*[^*]/,comment_single:/^\/\//,annotation:/^@/,opener:/^[[({]/,closer:/^[\])}]/},Ace=_g(Nce);function Hj(e){let t=e;return bg(t,Ace),t=XT(t),t=w3(t),S3(t),Vu(t,r=>{if(r.label==="class"||r.label==="interface")for(let n of r.subs)!os(n)&&(n.label===void 0||n.label==="annotation")&&(n.label="member")},"bottomUp"),t}o(Hj,"processJava");var kce={heading:/^# /,subheading:/^## /,subsubheading:/### /},Oce=_g(kce);function Vj(e){let t=e;if(bg(t,Oce),os(t))return t;function r(s){if(s.label==="heading")return 1;if(s.label==="subheading")return 2;if(s.label==="subsubheading")return 3}o(r,"headingLevel");let n=[t],i=[...t.subs];t.subs=[];for(let s of i){let a=r(s);if(a===void 0||os(s))n[n.length-1].subs.push(s);else{for(;n.length<a;)n.push(n[n.length-1]);for(n[a-1].subs.push(s),n[a]=s;n.length>a+1;)n.pop()}}return t=tB(t),t=w3(t),S3(t),t}o(Vj,"processMarkdown");JT("markdown",Vj);JT("java",Hj);var h8=class{constructor(t,r,n,i,s,a){this.id=t;this.raw=r;this.children=n;this.parent=null;let l={start:{line:i,character:0},end:{line:s,character:a.lineAt(s).text.length}},c=a.getText(l),f=c.search(/\S/);if(f===-1){let p={line:s,character:0};this.startOffset=a.offsetAt(p),this.endOffset=this.startOffset,this.text="",this.range={start:p,end:p};return}let u=c.search(/\S(?!.*\S)/s),d=a.offsetAt(l.start);this.startOffset=d+f,this.endOffset=d+u+1,this.range={start:a.positionAt(this.startOffset),end:a.positionAt(this.endOffset)},this.text=a.getText(this.range)}static{o(this,"IndentationNode")}get type(){return this.raw.type}get isLeaf(){return this.children.length===0}get canBeNode(){return!0}get canMergeChildren(){return this.children.length>6}get isIdentifier(){return!1}get isText(){return!0}findNode(t,r){let n=0,i=this.children.length-1,s;for(;n<=i;){let a=Math.floor((n+i)/2);if(s=this.children[a],s.startOffset<=t&&s.endOffset>=r)break;s.endOffset<t?n=a+1:i=a-1}return s===void 0||i<n?this:s.findNode(t,r)}},KI=class{constructor(t,r){this.document=t;this.root=r}static{o(this,"IndentationParsedDocument")}findNode(t,r){return this.root.findNode(t,r??t)}dispose(){}};function YI(e,t,r){let n=e.subs.map(c=>({subtree:c,node:YI(c,t,r)})).filter(c=>c.node!==null).sort((c,f)=>c.node.startOffset-f.node.startOffset),i=[],s=t;for(let c=n.length-1;c>=0;c--){let{subtree:f,node:u}=n[c];if(u.range.end.line>=s){let d=YI(f,s,r);d!==null&&(i.push(d),s=Math.min(d.range.start.line,s))}else i.push(u),s=Math.min(u.range.start.line,s)}i.sort((c,f)=>c.startOffset-f.startOffset);let a=t,l=0;if(i.length>0&&(a=Math.min(a,i[0].range.start.line),l=Math.max(l,i[i.length-1].range.end.line)),(e.type==="blank"||e.type==="line")&&(a=Math.min(a,e.lineNumber),l=Math.max(l,e.lineNumber),e.type==="blank"&&a===l))return null;if(l=Math.min(l,t-1),a<=l){let c=new h8(G0(),e,i,a,l,r);for(let f of i)f.parent=c;return c}return null}o(YI,"recursivelyBuildNode");function Kj(e){let t=ZT(e.getText(),e.detectedLanguageId),r=YI(t,e.lineCount,e)??new h8(G0(),t,[],0,e.lineCount-1,e);return new KI(e,r)}o(Kj,"parse");function Lce(e,t){return{document:Kj(t),remapper:o(()=>{},"remapper")}}o(Lce,"update");var Yj={parse:Kj,update:Lce,dispose:o(function(){},"dispose")};var Jj=Tt(X5());function Xj(e){return{line:e.row,character:e.column}}o(Xj,"asPosition");var as=class e{constructor(t){this.node=t}static{o(this,"TreeSitterNode")}get raw(){return this.node}get id(){return this.node.id}get type(){return this.node.type}get text(){return this.node.text}get startOffset(){return this.node.startIndex}get endOffset(){return this.node.endIndex}get range(){return{start:Xj(this.node.startPosition),end:Xj(this.node.endPosition)}}get parent(){let t=this.node.parent;return t!==null?this.createNode(t):null}get children(){return this.node.namedChildren.map(t=>this.createNode(t))}get isLeaf(){return this.node.namedChildCount===0}get canBeNode(){return!0}get canMergeChildren(){return this.children.length>6}get isIdentifier(){return this.isLeaf&&zj(this.text)}get isText(){return this.isLeaf&&this.text.search(/\s/)>=0}createNode(t){return new e(t)}},Lg=class{constructor(t,r,n){this.textDocument=t;this.syntaxTree=r;this.nodeFactory=n}static{o(this,"TreeSitterDocument")}get document(){return this.textDocument}get root(){return this.nodeFactory(this.syntaxTree.rootNode)}findNode(t,r){let n=r===void 0?this.syntaxTree.rootNode.namedDescendantForIndex(t):this.syntaxTree.rootNode.namedDescendantForIndex(t,r);return this.nodeFactory(n)}dispose(){this.syntaxTree.delete()}},bc=class{constructor(t,r){this.language=t;this.nodeFactory=r;this.parser=new Jj.default;this.parser.setLanguage(t)}static{o(this,"TreeSitterParser")}parse(t){let r=this.parser.parse(t.getText());return new Lg(t,r,this.nodeFactory)}update(t,r){if(!(t instanceof Lg))throw new Error("Can only update documents created from this parser");let n=this.parser.parse(r.getText());return{document:new Lg(r,n,this.nodeFactory),remapper:o(()=>{},"remapper")}}dispose(){this.parser.delete()}};var Fce=new Set(["class_specifier","function_definition","expression_statement","if_statement","for_statement","while_statement","try_statement","switch_statement","compound_statement"]),Mce=new Set(["translation_unit","compound_statement","parameter_list","argument_list"]),x8=class e extends as{static{o(this,"CPPNode")}get canBeNode(){return Fce.has(this.type)}get canMergeChildren(){return Mce.has(this.type)}get isIdentifier(){return this.type==="identifier"}get isText(){return this.type==="string"||this.type==="comment"}createNode(t){return new e(t)}};var Uce=new Set(["class_declaration","method_declaration","expression_statement","if_statement","for_statement","while_statement","try_statement","switch_statement"]),Bce=new Set(["program","block","object_creation_expression","formal_parameters","argument_list","array_initializer"]),b8=class e extends as{static{o(this,"JavaNode")}get canBeNode(){return Uce.has(this.type)}get canMergeChildren(){return Bce.has(this.type)}get isIdentifier(){return this.type==="identifier"}get isText(){return this.type==="string_literal"||this.type==="line_comment"||this.type==="block_comment"}createNode(t){return new e(t)}};var jce=new Set(["class_definition","function_definition","expression_statement","if_statement","for_statement","while_statement","with_statement","try_statement"]),$ce=new Set(["module","block","parameters","dictionary","list"]),_8=class e extends as{static{o(this,"PythonNode")}get canBeNode(){return jce.has(this.type)}get canMergeChildren(){return $ce.has(this.type)}get isIdentifier(){return this.type==="identifier"}get isText(){return this.type==="string"||this.type==="comment"}createNode(t){return new e(t)}};var qce=new Set(["class_declaration","function_declaration","arrow_function","method_definition","expression_statement","if_statement","while_statement","try_statement","for_statement","switch_statement"]),Wce=new Set(["program","statement_block","formal_parameters","arguments","object","array"]),y8=class e extends as{static{o(this,"TypeScriptNode")}get canBeNode(){return qce.has(this.type)}get canMergeChildren(){return Wce.has(this.type)}get isIdentifier(){return this.type==="identifier"}get isText(){return this.type==="string"||this.type==="comment"}createNode(t){return new e(t)}};var Zj=Tt(X5());async function Qj(e){await Zj.default.init();try{let t=await W6(e);switch(e){case"python":return new bc(t,r=>new _8(r));case"typescript":return new bc(t,r=>new y8(r));case"java":return new bc(t,r=>new b8(r));case"cpp":return new bc(t,r=>new x8(r));default:return new bc(t,r=>new as(r))}}catch{return Yj}}o(Qj,"getParser");var JI=class{constructor(t,r){this.created=t;this.invalidated=r;this.updatedDocuments=Array.from(new Set([...t.entries(),...r.entries()].filter(([n,i])=>i.size>0).map(([n,i])=>n)))}static{o(this,"WorkspaceContextChanges")}getInvalidatedNodes(t){return this.getNodes(this.invalidated,t)}getCreatedNodes(t){return this.getNodes(this.created,t)}getNodes(t,r){return r===void 0?Array.from(t.entries()).flatMap(([n,i])=>[...i].map(s=>({uri:n,id:s}))):Array.from(t.get(r)??[]).map(n=>({uri:r,id:n}))}},v8=class{constructor(t,r){this.item=t;this.disposalCallback=r}static{o(this,"CachedItem")}dispose(){this.disposalCallback(this.item)}},T8=class{constructor(t){this.ctx=t;this.config=Fm();this.providerWeights=Lm();this.listenerDisposable=void 0;this.targetSet=new Set;this.activeDocuments=new Map;this.nodeToDoc=new Map;this.createdNodes=new Map;this.invalidatedNodes=new Map;this.parsers=new Map;this.cachedDocuments=new Uh;this.staleDocuments=new Set;this.pendingUpdates=new Map;this.uriCache=new rr(5e3);this.invalidDocumentCache=new Ec(this.config.MaxActiveNodes,this.config.InvalidCacheTime)}static{o(this,"WorkspaceContextManager")}isStarted(){return this.listenerDisposable!==void 0}start(){this.isStarted()||(this.listenerDisposable=this.ctx.get(Gt).onDidChangeTextDocument(t=>this.handleDocumentChange(t)))}getActiveDocuments(){return Array.from(this.activeDocuments.values())}getNode(t){let r=this.nodeToDoc.get(t);if(r===void 0)return;let n=this.getDocument(r);if(n===void 0)return;let i=n.document.getNode(t);if(i!==void 0)return{...n,node:i}}getDocument(t){let r=this.activeDocuments.get(t);if(r!==void 0)return{document:r,isActive:!0};let n=this.cachedDocuments.get(t);if(n!==void 0)return{document:n.item,isActive:!1}}getUri(t){return this.nodeToDoc.get(t)}normalizeUri(t){if(this.uriCache.has(t))return this.uriCache.get(t)??void 0;let r=No(t);if(!Kx.includes(uS(r)))return;let i=this.ctx.get(Gt).getWorkspaceFolder({uri:r})!==void 0?r:null;return this.uriCache.set(t,i),i??void 0}dispose(){if(this.isStarted()){this.listenerDisposable?.dispose(),this.listenerDisposable=void 0;for(let t of this.activeDocuments.values())t.dispose();this.activeDocuments.clear(),this.cachedDocuments.clear()}}trySetActiveDocuments(t){if(this.isStarted()){this.targetSet.clear();for(let r of t){let n=this.normalizeUri(r);n!==void 0&&(this.targetSet.add(n),this.updateDocument(n))}for(let r of[...this.activeDocuments.keys()])this.targetSet.has(r)||this.deactivateDocument(r)}}popChanges(){let t=new JI(this.createdNodes,this.invalidatedNodes);return this.createdNodes=new Map,this.invalidatedNodes=new Map,t}async flushUpdates(t){if(t!==void 0){let r=this.pendingUpdates.get(t);r!==void 0&&await r}else await Promise.all([...this.pendingUpdates.values()])}isKnownDocument(t){return this.activeDocuments.has(t)||this.cachedDocuments.has(t)||this.pendingUpdates.has(t)}deactivateDocument(t){let r=this.activeDocuments.get(t);r!==void 0&&(this.activeDocuments.delete(t),this.pendingUpdates.has(t)||this.cachedDocuments.set(t,new v8(r,n=>this.disposeDocument(n))))}async updateDocument(t){if(this.pendingUpdates.has(t))return;let r=new So;this.pendingUpdates.set(t,r.promise);let n;this.activeDocuments.has(t)?n=this.activeDocuments.get(t):this.cachedDocuments.has(t)&&(n=this.cachedDocuments.get(t).item,this.cachedDocuments.uncache(t)),(n===void 0||this.staleDocuments.has(t))&&(this.staleDocuments.delete(t),n=await this.createUpdatedDocument(t,n)),n!==void 0&&(this.isStarted()?this.targetSet.has(t)?this.activeDocuments.set(t,n):(this.activeDocuments.delete(t),this.cachedDocuments.set(t,new v8(n,i=>this.disposeDocument(i)))):n.dispose()),this.pendingUpdates.delete(t),r.resolve()}async createUpdatedDocument(t,r){let n=await this.readTextDocument(t);if(n===void 0){r!==void 0&&this.disposeDocument(r);return}let i;try{i=await this.getParser(n.detectedLanguageId)}catch{this.invalidDocumentCache.set(t,!0),r!==void 0&&this.disposeDocument(r);return}if(r!==void 0)if(n.detectedLanguageId!==r.document.detectedLanguageId)this.disposeDocument(r);else{let{document:l,remapper:c}=i.update(r.parsedDocument,n),f=r.update(l,c);return this.recordDocumentChanges(t,f),r}let s=i.parse(n),a=new g8(s,this.config.MinNodeSize);return this.recordDocumentChanges(t,{created:a.getAllIds(),invalidated:[]}),a}disposeDocument(t){this.recordDocumentChanges(t.uri,{created:[],invalidated:t.getAllIds()}),t.dispose()}recordDocumentChanges(t,r){let n=Og(this.createdNodes,t,()=>new Set),i=Og(this.invalidatedNodes,t,()=>new Set);for(let s of r.created)n.add(s),this.nodeToDoc.set(s,t);for(let s of r.invalidated)n.has(s)?n.delete(s):i.add(s),this.nodeToDoc.delete(s)}async getParser(t){let r=this.parsers.get(t);return r===void 0&&(r=await Qj(t),this.parsers.set(t,r)),r}async readTextDocument(t){if(this.invalidDocumentCache.has(t))return;let r=await this.ctx.get(F0).getOrReadTextDocument({uri:t});if(r.status!=="valid"||r.document.uri!==t){this.invalidDocumentCache.set(t,!0);return}return r.document}handleDocumentChange(t){let r=t.document.uri;this.isKnownDocument(r)&&this.staleDocuments.add(r)}};var I8=class{constructor(t){this.ctx=t;this.documents=new Map;this.elisionMarker=km;this.nodeCache=new rr(1e4);this.costFunction=qj(this.elisionMarker),this.root=this.createRootNode()}static{o(this,"WorkspacePromptComponent")}getRoot(){return this.root}snapshot(t,r){this.documents.clear();for(let{uri:n}of t.documents){let i=r.getDocument(n);if(i?.isActive!==!0)continue;let s=this.createAnnotatedDocumentRoot(i.document);this.documents.set(n,VI(s,this.costFunction,this.elisionMarker,this.nodeCache))}this.root=this.createRootNode(),this.root.updateWeights(n=>t.getNodeWeight(n.id)??0)}createRootNode(){let t=new Array(this.documents.size+1).fill(""),r=[...this.documents.values()];return new kg(G0(),t,r,1,0,!0,"")}createAnnotatedDocumentRoot(t){return{text:[this.getDocumentAnnotation(t.uri,t.document.detectedLanguageId),`

`],children:[t.root],id:G0(),elisionMarker:"",canMerge:!0}}getDocumentAnnotation(t,r){let i=this.ctx.get(Gt).getRelativePath({uri:t});return Cm(`Related portions of ${i??t}:
`,r)}};var e$=Tt(R1());var Fg=class e{constructor(t){this.ctx=t;this.didStart=!1;this.didDispose=!1;this.deferredStart=new So;this.config=Fm();this.providerWeights=Lm();this.emitter=new e$.default;this.forceUpdateInterrupt=new So;this.emitter.setMaxListeners(27),this.contextManager=new T8(t),this.coordinator=new m8(this.contextManager),this.promptComponent=new I8(t),this.tokenEventDisposable=Vr(t,()=>{this.maybeStart()})}static{o(this,"WorkspaceContextFeature")}static{this.UpdateEventName="WorkspaceContextUpdate"}static{this.DisposeEventName="WorkspaceContextDispose"}async maybeStart(){if(this.didStart||this.didDispose)return;let t=It(this.ctx,_e.UseWorkspaceContextCoordinator);if(t===void 0)try{let r=await this.ctx.get(Be).updateExPValuesAndAssignments();t=this.isEnabled(r)}catch{}t&&(this.start(),this.tokenEventDisposable.dispose())}isActive(){return this.didStart&&!this.didDispose}get activation(){return this.deferredStart.promise}isEnabled(t){return It(this.ctx,_e.UseWorkspaceContextCoordinator)??this.ctx.get(Be).workspaceContextCoordinator(t)}start(){this.didStart||(this.didStart=!0,this.contextManager.start(),this.deferredStart.resolve(),this.forceUpdateInterrupt=new So,this.loop())}dispose(){this.isActive()?(this.emitter.emit(e.DisposeEventName),this.contextManager.dispose()):!this.didDispose&&!this.didStart&&this.tokenEventDisposable.dispose(),this.didDispose=!0}pushWorkspaceContext(t,r){this.isActive()&&this.coordinator.pushWorkspaceContext(t,r)}getWorkspaceContext(){return this.contextManager}getWorkspaceContextWeights(){return this.coordinator.getWeights()}getPromptComponent(){return this.promptComponent.getRoot()}onUpdate(t){return this.emitter.on(e.UpdateEventName,t),Kt.Disposable.create(()=>this.emitter.off(e.UpdateEventName,t))}onDisposal(t){return this.emitter.on(e.DisposeEventName,t),Kt.Disposable.create(()=>this.emitter.off(e.DisposeEventName,t))}async forceUpdate(){return this.forceUpdateInterrupt.promise}async loop(){try{for(;this.isActive();){let t=this.coordinator.updateWeights();this.promptComponent.snapshot(t,this.contextManager);let r=t.documents.slice(0,this.config.MaxActiveFiles).map(({uri:n})=>n);if(this.contextManager.trySetActiveDocuments(r),await this.contextManager.flushUpdates(),this.forceUpdateInterrupt.resolve(),this.forceUpdateInterrupt=new So,this.isActive()){this.promptComponent.snapshot(t,this.contextManager);let n=this.config.UpdateInterval,i={weights:t,context:this.contextManager,changes:this.contextManager.popChanges(),responseInterval:n};this.emitter.emit(e.UpdateEventName,i),await lc(n)}}}catch(t){fc(this.ctx,t,"WorkspaceContextFeature.loop"),this.dispose()}}};function t$(e){let t=new Vx;return t.set(Rs,e),t.set(Ic,new Ic),t.set(In,new In),t.set(M0,new M0),t.set(wl,new wl),t.set(Be,new Be(t)),t.set(Wc,new Wc),t.set(Mi,new Mi(t)),t.set(ks,new ks),t.set(p0,new p0),t.set(cc,new pg),t.set(qc,new r2),t.set(Sc,new $h),t.set(Ui,new Ui),t.set(qu,new qu(t)),t.set(F0,new F0(t)),t.set(Fg,new Fg(t)),t.set(Va,nj(t)),t.set(W0,new W0),t.set(Hs,new Hs),t.set(Am,Am.default),t.set(qa,new qa(t)),t.set(o0,new o0(t)),t.set(Kf,new Kf),t.set(wo,new wo(t)),t.set(rg,new rg),t.set(ng,new ng(t)),t.set(Ga,new Ga),t}o(t$,"createCommonContext");var F0t=new St("exp");function r$(e){let t=e.get(Be);t.registerStaticFilters(Hce(e)),t.registerDynamicFilter("X-Copilot-OverrideEngine",()=>It(e,_e.DebugOverrideEngine)||It(e,_e.DebugOverrideEngineLegacy)),t.registerDynamicFilter("X-VSCode-ExtensionName",()=>Pl()?"copilot-web":e.get(cr).getEditorPluginInfo().name),t.registerDynamicFilter("X-VSCode-ExtensionVersion",()=>ZI(!e.get(In).isProduction()&&e.get(cr).getEditorPluginInfo().name==="copilot"?"1.999.0":e.get(cr).getEditorPluginInfo().version)),t.registerDynamicFilter("X-VSCode-ExtensionRelease",()=>Gce(e)),t.registerDynamicFilter("X-VSCode-Build",()=>e.get(cr).getEditorInfo().name),t.registerDynamicFilter("X-VSCode-AppVersion",()=>ZI(e.get(cr).getEditorInfo().version)),t.registerDynamicFilter("X-VSCode-TargetPopulation",()=>zce(e)),t.registerDynamicFilterGroup(()=>{let r={};for(let n of e.get(cr).getRelatedPluginInfo()){let i=Ro+n.name.replace(/[^A-Za-z]/g,"").toLowerCase();if(!Object.values(Hm).includes(i)){Bh(e,{reason:`A filter could not be registered for the unrecognized related plugin "${n.name}".`});continue}r[i]=ZI(n.version)}return r})}o(r$,"setupExperimentationService");function Gce(e){let t=e.get(cr).getEditorPluginInfo();return t.name==="copilot"&&N1(e)==="nightly"||t.name==="copilot-intellij"&&t.version.endsWith("nightly")?"nightly":"stable"}o(Gce,"getPluginRelease");function zce(e){let t=e.get(cr).getEditorInfo();return t.name==="vscode"&&t.version.endsWith("-insider")?"insider":"public"}o(zce,"getTargetPopulation");function Hce(e){return Vce(e)}o(Hce,"createAllFilters");function Vce(e){let t=e.get(cn);return{"X-MSEdge-ClientId":t.machineId,"X-Copilot-ClientVersion":e.get(In).isProduction()?A1(e):"1.999.0"}}o(Vce,"createDefaultFilters");function ZI(e){return e.split("-")[0]}o(ZI,"trimVersionSuffix");var E8=class extends rl{static{o(this,"TelemetryLogSenderWeb")}sendError(t,r,...n){Os(t,"log",Qe.createAndMarkAsIssued({context:r,level:Xh[1],message:Kce(...n)}),1)}sendException(t,r,n){Ys(t,r,n)}};function Kce(...e){return e.map(t=>Yce(t)).join(" ")}o(Kce,"telemetryMessage");function Yce(e){if(typeof e=="string"||typeof e=="number"||typeof e=="boolean"||e===null||e===void 0)return`${e}`;try{return JSON.stringify(e)}catch{return e}}o(Yce,"safeStringify");var C8=class extends Bn{constructor(r){super();this.ctx=r;this.name="FetchFetcher";this.userAgent=`GithubCopilot/${this.ctx.get(In).getVersion()}`}static{o(this,"FetchFetcher")}async fetch(r,n){let i=n.headers||{};i["User-Agent"]=this.userAgent;let s=n.body;if(n.json){if(n.body)throw new Error("Illegal arguments! Cannot pass in both 'body' and 'json'!");i["Content-Type"]="application/json",s=JSON.stringify(n.json)}let a=n.method||"GET";if(a!=="GET"&&a!=="POST")throw new Error("Illegal arguments! 'method' must be either 'GET' or 'POST'!");if(n.signal&&!(n.signal instanceof AbortSignal))throw new Error("Illegal arguments! 'signal' must be an instance of AbortSignal!");let l=AbortSignal.any([...n.signal?[n.signal]:[],...n.timeout?[AbortSignal.timeout(n.timeout)]:[]]),c=await fetch(r,{method:a,headers:i,body:s,signal:l});return new jh(c.status,c.statusText,c.headers,()=>c.text(),()=>c.body)}async disconnectAll(){}};var S8=class extends gc{static{o(this,"EmptyRecentEditsProvider")}isEnabled(){return!1}start(){}getRecentEdits(){return[]}getEditSummary(t){return null}};var n$=100,i$=1e3*60*5;function o$(e){let t=new QI(e);e.get($0).registerContextProvider(t),e.get(uc).add(t.id)}o(o$,"registerRelatedFilesShim");var QI=class{constructor(t){this.ctx=t;this.id="relatedFilesShim";this.selector=["*"];this.traitCache=new Ec(n$,i$);this.relatedFilesCache=new Ec(n$,i$);this.resolver={resolve:o(async(r,n)=>{let i=r.documentContext.uri,s=r.documentContext.languageId;return await this.getTraits(i,s,n)},"resolve")}}static{o(this,"RelatedFilesShim")}async getTraits(t,r,n){return this.traitCache.has(t)||await this.requestRelatedFilesAndTraits(t,r,r,n),this.traitCache.get(t)??[]}async requestRelatedFilesAndTraits(t,r,n,i){try{let s=await this.ctx.get(Be).updateExPValuesAndAssignments({uri:t,languageId:n}),a={uri:t,clientLanguageId:r,detectedLanguageId:n},l=await Q3(this.ctx,a,s,i,!0);if(i?.isCancellationRequested)return;let c=l.traits.filter(u=>u.includeInPrompt).map(u=>u.promptTextOverride?{name:"OtherInformation",value:u.promptTextOverride}:u),f=new Set;for(let u of l.entries.values())for(let d of u.keys())f.add(d);this.traitCache.set(t,c),this.relatedFilesCache.set(t,Array.from(f))}catch(s){fc(this.ctx,s,"relatedFilesShim")}}};var s$=["cpp","c","cuda-cpp"],a$=["typescript","javascript","typescriptreact","javascriptreact"],l$=["csharp"],Xce=new Map([...s$.map(e=>[e,"related/cpp"]),...a$.map(e=>[e,"related/typescript"]),...l$.map(e=>[e,"related/csharproslyn"])]);function Jce(e){return Xce.get(e)??"related/other"}o(Jce,"getNeighboringFileType");var w8=class extends ef{constructor(r){super(r);this.providers=new Map;this.telemetrySent=!1;this.reportedUnknownProviders=new Set}static{o(this,"CompositeRelatedFilesProvider")}async getRelatedFilesResponse(r,n,i){let s=Date.now(),a=r.clientLanguageId.toLowerCase();if(Jce(a)==="related/other"&&!this.reportedUnknownProviders.has(a)&&(this.reportedUnknownProviders.add(a),Un.warn(this.context,`unknown language ${a}`)),this.relatedFilesTelemetry(n),Un.debug(this.context,`Fetching related files for ${r.uri}`),!this.isActive(a,n))return Un.debug(this.context,"language-server related-files experiment is not active."),wI;let c=this.providers.get(a);if(!c)return wI;try{return this.convert(r.uri,c,s,n,i)}catch{this.relatedFileNonresponseTelemetry(a,n);return}}async convert(r,n,i,s,a){a||(a={isCancellationRequested:!1,onCancellationRequested:o(()=>({dispose(){}}),"onCancellationRequested")});let l={entries:[],traits:[]},c=n.size>0;for(let f of n.values()){let u=await f.callback(r,{flags:{}},a);if(u){c=!1,l.entries.push(...u.entries),u.traits&&l.traits.push(...u.traits);for(let d of u.entries)for(let p of d.uris)Un.debug(this.context,p.toString())}}return this.performanceTelemetry(Date.now()-i,s),c?void 0:l}registerRelatedFilesProvider(r,n,i){let s=this.providers.get(n);s?s.set(r,{extensionId:r,languageId:n,callback:i}):this.providers.set(n,new Map([[r,{extensionId:r,languageId:n,callback:i}]]))}unregisterRelatedFilesProvider(r,n,i){let s=this.providers.get(n);if(s){let a=s.get(r);a&&a.callback===i&&s.delete(r)}}isActive(r,n){return l$.includes(r)?this.context.get(Be).relatedFilesVSCodeCSharp(n)||It(this.context,_e.RelatedFilesVSCodeCSharp):a$.includes(r)?this.context.get(Be).relatedFilesVSCodeTypeScript(n)||It(this.context,_e.RelatedFilesVSCodeTypeScript):s$.includes(r)?this.context.get(Be).cppHeadersEnableSwitch(n)||It(this.context,_e.DebugOverrideCppHeadersEnableSwitch):this.context.get(Be).relatedFilesVSCode(n)||It(this.context,_e.RelatedFilesVSCode)}relatedFilesTelemetry(r){}relatedFileNonresponseTelemetry(r,n){}performanceTelemetry(r,n){}};var d$=Tt(Pc());var Zce=new St("repository"),rf="\\\\",m$="(?:[#;].*)",Mm=`(?:[^"${rf}]|${rf}.)`,Qce="[0-9A-Za-z-]",c$=`[A-Za-z]${Qce}*`,p$=`\\s*${m$}?$`,g$=`(?:[^"${rf};#]|${rf}.)`,eue=`(?:"${Mm}*"|"${Mm}*(?<strCont>${rf})$)`,tue=`(?:${g$}|${eue})+`,rue=`(?:(?<cont>${rf})$)`,h$=`(?<value>${tue})${rue}?${p$}`,u$=new RegExp(`^${h$}`),nue=new RegExp(`^(?<value>${Mm}*(?:(?<strCont>${rf})$|(?<quote>")))`),iue=new RegExp(`^\\s*(?:(?<key>${c$})\\s*=\\s*${h$}|(?<soloKey>${c$})${p$})`),oue=new RegExp(`(?<value>${g$}+)|"(?<string>${Mm}*)"`,"g"),f$="[-.0-9A-Za-z]+",sue=`\\s+"(?<ext>${Mm}*)"`,aue=`\\s+"(?<extOnly>${Mm}*)"`,lue=new RegExp(`^\\s*\\[(?:(?<simple>${f$})${sue}|${aue}|(?<simpleOnly>${f$}))\\]`),cue=new RegExp(`^\\s*${m$}$`),eE=class{constructor(t){this.content=t;this.stopped=!1;this.section="";this.line="";this.lineNum=0;this.lines=[];this.linesWithErrors=[]}static{o(this,"GitConfigParser")}parse(t){for(this.stopped=!1,this.section="",this.line="",this.linesWithErrors=[],this.configValueHandler=t,this.lines=this.content.split(/\r?\n/),this.lineNum=0;!this.stopped&&this.lineNum<this.lines.length;this.lineNum++)this.line=this.lines[this.lineNum],this.parseSectionStart(),this.parseConfigPair(),this.parseComment(),/^\s*$/.test(this.line)||this.errorAt(this.lineNum+1)}stop(){this.stopped=!0}hasErrors(){return this.linesWithErrors.length>0}errorAt(t){this.linesWithErrors.push(t)}parseSectionStart(){let t=this.line.match(lue);t&&(t.groups?.simple?this.section=t.groups.simple.toLowerCase()+"."+this.unescapeBaseValue(t.groups.ext):t.groups?.extOnly?this.section="."+this.unescapeBaseValue(t.groups.extOnly):this.section=t.groups.simpleOnly.toLowerCase(),this.line=this.line.slice(t[0].length))}unescapeBaseValue(t){return t.replace(/\\(.)/g,"$1")}parseConfigPair(){let t=this.line.match(iue);if(t){if(t.groups?.key){let r=this.handleContinued(t);this.configValueHandler?.(this.nameWithSection(t.groups.key.toLowerCase()),r)}else t.groups?.soloKey&&this.configValueHandler?.(this.nameWithSection(t.groups.soloKey.toLowerCase()),"");this.line=""}}handleContinued(t){let r=t,n=[this.matchedValue(r)];for(;r?.groups?.cont||r?.groups?.strCont;){if(this.line=this.lines[++this.lineNum],this.lineNum>=this.lines.length){this.errorAt(this.lineNum);break}r.groups.strCont?(r=this.line.match(nue),r?(n.push(this.matchedValue(r)),r.groups?.quote&&(r=this.line.slice(r[0].length).match(u$),r?n.push(this.matchedValue(r)):this.errorAt(this.lineNum+1))):this.errorAt(this.lineNum+1)):(r=this.line.match(u$),r?n.push(this.matchedValue(r)):this.errorAt(this.lineNum+1))}return this.normalizeValue(n.join(""))}matchedValue(t){return t.groups.strCont?t.groups.value.slice(0,-1):t.groups.value}normalizeValue(t){let r=!1,n=[...t.matchAll(oue)].map(i=>i.groups?.value?(r=!0,this.unescapeValue(i.groups.value.replace(/\s/g," "))):(r=!1,this.unescapeValue(i.groups.string))).join("");return r?n.trimEnd():n}unescapeValue(t){let r={n:`
`,t:"	",b:"\b"};return t.replace(/\\(.)/g,(n,i)=>r[i]||i)}nameWithSection(t){return this.section?this.section+"."+t:t}parseComment(){cue.test(this.line)&&(this.line="")}},P8=class extends sc{static{o(this,"GitParsingConfigLoader")}async getConfig(t,r){let n=await qa.getRepoConfigLocation(t,r);if(!n)return;let i=await this.getParsedConfig(t,n);if(i)return this.mergeConfig(await this.baseConfig(t,n),i)}mergeConfig(...t){return t.filter(r=>r!==void 0).reduce((r,n)=>r.concat(n),new ag)}async getParsedConfig(t,r,n=!0){let i=await this.tryLoadConfig(t,r,n);if(!i)return;let s=new eE(i),a=new ag;return s.parse((l,c)=>a.add(l,c)),a}async tryLoadConfig(t,r,n){try{return await t.get(Jr).readFileString(r)}catch(i){(n||!(i instanceof Error)||i.code!=="ENOENT")&&Zce.warn(t,`Failed to load git config from ${JSON.stringify(r)}:`,i);return}}async baseConfig(t,r){let n=await this.commondirConfigUri(t,r),i=Dn(this.xdgConfigUri(),"git","config"),s=Dn(this.homeUri(),".gitconfig");return this.mergeConfig(await this.getParsedConfig(t,i,!1),await this.getParsedConfig(t,s,!1),n?await this.getParsedConfig(t,n,!1):void 0)}async commondirConfigUri(t,r){if(el(r).toLowerCase()!=="config.worktree")return;let n=X0(r),i=Dn(n,"commondir");try{let s=(await t.get(Jr).readFileString(i)).trimEnd();return Dn(Dc(n,s),"config")}catch{return}}xdgConfigUri(){return typeof process<"u"&&process.env.XDG_CONFIG_HOME?Hh(process.env.XDG_CONFIG_HOME):Dn(this.homeUri(),".config")}homeUri(){return Hh((0,d$.homedir)())}};var fr=require("vscode");var x$={AuthNotifyShown:"auth.auth_notify_shown",AuthNotifyDismissed:"auth.auth_notify_dismissed",NewGitHubLogin:"auth.new_github_login",GitHubLoginSuccess:"auth.github_login_success"};function b$(e,t){let r=Qe.createAndMarkAsIssued({authSource:t});return Se(e,x$.AuthNotifyShown,r)}o(b$,"telemetryAuthNotifyShown");function _$(e,t,r){let n=Qe.createAndMarkAsIssued({authSource:t,authType:r});return Se(e,x$.NewGitHubLogin,n)}o(_$,"telemetryNewGitHubLogin");var nf=require("vscode");var y$=["user:email"];var _c=require("vscode");var v$={GitHub:"github",GitHubEnterprise:"github-enterprise"},T$="https://github.com",uue=["read:user"],fue=["read:user","user:email","repo","workflow"];function yc(){let e=_c.workspace.getConfiguration(Gr).get("advanced")?.authProvider;return e===v$.GitHubEnterprise?{providerId:e,serverUrl:_c.workspace.getConfiguration(Qg).get("uri")||T$}:{providerId:v$.GitHub,serverUrl:T$}}o(yc,"getSessionConfig");function due(){return _c.workspace.getConfiguration(Gr).get("advanced")?.authPermissions==="minimal"}o(due,"isAuthMinimalMode");async function I$(e){let{providerId:t,serverUrl:r}=yc(),n={silent:!0};e.forceNewSession&&(n=e);let i;try{due()||(i=await _c.authentication.getSession(t,fue,n),i??=await _c.authentication.getSession(t,uue,n)),i??=await _c.authentication.getSession(t,y$,e)}catch(s){throw typeof s=="string"?new ts({reason:"NotSignedIn",message:s}):s instanceof Error&&s.message==="Cancelled"?new ts({reason:"NotSignedIn",message:s.message}):s}if(i)return{accessToken:i.accessToken,account:i.account,...tp({serverUrl:r})}}o(I$,"getSessionHelper");async function D8(){return await I$({createIfNone:!1})}o(D8,"getExistingSession");async function E$(){return I$({createIfNone:!0})}o(E$,"getOrCreateSession");function C$(e){return nf.authentication.onDidChangeSessions(async t=>{let r=yc();if(t.provider.id!==r.providerId)return;let n=e.get(Mr);n.resetToken(),await n.primeToken()})}o(C$,"registerAuthentication");async function S$(e){b$(e,"command"),_$(e,"command","editorAuth"),await E$(),await e.get(Mr).primeToken()}o(S$,"signInCommand");var R8=class extends $x{constructor(){super(...arguments);this.everActivated=!1;this.shown401Message=!1}static{o(this,"VSCodeCopilotTokenManager")}async getGitHubSession(){let r=await D8();return r&&{...r,login:r.account.label}}async getToken(){try{let r=await super.getToken();return this.everActivated=!0,nf.commands.executeCommand("setContext","github.copilot.activated",!0),r}catch(r){if(nf.commands.executeCommand("setContext","github.copilot.activated",!1),r instanceof ts&&r.result.reason==="HTTP401"){let n="Your GitHub token is invalid. Please sign out from your GitHub account using the Visual Studio Code UI and try again.";this.everActivated&&!this.shown401Message&&(this.shown401Message=!0,nf.window.showWarningMessage(n))}throw r}}};var N8="codereferencing.showOutputPane",w$="code-referencing";var Mg=new St(w$);var cE=require("vscode");var mue=/^[1-6][0-9][0-9]$/,pue=/([A-Z][a-z]+)/,gue="code_referencing",Ug=class{constructor(t){this.baseKey=t}static{o(this,"CodeQuoteTelemetry")}buildKey(...t){return[gue,this.baseKey,...t].join(".")}},tE=class extends Ug{static{o(this,"CopilotOutputLogTelemetry")}constructor(){super("github_copilot_log")}handleOpen({context:t}){let r=this.buildKey("open","count"),n=Qe.createAndMarkAsIssued();Se(t,r,n)}handleFocus({context:t}){let r=Qe.createAndMarkAsIssued(),n=this.buildKey("focus","count");Se(t,n,r)}handleWrite({context:t}){let r=Qe.createAndMarkAsIssued(),n=this.buildKey("write","count");Se(t,n,r)}},Bg=new tE,rE=class extends Ug{static{o(this,"MatchNotificationTelemetry")}constructor(){super("match_notification")}handleDoAction({context:t,actor:r}){let n=Qe.createAndMarkAsIssued({actor:r}),i=this.buildKey("acknowledge","count");Se(t,i,n)}handleDismiss({context:t,actor:r}){let n=Qe.createAndMarkAsIssued({actor:r}),i=this.buildKey("ignore","count");Se(t,i,n)}},iE=new rE,nE=class extends Ug{static{o(this,"SnippyTelemetry")}constructor(){super("snippy")}handleUnexpectedError({context:t,origin:r,reason:n}){let i=Qe.createAndMarkAsIssued({origin:r,reason:n});Os(t,this.buildKey("unexpectedError"),i)}handleCompletionMissing({context:t,origin:r,reason:n}){let i=Qe.createAndMarkAsIssued({origin:r,reason:n});Os(t,this.buildKey("completionMissing"),i)}handleSnippyNetworkError({context:t,origin:r,reason:n,message:i}){if(!r.match(mue)){Mg.debug(t,"Invalid status code, not sending telemetry",{origin:r});return}let s=n.split(pue).filter(l=>!!l).join("_").toLowerCase(),a=Qe.createAndMarkAsIssued({message:i});Os(t,this.buildKey(s,r),a)}},Wat=new nE;var aE=require("vscode");var P$=require("vscode");var sE="GitHub Copilot Log (Code References)";function hue(){let e=o(n=>n<10?`0${n}`:n,"toTwoDigits"),t=o(n=>n<10?`00${n}`:n<100?`0${n}`:n,"toThreeDigits"),r=new Date;return`${r.getFullYear()}-${e(r.getMonth()+1)}-${e(r.getDate())} ${e(r.getHours())}:${e(r.getMinutes())}:${e(r.getSeconds())}.${t(r.getMilliseconds())}`}o(hue,"getCurrentTimestamp");var oE=class{constructor(t){this.output=t}static{o(this,"CodeReferenceOutputChannel")}info(...t){this.output.appendLine(`${hue()} [info] ${t.join(" ")}`)}show(t){this.output.show(t)}dispose(){this.output.dispose()}},A8=class e{constructor(t){this.checkCopilotToken=o(t=>{t.envelope.code_quote_enabled?this.output=this.createChannel():this.output?.dispose()},"checkCopilotToken");this.#e=Vr(t,r=>this.checkCopilotToken(r)),this.output=this.createChannel()}static{o(this,"GitHubCopilotLogger")}#e;static create(t){return new e(t)}createChannel(){return this.output?this.output:new oE(P$.window.createOutputChannel(sE,"code-referencing"))}log(t,...r){this.output||(this.output=this.createChannel());let[n,...i]=r;this.output[t](n,...i)}info(...t){this.log("info",...t)}forceShow(){this.output?.show(!0)}dispose(){this.output?.dispose(),this.#e.dispose()}};var lE=class{constructor(t){this.ctx=t;this.activeLog=!1;this.subscriptions=[];this.onActiveEditorChange=o(t=>{this.isOutputLog(t)&&Bg.handleFocus({context:this.ctx})},"onActiveEditorChange");this.onVisibleEditorsChange=o(t=>{let r=t.find(this.isOutputLog);this.activeLog?r||(this.activeLog=!1):r&&(this.activeLog=!0,Bg.handleOpen({context:this.ctx}))},"onVisibleEditorsChange");this.isOutputLog=o(t=>t&&t.document.uri.scheme==="output"&&t.document.uri.path.includes(sE),"isOutputLog")}static{o(this,"CodeRefEngagementTracker")}register(){let t=aE.window.onDidChangeActiveTextEditor(this.onActiveEditorChange),r=aE.window.onDidChangeVisibleTextEditors(this.onVisibleEditorsChange);this.subscriptions.push(r),this.subscriptions.push(t)}dispose(){for(let t of this.subscriptions)t.dispose();this.subscriptions=[]}get logVisible(){return this.activeLog}};function D$(e){let t=new lE(e);return t.register(),t}o(D$,"registerCodeRefEngagementTracker");var k8=class{constructor(t){this.ctx=t;this.enabled=!1;this.onCopilotToken=o(t=>{if(this.enabled=t.envelope.code_quote_enabled||!1,!t.envelope.code_quote_enabled){this.subscriptions?.dispose(),this.subscriptions=void 0,Mg.debug(this.ctx,"Public code references are disabled.");return}Mg.info(this.ctx,"Public code references are enabled."),this.addDisposable(D$(this.ctx))},"onCopilotToken")}static{o(this,"CodeReference")}dispose(){this.subscriptions?.dispose(),this.event?.dispose()}register(){return ms(this.ctx)||(this.event=Vr(this.ctx,this.onCopilotToken)),this}addDisposable(t){this.subscriptions?this.subscriptions=cE.Disposable.from(this.subscriptions,t):this.subscriptions=cE.Disposable.from(t)}};var O$=require("vscode");var Um=require("vscode");var Si=class{constructor(t){this.context=t}static{o(this,"Extension")}addSubscription(...t){this.context.subscriptions.push(...t)}};var xue="We found a reference to public code in a recent suggestion. To learn more about public code references, review the [documentation](https://aka.ms/github-copilot-match-public-code).",R$="View reference",N$="Change setting",A$="codeReference.notified";function k$(e){let t=e.get(Si);if(t.context.globalState.get(A$))return;let n=e.get(Di),i=[{title:R$},{title:N$}];return n.showWarningMessage(xue,...i).then(async s=>{let a={context:e,actor:"user"};switch(s?.title){case R$:{iE.handleDoAction(a),await Um.commands.executeCommand(N8);break}case N$:{await Um.env.openExternal(Um.Uri.parse("https://aka.ms/github-copilot-settings"));break}case void 0:{iE.handleDismiss(a);break}}}),t.context.globalState.update(A$,!0)}o(k$,"notify");var O8=class extends ic{constructor(r){super();this.codeReference=r;let n=Vr(r.ctx,i=>{if(this.logger)return;this.logger=A8.create(r.ctx);let s=O$.commands.registerCommand(N8,()=>this.logger?.forceShow());this.codeReference.addDisposable(s)});this.codeReference.addDisposable(n)}static{o(this,"LoggingCitationManager")}async handleIPCodeCitation(r,n){if(!this.codeReference.enabled||!this.logger||n.details.length===0)return;let i=n.location?.start,s=i?`[Ln ${i.line+1}, Col ${i.character+1}]`:"Location not available",a=`${n.matchingText?.slice(0,100).replace(/[\r\n\t]+|^[ \t]+/gm," ").trim()}...`;this.logger.info(n.inDocumentUri,"Similar code at ",s,a);for(let l of n.details){let{license:c,url:f}=l;this.logger.info(`License: ${c.replace("NOASSERTION","unknown")}, URL: ${f}`)}Bg.handleWrite({context:r}),await k$(r)}};var Pt=Tt(require("vscode"));var L$=new St("extensionConfig"),L8=class extends Rs{constructor(r){super();this.env=r;this.config=Pt.workspace.getConfiguration(Gr),Pt.workspace.onDidChangeConfiguration(n=>{n.affectsConfiguration(Gr)&&(this.config=Pt.workspace.getConfiguration(Gr))})}static{o(this,"VSCodeConfigProvider")}getConfig(r){return e7(this.config,r)??QD(r)}getOptionalConfig(r){return e7(this.config,r)??eR(r)}dumpForTelemetry(){return{}}getHttpSettings(){let r=Pt.workspace.getConfiguration().get("http");return r?.proxy?Q5(r):jD(this.env)}onDidChangeHttpSettings(r){return Pt.workspace.onDidChangeConfiguration(n=>{n.affectsConfiguration("http")&&r(this.getHttpSettings())})}},bue=new Set(["ssh-remote","dev-container","attached-container","wsl","tunnel","codespaces","amlext"]),F8=class extends cr{static{o(this,"VSCodeEditorInfo")}getEditorInfo(){let t=Pt.env.uriScheme;Pt.version.endsWith("-insider")&&(t=t.replace(/-insiders$/,""));let r=Pt.env.remoteName;return r&&(t+=`@${bue.has(r)?r:"other"}`),{name:"vscode",readableName:Pt.env.appName.replace(/ - Insiders$/,""),devName:t,version:Pt.version,root:Pt.env.appRoot}}getEditorPluginInfo(){return{name:"copilot",readableName:"GitHub Copilot for Visual Studio Code",version:$c.version}}getRelatedPluginInfo(){return["ms-vscode.cpptools","ms-vscode.cmake-tools","ms-vscode.makefile-tools","ms-dotnettools.csdevkit","ms-python.python","ms-python.vscode-pylance","vscjava.vscode-java-pack","vscode.typescript-language-features","ms-vscode.vscode-typescript-next","ms-dotnettools.csharp"].map(t=>{let r=Pt.extensions.getExtension(t)?.packageJSON;if(r&&typeof r=="object"&&"version"in r&&typeof r.version=="string")return{name:t,version:r.version}}).filter(t=>t!==void 0)}};function uE(e){return{"*":!0,...e.get(Rs).getConfig(_e.Enable)??{}}}o(uE,"getEnabledConfigObject");function _ue(e,t){let r=uE(e);return r[t]??r["*"]??!0}o(_ue,"getEnabledConfig");function vc(e){let t=Pt.window.activeTextEditor;if(t)return yue(e,t.document)}o(vc,"isCompletionEnabled");function yue(e,t){return _ue(e,t.languageId)}o(yue,"isCompletionEnabledForDocument");function Bm(){return Pt.workspace.getConfiguration("editor.inlineSuggest").get("enabled")}o(Bm,"isInlineSuggestEnabled");var vue=[["workspaceFolderLanguageValue",Pt.ConfigurationTarget.WorkspaceFolder,!0],["workspaceFolderValue",Pt.ConfigurationTarget.WorkspaceFolder,!1],["workspaceLanguageValue",Pt.ConfigurationTarget.Workspace,!0],["workspaceValue",Pt.ConfigurationTarget.Workspace,!1],["globalLanguageValue",Pt.ConfigurationTarget.Global,!0],["globalValue",Pt.ConfigurationTarget.Global,!1]];function F$(){let e=Pt.workspace.getConfiguration(Gr).inspect(_e.Enable);return e?.workspaceFolderValue!==void 0?Pt.ConfigurationTarget.WorkspaceFolder:e?.workspaceValue!==void 0?Pt.ConfigurationTarget.Workspace:Pt.ConfigurationTarget.Global}o(F$,"getConfigurationTargetForEnabledConfig");async function fE(e){let t=Pt.window.activeTextEditor?.document;for(let[s,a]of[["","editor.inlineSuggest.enabled"]]){let l=Pt.workspace.getConfiguration(s,t),c=l.inspect(a);for(let[f,u,d]of vue){if(Pt.workspace.getConfiguration(s,t).get(a))break;c?.[f]===!1&&await l.update(a,!0,u,d)}}let r=Pt.window.activeTextEditor?.document.languageId;if(!r)return;let n=Pt.workspace.getConfiguration(Gr),i={...uE(e)};if(r in i?i[r]=!0:i["*"]=!0,await n.update(_e.Enable,i,F$()),!vc(e)){let s=Pt.workspace.getConfiguration(Gr).inspect(_e.Enable),a=new Error(`Failed to enable completions for ${r}: ${JSON.stringify(s)}`);L$.exception(e,a,".enable")}}o(fE,"enableCompletions");async function dE(e){let t=Pt.window.activeTextEditor?.document.languageId;if(!t)return;let r=Pt.workspace.getConfiguration(Gr),n={...uE(e)};if(t in n?n[t]&&(n[t]=!1):n["*"]=!1,await r.update(_e.Enable,n,F$()),vc(e)){let i=Pt.workspace.getConfiguration(Gr).inspect(_e.Enable),s=new Error(`Failed to disable completions for ${t}: ${JSON.stringify(i)}`);L$.exception(e,s,".disable")}}o(dE,"disableCompletions");async function M$(e){vc(e)&&Bm()?await dE(e):await fE(e)}o(M$,"toggleCompletions");var U$="github.copilot.generate";var M8="github.copilot.completions.enable",U8="github.copilot.completions.disable",B$="github.copilot.completions.toggle",B8="github.copilot.toggleStatusMenu",j8="github.copilot.sendFeedback",$8="github.copilot.openDocs",j$="github.copilot.collectDiagnostics",q8="github.copilot.signIn",jg="github.copilot.openLogs",W8="github.copilot.openModelPicker";var G8=require("vscode");async function q$(e,t,r){let n=G8.workspace.textDocuments.find(s=>s.uri.toString()===r.uri);return!n||(await zu(e,r,n.getText())).status!=="valid"?0:G8.languages.match(t,n)}o(q$,"contextProviderMatch");var W$=require("vscode");var z8=class extends Di{constructor(){super(...arguments);this.recentNotifications=new Map}static{o(this,"ExtensionNotificationSender")}async showWarningMessage(r,...n){return this.recentNotifications.get(r)?void 0:{title:await W$.window.showWarningMessage(r,...n.map(a=>a.title))}}async showWarningMessageOnlyOnce(r,n,...i){if(r==="free_over_limits"||r==="not_signed_up"||this.recentNotifications.get(n))return;let a=this.showWarningMessage(n,...i),l=o4();return this.recentNotifications.set(n,l),a}};var z0=class{constructor(t="Normal",r,n=!1,i){this.kind=t;this.message=r;this.busy=n;this.command=i}static{o(this,"CopilotExtensionStatus")}};var Tc=require("vscode");var mE=class extends Jr{static{o(this,"ExtensionFileSystem")}async readFileString(t){return typeof t!="string"&&(t=t.uri),new TextDecoder().decode(await Tc.workspace.fs.readFile(Tc.Uri.parse(t,!0)))}async stat(t){return typeof t!="string"&&(t=t.uri),await Tc.workspace.fs.stat(Tc.Uri.parse(t,!0))}async readDirectory(t){return typeof t!="string"&&(t=t.uri),await Tc.workspace.fs.readDirectory(Tc.Uri.parse(t,!0))}},G$=new mE;function z$(e,t,r){function n(s,a,l){let c=new RegExp(`^(${a})+`,"g");return s.split(`
`).map(f=>{let u=f.replace(c,""),d=f.length-u.length;return l(d)+u}).join(`
`)}o(n,"replace");let i;if(e.tabSize===void 0||typeof e.tabSize=="string"?i=4:i=e.tabSize,e.insertSpaces===!1){let s=o(a=>n(a," ",l=>"	".repeat(Math.floor(l/i))+" ".repeat(l%i)),"r");t.displayText=s(t.displayText),t.completionText=s(t.completionText)}else if(e.insertSpaces===!0){let s=o(a=>n(a,"	",l=>" ".repeat(l*i)),"r");if(t.displayText=s(t.displayText),t.completionText=s(t.completionText),r){let a=o(l=>{if(l==="")return l;let c=l.split(`
`)[0],f=c.length-c.trimStart().length,u=f%i;if(u!==0&&f>0){let d=" ".repeat(u);return n(l,d,p=>" ".repeat((Math.floor(p/i)+1)*i))}else return l},"re");t.displayText=a(t.displayText),t.completionText=a(t.completionText)}}return t}o(z$,"normalizeIndentCharacter");function H$(e,t,r,n,i,s,a){let l=n.lineAt(i),c=t.map(f=>{let u=mi.range(mi.position(i.line,0),mi.position(i.line,i.character+f.suffixCoverage)),d="";if(s&&(f.completion=z$(s,f.completion,l.isEmptyOrWhitespace)),l.isEmptyOrWhitespace&&(f.completion.displayNeedsWsOffset||f.completion.completionText.startsWith(l.text)))d=f.completion.completionText;else{let m=mi.range(u.start,i);d=n.getText(m)+f.completion.displayText}return{uuid:yi(),insertText:d,range:u,uri:n.uri,index:f.completion.completionIndex,telemetry:f.telemetry,displayText:f.completion.displayText,position:i,offset:n.offsetAt(i),resultType:r,copilotAnnotations:f.copilotAnnotations,clientCompletionId:f.clientCompletionId}});if(r===2&&a!==void 0){let f=c.find(u=>u.index===a);if(f){let u=c.filter(d=>d.index!==a);c=[f,...u]}}return c}o(H$,"completionsFromGhostTextResults");async function Iue(e,t,r,n={}){let i=0;n.selectedCompletionInfo?.text&&!n.selectedCompletionInfo.text.includes(")")&&(t=t.addSelectedCompletionInfo(n.selectedCompletionInfo),i=t.position.character-n.selectedCompletionInfo.range.end.character);let s=await jI(e,t,r,n);if(s.type!=="success")return s;let[a,l]=s.value;if(r?.isCancellationRequested)return{type:"canceled",reason:"after getGhostText",telemetryData:{telemetryBlob:s.telemetryBlob}};let c=Uj(e,t.textDocument,t.position,l),f=H$(e,a,l,t.textDocument,t.position,n.formattingOptions,c);if(f.length===0)return{type:"empty",reason:"no completions in final result",telemetryData:s.telemetryData};let u=e.get(Be),d=(It(e,_e.AlwaysRequestMultiline)??u.enableProgressiveReveal(s.telemetryBlob))&&U0.isSupported(t.textDocument.detectedLanguageId),p=It(e,_e.EnableSpeculativeRequests),m=u.enableSpeculativeRequests(s.telemetryBlob),g=d||(p??m),h=It(e,_e.EnableSpeculativeRequestsShown)??u.enableSpeculativeRequestsShown(s.telemetryBlob);if(g&&l!==2){t=t.applyEdits([{newText:f[0].insertText,range:f[0].range}]);let b={isSpeculative:!0,opportunityId:n.opportunityId},x=o(()=>jI(e,t,void 0,b),"fn");h?e.get(Ga).set(f[0].clientCompletionId,x):Promise.resolve().then(x)}let _=f.map(b=>{let{start:x,end:y}=b.range,E=Kt.Range.create(x,Kt.Position.create(y.line,y.character-i));return{...b,range:E}});return{...s,value:_}}o(Iue,"getInlineCompletionsResult");async function V$(e,t,r,n,i={}){Eue(e,t,r);let s=await Iue(e,f8(t,r),n,i);return EU(e,s)}o(V$,"getInlineCompletions");function Eue(e,t,r){let n=t.getText({start:{line:Math.max(r.line-1,0),character:0},end:r}),i=t.getText({start:r,end:{line:Math.min(r.line+2,t.lineCount-1),character:t.lineCount-1>r.line?0:r.character}});h3.debug(e,`Requesting for ${t.uri} at ${r.line}:${r.character}`,`between ${JSON.stringify(n)} and ${JSON.stringify(i)}.`)}o(Eue,"logCompletionLocation");var Do=require("vscode");var Ka=require("vscode");var Cue=new Set(["output","search-editor","comment"]);function $g(e,t){if(Cue.has(t.uri.scheme))return;let r;try{r=t.getText()}catch(i){if(i instanceof RangeError)return;throw i}let n=Yx({uri:t.uri.toString(),languageId:t.languageId});return Wu.create(t.uri.toString(),t.languageId,t.version,r,n)}o($g,"wrapDoc");var H8=class extends Gt{constructor(r){super(r);this.onDidFocusTextDocument=o((r,n)=>Ka.window.onDidChangeActiveTextEditor(i=>{let s=i?.document.uri;s?r.call(n,{document:{uri:s.toString()}}):r.call(n,void 0)}),"onDidFocusTextDocument");this.onDidChangeTextDocument=o((r,n,i)=>Ka.workspace.onDidChangeTextDocument(s=>{let a=$g(this.ctx,s.document);a&&r({document:a,contentChanges:s.contentChanges})},n,i),"onDidChangeTextDocument");this.onDidOpenTextDocument=o((r,n,i)=>Ka.workspace.onDidOpenTextDocument(s=>{let a=$g(this.ctx,s)?.getText();a!==void 0&&r({document:{uri:s.uri.toString(),languageId:s.languageId,version:s.version,text:a}})},n,i),"onDidOpenTextDocument");this.onDidCloseTextDocument=o((r,n,i)=>Ka.workspace.onDidCloseTextDocument(s=>{r({document:{uri:No(s.uri.toString())}})},n,i),"onDidCloseTextDocument")}static{o(this,"ExtensionTextDocumentManager")}getTextDocumentsUnsafe(){let r=[];for(let n of Ka.workspace.textDocuments){let i=$g(this.ctx,n);i&&r.push(i)}return r}findNotebook(r){for(let n of Ka.workspace.notebookDocuments)if(n.getCells().some(i=>i.document.uri.toString()===r.uri.toString()))return{getCells:o(()=>n.getCells().map(i=>this.wrapCell(i)),"getCells"),getCellFor:o(({uri:i})=>{let s=n.getCells().find(a=>a.document.uri.toString()===i.toString());return s?this.wrapCell(s):void 0},"getCellFor")}}wrapCell(r){return{...r,get document(){return Wu.create(r.document.uri.toString(),r.document.languageId,r.document.version,r.document.getText(),r.document.languageId)}}}getWorkspaceFolders(){return Ka.workspace.workspaceFolders?.map(r=>({uri:r.uri.toString(),name:r.name}))??[]}};var K$="_github.copilot.ghostTextPostInsert",V8=class{constructor(t){this.ctx=t}static{o(this,"GhostTextProvider")}async provideInlineCompletionItems(t,r,n,i){let s=$g(this.ctx,t);if(!s)return;let a=n.requestUuid,l=Do.window.visibleTextEditors.find(u=>u.document.uri===t.uri)?.options,c=await V$(this.ctx,s,r,i,{isCycling:n.triggerKind===Do.InlineCompletionTriggerKind.Invoke,selectedCompletionInfo:n.selectedCompletionInfo,formattingOptions:l,opportunityId:a,debounceMs:50});return c?{items:c.map(u=>{let{start:d,end:p}=u.range,m=new Do.Range(d.line,d.character,p.line,p.character);return new Do.InlineCompletionItem(u.insertText,m,{title:"Completion Accepted",command:K$,arguments:[u]})})}:void 0}handleDidShowCompletionItem(t){let r=t.command.arguments[0];Bj(this.ctx,r)}handleDidPartiallyAcceptCompletionItem(t,r){if(typeof r=="number")return;let n=t.command.arguments[0];$j(this.ctx,n,r.acceptedLength,r.kind)}handleEndOfLifetime(t,r){if(r.kind!==Do.InlineCompletionEndOfLifeReasonKind.Rejected)return;let n=t.command?.arguments?.[0];n&&Se(this.ctx,"ghostText.dismissed",n.telemetry)}};function Y$(e){return Do.commands.registerCommand(K$,async r=>{jj(e,r);try{await Do.commands.executeCommand("github.copilot.survey.signalUsage","completions")}catch{}})}o(Y$,"registerGhostTextDependencies");var K8=class{static{o(this,"InstallationManager")}async startup(t){await this.isNewInstall(t)?(await this.markInstalled(t),this.handleInstall(t,await this.wasPreviouslyInstalled(t))):await this.isNewUpgrade(t)&&(await this.markUpgraded(t),this.handleUpgrade(t))}uninstall(t){return this.handleUninstall(t)}handleInstall(t,r){r?Se(t,"installed.reinstall"):Se(t,"installed.new")}handleUpgrade(t){Se(t,"installed.upgrade")}handleUninstall(t){Se(t,"uninstalled")}};var Yg=Tt(jW());var sb=class extends K8{static{o(this,"VsCodeInstallationManager")}async isNewInstall(t){return!t.get(Si).context.globalState.get("installedVersion")&&!await D8()}async markInstalled(t){let r=t.get(cr).getEditorPluginInfo();await t.get(Si).context.globalState.update("installedVersion",r.version)}wasPreviouslyInstalled(){return!1}isNewUpgrade(t){let r=t.get(cr).getEditorPluginInfo(),n=t.get(Si).context.globalState.get("installedVersion");if(n===void 0)return!0;try{return(0,Yg.gt)((0,Yg.coerce)(r.version),(0,Yg.coerce)(n))}catch{return!1}}async markUpgraded(t){await this.markInstalled(t)}};var V0=require("vscode");var Xg=require("vscode");function vme(e){return e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}o(vme,"escapeForRegExp");var Tme=new RegExp(vme("".replace(/[\\/]extension[\\/]src$|[\\/]dist$/,""))+`[\\\\/]?([^:)'"\\s]*)`,"gi"),Ime=new Set(["node_modules/diagnostic-channel/dist/src/patchRequire.js"]),ab=class{constructor(t){this.handler=t}static{o(this,"TelemetryDelegator")}sendEventData(){}sendErrorData(t){let r=!1;for(let n of(t.stack??"").matchAll(Tme))if(!Ime.has(n[1].replace(/\\/g,"/"))){r=!0;break}r&&this.handler(t)}};function $W(e,t,r,n){t instanceof Error&&t.name==="Canceled"||t instanceof Error&&t.name==="CodeExpectedError"||fc(e,t,r,n)}o($W,"exception");function us(e,t,r){let n=Xg.commands.registerCommand(t,async(...i)=>{try{await r(...i)}catch(s){$W(e,s,t)}});e.get(Si).addSubscription(n)}o(us,"registerCommandWrapper");function qW(e,t,r,n){let i=new O0(e,r);i.updateSessionConfig(yc()),e.set(O0,i),t.subscriptions.push(Xg.env.onDidChangeTelemetryEnabled(s=>{i.initialize(s)})),t.subscriptions.push(Xg.env.createTelemetryLogger(new ab(s=>$W(e,s,"unhandlederror")))),i.initialize(n)}o(qW,"setupTelemetry");var WW=new St("modelPicker"),Eme=[{label:"",kind:V0.QuickPickItemKind.Separator,modelId:"separator",type:"separator",alwaysShow:!0},{modelId:"learn-more",label:"Learn more $(link-external)",description:"",alwaysShow:!0,type:"learn-more"}],qm=class{constructor(t){this._ctx=t;this.MODELS_INFO_URL="https://aka.ms/CopilotCompletionsModelPickerLearnMore"}static{o(this,"ModelPickerManager")}get models(){return this._ctx.get(o0).getGenericCompletionModels()}getDefaultModelId(){return this._ctx.get(o0).getDefaultModelId()}async setUserSelectedCompletionModel(t){return V0.workspace.getConfiguration(Gr).update(_e.UserSelectedCompletionModel,t??"",!0)}async handleModelSelection(t){let r=t.activeItems[0];if(r!==void 0){if(t.hide(),r.type==="learn-more"){await V0.env.openExternal(V0.Uri.parse(this.MODELS_INFO_URL)),Se(this._ctx,"modelPicker.learnMoreClicked");return}await this.selectModel(r)}}async selectModel(t){d1(this._ctx)!==t.modelId&&(this._ctx.get(M0).clear(),this._ctx.get(wo).clear());let n=t.modelId===this.getDefaultModelId()?null:t.modelId;await this.setUserSelectedCompletionModel(n),n===null?WW.info(this._ctx,"User selected default model; setting null"):WW.info(this._ctx,`Selected model: ${t.modelId}`),Se(this._ctx,"modelPicker.modelSelected",Qe.createAndMarkAsIssued({engineName:n??"default"}))}modelsForModelPicker(){let t=d1(this._ctx),r=this.models.map(n=>({modelId:n.modelId,label:`${n.label}${n.preview?" (Preview)":""}`,description:`(${n.modelId})`,alwaysShow:n.modelId==this.getDefaultModelId(),type:"model"}));return[t,r]}showModelPicker(){let[t,r]=this.modelsForModelPicker(),n=V0.window.createQuickPick();n.title="Change Completions Model",n.items=[...r,...Eme],n.onDidAccept(()=>this.handleModelSelection(n));let i=t??this.getDefaultModelId(),s=n.items.find(a=>a.modelId===i);return s&&(n.activeItems=[s]),n.show(),n}registerCommands(){us(this._ctx,W8,this.showModelPicker.bind(this))}};function GW(e){e.get(qm).registerCommands()}o(GW,"registerModelPickerCommands");var lb=class extends tl{constructor(r,n={}){super();this.env=n;this.recalculateUrlDefaults(r,this.getDefaultUrls())}static{o(this,"DefaultNetworkConfiguration")}getAuthAuthority(){return this.baseUrlObject.hostname}getConfiguredUrls(){return{serverUrl:this.baseUrlObject.href,apiUrl:this.apiUrl}}setConfiguredUrls(r,n){let i=this.getConfiguredUrls();this.recalculateUrlDefaults(r,n);let s=this.getConfiguredUrls();(i.apiUrl!==s.apiUrl||i.serverUrl!==s.serverUrl)&&r.get(Mr).resetToken(),r.get(O0).updateSessionConfig(s)}recalculateUrlDefaults(r,n){let{serverUrl:i,apiUrl:s}=tp({serverUrl:Kh(r,n.serverUrl),apiUrl:Kh(r,n.apiUrl)});this.baseUrlObject=new URL(i),this.apiUrl=s}getDefaultUrls(){return this.env.CODESPACES==="true"&&this.env.GITHUB_TOKEN&&this.env.GITHUB_SERVER_URL&&this.env.GITHUB_API_URL&&!this.env.GITHUB_COPILOT_TOKEN&&!this.env.GH_COPILOT_TOKEN?{apiUrl:this.env.GITHUB_API_URL,serverUrl:this.env.GITHUB_SERVER_URL}:{}}};var cb=class extends lb{static{o(this,"VSCodeNetworkConfiguration")}getDefaultUrls(){return yc()}};function zW(e,t){(e.affectsConfiguration(`${Gr}.advanced`)||e.affectsConfiguration(`${Qg}.uri`))&&dS(t,yc().serverUrl)}o(zW,"onDidChangeConfigurationHandler");var Jn=require("vscode");var Jg=class extends Lr{constructor(r,n,i="github.copilot.languageStatus"){super();this.ctx=r;this.outputChannel=n;this.showingMessage=!1;this.disposables=[];this.item=Jn.languages.createLanguageStatusItem(i,"*"),this.disposables.push(this.item),this.state=r.get(z0),this.updateStatusBarIndicator(),this.disposables.push(Jn.window.onDidChangeActiveTextEditor(()=>{this.updateStatusBarIndicator()})),this.disposables.push(Jn.workspace.onDidCloseTextDocument(()=>{this.updateStatusBarIndicator()})),this.disposables.push(Jn.workspace.onDidOpenTextDocument(()=>{this.updateStatusBarIndicator()})),this.disposables.push(Jn.workspace.onDidChangeConfiguration(s=>{s.affectsConfiguration(Gr)&&this.updateStatusBarIndicator()}))}static{o(this,"CopilotStatusBar")}didChange(r){this.state.kind=r.kind,this.state.message=r.message,this.state.command=r.command,this.updateStatusBarIndicator()}checkEnabledForLanguage(){return vc(this.ctx)??!0}updateStatusBarIndicator(){if(this.isDisposed())return;Jn.commands.executeCommand("setContext","github.copilot.completions.quotaExceeded",this.state.command?.command===gg);let r=this.checkEnabledForLanguage();switch(Jn.commands.executeCommand("setContext","github.copilot.completions.enabled",r),this.item.command={command:B8,title:"View Details"},this.state.kind){case"Error":this.item.severity=Jn.LanguageStatusSeverity.Error,this.item.text="$(copilot-warning) Completions",this.item.detail="Error";break;case"Warning":this.item.severity=Jn.LanguageStatusSeverity.Warning,this.item.text="$(copilot-warning) Completions",this.item.detail="Temporary issues";break;case"Inactive":this.item.severity=Jn.LanguageStatusSeverity.Information,this.item.text="$(copilot-blocked) Completions",this.item.detail="Inactive";break;case"Normal":this.item.severity=Jn.LanguageStatusSeverity.Information,Bm()?r?(this.item.text="$(copilot) Completions",this.item.detail=""):(this.item.text="$(copilot-not-connected) Completions",this.item.detail="Disabled"):(this.item.text="$(copilot-not-connected) Completions",this.item.detail="VS Code inline suggestions disabled"),this.item.command.title="Open Menu";break}this.item.accessibilityInformation={label:"Copilot Completions"},this.state.command&&(this.item.command=this.state.command,this.item.detail=this.state.message)}setError(r,n,i=!n){super.setError(r,n),i&&this.showErrorMessage()}showErrorMessage(){if(this.showingMessage)return;this.showingMessage=!0;let r="Show Output Log",n=[r];Jn.window.showWarningMessage(this.state.message,...n).then(i=>{switch(this.showingMessage=!1,i){case r:this.outputChannel.show();break}})}dispose(){for(let r of this.disposables)r.dispose();this.disposables=[]}isDisposed(){return this.disposables.length===0}};var sf=require("vscode");var ub=class{constructor(t){this.ctx=t;this.state=t.get(z0)}static{o(this,"CopilotStatusBarPickMenu")}showStatusMenu(){let t=sf.window.createQuickPick();return t.placeholder="Select an option",t.title="Configure Copilot Completions",t.items=this.collectQuickPickItems(),t.onDidAccept(()=>this.handleItemSelection(t)),t.show(),t}async handleItemSelection(t){let r=t.selectedItems[0];if(r!==void 0)if("command"in r){let n=r;await sf.commands.executeCommand(n.command,...n.commandArgs),t.hide()}else throw new Error("Unexpected Copilot quick picker selection")}collectQuickPickItems(){return[this.newStatusItem(),this.newSeparator(),...this.collectLanguageSpecificItems(),this.newKeyboardItem(),this.newSettingsItem(),...this.collectDiagnosticsItems(),this.newOpenLogsItem(),this.newSeparator(),this.newDocsItem(),this.newForumItem(),...this.collectQuickPickSignInItems()]}collectQuickPickSignInItems(){return this.hasWarningOrErrorStatus()?[this.newSeparator(),this.newSignInItem()]:[]}collectLanguageSpecificItems(){let t=[];if(!this.hasActiveStatus())return t;let r=sf.window.activeTextEditor;return!Pl()&&r&&t.push(this.newPanelItem()),Pl()||t.push(this.newChangeModelItem()),r&&t.push(...this.newEnableLanguageItem()),t.length&&t.push(this.newSeparator()),t}hasActiveStatus(){return["Normal"].includes(this.state.kind)}hasWarningOrErrorStatus(){return["Error","Warning"].includes(this.state.kind)}isCompletionEnabled(){return Bm()&&vc(this.ctx)}newEnableLanguageItem(){let t=this.isCompletionEnabled();return t?[this.newCommandItem("Disable Completions",U8)]:t===!1?[this.newCommandItem("Enable Completions",M8)]:[]}newStatusItem(){let t,r="$(copilot)";switch(this.state.kind){case"Normal":t="Ready",Bm()===!1?t+=" (VS Code inline suggestions disabled)":vc(this.ctx)===!1&&(t+=" (Disabled)");break;case"Inactive":t=this.state.message||"Copilot is currently inactive",r="$(copilot-blocked)";break;default:t=this.state.message||"Copilot has encountered an error",r="$(copilot-not-connected)";break}return this.newCommandItem(`${r} Status: ${t}`,jg)}newSignInItem(){return this.newCommandItem("Sign in to GitHub",q8)}newOpenLogsItem(){return this.newCommandItem("Open Logs...",jg)}collectDiagnosticsItems(){return Pl()?[]:[this.newCommandItem("Show Diagnostics...",j$)]}newKeyboardItem(){return this.newCommandItem("$(keyboard) Edit Keyboard Shortcuts...","workbench.action.openGlobalKeybindings",["copilot"])}newSettingsItem(){return this.newCommandItem("$(settings-gear) Edit Settings...","workbench.action.openSettings",["GitHub Copilot"])}newPanelItem(){return this.newCommandItem("Open Completions Panel...",U$)}newChangeModelItem(){return this.newCommandItem("Change Completions Model...",W8)}newForumItem(){return this.newCommandItem("$(comments-view-icon) View Copilot Forum...",j8)}newDocsItem(){return this.newCommandItem("$(remote-explorer-documentation) View Copilot Documentation...",$8)}newCommandItem(t,r,n){return new AE(t,r,n||[])}newSeparator(){return{label:"",kind:sf.QuickPickItemKind.Separator}}},AE=class{constructor(t,r,n){this.label=t;this.command=r;this.commandArgs=n}static{o(this,"CommandQuickItem")}};var LE=fr.window.createOutputChannel("GitHub Copilot",{log:!0}),Sme="userAcknowledgedStatusBarDeprecation";function wme(e,t){let r=new Jg(e,t);e.get(Si).addSubscription(r),us(e,M8,async()=>{await fE(e)}),us(e,U8,async()=>{await dE(e)}),us(e,B$,async()=>{await M$(e)}),us(e,gg,async()=>{try{await fr.commands.executeCommand("workbench.action.chat.openQuotaExceededDialog")}catch(n){if(!(n instanceof Error&&/not found/.test(n.message)))throw n;await fr.env.openExternal(fr.Uri.parse("https://github.com/github-copilot/signup/copilot_individual"))}}),us(e,B8,async()=>{e.get(z0).kind==="Error"&&await Promise.race([e.get(Mr).primeToken(),new Promise(n=>setTimeout(n,100))]),new ub(e).showStatusMenu()}),e.set(Jg,r),e.set(Lr,r)}o(wme,"registerStatusBar");async function Pme(e){let t=Qe.createAndMarkAsIssued(),r=kme(e);await OI(r),wme(r,LE),r.set(is,new is(r)),Nme(r),us(r,q8,()=>S$(r));let n=new k8(r);r.set(ic,new O8(n)),e.subscriptions.push(n.register()),e.subscriptions.push(HW(r)),GW(r),Dme(r),e.subscriptions.push(VB(r)),e.subscriptions.push(fr.window.onDidChangeActiveTextEditor(s=>s&&zf(r,s.document.uri.toString()))),e.subscriptions.push(fr.workspace.onDidChangeConfiguration(s=>zW(s,r))),e.subscriptions.push(C$(r)),r.get(Mr).primeToken().then(async s=>{Se(r,"extension.activate",t),s&&(fr.window?.activeTextEditor&&r.get(is).evaluate(fr.window.activeTextEditor.document.uri.toString(),fr.window.activeTextEditor.document.getText(),"UPDATE"),await OI(r))}),new sb().startup(r)}o(Pme,"activate");function Dme(e){let t=e.get(Si);try{t.addSubscription(Y$(e)),t.addSubscription(Rme(e));let n=fr.workspace.getConfiguration().inspect("editor.inlineSuggest.enabled");(n?.globalValue===!1||n?.workspaceValue===!1)&&Lt.warn(e,"editor.inlineSuggest.enabled is disabled. Enabling recommended to use Copilot.")}catch(r){Ys(e,r,"registerGhostTextSupport")}}o(Dme,"registerGhostTextSupport");function Rme(e){let t=new V8(e);return fr.languages.registerInlineCompletionItemProvider({pattern:"**"},t,{})}o(Rme,"registerInlineCompletion");function Nme(e){us(e,j8,()=>fr.env.openExternal(fr.Uri.parse("https://github.com/microsoft/vscode/issues"))),us(e,$8,()=>fr.env.openExternal(fr.Uri.parse("https://docs.github.com/en/copilot/getting-started-with-github-copilot?tool=vscode"))),us(e,jg,()=>{LE.show()})}o(Nme,"registerDiagnosticCommands");var kE=class extends ga{static{o(this,"VSCodeUrlOpener")}async open(t){await fr.env.openExternal(fr.Uri.parse(t))}};function Ame(e){switch(e){case fr.UIKind.Desktop:return"desktop";case fr.UIKind.Web:return"web"}return"unknown"}o(Ame,"uiKindToString");function kme(e){let t=t$(new L8({}));return t.set(sc,new P8),t.set(Za,Za.fromEnvironment(!1,[],{})),t.set(rl,new E8),t.set(Di,new z8),t.set(tl,new cb(t)),t.set(Bn,new C8(t)),t.set(mf,new OE(LE)),t.set(cr,new F8),t.set(cn,new cn(fr.env.sessionId,fr.env.machineId,fr.env.remoteName,Ame(fr.env.uiKind))),t.set(Si,new Si(e)),r$(t),t.set(z0,new z0),t.set(Mr,new R8(t)),t.set(ga,new kE),qW(t,e,$c.name,fr.env.isTelemetryEnabled),t.set(Gt,new H8(t)),t.set(gc,new S8),t.set(Jr,G$),t.set(ef,new w8(t)),t.set(Ci,new Ci),t.set(qm,new qm(t)),t.set($0,BU(t,q$)),t.set(za,new za(t)),t.set(uc,new _3),o$(t),t}o(kme,"createExtensionContext");function HW(e){return{dispose:o(()=>{Se(e,"extension.deactivate"),e.get(O0).shutdown()},"dispose")}}o(HW,"onDeactivate");var OE=class extends mf{constructor(r){super();this.output=r}static{o(this,"WebLogTarget")}logIt(r,n,i,...s){let a=`[${i}]`;n==1?this.output.error(a,...s):n==2?this.output.warn(a,...s):n==3?this.output.info(a,...s):n==4&&this.output.debug(a,...s)}};
//!!! DO NOT modify, this file was COPIED from 'microsoft/vscode'
/*! Bundled license information:

crypto-js/ripemd160.js:
  (** @preserve
  	(c) 2012 by Cédric Mesnil. All rights reserved.
  
  	Redistribution and use in source and binary forms, with or without modification, are permitted provided that the following conditions are met:
  
  	    - Redistributions of source code must retain the above copyright notice, this list of conditions and the following disclaimer.
  	    - Redistributions in binary form must reproduce the above copyright notice, this list of conditions and the following disclaimer in the documentation and/or other materials provided with the distribution.
  
  	THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
  	*)

crypto-js/mode-ctr-gladman.js:
  (** @preserve
   * Counter block mode compatible with  Dr Brian Gladman fileenc.c
   * derived from CryptoJS.mode.CTR
   * Jan Hruby jhruby.web@gmail.com
   *)

git-url-parse/lib/index.js:
  (*!
   * buildToken
   * Builds OAuth token prefix (helper function)
   *
   * @name buildToken
   * @function
   * @param {GitUrl} obj The parsed Git url object.
   * @return {String} token prefix
   *)

@nevware21/ts-utils/dist/es5/mod/ts-utils.js:
  (*! https://github.com/nevware21/ts-utils v0.11.8 *)

@nevware21/ts-async/dist/es5/mod/ts-async.js:
  (*!
   * NevWare21 Solutions LLC - ts-async, 0.5.4
   * https://github.com/nevware21/ts-async
   * Copyright (c) NevWare21 Solutions LLC and contributors. All rights reserved.
   * Licensed under the MIT license.
   *)
*/
//# sourceMappingURL=web.js.map
