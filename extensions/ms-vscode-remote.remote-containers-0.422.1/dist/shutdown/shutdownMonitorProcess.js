/*---------------------------------------------------------------------------------------------
 *  Copyright (c) Microsoft Corporation. All rights reserved.
 *--------------------------------------------------------------------------------------------*/

var AS=Object.create;var Ou=Object.defineProperty;var kS=Object.getOwnPropertyDescriptor;var FS=Object.getOwnPropertyNames;var $S=Object.getPrototypeOf,BS=Object.prototype.hasOwnProperty;var y=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports);var qS=(t,e,r,n)=>{if(e&&typeof e=="object"||typeof e=="function")for(let i of FS(e))!BS.call(t,i)&&i!==r&&Ou(t,i,{get:()=>e[i],enumerable:!(n=kS(e,i))||n.enumerable});return t};var X=(t,e,r)=>(r=t!=null?AS($S(t)):{},qS(e||!t||!t.__esModule?Ou(r,"default",{value:t,enumerable:!0}):r,t));var Rr=y((bN,Vu)=>{"use strict";var zu=new Map([["C","cwd"],["f","file"],["z","gzip"],["P","preservePaths"],["U","unlink"],["strip-components","strip"],["stripComponents","strip"],["keep-newer","newer"],["keepNewer","newer"],["keep-newer-files","newer"],["keepNewerFiles","newer"],["k","keep"],["keep-existing","keep"],["keepExisting","keep"],["m","noMtime"],["no-mtime","noMtime"],["p","preserveOwner"],["L","follow"],["h","follow"]]);Vu.exports=t=>t?Object.keys(t).map(e=>[zu.has(e)?zu.get(e):e,t[e]]).reduce((e,r)=>(e[r[0]]=r[1],e),Object.create(null)):{}});var Pi=y(nf=>{"use strict";var Yu=typeof process=="object"&&process?process:{stdout:null,stderr:null},ex=require("events"),Ju=require("stream"),tx=require("string_decoder"),Xu=tx.StringDecoder,lt=Symbol("EOF"),ut=Symbol("maybeEmitEnd"),Ct=Symbol("emittedEnd"),vi=Symbol("emittingEnd"),vn=Symbol("emittedError"),_i=Symbol("closed"),Zu=Symbol("read"),bi=Symbol("flush"),Ku=Symbol("flushChunk"),Se=Symbol("encoding"),ft=Symbol("decoder"),Li=Symbol("flowing"),_n=Symbol("paused"),Ir=Symbol("resume"),Y=Symbol("buffer"),Ke=Symbol("pipes"),ee=Symbol("bufferLength"),Go=Symbol("bufferPush"),jo=Symbol("bufferShift"),oe=Symbol("objectMode"),J=Symbol("destroyed"),zo=Symbol("error"),Vo=Symbol("emitData"),Qu=Symbol("emitEnd"),Yo=Symbol("emitEnd2"),dt=Symbol("async"),Jo=Symbol("abort"),Ri=Symbol("aborted"),Kt=Symbol("signal"),bn=t=>Promise.resolve().then(t),rf=global._MP_NO_ITERATOR_SYMBOLS_!=="1",ef=rf&&Symbol.asyncIterator||Symbol("asyncIterator not implemented"),tf=rf&&Symbol.iterator||Symbol("iterator not implemented"),rx=t=>t==="end"||t==="finish"||t==="prefinish",nx=t=>t instanceof ArrayBuffer||typeof t=="object"&&t.constructor&&t.constructor.name==="ArrayBuffer"&&t.byteLength>=0,ix=t=>!Buffer.isBuffer(t)&&ArrayBuffer.isView(t),Ii=class{constructor(e,r,n){this.src=e,this.dest=r,this.opts=n,this.ondrain=()=>e[Ir](),r.on("drain",this.ondrain)}unpipe(){this.dest.removeListener("drain",this.ondrain)}proxyErrors(){}end(){this.unpipe(),this.opts.end&&this.dest.end()}},Xo=class extends Ii{unpipe(){this.src.removeListener("error",this.proxyErrors),super.unpipe()}constructor(e,r,n){super(e,r,n),this.proxyErrors=i=>r.emit("error",i),e.on("error",this.proxyErrors)}},Zo=class t extends Ju{constructor(e){super(),this[Li]=!1,this[_n]=!1,this[Ke]=[],this[Y]=[],this[oe]=e&&e.objectMode||!1,this[oe]?this[Se]=null:this[Se]=e&&e.encoding||null,this[Se]==="buffer"&&(this[Se]=null),this[dt]=e&&!!e.async||!1,this[ft]=this[Se]?new Xu(this[Se]):null,this[lt]=!1,this[Ct]=!1,this[vi]=!1,this[_i]=!1,this[vn]=null,this.writable=!0,this.readable=!0,this[ee]=0,this[J]=!1,e&&e.debugExposeBuffer===!0&&Object.defineProperty(this,"buffer",{get:()=>this[Y]}),e&&e.debugExposePipes===!0&&Object.defineProperty(this,"pipes",{get:()=>this[Ke]}),this[Kt]=e&&e.signal,this[Ri]=!1,this[Kt]&&(this[Kt].addEventListener("abort",()=>this[Jo]()),this[Kt].aborted&&this[Jo]())}get bufferLength(){return this[ee]}get encoding(){return this[Se]}set encoding(e){if(this[oe])throw new Error("cannot set encoding in objectMode");if(this[Se]&&e!==this[Se]&&(this[ft]&&this[ft].lastNeed||this[ee]))throw new Error("cannot change encoding");this[Se]!==e&&(this[ft]=e?new Xu(e):null,this[Y].length&&(this[Y]=this[Y].map(r=>this[ft].write(r)))),this[Se]=e}setEncoding(e){this.encoding=e}get objectMode(){return this[oe]}set objectMode(e){this[oe]=this[oe]||!!e}get async(){return this[dt]}set async(e){this[dt]=this[dt]||!!e}[Jo](){this[Ri]=!0,this.emit("abort",this[Kt].reason),this.destroy(this[Kt].reason)}get aborted(){return this[Ri]}set aborted(e){}write(e,r,n){if(this[Ri])return!1;if(this[lt])throw new Error("write after end");if(this[J])return this.emit("error",Object.assign(new Error("Cannot call write after a stream was destroyed"),{code:"ERR_STREAM_DESTROYED"})),!0;typeof r=="function"&&(n=r,r="utf8"),r||(r="utf8");let i=this[dt]?bn:s=>s();return!this[oe]&&!Buffer.isBuffer(e)&&(ix(e)?e=Buffer.from(e.buffer,e.byteOffset,e.byteLength):nx(e)?e=Buffer.from(e):typeof e!="string"&&(this.objectMode=!0)),this[oe]?(this.flowing&&this[ee]!==0&&this[bi](!0),this.flowing?this.emit("data",e):this[Go](e),this[ee]!==0&&this.emit("readable"),n&&i(n),this.flowing):e.length?(typeof e=="string"&&!(r===this[Se]&&!this[ft].lastNeed)&&(e=Buffer.from(e,r)),Buffer.isBuffer(e)&&this[Se]&&(e=this[ft].write(e)),this.flowing&&this[ee]!==0&&this[bi](!0),this.flowing?this.emit("data",e):this[Go](e),this[ee]!==0&&this.emit("readable"),n&&i(n),this.flowing):(this[ee]!==0&&this.emit("readable"),n&&i(n),this.flowing)}read(e){if(this[J])return null;if(this[ee]===0||e===0||e>this[ee])return this[ut](),null;this[oe]&&(e=null),this[Y].length>1&&!this[oe]&&(this.encoding?this[Y]=[this[Y].join("")]:this[Y]=[Buffer.concat(this[Y],this[ee])]);let r=this[Zu](e||null,this[Y][0]);return this[ut](),r}[Zu](e,r){return e===r.length||e===null?this[jo]():(this[Y][0]=r.slice(e),r=r.slice(0,e),this[ee]-=e),this.emit("data",r),!this[Y].length&&!this[lt]&&this.emit("drain"),r}end(e,r,n){return typeof e=="function"&&(n=e,e=null),typeof r=="function"&&(n=r,r="utf8"),e&&this.write(e,r),n&&this.once("end",n),this[lt]=!0,this.writable=!1,(this.flowing||!this[_n])&&this[ut](),this}[Ir](){this[J]||(this[_n]=!1,this[Li]=!0,this.emit("resume"),this[Y].length?this[bi]():this[lt]?this[ut]():this.emit("drain"))}resume(){return this[Ir]()}pause(){this[Li]=!1,this[_n]=!0}get destroyed(){return this[J]}get flowing(){return this[Li]}get paused(){return this[_n]}[Go](e){this[oe]?this[ee]+=1:this[ee]+=e.length,this[Y].push(e)}[jo](){return this[oe]?this[ee]-=1:this[ee]-=this[Y][0].length,this[Y].shift()}[bi](e){do;while(this[Ku](this[jo]())&&this[Y].length);!e&&!this[Y].length&&!this[lt]&&this.emit("drain")}[Ku](e){return this.emit("data",e),this.flowing}pipe(e,r){if(this[J])return;let n=this[Ct];return r=r||{},e===Yu.stdout||e===Yu.stderr?r.end=!1:r.end=r.end!==!1,r.proxyErrors=!!r.proxyErrors,n?r.end&&e.end():(this[Ke].push(r.proxyErrors?new Xo(this,e,r):new Ii(this,e,r)),this[dt]?bn(()=>this[Ir]()):this[Ir]()),e}unpipe(e){let r=this[Ke].find(n=>n.dest===e);r&&(this[Ke].splice(this[Ke].indexOf(r),1),r.unpipe())}addListener(e,r){return this.on(e,r)}on(e,r){let n=super.on(e,r);return e==="data"&&!this[Ke].length&&!this.flowing?this[Ir]():e==="readable"&&this[ee]!==0?super.emit("readable"):rx(e)&&this[Ct]?(super.emit(e),this.removeAllListeners(e)):e==="error"&&this[vn]&&(this[dt]?bn(()=>r.call(this,this[vn])):r.call(this,this[vn])),n}get emittedEnd(){return this[Ct]}[ut](){!this[vi]&&!this[Ct]&&!this[J]&&this[Y].length===0&&this[lt]&&(this[vi]=!0,this.emit("end"),this.emit("prefinish"),this.emit("finish"),this[_i]&&this.emit("close"),this[vi]=!1)}emit(e,r,...n){if(e!=="error"&&e!=="close"&&e!==J&&this[J])return;if(e==="data")return!this[oe]&&!r?!1:this[dt]?bn(()=>this[Vo](r)):this[Vo](r);if(e==="end")return this[Qu]();if(e==="close"){if(this[_i]=!0,!this[Ct]&&!this[J])return;let s=super.emit("close");return this.removeAllListeners("close"),s}else if(e==="error"){this[vn]=r,super.emit(zo,r);let s=!this[Kt]||this.listeners("error").length?super.emit("error",r):!1;return this[ut](),s}else if(e==="resume"){let s=super.emit("resume");return this[ut](),s}else if(e==="finish"||e==="prefinish"){let s=super.emit(e);return this.removeAllListeners(e),s}let i=super.emit(e,r,...n);return this[ut](),i}[Vo](e){for(let n of this[Ke])n.dest.write(e)===!1&&this.pause();let r=super.emit("data",e);return this[ut](),r}[Qu](){this[Ct]||(this[Ct]=!0,this.readable=!1,this[dt]?bn(()=>this[Yo]()):this[Yo]())}[Yo](){if(this[ft]){let r=this[ft].end();if(r){for(let n of this[Ke])n.dest.write(r);super.emit("data",r)}}for(let r of this[Ke])r.end();let e=super.emit("end");return this.removeAllListeners("end"),e}collect(){let e=[];this[oe]||(e.dataLength=0);let r=this.promise();return this.on("data",n=>{e.push(n),this[oe]||(e.dataLength+=n.length)}),r.then(()=>e)}concat(){return this[oe]?Promise.reject(new Error("cannot concat in objectMode")):this.collect().then(e=>this[oe]?Promise.reject(new Error("cannot concat in objectMode")):this[Se]?e.join(""):Buffer.concat(e,e.dataLength))}promise(){return new Promise((e,r)=>{this.on(J,()=>r(new Error("stream destroyed"))),this.on("error",n=>r(n)),this.on("end",()=>e())})}[ef](){let e=!1,r=()=>(this.pause(),e=!0,Promise.resolve({done:!0}));return{next:()=>{if(e)return r();let i=this.read();if(i!==null)return Promise.resolve({done:!1,value:i});if(this[lt])return r();let s=null,o=null,a=d=>{this.removeListener("data",c),this.removeListener("end",l),this.removeListener(J,u),r(),o(d)},c=d=>{this.removeListener("error",a),this.removeListener("end",l),this.removeListener(J,u),this.pause(),s({value:d,done:!!this[lt]})},l=()=>{this.removeListener("error",a),this.removeListener("data",c),this.removeListener(J,u),r(),s({done:!0})},u=()=>a(new Error("stream destroyed"));return new Promise((d,m)=>{o=m,s=d,this.once(J,u),this.once("error",a),this.once("end",l),this.once("data",c)})},throw:r,return:r,[ef](){return this}}}[tf](){let e=!1,r=()=>(this.pause(),this.removeListener(zo,r),this.removeListener(J,r),this.removeListener("end",r),e=!0,{done:!0}),n=()=>{if(e)return r();let i=this.read();return i===null?r():{value:i}};return this.once("end",r),this.once(zo,r),this.once(J,r),{next:n,throw:r,return:r,[tf](){return this}}}destroy(e){return this[J]?(e?this.emit("error",e):this.emit(J),this):(this[J]=!0,this[Y].length=0,this[ee]=0,typeof this.close=="function"&&!this[_i]&&this.close(),e?this.emit("error",e):this.emit(J),this)}static isStream(e){return!!e&&(e instanceof t||e instanceof Ju||e instanceof ex&&(typeof e.pipe=="function"||typeof e.write=="function"&&typeof e.end=="function"))}};nf.Minipass=Zo});var of=y((RN,sf)=>{var sx=require("zlib").constants||{ZLIB_VERNUM:4736};sf.exports=Object.freeze(Object.assign(Object.create(null),{Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_VERSION_ERROR:-6,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,DEFLATE:1,INFLATE:2,GZIP:3,GUNZIP:4,DEFLATERAW:5,INFLATERAW:6,UNZIP:7,BROTLI_DECODE:8,BROTLI_ENCODE:9,Z_MIN_WINDOWBITS:8,Z_MAX_WINDOWBITS:15,Z_DEFAULT_WINDOWBITS:15,Z_MIN_CHUNK:64,Z_MAX_CHUNK:1/0,Z_DEFAULT_CHUNK:16384,Z_MIN_MEMLEVEL:1,Z_MAX_MEMLEVEL:9,Z_DEFAULT_MEMLEVEL:8,Z_MIN_LEVEL:-1,Z_MAX_LEVEL:9,Z_DEFAULT_LEVEL:-1,BROTLI_OPERATION_PROCESS:0,BROTLI_OPERATION_FLUSH:1,BROTLI_OPERATION_FINISH:2,BROTLI_OPERATION_EMIT_METADATA:3,BROTLI_MODE_GENERIC:0,BROTLI_MODE_TEXT:1,BROTLI_MODE_FONT:2,BROTLI_DEFAULT_MODE:0,BROTLI_MIN_QUALITY:0,BROTLI_MAX_QUALITY:11,BROTLI_DEFAULT_QUALITY:11,BROTLI_MIN_WINDOW_BITS:10,BROTLI_MAX_WINDOW_BITS:24,BROTLI_LARGE_MAX_WINDOW_BITS:30,BROTLI_DEFAULT_WINDOW:22,BROTLI_MIN_INPUT_BLOCK_BITS:16,BROTLI_MAX_INPUT_BLOCK_BITS:24,BROTLI_PARAM_MODE:0,BROTLI_PARAM_QUALITY:1,BROTLI_PARAM_LGWIN:2,BROTLI_PARAM_LGBLOCK:3,BROTLI_PARAM_DISABLE_LITERAL_CONTEXT_MODELING:4,BROTLI_PARAM_SIZE_HINT:5,BROTLI_PARAM_LARGE_WINDOW:6,BROTLI_PARAM_NPOSTFIX:7,BROTLI_PARAM_NDIRECT:8,BROTLI_DECODER_RESULT_ERROR:0,BROTLI_DECODER_RESULT_SUCCESS:1,BROTLI_DECODER_RESULT_NEEDS_MORE_INPUT:2,BROTLI_DECODER_RESULT_NEEDS_MORE_OUTPUT:3,BROTLI_DECODER_PARAM_DISABLE_RING_BUFFER_REALLOCATION:0,BROTLI_DECODER_PARAM_LARGE_WINDOW:1,BROTLI_DECODER_NO_ERROR:0,BROTLI_DECODER_SUCCESS:1,BROTLI_DECODER_NEEDS_MORE_INPUT:2,BROTLI_DECODER_NEEDS_MORE_OUTPUT:3,BROTLI_DECODER_ERROR_FORMAT_EXUBERANT_NIBBLE:-1,BROTLI_DECODER_ERROR_FORMAT_RESERVED:-2,BROTLI_DECODER_ERROR_FORMAT_EXUBERANT_META_NIBBLE:-3,BROTLI_DECODER_ERROR_FORMAT_SIMPLE_HUFFMAN_ALPHABET:-4,BROTLI_DECODER_ERROR_FORMAT_SIMPLE_HUFFMAN_SAME:-5,BROTLI_DECODER_ERROR_FORMAT_CL_SPACE:-6,BROTLI_DECODER_ERROR_FORMAT_HUFFMAN_SPACE:-7,BROTLI_DECODER_ERROR_FORMAT_CONTEXT_MAP_REPEAT:-8,BROTLI_DECODER_ERROR_FORMAT_BLOCK_LENGTH_1:-9,BROTLI_DECODER_ERROR_FORMAT_BLOCK_LENGTH_2:-10,BROTLI_DECODER_ERROR_FORMAT_TRANSFORM:-11,BROTLI_DECODER_ERROR_FORMAT_DICTIONARY:-12,BROTLI_DECODER_ERROR_FORMAT_WINDOW_BITS:-13,BROTLI_DECODER_ERROR_FORMAT_PADDING_1:-14,BROTLI_DECODER_ERROR_FORMAT_PADDING_2:-15,BROTLI_DECODER_ERROR_FORMAT_DISTANCE:-16,BROTLI_DECODER_ERROR_DICTIONARY_NOT_SET:-19,BROTLI_DECODER_ERROR_INVALID_ARGUMENTS:-20,BROTLI_DECODER_ERROR_ALLOC_CONTEXT_MODES:-21,BROTLI_DECODER_ERROR_ALLOC_TREE_GROUPS:-22,BROTLI_DECODER_ERROR_ALLOC_CONTEXT_MAP:-25,BROTLI_DECODER_ERROR_ALLOC_RING_BUFFER_1:-26,BROTLI_DECODER_ERROR_ALLOC_RING_BUFFER_2:-27,BROTLI_DECODER_ERROR_ALLOC_BLOCK_TYPE_TREES:-30,BROTLI_DECODER_ERROR_UNREACHABLE:-31},sx))});var gf=y((IN,mf)=>{"use strict";var af=typeof process=="object"&&process?process:{stdout:null,stderr:null},ox=require("events"),cf=require("stream"),lf=require("string_decoder").StringDecoder,ht=Symbol("EOF"),pt=Symbol("maybeEmitEnd"),Tt=Symbol("emittedEnd"),Ci=Symbol("emittingEnd"),Ln=Symbol("emittedError"),Ti=Symbol("closed"),uf=Symbol("read"),Ni=Symbol("flush"),ff=Symbol("flushChunk"),xe=Symbol("encoding"),mt=Symbol("decoder"),Di=Symbol("flowing"),Rn=Symbol("paused"),Pr=Symbol("resume"),te=Symbol("bufferLength"),Ko=Symbol("bufferPush"),Qo=Symbol("bufferShift"),ce=Symbol("objectMode"),le=Symbol("destroyed"),ea=Symbol("emitData"),df=Symbol("emitEnd"),ta=Symbol("emitEnd2"),gt=Symbol("async"),In=t=>Promise.resolve().then(t),hf=global._MP_NO_ITERATOR_SYMBOLS_!=="1",ax=hf&&Symbol.asyncIterator||Symbol("asyncIterator not implemented"),cx=hf&&Symbol.iterator||Symbol("iterator not implemented"),lx=t=>t==="end"||t==="finish"||t==="prefinish",ux=t=>t instanceof ArrayBuffer||typeof t=="object"&&t.constructor&&t.constructor.name==="ArrayBuffer"&&t.byteLength>=0,fx=t=>!Buffer.isBuffer(t)&&ArrayBuffer.isView(t),Oi=class{constructor(e,r,n){this.src=e,this.dest=r,this.opts=n,this.ondrain=()=>e[Pr](),r.on("drain",this.ondrain)}unpipe(){this.dest.removeListener("drain",this.ondrain)}proxyErrors(){}end(){this.unpipe(),this.opts.end&&this.dest.end()}},ra=class extends Oi{unpipe(){this.src.removeListener("error",this.proxyErrors),super.unpipe()}constructor(e,r,n){super(e,r,n),this.proxyErrors=i=>r.emit("error",i),e.on("error",this.proxyErrors)}};mf.exports=class pf extends cf{constructor(e){super(),this[Di]=!1,this[Rn]=!1,this.pipes=[],this.buffer=[],this[ce]=e&&e.objectMode||!1,this[ce]?this[xe]=null:this[xe]=e&&e.encoding||null,this[xe]==="buffer"&&(this[xe]=null),this[gt]=e&&!!e.async||!1,this[mt]=this[xe]?new lf(this[xe]):null,this[ht]=!1,this[Tt]=!1,this[Ci]=!1,this[Ti]=!1,this[Ln]=null,this.writable=!0,this.readable=!0,this[te]=0,this[le]=!1}get bufferLength(){return this[te]}get encoding(){return this[xe]}set encoding(e){if(this[ce])throw new Error("cannot set encoding in objectMode");if(this[xe]&&e!==this[xe]&&(this[mt]&&this[mt].lastNeed||this[te]))throw new Error("cannot change encoding");this[xe]!==e&&(this[mt]=e?new lf(e):null,this.buffer.length&&(this.buffer=this.buffer.map(r=>this[mt].write(r)))),this[xe]=e}setEncoding(e){this.encoding=e}get objectMode(){return this[ce]}set objectMode(e){this[ce]=this[ce]||!!e}get async(){return this[gt]}set async(e){this[gt]=this[gt]||!!e}write(e,r,n){if(this[ht])throw new Error("write after end");if(this[le])return this.emit("error",Object.assign(new Error("Cannot call write after a stream was destroyed"),{code:"ERR_STREAM_DESTROYED"})),!0;typeof r=="function"&&(n=r,r="utf8"),r||(r="utf8");let i=this[gt]?In:s=>s();return!this[ce]&&!Buffer.isBuffer(e)&&(fx(e)?e=Buffer.from(e.buffer,e.byteOffset,e.byteLength):ux(e)?e=Buffer.from(e):typeof e!="string"&&(this.objectMode=!0)),this[ce]?(this.flowing&&this[te]!==0&&this[Ni](!0),this.flowing?this.emit("data",e):this[Ko](e),this[te]!==0&&this.emit("readable"),n&&i(n),this.flowing):e.length?(typeof e=="string"&&!(r===this[xe]&&!this[mt].lastNeed)&&(e=Buffer.from(e,r)),Buffer.isBuffer(e)&&this[xe]&&(e=this[mt].write(e)),this.flowing&&this[te]!==0&&this[Ni](!0),this.flowing?this.emit("data",e):this[Ko](e),this[te]!==0&&this.emit("readable"),n&&i(n),this.flowing):(this[te]!==0&&this.emit("readable"),n&&i(n),this.flowing)}read(e){if(this[le])return null;if(this[te]===0||e===0||e>this[te])return this[pt](),null;this[ce]&&(e=null),this.buffer.length>1&&!this[ce]&&(this.encoding?this.buffer=[this.buffer.join("")]:this.buffer=[Buffer.concat(this.buffer,this[te])]);let r=this[uf](e||null,this.buffer[0]);return this[pt](),r}[uf](e,r){return e===r.length||e===null?this[Qo]():(this.buffer[0]=r.slice(e),r=r.slice(0,e),this[te]-=e),this.emit("data",r),!this.buffer.length&&!this[ht]&&this.emit("drain"),r}end(e,r,n){return typeof e=="function"&&(n=e,e=null),typeof r=="function"&&(n=r,r="utf8"),e&&this.write(e,r),n&&this.once("end",n),this[ht]=!0,this.writable=!1,(this.flowing||!this[Rn])&&this[pt](),this}[Pr](){this[le]||(this[Rn]=!1,this[Di]=!0,this.emit("resume"),this.buffer.length?this[Ni]():this[ht]?this[pt]():this.emit("drain"))}resume(){return this[Pr]()}pause(){this[Di]=!1,this[Rn]=!0}get destroyed(){return this[le]}get flowing(){return this[Di]}get paused(){return this[Rn]}[Ko](e){this[ce]?this[te]+=1:this[te]+=e.length,this.buffer.push(e)}[Qo](){return this.buffer.length&&(this[ce]?this[te]-=1:this[te]-=this.buffer[0].length),this.buffer.shift()}[Ni](e){do;while(this[ff](this[Qo]()));!e&&!this.buffer.length&&!this[ht]&&this.emit("drain")}[ff](e){return e?(this.emit("data",e),this.flowing):!1}pipe(e,r){if(this[le])return;let n=this[Tt];return r=r||{},e===af.stdout||e===af.stderr?r.end=!1:r.end=r.end!==!1,r.proxyErrors=!!r.proxyErrors,n?r.end&&e.end():(this.pipes.push(r.proxyErrors?new ra(this,e,r):new Oi(this,e,r)),this[gt]?In(()=>this[Pr]()):this[Pr]()),e}unpipe(e){let r=this.pipes.find(n=>n.dest===e);r&&(this.pipes.splice(this.pipes.indexOf(r),1),r.unpipe())}addListener(e,r){return this.on(e,r)}on(e,r){let n=super.on(e,r);return e==="data"&&!this.pipes.length&&!this.flowing?this[Pr]():e==="readable"&&this[te]!==0?super.emit("readable"):lx(e)&&this[Tt]?(super.emit(e),this.removeAllListeners(e)):e==="error"&&this[Ln]&&(this[gt]?In(()=>r.call(this,this[Ln])):r.call(this,this[Ln])),n}get emittedEnd(){return this[Tt]}[pt](){!this[Ci]&&!this[Tt]&&!this[le]&&this.buffer.length===0&&this[ht]&&(this[Ci]=!0,this.emit("end"),this.emit("prefinish"),this.emit("finish"),this[Ti]&&this.emit("close"),this[Ci]=!1)}emit(e,r,...n){if(e!=="error"&&e!=="close"&&e!==le&&this[le])return;if(e==="data")return r?this[gt]?In(()=>this[ea](r)):this[ea](r):!1;if(e==="end")return this[df]();if(e==="close"){if(this[Ti]=!0,!this[Tt]&&!this[le])return;let s=super.emit("close");return this.removeAllListeners("close"),s}else if(e==="error"){this[Ln]=r;let s=super.emit("error",r);return this[pt](),s}else if(e==="resume"){let s=super.emit("resume");return this[pt](),s}else if(e==="finish"||e==="prefinish"){let s=super.emit(e);return this.removeAllListeners(e),s}let i=super.emit(e,r,...n);return this[pt](),i}[ea](e){for(let n of this.pipes)n.dest.write(e)===!1&&this.pause();let r=super.emit("data",e);return this[pt](),r}[df](){this[Tt]||(this[Tt]=!0,this.readable=!1,this[gt]?In(()=>this[ta]()):this[ta]())}[ta](){if(this[mt]){let r=this[mt].end();if(r){for(let n of this.pipes)n.dest.write(r);super.emit("data",r)}}for(let r of this.pipes)r.end();let e=super.emit("end");return this.removeAllListeners("end"),e}collect(){let e=[];this[ce]||(e.dataLength=0);let r=this.promise();return this.on("data",n=>{e.push(n),this[ce]||(e.dataLength+=n.length)}),r.then(()=>e)}concat(){return this[ce]?Promise.reject(new Error("cannot concat in objectMode")):this.collect().then(e=>this[ce]?Promise.reject(new Error("cannot concat in objectMode")):this[xe]?e.join(""):Buffer.concat(e,e.dataLength))}promise(){return new Promise((e,r)=>{this.on(le,()=>r(new Error("stream destroyed"))),this.on("error",n=>r(n)),this.on("end",()=>e())})}[ax](){return{next:()=>{let r=this.read();if(r!==null)return Promise.resolve({done:!1,value:r});if(this[ht])return Promise.resolve({done:!0});let n=null,i=null,s=l=>{this.removeListener("data",o),this.removeListener("end",a),i(l)},o=l=>{this.removeListener("error",s),this.removeListener("end",a),this.pause(),n({value:l,done:!!this[ht]})},a=()=>{this.removeListener("error",s),this.removeListener("data",o),n({done:!0})},c=()=>s(new Error("stream destroyed"));return new Promise((l,u)=>{i=u,n=l,this.once(le,c),this.once("error",s),this.once("end",a),this.once("data",o)})}}}[cx](){return{next:()=>{let r=this.read();return{value:r,done:r===null}}}}destroy(e){return this[le]?(e?this.emit("error",e):this.emit(le),this):(this[le]=!0,this.buffer.length=0,this[te]=0,typeof this.close=="function"&&!this[Ti]&&this.close(),e?this.emit("error",e):this.emit(le),this)}static isStream(e){return!!e&&(e instanceof pf||e instanceof cf||e instanceof ox&&(typeof e.pipe=="function"||typeof e.write=="function"&&typeof e.end=="function"))}}});var wa=y(Ie=>{"use strict";var aa=require("assert"),Nt=require("buffer").Buffer,yf=require("zlib"),Qt=Ie.constants=of(),dx=gf(),Ef=Nt.concat,er=Symbol("_superWrite"),Tr=class extends Error{constructor(e){super("zlib: "+e.message),this.code=e.code,this.errno=e.errno,this.code||(this.code="ZLIB_ERROR"),this.message="zlib: "+e.message,Error.captureStackTrace(this,this.constructor)}get name(){return"ZlibError"}},hx=Symbol("opts"),Pn=Symbol("flushFlag"),wf=Symbol("finishFlushFlag"),Ea=Symbol("fullFlushFlag"),q=Symbol("handle"),Ai=Symbol("onError"),Cr=Symbol("sawError"),na=Symbol("level"),ia=Symbol("strategy"),sa=Symbol("ended"),PN=Symbol("_defaultFullFlush"),ki=class extends dx{constructor(e,r){if(!e||typeof e!="object")throw new TypeError("invalid options for ZlibBase constructor");super(e),this[Cr]=!1,this[sa]=!1,this[hx]=e,this[Pn]=e.flush,this[wf]=e.finishFlush;try{this[q]=new yf[r](e)}catch(n){throw new Tr(n)}this[Ai]=n=>{this[Cr]||(this[Cr]=!0,this.close(),this.emit("error",n))},this[q].on("error",n=>this[Ai](new Tr(n))),this.once("end",()=>this.close)}close(){this[q]&&(this[q].close(),this[q]=null,this.emit("close"))}reset(){if(!this[Cr])return aa(this[q],"zlib binding closed"),this[q].reset()}flush(e){this.ended||(typeof e!="number"&&(e=this[Ea]),this.write(Object.assign(Nt.alloc(0),{[Pn]:e})))}end(e,r,n){return e&&this.write(e,r),this.flush(this[wf]),this[sa]=!0,super.end(null,null,n)}get ended(){return this[sa]}write(e,r,n){if(typeof r=="function"&&(n=r,r="utf8"),typeof e=="string"&&(e=Nt.from(e,r)),this[Cr])return;aa(this[q],"zlib binding closed");let i=this[q]._handle,s=i.close;i.close=()=>{};let o=this[q].close;this[q].close=()=>{},Nt.concat=l=>l;let a;try{let l=typeof e[Pn]=="number"?e[Pn]:this[Pn];a=this[q]._processChunk(e,l),Nt.concat=Ef}catch(l){Nt.concat=Ef,this[Ai](new Tr(l))}finally{this[q]&&(this[q]._handle=i,i.close=s,this[q].close=o,this[q].removeAllListeners("error"))}this[q]&&this[q].on("error",l=>this[Ai](new Tr(l)));let c;if(a)if(Array.isArray(a)&&a.length>0){c=this[er](Nt.from(a[0]));for(let l=1;l<a.length;l++)c=this[er](a[l])}else c=this[er](Nt.from(a));return n&&n(),c}[er](e){return super.write(e)}},Et=class extends ki{constructor(e,r){e=e||{},e.flush=e.flush||Qt.Z_NO_FLUSH,e.finishFlush=e.finishFlush||Qt.Z_FINISH,super(e,r),this[Ea]=Qt.Z_FULL_FLUSH,this[na]=e.level,this[ia]=e.strategy}params(e,r){if(!this[Cr]){if(!this[q])throw new Error("cannot switch params when binding is closed");if(!this[q].params)throw new Error("not supported in this implementation");if(this[na]!==e||this[ia]!==r){this.flush(Qt.Z_SYNC_FLUSH),aa(this[q],"zlib binding closed");let n=this[q].flush;this[q].flush=(i,s)=>{this.flush(i),s()};try{this[q].params(e,r)}finally{this[q].flush=n}this[q]&&(this[na]=e,this[ia]=r)}}}},ca=class extends Et{constructor(e){super(e,"Deflate")}},la=class extends Et{constructor(e){super(e,"Inflate")}},oa=Symbol("_portable"),ua=class extends Et{constructor(e){super(e,"Gzip"),this[oa]=e&&!!e.portable}[er](e){return this[oa]?(this[oa]=!1,e[9]=255,super[er](e)):super[er](e)}},fa=class extends Et{constructor(e){super(e,"Gunzip")}},da=class extends Et{constructor(e){super(e,"DeflateRaw")}},ha=class extends Et{constructor(e){super(e,"InflateRaw")}},pa=class extends Et{constructor(e){super(e,"Unzip")}},Fi=class extends ki{constructor(e,r){e=e||{},e.flush=e.flush||Qt.BROTLI_OPERATION_PROCESS,e.finishFlush=e.finishFlush||Qt.BROTLI_OPERATION_FINISH,super(e,r),this[Ea]=Qt.BROTLI_OPERATION_FLUSH}},ma=class extends Fi{constructor(e){super(e,"BrotliCompress")}},ga=class extends Fi{constructor(e){super(e,"BrotliDecompress")}};Ie.Deflate=ca;Ie.Inflate=la;Ie.Gzip=ua;Ie.Gunzip=fa;Ie.DeflateRaw=da;Ie.InflateRaw=ha;Ie.Unzip=pa;typeof yf.BrotliCompress=="function"?(Ie.BrotliCompress=ma,Ie.BrotliDecompress=ga):Ie.BrotliCompress=Ie.BrotliDecompress=class{constructor(){throw new Error("Brotli is not supported in this version of Node.js")}}});var Nr=y((NN,Sf)=>{var px=process.env.TESTING_TAR_FAKE_PLATFORM||process.platform;Sf.exports=px!=="win32"?t=>t:t=>t&&t.replace(/\\/g,"/")});var $i=y((ON,xf)=>{"use strict";var{Minipass:mx}=Pi(),ya=Nr(),Sa=Symbol("slurp");xf.exports=class extends mx{constructor(e,r,n){switch(super(),this.pause(),this.extended=r,this.globalExtended=n,this.header=e,this.startBlockSize=512*Math.ceil(e.size/512),this.blockRemain=this.startBlockSize,this.remain=e.size,this.type=e.type,this.meta=!1,this.ignore=!1,this.type){case"File":case"OldFile":case"Link":case"SymbolicLink":case"CharacterDevice":case"BlockDevice":case"Directory":case"FIFO":case"ContiguousFile":case"GNUDumpDir":break;case"NextFileHasLongLinkpath":case"NextFileHasLongPath":case"OldGnuLongPath":case"GlobalExtendedHeader":case"ExtendedHeader":case"OldExtendedHeader":this.meta=!0;break;default:this.ignore=!0}this.path=ya(e.path),this.mode=e.mode,this.mode&&(this.mode=this.mode&4095),this.uid=e.uid,this.gid=e.gid,this.uname=e.uname,this.gname=e.gname,this.size=e.size,this.mtime=e.mtime,this.atime=e.atime,this.ctime=e.ctime,this.linkpath=ya(e.linkpath),this.uname=e.uname,this.gname=e.gname,r&&this[Sa](r),n&&this[Sa](n,!0)}write(e){let r=e.length;if(r>this.blockRemain)throw new Error("writing more to entry than is appropriate");let n=this.remain,i=this.blockRemain;return this.remain=Math.max(0,n-r),this.blockRemain=Math.max(0,i-r),this.ignore?!0:n>=r?super.write(e):super.write(e.slice(0,n))}[Sa](e,r){for(let n in e)e[n]!==null&&e[n]!==void 0&&!(r&&n==="path")&&(this[n]=n==="path"||n==="linkpath"?ya(e[n]):e[n])}}});var xa=y(Bi=>{"use strict";Bi.name=new Map([["0","File"],["","OldFile"],["1","Link"],["2","SymbolicLink"],["3","CharacterDevice"],["4","BlockDevice"],["5","Directory"],["6","FIFO"],["7","ContiguousFile"],["g","GlobalExtendedHeader"],["x","ExtendedHeader"],["A","SolarisACL"],["D","GNUDumpDir"],["I","Inode"],["K","NextFileHasLongLinkpath"],["L","NextFileHasLongPath"],["M","ContinuationFile"],["N","OldGnuLongPath"],["S","SparseFile"],["V","TapeVolumeHeader"],["X","OldExtendedHeader"]]);Bi.code=new Map(Array.from(Bi.name).map(t=>[t[1],t[0]]))});var Lf=y((kN,bf)=>{"use strict";var gx=(t,e)=>{if(Number.isSafeInteger(t))t<0?wx(t,e):Ex(t,e);else throw Error("cannot encode number outside of javascript safe integer range");return e},Ex=(t,e)=>{e[0]=128;for(var r=e.length;r>1;r--)e[r-1]=t&255,t=Math.floor(t/256)},wx=(t,e)=>{e[0]=255;var r=!1;t=t*-1;for(var n=e.length;n>1;n--){var i=t&255;t=Math.floor(t/256),r?e[n-1]=vf(i):i===0?e[n-1]=0:(r=!0,e[n-1]=_f(i))}},yx=t=>{let e=t[0],r=e===128?xx(t.slice(1,t.length)):e===255?Sx(t):null;if(r===null)throw Error("invalid base256 encoding");if(!Number.isSafeInteger(r))throw Error("parsed number outside of javascript safe integer range");return r},Sx=t=>{for(var e=t.length,r=0,n=!1,i=e-1;i>-1;i--){var s=t[i],o;n?o=vf(s):s===0?o=s:(n=!0,o=_f(s)),o!==0&&(r-=o*Math.pow(256,e-i-1))}return r},xx=t=>{for(var e=t.length,r=0,n=e-1;n>-1;n--){var i=t[n];i!==0&&(r+=i*Math.pow(256,e-n-1))}return r},vf=t=>(255^t)&255,_f=t=>(255^t)+1&255;bf.exports={encode:gx,parse:yx}});var Or=y((FN,If)=>{"use strict";var va=xa(),Dr=require("path").posix,Rf=Lf(),_a=Symbol("slurp"),Pe=Symbol("type"),Ra=class{constructor(e,r,n,i){this.cksumValid=!1,this.needPax=!1,this.nullBlock=!1,this.block=null,this.path=null,this.mode=null,this.uid=null,this.gid=null,this.size=null,this.mtime=null,this.cksum=null,this[Pe]="0",this.linkpath=null,this.uname=null,this.gname=null,this.devmaj=0,this.devmin=0,this.atime=null,this.ctime=null,Buffer.isBuffer(e)?this.decode(e,r||0,n,i):e&&this.set(e)}decode(e,r,n,i){if(r||(r=0),!e||!(e.length>=r+512))throw new Error("need 512 bytes for header");if(this.path=tr(e,r,100),this.mode=Dt(e,r+100,8),this.uid=Dt(e,r+108,8),this.gid=Dt(e,r+116,8),this.size=Dt(e,r+124,12),this.mtime=ba(e,r+136,12),this.cksum=Dt(e,r+148,12),this[_a](n),this[_a](i,!0),this[Pe]=tr(e,r+156,1),this[Pe]===""&&(this[Pe]="0"),this[Pe]==="0"&&this.path.slice(-1)==="/"&&(this[Pe]="5"),this[Pe]==="5"&&(this.size=0),this.linkpath=tr(e,r+157,100),e.slice(r+257,r+265).toString()==="ustar\x0000")if(this.uname=tr(e,r+265,32),this.gname=tr(e,r+297,32),this.devmaj=Dt(e,r+329,8),this.devmin=Dt(e,r+337,8),e[r+475]!==0){let o=tr(e,r+345,155);this.path=o+"/"+this.path}else{let o=tr(e,r+345,130);o&&(this.path=o+"/"+this.path),this.atime=ba(e,r+476,12),this.ctime=ba(e,r+488,12)}let s=8*32;for(let o=r;o<r+148;o++)s+=e[o];for(let o=r+156;o<r+512;o++)s+=e[o];this.cksumValid=s===this.cksum,this.cksum===null&&s===8*32&&(this.nullBlock=!0)}[_a](e,r){for(let n in e)e[n]!==null&&e[n]!==void 0&&!(r&&n==="path")&&(this[n]=e[n])}encode(e,r){if(e||(e=this.block=Buffer.alloc(512),r=0),r||(r=0),!(e.length>=r+512))throw new Error("need 512 bytes for header");let n=this.ctime||this.atime?130:155,i=vx(this.path||"",n),s=i[0],o=i[1];this.needPax=i[2],this.needPax=rr(e,r,100,s)||this.needPax,this.needPax=Ot(e,r+100,8,this.mode)||this.needPax,this.needPax=Ot(e,r+108,8,this.uid)||this.needPax,this.needPax=Ot(e,r+116,8,this.gid)||this.needPax,this.needPax=Ot(e,r+124,12,this.size)||this.needPax,this.needPax=La(e,r+136,12,this.mtime)||this.needPax,e[r+156]=this[Pe].charCodeAt(0),this.needPax=rr(e,r+157,100,this.linkpath)||this.needPax,e.write("ustar\x0000",r+257,8),this.needPax=rr(e,r+265,32,this.uname)||this.needPax,this.needPax=rr(e,r+297,32,this.gname)||this.needPax,this.needPax=Ot(e,r+329,8,this.devmaj)||this.needPax,this.needPax=Ot(e,r+337,8,this.devmin)||this.needPax,this.needPax=rr(e,r+345,n,o)||this.needPax,e[r+475]!==0?this.needPax=rr(e,r+345,155,o)||this.needPax:(this.needPax=rr(e,r+345,130,o)||this.needPax,this.needPax=La(e,r+476,12,this.atime)||this.needPax,this.needPax=La(e,r+488,12,this.ctime)||this.needPax);let a=8*32;for(let c=r;c<r+148;c++)a+=e[c];for(let c=r+156;c<r+512;c++)a+=e[c];return this.cksum=a,Ot(e,r+148,8,this.cksum),this.cksumValid=!0,this.needPax}set(e){for(let r in e)e[r]!==null&&e[r]!==void 0&&(this[r]=e[r])}get type(){return va.name.get(this[Pe])||this[Pe]}get typeKey(){return this[Pe]}set type(e){va.code.has(e)?this[Pe]=va.code.get(e):this[Pe]=e}},vx=(t,e)=>{let n=t,i="",s,o=Dr.parse(t).root||".";if(Buffer.byteLength(n)<100)s=[n,i,!1];else{i=Dr.dirname(n),n=Dr.basename(n);do Buffer.byteLength(n)<=100&&Buffer.byteLength(i)<=e?s=[n,i,!1]:Buffer.byteLength(n)>100&&Buffer.byteLength(i)<=e?s=[n.slice(0,99),i,!0]:(n=Dr.join(Dr.basename(i),n),i=Dr.dirname(i));while(i!==o&&!s);s||(s=[t.slice(0,99),"",!0])}return s},tr=(t,e,r)=>t.slice(e,e+r).toString("utf8").replace(/\0.*/,""),ba=(t,e,r)=>_x(Dt(t,e,r)),_x=t=>t===null?null:new Date(t*1e3),Dt=(t,e,r)=>t[e]&128?Rf.parse(t.slice(e,e+r)):Lx(t,e,r),bx=t=>isNaN(t)?null:t,Lx=(t,e,r)=>bx(parseInt(t.slice(e,e+r).toString("utf8").replace(/\0.*$/,"").trim(),8)),Rx={12:8589934591,8:2097151},Ot=(t,e,r,n)=>n===null?!1:n>Rx[r]||n<0?(Rf.encode(n,t.slice(e,e+r)),!0):(Ix(t,e,r,n),!1),Ix=(t,e,r,n)=>t.write(Px(n,r),e,r,"ascii"),Px=(t,e)=>Cx(Math.floor(t).toString(8),e),Cx=(t,e)=>(t.length===e-1?t:new Array(e-t.length-1).join("0")+t+" ")+"\0",La=(t,e,r,n)=>n===null?!1:Ot(t,e,r,n.getTime()/1e3),Tx=new Array(156).join("\0"),rr=(t,e,r,n)=>n===null?!1:(t.write(n+Tx,e,r,"utf8"),n.length!==Buffer.byteLength(n)||n.length>r);If.exports=Ra});var qi=y(($N,Pf)=>{"use strict";var Nx=Or(),Dx=require("path"),Cn=class{constructor(e,r){this.atime=e.atime||null,this.charset=e.charset||null,this.comment=e.comment||null,this.ctime=e.ctime||null,this.gid=e.gid||null,this.gname=e.gname||null,this.linkpath=e.linkpath||null,this.mtime=e.mtime||null,this.path=e.path||null,this.size=e.size||null,this.uid=e.uid||null,this.uname=e.uname||null,this.dev=e.dev||null,this.ino=e.ino||null,this.nlink=e.nlink||null,this.global=r||!1}encode(){let e=this.encodeBody();if(e==="")return null;let r=Buffer.byteLength(e),n=512*Math.ceil(1+r/512),i=Buffer.allocUnsafe(n);for(let s=0;s<512;s++)i[s]=0;new Nx({path:("PaxHeader/"+Dx.basename(this.path)).slice(0,99),mode:this.mode||420,uid:this.uid||null,gid:this.gid||null,size:r,mtime:this.mtime||null,type:this.global?"GlobalExtendedHeader":"ExtendedHeader",linkpath:"",uname:this.uname||"",gname:this.gname||"",devmaj:0,devmin:0,atime:this.atime||null,ctime:this.ctime||null}).encode(i),i.write(e,512,r,"utf8");for(let s=r+512;s<i.length;s++)i[s]=0;return i}encodeBody(){return this.encodeField("path")+this.encodeField("ctime")+this.encodeField("atime")+this.encodeField("dev")+this.encodeField("ino")+this.encodeField("nlink")+this.encodeField("charset")+this.encodeField("comment")+this.encodeField("gid")+this.encodeField("gname")+this.encodeField("linkpath")+this.encodeField("mtime")+this.encodeField("size")+this.encodeField("uid")+this.encodeField("uname")}encodeField(e){if(this[e]===null||this[e]===void 0)return"";let r=this[e]instanceof Date?this[e].getTime()/1e3:this[e],n=" "+(e==="dev"||e==="ino"||e==="nlink"?"SCHILY.":"")+e+"="+r+`
`,i=Buffer.byteLength(n),s=Math.floor(Math.log(i)/Math.log(10))+1;return i+s>=Math.pow(10,s)&&(s+=1),s+i+n}};Cn.parse=(t,e,r)=>new Cn(Ox(Ax(t),e),r);var Ox=(t,e)=>e?Object.keys(t).reduce((r,n)=>(r[n]=t[n],r),e):t,Ax=t=>t.replace(/\n$/,"").split(`
`).reduce(kx,Object.create(null)),kx=(t,e)=>{let r=parseInt(e,10);if(r!==Buffer.byteLength(e)+1)return t;e=e.slice((r+" ").length);let n=e.split("="),i=n.shift().replace(/^SCHILY\.(dev|ino|nlink)/,"$1");if(!i)return t;let s=n.join("=");return t[i]=/^([A-Z]+\.)?([mac]|birth|creation)time$/.test(i)?new Date(s*1e3):/^[0-9]+$/.test(s)?+s:s,t};Pf.exports=Cn});var Ar=y((BN,Cf)=>{Cf.exports=t=>{let e=t.length-1,r=-1;for(;e>-1&&t.charAt(e)==="/";)r=e,e--;return r===-1?t:t.slice(0,r)}});var Ui=y((qN,Tf)=>{"use strict";Tf.exports=t=>class extends t{warn(e,r,n={}){this.file&&(n.file=this.file),this.cwd&&(n.cwd=this.cwd),n.code=r instanceof Error&&r.code||e,n.tarCode=e,!this.strict&&n.recoverable!==!1?(r instanceof Error&&(n=Object.assign(r,n),r=r.message),this.emit("warn",n.tarCode,r,n)):r instanceof Error?this.emit("error",Object.assign(r,n)):this.emit("error",Object.assign(new Error(`${e}: ${r}`),n))}}});var Pa=y((MN,Nf)=>{"use strict";var Mi=["|","<",">","?",":"],Ia=Mi.map(t=>String.fromCharCode(61440+t.charCodeAt(0))),Fx=new Map(Mi.map((t,e)=>[t,Ia[e]])),$x=new Map(Ia.map((t,e)=>[t,Mi[e]]));Nf.exports={encode:t=>Mi.reduce((e,r)=>e.split(r).join(Fx.get(r)),t),decode:t=>Ia.reduce((e,r)=>e.split(r).join($x.get(r)),t)}});var Ca=y((HN,Of)=>{var{isAbsolute:Bx,parse:Df}=require("path").win32;Of.exports=t=>{let e="",r=Df(t);for(;Bx(t)||r.root;){let n=t.charAt(0)==="/"&&t.slice(0,4)!=="//?/"?"/":r.root;t=t.slice(n.length),e+=n,r=Df(t)}return[e,t]}});var kf=y((WN,Af)=>{"use strict";Af.exports=(t,e,r)=>(t&=4095,r&&(t=(t|384)&-19),e&&(t&256&&(t|=64),t&32&&(t|=8),t&4&&(t|=1)),t)});var qa=y((zN,Jf)=>{"use strict";var{Minipass:Hf}=Pi(),Wf=qi(),Gf=Or(),et=require("fs"),Ff=require("path"),Qe=Nr(),qx=Ar(),jf=(t,e)=>e?(t=Qe(t).replace(/^\.(\/|$)/,""),qx(e)+"/"+t):Qe(t),Ux=16*1024*1024,$f=Symbol("process"),Bf=Symbol("file"),qf=Symbol("directory"),Na=Symbol("symlink"),Uf=Symbol("hardlink"),Tn=Symbol("header"),Hi=Symbol("read"),Da=Symbol("lstat"),Wi=Symbol("onlstat"),Oa=Symbol("onread"),Aa=Symbol("onreadlink"),ka=Symbol("openfile"),Fa=Symbol("onopenfile"),At=Symbol("close"),Gi=Symbol("mode"),$a=Symbol("awaitDrain"),Ta=Symbol("ondrain"),tt=Symbol("prefix"),Mf=Symbol("hadError"),zf=Ui(),Mx=Pa(),Vf=Ca(),Yf=kf(),ji=zf(class extends Hf{constructor(e,r){if(r=r||{},super(r),typeof e!="string")throw new TypeError("path is required");this.path=Qe(e),this.portable=!!r.portable,this.myuid=process.getuid&&process.getuid()||0,this.myuser=process.env.USER||"",this.maxReadSize=r.maxReadSize||Ux,this.linkCache=r.linkCache||new Map,this.statCache=r.statCache||new Map,this.preservePaths=!!r.preservePaths,this.cwd=Qe(r.cwd||process.cwd()),this.strict=!!r.strict,this.noPax=!!r.noPax,this.noMtime=!!r.noMtime,this.mtime=r.mtime||null,this.prefix=r.prefix?Qe(r.prefix):null,this.fd=null,this.blockLen=null,this.blockRemain=null,this.buf=null,this.offset=null,this.length=null,this.pos=null,this.remain=null,typeof r.onwarn=="function"&&this.on("warn",r.onwarn);let n=!1;if(!this.preservePaths){let[i,s]=Vf(this.path);i&&(this.path=s,n=i)}this.win32=!!r.win32||process.platform==="win32",this.win32&&(this.path=Mx.decode(this.path.replace(/\\/g,"/")),e=e.replace(/\\/g,"/")),this.absolute=Qe(r.absolute||Ff.resolve(this.cwd,e)),this.path===""&&(this.path="./"),n&&this.warn("TAR_ENTRY_INFO",`stripping ${n} from absolute path`,{entry:this,path:n+this.path}),this.statCache.has(this.absolute)?this[Wi](this.statCache.get(this.absolute)):this[Da]()}emit(e,...r){return e==="error"&&(this[Mf]=!0),super.emit(e,...r)}[Da](){et.lstat(this.absolute,(e,r)=>{if(e)return this.emit("error",e);this[Wi](r)})}[Wi](e){this.statCache.set(this.absolute,e),this.stat=e,e.isFile()||(e.size=0),this.type=Wx(e),this.emit("stat",e),this[$f]()}[$f](){switch(this.type){case"File":return this[Bf]();case"Directory":return this[qf]();case"SymbolicLink":return this[Na]();default:return this.end()}}[Gi](e){return Yf(e,this.type==="Directory",this.portable)}[tt](e){return jf(e,this.prefix)}[Tn](){this.type==="Directory"&&this.portable&&(this.noMtime=!0),this.header=new Gf({path:this[tt](this.path),linkpath:this.type==="Link"?this[tt](this.linkpath):this.linkpath,mode:this[Gi](this.stat.mode),uid:this.portable?null:this.stat.uid,gid:this.portable?null:this.stat.gid,size:this.stat.size,mtime:this.noMtime?null:this.mtime||this.stat.mtime,type:this.type,uname:this.portable?null:this.stat.uid===this.myuid?this.myuser:"",atime:this.portable?null:this.stat.atime,ctime:this.portable?null:this.stat.ctime}),this.header.encode()&&!this.noPax&&super.write(new Wf({atime:this.portable?null:this.header.atime,ctime:this.portable?null:this.header.ctime,gid:this.portable?null:this.header.gid,mtime:this.noMtime?null:this.mtime||this.header.mtime,path:this[tt](this.path),linkpath:this.type==="Link"?this[tt](this.linkpath):this.linkpath,size:this.header.size,uid:this.portable?null:this.header.uid,uname:this.portable?null:this.header.uname,dev:this.portable?null:this.stat.dev,ino:this.portable?null:this.stat.ino,nlink:this.portable?null:this.stat.nlink}).encode()),super.write(this.header.block)}[qf](){this.path.slice(-1)!=="/"&&(this.path+="/"),this.stat.size=0,this[Tn](),this.end()}[Na](){et.readlink(this.absolute,(e,r)=>{if(e)return this.emit("error",e);this[Aa](r)})}[Aa](e){this.linkpath=Qe(e),this[Tn](),this.end()}[Uf](e){this.type="Link",this.linkpath=Qe(Ff.relative(this.cwd,e)),this.stat.size=0,this[Tn](),this.end()}[Bf](){if(this.stat.nlink>1){let e=this.stat.dev+":"+this.stat.ino;if(this.linkCache.has(e)){let r=this.linkCache.get(e);if(r.indexOf(this.cwd)===0)return this[Uf](r)}this.linkCache.set(e,this.absolute)}if(this[Tn](),this.stat.size===0)return this.end();this[ka]()}[ka](){et.open(this.absolute,"r",(e,r)=>{if(e)return this.emit("error",e);this[Fa](r)})}[Fa](e){if(this.fd=e,this[Mf])return this[At]();this.blockLen=512*Math.ceil(this.stat.size/512),this.blockRemain=this.blockLen;let r=Math.min(this.blockLen,this.maxReadSize);this.buf=Buffer.allocUnsafe(r),this.offset=0,this.pos=0,this.remain=this.stat.size,this.length=this.buf.length,this[Hi]()}[Hi](){let{fd:e,buf:r,offset:n,length:i,pos:s}=this;et.read(e,r,n,i,s,(o,a)=>{if(o)return this[At](()=>this.emit("error",o));this[Oa](a)})}[At](e){et.close(this.fd,e)}[Oa](e){if(e<=0&&this.remain>0){let i=new Error("encountered unexpected EOF");return i.path=this.absolute,i.syscall="read",i.code="EOF",this[At](()=>this.emit("error",i))}if(e>this.remain){let i=new Error("did not encounter expected EOF");return i.path=this.absolute,i.syscall="read",i.code="EOF",this[At](()=>this.emit("error",i))}if(e===this.remain)for(let i=e;i<this.length&&e<this.blockRemain;i++)this.buf[i+this.offset]=0,e++,this.remain++;let r=this.offset===0&&e===this.buf.length?this.buf:this.buf.slice(this.offset,this.offset+e);this.write(r)?this[Ta]():this[$a](()=>this[Ta]())}[$a](e){this.once("drain",e)}write(e){if(this.blockRemain<e.length){let r=new Error("writing more data than expected");return r.path=this.absolute,this.emit("error",r)}return this.remain-=e.length,this.blockRemain-=e.length,this.pos+=e.length,this.offset+=e.length,super.write(e)}[Ta](){if(!this.remain)return this.blockRemain&&super.write(Buffer.alloc(this.blockRemain)),this[At](e=>e?this.emit("error",e):this.end());this.offset>=this.length&&(this.buf=Buffer.allocUnsafe(Math.min(this.blockRemain,this.buf.length)),this.offset=0),this.length=this.buf.length-this.offset,this[Hi]()}}),Ba=class extends ji{[Da](){this[Wi](et.lstatSync(this.absolute))}[Na](){this[Aa](et.readlinkSync(this.absolute))}[ka](){this[Fa](et.openSync(this.absolute,"r"))}[Hi](){let e=!0;try{let{fd:r,buf:n,offset:i,length:s,pos:o}=this,a=et.readSync(r,n,i,s,o);this[Oa](a),e=!1}finally{if(e)try{this[At](()=>{})}catch{}}}[$a](e){e()}[At](e){et.closeSync(this.fd),e()}},Hx=zf(class extends Hf{constructor(e,r){r=r||{},super(r),this.preservePaths=!!r.preservePaths,this.portable=!!r.portable,this.strict=!!r.strict,this.noPax=!!r.noPax,this.noMtime=!!r.noMtime,this.readEntry=e,this.type=e.type,this.type==="Directory"&&this.portable&&(this.noMtime=!0),this.prefix=r.prefix||null,this.path=Qe(e.path),this.mode=this[Gi](e.mode),this.uid=this.portable?null:e.uid,this.gid=this.portable?null:e.gid,this.uname=this.portable?null:e.uname,this.gname=this.portable?null:e.gname,this.size=e.size,this.mtime=this.noMtime?null:r.mtime||e.mtime,this.atime=this.portable?null:e.atime,this.ctime=this.portable?null:e.ctime,this.linkpath=Qe(e.linkpath),typeof r.onwarn=="function"&&this.on("warn",r.onwarn);let n=!1;if(!this.preservePaths){let[i,s]=Vf(this.path);i&&(this.path=s,n=i)}this.remain=e.size,this.blockRemain=e.startBlockSize,this.header=new Gf({path:this[tt](this.path),linkpath:this.type==="Link"?this[tt](this.linkpath):this.linkpath,mode:this.mode,uid:this.portable?null:this.uid,gid:this.portable?null:this.gid,size:this.size,mtime:this.noMtime?null:this.mtime,type:this.type,uname:this.portable?null:this.uname,atime:this.portable?null:this.atime,ctime:this.portable?null:this.ctime}),n&&this.warn("TAR_ENTRY_INFO",`stripping ${n} from absolute path`,{entry:this,path:n+this.path}),this.header.encode()&&!this.noPax&&super.write(new Wf({atime:this.portable?null:this.atime,ctime:this.portable?null:this.ctime,gid:this.portable?null:this.gid,mtime:this.noMtime?null:this.mtime,path:this[tt](this.path),linkpath:this.type==="Link"?this[tt](this.linkpath):this.linkpath,size:this.size,uid:this.portable?null:this.uid,uname:this.portable?null:this.uname,dev:this.portable?null:this.readEntry.dev,ino:this.portable?null:this.readEntry.ino,nlink:this.portable?null:this.readEntry.nlink}).encode()),super.write(this.header.block),e.pipe(this)}[tt](e){return jf(e,this.prefix)}[Gi](e){return Yf(e,this.type==="Directory",this.portable)}write(e){let r=e.length;if(r>this.blockRemain)throw new Error("writing more to entry than is appropriate");return this.blockRemain-=r,super.write(e)}end(){return this.blockRemain&&super.write(Buffer.alloc(this.blockRemain)),super.end()}});ji.Sync=Ba;ji.Tar=Hx;var Wx=t=>t.isFile()?"File":t.isDirectory()?"Directory":t.isSymbolicLink()?"SymbolicLink":"Unsupported";Jf.exports=ji});var Zf=y((VN,Xf)=>{"use strict";Xf.exports=function(t){t.prototype[Symbol.iterator]=function*(){for(let e=this.head;e;e=e.next)yield e.value}}});var Ua=y((YN,Kf)=>{"use strict";Kf.exports=A;A.Node=nr;A.create=A;function A(t){var e=this;if(e instanceof A||(e=new A),e.tail=null,e.head=null,e.length=0,t&&typeof t.forEach=="function")t.forEach(function(i){e.push(i)});else if(arguments.length>0)for(var r=0,n=arguments.length;r<n;r++)e.push(arguments[r]);return e}A.prototype.removeNode=function(t){if(t.list!==this)throw new Error("removing node which does not belong to this list");var e=t.next,r=t.prev;return e&&(e.prev=r),r&&(r.next=e),t===this.head&&(this.head=e),t===this.tail&&(this.tail=r),t.list.length--,t.next=null,t.prev=null,t.list=null,e};A.prototype.unshiftNode=function(t){if(t!==this.head){t.list&&t.list.removeNode(t);var e=this.head;t.list=this,t.next=e,e&&(e.prev=t),this.head=t,this.tail||(this.tail=t),this.length++}};A.prototype.pushNode=function(t){if(t!==this.tail){t.list&&t.list.removeNode(t);var e=this.tail;t.list=this,t.prev=e,e&&(e.next=t),this.tail=t,this.head||(this.head=t),this.length++}};A.prototype.push=function(){for(var t=0,e=arguments.length;t<e;t++)jx(this,arguments[t]);return this.length};A.prototype.unshift=function(){for(var t=0,e=arguments.length;t<e;t++)zx(this,arguments[t]);return this.length};A.prototype.pop=function(){if(this.tail){var t=this.tail.value;return this.tail=this.tail.prev,this.tail?this.tail.next=null:this.head=null,this.length--,t}};A.prototype.shift=function(){if(this.head){var t=this.head.value;return this.head=this.head.next,this.head?this.head.prev=null:this.tail=null,this.length--,t}};A.prototype.forEach=function(t,e){e=e||this;for(var r=this.head,n=0;r!==null;n++)t.call(e,r.value,n,this),r=r.next};A.prototype.forEachReverse=function(t,e){e=e||this;for(var r=this.tail,n=this.length-1;r!==null;n--)t.call(e,r.value,n,this),r=r.prev};A.prototype.get=function(t){for(var e=0,r=this.head;r!==null&&e<t;e++)r=r.next;if(e===t&&r!==null)return r.value};A.prototype.getReverse=function(t){for(var e=0,r=this.tail;r!==null&&e<t;e++)r=r.prev;if(e===t&&r!==null)return r.value};A.prototype.map=function(t,e){e=e||this;for(var r=new A,n=this.head;n!==null;)r.push(t.call(e,n.value,this)),n=n.next;return r};A.prototype.mapReverse=function(t,e){e=e||this;for(var r=new A,n=this.tail;n!==null;)r.push(t.call(e,n.value,this)),n=n.prev;return r};A.prototype.reduce=function(t,e){var r,n=this.head;if(arguments.length>1)r=e;else if(this.head)n=this.head.next,r=this.head.value;else throw new TypeError("Reduce of empty list with no initial value");for(var i=0;n!==null;i++)r=t(r,n.value,i),n=n.next;return r};A.prototype.reduceReverse=function(t,e){var r,n=this.tail;if(arguments.length>1)r=e;else if(this.tail)n=this.tail.prev,r=this.tail.value;else throw new TypeError("Reduce of empty list with no initial value");for(var i=this.length-1;n!==null;i--)r=t(r,n.value,i),n=n.prev;return r};A.prototype.toArray=function(){for(var t=new Array(this.length),e=0,r=this.head;r!==null;e++)t[e]=r.value,r=r.next;return t};A.prototype.toArrayReverse=function(){for(var t=new Array(this.length),e=0,r=this.tail;r!==null;e++)t[e]=r.value,r=r.prev;return t};A.prototype.slice=function(t,e){e=e||this.length,e<0&&(e+=this.length),t=t||0,t<0&&(t+=this.length);var r=new A;if(e<t||e<0)return r;t<0&&(t=0),e>this.length&&(e=this.length);for(var n=0,i=this.head;i!==null&&n<t;n++)i=i.next;for(;i!==null&&n<e;n++,i=i.next)r.push(i.value);return r};A.prototype.sliceReverse=function(t,e){e=e||this.length,e<0&&(e+=this.length),t=t||0,t<0&&(t+=this.length);var r=new A;if(e<t||e<0)return r;t<0&&(t=0),e>this.length&&(e=this.length);for(var n=this.length,i=this.tail;i!==null&&n>e;n--)i=i.prev;for(;i!==null&&n>t;n--,i=i.prev)r.push(i.value);return r};A.prototype.splice=function(t,e,...r){t>this.length&&(t=this.length-1),t<0&&(t=this.length+t);for(var n=0,i=this.head;i!==null&&n<t;n++)i=i.next;for(var s=[],n=0;i&&n<e;n++)s.push(i.value),i=this.removeNode(i);i===null&&(i=this.tail),i!==this.head&&i!==this.tail&&(i=i.prev);for(var n=0;n<r.length;n++)i=Gx(this,i,r[n]);return s};A.prototype.reverse=function(){for(var t=this.head,e=this.tail,r=t;r!==null;r=r.prev){var n=r.prev;r.prev=r.next,r.next=n}return this.head=e,this.tail=t,this};function Gx(t,e,r){var n=e===t.head?new nr(r,null,e,t):new nr(r,e,e.next,t);return n.next===null&&(t.tail=n),n.prev===null&&(t.head=n),t.length++,n}function jx(t,e){t.tail=new nr(e,t.tail,null,t),t.head||(t.head=t.tail),t.length++}function zx(t,e){t.head=new nr(e,null,t.head,t),t.tail||(t.tail=t.head),t.length++}function nr(t,e,r,n){if(!(this instanceof nr))return new nr(t,e,r,n);this.list=n,this.value=t,e?(e.next=this,this.prev=e):this.prev=null,r?(r.prev=this,this.next=r):this.next=null}try{Zf()(A)}catch{}});var es=y((XN,od)=>{"use strict";var Ki=class{constructor(e,r){this.path=e||"./",this.absolute=r,this.entry=null,this.stat=null,this.readdir=null,this.pending=!1,this.ignore=!1,this.piped=!1}},{Minipass:Vx}=Pi(),Qf=wa(),Yx=$i(),Ja=qa(),Jx=Ja.Sync,Xx=Ja.Tar,Zx=Ua(),ed=Buffer.alloc(1024),Yi=Symbol("onStat"),zi=Symbol("ended"),rt=Symbol("queue"),kr=Symbol("current"),ir=Symbol("process"),Vi=Symbol("processing"),td=Symbol("processJob"),nt=Symbol("jobs"),Ma=Symbol("jobDone"),Ji=Symbol("addFSEntry"),rd=Symbol("addTarEntry"),ja=Symbol("stat"),za=Symbol("readdir"),Xi=Symbol("onreaddir"),Zi=Symbol("pipe"),nd=Symbol("entry"),Ha=Symbol("entryOpt"),Va=Symbol("writeEntryClass"),sd=Symbol("write"),Wa=Symbol("ondrain"),Qi=require("fs"),id=require("path"),Kx=Ui(),Ga=Nr(),Xa=Kx(class extends Vx{constructor(e){if(super(e),e=e||Object.create(null),this.opt=e,this.file=e.file||"",this.cwd=e.cwd||process.cwd(),this.maxReadSize=e.maxReadSize,this.preservePaths=!!e.preservePaths,this.strict=!!e.strict,this.noPax=!!e.noPax,this.prefix=Ga(e.prefix||""),this.linkCache=e.linkCache||new Map,this.statCache=e.statCache||new Map,this.readdirCache=e.readdirCache||new Map,this[Va]=Ja,typeof e.onwarn=="function"&&this.on("warn",e.onwarn),this.portable=!!e.portable,this.zip=null,e.gzip||e.brotli){if(e.gzip&&e.brotli)throw new TypeError("gzip and brotli are mutually exclusive");e.gzip&&(typeof e.gzip!="object"&&(e.gzip={}),this.portable&&(e.gzip.portable=!0),this.zip=new Qf.Gzip(e.gzip)),e.brotli&&(typeof e.brotli!="object"&&(e.brotli={}),this.zip=new Qf.BrotliCompress(e.brotli)),this.zip.on("data",r=>super.write(r)),this.zip.on("end",r=>super.end()),this.zip.on("drain",r=>this[Wa]()),this.on("resume",r=>this.zip.resume())}else this.on("drain",this[Wa]);this.noDirRecurse=!!e.noDirRecurse,this.follow=!!e.follow,this.noMtime=!!e.noMtime,this.mtime=e.mtime||null,this.filter=typeof e.filter=="function"?e.filter:r=>!0,this[rt]=new Zx,this[nt]=0,this.jobs=+e.jobs||4,this[Vi]=!1,this[zi]=!1}[sd](e){return super.write(e)}add(e){return this.write(e),this}end(e){return e&&this.write(e),this[zi]=!0,this[ir](),this}write(e){if(this[zi])throw new Error("write after end");return e instanceof Yx?this[rd](e):this[Ji](e),this.flowing}[rd](e){let r=Ga(id.resolve(this.cwd,e.path));if(!this.filter(e.path,e))e.resume();else{let n=new Ki(e.path,r,!1);n.entry=new Xx(e,this[Ha](n)),n.entry.on("end",i=>this[Ma](n)),this[nt]+=1,this[rt].push(n)}this[ir]()}[Ji](e){let r=Ga(id.resolve(this.cwd,e));this[rt].push(new Ki(e,r)),this[ir]()}[ja](e){e.pending=!0,this[nt]+=1;let r=this.follow?"stat":"lstat";Qi[r](e.absolute,(n,i)=>{e.pending=!1,this[nt]-=1,n?this.emit("error",n):this[Yi](e,i)})}[Yi](e,r){this.statCache.set(e.absolute,r),e.stat=r,this.filter(e.path,r)||(e.ignore=!0),this[ir]()}[za](e){e.pending=!0,this[nt]+=1,Qi.readdir(e.absolute,(r,n)=>{if(e.pending=!1,this[nt]-=1,r)return this.emit("error",r);this[Xi](e,n)})}[Xi](e,r){this.readdirCache.set(e.absolute,r),e.readdir=r,this[ir]()}[ir](){if(!this[Vi]){this[Vi]=!0;for(let e=this[rt].head;e!==null&&this[nt]<this.jobs;e=e.next)if(this[td](e.value),e.value.ignore){let r=e.next;this[rt].removeNode(e),e.next=r}this[Vi]=!1,this[zi]&&!this[rt].length&&this[nt]===0&&(this.zip?this.zip.end(ed):(super.write(ed),super.end()))}}get[kr](){return this[rt]&&this[rt].head&&this[rt].head.value}[Ma](e){this[rt].shift(),this[nt]-=1,this[ir]()}[td](e){if(!e.pending){if(e.entry){e===this[kr]&&!e.piped&&this[Zi](e);return}if(e.stat||(this.statCache.has(e.absolute)?this[Yi](e,this.statCache.get(e.absolute)):this[ja](e)),!!e.stat&&!e.ignore&&!(!this.noDirRecurse&&e.stat.isDirectory()&&!e.readdir&&(this.readdirCache.has(e.absolute)?this[Xi](e,this.readdirCache.get(e.absolute)):this[za](e),!e.readdir))){if(e.entry=this[nd](e),!e.entry){e.ignore=!0;return}e===this[kr]&&!e.piped&&this[Zi](e)}}}[Ha](e){return{onwarn:(r,n,i)=>this.warn(r,n,i),noPax:this.noPax,cwd:this.cwd,absolute:e.absolute,preservePaths:this.preservePaths,maxReadSize:this.maxReadSize,strict:this.strict,portable:this.portable,linkCache:this.linkCache,statCache:this.statCache,noMtime:this.noMtime,mtime:this.mtime,prefix:this.prefix}}[nd](e){this[nt]+=1;try{return new this[Va](e.path,this[Ha](e)).on("end",()=>this[Ma](e)).on("error",r=>this.emit("error",r))}catch(r){this.emit("error",r)}}[Wa](){this[kr]&&this[kr].entry&&this[kr].entry.resume()}[Zi](e){e.piped=!0,e.readdir&&e.readdir.forEach(i=>{let s=e.path,o=s==="./"?"":s.replace(/\/*$/,"/");this[Ji](o+i)});let r=e.entry,n=this.zip;n?r.on("data",i=>{n.write(i)||r.pause()}):r.on("data",i=>{super.write(i)||r.pause()})}pause(){return this.zip&&this.zip.pause(),super.pause()}}),Ya=class extends Xa{constructor(e){super(e),this[Va]=Jx}pause(){}resume(){}[ja](e){let r=this.follow?"statSync":"lstatSync";this[Yi](e,Qi[r](e.absolute))}[za](e,r){this[Xi](e,Qi.readdirSync(e.absolute))}[Zi](e){let r=e.entry,n=this.zip;e.readdir&&e.readdir.forEach(i=>{let s=e.path,o=s==="./"?"":s.replace(/\/*$/,"/");this[Ji](o+i)}),n?r.on("data",i=>{n.write(i)}):r.on("data",i=>{super[sd](i)})}};Xa.Sync=Ya;od.exports=Xa});var gd=y((ZN,md)=>{"use strict";var ad=typeof process=="object"&&process?process:{stdout:null,stderr:null},Qx=require("events"),cd=require("stream"),ld=require("string_decoder").StringDecoder,wt=Symbol("EOF"),yt=Symbol("maybeEmitEnd"),kt=Symbol("emittedEnd"),ts=Symbol("emittingEnd"),Nn=Symbol("emittedError"),rs=Symbol("closed"),ud=Symbol("read"),ns=Symbol("flush"),fd=Symbol("flushChunk"),ve=Symbol("encoding"),St=Symbol("decoder"),is=Symbol("flowing"),Dn=Symbol("paused"),Fr=Symbol("resume"),re=Symbol("bufferLength"),Za=Symbol("bufferPush"),Ka=Symbol("bufferShift"),ue=Symbol("objectMode"),fe=Symbol("destroyed"),Qa=Symbol("emitData"),dd=Symbol("emitEnd"),ec=Symbol("emitEnd2"),xt=Symbol("async"),On=t=>Promise.resolve().then(t),hd=global._MP_NO_ITERATOR_SYMBOLS_!=="1",e0=hd&&Symbol.asyncIterator||Symbol("asyncIterator not implemented"),t0=hd&&Symbol.iterator||Symbol("iterator not implemented"),r0=t=>t==="end"||t==="finish"||t==="prefinish",n0=t=>t instanceof ArrayBuffer||typeof t=="object"&&t.constructor&&t.constructor.name==="ArrayBuffer"&&t.byteLength>=0,i0=t=>!Buffer.isBuffer(t)&&ArrayBuffer.isView(t),ss=class{constructor(e,r,n){this.src=e,this.dest=r,this.opts=n,this.ondrain=()=>e[Fr](),r.on("drain",this.ondrain)}unpipe(){this.dest.removeListener("drain",this.ondrain)}proxyErrors(){}end(){this.unpipe(),this.opts.end&&this.dest.end()}},tc=class extends ss{unpipe(){this.src.removeListener("error",this.proxyErrors),super.unpipe()}constructor(e,r,n){super(e,r,n),this.proxyErrors=i=>r.emit("error",i),e.on("error",this.proxyErrors)}};md.exports=class pd extends cd{constructor(e){super(),this[is]=!1,this[Dn]=!1,this.pipes=[],this.buffer=[],this[ue]=e&&e.objectMode||!1,this[ue]?this[ve]=null:this[ve]=e&&e.encoding||null,this[ve]==="buffer"&&(this[ve]=null),this[xt]=e&&!!e.async||!1,this[St]=this[ve]?new ld(this[ve]):null,this[wt]=!1,this[kt]=!1,this[ts]=!1,this[rs]=!1,this[Nn]=null,this.writable=!0,this.readable=!0,this[re]=0,this[fe]=!1}get bufferLength(){return this[re]}get encoding(){return this[ve]}set encoding(e){if(this[ue])throw new Error("cannot set encoding in objectMode");if(this[ve]&&e!==this[ve]&&(this[St]&&this[St].lastNeed||this[re]))throw new Error("cannot change encoding");this[ve]!==e&&(this[St]=e?new ld(e):null,this.buffer.length&&(this.buffer=this.buffer.map(r=>this[St].write(r)))),this[ve]=e}setEncoding(e){this.encoding=e}get objectMode(){return this[ue]}set objectMode(e){this[ue]=this[ue]||!!e}get async(){return this[xt]}set async(e){this[xt]=this[xt]||!!e}write(e,r,n){if(this[wt])throw new Error("write after end");if(this[fe])return this.emit("error",Object.assign(new Error("Cannot call write after a stream was destroyed"),{code:"ERR_STREAM_DESTROYED"})),!0;typeof r=="function"&&(n=r,r="utf8"),r||(r="utf8");let i=this[xt]?On:s=>s();return!this[ue]&&!Buffer.isBuffer(e)&&(i0(e)?e=Buffer.from(e.buffer,e.byteOffset,e.byteLength):n0(e)?e=Buffer.from(e):typeof e!="string"&&(this.objectMode=!0)),this[ue]?(this.flowing&&this[re]!==0&&this[ns](!0),this.flowing?this.emit("data",e):this[Za](e),this[re]!==0&&this.emit("readable"),n&&i(n),this.flowing):e.length?(typeof e=="string"&&!(r===this[ve]&&!this[St].lastNeed)&&(e=Buffer.from(e,r)),Buffer.isBuffer(e)&&this[ve]&&(e=this[St].write(e)),this.flowing&&this[re]!==0&&this[ns](!0),this.flowing?this.emit("data",e):this[Za](e),this[re]!==0&&this.emit("readable"),n&&i(n),this.flowing):(this[re]!==0&&this.emit("readable"),n&&i(n),this.flowing)}read(e){if(this[fe])return null;if(this[re]===0||e===0||e>this[re])return this[yt](),null;this[ue]&&(e=null),this.buffer.length>1&&!this[ue]&&(this.encoding?this.buffer=[this.buffer.join("")]:this.buffer=[Buffer.concat(this.buffer,this[re])]);let r=this[ud](e||null,this.buffer[0]);return this[yt](),r}[ud](e,r){return e===r.length||e===null?this[Ka]():(this.buffer[0]=r.slice(e),r=r.slice(0,e),this[re]-=e),this.emit("data",r),!this.buffer.length&&!this[wt]&&this.emit("drain"),r}end(e,r,n){return typeof e=="function"&&(n=e,e=null),typeof r=="function"&&(n=r,r="utf8"),e&&this.write(e,r),n&&this.once("end",n),this[wt]=!0,this.writable=!1,(this.flowing||!this[Dn])&&this[yt](),this}[Fr](){this[fe]||(this[Dn]=!1,this[is]=!0,this.emit("resume"),this.buffer.length?this[ns]():this[wt]?this[yt]():this.emit("drain"))}resume(){return this[Fr]()}pause(){this[is]=!1,this[Dn]=!0}get destroyed(){return this[fe]}get flowing(){return this[is]}get paused(){return this[Dn]}[Za](e){this[ue]?this[re]+=1:this[re]+=e.length,this.buffer.push(e)}[Ka](){return this.buffer.length&&(this[ue]?this[re]-=1:this[re]-=this.buffer[0].length),this.buffer.shift()}[ns](e){do;while(this[fd](this[Ka]()));!e&&!this.buffer.length&&!this[wt]&&this.emit("drain")}[fd](e){return e?(this.emit("data",e),this.flowing):!1}pipe(e,r){if(this[fe])return;let n=this[kt];return r=r||{},e===ad.stdout||e===ad.stderr?r.end=!1:r.end=r.end!==!1,r.proxyErrors=!!r.proxyErrors,n?r.end&&e.end():(this.pipes.push(r.proxyErrors?new tc(this,e,r):new ss(this,e,r)),this[xt]?On(()=>this[Fr]()):this[Fr]()),e}unpipe(e){let r=this.pipes.find(n=>n.dest===e);r&&(this.pipes.splice(this.pipes.indexOf(r),1),r.unpipe())}addListener(e,r){return this.on(e,r)}on(e,r){let n=super.on(e,r);return e==="data"&&!this.pipes.length&&!this.flowing?this[Fr]():e==="readable"&&this[re]!==0?super.emit("readable"):r0(e)&&this[kt]?(super.emit(e),this.removeAllListeners(e)):e==="error"&&this[Nn]&&(this[xt]?On(()=>r.call(this,this[Nn])):r.call(this,this[Nn])),n}get emittedEnd(){return this[kt]}[yt](){!this[ts]&&!this[kt]&&!this[fe]&&this.buffer.length===0&&this[wt]&&(this[ts]=!0,this.emit("end"),this.emit("prefinish"),this.emit("finish"),this[rs]&&this.emit("close"),this[ts]=!1)}emit(e,r,...n){if(e!=="error"&&e!=="close"&&e!==fe&&this[fe])return;if(e==="data")return r?this[xt]?On(()=>this[Qa](r)):this[Qa](r):!1;if(e==="end")return this[dd]();if(e==="close"){if(this[rs]=!0,!this[kt]&&!this[fe])return;let s=super.emit("close");return this.removeAllListeners("close"),s}else if(e==="error"){this[Nn]=r;let s=super.emit("error",r);return this[yt](),s}else if(e==="resume"){let s=super.emit("resume");return this[yt](),s}else if(e==="finish"||e==="prefinish"){let s=super.emit(e);return this.removeAllListeners(e),s}let i=super.emit(e,r,...n);return this[yt](),i}[Qa](e){for(let n of this.pipes)n.dest.write(e)===!1&&this.pause();let r=super.emit("data",e);return this[yt](),r}[dd](){this[kt]||(this[kt]=!0,this.readable=!1,this[xt]?On(()=>this[ec]()):this[ec]())}[ec](){if(this[St]){let r=this[St].end();if(r){for(let n of this.pipes)n.dest.write(r);super.emit("data",r)}}for(let r of this.pipes)r.end();let e=super.emit("end");return this.removeAllListeners("end"),e}collect(){let e=[];this[ue]||(e.dataLength=0);let r=this.promise();return this.on("data",n=>{e.push(n),this[ue]||(e.dataLength+=n.length)}),r.then(()=>e)}concat(){return this[ue]?Promise.reject(new Error("cannot concat in objectMode")):this.collect().then(e=>this[ue]?Promise.reject(new Error("cannot concat in objectMode")):this[ve]?e.join(""):Buffer.concat(e,e.dataLength))}promise(){return new Promise((e,r)=>{this.on(fe,()=>r(new Error("stream destroyed"))),this.on("error",n=>r(n)),this.on("end",()=>e())})}[e0](){return{next:()=>{let r=this.read();if(r!==null)return Promise.resolve({done:!1,value:r});if(this[wt])return Promise.resolve({done:!0});let n=null,i=null,s=l=>{this.removeListener("data",o),this.removeListener("end",a),i(l)},o=l=>{this.removeListener("error",s),this.removeListener("end",a),this.pause(),n({value:l,done:!!this[wt]})},a=()=>{this.removeListener("error",s),this.removeListener("data",o),n({done:!0})},c=()=>s(new Error("stream destroyed"));return new Promise((l,u)=>{i=u,n=l,this.once(fe,c),this.once("error",s),this.once("end",a),this.once("data",o)})}}}[t0](){return{next:()=>{let r=this.read();return{value:r,done:r===null}}}}destroy(e){return this[fe]?(e?this.emit("error",e):this.emit(fe),this):(this[fe]=!0,this.buffer.length=0,this[re]=0,typeof this.close=="function"&&!this[rs]&&this.close(),e?this.emit("error",e):this.emit(fe),this)}static isStream(e){return!!e&&(e instanceof pd||e instanceof cd||e instanceof Qx&&(typeof e.pipe=="function"||typeof e.write=="function"&&typeof e.end=="function"))}}});var Gr=y(kn=>{"use strict";var s0=gd(),o0=require("events").EventEmitter,_e=require("fs"),ic=_e.writev;if(!ic){let t=process.binding("fs"),e=t.FSReqWrap||t.FSReqCallback;ic=(r,n,i,s)=>{let o=(c,l)=>s(c,l,n),a=new e;a.oncomplete=o,t.writeBuffers(r,n,i,a)}}var Hr=Symbol("_autoClose"),Ge=Symbol("_close"),An=Symbol("_ended"),$=Symbol("_fd"),Ed=Symbol("_finished"),$t=Symbol("_flags"),rc=Symbol("_flush"),sc=Symbol("_handleChunk"),oc=Symbol("_makeBuf"),us=Symbol("_mode"),os=Symbol("_needDrain"),Ur=Symbol("_onerror"),Wr=Symbol("_onopen"),nc=Symbol("_onread"),Br=Symbol("_onwrite"),Bt=Symbol("_open"),vt=Symbol("_path"),sr=Symbol("_pos"),it=Symbol("_queue"),qr=Symbol("_read"),wd=Symbol("_readSize"),Ft=Symbol("_reading"),as=Symbol("_remain"),yd=Symbol("_size"),cs=Symbol("_write"),$r=Symbol("_writing"),ls=Symbol("_defaultFlag"),Mr=Symbol("_errored"),fs=class extends s0{constructor(e,r){if(r=r||{},super(r),this.readable=!0,this.writable=!1,typeof e!="string")throw new TypeError("path must be a string");this[Mr]=!1,this[$]=typeof r.fd=="number"?r.fd:null,this[vt]=e,this[wd]=r.readSize||16*1024*1024,this[Ft]=!1,this[yd]=typeof r.size=="number"?r.size:1/0,this[as]=this[yd],this[Hr]=typeof r.autoClose=="boolean"?r.autoClose:!0,typeof this[$]=="number"?this[qr]():this[Bt]()}get fd(){return this[$]}get path(){return this[vt]}write(){throw new TypeError("this is a readable stream")}end(){throw new TypeError("this is a readable stream")}[Bt](){_e.open(this[vt],"r",(e,r)=>this[Wr](e,r))}[Wr](e,r){e?this[Ur](e):(this[$]=r,this.emit("open",r),this[qr]())}[oc](){return Buffer.allocUnsafe(Math.min(this[wd],this[as]))}[qr](){if(!this[Ft]){this[Ft]=!0;let e=this[oc]();if(e.length===0)return process.nextTick(()=>this[nc](null,0,e));_e.read(this[$],e,0,e.length,null,(r,n,i)=>this[nc](r,n,i))}}[nc](e,r,n){this[Ft]=!1,e?this[Ur](e):this[sc](r,n)&&this[qr]()}[Ge](){if(this[Hr]&&typeof this[$]=="number"){let e=this[$];this[$]=null,_e.close(e,r=>r?this.emit("error",r):this.emit("close"))}}[Ur](e){this[Ft]=!0,this[Ge](),this.emit("error",e)}[sc](e,r){let n=!1;return this[as]-=e,e>0&&(n=super.write(e<r.length?r.slice(0,e):r)),(e===0||this[as]<=0)&&(n=!1,this[Ge](),super.end()),n}emit(e,r){switch(e){case"prefinish":case"finish":break;case"drain":typeof this[$]=="number"&&this[qr]();break;case"error":return this[Mr]?void 0:(this[Mr]=!0,super.emit(e,r));default:return super.emit(e,r)}}},ac=class extends fs{[Bt](){let e=!0;try{this[Wr](null,_e.openSync(this[vt],"r")),e=!1}finally{e&&this[Ge]()}}[qr](){let e=!0;try{if(!this[Ft]){this[Ft]=!0;do{let r=this[oc](),n=r.length===0?0:_e.readSync(this[$],r,0,r.length,null);if(!this[sc](n,r))break}while(!0);this[Ft]=!1}e=!1}finally{e&&this[Ge]()}}[Ge](){if(this[Hr]&&typeof this[$]=="number"){let e=this[$];this[$]=null,_e.closeSync(e),this.emit("close")}}},ds=class extends o0{constructor(e,r){r=r||{},super(r),this.readable=!1,this.writable=!0,this[Mr]=!1,this[$r]=!1,this[An]=!1,this[os]=!1,this[it]=[],this[vt]=e,this[$]=typeof r.fd=="number"?r.fd:null,this[us]=r.mode===void 0?438:r.mode,this[sr]=typeof r.start=="number"?r.start:null,this[Hr]=typeof r.autoClose=="boolean"?r.autoClose:!0;let n=this[sr]!==null?"r+":"w";this[ls]=r.flags===void 0,this[$t]=this[ls]?n:r.flags,this[$]===null&&this[Bt]()}emit(e,r){if(e==="error"){if(this[Mr])return;this[Mr]=!0}return super.emit(e,r)}get fd(){return this[$]}get path(){return this[vt]}[Ur](e){this[Ge](),this[$r]=!0,this.emit("error",e)}[Bt](){_e.open(this[vt],this[$t],this[us],(e,r)=>this[Wr](e,r))}[Wr](e,r){this[ls]&&this[$t]==="r+"&&e&&e.code==="ENOENT"?(this[$t]="w",this[Bt]()):e?this[Ur](e):(this[$]=r,this.emit("open",r),this[rc]())}end(e,r){return e&&this.write(e,r),this[An]=!0,!this[$r]&&!this[it].length&&typeof this[$]=="number"&&this[Br](null,0),this}write(e,r){return typeof e=="string"&&(e=Buffer.from(e,r)),this[An]?(this.emit("error",new Error("write() after end()")),!1):this[$]===null||this[$r]||this[it].length?(this[it].push(e),this[os]=!0,!1):(this[$r]=!0,this[cs](e),!0)}[cs](e){_e.write(this[$],e,0,e.length,this[sr],(r,n)=>this[Br](r,n))}[Br](e,r){e?this[Ur](e):(this[sr]!==null&&(this[sr]+=r),this[it].length?this[rc]():(this[$r]=!1,this[An]&&!this[Ed]?(this[Ed]=!0,this[Ge](),this.emit("finish")):this[os]&&(this[os]=!1,this.emit("drain"))))}[rc](){if(this[it].length===0)this[An]&&this[Br](null,0);else if(this[it].length===1)this[cs](this[it].pop());else{let e=this[it];this[it]=[],ic(this[$],e,this[sr],(r,n)=>this[Br](r,n))}}[Ge](){if(this[Hr]&&typeof this[$]=="number"){let e=this[$];this[$]=null,_e.close(e,r=>r?this.emit("error",r):this.emit("close"))}}},cc=class extends ds{[Bt](){let e;if(this[ls]&&this[$t]==="r+")try{e=_e.openSync(this[vt],this[$t],this[us])}catch(r){if(r.code==="ENOENT")return this[$t]="w",this[Bt]();throw r}else e=_e.openSync(this[vt],this[$t],this[us]);this[Wr](null,e)}[Ge](){if(this[Hr]&&typeof this[$]=="number"){let e=this[$];this[$]=null,_e.closeSync(e),this.emit("close")}}[cs](e){let r=!0;try{this[Br](null,_e.writeSync(this[$],e,0,e.length,this[sr])),r=!1}finally{if(r)try{this[Ge]()}catch{}}}};kn.ReadStream=fs;kn.ReadStreamSync=ac;kn.WriteStream=ds;kn.WriteStreamSync=cc});var ys=y((eD,Cd)=>{"use strict";var a0=Ui(),Sd=Or(),c0=require("events"),l0=Ua(),u0=1024*1024,f0=$i(),xd=qi(),vd=wa(),{nextTick:d0}=require("process"),lc=Buffer.from([31,139]),De=Symbol("state"),or=Symbol("writeEntry"),_t=Symbol("readEntry"),uc=Symbol("nextEntry"),_d=Symbol("processEntry"),Oe=Symbol("extendedHeader"),Fn=Symbol("globalExtendedHeader"),qt=Symbol("meta"),bd=Symbol("emitMeta"),U=Symbol("buffer"),bt=Symbol("queue"),Ut=Symbol("ended"),Ld=Symbol("emittedEnd"),ar=Symbol("emit"),ne=Symbol("unzip"),hs=Symbol("consumeChunk"),ps=Symbol("consumeChunkSub"),fc=Symbol("consumeBody"),Rd=Symbol("consumeMeta"),Id=Symbol("consumeHeader"),ms=Symbol("consuming"),dc=Symbol("bufferConcat"),hc=Symbol("maybeEnd"),$n=Symbol("writing"),Mt=Symbol("aborted"),gs=Symbol("onDone"),cr=Symbol("sawValidEntry"),Es=Symbol("sawNullBlock"),ws=Symbol("sawEOF"),Pd=Symbol("closeStream"),h0=t=>!0;Cd.exports=a0(class extends c0{constructor(e){e=e||{},super(e),this.file=e.file||"",this[cr]=null,this.on(gs,n=>{(this[De]==="begin"||this[cr]===!1)&&this.warn("TAR_BAD_ARCHIVE","Unrecognized archive format")}),e.ondone?this.on(gs,e.ondone):this.on(gs,n=>{this.emit("prefinish"),this.emit("finish"),this.emit("end")}),this.strict=!!e.strict,this.maxMetaEntrySize=e.maxMetaEntrySize||u0,this.filter=typeof e.filter=="function"?e.filter:h0;let r=e.file&&(e.file.endsWith(".tar.br")||e.file.endsWith(".tbr"));this.brotli=!e.gzip&&e.brotli!==void 0?e.brotli:r?void 0:!1,this.writable=!0,this.readable=!1,this[bt]=new l0,this[U]=null,this[_t]=null,this[or]=null,this[De]="begin",this[qt]="",this[Oe]=null,this[Fn]=null,this[Ut]=!1,this[ne]=null,this[Mt]=!1,this[Es]=!1,this[ws]=!1,this.on("end",()=>this[Pd]()),typeof e.onwarn=="function"&&this.on("warn",e.onwarn),typeof e.onentry=="function"&&this.on("entry",e.onentry)}[Id](e,r){this[cr]===null&&(this[cr]=!1);let n;try{n=new Sd(e,r,this[Oe],this[Fn])}catch(i){return this.warn("TAR_ENTRY_INVALID",i)}if(n.nullBlock)this[Es]?(this[ws]=!0,this[De]==="begin"&&(this[De]="header"),this[ar]("eof")):(this[Es]=!0,this[ar]("nullBlock"));else if(this[Es]=!1,!n.cksumValid)this.warn("TAR_ENTRY_INVALID","checksum failure",{header:n});else if(!n.path)this.warn("TAR_ENTRY_INVALID","path is required",{header:n});else{let i=n.type;if(/^(Symbolic)?Link$/.test(i)&&!n.linkpath)this.warn("TAR_ENTRY_INVALID","linkpath required",{header:n});else if(!/^(Symbolic)?Link$/.test(i)&&n.linkpath)this.warn("TAR_ENTRY_INVALID","linkpath forbidden",{header:n});else{let s=this[or]=new f0(n,this[Oe],this[Fn]);if(!this[cr])if(s.remain){let o=()=>{s.invalid||(this[cr]=!0)};s.on("end",o)}else this[cr]=!0;s.meta?s.size>this.maxMetaEntrySize?(s.ignore=!0,this[ar]("ignoredEntry",s),this[De]="ignore",s.resume()):s.size>0&&(this[qt]="",s.on("data",o=>this[qt]+=o),this[De]="meta"):(this[Oe]=null,s.ignore=s.ignore||!this.filter(s.path,s),s.ignore?(this[ar]("ignoredEntry",s),this[De]=s.remain?"ignore":"header",s.resume()):(s.remain?this[De]="body":(this[De]="header",s.end()),this[_t]?this[bt].push(s):(this[bt].push(s),this[uc]())))}}}[Pd](){d0(()=>this.emit("close"))}[_d](e){let r=!0;return e?Array.isArray(e)?this.emit.apply(this,e):(this[_t]=e,this.emit("entry",e),e.emittedEnd||(e.on("end",n=>this[uc]()),r=!1)):(this[_t]=null,r=!1),r}[uc](){do;while(this[_d](this[bt].shift()));if(!this[bt].length){let e=this[_t];!e||e.flowing||e.size===e.remain?this[$n]||this.emit("drain"):e.once("drain",n=>this.emit("drain"))}}[fc](e,r){let n=this[or],i=n.blockRemain,s=i>=e.length&&r===0?e:e.slice(r,r+i);return n.write(s),n.blockRemain||(this[De]="header",this[or]=null,n.end()),s.length}[Rd](e,r){let n=this[or],i=this[fc](e,r);return this[or]||this[bd](n),i}[ar](e,r,n){!this[bt].length&&!this[_t]?this.emit(e,r,n):this[bt].push([e,r,n])}[bd](e){switch(this[ar]("meta",this[qt]),e.type){case"ExtendedHeader":case"OldExtendedHeader":this[Oe]=xd.parse(this[qt],this[Oe],!1);break;case"GlobalExtendedHeader":this[Fn]=xd.parse(this[qt],this[Fn],!0);break;case"NextFileHasLongPath":case"OldGnuLongPath":this[Oe]=this[Oe]||Object.create(null),this[Oe].path=this[qt].replace(/\0.*/,"");break;case"NextFileHasLongLinkpath":this[Oe]=this[Oe]||Object.create(null),this[Oe].linkpath=this[qt].replace(/\0.*/,"");break;default:throw new Error("unknown meta: "+e.type)}}abort(e){this[Mt]=!0,this.emit("abort",e),this.warn("TAR_ABORT",e,{recoverable:!1})}write(e){if(this[Mt])return;if((this[ne]===null||this.brotli===void 0&&this[ne]===!1)&&e){if(this[U]&&(e=Buffer.concat([this[U],e]),this[U]=null),e.length<lc.length)return this[U]=e,!0;for(let s=0;this[ne]===null&&s<lc.length;s++)e[s]!==lc[s]&&(this[ne]=!1);let i=this.brotli===void 0;if(this[ne]===!1&&i)if(e.length<512)if(this[Ut])this.brotli=!0;else return this[U]=e,!0;else try{new Sd(e.slice(0,512)),this.brotli=!1}catch{this.brotli=!0}if(this[ne]===null||this[ne]===!1&&this.brotli){let s=this[Ut];this[Ut]=!1,this[ne]=this[ne]===null?new vd.Unzip:new vd.BrotliDecompress,this[ne].on("data",a=>this[hs](a)),this[ne].on("error",a=>this.abort(a)),this[ne].on("end",a=>{this[Ut]=!0,this[hs]()}),this[$n]=!0;let o=this[ne][s?"end":"write"](e);return this[$n]=!1,o}}this[$n]=!0,this[ne]?this[ne].write(e):this[hs](e),this[$n]=!1;let n=this[bt].length?!1:this[_t]?this[_t].flowing:!0;return!n&&!this[bt].length&&this[_t].once("drain",i=>this.emit("drain")),n}[dc](e){e&&!this[Mt]&&(this[U]=this[U]?Buffer.concat([this[U],e]):e)}[hc](){if(this[Ut]&&!this[Ld]&&!this[Mt]&&!this[ms]){this[Ld]=!0;let e=this[or];if(e&&e.blockRemain){let r=this[U]?this[U].length:0;this.warn("TAR_BAD_ARCHIVE",`Truncated input (needed ${e.blockRemain} more bytes, only ${r} available)`,{entry:e}),this[U]&&e.write(this[U]),e.end()}this[ar](gs)}}[hs](e){if(this[ms])this[dc](e);else if(!e&&!this[U])this[hc]();else{if(this[ms]=!0,this[U]){this[dc](e);let r=this[U];this[U]=null,this[ps](r)}else this[ps](e);for(;this[U]&&this[U].length>=512&&!this[Mt]&&!this[ws];){let r=this[U];this[U]=null,this[ps](r)}this[ms]=!1}(!this[U]||this[Ut])&&this[hc]()}[ps](e){let r=0,n=e.length;for(;r+512<=n&&!this[Mt]&&!this[ws];)switch(this[De]){case"begin":case"header":this[Id](e,r),r+=512;break;case"ignore":case"body":r+=this[fc](e,r);break;case"meta":r+=this[Rd](e,r);break;default:throw new Error("invalid state: "+this[De])}r<n&&(this[U]?this[U]=Buffer.concat([e.slice(r),this[U]]):this[U]=e.slice(r))}end(e){this[Mt]||(this[ne]?this[ne].end(e):(this[Ut]=!0,this.brotli===void 0&&(e=e||Buffer.alloc(0)),this.write(e)))}})});var Ss=y((tD,Od)=>{"use strict";var p0=Rr(),Nd=ys(),jr=require("fs"),m0=Gr(),Td=require("path"),pc=Ar();Od.exports=(t,e,r)=>{typeof t=="function"?(r=t,e=null,t={}):Array.isArray(t)&&(e=t,t={}),typeof e=="function"&&(r=e,e=null),e?e=Array.from(e):e=[];let n=p0(t);if(n.sync&&typeof r=="function")throw new TypeError("callback not supported for sync tar functions");if(!n.file&&typeof r=="function")throw new TypeError("callback only supported with file option");return e.length&&E0(n,e),n.noResume||g0(n),n.file&&n.sync?w0(n):n.file?y0(n,r):Dd(n)};var g0=t=>{let e=t.onentry;t.onentry=e?r=>{e(r),r.resume()}:r=>r.resume()},E0=(t,e)=>{let r=new Map(e.map(s=>[pc(s),!0])),n=t.filter,i=(s,o)=>{let a=o||Td.parse(s).root||".",c=s===a?!1:r.has(s)?r.get(s):i(Td.dirname(s),a);return r.set(s,c),c};t.filter=n?(s,o)=>n(s,o)&&i(pc(s)):s=>i(pc(s))},w0=t=>{let e=Dd(t),r=t.file,n=!0,i;try{let s=jr.statSync(r),o=t.maxReadSize||16*1024*1024;if(s.size<o)e.end(jr.readFileSync(r));else{let a=0,c=Buffer.allocUnsafe(o);for(i=jr.openSync(r,"r");a<s.size;){let l=jr.readSync(i,c,0,o,a);a+=l,e.write(c.slice(0,l))}e.end()}n=!1}finally{if(n&&i)try{jr.closeSync(i)}catch{}}},y0=(t,e)=>{let r=new Nd(t),n=t.maxReadSize||16*1024*1024,i=t.file,s=new Promise((o,a)=>{r.on("error",a),r.on("end",o),jr.stat(i,(c,l)=>{if(c)a(c);else{let u=new m0.ReadStream(i,{readSize:n,size:l.size});u.on("error",a),u.pipe(r)}})});return e?s.then(e,e):s},Dd=t=>new Nd(t)});var qd=y((rD,Bd)=>{"use strict";var S0=Rr(),xs=es(),Ad=Gr(),kd=Ss(),Fd=require("path");Bd.exports=(t,e,r)=>{if(typeof e=="function"&&(r=e),Array.isArray(t)&&(e=t,t={}),!e||!Array.isArray(e)||!e.length)throw new TypeError("no files or directories specified");e=Array.from(e);let n=S0(t);if(n.sync&&typeof r=="function")throw new TypeError("callback not supported for sync tar functions");if(!n.file&&typeof r=="function")throw new TypeError("callback only supported with file option");return n.file&&n.sync?x0(n,e):n.file?v0(n,e,r):n.sync?_0(n,e):b0(n,e)};var x0=(t,e)=>{let r=new xs.Sync(t),n=new Ad.WriteStreamSync(t.file,{mode:t.mode||438});r.pipe(n),$d(r,e)},v0=(t,e,r)=>{let n=new xs(t),i=new Ad.WriteStream(t.file,{mode:t.mode||438});n.pipe(i);let s=new Promise((o,a)=>{i.on("error",a),i.on("close",o),n.on("error",a)});return mc(n,e),r?s.then(r,r):s},$d=(t,e)=>{e.forEach(r=>{r.charAt(0)==="@"?kd({file:Fd.resolve(t.cwd,r.slice(1)),sync:!0,noResume:!0,onentry:n=>t.add(n)}):t.add(r)}),t.end()},mc=(t,e)=>{for(;e.length;){let r=e.shift();if(r.charAt(0)==="@")return kd({file:Fd.resolve(t.cwd,r.slice(1)),noResume:!0,onentry:n=>t.add(n)}).then(n=>mc(t,e));t.add(r)}t.end()},_0=(t,e)=>{let r=new xs.Sync(t);return $d(r,e),r},b0=(t,e)=>{let r=new xs(t);return mc(r,e),r}});var gc=y((nD,zd)=>{"use strict";var L0=Rr(),Ud=es(),Ce=require("fs"),Md=Gr(),Hd=Ss(),Wd=require("path"),Gd=Or();zd.exports=(t,e,r)=>{let n=L0(t);if(!n.file)throw new TypeError("file is required");if(n.gzip||n.brotli||n.file.endsWith(".br")||n.file.endsWith(".tbr"))throw new TypeError("cannot append to compressed archives");if(!e||!Array.isArray(e)||!e.length)throw new TypeError("no files or directories specified");return e=Array.from(e),n.sync?R0(n,e):P0(n,e,r)};var R0=(t,e)=>{let r=new Ud.Sync(t),n=!0,i,s;try{try{i=Ce.openSync(t.file,"r+")}catch(c){if(c.code==="ENOENT")i=Ce.openSync(t.file,"w+");else throw c}let o=Ce.fstatSync(i),a=Buffer.alloc(512);e:for(s=0;s<o.size;s+=512){for(let u=0,d=0;u<512;u+=d){if(d=Ce.readSync(i,a,u,a.length-u,s+u),s===0&&a[0]===31&&a[1]===139)throw new Error("cannot append to compressed archives");if(!d)break e}let c=new Gd(a);if(!c.cksumValid)break;let l=512*Math.ceil(c.size/512);if(s+l+512>o.size)break;s+=l,t.mtimeCache&&t.mtimeCache.set(c.path,c.mtime)}n=!1,I0(t,r,s,i,e)}finally{if(n)try{Ce.closeSync(i)}catch{}}},I0=(t,e,r,n,i)=>{let s=new Md.WriteStreamSync(t.file,{fd:n,start:r});e.pipe(s),C0(e,i)},P0=(t,e,r)=>{e=Array.from(e);let n=new Ud(t),i=(o,a,c)=>{let l=(h,w)=>{h?Ce.close(o,g=>c(h)):c(null,w)},u=0;if(a===0)return l(null,0);let d=0,m=Buffer.alloc(512),f=(h,w)=>{if(h)return l(h);if(d+=w,d<512&&w)return Ce.read(o,m,d,m.length-d,u+d,f);if(u===0&&m[0]===31&&m[1]===139)return l(new Error("cannot append to compressed archives"));if(d<512)return l(null,u);let g=new Gd(m);if(!g.cksumValid)return l(null,u);let E=512*Math.ceil(g.size/512);if(u+E+512>a||(u+=E+512,u>=a))return l(null,u);t.mtimeCache&&t.mtimeCache.set(g.path,g.mtime),d=0,Ce.read(o,m,0,512,u,f)};Ce.read(o,m,0,512,u,f)},s=new Promise((o,a)=>{n.on("error",a);let c="r+",l=(u,d)=>{if(u&&u.code==="ENOENT"&&c==="r+")return c="w+",Ce.open(t.file,c,l);if(u)return a(u);Ce.fstat(d,(m,f)=>{if(m)return Ce.close(d,()=>a(m));i(d,f.size,(h,w)=>{if(h)return a(h);let g=new Md.WriteStream(t.file,{fd:d,start:w});n.pipe(g),g.on("error",a),g.on("close",o),jd(n,e)})})};Ce.open(t.file,c,l)});return r?s.then(r,r):s},C0=(t,e)=>{e.forEach(r=>{r.charAt(0)==="@"?Hd({file:Wd.resolve(t.cwd,r.slice(1)),sync:!0,noResume:!0,onentry:n=>t.add(n)}):t.add(r)}),t.end()},jd=(t,e)=>{for(;e.length;){let r=e.shift();if(r.charAt(0)==="@")return Hd({file:Wd.resolve(t.cwd,r.slice(1)),noResume:!0,onentry:n=>t.add(n)}).then(n=>jd(t,e));t.add(r)}t.end()}});var Yd=y((iD,Vd)=>{"use strict";var T0=Rr(),N0=gc();Vd.exports=(t,e,r)=>{let n=T0(t);if(!n.file)throw new TypeError("file is required");if(n.gzip||n.brotli||n.file.endsWith(".br")||n.file.endsWith(".tbr"))throw new TypeError("cannot append to compressed archives");if(!e||!Array.isArray(e)||!e.length)throw new TypeError("no files or directories specified");return e=Array.from(e),D0(n),N0(n,e,r)};var D0=t=>{let e=t.filter;t.mtimeCache||(t.mtimeCache=new Map),t.filter=e?(r,n)=>e(r,n)&&!(t.mtimeCache.get(r)>n.mtime):(r,n)=>!(t.mtimeCache.get(r)>n.mtime)}});var Zd=y((sD,Xd)=>{var{promisify:Jd}=require("util"),Ht=require("fs"),O0=t=>{if(!t)t={mode:511,fs:Ht};else if(typeof t=="object")t={mode:511,fs:Ht,...t};else if(typeof t=="number")t={mode:t,fs:Ht};else if(typeof t=="string")t={mode:parseInt(t,8),fs:Ht};else throw new TypeError("invalid options argument");return t.mkdir=t.mkdir||t.fs.mkdir||Ht.mkdir,t.mkdirAsync=Jd(t.mkdir),t.stat=t.stat||t.fs.stat||Ht.stat,t.statAsync=Jd(t.stat),t.statSync=t.statSync||t.fs.statSync||Ht.statSync,t.mkdirSync=t.mkdirSync||t.fs.mkdirSync||Ht.mkdirSync,t};Xd.exports=O0});var Qd=y((oD,Kd)=>{var A0=process.env.__TESTING_MKDIRP_PLATFORM__||process.platform,{resolve:k0,parse:F0}=require("path"),$0=t=>{if(/\0/.test(t))throw Object.assign(new TypeError("path must be a string without null bytes"),{path:t,code:"ERR_INVALID_ARG_VALUE"});if(t=k0(t),A0==="win32"){let e=/[*|"<>?:]/,{root:r}=F0(t);if(e.test(t.substr(r.length)))throw Object.assign(new Error("Illegal characters in path."),{path:t,code:"EINVAL"})}return t};Kd.exports=$0});var ih=y((aD,nh)=>{var{dirname:eh}=require("path"),th=(t,e,r=void 0)=>r===e?Promise.resolve():t.statAsync(e).then(n=>n.isDirectory()?r:void 0,n=>n.code==="ENOENT"?th(t,eh(e),e):void 0),rh=(t,e,r=void 0)=>{if(r!==e)try{return t.statSync(e).isDirectory()?r:void 0}catch(n){return n.code==="ENOENT"?rh(t,eh(e),e):void 0}};nh.exports={findMade:th,findMadeSync:rh}});var yc=y((cD,oh)=>{var{dirname:sh}=require("path"),Ec=(t,e,r)=>{e.recursive=!1;let n=sh(t);return n===t?e.mkdirAsync(t,e).catch(i=>{if(i.code!=="EISDIR")throw i}):e.mkdirAsync(t,e).then(()=>r||t,i=>{if(i.code==="ENOENT")return Ec(n,e).then(s=>Ec(t,e,s));if(i.code!=="EEXIST"&&i.code!=="EROFS")throw i;return e.statAsync(t).then(s=>{if(s.isDirectory())return r;throw i},()=>{throw i})})},wc=(t,e,r)=>{let n=sh(t);if(e.recursive=!1,n===t)try{return e.mkdirSync(t,e)}catch(i){if(i.code!=="EISDIR")throw i;return}try{return e.mkdirSync(t,e),r||t}catch(i){if(i.code==="ENOENT")return wc(t,e,wc(n,e,r));if(i.code!=="EEXIST"&&i.code!=="EROFS")throw i;try{if(!e.statSync(t).isDirectory())throw i}catch{throw i}}};oh.exports={mkdirpManual:Ec,mkdirpManualSync:wc}});var lh=y((lD,ch)=>{var{dirname:ah}=require("path"),{findMade:B0,findMadeSync:q0}=ih(),{mkdirpManual:U0,mkdirpManualSync:M0}=yc(),H0=(t,e)=>(e.recursive=!0,ah(t)===t?e.mkdirAsync(t,e):B0(e,t).then(n=>e.mkdirAsync(t,e).then(()=>n).catch(i=>{if(i.code==="ENOENT")return U0(t,e);throw i}))),W0=(t,e)=>{if(e.recursive=!0,ah(t)===t)return e.mkdirSync(t,e);let n=q0(e,t);try{return e.mkdirSync(t,e),n}catch(i){if(i.code==="ENOENT")return M0(t,e);throw i}};ch.exports={mkdirpNative:H0,mkdirpNativeSync:W0}});var hh=y((uD,dh)=>{var uh=require("fs"),G0=process.env.__TESTING_MKDIRP_NODE_VERSION__||process.version,Sc=G0.replace(/^v/,"").split("."),fh=+Sc[0]>10||+Sc[0]==10&&+Sc[1]>=12,j0=fh?t=>t.mkdir===uh.mkdir:()=>!1,z0=fh?t=>t.mkdirSync===uh.mkdirSync:()=>!1;dh.exports={useNative:j0,useNativeSync:z0}});var yh=y((fD,wh)=>{var zr=Zd(),Vr=Qd(),{mkdirpNative:ph,mkdirpNativeSync:mh}=lh(),{mkdirpManual:gh,mkdirpManualSync:Eh}=yc(),{useNative:V0,useNativeSync:Y0}=hh(),Yr=(t,e)=>(t=Vr(t),e=zr(e),V0(e)?ph(t,e):gh(t,e)),J0=(t,e)=>(t=Vr(t),e=zr(e),Y0(e)?mh(t,e):Eh(t,e));Yr.sync=J0;Yr.native=(t,e)=>ph(Vr(t),zr(e));Yr.manual=(t,e)=>gh(Vr(t),zr(e));Yr.nativeSync=(t,e)=>mh(Vr(t),zr(e));Yr.manualSync=(t,e)=>Eh(Vr(t),zr(e));wh.exports=Yr});var Rh=y((dD,Lh)=>{"use strict";var Ae=require("fs"),lr=require("path"),X0=Ae.lchown?"lchown":"chown",Z0=Ae.lchownSync?"lchownSync":"chownSync",xh=Ae.lchown&&!process.version.match(/v1[1-9]+\./)&&!process.version.match(/v10\.[6-9]/),Sh=(t,e,r)=>{try{return Ae[Z0](t,e,r)}catch(n){if(n.code!=="ENOENT")throw n}},K0=(t,e,r)=>{try{return Ae.chownSync(t,e,r)}catch(n){if(n.code!=="ENOENT")throw n}},Q0=xh?(t,e,r,n)=>i=>{!i||i.code!=="EISDIR"?n(i):Ae.chown(t,e,r,n)}:(t,e,r,n)=>n,xc=xh?(t,e,r)=>{try{return Sh(t,e,r)}catch(n){if(n.code!=="EISDIR")throw n;K0(t,e,r)}}:(t,e,r)=>Sh(t,e,r),ev=process.version,vh=(t,e,r)=>Ae.readdir(t,e,r),tv=(t,e)=>Ae.readdirSync(t,e);/^v4\./.test(ev)&&(vh=(t,e,r)=>Ae.readdir(t,r));var vs=(t,e,r,n)=>{Ae[X0](t,e,r,Q0(t,e,r,i=>{n(i&&i.code!=="ENOENT"?i:null)}))},_h=(t,e,r,n,i)=>{if(typeof e=="string")return Ae.lstat(lr.resolve(t,e),(s,o)=>{if(s)return i(s.code!=="ENOENT"?s:null);o.name=e,_h(t,o,r,n,i)});if(e.isDirectory())vc(lr.resolve(t,e.name),r,n,s=>{if(s)return i(s);let o=lr.resolve(t,e.name);vs(o,r,n,i)});else{let s=lr.resolve(t,e.name);vs(s,r,n,i)}},vc=(t,e,r,n)=>{vh(t,{withFileTypes:!0},(i,s)=>{if(i){if(i.code==="ENOENT")return n();if(i.code!=="ENOTDIR"&&i.code!=="ENOTSUP")return n(i)}if(i||!s.length)return vs(t,e,r,n);let o=s.length,a=null,c=l=>{if(!a){if(l)return n(a=l);if(--o===0)return vs(t,e,r,n)}};s.forEach(l=>_h(t,l,e,r,c))})},rv=(t,e,r,n)=>{if(typeof e=="string")try{let i=Ae.lstatSync(lr.resolve(t,e));i.name=e,e=i}catch(i){if(i.code==="ENOENT")return;throw i}e.isDirectory()&&bh(lr.resolve(t,e.name),r,n),xc(lr.resolve(t,e.name),r,n)},bh=(t,e,r)=>{let n;try{n=tv(t,{withFileTypes:!0})}catch(i){if(i.code==="ENOENT")return;if(i.code==="ENOTDIR"||i.code==="ENOTSUP")return xc(t,e,r);throw i}return n&&n.length&&n.forEach(i=>rv(t,i,e,r)),xc(t,e,r)};Lh.exports=vc;vc.sync=bh});var Th=y((hD,_c)=>{"use strict";var Ih=yh(),ke=require("fs"),_s=require("path"),Ph=Rh(),je=Nr(),bs=class extends Error{constructor(e,r){super("Cannot extract through symbolic link"),this.path=r,this.symlink=e}get name(){return"SylinkError"}},Ls=class extends Error{constructor(e,r){super(r+": Cannot cd into '"+e+"'"),this.path=e,this.code=r}get name(){return"CwdError"}},Rs=(t,e)=>t.get(je(e)),Bn=(t,e,r)=>t.set(je(e),r),nv=(t,e)=>{ke.stat(t,(r,n)=>{(r||!n.isDirectory())&&(r=new Ls(t,r&&r.code||"ENOTDIR")),e(r)})};_c.exports=(t,e,r)=>{t=je(t);let n=e.umask,i=e.mode|448,s=(i&n)!==0,o=e.uid,a=e.gid,c=typeof o=="number"&&typeof a=="number"&&(o!==e.processUid||a!==e.processGid),l=e.preserve,u=e.unlink,d=e.cache,m=je(e.cwd),f=(g,E)=>{g?r(g):(Bn(d,t,!0),E&&c?Ph(E,o,a,x=>f(x)):s?ke.chmod(t,i,r):r())};if(d&&Rs(d,t)===!0)return f();if(t===m)return nv(t,f);if(l)return Ih(t,{mode:i}).then(g=>f(null,g),f);let w=je(_s.relative(m,t)).split("/");Is(m,w,i,d,u,m,null,f)};var Is=(t,e,r,n,i,s,o,a)=>{if(!e.length)return a(null,o);let c=e.shift(),l=je(_s.resolve(t+"/"+c));if(Rs(n,l))return Is(l,e,r,n,i,s,o,a);ke.mkdir(l,r,Ch(l,e,r,n,i,s,o,a))},Ch=(t,e,r,n,i,s,o,a)=>c=>{c?ke.lstat(t,(l,u)=>{if(l)l.path=l.path&&je(l.path),a(l);else if(u.isDirectory())Is(t,e,r,n,i,s,o,a);else if(i)ke.unlink(t,d=>{if(d)return a(d);ke.mkdir(t,r,Ch(t,e,r,n,i,s,o,a))});else{if(u.isSymbolicLink())return a(new bs(t,t+"/"+e.join("/")));a(c)}}):(o=o||t,Is(t,e,r,n,i,s,o,a))},iv=t=>{let e=!1,r="ENOTDIR";try{e=ke.statSync(t).isDirectory()}catch(n){r=n.code}finally{if(!e)throw new Ls(t,r)}};_c.exports.sync=(t,e)=>{t=je(t);let r=e.umask,n=e.mode|448,i=(n&r)!==0,s=e.uid,o=e.gid,a=typeof s=="number"&&typeof o=="number"&&(s!==e.processUid||o!==e.processGid),c=e.preserve,l=e.unlink,u=e.cache,d=je(e.cwd),m=g=>{Bn(u,t,!0),g&&a&&Ph.sync(g,s,o),i&&ke.chmodSync(t,n)};if(u&&Rs(u,t)===!0)return m();if(t===d)return iv(d),m();if(c)return m(Ih.sync(t,n));let h=je(_s.relative(d,t)).split("/"),w=null;for(let g=h.shift(),E=d;g&&(E+="/"+g);g=h.shift())if(E=je(_s.resolve(E)),!Rs(u,E))try{ke.mkdirSync(E,n),w=w||E,Bn(u,E,!0)}catch{let p=ke.lstatSync(E);if(p.isDirectory()){Bn(u,E,!0);continue}else if(l){ke.unlinkSync(E),ke.mkdirSync(E,n),w=w||E,Bn(u,E,!0);continue}else if(p.isSymbolicLink())return new bs(E,E+"/"+h.join("/"))}return m(w)}});var Lc=y((pD,Nh)=>{var bc=Object.create(null),{hasOwnProperty:sv}=Object.prototype;Nh.exports=t=>(sv.call(bc,t)||(bc[t]=t.normalize("NFD")),bc[t])});var kh=y((mD,Ah)=>{var Dh=require("assert"),ov=Lc(),av=Ar(),{join:Oh}=require("path"),cv=process.env.TESTING_TAR_FAKE_PLATFORM||process.platform,lv=cv==="win32";Ah.exports=()=>{let t=new Map,e=new Map,r=l=>l.split("/").slice(0,-1).reduce((d,m)=>(d.length&&(m=Oh(d[d.length-1],m)),d.push(m||"/"),d),[]),n=new Set,i=l=>{let u=e.get(l);if(!u)throw new Error("function does not have any path reservations");return{paths:u.paths.map(d=>t.get(d)),dirs:[...u.dirs].map(d=>t.get(d))}},s=l=>{let{paths:u,dirs:d}=i(l);return u.every(m=>m[0]===l)&&d.every(m=>m[0]instanceof Set&&m[0].has(l))},o=l=>n.has(l)||!s(l)?!1:(n.add(l),l(()=>a(l)),!0),a=l=>{if(!n.has(l))return!1;let{paths:u,dirs:d}=e.get(l),m=new Set;return u.forEach(f=>{let h=t.get(f);Dh.equal(h[0],l),h.length===1?t.delete(f):(h.shift(),typeof h[0]=="function"?m.add(h[0]):h[0].forEach(w=>m.add(w)))}),d.forEach(f=>{let h=t.get(f);Dh(h[0]instanceof Set),h[0].size===1&&h.length===1?t.delete(f):h[0].size===1?(h.shift(),m.add(h[0])):h[0].delete(l)}),n.delete(l),m.forEach(f=>o(f)),!0};return{check:s,reserve:(l,u)=>{l=lv?["win32 parallelization disabled"]:l.map(m=>av(Oh(ov(m))).toLowerCase());let d=new Set(l.map(m=>r(m)).reduce((m,f)=>m.concat(f)));return e.set(u,{dirs:d,paths:l}),l.forEach(m=>{let f=t.get(m);f?f.push(u):t.set(m,[u])}),d.forEach(m=>{let f=t.get(m);f?f[f.length-1]instanceof Set?f[f.length-1].add(u):f.push(new Set([u])):t.set(m,[new Set([u])])}),o(u)}}}});var Bh=y((gD,$h)=>{var uv=process.env.__FAKE_PLATFORM__||process.platform,fv=uv==="win32",dv=global.__FAKE_TESTING_FS__||require("fs"),{O_CREAT:hv,O_TRUNC:pv,O_WRONLY:mv,UV_FS_O_FILEMAP:Fh=0}=dv.constants,gv=fv&&!!Fh,Ev=512*1024,wv=Fh|pv|hv|mv;$h.exports=gv?t=>t<Ev?wv:"w":()=>"w"});var Ac=y((ED,Kh)=>{"use strict";var yv=require("assert"),Sv=ys(),k=require("fs"),xv=Gr(),Lt=require("path"),Jh=Th(),qh=Pa(),vv=kh(),_v=Ca(),Fe=Nr(),bv=Ar(),Lv=Lc(),Uh=Symbol("onEntry"),Pc=Symbol("checkFs"),Mh=Symbol("checkFs2"),Ts=Symbol("pruneCache"),Cc=Symbol("isReusable"),$e=Symbol("makeFs"),Tc=Symbol("file"),Nc=Symbol("directory"),Ns=Symbol("link"),Hh=Symbol("symlink"),Wh=Symbol("hardlink"),Gh=Symbol("unsupported"),jh=Symbol("checkPath"),Wt=Symbol("mkdir"),de=Symbol("onError"),Ps=Symbol("pending"),zh=Symbol("pend"),Jr=Symbol("unpend"),Rc=Symbol("ended"),Ic=Symbol("maybeClose"),Dc=Symbol("skip"),qn=Symbol("doChown"),Un=Symbol("uid"),Mn=Symbol("gid"),Hn=Symbol("checkedCwd"),Xh=require("crypto"),Zh=Bh(),Rv=process.env.TESTING_TAR_FAKE_PLATFORM||process.platform,Wn=Rv==="win32",Iv=1024,Pv=(t,e)=>{if(!Wn)return k.unlink(t,e);let r=t+".DELETE."+Xh.randomBytes(16).toString("hex");k.rename(t,r,n=>{if(n)return e(n);k.unlink(r,e)})},Cv=t=>{if(!Wn)return k.unlinkSync(t);let e=t+".DELETE."+Xh.randomBytes(16).toString("hex");k.renameSync(t,e),k.unlinkSync(e)},Vh=(t,e,r)=>t===t>>>0?t:e===e>>>0?e:r,Yh=t=>bv(Fe(Lv(t))).toLowerCase(),Tv=(t,e)=>{e=Yh(e);for(let r of t.keys()){let n=Yh(r);(n===e||n.indexOf(e+"/")===0)&&t.delete(r)}},Nv=t=>{for(let e of t.keys())t.delete(e)},Gn=class extends Sv{constructor(e){if(e||(e={}),e.ondone=r=>{this[Rc]=!0,this[Ic]()},super(e),this[Hn]=!1,this.reservations=vv(),this.transform=typeof e.transform=="function"?e.transform:null,this.writable=!0,this.readable=!1,this[Ps]=0,this[Rc]=!1,this.dirCache=e.dirCache||new Map,typeof e.uid=="number"||typeof e.gid=="number"){if(typeof e.uid!="number"||typeof e.gid!="number")throw new TypeError("cannot set owner without number uid and gid");if(e.preserveOwner)throw new TypeError("cannot preserve owner in archive and also set owner explicitly");this.uid=e.uid,this.gid=e.gid,this.setOwner=!0}else this.uid=null,this.gid=null,this.setOwner=!1;e.preserveOwner===void 0&&typeof e.uid!="number"?this.preserveOwner=process.getuid&&process.getuid()===0:this.preserveOwner=!!e.preserveOwner,this.processUid=(this.preserveOwner||this.setOwner)&&process.getuid?process.getuid():null,this.processGid=(this.preserveOwner||this.setOwner)&&process.getgid?process.getgid():null,this.maxDepth=typeof e.maxDepth=="number"?e.maxDepth:Iv,this.forceChown=e.forceChown===!0,this.win32=!!e.win32||Wn,this.newer=!!e.newer,this.keep=!!e.keep,this.noMtime=!!e.noMtime,this.preservePaths=!!e.preservePaths,this.unlink=!!e.unlink,this.cwd=Fe(Lt.resolve(e.cwd||process.cwd())),this.strip=+e.strip||0,this.processUmask=e.noChmod?0:process.umask(),this.umask=typeof e.umask=="number"?e.umask:this.processUmask,this.dmode=e.dmode||511&~this.umask,this.fmode=e.fmode||438&~this.umask,this.on("entry",r=>this[Uh](r))}warn(e,r,n={}){return(e==="TAR_BAD_ARCHIVE"||e==="TAR_ABORT")&&(n.recoverable=!1),super.warn(e,r,n)}[Ic](){this[Rc]&&this[Ps]===0&&(this.emit("prefinish"),this.emit("finish"),this.emit("end"))}[jh](e){let r=Fe(e.path),n=r.split("/");if(this.strip){if(n.length<this.strip)return!1;if(e.type==="Link"){let i=Fe(e.linkpath).split("/");if(i.length>=this.strip)e.linkpath=i.slice(this.strip).join("/");else return!1}n.splice(0,this.strip),e.path=n.join("/")}if(isFinite(this.maxDepth)&&n.length>this.maxDepth)return this.warn("TAR_ENTRY_ERROR","path excessively deep",{entry:e,path:r,depth:n.length,maxDepth:this.maxDepth}),!1;if(!this.preservePaths){if(n.includes("..")||Wn&&/^[a-z]:\.\.$/i.test(n[0]))return this.warn("TAR_ENTRY_ERROR","path contains '..'",{entry:e,path:r}),!1;let[i,s]=_v(r);i&&(e.path=s,this.warn("TAR_ENTRY_INFO",`stripping ${i} from absolute path`,{entry:e,path:r}))}if(Lt.isAbsolute(e.path)?e.absolute=Fe(Lt.resolve(e.path)):e.absolute=Fe(Lt.resolve(this.cwd,e.path)),!this.preservePaths&&e.absolute.indexOf(this.cwd+"/")!==0&&e.absolute!==this.cwd)return this.warn("TAR_ENTRY_ERROR","path escaped extraction target",{entry:e,path:Fe(e.path),resolvedPath:e.absolute,cwd:this.cwd}),!1;if(e.absolute===this.cwd&&e.type!=="Directory"&&e.type!=="GNUDumpDir")return!1;if(this.win32){let{root:i}=Lt.win32.parse(e.absolute);e.absolute=i+qh.encode(e.absolute.slice(i.length));let{root:s}=Lt.win32.parse(e.path);e.path=s+qh.encode(e.path.slice(s.length))}return!0}[Uh](e){if(!this[jh](e))return e.resume();switch(yv.equal(typeof e.absolute,"string"),e.type){case"Directory":case"GNUDumpDir":e.mode&&(e.mode=e.mode|448);case"File":case"OldFile":case"ContiguousFile":case"Link":case"SymbolicLink":return this[Pc](e);case"CharacterDevice":case"BlockDevice":case"FIFO":default:return this[Gh](e)}}[de](e,r){e.name==="CwdError"?this.emit("error",e):(this.warn("TAR_ENTRY_ERROR",e,{entry:r}),this[Jr](),r.resume())}[Wt](e,r,n){Jh(Fe(e),{uid:this.uid,gid:this.gid,processUid:this.processUid,processGid:this.processGid,umask:this.processUmask,preserve:this.preservePaths,unlink:this.unlink,cache:this.dirCache,cwd:this.cwd,mode:r,noChmod:this.noChmod},n)}[qn](e){return this.forceChown||this.preserveOwner&&(typeof e.uid=="number"&&e.uid!==this.processUid||typeof e.gid=="number"&&e.gid!==this.processGid)||typeof this.uid=="number"&&this.uid!==this.processUid||typeof this.gid=="number"&&this.gid!==this.processGid}[Un](e){return Vh(this.uid,e.uid,this.processUid)}[Mn](e){return Vh(this.gid,e.gid,this.processGid)}[Tc](e,r){let n=e.mode&4095||this.fmode,i=new xv.WriteStream(e.absolute,{flags:Zh(e.size),mode:n,autoClose:!1});i.on("error",c=>{i.fd&&k.close(i.fd,()=>{}),i.write=()=>!0,this[de](c,e),r()});let s=1,o=c=>{if(c){i.fd&&k.close(i.fd,()=>{}),this[de](c,e),r();return}--s===0&&k.close(i.fd,l=>{l?this[de](l,e):this[Jr](),r()})};i.on("finish",c=>{let l=e.absolute,u=i.fd;if(e.mtime&&!this.noMtime){s++;let d=e.atime||new Date,m=e.mtime;k.futimes(u,d,m,f=>f?k.utimes(l,d,m,h=>o(h&&f)):o())}if(this[qn](e)){s++;let d=this[Un](e),m=this[Mn](e);k.fchown(u,d,m,f=>f?k.chown(l,d,m,h=>o(h&&f)):o())}o()});let a=this.transform&&this.transform(e)||e;a!==e&&(a.on("error",c=>{this[de](c,e),r()}),e.pipe(a)),a.pipe(i)}[Nc](e,r){let n=e.mode&4095||this.dmode;this[Wt](e.absolute,n,i=>{if(i){this[de](i,e),r();return}let s=1,o=a=>{--s===0&&(r(),this[Jr](),e.resume())};e.mtime&&!this.noMtime&&(s++,k.utimes(e.absolute,e.atime||new Date,e.mtime,o)),this[qn](e)&&(s++,k.chown(e.absolute,this[Un](e),this[Mn](e),o)),o()})}[Gh](e){e.unsupported=!0,this.warn("TAR_ENTRY_UNSUPPORTED",`unsupported entry type: ${e.type}`,{entry:e}),e.resume()}[Hh](e,r){this[Ns](e,e.linkpath,"symlink",r)}[Wh](e,r){let n=Fe(Lt.resolve(this.cwd,e.linkpath));this[Ns](e,n,"link",r)}[zh](){this[Ps]++}[Jr](){this[Ps]--,this[Ic]()}[Dc](e){this[Jr](),e.resume()}[Cc](e,r){return e.type==="File"&&!this.unlink&&r.isFile()&&r.nlink<=1&&!Wn}[Pc](e){this[zh]();let r=[e.path];e.linkpath&&r.push(e.linkpath),this.reservations.reserve(r,n=>this[Mh](e,n))}[Ts](e){e.type==="SymbolicLink"?Nv(this.dirCache):e.type!=="Directory"&&Tv(this.dirCache,e.absolute)}[Mh](e,r){this[Ts](e);let n=a=>{this[Ts](e),r(a)},i=()=>{this[Wt](this.cwd,this.dmode,a=>{if(a){this[de](a,e),n();return}this[Hn]=!0,s()})},s=()=>{if(e.absolute!==this.cwd){let a=Fe(Lt.dirname(e.absolute));if(a!==this.cwd)return this[Wt](a,this.dmode,c=>{if(c){this[de](c,e),n();return}o()})}o()},o=()=>{k.lstat(e.absolute,(a,c)=>{if(c&&(this.keep||this.newer&&c.mtime>e.mtime)){this[Dc](e),n();return}if(a||this[Cc](e,c))return this[$e](null,e,n);if(c.isDirectory()){if(e.type==="Directory"){let l=!this.noChmod&&e.mode&&(c.mode&4095)!==e.mode,u=d=>this[$e](d,e,n);return l?k.chmod(e.absolute,e.mode,u):u()}if(e.absolute!==this.cwd)return k.rmdir(e.absolute,l=>this[$e](l,e,n))}if(e.absolute===this.cwd)return this[$e](null,e,n);Pv(e.absolute,l=>this[$e](l,e,n))})};this[Hn]?s():i()}[$e](e,r,n){if(e){this[de](e,r),n();return}switch(r.type){case"File":case"OldFile":case"ContiguousFile":return this[Tc](r,n);case"Link":return this[Wh](r,n);case"SymbolicLink":return this[Hh](r,n);case"Directory":case"GNUDumpDir":return this[Nc](r,n)}}[Ns](e,r,n,i){k[n](r,e.absolute,s=>{s?this[de](s,e):(this[Jr](),e.resume()),i()})}},Cs=t=>{try{return[null,t()]}catch(e){return[e,null]}},Oc=class extends Gn{[$e](e,r){return super[$e](e,r,()=>{})}[Pc](e){if(this[Ts](e),!this[Hn]){let s=this[Wt](this.cwd,this.dmode);if(s)return this[de](s,e);this[Hn]=!0}if(e.absolute!==this.cwd){let s=Fe(Lt.dirname(e.absolute));if(s!==this.cwd){let o=this[Wt](s,this.dmode);if(o)return this[de](o,e)}}let[r,n]=Cs(()=>k.lstatSync(e.absolute));if(n&&(this.keep||this.newer&&n.mtime>e.mtime))return this[Dc](e);if(r||this[Cc](e,n))return this[$e](null,e);if(n.isDirectory()){if(e.type==="Directory"){let o=!this.noChmod&&e.mode&&(n.mode&4095)!==e.mode,[a]=o?Cs(()=>{k.chmodSync(e.absolute,e.mode)}):[];return this[$e](a,e)}let[s]=Cs(()=>k.rmdirSync(e.absolute));this[$e](s,e)}let[i]=e.absolute===this.cwd?[]:Cs(()=>Cv(e.absolute));this[$e](i,e)}[Tc](e,r){let n=e.mode&4095||this.fmode,i=a=>{let c;try{k.closeSync(s)}catch(l){c=l}(a||c)&&this[de](a||c,e),r()},s;try{s=k.openSync(e.absolute,Zh(e.size),n)}catch(a){return i(a)}let o=this.transform&&this.transform(e)||e;o!==e&&(o.on("error",a=>this[de](a,e)),e.pipe(o)),o.on("data",a=>{try{k.writeSync(s,a,0,a.length)}catch(c){i(c)}}),o.on("end",a=>{let c=null;if(e.mtime&&!this.noMtime){let l=e.atime||new Date,u=e.mtime;try{k.futimesSync(s,l,u)}catch(d){try{k.utimesSync(e.absolute,l,u)}catch{c=d}}}if(this[qn](e)){let l=this[Un](e),u=this[Mn](e);try{k.fchownSync(s,l,u)}catch(d){try{k.chownSync(e.absolute,l,u)}catch{c=c||d}}}i(c)})}[Nc](e,r){let n=e.mode&4095||this.dmode,i=this[Wt](e.absolute,n);if(i){this[de](i,e),r();return}if(e.mtime&&!this.noMtime)try{k.utimesSync(e.absolute,e.atime||new Date,e.mtime)}catch{}if(this[qn](e))try{k.chownSync(e.absolute,this[Un](e),this[Mn](e))}catch{}r(),e.resume()}[Wt](e,r){try{return Jh.sync(Fe(e),{uid:this.uid,gid:this.gid,processUid:this.processUid,processGid:this.processGid,umask:this.processUmask,preserve:this.preservePaths,unlink:this.unlink,cache:this.dirCache,cwd:this.cwd,mode:r})}catch(n){return n}}[Ns](e,r,n,i){try{k[n+"Sync"](r,e.absolute),i(),e.resume()}catch(s){return this[de](s,e)}}};Gn.Sync=Oc;Kh.exports=Gn});var np=y((wD,rp)=>{"use strict";var Dv=Rr(),Ds=Ac(),ep=require("fs"),tp=Gr(),Qh=require("path"),kc=Ar();rp.exports=(t,e,r)=>{typeof t=="function"?(r=t,e=null,t={}):Array.isArray(t)&&(e=t,t={}),typeof e=="function"&&(r=e,e=null),e?e=Array.from(e):e=[];let n=Dv(t);if(n.sync&&typeof r=="function")throw new TypeError("callback not supported for sync tar functions");if(!n.file&&typeof r=="function")throw new TypeError("callback only supported with file option");return e.length&&Ov(n,e),n.file&&n.sync?Av(n):n.file?kv(n,r):n.sync?Fv(n):$v(n)};var Ov=(t,e)=>{let r=new Map(e.map(s=>[kc(s),!0])),n=t.filter,i=(s,o)=>{let a=o||Qh.parse(s).root||".",c=s===a?!1:r.has(s)?r.get(s):i(Qh.dirname(s),a);return r.set(s,c),c};t.filter=n?(s,o)=>n(s,o)&&i(kc(s)):s=>i(kc(s))},Av=t=>{let e=new Ds.Sync(t),r=t.file,n=ep.statSync(r),i=t.maxReadSize||16*1024*1024;new tp.ReadStreamSync(r,{readSize:i,size:n.size}).pipe(e)},kv=(t,e)=>{let r=new Ds(t),n=t.maxReadSize||16*1024*1024,i=t.file,s=new Promise((o,a)=>{r.on("error",a),r.on("close",o),ep.stat(i,(c,l)=>{if(c)a(c);else{let u=new tp.ReadStream(i,{readSize:n,size:l.size});u.on("error",a),u.pipe(r)}})});return e?s.then(e,e):s},Fv=t=>new Ds.Sync(t),$v=t=>new Ds(t)});var Fc=y(K=>{"use strict";K.c=K.create=qd();K.r=K.replace=gc();K.t=K.list=Ss();K.u=K.update=Yd();K.x=K.extract=np();K.Pack=es();K.Unpack=Ac();K.Parse=ys();K.ReadEntry=$i();K.WriteEntry=qa();K.Header=Or();K.Pax=qi();K.types=xa()});var $c=y((SD,ip)=>{ip.exports=function(e,r,n){e(r),n&&n(r===!0?null:r)}});var Os=y((xD,op)=>{"use strict";var sp=$c();op.exports=function(e,r){if(!e)return function(i,s){return i?sp(s,i,r):s(!0)};Array.isArray(e)||(e=Object.keys(e).map(function(i){return e[i]}));var n=0;return function(i,s){if(i)return sp(s,i,r);n>=e.length?s(!0):s(null,e[n++])}}});var cp=y((vD,ap)=>{"use strict";var Bv=Os();ap.exports=function(t){return Bv(Object.keys(t))}});var Bc=y((_D,lp)=>{"use strict";var qv=$c();lp.exports=function(e,r){return function(n,i){if(n)return qv(i,n,r);if(e!=null){var s=e;e=null,i(null,s)}else i(!0)}}});var fp=y((bD,up)=>{"use strict";up.exports=function(e){var r=0;return e=e||1/0,function(n,i){if(n)return i&&i(n);if(r>e)return i(!0);i(null,r++)}}});var hp=y((LD,dp)=>{"use strict";dp.exports=function(e){return e=e||Math.random,function(r,n){return r?n&&n(r):n(null,e())}}});var mp=y((RD,pp)=>{"use strict";pp.exports=function(){return function(e,r){r(!0)}}});var Ep=y((ID,gp)=>{"use strict";gp.exports=function(e){return function(r,n){n(e)}}});var yp=y((PD,wp)=>{"use strict";wp.exports={keys:cp(),once:Bc(),values:Os(),count:fp(),infinite:hp(),empty:mp(),error:Ep()}});var Xr=y((CD,Sp)=>{"use strict";Sp.exports=function(e,r){var n,i,s;r||(s=new Error("no done callback supplied"));function o(a){if(n=a,i)return o.abort();(function c(){for(var l=!0,u=!1;l;)if(u=!1,n(null,function(d,m){if(u=!0,d=d||i){if(l=!1,r)r(d===!0?null:d);else if(d&&d!==!0)throw console.warn(s),d}else e&&e(m)===!1||i?(l=!1,n(i||!0,r||function(){})):l||c()}),!u){l=!1;return}})()}return o.abort=function(a,c){if(typeof a=="function"&&(c=a,a=!0),i=a||!0,n)return n(i,c||function(){})},o}});var vp=y((TD,xp)=>{"use strict";var Uv=Xr();xp.exports=function(e){return Uv(null,e)}});var bp=y((ND,_p)=>{"use strict";var Mv=Xr();_p.exports=function(e){return Mv(function(r){console.log(r)},e)}});var Zr=y((DD,Lp)=>{Lp.exports=function(e){return e&&(typeof e=="string"?function(r){return r[e]}:typeof e=="object"&&typeof e.exec=="function"?function(r){var n=e.exec(r);return n&&n[0]}:e)}});var Pp=y((OD,Ip)=>{"use strict";function Rp(t){return t}var Hv=Zr(),Wv=Xr();Ip.exports=function(e,r){var n=!1;return r?e=Hv(e)||Rp:(r=e,e=Rp),Wv(function(i){if(e(i))return n=!0,r(null,i),!1},function(i){n||r(i===!0?null:i,null)})}});var As=y((AD,Cp)=>{"use strict";var Gv=Xr();Cp.exports=function(e,r,n){n||(n=r,r=null);var i=Gv(function(s){r=e(r,s)},function(s){n(s,r)});return arguments.length===2?function(s){s(null,function(o,a){if(o)return n(o===!0?null:o);r=a,i(s)})}:i}});var qc=y((kD,Tp)=>{"use strict";var jv=As();Tp.exports=function(e){return jv(function(r,n){return r.push(n),r},[],e)}});var Dp=y((FD,Np)=>{"use strict";var zv=qc();Np.exports=function(){return e=>{let r,n,i=new Promise((s,o)=>{r=s,n=o});return zv((s,o)=>{s?n(s):r(o)})(e),i}}});var Ap=y(($D,Op)=>{"use strict";var Vv=As();Op.exports=function(e){return Vv(function(r,n){return r+n},"",e)}});var Fp=y((BD,kp)=>{"use strict";kp.exports={drain:Xr(),onEnd:vp(),log:bp(),find:Pp(),reduce:As(),collect:qc(),collectAsPromise:Dp(),concat:Ap()}});var Bp=y((qD,$p)=>{"use strict";function Yv(t){return t}var Jv=Zr();$p.exports=function(e){return e?(e=Jv(e),function(r){return function(n,i){r(n,function(s,o){try{o=s?null:e(o)}catch(a){return r(a,function(){return i(a)})}i(s,o)})}}):Yv}});var Up=y((UD,qp)=>{"use strict";function Xv(t){return t}var Zv=Zr();qp.exports=function(e){if(!e)return Xv;e=Zv(e);var r=!1,n,i;return function(s){return function o(a,c){if(i)return c(i);a?(i=a,r?s(a,function(l){r?n=c:c(a)}):s(a,function(l){c(a)})):s(null,function(l,u){l?c(l):i?c(i):(r=!0,e(u,function(d,m){r=!1,i?(c(i),n&&n(i)):d?o(d,c):c(null,m)}))})}}}});var Uc=y((MD,Mp)=>{var Kv=Zr();function Qv(t){return t}Mp.exports=function(e){return typeof e=="object"&&typeof e.test=="function"?function(r){return e.test(r)}:Kv(e)||Qv}});var ks=y((HD,Hp)=>{"use strict";var e_=Uc();Hp.exports=function(e){return e=e_(e),function(r){return function n(i,s){for(var o,a=!0;a;)a=!1,o=!0,r(i,function(c,l){if(!c&&!e(l))return o?a=!0:n(c,s);s(c,l)}),o=!1}}}});var Gp=y((WD,Wp)=>{"use strict";var t_=Uc(),r_=ks();Wp.exports=function(e){return e=t_(e),r_(function(r){return!e(r)})}});var zp=y((GD,jp)=>{"use strict";jp.exports=function(e,r){var n=!1;function i(s){n||!r||(n=!0,r(s===!0?null:s))}return function(s){return function(o,a){return o&&i(o),s(o,function(c,l){c?i(c):e&&e(l),a(c,l)})}}}});var Yp=y((jD,Vp)=>{"use strict";Vp.exports=function(e,r){r=r||{};var n=r.last||!1,i=!1;if(typeof e=="number"){n=!0;var s=e;e=function(){return--s}}return function(o){function a(c){o(!0,function(l){n=!1,c(l||!0)})}return function(c,l){i&&!c?n?a(l):l(i):(i=c)?o(i,l):o(null,function(u,d){(i=i||u)?l(i):e(d)?l(null,d):(i=!0,n?l(null,d):a(l))})}}}});var Mc=y((zD,Jp)=>{"use strict";function n_(t){return t}var i_=Zr(),s_=ks();Jp.exports=function(e,r){e=i_(e)||n_;var n={};return s_(function(i){var s=e(i);return n[s]?!!r:(n[s]=!0,!r)})}});var Zp=y((VD,Xp)=>{"use strict";var o_=Mc();Xp.exports=function(e){return o_(e,!0)}});var Qp=y((YD,Kp)=>{"use strict";var a_=Os(),c_=Bc();Kp.exports=function(){return function(e){var r;return function(n,i){n?r?r(n,function(a){e(a||n,i)}):e(n,i):r?s():o();function s(){r(null,function(a,c){a?a===!0?o():e(!0,function(l){i(a)}):i(null,c)})}function o(){r=null,e(null,function(a,c){if(a)return i(a);c&&typeof c=="object"?c=a_(c):typeof c!="function"&&(c=c_(c)),r=c,s()})}}}}});var tm=y((JD,em)=>{"use strict";em.exports={map:Bp(),asyncMap:Up(),filter:ks(),filterNot:Gp(),through:zp(),take:Yp(),unique:Mc(),nonUnique:Zp(),flatten:Qp()}});var Hc=y((XD,rm)=>{"use strict";rm.exports=function t(e){var r=arguments.length;if(typeof e=="function"&&e.length===1){for(var n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];return function(a){if(n==null)throw new TypeError("partial sink should only be called once!");var c=n;switch(n=null,r){case 1:return t(a,c[0]);case 2:return t(a,c[0],c[1]);case 3:return t(a,c[0],c[1],c[2]);case 4:return t(a,c[0],c[1],c[2],c[3]);default:return c.unshift(a),t.apply(null,c)}}}var s=e;s&&typeof s.source=="function"&&(s=s.source);for(var i=1;i<r;i++){var o=arguments[i];typeof o=="function"?s=o(s):o&&typeof o=="object"&&(o.sink(s),s=o.source)}return s}});var jn=y((ur,om)=>{"use strict";var nm=yp(),im=Fp(),sm=tm();ur=om.exports=Hc();ur.pull=ur;for(ze in nm)ur[ze]=nm[ze];var ze;for(ze in sm)ur[ze]=sm[ze];var ze;for(ze in im)ur[ze]=im[ze];var ze});var lm=y((rO,cm)=>{var Kr=1e3,Qr=Kr*60,en=Qr*60,fr=en*24,f_=fr*7,d_=fr*365.25;cm.exports=function(t,e){e=e||{};var r=typeof t;if(r==="string"&&t.length>0)return h_(t);if(r==="number"&&isFinite(t))return e.long?m_(t):p_(t);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(t))};function h_(t){if(t=String(t),!(t.length>100)){var e=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(t);if(e){var r=parseFloat(e[1]),n=(e[2]||"ms").toLowerCase();switch(n){case"years":case"year":case"yrs":case"yr":case"y":return r*d_;case"weeks":case"week":case"w":return r*f_;case"days":case"day":case"d":return r*fr;case"hours":case"hour":case"hrs":case"hr":case"h":return r*en;case"minutes":case"minute":case"mins":case"min":case"m":return r*Qr;case"seconds":case"second":case"secs":case"sec":case"s":return r*Kr;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return r;default:return}}}}function p_(t){var e=Math.abs(t);return e>=fr?Math.round(t/fr)+"d":e>=en?Math.round(t/en)+"h":e>=Qr?Math.round(t/Qr)+"m":e>=Kr?Math.round(t/Kr)+"s":t+"ms"}function m_(t){var e=Math.abs(t);return e>=fr?Fs(t,e,fr,"day"):e>=en?Fs(t,e,en,"hour"):e>=Qr?Fs(t,e,Qr,"minute"):e>=Kr?Fs(t,e,Kr,"second"):t+" ms"}function Fs(t,e,r,n){var i=e>=r*1.5;return Math.round(t/r)+" "+n+(i?"s":"")}});var jc=y((nO,um)=>{function g_(t){r.debug=r,r.default=r,r.coerce=c,r.disable=o,r.enable=i,r.enabled=a,r.humanize=lm(),r.destroy=l,Object.keys(t).forEach(u=>{r[u]=t[u]}),r.names=[],r.skips=[],r.formatters={};function e(u){let d=0;for(let m=0;m<u.length;m++)d=(d<<5)-d+u.charCodeAt(m),d|=0;return r.colors[Math.abs(d)%r.colors.length]}r.selectColor=e;function r(u){let d,m=null,f,h;function w(...g){if(!w.enabled)return;let E=w,x=Number(new Date),p=x-(d||x);E.diff=p,E.prev=d,E.curr=x,d=x,g[0]=r.coerce(g[0]),typeof g[0]!="string"&&g.unshift("%O");let S=0;g[0]=g[0].replace(/%([a-zA-Z%])/g,(b,_)=>{if(b==="%%")return"%";S++;let C=r.formatters[_];if(typeof C=="function"){let D=g[S];b=C.call(E,D),g.splice(S,1),S--}return b}),r.formatArgs.call(E,g),(E.log||r.log).apply(E,g)}return w.namespace=u,w.useColors=r.useColors(),w.color=r.selectColor(u),w.extend=n,w.destroy=r.destroy,Object.defineProperty(w,"enabled",{enumerable:!0,configurable:!1,get:()=>m!==null?m:(f!==r.namespaces&&(f=r.namespaces,h=r.enabled(u)),h),set:g=>{m=g}}),typeof r.init=="function"&&r.init(w),w}function n(u,d){let m=r(this.namespace+(typeof d>"u"?":":d)+u);return m.log=this.log,m}function i(u){r.save(u),r.namespaces=u,r.names=[],r.skips=[];let d=(typeof u=="string"?u:"").trim().replace(/\s+/g,",").split(",").filter(Boolean);for(let m of d)m[0]==="-"?r.skips.push(m.slice(1)):r.names.push(m)}function s(u,d){let m=0,f=0,h=-1,w=0;for(;m<u.length;)if(f<d.length&&(d[f]===u[m]||d[f]==="*"))d[f]==="*"?(h=f,w=m,f++):(m++,f++);else if(h!==-1)f=h+1,w++,m=w;else return!1;for(;f<d.length&&d[f]==="*";)f++;return f===d.length}function o(){let u=[...r.names,...r.skips.map(d=>"-"+d)].join(",");return r.enable(""),u}function a(u){for(let d of r.skips)if(s(u,d))return!1;for(let d of r.names)if(s(u,d))return!0;return!1}function c(u){return u instanceof Error?u.stack||u.message:u}function l(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")}return r.enable(r.load()),r}um.exports=g_});var fm=y((be,$s)=>{be.formatArgs=w_;be.save=y_;be.load=S_;be.useColors=E_;be.storage=x_();be.destroy=(()=>{let t=!1;return()=>{t||(t=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}})();be.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"];function E_(){if(typeof window<"u"&&window.process&&(window.process.type==="renderer"||window.process.__nwjs))return!0;if(typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))return!1;let t;return typeof document<"u"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window<"u"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator<"u"&&navigator.userAgent&&(t=navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/))&&parseInt(t[1],10)>=31||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)}function w_(t){if(t[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+t[0]+(this.useColors?"%c ":" ")+"+"+$s.exports.humanize(this.diff),!this.useColors)return;let e="color: "+this.color;t.splice(1,0,e,"color: inherit");let r=0,n=0;t[0].replace(/%[a-zA-Z%]/g,i=>{i!=="%%"&&(r++,i==="%c"&&(n=r))}),t.splice(n,0,e)}be.log=console.debug||console.log||(()=>{});function y_(t){try{t?be.storage.setItem("debug",t):be.storage.removeItem("debug")}catch{}}function S_(){let t;try{t=be.storage.getItem("debug")||be.storage.getItem("DEBUG")}catch{}return!t&&typeof process<"u"&&"env"in process&&(t=process.env.DEBUG),t}function x_(){try{return localStorage}catch{}}$s.exports=jc()(be);var{formatters:v_}=$s.exports;v_.j=function(t){try{return JSON.stringify(t)}catch(e){return"[UnexpectedJSONParseError]: "+e.message}}});var hm=y((iO,dm)=>{"use strict";dm.exports=(t,e)=>{e=e||process.argv;let r=t.startsWith("-")?"":t.length===1?"-":"--",n=e.indexOf(r+t),i=e.indexOf("--");return n!==-1&&(i===-1?!0:n<i)}});var mm=y((sO,pm)=>{"use strict";var __=require("os"),Ye=hm(),he=process.env,tn;Ye("no-color")||Ye("no-colors")||Ye("color=false")?tn=!1:(Ye("color")||Ye("colors")||Ye("color=true")||Ye("color=always"))&&(tn=!0);"FORCE_COLOR"in he&&(tn=he.FORCE_COLOR.length===0||parseInt(he.FORCE_COLOR,10)!==0);function b_(t){return t===0?!1:{level:t,hasBasic:!0,has256:t>=2,has16m:t>=3}}function L_(t){if(tn===!1)return 0;if(Ye("color=16m")||Ye("color=full")||Ye("color=truecolor"))return 3;if(Ye("color=256"))return 2;if(t&&!t.isTTY&&tn!==!0)return 0;let e=tn?1:0;if(process.platform==="win32"){let r=__.release().split(".");return Number(process.versions.node.split(".")[0])>=8&&Number(r[0])>=10&&Number(r[2])>=10586?Number(r[2])>=14931?3:2:1}if("CI"in he)return["TRAVIS","CIRCLECI","APPVEYOR","GITLAB_CI"].some(r=>r in he)||he.CI_NAME==="codeship"?1:e;if("TEAMCITY_VERSION"in he)return/^(9\.(0*[1-9]\d*)\.|\d{2,}\.)/.test(he.TEAMCITY_VERSION)?1:0;if(he.COLORTERM==="truecolor")return 3;if("TERM_PROGRAM"in he){let r=parseInt((he.TERM_PROGRAM_VERSION||"").split(".")[0],10);switch(he.TERM_PROGRAM){case"iTerm.app":return r>=3?3:2;case"Apple_Terminal":return 2}}return/-256(color)?$/i.test(he.TERM)?2:/^screen|^xterm|^vt100|^vt220|^rxvt|color|ansi|cygwin|linux/i.test(he.TERM)||"COLORTERM"in he?1:(he.TERM==="dumb",e)}function zc(t){let e=L_(t);return b_(e)}pm.exports={supportsColor:zc,stdout:zc(process.stdout),stderr:zc(process.stderr)}});var Em=y((ie,qs)=>{var R_=require("tty"),Bs=require("util");ie.init=O_;ie.log=T_;ie.formatArgs=P_;ie.save=N_;ie.load=D_;ie.useColors=I_;ie.destroy=Bs.deprecate(()=>{},"Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.");ie.colors=[6,2,3,4,5,1];try{let t=mm();t&&(t.stderr||t).level>=2&&(ie.colors=[20,21,26,27,32,33,38,39,40,41,42,43,44,45,56,57,62,63,68,69,74,75,76,77,78,79,80,81,92,93,98,99,112,113,128,129,134,135,148,149,160,161,162,163,164,165,166,167,168,169,170,171,172,173,178,179,184,185,196,197,198,199,200,201,202,203,204,205,206,207,208,209,214,215,220,221])}catch{}ie.inspectOpts=Object.keys(process.env).filter(t=>/^debug_/i.test(t)).reduce((t,e)=>{let r=e.substring(6).toLowerCase().replace(/_([a-z])/g,(i,s)=>s.toUpperCase()),n=process.env[e];return/^(yes|on|true|enabled)$/i.test(n)?n=!0:/^(no|off|false|disabled)$/i.test(n)?n=!1:n==="null"?n=null:n=Number(n),t[r]=n,t},{});function I_(){return"colors"in ie.inspectOpts?!!ie.inspectOpts.colors:R_.isatty(process.stderr.fd)}function P_(t){let{namespace:e,useColors:r}=this;if(r){let n=this.color,i="\x1B[3"+(n<8?n:"8;5;"+n),s=`  ${i};1m${e} \x1B[0m`;t[0]=s+t[0].split(`
`).join(`
`+s),t.push(i+"m+"+qs.exports.humanize(this.diff)+"\x1B[0m")}else t[0]=C_()+e+" "+t[0]}function C_(){return ie.inspectOpts.hideDate?"":new Date().toISOString()+" "}function T_(...t){return process.stderr.write(Bs.formatWithOptions(ie.inspectOpts,...t)+`
`)}function N_(t){t?process.env.DEBUG=t:delete process.env.DEBUG}function D_(){return process.env.DEBUG}function O_(t){t.inspectOpts={};let e=Object.keys(ie.inspectOpts);for(let r=0;r<e.length;r++)t.inspectOpts[e[r]]=ie.inspectOpts[e[r]]}qs.exports=jc()(ie);var{formatters:gm}=qs.exports;gm.o=function(t){return this.inspectOpts.colors=this.useColors,Bs.inspect(t,this.inspectOpts).split(`
`).map(e=>e.trim()).join(" ")};gm.O=function(t){return this.inspectOpts.colors=this.useColors,Bs.inspect(t,this.inspectOpts)}});var Us=y((oO,Vc)=>{typeof process>"u"||process.type==="renderer"||process.browser===!0||process.__nwjs?Vc.exports=fm():Vc.exports=Em()});var ym=y((aO,wm)=>{var Vn;wm.exports=function(){if(!Vn){try{Vn=Us()("follow-redirects")}catch{}typeof Vn!="function"&&(Vn=function(){})}Vn.apply(null,arguments)}});var bm=y((cO,sl)=>{var Jn=require("url"),Yn=Jn.URL,A_=require("http"),k_=require("https"),Kc=require("stream").Writable,Qc=require("assert"),Sm=ym();(function(){var e=typeof process<"u",r=typeof window<"u"&&typeof document<"u",n=hr(Error.captureStackTrace);!e&&(r||!n)&&console.warn("The follow-redirects package should be excluded from browser builds.")})();var el=!1;try{Qc(new Yn(""))}catch(t){el=t.code==="ERR_INVALID_URL"}var F_=["auth","host","hostname","href","path","pathname","port","protocol","query","search","hash"],tl=["abort","aborted","connect","error","socket","timeout"],rl=Object.create(null);tl.forEach(function(t){rl[t]=function(e,r,n){this._redirectable.emit(t,e,r,n)}});var Jc=Xn("ERR_INVALID_URL","Invalid URL",TypeError),Xc=Xn("ERR_FR_REDIRECTION_FAILURE","Redirected request failed"),$_=Xn("ERR_FR_TOO_MANY_REDIRECTS","Maximum number of redirects exceeded",Xc),B_=Xn("ERR_FR_MAX_BODY_LENGTH_EXCEEDED","Request body larger than maxBodyLength limit"),q_=Xn("ERR_STREAM_WRITE_AFTER_END","write after end"),U_=Kc.prototype.destroy||vm;function Le(t,e){Kc.call(this),this._sanitizeOptions(t),this._options=t,this._ended=!1,this._ending=!1,this._redirectCount=0,this._redirects=[],this._requestBodyLength=0,this._requestBodyBuffers=[],e&&this.on("response",e);var r=this;this._onNativeResponse=function(n){try{r._processResponse(n)}catch(i){r.emit("error",i instanceof Xc?i:new Xc({cause:i}))}},this._performRequest()}Le.prototype=Object.create(Kc.prototype);Le.prototype.abort=function(){il(this._currentRequest),this._currentRequest.abort(),this.emit("abort")};Le.prototype.destroy=function(t){return il(this._currentRequest,t),U_.call(this,t),this};Le.prototype.write=function(t,e,r){if(this._ending)throw new q_;if(!dr(t)&&!W_(t))throw new TypeError("data should be a string, Buffer or Uint8Array");if(hr(e)&&(r=e,e=null),t.length===0){r&&r();return}this._requestBodyLength+t.length<=this._options.maxBodyLength?(this._requestBodyLength+=t.length,this._requestBodyBuffers.push({data:t,encoding:e}),this._currentRequest.write(t,e,r)):(this.emit("error",new B_),this.abort())};Le.prototype.end=function(t,e,r){if(hr(t)?(r=t,t=e=null):hr(e)&&(r=e,e=null),!t)this._ended=this._ending=!0,this._currentRequest.end(null,null,r);else{var n=this,i=this._currentRequest;this.write(t,e,function(){n._ended=!0,i.end(null,null,r)}),this._ending=!0}};Le.prototype.setHeader=function(t,e){this._options.headers[t]=e,this._currentRequest.setHeader(t,e)};Le.prototype.removeHeader=function(t){delete this._options.headers[t],this._currentRequest.removeHeader(t)};Le.prototype.setTimeout=function(t,e){var r=this;function n(o){o.setTimeout(t),o.removeListener("timeout",o.destroy),o.addListener("timeout",o.destroy)}function i(o){r._timeout&&clearTimeout(r._timeout),r._timeout=setTimeout(function(){r.emit("timeout"),s()},t),n(o)}function s(){r._timeout&&(clearTimeout(r._timeout),r._timeout=null),r.removeListener("abort",s),r.removeListener("error",s),r.removeListener("response",s),r.removeListener("close",s),e&&r.removeListener("timeout",e),r.socket||r._currentRequest.removeListener("socket",i)}return e&&this.on("timeout",e),this.socket?i(this.socket):this._currentRequest.once("socket",i),this.on("socket",n),this.on("abort",s),this.on("error",s),this.on("response",s),this.on("close",s),this};["flushHeaders","getHeader","setNoDelay","setSocketKeepAlive"].forEach(function(t){Le.prototype[t]=function(e,r){return this._currentRequest[t](e,r)}});["aborted","connection","socket"].forEach(function(t){Object.defineProperty(Le.prototype,t,{get:function(){return this._currentRequest[t]}})});Le.prototype._sanitizeOptions=function(t){if(t.headers||(t.headers={}),t.host&&(t.hostname||(t.hostname=t.host),delete t.host),!t.pathname&&t.path){var e=t.path.indexOf("?");e<0?t.pathname=t.path:(t.pathname=t.path.substring(0,e),t.search=t.path.substring(e))}};Le.prototype._performRequest=function(){var t=this._options.protocol,e=this._options.nativeProtocols[t];if(!e)throw new TypeError("Unsupported protocol "+t);if(this._options.agents){var r=t.slice(0,-1);this._options.agent=this._options.agents[r]}var n=this._currentRequest=e.request(this._options,this._onNativeResponse);n._redirectable=this;for(var i of tl)n.on(i,rl[i]);if(this._currentUrl=/^\//.test(this._options.path)?Jn.format(this._options):this._options.path,this._isRedirect){var s=0,o=this,a=this._requestBodyBuffers;(function c(l){if(n===o._currentRequest)if(l)o.emit("error",l);else if(s<a.length){var u=a[s++];n.finished||n.write(u.data,u.encoding,c)}else o._ended&&n.end()})()}};Le.prototype._processResponse=function(t){var e=t.statusCode;this._options.trackRedirects&&this._redirects.push({url:this._currentUrl,headers:t.headers,statusCode:e});var r=t.headers.location;if(!r||this._options.followRedirects===!1||e<300||e>=400){t.responseUrl=this._currentUrl,t.redirects=this._redirects,this.emit("response",t),this._requestBodyBuffers=[];return}if(il(this._currentRequest),t.destroy(),++this._redirectCount>this._options.maxRedirects)throw new $_;var n,i=this._options.beforeRedirect;i&&(n=Object.assign({Host:t.req.getHeader("host")},this._options.headers));var s=this._options.method;((e===301||e===302)&&this._options.method==="POST"||e===303&&!/^(?:GET|HEAD)$/.test(this._options.method))&&(this._options.method="GET",this._requestBodyBuffers=[],Yc(/^content-/i,this._options.headers));var o=Yc(/^host$/i,this._options.headers),a=nl(this._currentUrl),c=o||a.host,l=/^\w+:/.test(r)?this._currentUrl:Jn.format(Object.assign(a,{host:c})),u=M_(r,l);if(Sm("redirecting to",u.href),this._isRedirect=!0,Zc(u,this._options),(u.protocol!==a.protocol&&u.protocol!=="https:"||u.host!==c&&!H_(u.host,c))&&Yc(/^(?:(?:proxy-)?authorization|cookie)$/i,this._options.headers),hr(i)){var d={headers:t.headers,statusCode:e},m={url:l,method:s,headers:n};i(this._options,d,m),this._sanitizeOptions(this._options)}this._performRequest()};function xm(t){var e={maxRedirects:21,maxBodyLength:10485760},r={};return Object.keys(t).forEach(function(n){var i=n+":",s=r[i]=t[n],o=e[n]=Object.create(s);function a(l,u,d){return G_(l)?l=Zc(l):dr(l)?l=Zc(nl(l)):(d=u,u=_m(l),l={protocol:i}),hr(u)&&(d=u,u=null),u=Object.assign({maxRedirects:e.maxRedirects,maxBodyLength:e.maxBodyLength},l,u),u.nativeProtocols=r,!dr(u.host)&&!dr(u.hostname)&&(u.hostname="::1"),Qc.equal(u.protocol,i,"protocol mismatch"),Sm("options",u),new Le(u,d)}function c(l,u,d){var m=o.request(l,u,d);return m.end(),m}Object.defineProperties(o,{request:{value:a,configurable:!0,enumerable:!0,writable:!0},get:{value:c,configurable:!0,enumerable:!0,writable:!0}})}),e}function vm(){}function nl(t){var e;if(el)e=new Yn(t);else if(e=_m(Jn.parse(t)),!dr(e.protocol))throw new Jc({input:t});return e}function M_(t,e){return el?new Yn(t,e):nl(Jn.resolve(e,t))}function _m(t){if(/^\[/.test(t.hostname)&&!/^\[[:0-9a-f]+\]$/i.test(t.hostname))throw new Jc({input:t.href||t});if(/^\[/.test(t.host)&&!/^\[[:0-9a-f]+\](:\d+)?$/i.test(t.host))throw new Jc({input:t.href||t});return t}function Zc(t,e){var r=e||{};for(var n of F_)r[n]=t[n];return r.hostname.startsWith("[")&&(r.hostname=r.hostname.slice(1,-1)),r.port!==""&&(r.port=Number(r.port)),r.path=r.search?r.pathname+r.search:r.pathname,r}function Yc(t,e){var r;for(var n in e)t.test(n)&&(r=e[n],delete e[n]);return r===null||typeof r>"u"?void 0:String(r).trim()}function Xn(t,e,r){function n(i){hr(Error.captureStackTrace)&&Error.captureStackTrace(this,this.constructor),Object.assign(this,i||{}),this.code=t,this.message=this.cause?e+": "+this.cause.message:e}return n.prototype=new(r||Error),Object.defineProperties(n.prototype,{constructor:{value:n,enumerable:!1},name:{value:"Error ["+t+"]",enumerable:!1}}),n}function il(t,e){for(var r of tl)t.removeListener(r,rl[r]);t.on("error",vm),t.destroy(e)}function H_(t,e){Qc(dr(t)&&dr(e));var r=t.length-e.length-1;return r>0&&t[r]==="."&&t.endsWith(e)}function dr(t){return typeof t=="string"||t instanceof String}function hr(t){return typeof t=="function"}function W_(t){return typeof t=="object"&&"length"in t}function G_(t){return Yn&&t instanceof Yn}sl.exports=xm({http:A_,https:k_});sl.exports.wrap=xm});var Zn=y((lO,Lm)=>{"use strict";var j_="2.0.0",z_=Number.MAX_SAFE_INTEGER||9007199254740991,V_=16,Y_=250,J_=["major","premajor","minor","preminor","patch","prepatch","prerelease"];Lm.exports={MAX_LENGTH:256,MAX_SAFE_COMPONENT_LENGTH:V_,MAX_SAFE_BUILD_LENGTH:Y_,MAX_SAFE_INTEGER:z_,RELEASE_TYPES:J_,SEMVER_SPEC_VERSION:j_,FLAG_INCLUDE_PRERELEASE:1,FLAG_LOOSE:2}});var Kn=y((uO,Rm)=>{"use strict";var X_=typeof process=="object"&&process.env&&process.env.NODE_DEBUG&&/\bsemver\b/i.test(process.env.NODE_DEBUG)?(...t)=>console.error("SEMVER",...t):()=>{};Rm.exports=X_});var rn=y((st,Im)=>{"use strict";var{MAX_SAFE_COMPONENT_LENGTH:ol,MAX_SAFE_BUILD_LENGTH:Z_,MAX_LENGTH:K_}=Zn(),Q_=Kn();st=Im.exports={};var eb=st.re=[],tb=st.safeRe=[],R=st.src=[],rb=st.safeSrc=[],I=st.t={},nb=0,al="[a-zA-Z0-9-]",ib=[["\\s",1],["\\d",K_],[al,Z_]],sb=t=>{for(let[e,r]of ib)t=t.split(`${e}*`).join(`${e}{0,${r}}`).split(`${e}+`).join(`${e}{1,${r}}`);return t},N=(t,e,r)=>{let n=sb(e),i=nb++;Q_(t,i,e),I[t]=i,R[i]=e,rb[i]=n,eb[i]=new RegExp(e,r?"g":void 0),tb[i]=new RegExp(n,r?"g":void 0)};N("NUMERICIDENTIFIER","0|[1-9]\\d*");N("NUMERICIDENTIFIERLOOSE","\\d+");N("NONNUMERICIDENTIFIER",`\\d*[a-zA-Z-]${al}*`);N("MAINVERSION",`(${R[I.NUMERICIDENTIFIER]})\\.(${R[I.NUMERICIDENTIFIER]})\\.(${R[I.NUMERICIDENTIFIER]})`);N("MAINVERSIONLOOSE",`(${R[I.NUMERICIDENTIFIERLOOSE]})\\.(${R[I.NUMERICIDENTIFIERLOOSE]})\\.(${R[I.NUMERICIDENTIFIERLOOSE]})`);N("PRERELEASEIDENTIFIER",`(?:${R[I.NONNUMERICIDENTIFIER]}|${R[I.NUMERICIDENTIFIER]})`);N("PRERELEASEIDENTIFIERLOOSE",`(?:${R[I.NONNUMERICIDENTIFIER]}|${R[I.NUMERICIDENTIFIERLOOSE]})`);N("PRERELEASE",`(?:-(${R[I.PRERELEASEIDENTIFIER]}(?:\\.${R[I.PRERELEASEIDENTIFIER]})*))`);N("PRERELEASELOOSE",`(?:-?(${R[I.PRERELEASEIDENTIFIERLOOSE]}(?:\\.${R[I.PRERELEASEIDENTIFIERLOOSE]})*))`);N("BUILDIDENTIFIER",`${al}+`);N("BUILD",`(?:\\+(${R[I.BUILDIDENTIFIER]}(?:\\.${R[I.BUILDIDENTIFIER]})*))`);N("FULLPLAIN",`v?${R[I.MAINVERSION]}${R[I.PRERELEASE]}?${R[I.BUILD]}?`);N("FULL",`^${R[I.FULLPLAIN]}$`);N("LOOSEPLAIN",`[v=\\s]*${R[I.MAINVERSIONLOOSE]}${R[I.PRERELEASELOOSE]}?${R[I.BUILD]}?`);N("LOOSE",`^${R[I.LOOSEPLAIN]}$`);N("GTLT","((?:<|>)?=?)");N("XRANGEIDENTIFIERLOOSE",`${R[I.NUMERICIDENTIFIERLOOSE]}|x|X|\\*`);N("XRANGEIDENTIFIER",`${R[I.NUMERICIDENTIFIER]}|x|X|\\*`);N("XRANGEPLAIN",`[v=\\s]*(${R[I.XRANGEIDENTIFIER]})(?:\\.(${R[I.XRANGEIDENTIFIER]})(?:\\.(${R[I.XRANGEIDENTIFIER]})(?:${R[I.PRERELEASE]})?${R[I.BUILD]}?)?)?`);N("XRANGEPLAINLOOSE",`[v=\\s]*(${R[I.XRANGEIDENTIFIERLOOSE]})(?:\\.(${R[I.XRANGEIDENTIFIERLOOSE]})(?:\\.(${R[I.XRANGEIDENTIFIERLOOSE]})(?:${R[I.PRERELEASELOOSE]})?${R[I.BUILD]}?)?)?`);N("XRANGE",`^${R[I.GTLT]}\\s*${R[I.XRANGEPLAIN]}$`);N("XRANGELOOSE",`^${R[I.GTLT]}\\s*${R[I.XRANGEPLAINLOOSE]}$`);N("COERCEPLAIN",`(^|[^\\d])(\\d{1,${ol}})(?:\\.(\\d{1,${ol}}))?(?:\\.(\\d{1,${ol}}))?`);N("COERCE",`${R[I.COERCEPLAIN]}(?:$|[^\\d])`);N("COERCEFULL",R[I.COERCEPLAIN]+`(?:${R[I.PRERELEASE]})?(?:${R[I.BUILD]})?(?:$|[^\\d])`);N("COERCERTL",R[I.COERCE],!0);N("COERCERTLFULL",R[I.COERCEFULL],!0);N("LONETILDE","(?:~>?)");N("TILDETRIM",`(\\s*)${R[I.LONETILDE]}\\s+`,!0);st.tildeTrimReplace="$1~";N("TILDE",`^${R[I.LONETILDE]}${R[I.XRANGEPLAIN]}$`);N("TILDELOOSE",`^${R[I.LONETILDE]}${R[I.XRANGEPLAINLOOSE]}$`);N("LONECARET","(?:\\^)");N("CARETTRIM",`(\\s*)${R[I.LONECARET]}\\s+`,!0);st.caretTrimReplace="$1^";N("CARET",`^${R[I.LONECARET]}${R[I.XRANGEPLAIN]}$`);N("CARETLOOSE",`^${R[I.LONECARET]}${R[I.XRANGEPLAINLOOSE]}$`);N("COMPARATORLOOSE",`^${R[I.GTLT]}\\s*(${R[I.LOOSEPLAIN]})$|^$`);N("COMPARATOR",`^${R[I.GTLT]}\\s*(${R[I.FULLPLAIN]})$|^$`);N("COMPARATORTRIM",`(\\s*)${R[I.GTLT]}\\s*(${R[I.LOOSEPLAIN]}|${R[I.XRANGEPLAIN]})`,!0);st.comparatorTrimReplace="$1$2$3";N("HYPHENRANGE",`^\\s*(${R[I.XRANGEPLAIN]})\\s+-\\s+(${R[I.XRANGEPLAIN]})\\s*$`);N("HYPHENRANGELOOSE",`^\\s*(${R[I.XRANGEPLAINLOOSE]})\\s+-\\s+(${R[I.XRANGEPLAINLOOSE]})\\s*$`);N("STAR","(<|>)?=?\\s*\\*");N("GTE0","^\\s*>=\\s*0\\.0\\.0\\s*$");N("GTE0PRE","^\\s*>=\\s*0\\.0\\.0-0\\s*$")});var Ms=y((fO,Pm)=>{"use strict";var ob=Object.freeze({loose:!0}),ab=Object.freeze({}),lb=t=>t?typeof t!="object"?ob:t:ab;Pm.exports=lb});var cl=y((dO,Nm)=>{"use strict";var Cm=/^[0-9]+$/,Tm=(t,e)=>{let r=Cm.test(t),n=Cm.test(e);return r&&n&&(t=+t,e=+e),t===e?0:r&&!n?-1:n&&!r?1:t<e?-1:1},ub=(t,e)=>Tm(e,t);Nm.exports={compareIdentifiers:Tm,rcompareIdentifiers:ub}});var pe=y((hO,Om)=>{"use strict";var Hs=Kn(),{MAX_LENGTH:Dm,MAX_SAFE_INTEGER:Ws}=Zn(),{safeRe:Gs,t:js}=rn(),fb=Ms(),{compareIdentifiers:nn}=cl(),ll=class t{constructor(e,r){if(r=fb(r),e instanceof t){if(e.loose===!!r.loose&&e.includePrerelease===!!r.includePrerelease)return e;e=e.version}else if(typeof e!="string")throw new TypeError(`Invalid version. Must be a string. Got type "${typeof e}".`);if(e.length>Dm)throw new TypeError(`version is longer than ${Dm} characters`);Hs("SemVer",e,r),this.options=r,this.loose=!!r.loose,this.includePrerelease=!!r.includePrerelease;let n=e.trim().match(r.loose?Gs[js.LOOSE]:Gs[js.FULL]);if(!n)throw new TypeError(`Invalid Version: ${e}`);if(this.raw=e,this.major=+n[1],this.minor=+n[2],this.patch=+n[3],this.major>Ws||this.major<0)throw new TypeError("Invalid major version");if(this.minor>Ws||this.minor<0)throw new TypeError("Invalid minor version");if(this.patch>Ws||this.patch<0)throw new TypeError("Invalid patch version");n[4]?this.prerelease=n[4].split(".").map(i=>{if(/^[0-9]+$/.test(i)){let s=+i;if(s>=0&&s<Ws)return s}return i}):this.prerelease=[],this.build=n[5]?n[5].split("."):[],this.format()}format(){return this.version=`${this.major}.${this.minor}.${this.patch}`,this.prerelease.length&&(this.version+=`-${this.prerelease.join(".")}`),this.version}toString(){return this.version}compare(e){if(Hs("SemVer.compare",this.version,this.options,e),!(e instanceof t)){if(typeof e=="string"&&e===this.version)return 0;e=new t(e,this.options)}return e.version===this.version?0:this.compareMain(e)||this.comparePre(e)}compareMain(e){return e instanceof t||(e=new t(e,this.options)),nn(this.major,e.major)||nn(this.minor,e.minor)||nn(this.patch,e.patch)}comparePre(e){if(e instanceof t||(e=new t(e,this.options)),this.prerelease.length&&!e.prerelease.length)return-1;if(!this.prerelease.length&&e.prerelease.length)return 1;if(!this.prerelease.length&&!e.prerelease.length)return 0;let r=0;do{let n=this.prerelease[r],i=e.prerelease[r];if(Hs("prerelease compare",r,n,i),n===void 0&&i===void 0)return 0;if(i===void 0)return 1;if(n===void 0)return-1;if(n===i)continue;return nn(n,i)}while(++r)}compareBuild(e){e instanceof t||(e=new t(e,this.options));let r=0;do{let n=this.build[r],i=e.build[r];if(Hs("build compare",r,n,i),n===void 0&&i===void 0)return 0;if(i===void 0)return 1;if(n===void 0)return-1;if(n===i)continue;return nn(n,i)}while(++r)}inc(e,r,n){if(e.startsWith("pre")){if(!r&&n===!1)throw new Error("invalid increment argument: identifier is empty");if(r){let i=`-${r}`.match(this.options.loose?Gs[js.PRERELEASELOOSE]:Gs[js.PRERELEASE]);if(!i||i[1]!==r)throw new Error(`invalid identifier: ${r}`)}}switch(e){case"premajor":this.prerelease.length=0,this.patch=0,this.minor=0,this.major++,this.inc("pre",r,n);break;case"preminor":this.prerelease.length=0,this.patch=0,this.minor++,this.inc("pre",r,n);break;case"prepatch":this.prerelease.length=0,this.inc("patch",r,n),this.inc("pre",r,n);break;case"prerelease":this.prerelease.length===0&&this.inc("patch",r,n),this.inc("pre",r,n);break;case"release":if(this.prerelease.length===0)throw new Error(`version ${this.raw} is not a prerelease`);this.prerelease.length=0;break;case"major":(this.minor!==0||this.patch!==0||this.prerelease.length===0)&&this.major++,this.minor=0,this.patch=0,this.prerelease=[];break;case"minor":(this.patch!==0||this.prerelease.length===0)&&this.minor++,this.patch=0,this.prerelease=[];break;case"patch":this.prerelease.length===0&&this.patch++,this.prerelease=[];break;case"pre":{let i=Number(n)?1:0;if(this.prerelease.length===0)this.prerelease=[i];else{let s=this.prerelease.length;for(;--s>=0;)typeof this.prerelease[s]=="number"&&(this.prerelease[s]++,s=-2);if(s===-1){if(r===this.prerelease.join(".")&&n===!1)throw new Error("invalid increment argument: identifier already exists");this.prerelease.push(i)}}if(r){let s=[r,i];n===!1&&(s=[r]),nn(this.prerelease[0],r)===0?isNaN(this.prerelease[1])&&(this.prerelease=s):this.prerelease=s}break}default:throw new Error(`invalid increment argument: ${e}`)}return this.raw=this.format(),this.build.length&&(this.raw+=`+${this.build.join(".")}`),this}};Om.exports=ll});var pr=y((pO,km)=>{"use strict";var Am=pe(),db=(t,e,r=!1)=>{if(t instanceof Am)return t;try{return new Am(t,e)}catch(n){if(!r)return null;throw n}};km.exports=db});var $m=y((mO,Fm)=>{"use strict";var hb=pr(),pb=(t,e)=>{let r=hb(t,e);return r?r.version:null};Fm.exports=pb});var qm=y((gO,Bm)=>{"use strict";var mb=pr(),gb=(t,e)=>{let r=mb(t.trim().replace(/^[=v]+/,""),e);return r?r.version:null};Bm.exports=gb});var Hm=y((EO,Mm)=>{"use strict";var Um=pe(),Eb=(t,e,r,n,i)=>{typeof r=="string"&&(i=n,n=r,r=void 0);try{return new Um(t instanceof Um?t.version:t,r).inc(e,n,i).version}catch{return null}};Mm.exports=Eb});var jm=y((wO,Gm)=>{"use strict";var Wm=pr(),wb=(t,e)=>{let r=Wm(t,null,!0),n=Wm(e,null,!0),i=r.compare(n);if(i===0)return null;let s=i>0,o=s?r:n,a=s?n:r,c=!!o.prerelease.length;if(!!a.prerelease.length&&!c){if(!a.patch&&!a.minor)return"major";if(a.compareMain(o)===0)return a.minor&&!a.patch?"minor":"patch"}let u=c?"pre":"";return r.major!==n.major?u+"major":r.minor!==n.minor?u+"minor":r.patch!==n.patch?u+"patch":"prerelease"};Gm.exports=wb});var Vm=y((yO,zm)=>{"use strict";var yb=pe(),Sb=(t,e)=>new yb(t,e).major;zm.exports=Sb});var Jm=y((SO,Ym)=>{"use strict";var xb=pe(),vb=(t,e)=>new xb(t,e).minor;Ym.exports=vb});var Zm=y((xO,Xm)=>{"use strict";var _b=pe(),bb=(t,e)=>new _b(t,e).patch;Xm.exports=bb});var Qm=y((vO,Km)=>{"use strict";var Lb=pr(),Rb=(t,e)=>{let r=Lb(t,e);return r&&r.prerelease.length?r.prerelease:null};Km.exports=Rb});var Be=y((_O,tg)=>{"use strict";var eg=pe(),Ib=(t,e,r)=>new eg(t,r).compare(new eg(e,r));tg.exports=Ib});var ng=y((bO,rg)=>{"use strict";var Pb=Be(),Cb=(t,e,r)=>Pb(e,t,r);rg.exports=Cb});var sg=y((LO,ig)=>{"use strict";var Tb=Be(),Nb=(t,e)=>Tb(t,e,!0);ig.exports=Nb});var zs=y((RO,ag)=>{"use strict";var og=pe(),Db=(t,e,r)=>{let n=new og(t,r),i=new og(e,r);return n.compare(i)||n.compareBuild(i)};ag.exports=Db});var lg=y((IO,cg)=>{"use strict";var Ob=zs(),Ab=(t,e)=>t.sort((r,n)=>Ob(r,n,e));cg.exports=Ab});var fg=y((PO,ug)=>{"use strict";var kb=zs(),Fb=(t,e)=>t.sort((r,n)=>kb(n,r,e));ug.exports=Fb});var Qn=y((CO,dg)=>{"use strict";var $b=Be(),Bb=(t,e,r)=>$b(t,e,r)>0;dg.exports=Bb});var Vs=y((TO,hg)=>{"use strict";var qb=Be(),Ub=(t,e,r)=>qb(t,e,r)<0;hg.exports=Ub});var ul=y((NO,pg)=>{"use strict";var Mb=Be(),Hb=(t,e,r)=>Mb(t,e,r)===0;pg.exports=Hb});var fl=y((DO,mg)=>{"use strict";var Wb=Be(),Gb=(t,e,r)=>Wb(t,e,r)!==0;mg.exports=Gb});var Ys=y((OO,gg)=>{"use strict";var jb=Be(),zb=(t,e,r)=>jb(t,e,r)>=0;gg.exports=zb});var Js=y((AO,Eg)=>{"use strict";var Vb=Be(),Yb=(t,e,r)=>Vb(t,e,r)<=0;Eg.exports=Yb});var dl=y((kO,wg)=>{"use strict";var Jb=ul(),Xb=fl(),Zb=Qn(),Kb=Ys(),Qb=Vs(),eL=Js(),tL=(t,e,r,n)=>{switch(e){case"===":return typeof t=="object"&&(t=t.version),typeof r=="object"&&(r=r.version),t===r;case"!==":return typeof t=="object"&&(t=t.version),typeof r=="object"&&(r=r.version),t!==r;case"":case"=":case"==":return Jb(t,r,n);case"!=":return Xb(t,r,n);case">":return Zb(t,r,n);case">=":return Kb(t,r,n);case"<":return Qb(t,r,n);case"<=":return eL(t,r,n);default:throw new TypeError(`Invalid operator: ${e}`)}};wg.exports=tL});var Sg=y((FO,yg)=>{"use strict";var rL=pe(),nL=pr(),{safeRe:Xs,t:Zs}=rn(),iL=(t,e)=>{if(t instanceof rL)return t;if(typeof t=="number"&&(t=String(t)),typeof t!="string")return null;e=e||{};let r=null;if(!e.rtl)r=t.match(e.includePrerelease?Xs[Zs.COERCEFULL]:Xs[Zs.COERCE]);else{let c=e.includePrerelease?Xs[Zs.COERCERTLFULL]:Xs[Zs.COERCERTL],l;for(;(l=c.exec(t))&&(!r||r.index+r[0].length!==t.length);)(!r||l.index+l[0].length!==r.index+r[0].length)&&(r=l),c.lastIndex=l.index+l[1].length+l[2].length;c.lastIndex=-1}if(r===null)return null;let n=r[2],i=r[3]||"0",s=r[4]||"0",o=e.includePrerelease&&r[5]?`-${r[5]}`:"",a=e.includePrerelease&&r[6]?`+${r[6]}`:"";return nL(`${n}.${i}.${s}${o}${a}`,e)};yg.exports=iL});var vg=y(($O,xg)=>{"use strict";var hl=class{constructor(){this.max=1e3,this.map=new Map}get(e){let r=this.map.get(e);if(r!==void 0)return this.map.delete(e),this.map.set(e,r),r}delete(e){return this.map.delete(e)}set(e,r){if(!this.delete(e)&&r!==void 0){if(this.map.size>=this.max){let i=this.map.keys().next().value;this.delete(i)}this.map.set(e,r)}return this}};xg.exports=hl});var qe=y((BO,Rg)=>{"use strict";var sL=/\s+/g,pl=class t{constructor(e,r){if(r=aL(r),e instanceof t)return e.loose===!!r.loose&&e.includePrerelease===!!r.includePrerelease?e:new t(e.raw,r);if(e instanceof ml)return this.raw=e.value,this.set=[[e]],this.formatted=void 0,this;if(this.options=r,this.loose=!!r.loose,this.includePrerelease=!!r.includePrerelease,this.raw=e.trim().replace(sL," "),this.set=this.raw.split("||").map(n=>this.parseRange(n.trim())).filter(n=>n.length),!this.set.length)throw new TypeError(`Invalid SemVer Range: ${this.raw}`);if(this.set.length>1){let n=this.set[0];if(this.set=this.set.filter(i=>!bg(i[0])),this.set.length===0)this.set=[n];else if(this.set.length>1){for(let i of this.set)if(i.length===1&&pL(i[0])){this.set=[i];break}}}this.formatted=void 0}get range(){if(this.formatted===void 0){this.formatted="";for(let e=0;e<this.set.length;e++){e>0&&(this.formatted+="||");let r=this.set[e];for(let n=0;n<r.length;n++)n>0&&(this.formatted+=" "),this.formatted+=r[n].toString().trim()}}return this.formatted}format(){return this.range}toString(){return this.range}parseRange(e){let n=((this.options.includePrerelease&&dL)|(this.options.loose&&hL))+":"+e,i=_g.get(n);if(i)return i;let s=this.options.loose,o=s?Re[ge.HYPHENRANGELOOSE]:Re[ge.HYPHENRANGE];e=e.replace(o,bL(this.options.includePrerelease)),M("hyphen replace",e),e=e.replace(Re[ge.COMPARATORTRIM],lL),M("comparator trim",e),e=e.replace(Re[ge.TILDETRIM],uL),M("tilde trim",e),e=e.replace(Re[ge.CARETTRIM],fL),M("caret trim",e);let a=e.split(" ").map(d=>mL(d,this.options)).join(" ").split(/\s+/).map(d=>_L(d,this.options));s&&(a=a.filter(d=>(M("loose invalid filter",d,this.options),!!d.match(Re[ge.COMPARATORLOOSE])))),M("range list",a);let c=new Map,l=a.map(d=>new ml(d,this.options));for(let d of l){if(bg(d))return[d];c.set(d.value,d)}c.size>1&&c.has("")&&c.delete("");let u=[...c.values()];return _g.set(n,u),u}intersects(e,r){if(!(e instanceof t))throw new TypeError("a Range is required");return this.set.some(n=>Lg(n,r)&&e.set.some(i=>Lg(i,r)&&n.every(s=>i.every(o=>s.intersects(o,r)))))}test(e){if(!e)return!1;if(typeof e=="string")try{e=new cL(e,this.options)}catch{return!1}for(let r=0;r<this.set.length;r++)if(LL(this.set[r],e,this.options))return!0;return!1}};Rg.exports=pl;var oL=vg(),_g=new oL,aL=Ms(),ml=ei(),M=Kn(),cL=pe(),{safeRe:Re,t:ge,comparatorTrimReplace:lL,tildeTrimReplace:uL,caretTrimReplace:fL}=rn(),{FLAG_INCLUDE_PRERELEASE:dL,FLAG_LOOSE:hL}=Zn(),bg=t=>t.value==="<0.0.0-0",pL=t=>t.value==="",Lg=(t,e)=>{let r=!0,n=t.slice(),i=n.pop();for(;r&&n.length;)r=n.every(s=>i.intersects(s,e)),i=n.pop();return r},mL=(t,e)=>(M("comp",t,e),t=wL(t,e),M("caret",t),t=gL(t,e),M("tildes",t),t=SL(t,e),M("xrange",t),t=vL(t,e),M("stars",t),t),Ee=t=>!t||t.toLowerCase()==="x"||t==="*",gL=(t,e)=>t.trim().split(/\s+/).map(r=>EL(r,e)).join(" "),EL=(t,e)=>{let r=e.loose?Re[ge.TILDELOOSE]:Re[ge.TILDE];return t.replace(r,(n,i,s,o,a)=>{M("tilde",t,n,i,s,o,a);let c;return Ee(i)?c="":Ee(s)?c=`>=${i}.0.0 <${+i+1}.0.0-0`:Ee(o)?c=`>=${i}.${s}.0 <${i}.${+s+1}.0-0`:a?(M("replaceTilde pr",a),c=`>=${i}.${s}.${o}-${a} <${i}.${+s+1}.0-0`):c=`>=${i}.${s}.${o} <${i}.${+s+1}.0-0`,M("tilde return",c),c})},wL=(t,e)=>t.trim().split(/\s+/).map(r=>yL(r,e)).join(" "),yL=(t,e)=>{M("caret",t,e);let r=e.loose?Re[ge.CARETLOOSE]:Re[ge.CARET],n=e.includePrerelease?"-0":"";return t.replace(r,(i,s,o,a,c)=>{M("caret",t,i,s,o,a,c);let l;return Ee(s)?l="":Ee(o)?l=`>=${s}.0.0${n} <${+s+1}.0.0-0`:Ee(a)?s==="0"?l=`>=${s}.${o}.0${n} <${s}.${+o+1}.0-0`:l=`>=${s}.${o}.0${n} <${+s+1}.0.0-0`:c?(M("replaceCaret pr",c),s==="0"?o==="0"?l=`>=${s}.${o}.${a}-${c} <${s}.${o}.${+a+1}-0`:l=`>=${s}.${o}.${a}-${c} <${s}.${+o+1}.0-0`:l=`>=${s}.${o}.${a}-${c} <${+s+1}.0.0-0`):(M("no pr"),s==="0"?o==="0"?l=`>=${s}.${o}.${a}${n} <${s}.${o}.${+a+1}-0`:l=`>=${s}.${o}.${a}${n} <${s}.${+o+1}.0-0`:l=`>=${s}.${o}.${a} <${+s+1}.0.0-0`),M("caret return",l),l})},SL=(t,e)=>(M("replaceXRanges",t,e),t.split(/\s+/).map(r=>xL(r,e)).join(" ")),xL=(t,e)=>{t=t.trim();let r=e.loose?Re[ge.XRANGELOOSE]:Re[ge.XRANGE];return t.replace(r,(n,i,s,o,a,c)=>{M("xRange",t,n,i,s,o,a,c);let l=Ee(s),u=l||Ee(o),d=u||Ee(a),m=d;return i==="="&&m&&(i=""),c=e.includePrerelease?"-0":"",l?i===">"||i==="<"?n="<0.0.0-0":n="*":i&&m?(u&&(o=0),a=0,i===">"?(i=">=",u?(s=+s+1,o=0,a=0):(o=+o+1,a=0)):i==="<="&&(i="<",u?s=+s+1:o=+o+1),i==="<"&&(c="-0"),n=`${i+s}.${o}.${a}${c}`):u?n=`>=${s}.0.0${c} <${+s+1}.0.0-0`:d&&(n=`>=${s}.${o}.0${c} <${s}.${+o+1}.0-0`),M("xRange return",n),n})},vL=(t,e)=>(M("replaceStars",t,e),t.trim().replace(Re[ge.STAR],"")),_L=(t,e)=>(M("replaceGTE0",t,e),t.trim().replace(Re[e.includePrerelease?ge.GTE0PRE:ge.GTE0],"")),bL=t=>(e,r,n,i,s,o,a,c,l,u,d,m)=>(Ee(n)?r="":Ee(i)?r=`>=${n}.0.0${t?"-0":""}`:Ee(s)?r=`>=${n}.${i}.0${t?"-0":""}`:o?r=`>=${r}`:r=`>=${r}${t?"-0":""}`,Ee(l)?c="":Ee(u)?c=`<${+l+1}.0.0-0`:Ee(d)?c=`<${l}.${+u+1}.0-0`:m?c=`<=${l}.${u}.${d}-${m}`:t?c=`<${l}.${u}.${+d+1}-0`:c=`<=${c}`,`${r} ${c}`.trim()),LL=(t,e,r)=>{for(let n=0;n<t.length;n++)if(!t[n].test(e))return!1;if(e.prerelease.length&&!r.includePrerelease){for(let n=0;n<t.length;n++)if(M(t[n].semver),t[n].semver!==ml.ANY&&t[n].semver.prerelease.length>0){let i=t[n].semver;if(i.major===e.major&&i.minor===e.minor&&i.patch===e.patch)return!0}return!1}return!0}});var ei=y((qO,Dg)=>{"use strict";var ti=Symbol("SemVer ANY"),wl=class t{static get ANY(){return ti}constructor(e,r){if(r=Ig(r),e instanceof t){if(e.loose===!!r.loose)return e;e=e.value}e=e.trim().split(/\s+/).join(" "),El("comparator",e,r),this.options=r,this.loose=!!r.loose,this.parse(e),this.semver===ti?this.value="":this.value=this.operator+this.semver.version,El("comp",this)}parse(e){let r=this.options.loose?Pg[Cg.COMPARATORLOOSE]:Pg[Cg.COMPARATOR],n=e.match(r);if(!n)throw new TypeError(`Invalid comparator: ${e}`);this.operator=n[1]!==void 0?n[1]:"",this.operator==="="&&(this.operator=""),n[2]?this.semver=new Tg(n[2],this.options.loose):this.semver=ti}toString(){return this.value}test(e){if(El("Comparator.test",e,this.options.loose),this.semver===ti||e===ti)return!0;if(typeof e=="string")try{e=new Tg(e,this.options)}catch{return!1}return gl(e,this.operator,this.semver,this.options)}intersects(e,r){if(!(e instanceof t))throw new TypeError("a Comparator is required");return this.operator===""?this.value===""?!0:new Ng(e.value,r).test(this.value):e.operator===""?e.value===""?!0:new Ng(this.value,r).test(e.semver):(r=Ig(r),r.includePrerelease&&(this.value==="<0.0.0-0"||e.value==="<0.0.0-0")||!r.includePrerelease&&(this.value.startsWith("<0.0.0")||e.value.startsWith("<0.0.0"))?!1:!!(this.operator.startsWith(">")&&e.operator.startsWith(">")||this.operator.startsWith("<")&&e.operator.startsWith("<")||this.semver.version===e.semver.version&&this.operator.includes("=")&&e.operator.includes("=")||gl(this.semver,"<",e.semver,r)&&this.operator.startsWith(">")&&e.operator.startsWith("<")||gl(this.semver,">",e.semver,r)&&this.operator.startsWith("<")&&e.operator.startsWith(">")))}};Dg.exports=wl;var Ig=Ms(),{safeRe:Pg,t:Cg}=rn(),gl=dl(),El=Kn(),Tg=pe(),Ng=qe()});var ri=y((UO,Og)=>{"use strict";var RL=qe(),IL=(t,e,r)=>{try{e=new RL(e,r)}catch{return!1}return e.test(t)};Og.exports=IL});var kg=y((MO,Ag)=>{"use strict";var PL=qe(),CL=(t,e)=>new PL(t,e).set.map(r=>r.map(n=>n.value).join(" ").trim().split(" "));Ag.exports=CL});var $g=y((HO,Fg)=>{"use strict";var TL=pe(),NL=qe(),DL=(t,e,r)=>{let n=null,i=null,s=null;try{s=new NL(e,r)}catch{return null}return t.forEach(o=>{s.test(o)&&(!n||i.compare(o)===-1)&&(n=o,i=new TL(n,r))}),n};Fg.exports=DL});var qg=y((WO,Bg)=>{"use strict";var OL=pe(),AL=qe(),kL=(t,e,r)=>{let n=null,i=null,s=null;try{s=new AL(e,r)}catch{return null}return t.forEach(o=>{s.test(o)&&(!n||i.compare(o)===1)&&(n=o,i=new OL(n,r))}),n};Bg.exports=kL});var Hg=y((GO,Mg)=>{"use strict";var yl=pe(),FL=qe(),Ug=Qn(),$L=(t,e)=>{t=new FL(t,e);let r=new yl("0.0.0");if(t.test(r)||(r=new yl("0.0.0-0"),t.test(r)))return r;r=null;for(let n=0;n<t.set.length;++n){let i=t.set[n],s=null;i.forEach(o=>{let a=new yl(o.semver.version);switch(o.operator){case">":a.prerelease.length===0?a.patch++:a.prerelease.push(0),a.raw=a.format();case"":case">=":(!s||Ug(a,s))&&(s=a);break;case"<":case"<=":break;default:throw new Error(`Unexpected operation: ${o.operator}`)}}),s&&(!r||Ug(r,s))&&(r=s)}return r&&t.test(r)?r:null};Mg.exports=$L});var Gg=y((jO,Wg)=>{"use strict";var BL=qe(),qL=(t,e)=>{try{return new BL(t,e).range||"*"}catch{return null}};Wg.exports=qL});var Ks=y((zO,Yg)=>{"use strict";var UL=pe(),Vg=ei(),{ANY:ML}=Vg,HL=qe(),WL=ri(),jg=Qn(),zg=Vs(),GL=Js(),jL=Ys(),zL=(t,e,r,n)=>{t=new UL(t,n),e=new HL(e,n);let i,s,o,a,c;switch(r){case">":i=jg,s=GL,o=zg,a=">",c=">=";break;case"<":i=zg,s=jL,o=jg,a="<",c="<=";break;default:throw new TypeError('Must provide a hilo val of "<" or ">"')}if(WL(t,e,n))return!1;for(let l=0;l<e.set.length;++l){let u=e.set[l],d=null,m=null;if(u.forEach(f=>{f.semver===ML&&(f=new Vg(">=0.0.0")),d=d||f,m=m||f,i(f.semver,d.semver,n)?d=f:o(f.semver,m.semver,n)&&(m=f)}),d.operator===a||d.operator===c||(!m.operator||m.operator===a)&&s(t,m.semver))return!1;if(m.operator===c&&o(t,m.semver))return!1}return!0};Yg.exports=zL});var Xg=y((VO,Jg)=>{"use strict";var VL=Ks(),YL=(t,e,r)=>VL(t,e,">",r);Jg.exports=YL});var Kg=y((YO,Zg)=>{"use strict";var JL=Ks(),XL=(t,e,r)=>JL(t,e,"<",r);Zg.exports=XL});var tE=y((JO,eE)=>{"use strict";var Qg=qe(),ZL=(t,e,r)=>(t=new Qg(t,r),e=new Qg(e,r),t.intersects(e,r));eE.exports=ZL});var nE=y((XO,rE)=>{"use strict";var KL=ri(),QL=Be();rE.exports=(t,e,r)=>{let n=[],i=null,s=null,o=t.sort((u,d)=>QL(u,d,r));for(let u of o)KL(u,e,r)?(s=u,i||(i=u)):(s&&n.push([i,s]),s=null,i=null);i&&n.push([i,null]);let a=[];for(let[u,d]of n)u===d?a.push(u):!d&&u===o[0]?a.push("*"):d?u===o[0]?a.push(`<=${d}`):a.push(`${u} - ${d}`):a.push(`>=${u}`);let c=a.join(" || "),l=typeof e.raw=="string"?e.raw:String(e);return c.length<l.length?c:e}});var lE=y((ZO,cE)=>{"use strict";var iE=qe(),xl=ei(),{ANY:Sl}=xl,ni=ri(),vl=Be(),eR=(t,e,r={})=>{if(t===e)return!0;t=new iE(t,r),e=new iE(e,r);let n=!1;e:for(let i of t.set){for(let s of e.set){let o=rR(i,s,r);if(n=n||o!==null,o)continue e}if(n)return!1}return!0},tR=[new xl(">=0.0.0-0")],sE=[new xl(">=0.0.0")],rR=(t,e,r)=>{if(t===e)return!0;if(t.length===1&&t[0].semver===Sl){if(e.length===1&&e[0].semver===Sl)return!0;r.includePrerelease?t=tR:t=sE}if(e.length===1&&e[0].semver===Sl){if(r.includePrerelease)return!0;e=sE}let n=new Set,i,s;for(let f of t)f.operator===">"||f.operator===">="?i=oE(i,f,r):f.operator==="<"||f.operator==="<="?s=aE(s,f,r):n.add(f.semver);if(n.size>1)return null;let o;if(i&&s){if(o=vl(i.semver,s.semver,r),o>0)return null;if(o===0&&(i.operator!==">="||s.operator!=="<="))return null}for(let f of n){if(i&&!ni(f,String(i),r)||s&&!ni(f,String(s),r))return null;for(let h of e)if(!ni(f,String(h),r))return!1;return!0}let a,c,l,u,d=s&&!r.includePrerelease&&s.semver.prerelease.length?s.semver:!1,m=i&&!r.includePrerelease&&i.semver.prerelease.length?i.semver:!1;d&&d.prerelease.length===1&&s.operator==="<"&&d.prerelease[0]===0&&(d=!1);for(let f of e){if(u=u||f.operator===">"||f.operator===">=",l=l||f.operator==="<"||f.operator==="<=",i){if(m&&f.semver.prerelease&&f.semver.prerelease.length&&f.semver.major===m.major&&f.semver.minor===m.minor&&f.semver.patch===m.patch&&(m=!1),f.operator===">"||f.operator===">="){if(a=oE(i,f,r),a===f&&a!==i)return!1}else if(i.operator===">="&&!ni(i.semver,String(f),r))return!1}if(s){if(d&&f.semver.prerelease&&f.semver.prerelease.length&&f.semver.major===d.major&&f.semver.minor===d.minor&&f.semver.patch===d.patch&&(d=!1),f.operator==="<"||f.operator==="<="){if(c=aE(s,f,r),c===f&&c!==s)return!1}else if(s.operator==="<="&&!ni(s.semver,String(f),r))return!1}if(!f.operator&&(s||i)&&o!==0)return!1}return!(i&&l&&!s&&o!==0||s&&u&&!i&&o!==0||m||d)},oE=(t,e,r)=>{if(!t)return e;let n=vl(t.semver,e.semver,r);return n>0?t:n<0||e.operator===">"&&t.operator===">="?e:t},aE=(t,e,r)=>{if(!t)return e;let n=vl(t.semver,e.semver,r);return n<0?t:n>0||e.operator==="<"&&t.operator==="<="?e:t};cE.exports=eR});var hE=y((KO,dE)=>{"use strict";var _l=rn(),uE=Zn(),nR=pe(),fE=cl(),iR=pr(),sR=$m(),oR=qm(),aR=Hm(),cR=jm(),lR=Vm(),uR=Jm(),fR=Zm(),dR=Qm(),hR=Be(),pR=ng(),mR=sg(),gR=zs(),ER=lg(),wR=fg(),yR=Qn(),SR=Vs(),xR=ul(),vR=fl(),_R=Ys(),bR=Js(),LR=dl(),RR=Sg(),IR=ei(),PR=qe(),CR=ri(),TR=kg(),NR=$g(),DR=qg(),OR=Hg(),AR=Gg(),kR=Ks(),FR=Xg(),$R=Kg(),BR=tE(),qR=nE(),UR=lE();dE.exports={parse:iR,valid:sR,clean:oR,inc:aR,diff:cR,major:lR,minor:uR,patch:fR,prerelease:dR,compare:hR,rcompare:pR,compareLoose:mR,compareBuild:gR,sort:ER,rsort:wR,gt:yR,lt:SR,eq:xR,neq:vR,gte:_R,lte:bR,cmp:LR,coerce:RR,Comparator:IR,Range:PR,satisfies:CR,toComparators:TR,maxSatisfying:NR,minSatisfying:DR,minVersion:OR,validRange:AR,outside:kR,gtr:FR,ltr:$R,intersects:BR,simplifyRange:qR,subset:UR,SemVer:nR,re:_l.re,src:_l.src,tokens:_l.t,SEMVER_SPEC_VERSION:uE.SEMVER_SPEC_VERSION,RELEASE_TYPES:uE.RELEASE_TYPES,compareIdentifiers:fE.compareIdentifiers,rcompareIdentifiers:fE.rcompareIdentifiers}});var bl=y((QO,pE)=>{pE.exports={LOCHDR:30,LOCSIG:67324752,LOCVER:4,LOCFLG:6,LOCHOW:8,LOCTIM:10,LOCCRC:14,LOCSIZ:18,LOCLEN:22,LOCNAM:26,LOCEXT:28,EXTSIG:134695760,EXTHDR:16,EXTCRC:4,EXTSIZ:8,EXTLEN:12,CENHDR:46,CENSIG:33639248,CENVEM:4,CENVER:6,CENFLG:8,CENHOW:10,CENTIM:12,CENCRC:16,CENSIZ:20,CENLEN:24,CENNAM:28,CENEXT:30,CENCOM:32,CENDSK:34,CENATT:36,CENATX:38,CENOFF:42,ENDHDR:22,ENDSIG:101010256,ENDSUB:8,ENDTOT:10,ENDSIZ:12,ENDOFF:16,ENDCOM:20,END64HDR:20,END64SIG:117853008,END64START:4,END64OFF:8,END64NUMDISKS:16,ZIP64SIG:101075792,ZIP64HDR:56,ZIP64LEAD:12,ZIP64SIZE:4,ZIP64VEM:12,ZIP64VER:14,ZIP64DSK:16,ZIP64DSKDIR:20,ZIP64SUB:24,ZIP64TOT:32,ZIP64SIZB:40,ZIP64OFF:48,ZIP64EXTRA:56,STORED:0,SHRUNK:1,REDUCED1:2,REDUCED2:3,REDUCED3:4,REDUCED4:5,IMPLODED:6,DEFLATED:8,ENHANCED_DEFLATED:9,PKWARE:10,BZIP2:12,LZMA:14,IBM_TERSE:18,IBM_LZ77:19,AES_ENCRYPT:99,FLG_ENC:1,FLG_COMP1:2,FLG_COMP2:4,FLG_DESC:8,FLG_ENH:16,FLG_PATCH:32,FLG_STR:64,FLG_EFS:2048,FLG_MSK:4096,FILE:2,BUFFER:1,NONE:0,EF_ID:0,EF_SIZE:2,ID_ZIP64:1,ID_AVINFO:7,ID_PFS:8,ID_OS2:9,ID_NTFS:10,ID_OPENVMS:12,ID_UNIX:13,ID_FORK:14,ID_PATCH:15,ID_X509_PKCS7:20,ID_X509_CERTID_F:21,ID_X509_CERTID_C:22,ID_STRONGENC:23,ID_RECORD_MGT:24,ID_X509_PKCS7_RL:25,ID_IBM1:101,ID_IBM2:102,ID_POSZIP:18064,EF_ZIP64_OR_32:4294967295,EF_ZIP64_OR_16:65535,EF_ZIP64_SUNCOMP:0,EF_ZIP64_SCOMP:8,EF_ZIP64_RHO:16,EF_ZIP64_DSN:24}});var Qs=y(gE=>{var mE={INVALID_LOC:"Invalid LOC header (bad signature)",INVALID_CEN:"Invalid CEN header (bad signature)",INVALID_END:"Invalid END header (bad signature)",DESCRIPTOR_NOT_EXIST:"No descriptor present",DESCRIPTOR_UNKNOWN:"Unknown descriptor format",DESCRIPTOR_FAULTY:"Descriptor data is malformed",NO_DATA:"Nothing to decompress",BAD_CRC:"CRC32 checksum failed {0}",FILE_IN_THE_WAY:"There is a file in the way: {0}",UNKNOWN_METHOD:"Invalid/unsupported compression method",AVAIL_DATA:"inflate::Available inflate data did not terminate",INVALID_DISTANCE:"inflate::Invalid literal/length or distance code in fixed or dynamic block",TO_MANY_CODES:"inflate::Dynamic block code description: too many length or distance codes",INVALID_REPEAT_LEN:"inflate::Dynamic block code description: repeat more than specified lengths",INVALID_REPEAT_FIRST:"inflate::Dynamic block code description: repeat lengths with no first length",INCOMPLETE_CODES:"inflate::Dynamic block code description: code lengths codes incomplete",INVALID_DYN_DISTANCE:"inflate::Dynamic block code description: invalid distance code lengths",INVALID_CODES_LEN:"inflate::Dynamic block code description: invalid literal/length code lengths",INVALID_STORE_BLOCK:"inflate::Stored block length did not match one's complement",INVALID_BLOCK_TYPE:"inflate::Invalid block type (type == 3)",CANT_EXTRACT_FILE:"Could not extract the file",CANT_OVERRIDE:"Target file already exists",DISK_ENTRY_TOO_LARGE:"Number of disk entries is too large",NO_ZIP:"No zip file was loaded",NO_ENTRY:"Entry doesn't exist",DIRECTORY_CONTENT_ERROR:"A directory cannot have content",FILE_NOT_FOUND:'File not found: "{0}"',NOT_IMPLEMENTED:"Not implemented",INVALID_FILENAME:"Invalid filename",INVALID_FORMAT:"Invalid or unsupported zip format. No END header found",INVALID_PASS_PARAM:"Incompatible password parameter",WRONG_PASSWORD:"Wrong Password",COMMENT_TOO_LONG:"Comment is too long",EXTRA_FIELD_PARSE_ERROR:"Extra field parsing error"};function MR(t){return function(...e){return e.length&&(t=t.replace(/\{(\d)\}/g,(r,n)=>e[n]||"")),new Error("ADM-ZIP: "+t)}}for(let t of Object.keys(mE))gE[t]=MR(mE[t])});var xE=y((t1,SE)=>{var HR=require("fs"),Q=require("path"),EE=bl(),WR=Qs(),GR=typeof process=="object"&&process.platform==="win32",wE=t=>typeof t=="object"&&t!==null,yE=new Uint32Array(256).map((t,e)=>{for(let r=0;r<8;r++)(e&1)!==0?e=3988292384^e>>>1:e>>>=1;return e>>>0});function j(t){this.sep=Q.sep,this.fs=HR,wE(t)&&wE(t.fs)&&typeof t.fs.statSync=="function"&&(this.fs=t.fs)}SE.exports=j;j.prototype.makeDir=function(t){let e=this;function r(n){let i=n.split(e.sep)[0];n.split(e.sep).forEach(function(s){if(!(!s||s.substr(-1,1)===":")){i+=e.sep+s;var o;try{o=e.fs.statSync(i)}catch{e.fs.mkdirSync(i)}if(o&&o.isFile())throw WR.FILE_IN_THE_WAY(`"${i}"`)}})}r(t)};j.prototype.writeFileTo=function(t,e,r,n){let i=this;if(i.fs.existsSync(t)){if(!r)return!1;var s=i.fs.statSync(t);if(s.isDirectory())return!1}var o=Q.dirname(t);i.fs.existsSync(o)||i.makeDir(o);var a;try{a=i.fs.openSync(t,"w",438)}catch{i.fs.chmodSync(t,438),a=i.fs.openSync(t,"w",438)}if(a)try{i.fs.writeSync(a,e,0,e.length,0)}finally{i.fs.closeSync(a)}return i.fs.chmodSync(t,n||438),!0};j.prototype.writeFileToAsync=function(t,e,r,n,i){typeof n=="function"&&(i=n,n=void 0);let s=this;s.fs.exists(t,function(o){if(o&&!r)return i(!1);s.fs.stat(t,function(a,c){if(o&&c.isDirectory())return i(!1);var l=Q.dirname(t);s.fs.exists(l,function(u){u||s.makeDir(l),s.fs.open(t,"w",438,function(d,m){d?s.fs.chmod(t,438,function(){s.fs.open(t,"w",438,function(f,h){s.fs.write(h,e,0,e.length,0,function(){s.fs.close(h,function(){s.fs.chmod(t,n||438,function(){i(!0)})})})})}):m?s.fs.write(m,e,0,e.length,0,function(){s.fs.close(m,function(){s.fs.chmod(t,n||438,function(){i(!0)})})}):s.fs.chmod(t,n||438,function(){i(!0)})})})})})};j.prototype.findFiles=function(t){let e=this;function r(n,i,s){typeof i=="boolean"&&(s=i,i=void 0);let o=[];return e.fs.readdirSync(n).forEach(function(a){let c=Q.join(n,a),l=e.fs.statSync(c);(!i||i.test(c))&&o.push(Q.normalize(c)+(l.isDirectory()?e.sep:"")),l.isDirectory()&&s&&(o=o.concat(r(c,i,s)))}),o}return r(t,void 0,!0)};j.prototype.findFilesAsync=function(t,e){let r=this,n=[];r.fs.readdir(t,function(i,s){if(i)return e(i);let o=s.length;if(!o)return e(null,n);s.forEach(function(a){a=Q.join(t,a),r.fs.stat(a,function(c,l){if(c)return e(c);l&&(n.push(Q.normalize(a)+(l.isDirectory()?r.sep:"")),l.isDirectory()?r.findFilesAsync(a,function(u,d){if(u)return e(u);n=n.concat(d),--o||e(null,n)}):--o||e(null,n))})})})};j.prototype.getAttributes=function(){};j.prototype.setAttributes=function(){};j.crc32update=function(t,e){return yE[(t^e)&255]^t>>>8};j.crc32=function(t){typeof t=="string"&&(t=Buffer.from(t,"utf8"));let e=t.length,r=-1;for(let n=0;n<e;)r=j.crc32update(r,t[n++]);return~r>>>0};j.methodToString=function(t){switch(t){case EE.STORED:return"STORED ("+t+")";case EE.DEFLATED:return"DEFLATED ("+t+")";default:return"UNSUPPORTED ("+t+")"}};j.canonical=function(t){if(!t)return"";let e=Q.posix.normalize("/"+t.split("\\").join("/"));return Q.join(".",e)};j.zipnamefix=function(t){if(!t)return"";let e=Q.posix.normalize("/"+t.split("\\").join("/"));return Q.posix.join(".",e)};j.findLast=function(t,e){if(!Array.isArray(t))throw new TypeError("arr is not array");let r=t.length>>>0;for(let n=r-1;n>=0;n--)if(e(t[n],n,t))return t[n]};j.sanitize=function(t,e){t=Q.resolve(Q.normalize(t));for(var r=e.split("/"),n=0,i=r.length;n<i;n++){var s=Q.normalize(Q.join(t,r.slice(n,i).join(Q.sep)));if(s.indexOf(t)===0)return s}return Q.normalize(Q.join(t,Q.basename(e)))};j.toBuffer=function(e,r){return Buffer.isBuffer(e)?e:e instanceof Uint8Array?Buffer.from(e):typeof e=="string"?r(e):Buffer.alloc(0)};j.readBigUInt64LE=function(t,e){var r=Buffer.from(t.slice(e,e+8));return r.swap64(),parseInt(`0x${r.toString("hex")}`)};j.fromDOS2Date=function(t){return new Date((t>>25&127)+1980,Math.max((t>>21&15)-1,0),Math.max(t>>16&31,1),t>>11&31,t>>5&63,(t&31)<<1)};j.fromDate2DOS=function(t){let e=0,r=0;return t.getFullYear()>1979&&(e=(t.getFullYear()-1980&127)<<9|t.getMonth()+1<<5|t.getDate(),r=t.getHours()<<11|t.getMinutes()<<5|t.getSeconds()>>1),e<<16|r};j.isWin=GR;j.crcTable=yE});var _E=y((r1,vE)=>{var jR=require("path");vE.exports=function(t,{fs:e}){var r=t||"",n=s(),i=null;function s(){return{directory:!1,readonly:!1,hidden:!1,executable:!1,mtime:0,atime:0}}return r&&e.existsSync(r)?(i=e.statSync(r),n.directory=i.isDirectory(),n.mtime=i.mtime,n.atime=i.atime,n.executable=(73&i.mode)!==0,n.readonly=(128&i.mode)===0,n.hidden=jR.basename(r)[0]==="."):console.warn("Invalid path: "+r),{get directory(){return n.directory},get readOnly(){return n.readonly},get hidden(){return n.hidden},get mtime(){return n.mtime},get atime(){return n.atime},get executable(){return n.executable},decodeAttributes:function(){},encodeAttributes:function(){},toJSON:function(){return{path:r,isDirectory:n.directory,isReadOnly:n.readonly,isHidden:n.hidden,isExecutable:n.executable,mTime:n.mtime,aTime:n.atime}},toString:function(){return JSON.stringify(this.toJSON(),null,"	")}}}});var LE=y((n1,bE)=>{bE.exports={efs:!0,encode:t=>Buffer.from(t,"utf8"),decode:t=>t.toString("utf8")}});var on=y((i1,sn)=>{sn.exports=xE();sn.exports.Constants=bl();sn.exports.Errors=Qs();sn.exports.FileAttr=_E();sn.exports.decoder=LE()});var IE=y((s1,RE)=>{var jt=on(),L=jt.Constants;RE.exports=function(){var t=20,e=10,r=0,n=0,i=0,s=0,o=0,a=0,c=0,l=0,u=0,d=0,m=0,f=0,h=0;t|=jt.isWin?2560:768,r|=L.FLG_EFS;let w={extraLen:0},g=p=>Math.max(0,p)>>>0,E=p=>Math.max(0,p)&65535,x=p=>Math.max(0,p)&255;return i=jt.fromDate2DOS(new Date),{get made(){return t},set made(p){t=p},get version(){return e},set version(p){e=p},get flags(){return r},set flags(p){r=p},get flags_efs(){return(r&L.FLG_EFS)>0},set flags_efs(p){p?r|=L.FLG_EFS:r&=~L.FLG_EFS},get flags_desc(){return(r&L.FLG_DESC)>0},set flags_desc(p){p?r|=L.FLG_DESC:r&=~L.FLG_DESC},get method(){return n},set method(p){switch(p){case L.STORED:this.version=10;case L.DEFLATED:default:this.version=20}n=p},get time(){return jt.fromDOS2Date(this.timeval)},set time(p){this.timeval=jt.fromDate2DOS(p)},get timeval(){return i},set timeval(p){i=g(p)},get timeHighByte(){return x(i>>>8)},get crc(){return s},set crc(p){s=g(p)},get compressedSize(){return o},set compressedSize(p){o=g(p)},get size(){return a},set size(p){a=g(p)},get fileNameLength(){return c},set fileNameLength(p){c=p},get extraLength(){return l},set extraLength(p){l=p},get extraLocalLength(){return w.extraLen},set extraLocalLength(p){w.extraLen=p},get commentLength(){return u},set commentLength(p){u=p},get diskNumStart(){return d},set diskNumStart(p){d=g(p)},get inAttr(){return m},set inAttr(p){m=g(p)},get attr(){return f},set attr(p){f=g(p)},get fileAttr(){return(f||0)>>16&4095},get offset(){return h},set offset(p){h=g(p)},get encrypted(){return(r&L.FLG_ENC)===L.FLG_ENC},get centralHeaderSize(){return L.CENHDR+c+l+u},get realDataOffset(){return h+L.LOCHDR+w.fnameLen+w.extraLen},get localHeader(){return w},loadLocalHeaderFromBinary:function(p){var S=p.slice(h,h+L.LOCHDR);if(S.readUInt32LE(0)!==L.LOCSIG)throw jt.Errors.INVALID_LOC();w.version=S.readUInt16LE(L.LOCVER),w.flags=S.readUInt16LE(L.LOCFLG),w.method=S.readUInt16LE(L.LOCHOW),w.time=S.readUInt32LE(L.LOCTIM),w.crc=S.readUInt32LE(L.LOCCRC),w.compressedSize=S.readUInt32LE(L.LOCSIZ),w.size=S.readUInt32LE(L.LOCLEN),w.fnameLen=S.readUInt16LE(L.LOCNAM),w.extraLen=S.readUInt16LE(L.LOCEXT);let v=h+L.LOCHDR+w.fnameLen,b=v+w.extraLen;return p.slice(v,b)},loadFromBinary:function(p){if(p.length!==L.CENHDR||p.readUInt32LE(0)!==L.CENSIG)throw jt.Errors.INVALID_CEN();t=p.readUInt16LE(L.CENVEM),e=p.readUInt16LE(L.CENVER),r=p.readUInt16LE(L.CENFLG),n=p.readUInt16LE(L.CENHOW),i=p.readUInt32LE(L.CENTIM),s=p.readUInt32LE(L.CENCRC),o=p.readUInt32LE(L.CENSIZ),a=p.readUInt32LE(L.CENLEN),c=p.readUInt16LE(L.CENNAM),l=p.readUInt16LE(L.CENEXT),u=p.readUInt16LE(L.CENCOM),d=p.readUInt16LE(L.CENDSK),m=p.readUInt16LE(L.CENATT),f=p.readUInt32LE(L.CENATX),h=p.readUInt32LE(L.CENOFF)},localHeaderToBinary:function(){var p=Buffer.alloc(L.LOCHDR);return p.writeUInt32LE(L.LOCSIG,0),p.writeUInt16LE(e,L.LOCVER),p.writeUInt16LE(r,L.LOCFLG),p.writeUInt16LE(n,L.LOCHOW),p.writeUInt32LE(i,L.LOCTIM),p.writeUInt32LE(s,L.LOCCRC),p.writeUInt32LE(o,L.LOCSIZ),p.writeUInt32LE(a,L.LOCLEN),p.writeUInt16LE(c,L.LOCNAM),p.writeUInt16LE(w.extraLen,L.LOCEXT),p},centralHeaderToBinary:function(){var p=Buffer.alloc(L.CENHDR+c+l+u);return p.writeUInt32LE(L.CENSIG,0),p.writeUInt16LE(t,L.CENVEM),p.writeUInt16LE(e,L.CENVER),p.writeUInt16LE(r,L.CENFLG),p.writeUInt16LE(n,L.CENHOW),p.writeUInt32LE(i,L.CENTIM),p.writeUInt32LE(s,L.CENCRC),p.writeUInt32LE(o,L.CENSIZ),p.writeUInt32LE(a,L.CENLEN),p.writeUInt16LE(c,L.CENNAM),p.writeUInt16LE(l,L.CENEXT),p.writeUInt16LE(u,L.CENCOM),p.writeUInt16LE(d,L.CENDSK),p.writeUInt16LE(m,L.CENATT),p.writeUInt32LE(f,L.CENATX),p.writeUInt32LE(h,L.CENOFF),p},toJSON:function(){let p=function(S){return S+" bytes"};return{made:t,version:e,flags:r,method:jt.methodToString(n),time:this.time,crc:"0x"+s.toString(16).toUpperCase(),compressedSize:p(o),size:p(a),fileNameLength:p(c),extraLength:p(l),commentLength:p(u),diskNumStart:d,inAttr:m,attr:f,offset:h,centralHeaderSize:p(L.CENHDR+c+l+u)}},toString:function(){return JSON.stringify(this.toJSON(),null,"	")}}}});var CE=y((o1,PE)=>{var an=on(),H=an.Constants;PE.exports=function(){var t=0,e=0,r=0,n=0,i=0;return{get diskEntries(){return t},set diskEntries(s){t=e=s},get totalEntries(){return e},set totalEntries(s){e=t=s},get size(){return r},set size(s){r=s},get offset(){return n},set offset(s){n=s},get commentLength(){return i},set commentLength(s){i=s},get mainHeaderSize(){return H.ENDHDR+i},loadFromBinary:function(s){if((s.length!==H.ENDHDR||s.readUInt32LE(0)!==H.ENDSIG)&&(s.length<H.ZIP64HDR||s.readUInt32LE(0)!==H.ZIP64SIG))throw an.Errors.INVALID_END();s.readUInt32LE(0)===H.ENDSIG?(t=s.readUInt16LE(H.ENDSUB),e=s.readUInt16LE(H.ENDTOT),r=s.readUInt32LE(H.ENDSIZ),n=s.readUInt32LE(H.ENDOFF),i=s.readUInt16LE(H.ENDCOM)):(t=an.readBigUInt64LE(s,H.ZIP64SUB),e=an.readBigUInt64LE(s,H.ZIP64TOT),r=an.readBigUInt64LE(s,H.ZIP64SIZE),n=an.readBigUInt64LE(s,H.ZIP64OFF),i=0)},toBinary:function(){var s=Buffer.alloc(H.ENDHDR+i);return s.writeUInt32LE(H.ENDSIG,0),s.writeUInt32LE(0,4),s.writeUInt16LE(t,H.ENDSUB),s.writeUInt16LE(e,H.ENDTOT),s.writeUInt32LE(r,H.ENDSIZ),s.writeUInt32LE(n,H.ENDOFF),s.writeUInt16LE(i,H.ENDCOM),s.fill(" ",H.ENDHDR),s},toJSON:function(){let s=function(o,a){let c=o.toString(16).toUpperCase();for(;c.length<a;)c="0"+c;return"0x"+c};return{diskEntries:t,totalEntries:e,size:r+" bytes",offset:s(n,4),commentLength:i}},toString:function(){return JSON.stringify(this.toJSON(),null,"	")}}}});var Rl=y(Ll=>{Ll.EntryHeader=IE();Ll.MainHeader=CE()});var NE=y((c1,TE)=>{TE.exports=function(t){var e=require("zlib"),r={chunkSize:(parseInt(t.length/1024)+1)*1024};return{deflate:function(){return e.deflateRawSync(t,r)},deflateAsync:function(n){var i=e.createDeflateRaw(r),s=[],o=0;i.on("data",function(a){s.push(a),o+=a.length}),i.on("end",function(){var a=Buffer.alloc(o),c=0;a.fill(0);for(var l=0;l<s.length;l++){var u=s[l];u.copy(a,c),c+=u.length}n&&n(a)}),i.end(t)}}}});var OE=y((l1,DE)=>{var zR=+(process.versions?process.versions.node:"").split(".")[0]||0;DE.exports=function(t,e){var r=require("zlib");let n=zR>=15&&e>0?{maxOutputLength:e}:{};return{inflate:function(){return r.inflateRawSync(t,n)},inflateAsync:function(i){var s=r.createInflateRaw(n),o=[],a=0;s.on("data",function(c){o.push(c),a+=c.length}),s.on("end",function(){var c=Buffer.alloc(a),l=0;c.fill(0);for(var u=0;u<o.length;u++){var d=o[u];d.copy(c,l),l+=d.length}i&&i(c)}),s.end(t)}}}});var BE=y((u1,$E)=>{"use strict";var{randomFillSync:AE}=require("crypto"),VR=Qs(),YR=new Uint32Array(256).map((t,e)=>{for(let r=0;r<8;r++)(e&1)!==0?e=e>>>1^3988292384:e>>>=1;return e>>>0}),FE=(t,e)=>Math.imul(t,e)>>>0,kE=(t,e)=>YR[(t^e)&255]^t>>>8,ii=()=>typeof AE=="function"?AE(Buffer.alloc(12)):ii.node();ii.node=()=>{let t=Buffer.alloc(12),e=t.length;for(let r=0;r<e;r++)t[r]=Math.random()*256&255;return t};var eo={genSalt:ii};function to(t){let e=Buffer.isBuffer(t)?t:Buffer.from(t);this.keys=new Uint32Array([305419896,591751049,878082192]);for(let r=0;r<e.length;r++)this.updateKeys(e[r])}to.prototype.updateKeys=function(t){let e=this.keys;return e[0]=kE(e[0],t),e[1]+=e[0]&255,e[1]=FE(e[1],134775813)+1,e[2]=kE(e[2],e[1]>>>24),t};to.prototype.next=function(){let t=(this.keys[2]|2)>>>0;return FE(t,t^1)>>8&255};function JR(t){let e=new to(t);return function(r){let n=Buffer.alloc(r.length),i=0;for(let s of r)n[i++]=e.updateKeys(s^e.next());return n}}function XR(t){let e=new to(t);return function(r,n,i=0){n||(n=Buffer.alloc(r.length));for(let s of r){let o=e.next();n[i++]=s^o,e.updateKeys(s)}return n}}function ZR(t,e,r){if(!t||!Buffer.isBuffer(t)||t.length<12)return Buffer.alloc(0);let n=JR(r),i=n(t.slice(0,12)),s=(e.flags&8)===8?e.timeHighByte:e.crc>>>24;if(i[11]!==s)throw VR.WRONG_PASSWORD();return n(t.slice(12))}function KR(t){Buffer.isBuffer(t)&&t.length>=12?eo.genSalt=function(){return t.slice(0,12)}:t==="node"?eo.genSalt=ii.node:eo.genSalt=ii}function QR(t,e,r,n=!1){t==null&&(t=Buffer.alloc(0)),Buffer.isBuffer(t)||(t=Buffer.from(t.toString()));let i=XR(r),s=eo.genSalt();s[11]=e.crc>>>24&255,n&&(s[10]=e.crc>>>16&255);let o=Buffer.alloc(t.length+12);return i(s,o),i(t,o,12)}$E.exports={decrypt:ZR,encrypt:QR,_salter:KR}});var qE=y(ro=>{ro.Deflater=NE();ro.Inflater=OE();ro.ZipCrypto=BE()});var Pl=y((d1,UE)=>{var F=on(),eI=Rl(),z=F.Constants,Il=qE();UE.exports=function(t,e){var r=new eI.EntryHeader,n=Buffer.alloc(0),i=Buffer.alloc(0),s=!1,o=null,a=Buffer.alloc(0),c=Buffer.alloc(0),l=!0;let u=t,d=typeof u.decoder=="object"?u.decoder:F.decoder;l=d.hasOwnProperty("efs")?d.efs:!1;function m(){return!e||!(e instanceof Uint8Array)?Buffer.alloc(0):(c=r.loadLocalHeaderFromBinary(e),e.slice(r.realDataOffset,r.realDataOffset+r.compressedSize))}function f(p){if(r.flags_desc){let S={},v=r.realDataOffset+r.compressedSize;if(e.readUInt32LE(v)==z.LOCSIG||e.readUInt32LE(v)==z.CENSIG)throw F.Errors.DESCRIPTOR_NOT_EXIST();if(e.readUInt32LE(v)==z.EXTSIG)S.crc=e.readUInt32LE(v+z.EXTCRC),S.compressedSize=e.readUInt32LE(v+z.EXTSIZ),S.size=e.readUInt32LE(v+z.EXTLEN);else if(e.readUInt16LE(v+12)===19280)S.crc=e.readUInt32LE(v+z.EXTCRC-4),S.compressedSize=e.readUInt32LE(v+z.EXTSIZ-4),S.size=e.readUInt32LE(v+z.EXTLEN-4);else throw F.Errors.DESCRIPTOR_UNKNOWN();if(S.compressedSize!==r.compressedSize||S.size!==r.size||S.crc!==r.crc)throw F.Errors.DESCRIPTOR_FAULTY();if(F.crc32(p)!==S.crc)return!1}else if(F.crc32(p)!==r.localHeader.crc)return!1;return!0}function h(p,S,v){if(typeof S>"u"&&typeof p=="string"&&(v=p,p=void 0),s)return p&&S&&S(Buffer.alloc(0),F.Errors.DIRECTORY_CONTENT_ERROR()),Buffer.alloc(0);var b=m();if(b.length===0)return p&&S&&S(b),b;if(r.encrypted){if(typeof v!="string"&&!Buffer.isBuffer(v))throw F.Errors.INVALID_PASS_PARAM();b=Il.ZipCrypto.decrypt(b,r,v)}var _=Buffer.alloc(r.size);switch(r.method){case F.Constants.STORED:if(b.copy(_),f(_))return p&&S&&S(_),_;throw p&&S&&S(_,F.Errors.BAD_CRC()),F.Errors.BAD_CRC();case F.Constants.DEFLATED:var C=new Il.Inflater(b,r.size);if(p)C.inflateAsync(function(D){D.copy(D,0),S&&(f(D)?S(D):S(D,F.Errors.BAD_CRC()))});else{if(C.inflate(_).copy(_,0),!f(_))throw F.Errors.BAD_CRC(`"${d.decode(n)}"`);return _}break;default:throw p&&S&&S(Buffer.alloc(0),F.Errors.UNKNOWN_METHOD()),F.Errors.UNKNOWN_METHOD()}}function w(p,S){if((!o||!o.length)&&Buffer.isBuffer(e))return p&&S&&S(m()),m();if(o.length&&!s){var v;switch(r.method){case F.Constants.STORED:return r.compressedSize=r.size,v=Buffer.alloc(o.length),o.copy(v),p&&S&&S(v),v;default:case F.Constants.DEFLATED:var b=new Il.Deflater(o);if(p)b.deflateAsync(function(C){v=Buffer.alloc(C.length),r.compressedSize=C.length,C.copy(v),S&&S(v)});else{var _=b.deflate();return r.compressedSize=_.length,_}b=null;break}}else if(p&&S)S(Buffer.alloc(0));else return Buffer.alloc(0)}function g(p,S){return(p.readUInt32LE(S+4)<<4)+p.readUInt32LE(S)}function E(p){try{for(var S=0,v,b,_;S+4<p.length;)v=p.readUInt16LE(S),S+=2,b=p.readUInt16LE(S),S+=2,_=p.slice(S,S+b),S+=b,z.ID_ZIP64===v&&x(_)}catch{throw F.Errors.EXTRA_FIELD_PARSE_ERROR()}}function x(p){var S,v,b,_;p.length>=z.EF_ZIP64_SCOMP&&(S=g(p,z.EF_ZIP64_SUNCOMP),r.size===z.EF_ZIP64_OR_32&&(r.size=S)),p.length>=z.EF_ZIP64_RHO&&(v=g(p,z.EF_ZIP64_SCOMP),r.compressedSize===z.EF_ZIP64_OR_32&&(r.compressedSize=v)),p.length>=z.EF_ZIP64_DSN&&(b=g(p,z.EF_ZIP64_RHO),r.offset===z.EF_ZIP64_OR_32&&(r.offset=b)),p.length>=z.EF_ZIP64_DSN+4&&(_=p.readUInt32LE(z.EF_ZIP64_DSN),r.diskNumStart===z.EF_ZIP64_OR_16&&(r.diskNumStart=_))}return{get entryName(){return d.decode(n)},get rawEntryName(){return n},set entryName(p){n=F.toBuffer(p,d.encode);var S=n[n.length-1];s=S===47||S===92,r.fileNameLength=n.length},get efs(){return typeof l=="function"?l(this.entryName):l},get extra(){return a},set extra(p){a=p,r.extraLength=p.length,E(p)},get comment(){return d.decode(i)},set comment(p){if(i=F.toBuffer(p,d.encode),r.commentLength=i.length,i.length>65535)throw F.Errors.COMMENT_TOO_LONG()},get name(){var p=d.decode(n);return s?p.substr(p.length-1).split("/").pop():p.split("/").pop()},get isDirectory(){return s},getCompressedData:function(){return w(!1,null)},getCompressedDataAsync:function(p){w(!0,p)},setData:function(p){o=F.toBuffer(p,F.decoder.encode),!s&&o.length?(r.size=o.length,r.method=F.Constants.DEFLATED,r.crc=F.crc32(p),r.changed=!0):r.method=F.Constants.STORED},getData:function(p){return r.changed?o:h(!1,null,p)},getDataAsync:function(p,S){r.changed?p(o):h(!0,p,S)},set attr(p){r.attr=p},get attr(){return r.attr},set header(p){r.loadFromBinary(p)},get header(){return r},packCentralHeader:function(){r.flags_efs=this.efs,r.extraLength=a.length;var p=r.centralHeaderToBinary(),S=F.Constants.CENHDR;return n.copy(p,S),S+=n.length,a.copy(p,S),S+=r.extraLength,i.copy(p,S),p},packLocalHeader:function(){let p=0;r.flags_efs=this.efs,r.extraLocalLength=c.length;let S=r.localHeaderToBinary(),v=Buffer.alloc(S.length+n.length+r.extraLocalLength);return S.copy(v,p),p+=S.length,n.copy(v,p),p+=n.length,c.copy(v,p),p+=c.length,v},toJSON:function(){let p=function(S){return"<"+(S&&S.length+" bytes buffer"||"null")+">"};return{entryName:this.entryName,name:this.name,comment:this.comment,isDirectory:this.isDirectory,header:r.toJSON(),compressedData:p(e),data:p(o)}},toString:function(){return JSON.stringify(this.toJSON(),null,"	")}}}});var WE=y((h1,HE)=>{var ME=Pl(),tI=Rl(),ae=on();HE.exports=function(t,e){var r=[],n={},i=Buffer.alloc(0),s=new tI.MainHeader,o=!1,a=null;let c=new Set,l=e,{noSort:u,decoder:d}=l;t?h(l.readEntries):o=!0;function m(){let g=new Set;for(let E of Object.keys(n)){let x=E.split("/");if(x.pop(),!!x.length)for(let p=0;p<x.length;p++){let S=x.slice(0,p+1).join("/")+"/";g.add(S)}}for(let E of g)if(!(E in n)){let x=new ME(l);x.entryName=E,x.attr=16,x.temporary=!0,r.push(x),n[x.entryName]=x,c.add(x)}}function f(){if(o=!0,n={},s.diskEntries>(t.length-s.offset)/ae.Constants.CENHDR)throw ae.Errors.DISK_ENTRY_TOO_LARGE();r=new Array(s.diskEntries);for(var g=s.offset,E=0;E<r.length;E++){var x=g,p=new ME(l,t);p.header=t.slice(x,x+=ae.Constants.CENHDR),p.entryName=t.slice(x,x+=p.header.fileNameLength),p.header.extraLength&&(p.extra=t.slice(x,x+=p.header.extraLength)),p.header.commentLength&&(p.comment=t.slice(x,x+p.header.commentLength)),g+=p.header.centralHeaderSize,r[E]=p,n[p.entryName]=p}c.clear(),m()}function h(g){var E=t.length-ae.Constants.ENDHDR,x=Math.max(0,E-65535),p=x,S=t.length,v=-1,b=0;for((typeof l.trailingSpace=="boolean"?l.trailingSpace:!1)&&(x=0),E;E>=p;E--)if(t[E]===80){if(t.readUInt32LE(E)===ae.Constants.ENDSIG){v=E,b=E,S=E+ae.Constants.ENDHDR,p=E-ae.Constants.END64HDR;continue}if(t.readUInt32LE(E)===ae.Constants.END64SIG){p=x;continue}if(t.readUInt32LE(E)===ae.Constants.ZIP64SIG){v=E,S=E+ae.readBigUInt64LE(t,E+ae.Constants.ZIP64SIZE)+ae.Constants.ZIP64LEAD;break}}if(v==-1)throw ae.Errors.INVALID_FORMAT();s.loadFromBinary(t.slice(v,S)),s.commentLength&&(i=t.slice(b+ae.Constants.ENDHDR)),g&&f()}function w(){r.length>1&&!u&&r.sort((g,E)=>g.entryName.toLowerCase().localeCompare(E.entryName.toLowerCase()))}return{get entries(){return o||f(),r.filter(g=>!c.has(g))},get comment(){return d.decode(i)},set comment(g){i=ae.toBuffer(g,d.encode),s.commentLength=i.length},getEntryCount:function(){return o?r.length:s.diskEntries},forEach:function(g){this.entries.forEach(g)},getEntry:function(g){return o||f(),n[g]||null},setEntry:function(g){o||f(),r.push(g),n[g.entryName]=g,s.totalEntries=r.length},deleteFile:function(g,E=!0){o||f();let x=n[g];this.getEntryChildren(x,E).map(S=>S.entryName).forEach(this.deleteEntry)},deleteEntry:function(g){o||f();let E=n[g],x=r.indexOf(E);x>=0&&(r.splice(x,1),delete n[g],s.totalEntries=r.length)},getEntryChildren:function(g,E=!0){if(o||f(),typeof g=="object")if(g.isDirectory&&E){let x=[],p=g.entryName;for(let S of r)S.entryName.startsWith(p)&&x.push(S);return x}else return[g];return[]},getChildCount:function(g){if(g&&g.isDirectory){let E=this.getEntryChildren(g);return E.includes(g)?E.length-1:E.length}return 0},compressToBuffer:function(){o||f(),w();let g=[],E=[],x=0,p=0;s.size=0,s.offset=0;let S=0;for(let _ of this.entries){let C=_.getCompressedData();_.header.offset=p;let D=_.packLocalHeader(),P=D.length+C.length;p+=P,g.push(D),g.push(C);let T=_.packCentralHeader();E.push(T),s.size+=T.length,x+=P+T.length,S++}x+=s.mainHeaderSize,s.offset=p,s.totalEntries=S,p=0;let v=Buffer.alloc(x);for(let _ of g)_.copy(v,p),p+=_.length;for(let _ of E)_.copy(v,p),p+=_.length;let b=s.toBinary();return i&&i.copy(b,ae.Constants.ENDHDR),b.copy(v,p),t=v,o=!1,v},toAsyncBuffer:function(g,E,x,p){try{o||f(),w();let S=[],v=[],b=0,_=0,C=0;s.size=0,s.offset=0;let D=function(P){if(P.length>0){let T=P.shift(),ye=T.entryName+T.extra.toString();x&&x(ye),T.getCompressedDataAsync(function(me){p&&p(ye),T.header.offset=_;let br=T.packLocalHeader(),Du=br.length+me.length;_+=Du,S.push(br),S.push(me);let Fo=T.packCentralHeader();v.push(Fo),s.size+=Fo.length,b+=Du+Fo.length,C++,D(P)})}else{b+=s.mainHeaderSize,s.offset=_,s.totalEntries=C,_=0;let T=Buffer.alloc(b);S.forEach(function(me){me.copy(T,_),_+=me.length}),v.forEach(function(me){me.copy(T,_),_+=me.length});let ye=s.toBinary();i&&i.copy(ye,ae.Constants.ENDHDR),ye.copy(T,_),t=T,o=!1,g(T)}};D(Array.from(this.entries))}catch(S){E(S)}}}}});var zE=y((p1,jE)=>{var W=on(),V=require("path"),rI=Pl(),nI=WE(),mr=(...t)=>W.findLast(t,e=>typeof e=="boolean"),GE=(...t)=>W.findLast(t,e=>typeof e=="string"),iI=(...t)=>W.findLast(t,e=>typeof e=="function"),sI={noSort:!1,readEntries:!1,method:W.Constants.NONE,fs:null};jE.exports=function(t,e){let r=null,n=Object.assign(Object.create(null),sI);t&&typeof t=="object"&&(t instanceof Uint8Array||(Object.assign(n,t),t=n.input?n.input:void 0,n.input&&delete n.input),Buffer.isBuffer(t)&&(r=t,n.method=W.Constants.BUFFER,t=void 0)),Object.assign(n,e);let i=new W(n);if((typeof n.decoder!="object"||typeof n.decoder.encode!="function"||typeof n.decoder.decode!="function")&&(n.decoder=W.decoder),t&&typeof t=="string")if(i.fs.existsSync(t))n.method=W.Constants.FILE,n.filename=t,r=i.fs.readFileSync(t);else throw W.Errors.INVALID_FILENAME();let s=new nI(r,n),{canonical:o,sanitize:a,zipnamefix:c}=W;function l(f){if(f&&s){var h;if(typeof f=="string"&&(h=s.getEntry(V.posix.normalize(f))),typeof f=="object"&&typeof f.entryName<"u"&&typeof f.header<"u"&&(h=s.getEntry(f.entryName)),h)return h}return null}function u(f){let{join:h,normalize:w,sep:g}=V.posix;return h(".",w(g+f.split("\\").join(g)+g))}function d(f){return f instanceof RegExp?function(h){return function(w){return h.test(w)}}(f):typeof f!="function"?()=>!0:f}let m=(f,h)=>{let w=h.slice(-1);return w=w===i.sep?i.sep:"",V.relative(f,h)+w};return{readFile:function(f,h){var w=l(f);return w&&w.getData(h)||null},childCount:function(f){let h=l(f);if(h)return s.getChildCount(h)},readFileAsync:function(f,h){var w=l(f);w?w.getDataAsync(h):h(null,"getEntry failed for:"+f)},readAsText:function(f,h){var w=l(f);if(w){var g=w.getData();if(g&&g.length)return g.toString(h||"utf8")}return""},readAsTextAsync:function(f,h,w){var g=l(f);g?g.getDataAsync(function(E,x){if(x){h(E,x);return}E&&E.length?h(E.toString(w||"utf8")):h("")}):h("")},deleteFile:function(f,h=!0){var w=l(f);w&&s.deleteFile(w.entryName,h)},deleteEntry:function(f){var h=l(f);h&&s.deleteEntry(h.entryName)},addZipComment:function(f){s.comment=f},getZipComment:function(){return s.comment||""},addZipEntryComment:function(f,h){var w=l(f);w&&(w.comment=h)},getZipEntryComment:function(f){var h=l(f);return h&&h.comment||""},updateFile:function(f,h){var w=l(f);w&&w.setData(h)},addLocalFile:function(f,h,w,g){if(i.fs.existsSync(f)){h=h?u(h):"";let E=V.win32.basename(V.win32.normalize(f));h+=w||E;let x=i.fs.statSync(f),p=x.isFile()?i.fs.readFileSync(f):Buffer.alloc(0);x.isDirectory()&&(h+=i.sep),this.addFile(h,p,g,x)}else throw W.Errors.FILE_NOT_FOUND(f)},addLocalFileAsync:function(f,h){f=typeof f=="object"?f:{localPath:f};let w=V.resolve(f.localPath),{comment:g}=f,{zipPath:E,zipName:x}=f,p=this;i.fs.stat(w,function(S,v){if(S)return h(S,!1);E=E?u(E):"";let b=V.win32.basename(V.win32.normalize(w));if(E+=x||b,v.isFile())i.fs.readFile(w,function(_,C){return _?h(_,!1):(p.addFile(E,C,g,v),setImmediate(h,void 0,!0))});else if(v.isDirectory())return E+=i.sep,p.addFile(E,Buffer.alloc(0),g,v),setImmediate(h,void 0,!0)})},addLocalFolder:function(f,h,w){if(w=d(w),h=h?u(h):"",f=V.normalize(f),i.fs.existsSync(f)){let g=i.findFiles(f),E=this;if(g.length)for(let x of g){let p=V.join(h,m(f,x));w(p)&&E.addLocalFile(x,V.dirname(p))}}else throw W.Errors.FILE_NOT_FOUND(f)},addLocalFolderAsync:function(f,h,w,g){g=d(g),w=w?u(w):"",f=V.normalize(f);var E=this;i.fs.open(f,"r",function(x){if(x&&x.code==="ENOENT")h(void 0,W.Errors.FILE_NOT_FOUND(f));else if(x)h(void 0,x);else{var p=i.findFiles(f),S=-1,v=function(){if(S+=1,S<p.length){var b=p[S],_=m(f,b).split("\\").join("/");_=_.normalize("NFD").replace(/[\u0300-\u036f]/g,"").replace(/[^\x20-\x7E]/g,""),g(_)?i.fs.stat(b,function(C,D){C&&h(void 0,C),D.isFile()?i.fs.readFile(b,function(P,T){P?h(void 0,P):(E.addFile(w+_,T,"",D),v())}):(E.addFile(w+_+"/",Buffer.alloc(0),"",D),v())}):process.nextTick(()=>{v()})}else h(!0,void 0)};v()}})},addLocalFolderAsync2:function(f,h){let w=this;f=typeof f=="object"?f:{localPath:f},localPath=V.resolve(u(f.localPath));let{zipPath:g,filter:E,namefix:x}=f;E instanceof RegExp?E=function(v){return function(b){return v.test(b)}}(E):typeof E!="function"&&(E=function(){return!0}),g=g?u(g):"",x=="latin1"&&(x=v=>v.normalize("NFD").replace(/[\u0300-\u036f]/g,"").replace(/[^\x20-\x7E]/g,"")),typeof x!="function"&&(x=v=>v);let p=v=>V.join(g,x(m(localPath,v))),S=v=>V.win32.basename(V.win32.normalize(x(v)));i.fs.open(localPath,"r",function(v){v&&v.code==="ENOENT"?h(void 0,W.Errors.FILE_NOT_FOUND(localPath)):v?h(void 0,v):i.findFilesAsync(localPath,function(b,_){if(b)return h(b);_=_.filter(C=>E(p(C))),_.length||h(void 0,!1),setImmediate(_.reverse().reduce(function(C,D){return function(P,T){if(P||T===!1)return setImmediate(C,P,!1);w.addLocalFileAsync({localPath:D,zipPath:V.dirname(p(D)),zipName:S(D)},C)}},h))})})},addLocalFolderPromise:function(f,h){return new Promise((w,g)=>{this.addLocalFolderAsync2(Object.assign({localPath:f},h),(E,x)=>{E&&g(E),x&&w(this)})})},addFile:function(f,h,w,g){f=c(f);let E=l(f),x=E!=null;x||(E=new rI(n),E.entryName=f),E.comment=w||"";let p=typeof g=="object"&&g instanceof i.fs.Stats;p&&(E.header.time=g.mtime);var S=E.isDirectory?16:0;let v=E.isDirectory?16384:32768;return p?v|=4095&g.mode:typeof g=="number"?v|=4095&g:v|=E.isDirectory?493:420,S=(S|v<<16)>>>0,E.attr=S,E.setData(h),x||s.setEntry(E),E},getEntries:function(f){return s.password=f,s?s.entries:[]},getEntry:function(f){return l(f)},getEntryCount:function(){return s.getEntryCount()},forEach:function(f){return s.forEach(f)},extractEntryTo:function(f,h,w,g,E,x){g=mr(!1,g),E=mr(!1,E),w=mr(!0,w),x=GE(E,x);var p=l(f);if(!p)throw W.Errors.NO_ENTRY();var S=o(p.entryName),v=a(h,x&&!p.isDirectory?x:w?S:V.basename(S));if(p.isDirectory){var b=s.getEntryChildren(p);return b.forEach(function(D){if(D.isDirectory)return;var P=D.getData();if(!P)throw W.Errors.CANT_EXTRACT_FILE();var T=o(D.entryName),ye=a(h,w?T:V.basename(T));let me=E?D.header.fileAttr:void 0;i.writeFileTo(ye,P,g,me)}),!0}var _=p.getData(s.password);if(!_)throw W.Errors.CANT_EXTRACT_FILE();if(i.fs.existsSync(v)&&!g)throw W.Errors.CANT_OVERRIDE();let C=E?f.header.fileAttr:void 0;return i.writeFileTo(v,_,g,C),!0},test:function(f){if(!s)return!1;for(var h in s.entries)try{if(h.isDirectory)continue;var w=s.entries[h].getData(f);if(!w)return!1}catch{return!1}return!0},extractAllTo:function(f,h,w,g){if(w=mr(!1,w),g=GE(w,g),h=mr(!1,h),!s)throw W.Errors.NO_ZIP();s.entries.forEach(function(E){var x=a(f,o(E.entryName));if(E.isDirectory){i.makeDir(x);return}var p=E.getData(g);if(!p)throw W.Errors.CANT_EXTRACT_FILE();let S=w?E.header.fileAttr:void 0;i.writeFileTo(x,p,h,S);try{i.fs.utimesSync(x,E.header.time,E.header.time)}catch{throw W.Errors.CANT_EXTRACT_FILE()}})},extractAllToAsync:function(f,h,w,g){if(g=iI(h,w,g),w=mr(!1,w),h=mr(!1,h),!g)return new Promise((v,b)=>{this.extractAllToAsync(f,h,w,function(_){_?b(_):v(this)})});if(!s){g(W.Errors.NO_ZIP());return}f=V.resolve(f);let E=v=>a(f,V.normalize(o(v.entryName))),x=(v,b)=>new Error(v+': "'+b+'"'),p=[],S=[];s.entries.forEach(v=>{v.isDirectory?p.push(v):S.push(v)});for(let v of p){let b=E(v),_=w?v.header.fileAttr:void 0;try{i.makeDir(b),_&&i.fs.chmodSync(b,_),i.fs.utimesSync(b,v.header.time,v.header.time)}catch{g(x("Unable to create folder",b))}}S.reverse().reduce(function(v,b){return function(_){if(_)v(_);else{let C=V.normalize(o(b.entryName)),D=a(f,C);b.getDataAsync(function(P,T){if(T)v(T);else if(!P)v(W.Errors.CANT_EXTRACT_FILE());else{let ye=w?b.header.fileAttr:void 0;i.writeFileToAsync(D,P,h,ye,function(me){me||v(x("Unable to write file",D)),i.fs.utimes(D,b.header.time,b.header.time,function(br){br?v(x("Unable to set times",D)):v()})})}})}}},g)()},writeZip:function(f,h){if(arguments.length===1&&typeof f=="function"&&(h=f,f=""),!f&&n.filename&&(f=n.filename),!!f){var w=s.compressToBuffer();if(w){var g=i.writeFileTo(f,w,!0);typeof h=="function"&&h(g?null:new Error("failed"),"")}}},writeZipPromise:function(f,h){let{overwrite:w,perm:g}=Object.assign({overwrite:!0},h);return new Promise((E,x)=>{!f&&n.filename&&(f=n.filename),f||x("ADM-ZIP: ZIP File Name Missing"),this.toBufferPromise().then(p=>{let S=v=>v?E(v):x("ADM-ZIP: Wasn't able to write zip file");i.writeFileToAsync(f,p,w,g,S)},x)})},toBufferPromise:function(){return new Promise((f,h)=>{s.toAsyncBuffer(f,h)})},toBuffer:function(f,h,w,g){return typeof f=="function"?(s.toAsyncBuffer(f,h,w,g),null):s.compressToBuffer()}}}});var YE=y((g1,VE)=>{VE.exports=class{constructor(e){if(!(e>0)||(e-1&e)!==0)throw new Error("Max size for a FixedFIFO should be a power of two");this.buffer=new Array(e),this.mask=e-1,this.top=0,this.btm=0,this.next=null}clear(){this.top=this.btm=0,this.next=null,this.buffer.fill(void 0)}push(e){return this.buffer[this.top]!==void 0?!1:(this.buffer[this.top]=e,this.top=this.top+1&this.mask,!0)}shift(){let e=this.buffer[this.btm];if(e!==void 0)return this.buffer[this.btm]=void 0,this.btm=this.btm+1&this.mask,e}peek(){return this.buffer[this.btm]}isEmpty(){return this.buffer[this.btm]===void 0}}});var Cl=y((w1,XE)=>{var JE=YE();XE.exports=class{constructor(e){this.hwm=e||16,this.head=new JE(this.hwm),this.tail=this.head,this.length=0}clear(){this.head=this.tail,this.head.clear(),this.length=0}push(e){if(this.length++,!this.head.push(e)){let r=this.head;this.head=r.next=new JE(2*this.head.buffer.length),this.head.push(e)}}shift(){this.length!==0&&this.length--;let e=this.tail.shift();if(e===void 0&&this.tail.next){let r=this.tail.next;return this.tail.next=null,this.tail=r,this.tail.shift()}return e}peek(){let e=this.tail.peek();return e===void 0&&this.tail.next?this.tail.next.peek():e}isEmpty(){return this.length===0}}});var cn=y((y1,ZE)=>{function oI(t){return Buffer.isBuffer(t)||t instanceof Uint8Array}function aI(t){return Buffer.isEncoding(t)}function cI(t,e,r){return Buffer.alloc(t,e,r)}function lI(t){return Buffer.allocUnsafe(t)}function uI(t){return Buffer.allocUnsafeSlow(t)}function fI(t,e){return Buffer.byteLength(t,e)}function dI(t,e){return Buffer.compare(t,e)}function hI(t,e){return Buffer.concat(t,e)}function pI(t,e,r,n,i){return B(t).copy(e,r,n,i)}function mI(t,e){return B(t).equals(e)}function gI(t,e,r,n,i){return B(t).fill(e,r,n,i)}function EI(t,e,r){return Buffer.from(t,e,r)}function wI(t,e,r,n){return B(t).includes(e,r,n)}function yI(t,e,r,n){return B(t).indexOf(e,r,n)}function SI(t,e,r,n){return B(t).lastIndexOf(e,r,n)}function xI(t){return B(t).swap16()}function vI(t){return B(t).swap32()}function _I(t){return B(t).swap64()}function B(t){return Buffer.isBuffer(t)?t:Buffer.from(t.buffer,t.byteOffset,t.byteLength)}function bI(t,e,r,n){return B(t).toString(e,r,n)}function LI(t,e,r,n,i){return B(t).write(e,r,n,i)}function RI(t,e,r){return B(t).writeDoubleLE(e,r)}function II(t,e,r){return B(t).writeFloatLE(e,r)}function PI(t,e,r){return B(t).writeUInt32LE(e,r)}function CI(t,e,r){return B(t).writeInt32LE(e,r)}function TI(t,e){return B(t).readDoubleLE(e)}function NI(t,e){return B(t).readFloatLE(e)}function DI(t,e){return B(t).readUInt32LE(e)}function OI(t,e){return B(t).readInt32LE(e)}function AI(t,e,r){return B(t).writeDoubleBE(e,r)}function kI(t,e,r){return B(t).writeFloatBE(e,r)}function FI(t,e,r){return B(t).writeUInt32BE(e,r)}function $I(t,e,r){return B(t).writeInt32BE(e,r)}function BI(t,e){return B(t).readDoubleBE(e)}function qI(t,e){return B(t).readFloatBE(e)}function UI(t,e){return B(t).readUInt32BE(e)}function MI(t,e){return B(t).readInt32BE(e)}ZE.exports={isBuffer:oI,isEncoding:aI,alloc:cI,allocUnsafe:lI,allocUnsafeSlow:uI,byteLength:fI,compare:dI,concat:hI,copy:pI,equals:mI,fill:gI,from:EI,includes:wI,indexOf:yI,lastIndexOf:SI,swap16:xI,swap32:vI,swap64:_I,toBuffer:B,toString:bI,write:LI,writeDoubleLE:RI,writeFloatLE:II,writeUInt32LE:PI,writeInt32LE:CI,readDoubleLE:TI,readFloatLE:NI,readUInt32LE:DI,readInt32LE:OI,writeDoubleBE:AI,writeFloatBE:kI,writeUInt32BE:FI,writeInt32BE:$I,readDoubleBE:BI,readFloatBE:qI,readUInt32BE:UI,readInt32BE:MI}});var QE=y((x1,KE)=>{var HI=cn();KE.exports=class{constructor(e){this.encoding=e}get remaining(){return 0}decode(e){return HI.toString(e,this.encoding)}flush(){return""}}});var tw=y((_1,ew)=>{var WI=cn();ew.exports=class{constructor(){this.codePoint=0,this.bytesSeen=0,this.bytesNeeded=0,this.lowerBoundary=128,this.upperBoundary=191}get remaining(){return this.bytesSeen}decode(e){if(this.bytesNeeded===0){let n=!0;for(let i=Math.max(0,e.byteLength-4),s=e.byteLength;i<s&&n;i++)n=e[i]<=127;if(n)return WI.toString(e,"utf8")}let r="";for(let n=0,i=e.byteLength;n<i;n++){let s=e[n];if(this.bytesNeeded===0){s<=127?r+=String.fromCharCode(s):(this.bytesSeen=1,s>=194&&s<=223?(this.bytesNeeded=2,this.codePoint=s&31):s>=224&&s<=239?(s===224?this.lowerBoundary=160:s===237&&(this.upperBoundary=159),this.bytesNeeded=3,this.codePoint=s&15):s>=240&&s<=244?(s===240&&(this.lowerBoundary=144),s===244&&(this.upperBoundary=143),this.bytesNeeded=4,this.codePoint=s&7):r+="\uFFFD");continue}if(s<this.lowerBoundary||s>this.upperBoundary){this.codePoint=0,this.bytesNeeded=0,this.bytesSeen=0,this.lowerBoundary=128,this.upperBoundary=191,r+="\uFFFD";continue}this.lowerBoundary=128,this.upperBoundary=191,this.codePoint=this.codePoint<<6|s&63,this.bytesSeen++,this.bytesSeen===this.bytesNeeded&&(r+=String.fromCodePoint(this.codePoint),this.codePoint=0,this.bytesNeeded=0,this.bytesSeen=0)}return r}flush(){let e=this.bytesNeeded>0?"\uFFFD":"";return this.codePoint=0,this.bytesNeeded=0,this.bytesSeen=0,this.lowerBoundary=128,this.upperBoundary=191,e}}});var nw=y((L1,rw)=>{var GI=QE(),jI=tw();rw.exports=class{constructor(e="utf8"){switch(this.encoding=zI(e),this.encoding){case"utf8":this.decoder=new jI;break;case"utf16le":case"base64":throw new Error("Unsupported encoding: "+this.encoding);default:this.decoder=new GI(this.encoding)}}get remaining(){return this.decoder.remaining}push(e){return typeof e=="string"?e:this.decoder.decode(e)}write(e){return this.push(e)}end(e){let r="";return e&&(r=this.push(e)),r+=this.decoder.flush(),r}};function zI(t){switch(t=t.toLowerCase(),t){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return t;default:throw new Error("Unknown encoding: "+t)}}});var Gl=y((R1,Rw)=>{var{EventEmitter:VI}=require("events"),co=new Error("Stream was destroyed"),Tl=new Error("Premature close"),lw=Cl(),YI=nw(),G=(1<<29)-1,ot=1,$l=2,gr=4,si=8,uw=G^ot,JI=G^$l,ui=16,ln=32,dn=64,Vt=128,fi=256,Bl=512,Er=1024,Nl=2048,ql=4096,Ul=8192,Je=16384,zt=32768,lo=65536,wr=131072,fw=fi|Bl,XI=ui|lo,ZI=dn|ui,KI=ql|Vt,Ml=fi|wr,QI=G^ui,eP=G^dn,tP=G^(dn|lo),iw=G^lo,rP=G^fi,nP=G^(Vt|Ul),iP=G^Er,sw=G^fw,dw=G^zt,sP=G^ln,hw=G^wr,oP=G^Ml,Rt=1<<18,fn=2<<18,di=4<<18,yr=8<<18,hi=16<<18,Yt=32<<18,Dl=64<<18,un=128<<18,Hl=256<<18,Sr=512<<18,uo=1024<<18,aP=G^(Rt|Hl),pw=G^di,cP=G^(Rt|Sr),lP=G^hi,uP=G^yr,mw=G^un,fP=G^fn,gw=G^uo,oi=ui|Rt,Ew=G^oi,Wl=Je|Yt,at=gr|si|$l,Te=at|ot,ww=at|Wl,dP=pw&eP,fo=un|zt,hP=fo&Ew,yw=Te|hP,pP=Te|Er|Je,ow=Te|Je|Vt,mP=Te|Er|Vt,gP=Te|ql|Vt|Ul,EP=Te|ui|Er|Je|lo|wr,wP=at|Er|Je,yP=ln|Te|zt|dn,SP=zt|ot,xP=Te|Sr|Yt,vP=yr|hi,Sw=yr|Rt,_P=yr|hi|Te|Rt,aw=Te|Rt|yr|uo,bP=di|Rt,LP=Rt|Hl,RP=Te|Sr|Sw|Yt,IP=hi|at|Sr|Yt,PP=fn|Te|un|di,CP=Sr|Yt|at,no=Symbol.asyncIterator||Symbol("asyncIterator"),io=class{constructor(e,{highWaterMark:r=16384,map:n=null,mapWritable:i,byteLength:s,byteLengthWritable:o}={}){this.stream=e,this.queue=new lw,this.highWaterMark=r,this.buffered=0,this.error=null,this.pipeline=null,this.drains=null,this.byteLength=o||s||Lw,this.map=i||n,this.afterWrite=DP.bind(this),this.afterUpdateNextTick=kP.bind(this)}get ended(){return(this.stream._duplexState&Yt)!==0}push(e){return(this.stream._duplexState&CP)!==0?!1:(this.map!==null&&(e=this.map(e)),this.buffered+=this.byteLength(e),this.queue.push(e),this.buffered<this.highWaterMark?(this.stream._duplexState|=yr,!0):(this.stream._duplexState|=vP,!1))}shift(){let e=this.queue.shift();return this.buffered-=this.byteLength(e),this.buffered===0&&(this.stream._duplexState&=uP),e}end(e){typeof e=="function"?this.stream.once("finish",e):e!=null&&this.push(e),this.stream._duplexState=(this.stream._duplexState|Sr)&pw}autoBatch(e,r){let n=[],i=this.stream;for(n.push(e);(i._duplexState&aw)===Sw;)n.push(i._writableState.shift());if((i._duplexState&Te)!==0)return r(null);i._writev(n,r)}update(){let e=this.stream;e._duplexState|=fn;do{for(;(e._duplexState&aw)===yr;){let r=this.shift();e._duplexState|=LP,e._write(r,this.afterWrite)}(e._duplexState&bP)===0&&this.updateNonPrimary()}while(this.continueUpdate()===!0);e._duplexState&=fP}updateNonPrimary(){let e=this.stream;if((e._duplexState&RP)===Sr){e._duplexState=e._duplexState|Rt,e._final(NP.bind(this));return}if((e._duplexState&at)===gr){(e._duplexState&fo)===0&&(e._duplexState|=oi,e._destroy(xw.bind(this)));return}(e._duplexState&yw)===ot&&(e._duplexState=(e._duplexState|oi)&uw,e._open(vw.bind(this)))}continueUpdate(){return(this.stream._duplexState&un)===0?!1:(this.stream._duplexState&=mw,!0)}updateCallback(){(this.stream._duplexState&PP)===di?this.update():this.updateNextTick()}updateNextTick(){(this.stream._duplexState&un)===0&&(this.stream._duplexState|=un,(this.stream._duplexState&fn)===0&&queueMicrotask(this.afterUpdateNextTick))}},Ol=class{constructor(e,{highWaterMark:r=16384,map:n=null,mapReadable:i,byteLength:s,byteLengthReadable:o}={}){this.stream=e,this.queue=new lw,this.highWaterMark=r===0?1:r,this.buffered=0,this.readAhead=r>0,this.error=null,this.pipeline=null,this.byteLength=o||s||Lw,this.map=i||n,this.pipeTo=null,this.afterRead=OP.bind(this),this.afterUpdateNextTick=AP.bind(this)}get ended(){return(this.stream._duplexState&Je)!==0}pipe(e,r){if(this.pipeTo!==null)throw new Error("Can only pipe to one destination");if(typeof r!="function"&&(r=null),this.stream._duplexState|=Bl,this.pipeTo=e,this.pipeline=new kl(this.stream,e,r),r&&this.stream.on("error",cw),li(e))e._writableState.pipeline=this.pipeline,r&&e.on("error",cw),e.on("finish",this.pipeline.finished.bind(this.pipeline));else{let n=this.pipeline.done.bind(this.pipeline,e),i=this.pipeline.done.bind(this.pipeline,e,null);e.on("error",n),e.on("close",i),e.on("finish",this.pipeline.finished.bind(this.pipeline))}e.on("drain",TP.bind(this)),this.stream.emit("piping",e),e.emit("pipe",this.stream)}push(e){let r=this.stream;return e===null?(this.highWaterMark=0,r._duplexState=(r._duplexState|Er)&tP,!1):this.map!==null&&(e=this.map(e),e===null)?(r._duplexState&=iw,this.buffered<this.highWaterMark):(this.buffered+=this.byteLength(e),this.queue.push(e),r._duplexState=(r._duplexState|Vt)&iw,this.buffered<this.highWaterMark)}shift(){let e=this.queue.shift();return this.buffered-=this.byteLength(e),this.buffered===0&&(this.stream._duplexState&=nP),e}unshift(e){let r=[this.map!==null?this.map(e):e];for(;this.buffered>0;)r.push(this.shift());for(let n=0;n<r.length-1;n++){let i=r[n];this.buffered+=this.byteLength(i),this.queue.push(i)}this.push(r[r.length-1])}read(){let e=this.stream;if((e._duplexState&ow)===Vt){let r=this.shift();return this.pipeTo!==null&&this.pipeTo.write(r)===!1&&(e._duplexState&=sw),(e._duplexState&Nl)!==0&&e.emit("data",r),r}return this.readAhead===!1&&(e._duplexState|=wr,this.updateNextTick()),null}drain(){let e=this.stream;for(;(e._duplexState&ow)===Vt&&(e._duplexState&fw)!==0;){let r=this.shift();this.pipeTo!==null&&this.pipeTo.write(r)===!1&&(e._duplexState&=sw),(e._duplexState&Nl)!==0&&e.emit("data",r)}}update(){let e=this.stream;e._duplexState|=ln;do{for(this.drain();this.buffered<this.highWaterMark&&(e._duplexState&EP)===wr;)e._duplexState|=XI,e._read(this.afterRead),this.drain();(e._duplexState&gP)===KI&&(e._duplexState|=Ul,e.emit("readable")),(e._duplexState&ZI)===0&&this.updateNonPrimary()}while(this.continueUpdate()===!0);e._duplexState&=sP}updateNonPrimary(){let e=this.stream;if((e._duplexState&mP)===Er&&(e._duplexState=(e._duplexState|Je)&iP,e.emit("end"),(e._duplexState&ww)===Wl&&(e._duplexState|=gr),this.pipeTo!==null&&this.pipeTo.end()),(e._duplexState&at)===gr){(e._duplexState&fo)===0&&(e._duplexState|=oi,e._destroy(xw.bind(this)));return}(e._duplexState&yw)===ot&&(e._duplexState=(e._duplexState|oi)&uw,e._open(vw.bind(this)))}continueUpdate(){return(this.stream._duplexState&zt)===0?!1:(this.stream._duplexState&=dw,!0)}updateCallback(){(this.stream._duplexState&yP)===dn?this.update():this.updateNextTick()}updateNextTickIfOpen(){(this.stream._duplexState&SP)===0&&(this.stream._duplexState|=zt,(this.stream._duplexState&ln)===0&&queueMicrotask(this.afterUpdateNextTick))}updateNextTick(){(this.stream._duplexState&zt)===0&&(this.stream._duplexState|=zt,(this.stream._duplexState&ln)===0&&queueMicrotask(this.afterUpdateNextTick))}},Al=class{constructor(e){this.data=null,this.afterTransform=$P.bind(e),this.afterFinal=null}},kl=class{constructor(e,r,n){this.from=e,this.to=r,this.afterPipe=n,this.error=null,this.pipeToFinished=!1}finished(){this.pipeToFinished=!0}done(e,r){if(r&&(this.error=r),e===this.to&&(this.to=null,this.from!==null)){((this.from._duplexState&Je)===0||!this.pipeToFinished)&&this.from.destroy(this.error||new Error("Writable stream closed prematurely"));return}if(e===this.from&&(this.from=null,this.to!==null)){(e._duplexState&Je)===0&&this.to.destroy(this.error||new Error("Readable stream closed before ending"));return}this.afterPipe!==null&&this.afterPipe(this.error),this.to=this.from=this.afterPipe=null}};function TP(){this.stream._duplexState|=Bl,this.updateCallback()}function NP(t){let e=this.stream;t&&e.destroy(t),(e._duplexState&at)===0&&(e._duplexState|=Yt,e.emit("finish")),(e._duplexState&ww)===Wl&&(e._duplexState|=gr),e._duplexState&=cP,(e._duplexState&fn)===0?this.update():this.updateNextTick()}function xw(t){let e=this.stream;!t&&this.error!==co&&(t=this.error),t&&e.emit("error",t),e._duplexState|=si,e.emit("close");let r=e._readableState,n=e._writableState;if(r!==null&&r.pipeline!==null&&r.pipeline.done(e,t),n!==null){for(;n.drains!==null&&n.drains.length>0;)n.drains.shift().resolve(!1);n.pipeline!==null&&n.pipeline.done(e,t)}}function DP(t){let e=this.stream;t&&e.destroy(t),e._duplexState&=aP,this.drains!==null&&FP(this.drains),(e._duplexState&_P)===hi&&(e._duplexState&=lP,(e._duplexState&Dl)===Dl&&e.emit("drain")),this.updateCallback()}function OP(t){t&&this.stream.destroy(t),this.stream._duplexState&=QI,this.readAhead===!1&&(this.stream._duplexState&fi)===0&&(this.stream._duplexState&=hw),this.updateCallback()}function AP(){(this.stream._duplexState&ln)===0&&(this.stream._duplexState&=dw,this.update())}function kP(){(this.stream._duplexState&fn)===0&&(this.stream._duplexState&=mw,this.update())}function FP(t){for(let e=0;e<t.length;e++)--t[e].writes===0&&(t.shift().resolve(!0),e--)}function vw(t){let e=this.stream;t&&e.destroy(t),(e._duplexState&gr)===0&&((e._duplexState&pP)===0&&(e._duplexState|=dn),(e._duplexState&xP)===0&&(e._duplexState|=di),e.emit("open")),e._duplexState&=Ew,e._writableState!==null&&e._writableState.updateCallback(),e._readableState!==null&&e._readableState.updateCallback()}function $P(t,e){e!=null&&this.push(e),this._writableState.afterWrite(t)}function BP(t){this._readableState!==null&&(t==="data"&&(this._duplexState|=Nl|Ml,this._readableState.updateNextTick()),t==="readable"&&(this._duplexState|=ql,this._readableState.updateNextTick())),this._writableState!==null&&t==="drain"&&(this._duplexState|=Dl,this._writableState.updateNextTick())}var ai=class extends VI{constructor(e){super(),this._duplexState=0,this._readableState=null,this._writableState=null,e&&(e.open&&(this._open=e.open),e.destroy&&(this._destroy=e.destroy),e.predestroy&&(this._predestroy=e.predestroy),e.signal&&e.signal.addEventListener("abort",YP.bind(this))),this.on("newListener",BP)}_open(e){e(null)}_destroy(e){e(null)}_predestroy(){}get readable(){return this._readableState!==null?!0:void 0}get writable(){return this._writableState!==null?!0:void 0}get destroyed(){return(this._duplexState&si)!==0}get destroying(){return(this._duplexState&at)!==0}destroy(e){(this._duplexState&at)===0&&(e||(e=co),this._duplexState=(this._duplexState|gr)&dP,this._readableState!==null&&(this._readableState.highWaterMark=0,this._readableState.error=e),this._writableState!==null&&(this._writableState.highWaterMark=0,this._writableState.error=e),this._duplexState|=$l,this._predestroy(),this._duplexState&=JI,this._readableState!==null&&this._readableState.updateNextTick(),this._writableState!==null&&this._writableState.updateNextTick())}},so=class t extends ai{constructor(e){super(e),this._duplexState|=ot|Yt|wr,this._readableState=new Ol(this,e),e&&(this._readableState.readAhead===!1&&(this._duplexState&=hw),e.read&&(this._read=e.read),e.eagerOpen&&this._readableState.updateNextTick(),e.encoding&&this.setEncoding(e.encoding))}setEncoding(e){let r=new YI(e),n=this._readableState.map||MP;return this._readableState.map=i,this;function i(s){let o=r.push(s);return o===""&&(s.byteLength!==0||r.remaining>0)?null:n(o)}}_read(e){e(null)}pipe(e,r){return this._readableState.updateNextTick(),this._readableState.pipe(e,r),e}read(){return this._readableState.updateNextTick(),this._readableState.read()}push(e){return this._readableState.updateNextTickIfOpen(),this._readableState.push(e)}unshift(e){return this._readableState.updateNextTickIfOpen(),this._readableState.unshift(e)}resume(){return this._duplexState|=Ml,this._readableState.updateNextTick(),this}pause(){return this._duplexState&=this._readableState.readAhead===!1?oP:rP,this}static _fromAsyncIterator(e,r){let n,i=new t({...r,read(o){e.next().then(s).then(o.bind(null,null)).catch(o)},predestroy(){n=e.return()},destroy(o){if(!n)return o(null);n.then(o.bind(null,null)).catch(o)}});return i;function s(o){o.done?i.push(null):i.push(o.value)}}static from(e,r){if(jP(e))return e;if(e[no])return this._fromAsyncIterator(e[no](),r);Array.isArray(e)||(e=e===void 0?[]:[e]);let n=0;return new t({...r,read(i){this.push(n===e.length?null:e[n++]),i(null)}})}static isBackpressured(e){return(e._duplexState&wP)!==0||e._readableState.buffered>=e._readableState.highWaterMark}static isPaused(e){return(e._duplexState&fi)===0}[no](){let e=this,r=null,n=null,i=null;return this.on("error",l=>{r=l}),this.on("readable",s),this.on("close",o),{[no](){return this},next(){return new Promise(function(l,u){n=l,i=u;let d=e.read();d!==null?a(d):(e._duplexState&si)!==0&&a(null)})},return(){return c(null)},throw(l){return c(l)}};function s(){n!==null&&a(e.read())}function o(){n!==null&&a(null)}function a(l){i!==null&&(r?i(r):l===null&&(e._duplexState&Je)===0?i(co):n({value:l,done:l===null}),i=n=null)}function c(l){return e.destroy(l),new Promise((u,d)=>{if(e._duplexState&si)return u({value:void 0,done:!0});e.once("close",function(){l?d(l):u({value:void 0,done:!0})})})}}},oo=class extends ai{constructor(e){super(e),this._duplexState|=ot|Je,this._writableState=new io(this,e),e&&(e.writev&&(this._writev=e.writev),e.write&&(this._write=e.write),e.final&&(this._final=e.final),e.eagerOpen&&this._writableState.updateNextTick())}cork(){this._duplexState|=uo}uncork(){this._duplexState&=gw,this._writableState.updateNextTick()}_writev(e,r){r(null)}_write(e,r){this._writableState.autoBatch(e,r)}_final(e){e(null)}static isBackpressured(e){return(e._duplexState&IP)!==0}static drained(e){if(e.destroyed)return Promise.resolve(!1);let r=e._writableState,i=(JP(e)?Math.min(1,r.queue.length):r.queue.length)+(e._duplexState&Hl?1:0);return i===0?Promise.resolve(!0):(r.drains===null&&(r.drains=[]),new Promise(s=>{r.drains.push({writes:i,resolve:s})}))}write(e){return this._writableState.updateNextTick(),this._writableState.push(e)}end(e){return this._writableState.updateNextTick(),this._writableState.end(e),this}},ci=class extends so{constructor(e){super(e),this._duplexState=ot|this._duplexState&wr,this._writableState=new io(this,e),e&&(e.writev&&(this._writev=e.writev),e.write&&(this._write=e.write),e.final&&(this._final=e.final))}cork(){this._duplexState|=uo}uncork(){this._duplexState&=gw,this._writableState.updateNextTick()}_writev(e,r){r(null)}_write(e,r){this._writableState.autoBatch(e,r)}_final(e){e(null)}write(e){return this._writableState.updateNextTick(),this._writableState.push(e)}end(e){return this._writableState.updateNextTick(),this._writableState.end(e),this}},ao=class extends ci{constructor(e){super(e),this._transformState=new Al(this),e&&(e.transform&&(this._transform=e.transform),e.flush&&(this._flush=e.flush))}_write(e,r){this._readableState.buffered>=this._readableState.highWaterMark?this._transformState.data=e:this._transform(e,this._transformState.afterTransform)}_read(e){if(this._transformState.data!==null){let r=this._transformState.data;this._transformState.data=null,e(null),this._transform(r,this._transformState.afterTransform)}else e(null)}destroy(e){super.destroy(e),this._transformState.data!==null&&(this._transformState.data=null,this._transformState.afterTransform())}_transform(e,r){r(null,e)}_flush(e){e(null)}_final(e){this._transformState.afterFinal=e,this._flush(qP.bind(this))}},Fl=class extends ao{};function qP(t,e){let r=this._transformState.afterFinal;if(t)return r(t);e!=null&&this.push(e),this.push(null),r(null)}function UP(...t){return new Promise((e,r)=>_w(...t,n=>{if(n)return r(n);e()}))}function _w(t,...e){let r=Array.isArray(t)?[...t,...e]:[t,...e],n=r.length&&typeof r[r.length-1]=="function"?r.pop():null;if(r.length<2)throw new Error("Pipeline requires at least 2 streams");let i=r[0],s=null,o=null;for(let l=1;l<r.length;l++)s=r[l],li(i)?i.pipe(s,c):(a(i,!0,l>1,c),i.pipe(s)),i=s;if(n){let l=!1,u=li(s)||!!(s._writableState&&s._writableState.autoDestroy);s.on("error",d=>{o===null&&(o=d)}),s.on("finish",()=>{l=!0,u||n(o)}),u&&s.on("close",()=>n(o||(l?null:Tl)))}return s;function a(l,u,d,m){l.on("error",m),l.on("close",f);function f(){if(u&&l._readableState&&!l._readableState.ended||d&&l._writableState&&!l._writableState.ended)return m(Tl)}}function c(l){if(!(!l||o)){o=l;for(let u of r)u.destroy(l)}}}function MP(t){return t}function bw(t){return!!t._readableState||!!t._writableState}function li(t){return typeof t._duplexState=="number"&&bw(t)}function HP(t){return!!t._readableState&&t._readableState.ended}function WP(t){return!!t._writableState&&t._writableState.ended}function GP(t,e={}){let r=t._readableState&&t._readableState.error||t._writableState&&t._writableState.error;return!e.all&&r===co?null:r}function jP(t){return li(t)&&t.readable}function zP(t){return(t._duplexState&ot)!==ot||(t._duplexState&fo)!==0}function VP(t){return typeof t=="object"&&t!==null&&typeof t.byteLength=="number"}function Lw(t){return VP(t)?t.byteLength:1024}function cw(){}function YP(){this.destroy(new Error("Stream aborted."))}function JP(t){return t._writev!==oo.prototype._writev&&t._writev!==ci.prototype._writev}Rw.exports={pipeline:_w,pipelinePromise:UP,isStream:bw,isStreamx:li,isEnded:HP,isFinished:WP,isDisturbed:zP,getStreamError:GP,Stream:ai,Writable:oo,Readable:so,Duplex:ci,Transform:ao,PassThrough:Fl}});var Vl=y(pn=>{var O=cn(),XP="0000000000000000000",ZP="7777777777777777777",ho=48,Iw=O.from([117,115,116,97,114,0]),KP=O.from([ho,ho]),QP=O.from([117,115,116,97,114,32]),eC=O.from([32,0]),tC=4095,pi=257,zl=263;pn.decodeLongPath=function(e,r){return hn(e,0,e.length,r)};pn.encodePax=function(e){let r="";e.name&&(r+=jl(" path="+e.name+`
`)),e.linkname&&(r+=jl(" linkpath="+e.linkname+`
`));let n=e.pax;if(n)for(let i in n)r+=jl(" "+i+"="+n[i]+`
`);return O.from(r)};pn.decodePax=function(e){let r={};for(;e.length;){let n=0;for(;n<e.length&&e[n]!==32;)n++;let i=parseInt(O.toString(e.subarray(0,n)),10);if(!i)return r;let s=O.toString(e.subarray(n+1,i-1)),o=s.indexOf("=");if(o===-1)return r;r[s.slice(0,o)]=s.slice(o+1),e=e.subarray(i)}return r};pn.encode=function(e){let r=O.alloc(512),n=e.name,i="";if(e.typeflag===5&&n[n.length-1]!=="/"&&(n+="/"),O.byteLength(n)!==n.length)return null;for(;O.byteLength(n)>100;){let s=n.indexOf("/");if(s===-1)return null;i+=i?"/"+n.slice(0,s):n.slice(0,s),n=n.slice(s+1)}return O.byteLength(n)>100||O.byteLength(i)>155||e.linkname&&O.byteLength(e.linkname)>100?null:(O.write(r,n),O.write(r,Xt(e.mode&tC,6),100),O.write(r,Xt(e.uid,6),108),O.write(r,Xt(e.gid,6),116),cC(e.size,r,124),O.write(r,Xt(e.mtime.getTime()/1e3|0,11),136),r[156]=ho+oC(e.type),e.linkname&&O.write(r,e.linkname,157),O.copy(Iw,r,pi),O.copy(KP,r,zl),e.uname&&O.write(r,e.uname,265),e.gname&&O.write(r,e.gname,297),O.write(r,Xt(e.devmajor||0,6),329),O.write(r,Xt(e.devminor||0,6),337),i&&O.write(r,i,345),O.write(r,Xt(Cw(r),6),148),r)};pn.decode=function(e,r,n){let i=e[156]===0?0:e[156]-ho,s=hn(e,0,100,r),o=Jt(e,100,8),a=Jt(e,108,8),c=Jt(e,116,8),l=Jt(e,124,12),u=Jt(e,136,12),d=sC(i),m=e[157]===0?null:hn(e,157,100,r),f=hn(e,265,32),h=hn(e,297,32),w=Jt(e,329,8),g=Jt(e,337,8),E=Cw(e);if(E===8*32)return null;if(E!==Jt(e,148,8))throw new Error("Invalid tar header. Maybe the tar is corrupted or it needs to be gunzipped?");if(rC(e))e[345]&&(s=hn(e,345,155,r)+"/"+s);else if(!nC(e)){if(!n)throw new Error("Invalid tar header: unknown format.")}return i===0&&s&&s[s.length-1]==="/"&&(i=5),{name:s,mode:o,uid:a,gid:c,size:l,mtime:new Date(1e3*u),type:d,linkname:m,uname:f,gname:h,devmajor:w,devminor:g,pax:null}};function rC(t){return O.equals(Iw,t.subarray(pi,pi+6))}function nC(t){return O.equals(QP,t.subarray(pi,pi+6))&&O.equals(eC,t.subarray(zl,zl+2))}function iC(t,e,r){return typeof t!="number"?r:(t=~~t,t>=e?e:t>=0||(t+=e,t>=0)?t:0)}function sC(t){switch(t){case 0:return"file";case 1:return"link";case 2:return"symlink";case 3:return"character-device";case 4:return"block-device";case 5:return"directory";case 6:return"fifo";case 7:return"contiguous-file";case 72:return"pax-header";case 55:return"pax-global-header";case 27:return"gnu-long-link-path";case 28:case 30:return"gnu-long-path"}return null}function oC(t){switch(t){case"file":return 0;case"link":return 1;case"symlink":return 2;case"character-device":return 3;case"block-device":return 4;case"directory":return 5;case"fifo":return 6;case"contiguous-file":return 7;case"pax-header":return 72}return 0}function Pw(t,e,r,n){for(;r<n;r++)if(t[r]===e)return r;return n}function Cw(t){let e=256;for(let r=0;r<148;r++)e+=t[r];for(let r=156;r<512;r++)e+=t[r];return e}function Xt(t,e){return t=t.toString(8),t.length>e?ZP.slice(0,e)+" ":XP.slice(0,e-t.length)+t+" "}function aC(t,e,r){e[r]=128;for(let n=11;n>0;n--)e[r+n]=t&255,t=Math.floor(t/256)}function cC(t,e,r){t.toString(8).length>11?aC(t,e,r):O.write(e,Xt(t,11),r)}function lC(t){let e;if(t[0]===128)e=!0;else if(t[0]===255)e=!1;else return null;let r=[],n;for(n=t.length-1;n>0;n--){let o=t[n];e?r.push(o):r.push(255-o)}let i=0,s=r.length;for(n=0;n<s;n++)i+=r[n]*Math.pow(256,n);return e?i:-1*i}function Jt(t,e,r){if(t=t.subarray(e,e+r),e=0,t[e]&128)return lC(t);{for(;e<t.length&&t[e]===32;)e++;let n=iC(Pw(t,32,e,t.length),t.length,t.length);for(;e<n&&t[e]===0;)e++;return n===e?0:parseInt(O.toString(t.subarray(e,n)),8)}}function hn(t,e,r,n){return O.toString(t.subarray(e,Pw(t,0,e,e+r)),n)}function jl(t){let e=O.byteLength(t),r=Math.floor(Math.log(e)/Math.log(10))+1;return e+r>=Math.pow(10,r)&&r++,e+r+t}});var Aw=y((P1,Ow)=>{var{Writable:uC,Readable:fC,getStreamError:Tw}=Gl(),dC=Cl(),Nw=cn(),mn=Vl(),hC=Nw.alloc(0),Jl=class{constructor(){this.buffered=0,this.shifted=0,this.queue=new dC,this._offset=0}push(e){this.buffered+=e.byteLength,this.queue.push(e)}shiftFirst(e){return this._buffered===0?null:this._next(e)}shift(e){if(e>this.buffered)return null;if(e===0)return hC;let r=this._next(e);if(e===r.byteLength)return r;let n=[r];for(;(e-=r.byteLength)>0;)r=this._next(e),n.push(r);return Nw.concat(n)}_next(e){let r=this.queue.peek(),n=r.byteLength-this._offset;if(e>=n){let i=this._offset?r.subarray(this._offset,r.byteLength):r;return this.queue.shift(),this._offset=0,this.buffered-=n,this.shifted+=n,i}return this.buffered-=e,this.shifted+=e,r.subarray(this._offset,this._offset+=e)}},Xl=class extends fC{constructor(e,r,n){super(),this.header=r,this.offset=n,this._parent=e}_read(e){this.header.size===0&&this.push(null),this._parent._stream===this&&this._parent._update(),e(null)}_predestroy(){this._parent.destroy(Tw(this))}_detach(){this._parent._stream===this&&(this._parent._stream=null,this._parent._missing=Dw(this.header.size),this._parent._update())}_destroy(e){this._detach(),e(null)}},Zl=class extends uC{constructor(e){super(e),e||(e={}),this._buffer=new Jl,this._offset=0,this._header=null,this._stream=null,this._missing=0,this._longHeader=!1,this._callback=Yl,this._locked=!1,this._finished=!1,this._pax=null,this._paxGlobal=null,this._gnuLongPath=null,this._gnuLongLinkPath=null,this._filenameEncoding=e.filenameEncoding||"utf-8",this._allowUnknownFormat=!!e.allowUnknownFormat,this._unlockBound=this._unlock.bind(this)}_unlock(e){if(this._locked=!1,e){this.destroy(e),this._continueWrite(e);return}this._update()}_consumeHeader(){if(this._locked)return!1;this._offset=this._buffer.shifted;try{this._header=mn.decode(this._buffer.shift(512),this._filenameEncoding,this._allowUnknownFormat)}catch(e){return this._continueWrite(e),!1}if(!this._header)return!0;switch(this._header.type){case"gnu-long-path":case"gnu-long-link-path":case"pax-global-header":case"pax-header":return this._longHeader=!0,this._missing=this._header.size,!0}return this._locked=!0,this._applyLongHeaders(),this._header.size===0||this._header.type==="directory"?(this.emit("entry",this._header,this._createStream(),this._unlockBound),!0):(this._stream=this._createStream(),this._missing=this._header.size,this.emit("entry",this._header,this._stream,this._unlockBound),!0)}_applyLongHeaders(){this._gnuLongPath&&(this._header.name=this._gnuLongPath,this._gnuLongPath=null),this._gnuLongLinkPath&&(this._header.linkname=this._gnuLongLinkPath,this._gnuLongLinkPath=null),this._pax&&(this._pax.path&&(this._header.name=this._pax.path),this._pax.linkpath&&(this._header.linkname=this._pax.linkpath),this._pax.size&&(this._header.size=parseInt(this._pax.size,10)),this._header.pax=this._pax,this._pax=null)}_decodeLongHeader(e){switch(this._header.type){case"gnu-long-path":this._gnuLongPath=mn.decodeLongPath(e,this._filenameEncoding);break;case"gnu-long-link-path":this._gnuLongLinkPath=mn.decodeLongPath(e,this._filenameEncoding);break;case"pax-global-header":this._paxGlobal=mn.decodePax(e);break;case"pax-header":this._pax=this._paxGlobal===null?mn.decodePax(e):Object.assign({},this._paxGlobal,mn.decodePax(e));break}}_consumeLongHeader(){this._longHeader=!1,this._missing=Dw(this._header.size);let e=this._buffer.shift(this._header.size);try{this._decodeLongHeader(e)}catch(r){return this._continueWrite(r),!1}return!0}_consumeStream(){let e=this._buffer.shiftFirst(this._missing);if(e===null)return!1;this._missing-=e.byteLength;let r=this._stream.push(e);return this._missing===0?(this._stream.push(null),r&&this._stream._detach(),r&&this._locked===!1):r}_createStream(){return new Xl(this,this._header,this._offset)}_update(){for(;this._buffer.buffered>0&&!this.destroying;){if(this._missing>0){if(this._stream!==null){if(this._consumeStream()===!1)return;continue}if(this._longHeader===!0){if(this._missing>this._buffer.buffered)break;if(this._consumeLongHeader()===!1)return!1;continue}let e=this._buffer.shiftFirst(this._missing);e!==null&&(this._missing-=e.byteLength);continue}if(this._buffer.buffered<512)break;if(this._stream!==null||this._consumeHeader()===!1)return}this._continueWrite(null)}_continueWrite(e){let r=this._callback;this._callback=Yl,r(e)}_write(e,r){this._callback=r,this._buffer.push(e),this._update()}_final(e){this._finished=this._missing===0&&this._buffer.buffered===0,e(this._finished?null:new Error("Unexpected end of data"))}_predestroy(){this._continueWrite(null)}_destroy(e){this._stream&&this._stream.destroy(Tw(this)),e(null)}[Symbol.asyncIterator](){let e=null,r=null,n=null,i=null,s=null,o=this;return this.on("entry",l),this.on("error",m=>{e=m}),this.on("close",u),{[Symbol.asyncIterator](){return this},next(){return new Promise(c)},return(){return d(null)},throw(m){return d(m)}};function a(m){if(!s)return;let f=s;s=null,f(m)}function c(m,f){if(e)return f(e);if(i){m({value:i,done:!1}),i=null;return}r=m,n=f,a(null),o._finished&&r&&(r({value:void 0,done:!0}),r=n=null)}function l(m,f,h){s=h,f.on("error",Yl),r?(r({value:f,done:!1}),r=n=null):i=f}function u(){a(e),r&&(e?n(e):r({value:void 0,done:!0}),r=n=null)}function d(m){return o.destroy(m),a(m),new Promise((f,h)=>{if(o.destroyed)return f({value:void 0,done:!0});o.once("close",function(){m?h(m):f({value:void 0,done:!0})})})}}};Ow.exports=function(e){return new Zl(e)};function Yl(){}function Dw(t){return t&=511,t&&512-t}});var Fw=y((C1,Kl)=>{var kw={S_IFMT:61440,S_IFDIR:16384,S_IFCHR:8192,S_IFBLK:24576,S_IFIFO:4096,S_IFLNK:40960};try{Kl.exports=require("fs").constants||kw}catch{Kl.exports=kw}});var Mw=y((T1,Uw)=>{var{Readable:pC,Writable:mC,getStreamError:$w}=Gl(),xr=cn(),gn=Fw(),po=Vl(),gC=493,EC=420,Bw=xr.alloc(1024),eu=class extends mC{constructor(e,r,n){super({mapWritable:yC,eagerOpen:!0}),this.written=0,this.header=r,this._callback=n,this._linkname=null,this._isLinkname=r.type==="symlink"&&!r.linkname,this._isVoid=r.type!=="file"&&r.type!=="contiguous-file",this._finished=!1,this._pack=e,this._openCallback=null,this._pack._stream===null?this._pack._stream=this:this._pack._pending.push(this)}_open(e){this._openCallback=e,this._pack._stream===this&&this._continueOpen()}_continuePack(e){if(this._callback===null)return;let r=this._callback;this._callback=null,r(e)}_continueOpen(){this._pack._stream===null&&(this._pack._stream=this);let e=this._openCallback;if(this._openCallback=null,e!==null){if(this._pack.destroying)return e(new Error("pack stream destroyed"));if(this._pack._finalized)return e(new Error("pack stream is already finalized"));this._pack._stream=this,this._isLinkname||this._pack._encode(this.header),this._isVoid&&(this._finish(),this._continuePack(null)),e(null)}}_write(e,r){if(this._isLinkname)return this._linkname=this._linkname?xr.concat([this._linkname,e]):e,r(null);if(this._isVoid)return e.byteLength>0?r(new Error("No body allowed for this entry")):r();if(this.written+=e.byteLength,this._pack.push(e))return r();this._pack._drain=r}_finish(){this._finished||(this._finished=!0,this._isLinkname&&(this.header.linkname=this._linkname?xr.toString(this._linkname,"utf-8"):"",this._pack._encode(this.header)),qw(this._pack,this.header.size),this._pack._done(this))}_final(e){if(this.written!==this.header.size)return e(new Error("Size mismatch"));this._finish(),e(null)}_getError(){return $w(this)||new Error("tar entry destroyed")}_predestroy(){this._pack.destroy(this._getError())}_destroy(e){this._pack._done(this),this._continuePack(this._finished?null:this._getError()),e()}},tu=class extends pC{constructor(e){super(e),this._drain=Ql,this._finalized=!1,this._finalizing=!1,this._pending=[],this._stream=null}entry(e,r,n){if(this._finalized||this.destroying)throw new Error("already finalized or destroyed");typeof r=="function"&&(n=r,r=null),n||(n=Ql),(!e.size||e.type==="symlink")&&(e.size=0),e.type||(e.type=wC(e.mode)),e.mode||(e.mode=e.type==="directory"?gC:EC),e.uid||(e.uid=0),e.gid||(e.gid=0),e.mtime||(e.mtime=new Date),typeof r=="string"&&(r=xr.from(r));let i=new eu(this,e,n);return xr.isBuffer(r)?(e.size=r.byteLength,i.write(r),i.end(),i):(i._isVoid,i)}finalize(){if(this._stream||this._pending.length>0){this._finalizing=!0;return}this._finalized||(this._finalized=!0,this.push(Bw),this.push(null))}_done(e){e===this._stream&&(this._stream=null,this._finalizing&&this.finalize(),this._pending.length&&this._pending.shift()._continueOpen())}_encode(e){if(!e.pax){let r=po.encode(e);if(r){this.push(r);return}}this._encodePax(e)}_encodePax(e){let r=po.encodePax({name:e.name,linkname:e.linkname,pax:e.pax}),n={name:"PaxHeader",mode:e.mode,uid:e.uid,gid:e.gid,size:r.byteLength,mtime:e.mtime,type:"pax-header",linkname:e.linkname&&"PaxHeader",uname:e.uname,gname:e.gname,devmajor:e.devmajor,devminor:e.devminor};this.push(po.encode(n)),this.push(r),qw(this,r.byteLength),n.size=e.size,n.type=e.type,this.push(po.encode(n))}_doDrain(){let e=this._drain;this._drain=Ql,e()}_predestroy(){let e=$w(this);for(this._stream&&this._stream.destroy(e);this._pending.length;){let r=this._pending.shift();r.destroy(e),r._continueOpen()}this._doDrain()}_read(e){this._doDrain(),e()}};Uw.exports=function(e){return new tu(e)};function wC(t){switch(t&gn.S_IFMT){case gn.S_IFBLK:return"block-device";case gn.S_IFCHR:return"character-device";case gn.S_IFDIR:return"directory";case gn.S_IFIFO:return"fifo";case gn.S_IFLNK:return"symlink"}return"file"}function Ql(){}function qw(t,e){e&=511,e&&t.push(Bw.subarray(0,512-e))}function yC(t){return xr.isBuffer(t)?t:xr.from(t)}});var Hw=y(ru=>{ru.extract=Aw();ru.pack=Mw()});var nu=y((k1,Yw)=>{"use strict";var zw=require("child_process"),_C=1024*1024,Vw={exec(t,e){zw.exec(t,{maxBuffer:2*_C,windowsHide:!0},e)},spawn(t,e,r){return zw.spawn(t,e,r)},stripLine(t,e){let r=0;for(;e-- >0;){let n=t.indexOf(`
`,r);n>=0&&(r=n+1)}return r>0?t.substring(r):t},split(t,e){let r=t.trim().split(/\s+/);return r.length>e&&(r[e-1]=r.slice(e-1).join(" ")),r},extractColumns(t,e,r){let n=t.split(/(\r\n|\n|\r)/),i=[];return r||(r=Math.max.apply(null,e)+1),n.forEach(s=>{let o=Vw.split(s,r),a=[];e.forEach(c=>{a.push(o[c]||"")}),i.push(a)}),i},parseTable(t){let e=t.split(/(\r\n\r\n|\r\n\n|\n\r\n|\n\n)/).filter(r=>r&&r.trim().length>0).map(r=>r.split(/(\r\n|\n|\r)/).filter(n=>n.trim().length>0));return e.forEach(r=>{for(let n=0;r[n];){let i=r[n];i.startsWith(" ")?(r[n-1]+=i.trimLeft(),r.splice(n,1)):n+=1}}),e.map(r=>{let n={};return r.forEach(i=>{let s=i.indexOf(":"),o=i.slice(0,s).trim();n[o]=i.slice(s+1).trim()}),n})}};Yw.exports=Vw});var Xw=y((Jw,mo)=>{(function(t,e){"use strict";typeof define=="function"&&define.amd?define(e):typeof mo=="object"&&mo.exports?mo.exports=e():t.log=e()})(Jw,function(){"use strict";var t=function(){},e="undefined",r=typeof window!==e&&typeof window.navigator!==e&&/Trident\/|MSIE /.test(window.navigator.userAgent),n=["trace","debug","info","warn","error"],i={},s=null;function o(h,w){var g=h[w];if(typeof g.bind=="function")return g.bind(h);try{return Function.prototype.bind.call(g,h)}catch{return function(){return Function.prototype.apply.apply(g,[h,arguments])}}}function a(){console.log&&(console.log.apply?console.log.apply(console,arguments):Function.prototype.apply.apply(console.log,[console,arguments])),console.trace&&console.trace()}function c(h){return h==="debug"&&(h="log"),typeof console===e?!1:h==="trace"&&r?a:console[h]!==void 0?o(console,h):console.log!==void 0?o(console,"log"):t}function l(){for(var h=this.getLevel(),w=0;w<n.length;w++){var g=n[w];this[g]=w<h?t:this.methodFactory(g,h,this.name)}if(this.log=this.debug,typeof console===e&&h<this.levels.SILENT)return"No console available for logging"}function u(h){return function(){typeof console!==e&&(l.call(this),this[h].apply(this,arguments))}}function d(h,w,g){return c(h)||u.apply(this,arguments)}function m(h,w){var g=this,E,x,p,S="loglevel";typeof h=="string"?S+=":"+h:typeof h=="symbol"&&(S=void 0);function v(P){var T=(n[P]||"silent").toUpperCase();if(!(typeof window===e||!S)){try{window.localStorage[S]=T;return}catch{}try{window.document.cookie=encodeURIComponent(S)+"="+T+";"}catch{}}}function b(){var P;if(!(typeof window===e||!S)){try{P=window.localStorage[S]}catch{}if(typeof P===e)try{var T=window.document.cookie,ye=encodeURIComponent(S),me=T.indexOf(ye+"=");me!==-1&&(P=/^([^;]+)/.exec(T.slice(me+ye.length+1))[1])}catch{}return g.levels[P]===void 0&&(P=void 0),P}}function _(){if(!(typeof window===e||!S)){try{window.localStorage.removeItem(S)}catch{}try{window.document.cookie=encodeURIComponent(S)+"=; expires=Thu, 01 Jan 1970 00:00:00 UTC"}catch{}}}function C(P){var T=P;if(typeof T=="string"&&g.levels[T.toUpperCase()]!==void 0&&(T=g.levels[T.toUpperCase()]),typeof T=="number"&&T>=0&&T<=g.levels.SILENT)return T;throw new TypeError("log.setLevel() called with invalid level: "+P)}g.name=h,g.levels={TRACE:0,DEBUG:1,INFO:2,WARN:3,ERROR:4,SILENT:5},g.methodFactory=w||d,g.getLevel=function(){return p??x??E},g.setLevel=function(P,T){return p=C(P),T!==!1&&v(p),l.call(g)},g.setDefaultLevel=function(P){x=C(P),b()||g.setLevel(P,!1)},g.resetLevel=function(){p=null,_(),l.call(g)},g.enableAll=function(P){g.setLevel(g.levels.TRACE,P)},g.disableAll=function(P){g.setLevel(g.levels.SILENT,P)},g.rebuild=function(){if(s!==g&&(E=C(s.getLevel())),l.call(g),s===g)for(var P in i)i[P].rebuild()},E=C(s?s.getLevel():"WARN");var D=b();D!=null&&(p=C(D)),l.call(g)}s=new m,s.getLogger=function(w){if(typeof w!="symbol"&&typeof w!="string"||w==="")throw new TypeError("You must supply a name when creating a logger.");var g=i[w];return g||(g=i[w]=new m(w,s.methodFactory)),g};var f=typeof window!==e?window.log:void 0;return s.noConflict=function(){return typeof window!==e&&window.log===s&&(window.log=f),s},s.getLoggers=function(){return i},s.default=s,s})});var iu=y((F1,Zw)=>{"use strict";var bC=Xw();Zw.exports=bC});var Qw=y(($1,Kw)=>{"use strict";var LC=require("os"),go=require("fs"),Ue=nu(),RC=iu(),IC=t=>new Promise((e,r)=>{go.existsSync(t)?e():go.mkdir(t,n=>{n?r(n):e()})}),su={darwin(t){return new Promise((e,r)=>{Ue.exec("netstat -anv -p TCP && netstat -anv -p UDP",function(n,i,s){if(n)r(n);else{if(n=s.toString().trim(),n){r(n);return}let o=Ue.stripLine(i.toString(),2),a=Ue.extractColumns(o,[0,3,8],10).filter(c=>!!String(c[0]).match(/^(udp|tcp)/)).find(c=>{let l=String(c[1]).match(/\.(\d+)$/);return!!(l&&l[1]===String(t))});a&&a[2].length?e(parseInt(a[2],10)):r(new Error(`pid of port (${t}) not found`))}})})},freebsd:"darwin",sunos:"darwin",linux(t){return new Promise((e,r)=>{Ue.exec("netstat -tunlp",function(i,s,o){if(i)r(i);else{let a=o.toString().trim();a&&RC.warn(a);let c=Ue.stripLine(s.toString(),2),l=Ue.extractColumns(c,[3,6],7).find(u=>{let d=String(u[0]).match(/:(\d+)$/);return!!(d&&d[1]===String(t))});if(l&&l[1]){let u=l[1].split("/",1)[0];u.length?e(parseInt(u,10)):r(new Error(`pid of port (${t}) not found`))}else r(new Error(`pid of port (${t}) not found`))}})})},win32(t){return new Promise((e,r)=>{Ue.exec("netstat -ano",function(n,i,s){if(n)r(n);else{if(n=s.toString().trim(),n){r(n);return}let o=Ue.stripLine(i.toString(),4),a=Ue.extractColumns(o,[1,4],5).find(c=>{let l=String(c[0]).match(/:(\d+)$/);return!!(l&&l[1]===String(t))});a&&a[1].length&&parseInt(a[1],10)>0?e(parseInt(a[1],10)):r(new Error(`pid of port (${t}) not found`))}})})},android(t){return new Promise((e,r)=>{let n=LC.tmpdir()+"/.find-process",i=n+"/"+process.pid,s='netstat -tunp >> "'+i+'"';IC(n).then(()=>{Ue.exec(s,()=>{go.readFile(i,"utf8",(o,a)=>{if(go.unlink(i,()=>{}),o)r(o);else{a=Ue.stripLine(a,2);let c=Ue.extractColumns(a,[3,6],7).find(l=>{let u=String(l[0]).match(/:(\d+)$/);return!!(u&&u[1]===String(t))});if(c&&c[1]){let l=c[1].split("/",1)[0];l.length?e(parseInt(l,10)):r(new Error(`pid of port (${t}) not found`))}else r(new Error(`pid of port (${t}) not found`))}})})})})}};function PC(t){let e=process.platform;return new Promise((r,n)=>{if(!(e in su))return n(new Error(`platform ${e} is unsupported`));let i=su[e];typeof i=="string"&&(i=su[i]),i(t).then(r,n)})}Kw.exports=PC});var ny=y((B1,ry)=>{"use strict";var Eo=require("path"),Zt=nu();function ou(t,e){return e?t&&t.match?t.match(e):!1:!0}function ey(t){let e=t.split(Eo.sep),r=e[e.length-1];r&&(e[e.length-1]=r.split(" ")[0]);let n=[];for(let i of e){let s=i.indexOf(" -");if(s>=0){n.push(i.substring(0,s).trim());break}else if(i.endsWith(" ")){n.push(i.trim());break}n.push(i)}return n.join(Eo.sep)}function ty(t){if(process.platform==="darwin"){let e=t.indexOf(".app/");if(e>=0)return Eo.basename(t.substring(0,e))}return Eo.basename(t)}var au={darwin(t){return new Promise((e,r)=>{let n;"pid"in t?n=`ps -p ${t.pid} -ww -o pid,ppid,uid,gid,args`:n="ps ax -ww -o pid,ppid,uid,gid,args",Zt.exec(n,function(i,s,o){if(i)"pid"in t?e([]):r(i);else{if(i=o.toString().trim(),i){r(i);return}let a=Zt.stripLine(s.toString(),1),l=Zt.extractColumns(a,[0,1,2,3,4],5).filter(u=>u[0]&&t.pid?u[0]===String(t.pid):u[4]&&t.name?ou(u[4],t.name):!!u[0]).map(u=>{let d=String(u[4]),m=ey(d);return{pid:parseInt(u[0],10),ppid:parseInt(u[1],10),uid:parseInt(u[2],10),gid:parseInt(u[3],10),name:ty(m),bin:m,cmd:u[4]}});t.config.strict&&t.name&&(l=l.filter(u=>u.name===t.name)),e(l)}})})},linux:"darwin",sunos:"darwin",freebsd:"darwin",win32(t){return new Promise((e,r)=>{let n="[Console]::OutputEncoding = [System.Text.Encoding]::UTF8; Get-CimInstance -className win32_process | select Name,ProcessId,ParentProcessId,CommandLine,ExecutablePath",i=[],s=Zt.spawn("powershell.exe",["/c",n],{detached:!1,windowsHide:!0});s.stdout.on("data",o=>{i.push(o.toString())}),s.on("error",o=>{r(new Error("Command '"+n+"' failed with reason: "+o.toString()))}),s.on("close",o=>{if(o!==0)return r(new Error("Command '"+n+"' terminated with code: "+o));let a=Zt.parseTable(i.join("")).filter(c=>{if("pid"in t)return c.ProcessId===String(t.pid);if(t.name){let l=c.Name||"";return t.config.strict?l===t.name||l.endsWith(".exe")&&l.slice(0,-4)===t.name:ou(c.CommandLine||l,t.name)}else return!0}).map(c=>({pid:parseInt(c.ProcessId,10),ppid:parseInt(c.ParentProcessId,10),bin:c.ExecutablePath,name:c.Name||"",cmd:c.CommandLine}));e(a)})})},android(t){return new Promise((e,r)=>{Zt.exec("ps",function(i,s,o){if(i)"pid"in t?e([]):r(i);else{if(i=o.toString().trim(),i){r(i);return}let a=Zt.stripLine(s.toString(),1),l=Zt.extractColumns(a,[0,3],4).filter(u=>u[0]&&t.pid?u[0]===String(t.pid):u[1]&&t.name?ou(u[1],t.name):!!u[0]).map(u=>{let d=String(u[1]),m=ey(d);return{pid:parseInt(u[0],10),name:ty(m),bin:m,cmd:d}});t.config.strict&&t.name&&(l=l.filter(u=>u.name===t.name)),e(l)}})})}};function CC(t){let e=process.platform;return new Promise((r,n)=>{if(!(e in au))return n(new Error(`platform ${e} is unsupported`));let i=au[e];typeof i=="string"&&(i=au[i]),i(t).then(s=>{if(t.skipSelf){let o=s.filter(a=>a.pid!==process.pid);r(o)}else r(s)},n)})}ry.exports=CC});var oy=y((q1,sy)=>{"use strict";var TC=Qw(),iy=ny(),NC=iu(),cu={port(t,e){return TC(t).then(r=>cu.pid(r,e),()=>[])},pid(t,e){return iy({pid:t,config:e})},name(t,e){return iy({name:t,config:e,skipSelf:!0})}};function DC(t,e,r){let n=Object.assign({logLevel:"warn",strict:typeof r=="boolean"?r:!1},r);return NC.setLevel(n.logLevel),new Promise((i,s)=>{if(!(t in cu))s(new Error(`do not support find by "${t}"`));else{let o=/^\d+$/.test(e);t==="pid"&&!o?s(new Error("pid must be a number")):t==="port"&&!o?s(new Error("port must be a number")):cu[t](e,n).then(i,s)}})}sy.exports=DC});var cy=y((U1,ay)=>{"use strict";ay.exports=oy()});var du=y((Ak,gy)=>{var Ok=gy.exports=function(t){(function e(){var r=!0,n=!1,i=!1;do i=!0,r=!1,t.call(this,function(){i?r=!0:e()}),i=!1;while(r)})()}});var wy=y((kk,Ey)=>{var jC=du();Ey.exports=function(t,e){return function(r){var n=[],i,s;function o(l){n.push(l)}t=t||function(l){this.queue(l)},e=e||function(){this.queue(null)};var a={emit:function(l,u){l=="data"&&o(u),l=="end"&&(i=!0,o(null)),l=="error"&&(s=u)},queue:o},c;return function(l,u){if(i=i||l,l)return r(l,function(){if(c){var d=c;c=null,d(l)}u(l)});c=u,jC(function d(m){if(c)if(u=c,s)c=null,u(s);else if(n.length){var f=n.shift();c=null,u(f===null,f)}else r(i,function(h,w){if(h&&h!==!0)return s=h,m();if(i=i||h)e.call(a);else if(w!==null&&(t.call(a,w),s||i))return r(s||i,function(){c=null,u(s||i)});m(d)})})}}}});var Sy=y((Fk,yy)=>{yy.exports=function(){var t=[],e=0;function r(){return t.reduce(function(n,i){return n+i.length},0)}return{length:e,data:this,add:function(n){if(!Buffer.isBuffer(n))throw new Error("data must be a buffer, was: "+JSON.stringify(n));return this.length=e=e+n.length,t.push(n),this},has:function(n){return n==null?e>0:e>=n},get:function(n){var i;if(n==null||n===e){e=0;var s=t;return t=[],s.length==1?s[0]:Buffer.concat(s)}else if(t.length>1&&n<=(i=t[0].length)){var o=t[0].slice(0,n);return n===i?t.shift():t[0]=t[0].slice(n,i),e-=n,o}else if(n<e){for(var a=[],c=0;c+t[0].length<n;){var l=t.shift();c+=l.length,a.push(l)}return c<n&&(a.push(t[0].slice(0,n-c)),t[0]=t[0].slice(n-c,t[0].length),this.length=e=e-n),Buffer.concat(a)}else throw new Error("could not get "+n+" bytes")}}}});var by=y(($k,_y)=>{"use strict";var zC=Sy();function VC(t){return Number.isFinite(t)}function xy(t){return typeof t=="function"}function vy(t,e){return e?function(r,n){var i=setTimeout(function(){t(new Error("pull-reader: read exceeded timeout"),n)},e);t(r,function(s,o){clearTimeout(i),n(s,o)})}:t}_y.exports=function(t){var e=[],r,n,i=!1,s=zC(),o,a,c;function l(){for(;e.length;)if(e[0].length==null&&s.has(1))e.shift().cb(null,s.get());else if(s.has(e[0].length)){var m=e.shift();m.cb(null,s.get(m.length))}else if(o==!0&&e[0].length&&s.length<e[0].length){var f="stream ended with:"+s.length+" but wanted:"+e[0].length;e.shift().cb(new Error(f))}else if(o)e.shift().cb(o);else return!!e.length;return e.length||!s.has(1)||c}function u(){var m=l();m&&!i&&r&&!i&&!a&&(i=!0,n(null,function(f,h){if(i=!1,f)return o=f,l();s.add(h),u()}))}function d(m){if(c){for(;e.length;)e.shift().cb(c);return cb&&cb(c)}n=vy(m,t),r=m,u()}return d.abort=function(m,f){c=m||!0,r?(i=!0,r(c,function(){for(;e.length;)e.shift().cb(c);f&&f(c)})):f()},d.read=function(m,f,h){if(xy(f)&&(h=f,f=t),xy(h))e.push({length:VC(m)?m:null,cb:h}),u();else return a=!0,function(w,g){if(i||s.has(1)){if(w)return r(w,g);e.push({length:null,cb:g}),u()}else vy(r,f)(w,function(E,x){g(E,x)})}},d}});var Fy=y((_r,ky)=>{var YC=wy(),JC=by(),Ly=Us(),Ry=0,Iy=1,Py=2,Cy="GOODBYE";function Ty(t){let e=Buffer.alloc(9),r=0,n=t.value!==void 0?t.value:t.end;return typeof t=="string"&&t===Cy?(e.fill(0),[e,null]):(typeof n=="string"?(r=Iy,n=Buffer.from(n,"utf-8")):Buffer.isBuffer(n)?r=Ry:(r=Py,n=Buffer.from(JSON.stringify(n),"utf-8")),r=t.stream<<3|t.end<<2|r,e[0]=r,e.writeUInt32BE(n.length,1),e.writeInt32BE(t.req||0,5),[e,n])}function Ny(t){if(t.length!==9)throw new Error("expected header to be 9 bytes long");let e=t[0],r=t.readUInt32BE(1);return{req:t.readInt32BE(5),stream:!!(e&8),end:!!(e&4),value:null,length:r,type:e&3}}function Dy(t,e){if(t.length!==e.length)throw new Error("incorrect length, expected:"+e.length+" found:"+t.length);if(e.type===Ry)e.value=t;else if(e.type===Iy)e.value=t.toString();else if(e.type===Py)e.value=JSON.parse(t.toString());else throw new Error("unknown message type");return e}function Oy(t){return YC(function(r){t&&t("encoded: %o",r);let[n,i]=Ty(r);this.queue(n),i!==null&&this.queue(i)})}function Ay(t){let e=JC(),r=!1;return function(i){return e(i),function(o,a){if(r)return a(!0);if(o)return e.abort(o,a);e.read(9,function(l,u){if(l)return a(l);let d=Ny(u);if(d.length===0)return r=!0,a(null,Cy);e.read(d.length,function(f,h){if(f)return a(f);try{Dy(h,d)}catch(w){return a(w)}t&&t("decoded: %o",d),a(null,d)})})}}}_r=ky.exports=function(e,r){let n=r===!0?Ly("packet-stream-codec"):typeof r=="string"?Ly(r):null;return{source:Oy(n)(e.source),sink(i){return e.sink(Ay(n)(i))}}};_r.encodePair=Ty;_r.decodeHead=Ny;_r.decodeBody=Dy;_r.encode=Oy;_r.decode=Ay});var hu=y((Bk,$y)=>{function XC(t){return t&&(t===!0?!0:{message:t.message,name:t.name,stack:t.stack})}function ZC(t){console.error("packet-stream asked to read after closed",t)}$y.exports={flat:XC,closedread:ZC}});var Uy=y((qk,qy)=>{var{flat:By,closedread:KC}=hu();function xo(t,e,r){this.id=t,this.read=null,this.writeEnd=null,this.readEnd=null,this._ps=e,this._remove=r}xo.prototype.write=function(t,e){let r=this._ps;e?(this.writeEnd=e,r&&(r.read({req:this.id,stream:!0,end:!0,value:By(e)}),this.readEnd&&this.destroy(e),r._maybedone(e))):r&&r.read({req:this.id,stream:!0,end:!1,value:t})};xo.prototype.end=function(t){this.write(null,By(t||!0))};xo.prototype.destroy=function(t){if(this.writeEnd){if(!this.readEnd){this.readEnd=!0;try{this.read&&this.read(null,t)}catch(e){console.error("Exception thrown by PacketStream substream end handler",e),console.error(e.stack)}}}else{if(this.writeEnd=!0,!this.readEnd){this.readEnd=!0;try{this.read(null,t)}catch(e){console.error("Exception thrown by PacketStream substream end handler",e),console.error(e.stack)}}this.write(null,t)}this._ps&&(this._remove(),this._remove=null,this.read=KC,this._ps=null)};qy.exports=xo});var Wy=y((Uk,Hy)=>{var My=Uy(),{flat:pu,closedread:QC}=hu();function He(t){this.ended=!1,this.opts=t,this._req_counter=1,this._requests=new Map,this._instreams=new Map,this._outstreams=new Map,this._closecbs=[],this._closing=!1,this._closed=!1,t.close&&this._closecbs.push(t.close)}He.prototype.message=function(t){this.read({req:0,stream:!1,end:!1,value:t})};He.prototype.request=function(t,e){if(this._closing)return e(new Error("parent stream is closing"));let r=this._req_counter++;this._requests.set(r,(n,i)=>{this._requests.delete(r),e(n,i),this._maybedone(n)}),this.read({req:r,stream:!1,end:!1,value:t})};He.prototype.stream=function(){if(this._closing)throw new Error("parent stream is closing");let t=this._req_counter++,e=new My(t,this,()=>{this._outstreams.delete(t)});return this._outstreams.set(t,e),e};He.prototype.close=function(t){if(!t)throw new Error("packet-stream.close *must* have callback");if(this._closed)return t();this._closecbs.push(t),this._closing=!0,this._maybedone()};He.prototype.destroy=function(t){t=t||pu(t),this.ended=t,this._closing=!0;let e=t===!0?new Error("unexpected end of parent stream"):t,r=0;this._requests.forEach(n=>{r++,n(e)}),this._instreams.forEach(n=>{r++,n.writeEnd=!0,n.destroy(e)}),this._outstreams.forEach(n=>{r++,n.writeEnd=!0,n.destroy(e)}),r===0&&t===!0&&(e=null),this._maybedone(e)};He.prototype._maybedone=function(t){this._closed||!this._closing||this._requests.size!==0||this._instreams.size!==0||this._outstreams.size!==0||(this.read(null,t||!0),this._closed=!0,this._closecbs.forEach(e=>{e(t)}),this.opts=null,this._closecbs.length=0,this.read=QC,this._requests.clear(),this._instreams.clear(),this._outstreams.clear())};He.prototype.read=function(t){console.error("please overwrite read method to do IO",t)};He.prototype.write=function(t,e){this.ended||(e?this.destroy(e):t.req&&!t.stream?this._onrequest(t):t.req&&t.stream?this._onstream(t):this._onmessage(t))};He.prototype._onmessage=function(t){this.opts&&typeof this.opts.message=="function"&&this.opts.message(t.value)};He.prototype._onrequest=function(t){let e=t.req*-1;if(t.req<0)this._requests.has(e)&&this._requests.get(e)(t.end?t.value:null,t.end?null:t.value);else if(this.opts&&typeof this.opts.request=="function"){let r=!1;this.opts.request(t.value,(n,i)=>{if(r)throw new Error("cb called twice from local api");r=!0,n?this.read({value:pu(n),end:!0,req:e}):this.read({value:i,end:!1,req:e}),this._maybedone()})}else{if(this.ended){let r=this.ended===!0?new Error("unexpected end of parent stream"):this.ended;this.read({value:pu(r),end:!0,stream:!1,req:e})}else this.read({value:{message:"Unable to handle requests",name:"NO_REQUEST_HANDLER",stack:null},end:!0,stream:!1,req:e});this._maybedone()}};He.prototype._onstream=function(t){if(t.req<0){let e=t.req*-1,r=this._outstreams.get(e);if(!r)return console.error("no stream for incoming msg",t);t.end?(r.writeEnd&&this._outstreams.delete(e),r.readEnd=!0,r.read(null,t.value),this._maybedone()):r.read(t.value)}else{let e=t.req,r=this._instreams.get(e);r||(r=new My(e*-1,this,()=>{this._instreams.delete(e)}),this._instreams.set(e,r),this.opts&&typeof this.opts.stream=="function"&&this.opts.stream(r)),t.end?(r.writeEnd&&this._instreams.delete(e),r.readEnd=!0,r.read&&r.read(null,t.value),this._maybedone()):r.read?r.read(t.value):console.error("no .read for stream:",r.id,"dropped:",t)}};Hy.exports=t=>new He(t)});var jy=y((Mk,gi)=>{"use strict";var eT=jn();function tT(t){let e=!1;return(r,n)=>{e||(e=!0,t(r,n))}}function mu(t,e){let r=[],n=!1,i=!1,s,o,a=tT((c,l)=>{e&&e(c,l),t=null,e=null,s=null,o&&o(c||!0,()=>{})});return t.read=function(c,l){if(n=n||l,s){let u=s;s=null,u(n,c)}else!n&&!i&&r.push(c);n&&a(n!==!0?n:null)},{source(c,l){c?(t&&t.write(null,c),l(c),r.length=0,i=!0,a(c!==!0?c:null)):r.length?l(null,r.shift()):n?l(n):s=l},sink(c){if(n)return o=null,c(n,()=>{});o=c,eT.drain(l=>{if(n)return!1;t.write(l)},l=>{t&&!t.writeEnd&&t.write(null,l||!0),a&&a(l)})(c)}}}function Gy(t,e){return mu(t,r=>{t.writeEnd||t.write(null,r||!0),e&&e(r)})}function rT(t){return Gy(t).source}function nT(t,e){return Gy(t,e).sink}gi.exports=mu;gi.exports.source=rT;gi.exports.sink=nT;gi.exports.duplex=mu});var Vy=y((Hk,zy)=>{zy.exports=function(e){var r,n,i;function s(o){return function(a,c){o(a,function(l,u){if(l&&!i)return i=!0,c(null,e);l&&r?c(l):l?n=c:c(null,u)})}}return s.end=function(){return r=!0,n&&n(r),s},s}});var Jy=y((Wk,Yy)=>{var iT=Vy(),gu=jn();Yy.exports=function(t,e){e=e||"GOODBYE";var r=iT(e);return{source:gu(t.source,r),sink:gu(gu.filter(function(n){if(n!==e)return!0;r.end()}),t.sink)}}});var Ei=y(Xe=>{"use strict";var vo=jn();function sT(t){return t?Object.keys(t).length===0:!0}Xe.set=function(e,r,n){let i,s;for(let o=0;o<r.length;o++){let a=r[o];e[a]=e[a]||{},i=e,s=a,e=e[a]}i[s]=n};Xe.get=function(e,r){if(typeof r=="string")return e[r];let n;for(let i=0;i<r.length;i++){let s=r[i];if(n=e=e[s],e==null)return e}return n};Xe.prefix=function(e,r){let n;for(let i=0;i<r.length;i++){let s=r[i];if(n=e=e[s],typeof e!="object")return e}return typeof n!="object"?!!n:!1};function oT(t,e){for(let r in e){let n=e[r];t[n]||(t[n]={}),t=t[n]}return t}function aT(t,e){(function r(n,i){let s=e[i];if(n)e.length-1===i?delete n[s]:i<e.length&&r(n[s],i+1);else return;sT(n[s])&&delete n[s]})(t,0)}function cT(t,e){for(let r in e)t[r]=e[r];return t}Xe.mount=function(e,r,n){if(!Array.isArray(r))throw new Error("path must be array of strings");return cT(oT(e,r),n)};Xe.unmount=function(e,r){return aT(e,r)};var _o=t=>t==="source",bo=t=>t==="sink",Eu=t=>t==="duplex",lT=t=>t==="sync",uT=t=>t==="async",Xy=t=>lT(t)||uT(t),fT=t=>_o(t)||bo(t)||Eu(t);Xe.isRequest=Xy;Xe.isStream=fT;function wu(t){return function(e){e(t||!0,()=>{})}}function Zy(t){return{source:vo.error(t),sink:wu(t)}}Xe.errorAsStream=function(e,r){return _o(e)?vo.error(r):bo(e)?wu(r):Zy(r)};Xe.errorAsStreamOrCb=function(e,r,n){return Xy(e)?n(r):Eu(e)?Zy(r):_o(e)?vo.error(r):bo(e)?wu(r):n(r)};Xe.pipeToStream=function(e,r,n){_o(e)?r(n):bo(e)?n(r):Eu(e)&&vo(r,n,r)}});var yu=y((jk,Ky)=>{"use strict";function dT(t){return typeof t=="string"?[`Error: ${t}`]:t.stack?t.stack.split(`
`):[`${t.name}: ${t.message}`]}Ky.exports=function(e,r){let n=new Error(r),i=n.stack.split(`
`);i.splice(1,1);let s=dT(e);s[0]="  "+s[0];for(let o=1;o<i.length;o++)if(s.includes(i[o])){i.splice(o);break}return n.stack=i.concat(s).join(`
`),n}});var rS=y((zk,tS)=>{"use strict";var hT=Wy(),Su=jy(),pT=Jy(),wn=Ei(),Qy=yu(),eS=Us()("muxrpc:psc");tS.exports=function(e,r,n){let i=hT({message(){},request(o,a){if(!Array.isArray(o.args))return a(new Error(`invalid request, args should be array, was: ${JSON.stringify(o)}`));let c=o.name,l=o.args,u=!1,d=!1;l.push((m,f)=>{d=!0,u=!0,a(m,f)});try{e("async",c,l)}catch(m){if(u||d)throw Qy(m,"no callback provided to muxrpc async funtion");a(m)}},stream(o){o.read=function(c,l){if(l)return o.write(null,l);let{name:u,type:d,args:m}=c,f,h;if(o.read=null,!wn.isStream(d))return o.write(null,new Error(`unsupported stream type: ${d}`));try{h=e(d,u,m)}catch(E){f=E}let g=Su[d==="source"?"sink":d==="sink"?"source":"duplex"](o);return wn.pipeToStream(d,g,f?wn.errorAsStream(d,f):h)}},close(o){if(i=null,s.ended=!0,!s.closed&&(s.closed=!0,n)){let a=n;n=null,a(o)}}}),s=pT(Su(i,()=>{}));return s=r?r(s,eS.enabled?eS.namespace:!1):s,s.remoteCall=function(o,a,c,l){if(a==="emit")return i.message(c);if(!(wn.isRequest(o)||wn.isStream(o)))throw new Error(`unsupported type: ${JSON.stringify(o)}`);if(wn.isRequest(o))return i.request({name:a,args:c},l);let u=i.stream(),d=Su[o](u,l);return u.write({name:a,args:c,type:o}),d},s.isOpen=function(){return!i.ended},s.close=function(o,a){if(typeof o=="function"&&(a=o,o=!1),!i){a&&a();return}if(o){i.destroy(o),a&&a();return}return i.close(c=>{if(a)a(c);else if(c)throw Qy(c,"no callback provided for muxrpc close")}),this},s.closed=!1,s}});var iS=y((Vk,nS)=>{"use strict";var mT=yu(),gT=Ei();function xu(t,e,r,n){for(let i in e){let s=e[i],o=r?r.concat(i):[i];if(s&&typeof s=="object"){let a=s;t[i]=xu({},a,o,n)}else{let a=s;t[i]=(...c)=>n(a,o,c)}}return t}function ET(t){if(t)throw mT(t,"callback not provided")}function wT(t,e,r,n){t=t||{};function i(s,o,a){let c=typeof a[a.length-1]=="function"?a.pop():s==="sync"||s==="async"?null:ET;if(typeof c=="function"){let l;try{l=r(s,o,a,c)}catch(u){return gT.errorAsStreamOrCb(s,u,c)}return l}else return new Promise((l,u)=>{r(s,o,a,(d,m)=>{d?u(d):l(m)})})}return n?i("async","manifest",[function(s,o){if(s)return n(s);xu(t,o,null,i),n(null,o,t)}]):xu(t,e,null,i),t}nS.exports=wT});var aS=y((Yk,oS)=>{"use strict";var Lo=Ei();function sS(t){return Array.isArray(t)?t:t.split(".")}function yT(t){return t&&typeof t.pre=="function"&&typeof t.test=="function"&&typeof t.post=="function"}oS.exports=function(e){if(yT(e))return e;if(typeof e=="function")return{pre:e};let r=null,n={};function i(s){if(s.allow){r={};for(let o of s.allow)Lo.set(r,sS(o),!0)}else r=null;if(s.deny)for(let o of s.deny)Lo.set(n,sS(o),!0);else n={};return this}return e&&i(e),i.pre=s=>{if(s=Array.isArray(s)?s:[s],r&&!Lo.prefix(r,s))return new Error(`method:${s} is not in list of allowed methods`);if(n&&Lo.prefix(n,s))return new Error(`method:${s} is on list of disallowed methods`)},i.post=()=>{},i.test=s=>i.pre(s),i.get=()=>({allow:r,deny:n}),i}});var lS=y((Jk,cS)=>{"use strict";var ST=aS(),vu=Ei();cS.exports=function(e,r,n){n=ST(n);function i(o,a){return o===vu.get(r,a)}function s(o,a,c){if(a==="emit")throw new Error("emit has been removed");if(o==="async"&&i("sync",a)){let l=c.pop(),u;try{u=vu.get(e,a).apply(this,c)}catch(d){return l(d)}return l(null,u)}if(!i(o,a))throw new Error(`no ${o}:${a}`);return vu.get(e,a).apply(this,c)}return function(a,c,l){let u=n.pre(c,l);if(u)throw u;return s.call(this,a,c,l)}}});var dS=y((Xk,fS)=>{"use strict";var xT=Fy(),vT=require("events").EventEmitter,_T=rS(),bT=iS(),LT=lS();function uS(t,e,r,n,i,s,o){let a;typeof t=="function"&&(a=t,t={}),e=e||{},t=t||{};let c=new vT;s||(s=xT);let l,u={_emit(m,f){return c&&c._emit(m,f),u},id:n},d=_T(LT(r,e,i).bind(u),s,m=>{if(!c.closed&&(c.closed=!0,c.emit("closed"),l)){let f=l;l=null,f(m)}});if(bT(c,t,(m,f,h,w)=>{if(d.closed)throw new Error("stream is closed");return d.remoteCall(m,f,h,w)},a),c._emit=c.emit,o){Object.__defineGetter__.call(c,"id",()=>u.id),Object.__defineSetter__.call(c,"id",f=>{u.id=f});let m=!0;c.createStream=f=>{if(l=f,m)return m=!1,d;throw new Error("one stream per rpc")}}else c.stream=d;return c.closed=!1,c.close=function(m,f){return d.close(m,f),this},c}fS.exports=function(t,e,r){return arguments.length>3?uS.apply(this,arguments):function(n,i,s){return uS(t,e,n,s,i,r,!0)}}});var _u=y((It,mS)=>{var Zk=Hc(),RT=du();function hS(t){t.destroy?t.destroy():console.error("warning, stream-to-pull-stream: \nthe wrapped node-stream does not implement `destroy`, \nthis may cause resource leaks.")}function pS(t,e,r){var n,i=!1,s;function o(){s||(s=!0,r&&r(n===!0?null:n))}function a(){i||(i=!0,l(),n?o():t(n=!0,o))}function c(u){l(),n||t(n=u,o)}function l(){e.on("finish",a),e.removeListener("close",a),e.removeListener("error",c)}e.on("close",a),e.on("finish",a),e.on("error",c),process.nextTick(function(){RT(function(u){t(null,function(d,m){if(n=n||d,d===!0)return e._isStdio?o():e.end();if(n=n||d)return hS(e),o(n);if(e._isStdio)e.write(m,function(){u()});else{var f=e.write(m);f===!1?e.once("drain",u):u()}})})})}function IT(t){var e=!1,r=!1,n;function i(){var s=t.read();if(s!==null&&n){var o=n;n=null,o(null,s)}}return t.on("readable",function(){r=!0,n&&i()}).on("end",function(){e=!0,n&&n(e)}).on("error",function(s){e=s,n&&n(e)}),function(s,o){n=o,e?o(e):r&&i()}}function Ro(t){var e=[],r=[],n,i=!1,s;function o(){for(;(e.length||n)&&r.length;)r.shift()(e.length?null:n,e.shift());!e.length&&i&&(i=!1,t.resume())}return t.on("data",function(a){e.push(a),o(),e.length&&t.pause&&(i=!0,t.pause())}),t.on("end",function(){n=!0,o()}),t.on("close",function(){n=!0,o()}),t.on("error",function(a){n=a,o()}),function(a,c){if(!c)throw new Error("*must* provide cb");if(a){let u=function(){for(;r.length;)r.shift()(a);c(a)};var l=u;if(n)return u();t.once("close",u),hS(t)}else r.push(c),o()}}var PT=Ro,Io=function(t,e){return function(r){return pS(r,t,e)}},Po=function(t){return Ro(t)};It=mS.exports=function(t,e){return t.writable&&t.write?t.readable?function(r){return pS(r,t,e),Ro(t)}:Io(t,e):Po(t)};It.sink=Io;It.source=Po;It.read=PT;It.read1=Ro;It.read2=IT;It.duplex=function(t,e){return{source:Po(t),sink:Io(t,e)}};It.transform=function(t){return function(e){var r=Po(t);return Io(t)(e),r}}});var ES=y((Kk,Co)=>{var CT=require("stream");Co.exports=bu;Co.exports.source=function(t){return bu(null,t)};Co.exports.sink=function(t){return bu(t,null)};var gS=typeof setImmediate>"u"?process.nextTick:setImmediate;function bu(t,e){t&&typeof t=="object"&&(e=t.source,t=t.sink);var r=[],n=[],i,s,o=new CT;o.writable=o.readable=!0,o.write=function(g){return r.length?r.shift()(null,g):n.push(g),r.length||(s=!0),!!r.length},o.end=function(){e?n.length?w():e(i=!0,r.length?r.shift():function(){}):r.length&&r.shift()(!0)},o.source=function(g,E){n.length?(E(null,n.shift()),n.length||o.emit("drain")):((i=i||g)?E(i):r.push(E),s&&(s=!1,o.emit("drain")))};var a;t&&(a=t(o.source)),a&&!e&&(e=a);var c=[],l=[],u=!1,d=!1,m=!1;if(o.sink=function(g){e=g,gS(w)},e){o.sink(e),o.paused=!0;var f=o.on.bind(o);o.on=(g,E)=>{var x=f(g,E);return g==="data"&&o.paused&&gS(o.resume.bind(o)),x};var h=o.pipe.bind(o);o.pipe=function(g,E){var x=h(g,E);return o.paused&&o.resume(),x}}function w(){if(d=!1,!(!e||m)){for(;c.length&&!o.paused;)o.emit("data",c.shift());if(!o.paused){if(u)return o.emit("end");m=!0,e(null,function g(E,x){m=!1,o.paused?(E===!0?u=E:E?o.emit("error",E):c.push(x),d=!0):E&&(i=E)!==!0?o.emit("error",E):(i=i||E)?o.emit("end"):(o.emit("data",x),m=!0,e(null,g))})}}}return o.pause=function(){return o.paused=!0,o},o.resume=function(){return o.paused=!1,w(),o},o.destroy=function(){!i&&e&&e(i=!0,function(){}),i=!0,r.length&&r.shift()(!0),o.emit("close")},o}});var yS=y((Qk,wS)=>{wS.exports=TT;function TT(t,e){typeof t=="function"&&(e=t,t=!1);var r=[],n,i;function s(d,m){d&&(n=d,i&&u(n)),i=m,l()}var o;function a(d){o=o||d||!0,l()}function c(d){if(!o){if(i){u(n,d);return}r.push(d)}}if(t)return{push:c,end:a,source:s,buffer:r};return s.push=c,s.end=a,s.buffer=r,s;function l(){i&&(n?u(n):!r.length&&o?u(o):r.length&&u(null,r.shift()))}function u(d,m){var f=i;if(d&&e){var h=e;e=null,h(d===!0?null:d)}i=null,f(d,m)}}});var $o=X(require("http"));async function Bo(t){return new Promise((e,r)=>{let n=[];t.setEncoding("utf8"),t.on("data",i=>n.push(i)),t.on("error",i=>r(i)),t.on("end",()=>{let i=JSON.parse(n.join(""));e(i)})})}async function Sn(t,e){return new Promise((r,n)=>{let s=$o.request({socketPath:t,path:"/",method:"POST"},o=>r(o));s.on("error",o=>n(o)),s.write(e),s.end()})}var OS=X(require("path"));async function qo(t){let e=`for pid in \`cd /proc && ls -d [0-9]*\`; do { echo $pid ; readlink /proc/$pid/cwd || echo ; readlink /proc/$pid/ns/mnt || echo ; cat /proc/$pid/stat | tr "
" " " ; echo ; cat /proc/$pid/environ | tr "
" " " ; echo ; cat < /proc/$pid/cmdline | tr "
" " " ; echo ; } ; echo --- ; done ; readlink /proc/self/ns/mnt 2>/dev/null`,{stdout:r}=await t.exec(e,{logOutput:!1}),n=6,i=r.split(`
---
`),s=i.pop().trim();return{processes:i.map(a=>a.split(`
`)).filter(a=>a.length>=n).map(([a,c,l,u,d,m])=>{let f=/.*\) [^ ]* ([^ ]*) ([^ ]*)/.exec(u)||[];return{pid:a,ppid:f[1],pgrp:f[2],cwd:c,mntNS:l,cmd:m.replace(/\0/g," "),env:d.split("\0").reduce((h,w)=>{let g=w.indexOf("=");return g!==-1&&(h[w.substr(0,g)]=w.substr(g+1)),h},{})}}),mntNS:s}}var Au=/VSCODE_REMOTE_CONTAINERS_SESSION=([^ ]+)/;async function xi(t){let{processes:e}=await qo(t);return e.filter(r=>r.env.VSCODE_REMOTE_CONTAINERS_SESSION||Au.test(r.cmd)).map(r=>({...r,sessionId:r.env.VSCODE_REMOTE_CONTAINERS_SESSION||Au.exec(r.cmd)[1]}))}var No=X(require("path")),LS=X(require("stream"));var Do=X(require("child_process")),Cu=require("string_decoder");var Fu=X(require("os")),xn=X(require("fs")),$u=X(require("path"));var Ze=(a=>(a[a.Trace=1]="Trace",a[a.Debug=2]="Debug",a[a.Info=3]="Info",a[a.Warning=4]="Warning",a[a.Error=5]="Error",a[a.Critical=6]="Critical",a[a.Off=7]="Off",a))(Ze||{}),ku={info:3,debug:2,trace:1},tN=Object.keys(ku).reduce((t,e)=>(t[ku[e]]=e,t),[]);var US=/(\x9B|\x1B\[)[0-?]*[ -\/]*[@-~]/g;function Bu(t,e){let r=!!e;return{event:n=>{r&&(r=!1,t.forEach(i=>i.event({type:"text",level:3,timestamp:Date.now(),text:e}))),t.forEach(i=>i.event(n))}}}function qu(t,e){let r=WS(t);return{event(n){let i=MS(n,e());i&&r.write(i)},join:r.join}}function Pt(t,e=2){return{event:t.event,write(r,n=e){t.event({type:"text",level:n,timestamp:Date.now(),text:r})},raw(r,n=e){t.event({type:"raw",level:n,timestamp:Date.now(),text:r})},start(r,n=e){let i=Date.now();return t.event({type:"start",level:n,timestamp:i,text:r}),i},stop(r,n,i=e){t.event({type:"stop",level:i,timestamp:Date.now(),text:r,startTimestamp:n})},get dimensions(){return t.dimensions},onDidChangeDimensions:t.onDidChangeDimensions}}function MS(t,e){if(!(!("level"in t)||t.level<e))switch(t.type){case"text":case"raw":return`[${new Date(t.timestamp).toISOString()}] ${Uo(t.text)}`;case"start":return`[${new Date(t.timestamp).toISOString()}] Start: ${Uo(t.text)}`;case"stop":return 2>=e?`[${new Date(t.timestamp).toISOString()}] Stop (${t.timestamp-t.startTimestamp} ms): ${Uo(t.text)}`:void 0;default:throw HS(t)}}function Uo(t){return t.replace(US,"").replace(/(\r?\n)?$/,Fu.EOL)}function HS(t){return new Error(`Unknown log event type: ${t.type}`)}function WS(t){let e=[],r=!1,n,i;function s(){r=!1,i&&!e.length&&(n=void 0,i(),i=void 0)}function o(a,c=!1){if(a&&e.push(a),!c&&!r&&e.length){r=!0;let l=e.join("");e.length=0,xn.appendFile(t,l,u=>{u&&(u.code==="ENOENT"?xn.mkdir($u.dirname(t),{recursive:!0},d=>{d?(s(),console.error(d)):xn.appendFile(t,l,m=>{s(),m&&console.error(m),o()})}):(s(),console.error(u))),s(),o()})}}return{write:o,join:()=>n||(r?n=new Promise(a=>i=a):Promise.resolve())}}function We(t){return t.split(/\r?\n/).map(e=>`\x1B[1m\x1B[31m${e}\x1B[39m\x1B[22m`).join(`\r
`)+`\r
`}var Uu;(function(t){t[t.lineFeed=10]="lineFeed",t[t.carriageReturn=13]="carriageReturn",t[t.space=32]="space",t[t._0=48]="_0",t[t._1=49]="_1",t[t._2=50]="_2",t[t._3=51]="_3",t[t._4=52]="_4",t[t._5=53]="_5",t[t._6=54]="_6",t[t._7=55]="_7",t[t._8=56]="_8",t[t._9=57]="_9",t[t.a=97]="a",t[t.b=98]="b",t[t.c=99]="c",t[t.d=100]="d",t[t.e=101]="e",t[t.f=102]="f",t[t.g=103]="g",t[t.h=104]="h",t[t.i=105]="i",t[t.j=106]="j",t[t.k=107]="k",t[t.l=108]="l",t[t.m=109]="m",t[t.n=110]="n",t[t.o=111]="o",t[t.p=112]="p",t[t.q=113]="q",t[t.r=114]="r",t[t.s=115]="s",t[t.t=116]="t",t[t.u=117]="u",t[t.v=118]="v",t[t.w=119]="w",t[t.x=120]="x",t[t.y=121]="y",t[t.z=122]="z",t[t.A=65]="A",t[t.B=66]="B",t[t.C=67]="C",t[t.D=68]="D",t[t.E=69]="E",t[t.F=70]="F",t[t.G=71]="G",t[t.H=72]="H",t[t.I=73]="I",t[t.J=74]="J",t[t.K=75]="K",t[t.L=76]="L",t[t.M=77]="M",t[t.N=78]="N",t[t.O=79]="O",t[t.P=80]="P",t[t.Q=81]="Q",t[t.R=82]="R",t[t.S=83]="S",t[t.T=84]="T",t[t.U=85]="U",t[t.V=86]="V",t[t.W=87]="W",t[t.X=88]="X",t[t.Y=89]="Y",t[t.Z=90]="Z",t[t.asterisk=42]="asterisk",t[t.backslash=92]="backslash",t[t.closeBrace=125]="closeBrace",t[t.closeBracket=93]="closeBracket",t[t.colon=58]="colon",t[t.comma=44]="comma",t[t.dot=46]="dot",t[t.doubleQuote=34]="doubleQuote",t[t.minus=45]="minus",t[t.openBrace=123]="openBrace",t[t.openBracket=91]="openBracket",t[t.plus=43]="plus",t[t.slash=47]="slash",t[t.formFeed=12]="formFeed",t[t.tab=9]="tab"})(Uu||(Uu={}));var zS=new Array(20).fill(0).map((t,e)=>" ".repeat(e)),Lr=200,VS={" ":{"\n":new Array(Lr).fill(0).map((t,e)=>`
`+" ".repeat(e)),"\r":new Array(Lr).fill(0).map((t,e)=>"\r"+" ".repeat(e)),"\r\n":new Array(Lr).fill(0).map((t,e)=>`\r
`+" ".repeat(e))},"	":{"\n":new Array(Lr).fill(0).map((t,e)=>`
`+"	".repeat(e)),"\r":new Array(Lr).fill(0).map((t,e)=>"\r"+"	".repeat(e)),"\r\n":new Array(Lr).fill(0).map((t,e)=>`\r
`+"	".repeat(e))}};var Hu;(function(t){t.DEFAULT={allowTrailingComma:!1}})(Hu||(Hu={}));var Wu;(function(t){t[t.None=0]="None",t[t.UnexpectedEndOfComment=1]="UnexpectedEndOfComment",t[t.UnexpectedEndOfString=2]="UnexpectedEndOfString",t[t.UnexpectedEndOfNumber=3]="UnexpectedEndOfNumber",t[t.InvalidUnicode=4]="InvalidUnicode",t[t.InvalidEscapeCharacter=5]="InvalidEscapeCharacter",t[t.InvalidCharacter=6]="InvalidCharacter"})(Wu||(Wu={}));var Gu;(function(t){t[t.OpenBraceToken=1]="OpenBraceToken",t[t.CloseBraceToken=2]="CloseBraceToken",t[t.OpenBracketToken=3]="OpenBracketToken",t[t.CloseBracketToken=4]="CloseBracketToken",t[t.CommaToken=5]="CommaToken",t[t.ColonToken=6]="ColonToken",t[t.NullKeyword=7]="NullKeyword",t[t.TrueKeyword=8]="TrueKeyword",t[t.FalseKeyword=9]="FalseKeyword",t[t.StringLiteral=10]="StringLiteral",t[t.NumericLiteral=11]="NumericLiteral",t[t.LineCommentTrivia=12]="LineCommentTrivia",t[t.BlockCommentTrivia=13]="BlockCommentTrivia",t[t.LineBreakTrivia=14]="LineBreakTrivia",t[t.Trivia=15]="Trivia",t[t.Unknown=16]="Unknown",t[t.EOF=17]="EOF"})(Gu||(Gu={}));var ju;(function(t){t[t.InvalidSymbol=1]="InvalidSymbol",t[t.InvalidNumberFormat=2]="InvalidNumberFormat",t[t.PropertyNameExpected=3]="PropertyNameExpected",t[t.ValueExpected=4]="ValueExpected",t[t.ColonExpected=5]="ColonExpected",t[t.CommaExpected=6]="CommaExpected",t[t.CloseBraceExpected=7]="CloseBraceExpected",t[t.CloseBracketExpected=8]="CloseBracketExpected",t[t.EndOfFileExpected=9]="EndOfFileExpected",t[t.InvalidCommentToken=10]="InvalidCommentToken",t[t.UnexpectedEndOfComment=11]="UnexpectedEndOfComment",t[t.UnexpectedEndOfString=12]="UnexpectedEndOfString",t[t.UnexpectedEndOfNumber=13]="UnexpectedEndOfNumber",t[t.InvalidUnicode=14]="InvalidUnicode",t[t.InvalidEscapeCharacter=15]="InvalidEscapeCharacter",t[t.InvalidCharacter=16]="InvalidCharacter"})(ju||(ju={}));var SS=X(Fc());var DT=X(jn());var l_=X(require("path")),Wc=require("string_decoder");var Ve="\u2404";async function Gt(t,e,r,n="linux",i="Container"){let s=typeof t=="function",o=n==="win32",a=r?{VSCODE_REMOTE_CONTAINERS_SESSION:r}:{},c=s?await t({env:o?Gc(a):a,cmd:o?"powershell":"/bin/sh",args:o?["-NoProfile","-Command","-"]:[],output:e}):t;if(!s){let f=o?`powershell -NoProfile -Command "powershell -NoProfile -Command -"
`:`/bin/sh -c 'echo ${Ve}; /bin/sh'
`;c.stdin.write(f),await new Promise(w=>{let g="",E=new Wc.StringDecoder;c.stdout.on("data",function x(p){g+=E.write(p),g.includes(f)&&(c.stdout.off("data",x),w())})})}let l=u_(c),u;async function d(f,h){let w=u=(async()=>{try{await u}catch{}return m(zn(n,f),h)})();try{return await Promise.race([w,l.unexpectedExit])}finally{l.disposeStdioListeners(),u===w&&(u=void 0)}}async function m(f,h){let w=`Run in ${i.toLowerCase()}: ${f.replace(/\n.*/g,"")}`,g;if((h==null?void 0:h.logOutput)!=="silent"&&(g=e.start(w,h==null?void 0:h.logLevel)),c.stdin.destroyed){e.write("Stdin closed!");let{code:C,signal:D}=await c.exit;return Promise.reject({message:`Shell server terminated (code: ${C}, signal: ${D})`,code:C,signal:D})}n==="win32"?c.stdin.write(`[Console]::Write('${Ve}'); ( ${f} ); [Console]::Write("${Ve}$LastExitCode ${Ve}"); [Console]::Error.Write('${Ve}')
`):c.stdin.write(`echo -n ${Ve}; ( ${f} ); echo -n ${Ve}$?${Ve}; echo -n ${Ve} >&2
`);let[E,x]=am(c.stdout,[1,2],(h==null?void 0:h.logOutput)==="continuous"?(C,D,P)=>{D===1&&P===0&&e.write(C,h==null?void 0:h.logLevel)}:()=>{}),p=am(c.stderr,[1],(h==null?void 0:h.logOutput)==="continuous"?(C,D,P)=>{D===0&&P===0&&e.write(C,h==null?void 0:h.logLevel)}:()=>{})[0];h!=null&&h.stdin&&(await E,c.stdin.write(h==null?void 0:h.stdin));let[S,v]=await x,[b]=await p,_=parseInt(v,10)||0;return((h==null?void 0:h.logOutput)===void 0||(h==null?void 0:h.logOutput)===!0)&&(e.write(S,h==null?void 0:h.logLevel),e.write(b,h==null?void 0:h.logLevel),_&&e.write(`Exit code ${_}`,h==null?void 0:h.logLevel)),(h==null?void 0:h.logOutput)==="continuous"&&_&&e.write(`Exit code ${_}`,h==null?void 0:h.logLevel),(h==null?void 0:h.logOutput)!=="silent"&&e.stop(w,g,h==null?void 0:h.logLevel),_?Promise.reject({message:`Command in ${i.toLowerCase()} failed: ${f}`,code:_,stdout:S,stderr:b}):{stdout:S,stderr:b}}return{exec:d,process:c,platform:n,path:zn(n,l_)}}function am(t,e,r){let n=e.map(()=>{let u;return{promise:new Promise((m,f)=>u={resolve:m,reject:f}),...u}}),i=new Wc.StringDecoder("utf8"),s=[],o=0,a=[];function c(u){let d=i.write(u);l(d)}function l(u){let d=u.indexOf(Ve);if(d!==-1){let m=u.substr(0,d);s.push(m),r(m,o,a.length),a.push(s.join("")),s.length=0,a.length===e[o]&&(n[o].resolve(a),o++,a=[],o===e.length&&t.off("data",c)),d+1<u.length&&l(u.substr(d+1))}else s.push(u),r(u,o,a.length)}return t.on("data",c),n.map(u=>u.promise)}function u_(t){let e,r=new Promise((c,l)=>e=l),n=[],i=[],s=c=>n.push(c),o=c=>i.push(c);return t.stdout.on("data",s),t.stderr.on("data",o),t.exit.then(({code:c,signal:l})=>{e(`Shell server terminated (code: ${c}, signal: ${l})
${Buffer.concat(n).toString()}
${Buffer.concat(i).toString()}`)},c=>{e(`Shell server failed: ${c&&(c.stack||c.message)}`)}),{unexpectedExit:r,disposeStdioListeners:()=>{t.stdout.off("data",s),t.stderr.off("data",o),n.length=0,i.length=0}}}var MC=X(bm());var yo=X(Fc());var HC=X(hE());var WC=X(zE()),GC=X(Hw());var Z=X(require("fs")),ct=require("util");var mi=(0,ct.promisify)(Z.readFile),SC=(0,ct.promisify)(Z.writeFile),D1=(0,ct.promisify)(Z.appendFile),Ww=(0,ct.promisify)(Z.rename),Gw=(0,ct.promisify)(Z.readdir),xC=(0,ct.promisify)(Z.unlink);var vC=(0,ct.promisify)(Z.rmdir),jw=(0,ct.promisify)(Z.rm),O1=(0,ct.promisify)(Z.copyFile);var OC=X(cy());async function vr(t){return new Promise(e=>setTimeout(e,t))}var Me=X(require("path")),my=X(require("fs"));async function So(t,e=process.cwd(),r=process.env){if(process.platform!=="win32")return t;if(Me.isAbsolute(t))return await fu(t)||t;if(/[/\\]/.test(t)){let o=Me.join(e,t);return await fu(o)||o}let n,i;if(r){for(let o of Object.keys(r))if(o.toLowerCase()==="path"){let a=r[o];typeof a=="string"&&(n=a,i=a.split(Me.delimiter).filter(Boolean),i.push(Me.join(r.ProgramW6432||"C:\\Program Files","Docker\\Docker\\resources\\bin")));break}}if(i===void 0||i.length===0){let o=new Error(`No PATH to look up executable '${t}'.`);throw o.code="ENOENT",o}for(let o of i){let a;Me.isAbsolute(o)?a=Me.join(o,t):a=Me.join(e,o,t);let c=await fu(a);if(c)return c}let s=new Error(`Exectuable '${t}' not found on PATH '${n}'.`);throw s.code="ENOENT",s}var dy=process.env.PATHEXT,hy=dy?dy.toLowerCase().split(";"):[".com",".exe",".bat",".cmd"];async function fu(t){if(hy.indexOf(Me.extname(t))!==-1)return await py(t)?t:void 0;for(let e of hy){let r=t+e;if(await py(r))return r}}function py(t){return new Promise(e=>my.stat(t,(r,n)=>e(!r&&n.isFile())))}var zF=dS(),VF=_u(),YF=ES(),JF=yS();var e$=_u();var _S=/^\\\\wsl(\.localhost|\$)?\\/;function To(t){return _S.test(t.toLowerCase())}function Lu(t){let e=t.toLowerCase(),r=_S.exec(e);if(!r)return"";let n=e.indexOf("\\",r[0].length);return t.substring(r[0].length,n)}async function Ru(t,e,r){let{stdout:n}=await we({exec:En(void 0),cmd:"wsl",args:["-d",t,"-e","wslpath","-u",e],output:r}),i=n.toString().trim();if(i.startsWith("/mnt/wsl/")&&e.match(/^[a-zA-Z]:/)){let s=`/mnt/${e[0].toLowerCase()}${e.substring(2).replace(/\\/g,"/")}`;try{return await we({exec:En(void 0),cmd:"wsl",args:["-d",t,"-e","test","-e",s],output:r}),s}catch(o){(o==null?void 0:o.code)!==1&&r.write(`Error checking WSL path: ${(o==null?void 0:o.stack)||(o==null?void 0:o.message)||o}`)}}return i}function Pu(t){return t.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}var EB=No.join(__dirname,"..","..","node_modules",".bin","ts-node"),fy=No.basename(process.argv[0])==="ts-node"||process.argv.indexOf("ts-node/register")!==-1;async function we(t){let{exec:e,cmd:r,args:n,cwd:i,env:s,stdin:o,output:a,print:c}=t,l=await e({cmd:r,args:n,cwd:i,env:s,output:a});return new Promise((u,d)=>{let m=[],f=[],h=c==="continuous"?new Cu.StringDecoder:void 0;l.stdout.on("data",E=>{m.push(E),c==="continuous"&&a.write(h.write(E))}),l.stdout.on("error",E=>{if((E==null?void 0:E.code)!=="ENOTCONN")throw E});let w=c==="continuous"?new Cu.StringDecoder:void 0;l.stderr.on("data",E=>{f.push(E),c==="continuous"&&a.write(We(w.write(E)))}),l.stderr.on("error",E=>{if((E==null?void 0:E.code)!=="ENOTCONN")throw E});let g=[];l.exit.then(({code:E})=>{try{g.forEach(S=>S.dispose());let x=Buffer.concat(m),p=Buffer.concat(f);(c===!0||E&&c==="onerror")&&(a.write(x.toString().replace(/\r?\n/g,`\r
`)),a.write(We(p.toString()))),c&&E&&a.write(`Exit code ${E}`),E?d({message:`Command failed: ${r} ${(n||[]).join(" ")}`,stdout:x,stderr:p,code:E}):u({stdout:x,stderr:p})}catch(x){d(x)}},E=>{c&&(E!=null&&E.message)&&a.write(We(E==null?void 0:E.message)),d(E)}),o instanceof Buffer?(l.stdin.write(o,E=>{E&&d(E)}),l.stdin.end()):o instanceof LS.Readable?o.pipe(l.stdin):typeof o=="function"&&g.push(o(E=>l.stdin.write(E)))})}function En(t){return async function(e){let{cmd:r,args:n,output:i}=e,s=`Run: ${r} ${(n||[]).join(" ").replace(/\n.*/g,"")}`,o=i.start(s),a=e.cwd||t,c=e.env?{...process.env,...e.env}:process.env,l=await So(r,a,c),u=Do.spawn(l,n,{cwd:a,env:c,windowsHide:!0});return{stdin:u.stdin,stdout:u.stdout,stderr:u.stderr,exit:new Promise((d,m)=>{u.once("error",f=>{i.stop(s,o),m(f)}),u.once("close",(f,h)=>{i.stop(s,o),d({code:f,signal:h})})}),async terminate(){u.kill("SIGKILL")}}}}function Iu(t,e,r,n){return async function(i){let{env:s,cmd:o,args:a,output:c}=i,l=i.cwd||r,u=l?`cd '${l}' && `:"",d=Object.keys(s||{}).map(S=>s[S]===void 0?"":`${S}='${s[S]}' `).join(""),m=(a||[]).map(S=>` '${S.replace(/'/g,`'"'"'`)}'`).join(""),f=`${u}${d}${o}${m}`,h=f!==o?["/bin/sh","-c",f]:[f],w=[...e,...h],g=`Run: ${t} ${w.join(" ").replace(/\n.*/g,"")}`,E=c.start(g),x=await So(t,process.cwd(),process.env),p=Do.spawn(x,w,{windowsHide:!0,env:n?{...process.env,...n}:void 0});return{stdin:p.stdin,stdout:p.stdout,stderr:p.stderr,exit:new Promise((S,v)=>{p.once("error",b=>{c.stop(g,E),v(b)}),p.once("close",(b,_)=>{c.stop(g,E),S({code:b,signal:_})})}),async terminate(){p.kill("SIGKILL")}}}}async function yn(t,e){if(To(t)){let r=Lu(t),n=await Ru(r,t,e);return Iu("wsl",["-d",r,"-e"],n)}return En(t)}function zn(t,e){return e&&typeof e=="object"&&"win32"in e?t==="win32"?e.win32:e.posix:e}function Gc(t){return t?{...t,PSModulePath:void 0}:{PSModulePath:void 0}}var kT=0;function Oo(t){return t.VSCODE_SSH_ASKPASS_HANDLE?{VSCODE_SSH_ASKPASS_COUNTER:String(++kT)}:{}}async function wi(t,e){var i;let r,n;try{for(let s=0,o=7;s<o;s++)try{return await yi(t,"rm","-f",e)}catch(a){let c=((i=a==null?void 0:a.stderr)==null?void 0:i.toString().toLowerCase())||"";if(s===o-1||!c.includes("already in progress"))throw a;n||(r=await FT(t,{container:[e],event:["destroy"]}),n=new Promise(l=>{r.stdout.on("data",()=>{l(),r.terminate(),n=new Promise(()=>{})})})),await Promise.race([n,vr(1e3)])}}finally{r&&r.terminate()}throw new Error("Unreachable")}async function FT(t,e){let{exec:r,cmd:n,args:i,env:s,output:o}=Ao(t),a=[];for(let m in e)for(let f of e[m])a.push("--filter",`${m}=${f}`);let c="isPodman"in t&&t.isPodman?"json":"{{json .}}",l=(i||[]).concat(["events","--format",c,...a]),u=await r({cmd:n,args:l,env:s,output:o}),d=[];return u.stderr.on("data",m=>d.push(m)),u.exit.then(({code:m,signal:f})=>{d.length&&o.write(We(Buffer.concat(d).toString())),(m||f&&f!=="SIGKILL")&&o.write(We(`Docker events terminated (code: ${m}, signal: ${f}).`))},m=>{o.write(We(m&&(m.stack||m.message)))}),u}async function yi(t,...e){let r=Ao(t);return we({...r,args:(r.args||[]).concat(e)})}async function RS(t,...e){let r=Ao(t,"dockerComposeCLI"in t?await t.dockerComposeCLI():void 0);return we({...r,args:(r.args||[]).concat(e)})}function Si(t,e,r){return async function(n){let{exec:i,cmd:s,args:o,env:a}=Ao(t),{argsPrefix:c,args:l}=qT(e,r,n,!1);return i({cmd:s,args:(o||[]).concat(l),env:a,output:$T(n.output,s,c)})}}function $T(t,e,r){return BT(t,`Run: ${e} ${(r||[]).join(" ").replace(/\n.*/g,"")}`,"Run in container:")}function BT(t,e,r){let n=new RegExp(Pu(e),"g");return Pt({...t,get dimensions(){return t.dimensions},event:s=>t.event("text"in s?{...s,text:s.text.replace(n,r)}:s)})}function qT(t,e,r,n){let{env:i,cwd:s,cmd:o,args:a}=r,c=["exec","-i"];n&&c.push("-t"),e&&c.push("-u",e),i&&Object.keys(i).forEach(u=>c.push("-e",`${u}=${i[u]}`)),s&&c.push("-w",s),c.push(t);let l=c.slice();return c.push(o),a&&c.push(...a),{argsPrefix:l,args:c}}function Ao(t,e){return"dockerEnv"in t?{exec:t.common.cliHost.exec,cmd:e?e.cmd:t.dockerCLI,args:e?e.args:[],env:{...t.dockerEnv,...Oo(t.dockerEnv)},output:t.common.output}:"cliHost"in t?{exec:t.cliHost.exec,cmd:e?e.cmd:t.dockerCLI,args:e?e.args:[],env:{...t.env,...Oo(t.env)},output:t.output}:{...t,env:{...t.env,...Oo(t.env)}}}async function IS(t,e){let r={exec:await yn(t.cwd,e),cmd:t.dockerCLI,env:t.env,output:e};if(t.rebuild){let{stdout:n,stderr:i}=await wi(r,t.containerId);e.write("Command output: "+JSON.stringify({stdout:n.toString(),stderr:i.toString()}))}else if(!t.shutdownAction||t.shutdownAction==="stopCompose"){let n=Si(r,t.containerId,t.user),i=await Gt(n,e);if((await xi(i)).filter(o=>o.sessionId!==t.sessionId).length===0){let o=["--project-name",t.projectName];t.composeFiles.forEach(c=>o.push("-f",c)),t.envFile&&o.push("--env-file",t.envFile),o.push("stop","-t","0"),t.runServices&&t.runServices.length&&(o.push(...t.runServices),t.runServices.indexOf(t.service)===-1&&o.push(t.service));let a;try{let c={...r,cmd:t.dockerComposeCLI.cmd,args:t.dockerComposeCLI.args};if(t.buildContainerRunArgs){let{stdout:d}=await yi(r,...t.buildContainerRunArgs);a=d.toString().trim(),c={exec:Si(r,a,"root"),cmd:"docker",args:["compose"],env:{},output:e}}let{stdout:l,stderr:u}=await RS(c,...o);e.write("Command output: "+JSON.stringify({stdout:l.toString(),stderr:u.toString()}))}finally{a&&await wi(r,a)}}}}async function PS(t,e){let r={exec:await yn(t.cwd,e),cmd:t.dockerCLI,env:t.env,output:e};if(t.rebuild){let{stdout:n,stderr:i}=await wi(r,t.containerId);e.write("Command output: "+JSON.stringify({stdout:n.toString(),stderr:i.toString()}))}else if(!t.shutdownAction||t.shutdownAction==="stopContainer"){let n=Si(r,t.containerId,t.user),i=await Gt(n,e);if((await xi(i)).filter(o=>o.sessionId!==t.sessionId).length===0){let{stdout:o,stderr:a}=await yi(r,"stop",t.containerId);e.write("Command output: "+JSON.stringify({stdout:o.toString(),stderr:a.toString()}))}}}var ko=process.argv[2],CS=process.argv[3],Tu=Ze[process.argv[4]]||3,UT=new Date(parseInt(process.argv[6],10)),TS=process.argv[5]?OS.join(process.argv[5],`shutdownMonitor-${UT.toISOString().replace(/:/g,"-")}.log`):void 0,Nu=[],NS=TS?qu(TS,()=>Math.min(2,Tu)):void 0;NS&&Nu.push(NS);Nu.push({event:t=>{1>=Tu&&Sn(ko,JSON.stringify({type:"log",event:t})).catch(e=>{console.error(e)})}});var se=Pt(Bu(Nu));se.write("Starting monitor process...");var MT=Date.now(),Ne;(async()=>{let t=0;for(;;)try{let e=await Sn(ko,JSON.stringify({type:"poll"})),r=await Bo(e);se.write("Received message: "+JSON.stringify(r));for(let n of r)if(n.type==="cleanup"){try{await DS(!0)}catch(i){se.write("Unexpected error: "+(i&&(i.stack||i.message)||String(i)))}return}else n.type==="configure"&&(Ne=n.options,Ne.logLevel&&(Tu=Ne.logLevel),Sn(ko,JSON.stringify({type:"reply",sequence:n.sequence})).catch(i=>{se.write("Error confirming configuration: "+(i&&(i.stack||i.message)||String(i)))}));t=0}catch(e){if(se.write("Error polling extension: "+(e&&(e.stack||e.message)||String(e))),e&&(e.code==="ECONNREFUSED"||e.code==="ENOENT")){await DS(!1);return}++t>=5&&await vr(1e3)}})().catch(t=>{se.write("Unexpected error: "+(t&&(t.stack||t.message)||String(t)))});async function DS(t){if(se.write(`Cleaning up after ${Date.now()-MT} ms...`),Ne)switch(Ne.delay&&(se.write(`Delaying for ${Ne.delay} ms.`),await vr(Ne.delay)),CS){case"dockerCompose":await IS(Ne,se);break;case"singleContainer":await PS(Ne,se);break;case"test":let{stdout:e,stderr:r}=await we({exec:await yn(Ne.cwd,se),cmd:Ne.cmd,args:Ne.args,env:Ne.env,output:se});se.write("Command output: "+JSON.stringify({stdout:e.toString(),stderr:r.toString()}));break;default:se.write(`Type does not exist: ${CS}`);break}else se.write("Not configured!");if(se.write("Done."),t)try{let e=await Sn(ko,JSON.stringify({type:"done"})),r=await Bo(e);se.write("Received reply: "+JSON.stringify(r))}catch(e){se.write("Error confirming to extension: "+(e&&(e.stack||e.message)||String(e)))}}
//# sourceMappingURL=shutdownMonitorProcess.js.map
